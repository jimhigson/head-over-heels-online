const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browserAll-BGUUF6sF.js","assets/webworkerAll-CAd1IxnV.js","assets/Graphics-D0ZfUK95.js","assets/colorToUniform-KTpA7KSL.js","assets/Cheats-ArTvhZeT.js","assets/changeCharacterRoom-Cxuyq4g_.js","assets/gameMain-3NYNeqwS.js"])))=>i.map(i=>d[i]);
function zS(n,t){for(var r=0;r<t.length;r++){const s=t[r];if(typeof s!="string"&&!Array.isArray(s)){for(const l in s)if(l!=="default"&&!(l in n)){const u=Object.getOwnPropertyDescriptor(s,l);u&&Object.defineProperty(n,l,u.get?u:{enumerable:!0,get:()=>s[l]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function r(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=r(l);fetch(l.href,u)}})();function vn(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Bh={exports:{}},za={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zy;function OS(){if(Zy)return za;Zy=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(s,l,u){var c=null;if(u!==void 0&&(c=""+u),l.key!==void 0&&(c=""+l.key),"key"in l){u={};for(var h in l)h!=="key"&&(u[h]=l[h])}else u=l;return l=u.ref,{$$typeof:n,type:s,key:c,ref:l!==void 0?l:null,props:u}}return za.Fragment=t,za.jsx=r,za.jsxs=r,za}var Jy;function BS(){return Jy||(Jy=1,Bh.exports=OS()),Bh.exports}var M=BS(),jh={exports:{}},wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tx;function jS(){if(tx)return wt;tx=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function v(_){return _===null||typeof _!="object"?null:(_=y&&_[y]||_["@@iterator"],typeof _=="function"?_:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,E={};function w(_,C,N){this.props=_,this.context=C,this.refs=E,this.updater=N||b}w.prototype.isReactComponent={},w.prototype.setState=function(_,C){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,C,"setState")},w.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function R(){}R.prototype=w.prototype;function k(_,C,N){this.props=_,this.context=C,this.refs=E,this.updater=N||b}var D=k.prototype=new R;D.constructor=k,T(D,w.prototype),D.isPureReactComponent=!0;var P=Array.isArray,I={H:null,A:null,T:null,S:null},G=Object.prototype.hasOwnProperty;function V(_,C,N,L,F,J){return N=J.ref,{$$typeof:n,type:_,key:C,ref:N!==void 0?N:null,props:J}}function et(_,C){return V(_.type,C,void 0,void 0,void 0,_.props)}function W(_){return typeof _=="object"&&_!==null&&_.$$typeof===n}function $(_){var C={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(N){return C[N]})}var rt=/\/+/g;function it(_,C){return typeof _=="object"&&_!==null&&_.key!=null?$(""+_.key):C.toString(36)}function gt(){}function bt(_){switch(_.status){case"fulfilled":return _.value;case"rejected":throw _.reason;default:switch(typeof _.status=="string"?_.then(gt,gt):(_.status="pending",_.then(function(C){_.status==="pending"&&(_.status="fulfilled",_.value=C)},function(C){_.status==="pending"&&(_.status="rejected",_.reason=C)})),_.status){case"fulfilled":return _.value;case"rejected":throw _.reason}}throw _}function jt(_,C,N,L,F){var J=typeof _;(J==="undefined"||J==="boolean")&&(_=null);var nt=!1;if(_===null)nt=!0;else switch(J){case"bigint":case"string":case"number":nt=!0;break;case"object":switch(_.$$typeof){case n:case t:nt=!0;break;case g:return nt=_._init,jt(nt(_._payload),C,N,L,F)}}if(nt)return F=F(_),nt=L===""?"."+it(_,0):L,P(F)?(N="",nt!=null&&(N=nt.replace(rt,"$&/")+"/"),jt(F,C,N,"",function(mt){return mt})):F!=null&&(W(F)&&(F=et(F,N+(F.key==null||_&&_.key===F.key?"":(""+F.key).replace(rt,"$&/")+"/")+nt)),C.push(F)),1;nt=0;var ct=L===""?".":L+":";if(P(_))for(var st=0;st<_.length;st++)L=_[st],J=ct+it(L,st),nt+=jt(L,C,N,J,F);else if(st=v(_),typeof st=="function")for(_=st.call(_),st=0;!(L=_.next()).done;)L=L.value,J=ct+it(L,st++),nt+=jt(L,C,N,J,F);else if(J==="object"){if(typeof _.then=="function")return jt(bt(_),C,N,L,F);throw C=String(_),Error("Objects are not valid as a React child (found: "+(C==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":C)+"). If you meant to render a collection of children, use an array instead.")}return nt}function S(_,C,N){if(_==null)return _;var L=[],F=0;return jt(_,L,"","",function(J){return C.call(N,J,F++)}),L}function z(_){if(_._status===-1){var C=_._result;C=C(),C.then(function(N){(_._status===0||_._status===-1)&&(_._status=1,_._result=N)},function(N){(_._status===0||_._status===-1)&&(_._status=2,_._result=N)}),_._status===-1&&(_._status=0,_._result=C)}if(_._status===1)return _._result.default;throw _._result}var j=typeof reportError=="function"?reportError:function(_){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var C=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof _=="object"&&_!==null&&typeof _.message=="string"?String(_.message):String(_),error:_});if(!window.dispatchEvent(C))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",_);return}console.error(_)};function B(){}return wt.Children={map:S,forEach:function(_,C,N){S(_,function(){C.apply(this,arguments)},N)},count:function(_){var C=0;return S(_,function(){C++}),C},toArray:function(_){return S(_,function(C){return C})||[]},only:function(_){if(!W(_))throw Error("React.Children.only expected to receive a single React element child.");return _}},wt.Component=w,wt.Fragment=r,wt.Profiler=l,wt.PureComponent=k,wt.StrictMode=s,wt.Suspense=d,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,wt.act=function(){throw Error("act(...) is not supported in production builds of React.")},wt.cache=function(_){return function(){return _.apply(null,arguments)}},wt.cloneElement=function(_,C,N){if(_==null)throw Error("The argument must be a React element, but you passed "+_+".");var L=T({},_.props),F=_.key,J=void 0;if(C!=null)for(nt in C.ref!==void 0&&(J=void 0),C.key!==void 0&&(F=""+C.key),C)!G.call(C,nt)||nt==="key"||nt==="__self"||nt==="__source"||nt==="ref"&&C.ref===void 0||(L[nt]=C[nt]);var nt=arguments.length-2;if(nt===1)L.children=N;else if(1<nt){for(var ct=Array(nt),st=0;st<nt;st++)ct[st]=arguments[st+2];L.children=ct}return V(_.type,F,void 0,void 0,J,L)},wt.createContext=function(_){return _={$$typeof:c,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null},_.Provider=_,_.Consumer={$$typeof:u,_context:_},_},wt.createElement=function(_,C,N){var L,F={},J=null;if(C!=null)for(L in C.key!==void 0&&(J=""+C.key),C)G.call(C,L)&&L!=="key"&&L!=="__self"&&L!=="__source"&&(F[L]=C[L]);var nt=arguments.length-2;if(nt===1)F.children=N;else if(1<nt){for(var ct=Array(nt),st=0;st<nt;st++)ct[st]=arguments[st+2];F.children=ct}if(_&&_.defaultProps)for(L in nt=_.defaultProps,nt)F[L]===void 0&&(F[L]=nt[L]);return V(_,J,void 0,void 0,null,F)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(_){return{$$typeof:h,render:_}},wt.isValidElement=W,wt.lazy=function(_){return{$$typeof:g,_payload:{_status:-1,_result:_},_init:z}},wt.memo=function(_,C){return{$$typeof:m,type:_,compare:C===void 0?null:C}},wt.startTransition=function(_){var C=I.T,N={};I.T=N;try{var L=_(),F=I.S;F!==null&&F(N,L),typeof L=="object"&&L!==null&&typeof L.then=="function"&&L.then(B,j)}catch(J){j(J)}finally{I.T=C}},wt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},wt.use=function(_){return I.H.use(_)},wt.useActionState=function(_,C,N){return I.H.useActionState(_,C,N)},wt.useCallback=function(_,C){return I.H.useCallback(_,C)},wt.useContext=function(_){return I.H.useContext(_)},wt.useDebugValue=function(){},wt.useDeferredValue=function(_,C){return I.H.useDeferredValue(_,C)},wt.useEffect=function(_,C){return I.H.useEffect(_,C)},wt.useId=function(){return I.H.useId()},wt.useImperativeHandle=function(_,C,N){return I.H.useImperativeHandle(_,C,N)},wt.useInsertionEffect=function(_,C){return I.H.useInsertionEffect(_,C)},wt.useLayoutEffect=function(_,C){return I.H.useLayoutEffect(_,C)},wt.useMemo=function(_,C){return I.H.useMemo(_,C)},wt.useOptimistic=function(_,C){return I.H.useOptimistic(_,C)},wt.useReducer=function(_,C,N){return I.H.useReducer(_,C,N)},wt.useRef=function(_){return I.H.useRef(_)},wt.useState=function(_){return I.H.useState(_)},wt.useSyncExternalStore=function(_,C,N){return I.H.useSyncExternalStore(_,C,N)},wt.useTransition=function(){return I.H.useTransition()},wt.version="19.0.0",wt}var ex;function xr(){return ex||(ex=1,jh.exports=jS()),jh.exports}var lt=xr();const DS=vn(lt),NS=zS({__proto__:null,default:DS},[lt]);var Dh={exports:{}},Oa={},Nh={exports:{}},Hh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nx;function HS(){return nx||(nx=1,function(n){function t(S,z){var j=S.length;S.push(z);t:for(;0<j;){var B=j-1>>>1,_=S[B];if(0<l(_,z))S[B]=z,S[j]=_,j=B;else break t}}function r(S){return S.length===0?null:S[0]}function s(S){if(S.length===0)return null;var z=S[0],j=S.pop();if(j!==z){S[0]=j;t:for(var B=0,_=S.length,C=_>>>1;B<C;){var N=2*(B+1)-1,L=S[N],F=N+1,J=S[F];if(0>l(L,j))F<_&&0>l(J,L)?(S[B]=J,S[F]=j,B=F):(S[B]=L,S[N]=j,B=N);else if(F<_&&0>l(J,j))S[B]=J,S[F]=j,B=F;else break t}}return z}function l(S,z){var j=S.sortIndex-z.sortIndex;return j!==0?j:S.id-z.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var d=[],m=[],g=1,y=null,v=3,b=!1,T=!1,E=!1,w=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function D(S){for(var z=r(m);z!==null;){if(z.callback===null)s(m);else if(z.startTime<=S)s(m),z.sortIndex=z.expirationTime,t(d,z);else break;z=r(m)}}function P(S){if(E=!1,D(S),!T)if(r(d)!==null)T=!0,bt();else{var z=r(m);z!==null&&jt(P,z.startTime-S)}}var I=!1,G=-1,V=5,et=-1;function W(){return!(n.unstable_now()-et<V)}function $(){if(I){var S=n.unstable_now();et=S;var z=!0;try{t:{T=!1,E&&(E=!1,R(G),G=-1),b=!0;var j=v;try{e:{for(D(S),y=r(d);y!==null&&!(y.expirationTime>S&&W());){var B=y.callback;if(typeof B=="function"){y.callback=null,v=y.priorityLevel;var _=B(y.expirationTime<=S);if(S=n.unstable_now(),typeof _=="function"){y.callback=_,D(S),z=!0;break e}y===r(d)&&s(d),D(S)}else s(d);y=r(d)}if(y!==null)z=!0;else{var C=r(m);C!==null&&jt(P,C.startTime-S),z=!1}}break t}finally{y=null,v=j,b=!1}z=void 0}}finally{z?rt():I=!1}}}var rt;if(typeof k=="function")rt=function(){k($)};else if(typeof MessageChannel<"u"){var it=new MessageChannel,gt=it.port2;it.port1.onmessage=$,rt=function(){gt.postMessage(null)}}else rt=function(){w($,0)};function bt(){I||(I=!0,rt())}function jt(S,z){G=w(function(){S(n.unstable_now())},z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(S){S.callback=null},n.unstable_continueExecution=function(){T||b||(T=!0,bt())},n.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<S?Math.floor(1e3/S):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return r(d)},n.unstable_next=function(S){switch(v){case 1:case 2:case 3:var z=3;break;default:z=v}var j=v;v=z;try{return S()}finally{v=j}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(S,z){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var j=v;v=S;try{return z()}finally{v=j}},n.unstable_scheduleCallback=function(S,z,j){var B=n.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?B+j:B):j=B,S){case 1:var _=-1;break;case 2:_=250;break;case 5:_=1073741823;break;case 4:_=1e4;break;default:_=5e3}return _=j+_,S={id:g++,callback:z,priorityLevel:S,startTime:j,expirationTime:_,sortIndex:-1},j>B?(S.sortIndex=j,t(m,S),r(d)===null&&S===r(m)&&(E?(R(G),G=-1):E=!0,jt(P,j-B))):(S.sortIndex=_,t(d,S),T||b||(T=!0,bt())),S},n.unstable_shouldYield=W,n.unstable_wrapCallback=function(S){var z=v;return function(){var j=v;v=z;try{return S.apply(this,arguments)}finally{v=j}}}}(Hh)),Hh}var rx;function PS(){return rx||(rx=1,Nh.exports=HS()),Nh.exports}var Ph={exports:{}},Re={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ix;function US(){if(ix)return Re;ix=1;var n=xr();function t(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var s={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(d,m,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:y==null?null:""+y,children:d,containerInfo:m,implementation:g}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Re.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Re.createPortal=function(d,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return u(d,m,null,g)},Re.flushSync=function(d){var m=c.T,g=s.p;try{if(c.T=null,s.p=2,d)return d()}finally{c.T=m,s.p=g,s.d.f()}},Re.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(d,m))},Re.prefetchDNS=function(d){typeof d=="string"&&s.d.D(d)},Re.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var g=m.as,y=h(g,m.crossOrigin),v=typeof m.integrity=="string"?m.integrity:void 0,b=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?s.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:v,fetchPriority:b}):g==="script"&&s.d.X(d,{crossOrigin:y,integrity:v,fetchPriority:b,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Re.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=h(m.as,m.crossOrigin);s.d.M(d,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(d)},Re.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,y=h(g,m.crossOrigin);s.d.L(d,g,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Re.preloadModule=function(d,m){if(typeof d=="string")if(m){var g=h(m.as,m.crossOrigin);s.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(d)},Re.requestFormReset=function(d){s.d.r(d)},Re.unstable_batchedUpdates=function(d,m){return d(m)},Re.useFormState=function(d,m,g){return c.H.useFormState(d,m,g)},Re.useFormStatus=function(){return c.H.useHostTransitionStatus()},Re.version="19.0.0",Re}var sx;function Cd(){if(sx)return Ph.exports;sx=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Ph.exports=US(),Ph.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ax;function GS(){if(ax)return Oa;ax=1;var n=PS(),t=xr(),r=Cd();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var u=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),v=Symbol.for("react.consumer"),b=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),w=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),D=Symbol.for("react.offscreen"),P=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function G(e){return e===null||typeof e!="object"?null:(e=I&&e[I]||e["@@iterator"],typeof e=="function"?e:null)}var V=Symbol.for("react.client.reference");function et(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===V?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case d:return"Fragment";case h:return"Portal";case g:return"Profiler";case m:return"StrictMode";case E:return"Suspense";case w:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case b:return(e.displayName||"Context")+".Provider";case v:return(e._context.displayName||"Context")+".Consumer";case T:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case R:return i=e.displayName||null,i!==null?i:et(e.type)||"Memo";case k:i=e._payload,e=e._init;try{return et(e(i))}catch{}}return null}var W=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=Object.assign,rt,it;function gt(e){if(rt===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);rt=i&&i[1]||"",it=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+rt+e+it}var bt=!1;function jt(e,i){if(!e||bt)return"";bt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(K){var X=K}Reflect.construct(e,[],tt)}else{try{tt.call()}catch(K){X=K}e.call(tt.prototype)}}else{try{throw Error()}catch(K){X=K}(tt=e())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(K){if(K&&X&&typeof K.stack=="string")return[K.stack,X.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=o.DetermineComponentFrameRoot(),x=p[0],A=p[1];if(x&&A){var O=x.split(`
`),U=A.split(`
`);for(f=o=0;o<O.length&&!O[o].includes("DetermineComponentFrameRoot");)o++;for(;f<U.length&&!U[f].includes("DetermineComponentFrameRoot");)f++;if(o===O.length||f===U.length)for(o=O.length-1,f=U.length-1;1<=o&&0<=f&&O[o]!==U[f];)f--;for(;1<=o&&0<=f;o--,f--)if(O[o]!==U[f]){if(o!==1||f!==1)do if(o--,f--,0>f||O[o]!==U[f]){var Q=`
`+O[o].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=o&&0<=f);break}}}finally{bt=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?gt(a):""}function S(e){switch(e.tag){case 26:case 27:case 5:return gt(e.type);case 16:return gt("Lazy");case 13:return gt("Suspense");case 19:return gt("SuspenseList");case 0:case 15:return e=jt(e.type,!1),e;case 11:return e=jt(e.type.render,!1),e;case 1:return e=jt(e.type,!0),e;default:return""}}function z(e){try{var i="";do i+=S(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function j(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,i.flags&4098&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function B(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function _(e){if(j(e)!==e)throw Error(s(188))}function C(e){var i=e.alternate;if(!i){if(i=j(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,o=i;;){var f=a.return;if(f===null)break;var p=f.alternate;if(p===null){if(o=f.return,o!==null){a=o;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===a)return _(f),e;if(p===o)return _(f),i;p=p.sibling}throw Error(s(188))}if(a.return!==o.return)a=f,o=p;else{for(var x=!1,A=f.child;A;){if(A===a){x=!0,a=f,o=p;break}if(A===o){x=!0,o=f,a=p;break}A=A.sibling}if(!x){for(A=p.child;A;){if(A===a){x=!0,a=p,o=f;break}if(A===o){x=!0,o=p,a=f;break}A=A.sibling}if(!x)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function N(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=N(e),i!==null)return i;e=e.sibling}return null}var L=Array.isArray,F=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},nt=[],ct=-1;function st(e){return{current:e}}function mt(e){0>ct||(e.current=nt[ct],nt[ct]=null,ct--)}function ot(e,i){ct++,nt[ct]=e.current,e.current=i}var ne=st(null),le=st(null),oe=st(null),De=st(null);function _t(e,i){switch(ot(oe,i),ot(le,e),ot(ne,null),e=i.nodeType,e){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?My(i):0;break;default:if(e=e===8?i.parentNode:i,i=e.tagName,e=e.namespaceURI)e=My(e),i=Cy(e,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}mt(ne),ot(ne,i)}function At(){mt(ne),mt(le),mt(oe)}function Ri(e){e.memoizedState!==null&&ot(De,e);var i=ne.current,a=Cy(i,e.type);i!==a&&(ot(le,e),ot(ne,a))}function zi(e){le.current===e&&(mt(ne),mt(le)),De.current===e&&(mt(De),Ea._currentValue=J)}var vl=Object.prototype.hasOwnProperty,Eu=n.unstable_scheduleCallback,Mu=n.unstable_cancelCallback,u_=n.unstable_shouldYield,c_=n.unstable_requestPaint,zn=n.unstable_now,h_=n.unstable_getCurrentPriorityLevel,gp=n.unstable_ImmediatePriority,yp=n.unstable_UserBlockingPriority,_l=n.unstable_NormalPriority,f_=n.unstable_LowPriority,xp=n.unstable_IdlePriority,d_=n.log,p_=n.unstable_setDisableYieldValue,Ds=null,Fe=null;function m_(e){if(Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(Ds,e,void 0,(e.current.flags&128)===128)}catch{}}function vr(e){if(typeof d_=="function"&&p_(e),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(Ds,e)}catch{}}var Ye=Math.clz32?Math.clz32:x_,g_=Math.log,y_=Math.LN2;function x_(e){return e>>>=0,e===0?32:31-(g_(e)/y_|0)|0}var wl=128,Sl=4194304;function $r(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Al(e,i){var a=e.pendingLanes;if(a===0)return 0;var o=0,f=e.suspendedLanes,p=e.pingedLanes,x=e.warmLanes;e=e.finishedLanes!==0;var A=a&134217727;return A!==0?(a=A&~f,a!==0?o=$r(a):(p&=A,p!==0?o=$r(p):e||(x=A&~x,x!==0&&(o=$r(x))))):(A=a&~f,A!==0?o=$r(A):p!==0?o=$r(p):e||(x=a&~x,x!==0&&(o=$r(x)))),o===0?0:i!==0&&i!==o&&!(i&f)&&(f=o&-o,x=i&-i,f>=x||f===32&&(x&4194176)!==0)?i:o}function Ns(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function b_(e,i){switch(e){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bp(){var e=wl;return wl<<=1,!(wl&4194176)&&(wl=128),e}function vp(){var e=Sl;return Sl<<=1,!(Sl&62914560)&&(Sl=4194304),e}function Cu(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function Hs(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function v_(e,i,a,o,f,p){var x=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var A=e.entanglements,O=e.expirationTimes,U=e.hiddenUpdates;for(a=x&~a;0<a;){var Q=31-Ye(a),tt=1<<Q;A[Q]=0,O[Q]=-1;var X=U[Q];if(X!==null)for(U[Q]=null,Q=0;Q<X.length;Q++){var K=X[Q];K!==null&&(K.lane&=-536870913)}a&=~tt}o!==0&&_p(e,o,0),p!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=p&~(x&~i))}function _p(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var o=31-Ye(i);e.entangledLanes|=i,e.entanglements[o]=e.entanglements[o]|1073741824|a&4194218}function wp(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var o=31-Ye(a),f=1<<o;f&i|e[o]&i&&(e[o]|=i),a&=~f}}function Sp(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function Ap(){var e=F.p;return e!==0?e:(e=window.event,e===void 0?32:Vy(e.type))}function __(e,i){var a=F.p;try{return F.p=e,i()}finally{F.p=a}}var _r=Math.random().toString(36).slice(2),Ce="__reactFiber$"+_r,Ue="__reactProps$"+_r,Oi="__reactContainer$"+_r,ku="__reactEvents$"+_r,w_="__reactListeners$"+_r,S_="__reactHandles$"+_r,Tp="__reactResources$"+_r,Ps="__reactMarker$"+_r;function Ru(e){delete e[Ce],delete e[Ue],delete e[ku],delete e[w_],delete e[S_]}function Kr(e){var i=e[Ce];if(i)return i;for(var a=e.parentNode;a;){if(i=a[Oi]||a[Ce]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=zy(e);e!==null;){if(a=e[Ce])return a;e=zy(e)}return i}e=a,a=e.parentNode}return null}function Bi(e){if(e=e[Ce]||e[Oi]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function Us(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function ji(e){var i=e[Tp];return i||(i=e[Tp]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function me(e){e[Ps]=!0}var Ep=new Set,Mp={};function Qr(e,i){Di(e,i),Di(e+"Capture",i)}function Di(e,i){for(Mp[e]=i,e=0;e<i.length;e++)Ep.add(i[e])}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),A_=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cp={},kp={};function T_(e){return vl.call(kp,e)?!0:vl.call(Cp,e)?!1:A_.test(e)?kp[e]=!0:(Cp[e]=!0,!1)}function Tl(e,i,a){if(T_(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function El(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Wn(e,i,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+o)}}function rn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Rp(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function E_(e){var i=Rp(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),o=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,p=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return f.call(this)},set:function(x){o=""+x,p.call(this,x)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(x){o=""+x},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Ml(e){e._valueTracker||(e._valueTracker=E_(e))}function zp(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return e&&(o=Rp(e)?e.checked?"true":"false":e.value),e=o,e!==a?(i.setValue(e),!0):!1}function Cl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var M_=/[\n"\\]/g;function sn(e){return e.replace(M_,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function zu(e,i,a,o,f,p,x,A){e.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.type=x:e.removeAttribute("type"),i!=null?x==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+rn(i)):e.value!==""+rn(i)&&(e.value=""+rn(i)):x!=="submit"&&x!=="reset"||e.removeAttribute("value"),i!=null?Ou(e,x,rn(i)):a!=null?Ou(e,x,rn(a)):o!=null&&e.removeAttribute("value"),f==null&&p!=null&&(e.defaultChecked=!!p),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?e.name=""+rn(A):e.removeAttribute("name")}function Op(e,i,a,o,f,p,x,A){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.type=p),i!=null||a!=null){if(!(p!=="submit"&&p!=="reset"||i!=null))return;a=a!=null?""+rn(a):"",i=i!=null?""+rn(i):a,A||i===e.value||(e.value=i),e.defaultValue=i}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=A?e.checked:!!o,e.defaultChecked=!!o,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(e.name=x)}function Ou(e,i,a){i==="number"&&Cl(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ni(e,i,a,o){if(e=e.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<e.length;a++)f=i.hasOwnProperty("$"+e[a].value),e[a].selected!==f&&(e[a].selected=f),f&&o&&(e[a].defaultSelected=!0)}else{for(a=""+rn(a),i=null,f=0;f<e.length;f++){if(e[f].value===a){e[f].selected=!0,o&&(e[f].defaultSelected=!0);return}i!==null||e[f].disabled||(i=e[f])}i!==null&&(i.selected=!0)}}function Bp(e,i,a){if(i!=null&&(i=""+rn(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+rn(a):""}function jp(e,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(s(92));if(L(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=rn(i),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o)}function Hi(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var C_=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Dp(e,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":o?e.setProperty(i,a):typeof a!="number"||a===0||C_.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Np(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var f in i)o=i[f],i.hasOwnProperty(f)&&a[f]!==o&&Dp(e,f,o)}else for(var p in i)i.hasOwnProperty(p)&&Dp(e,p,i[p])}function Bu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var k_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),R_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function kl(e){return R_.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var ju=null;function Du(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Pi=null,Ui=null;function Hp(e){var i=Bi(e);if(i&&(e=i.stateNode)){var a=e[Ue]||null;t:switch(e=i.stateNode,i.type){case"input":if(zu(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+sn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==e&&o.form===e.form){var f=o[Ue]||null;if(!f)throw Error(s(90));zu(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===e.form&&zp(o)}break t;case"textarea":Bp(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&Ni(e,!!a.multiple,i,!1)}}}var Nu=!1;function Pp(e,i,a){if(Nu)return e(i,a);Nu=!0;try{var o=e(i);return o}finally{if(Nu=!1,(Pi!==null||Ui!==null)&&(fo(),Pi&&(i=Pi,e=Ui,Ui=Pi=null,Hp(i),e)))for(i=0;i<e.length;i++)Hp(e[i])}}function Gs(e,i){var a=e.stateNode;if(a===null)return null;var o=a[Ue]||null;if(o===null)return null;a=o[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Hu=!1;if(Xn)try{var Ls={};Object.defineProperty(Ls,"passive",{get:function(){Hu=!0}}),window.addEventListener("test",Ls,Ls),window.removeEventListener("test",Ls,Ls)}catch{Hu=!1}var wr=null,Pu=null,Rl=null;function Up(){if(Rl)return Rl;var e,i=Pu,a=i.length,o,f="value"in wr?wr.value:wr.textContent,p=f.length;for(e=0;e<a&&i[e]===f[e];e++);var x=a-e;for(o=1;o<=x&&i[a-o]===f[p-o];o++);return Rl=f.slice(e,1<o?1-o:void 0)}function zl(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Ol(){return!0}function Gp(){return!1}function Ge(e){function i(a,o,f,p,x){this._reactName=a,this._targetInst=f,this.type=o,this.nativeEvent=p,this.target=x,this.currentTarget=null;for(var A in e)e.hasOwnProperty(A)&&(a=e[A],this[A]=a?a(p):p[A]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Ol:Gp,this.isPropagationStopped=Gp,this}return $(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ol)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ol)},persist:function(){},isPersistent:Ol}),i}var Zr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bl=Ge(Zr),Is=$({},Zr,{view:0,detail:0}),z_=Ge(Is),Uu,Gu,qs,jl=$({},Is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Iu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qs&&(qs&&e.type==="mousemove"?(Uu=e.screenX-qs.screenX,Gu=e.screenY-qs.screenY):Gu=Uu=0,qs=e),Uu)},movementY:function(e){return"movementY"in e?e.movementY:Gu}}),Lp=Ge(jl),O_=$({},jl,{dataTransfer:0}),B_=Ge(O_),j_=$({},Is,{relatedTarget:0}),Lu=Ge(j_),D_=$({},Zr,{animationName:0,elapsedTime:0,pseudoElement:0}),N_=Ge(D_),H_=$({},Zr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),P_=Ge(H_),U_=$({},Zr,{data:0}),Ip=Ge(U_),G_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},L_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},I_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function q_(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=I_[e])?!!i[e]:!1}function Iu(){return q_}var F_=$({},Is,{key:function(e){if(e.key){var i=G_[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=zl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?L_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Iu,charCode:function(e){return e.type==="keypress"?zl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?zl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Y_=Ge(F_),V_=$({},jl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qp=Ge(V_),X_=$({},Is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Iu}),W_=Ge(X_),$_=$({},Zr,{propertyName:0,elapsedTime:0,pseudoElement:0}),K_=Ge($_),Q_=$({},jl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Z_=Ge(Q_),J_=$({},Zr,{newState:0,oldState:0}),tw=Ge(J_),ew=[9,13,27,32],qu=Xn&&"CompositionEvent"in window,Fs=null;Xn&&"documentMode"in document&&(Fs=document.documentMode);var nw=Xn&&"TextEvent"in window&&!Fs,Fp=Xn&&(!qu||Fs&&8<Fs&&11>=Fs),Yp=" ",Vp=!1;function Xp(e,i){switch(e){case"keyup":return ew.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Gi=!1;function rw(e,i){switch(e){case"compositionend":return Wp(i);case"keypress":return i.which!==32?null:(Vp=!0,Yp);case"textInput":return e=i.data,e===Yp&&Vp?null:e;default:return null}}function iw(e,i){if(Gi)return e==="compositionend"||!qu&&Xp(e,i)?(e=Up(),Rl=Pu=wr=null,Gi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Fp&&i.locale!=="ko"?null:i.data;default:return null}}var sw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $p(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!sw[e.type]:i==="textarea"}function Kp(e,i,a,o){Pi?Ui?Ui.push(o):Ui=[o]:Pi=o,i=xo(i,"onChange"),0<i.length&&(a=new Bl("onChange","change",null,a,o),e.push({event:a,listeners:i}))}var Ys=null,Vs=null;function aw(e){wy(e,0)}function Dl(e){var i=Us(e);if(zp(i))return e}function Qp(e,i){if(e==="change")return i}var Zp=!1;if(Xn){var Fu;if(Xn){var Yu="oninput"in document;if(!Yu){var Jp=document.createElement("div");Jp.setAttribute("oninput","return;"),Yu=typeof Jp.oninput=="function"}Fu=Yu}else Fu=!1;Zp=Fu&&(!document.documentMode||9<document.documentMode)}function tm(){Ys&&(Ys.detachEvent("onpropertychange",em),Vs=Ys=null)}function em(e){if(e.propertyName==="value"&&Dl(Vs)){var i=[];Kp(i,Vs,e,Du(e)),Pp(aw,i)}}function lw(e,i,a){e==="focusin"?(tm(),Ys=i,Vs=a,Ys.attachEvent("onpropertychange",em)):e==="focusout"&&tm()}function ow(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Dl(Vs)}function uw(e,i){if(e==="click")return Dl(i)}function cw(e,i){if(e==="input"||e==="change")return Dl(i)}function hw(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var Ve=typeof Object.is=="function"?Object.is:hw;function Xs(e,i){if(Ve(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var f=a[o];if(!vl.call(i,f)||!Ve(e[f],i[f]))return!1}return!0}function nm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function rm(e,i){var a=nm(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=i&&o>=i)return{node:a,offset:i-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=nm(a)}}function im(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?im(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function sm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Cl(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=Cl(e.document)}return i}function Vu(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}function fw(e,i){var a=sm(i);i=e.focusedElem;var o=e.selectionRange;if(a!==i&&i&&i.ownerDocument&&im(i.ownerDocument.documentElement,i)){if(o!==null&&Vu(i)){if(e=o.start,a=o.end,a===void 0&&(a=e),"selectionStart"in i)i.selectionStart=e,i.selectionEnd=Math.min(a,i.value.length);else if(a=(e=i.ownerDocument||document)&&e.defaultView||window,a.getSelection){a=a.getSelection();var f=i.textContent.length,p=Math.min(o.start,f);o=o.end===void 0?p:Math.min(o.end,f),!a.extend&&p>o&&(f=o,o=p,p=f),f=rm(i,p);var x=rm(i,o);f&&x&&(a.rangeCount!==1||a.anchorNode!==f.node||a.anchorOffset!==f.offset||a.focusNode!==x.node||a.focusOffset!==x.offset)&&(e=e.createRange(),e.setStart(f.node,f.offset),a.removeAllRanges(),p>o?(a.addRange(e),a.extend(x.node,x.offset)):(e.setEnd(x.node,x.offset),a.addRange(e)))}}for(e=[],a=i;a=a.parentNode;)a.nodeType===1&&e.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<e.length;i++)a=e[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var dw=Xn&&"documentMode"in document&&11>=document.documentMode,Li=null,Xu=null,Ws=null,Wu=!1;function am(e,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Wu||Li==null||Li!==Cl(o)||(o=Li,"selectionStart"in o&&Vu(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Ws&&Xs(Ws,o)||(Ws=o,o=xo(Xu,"onSelect"),0<o.length&&(i=new Bl("onSelect","select",null,i,a),e.push({event:i,listeners:o}),i.target=Li)))}function Jr(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var Ii={animationend:Jr("Animation","AnimationEnd"),animationiteration:Jr("Animation","AnimationIteration"),animationstart:Jr("Animation","AnimationStart"),transitionrun:Jr("Transition","TransitionRun"),transitionstart:Jr("Transition","TransitionStart"),transitioncancel:Jr("Transition","TransitionCancel"),transitionend:Jr("Transition","TransitionEnd")},$u={},lm={};Xn&&(lm=document.createElement("div").style,"AnimationEvent"in window||(delete Ii.animationend.animation,delete Ii.animationiteration.animation,delete Ii.animationstart.animation),"TransitionEvent"in window||delete Ii.transitionend.transition);function ti(e){if($u[e])return $u[e];if(!Ii[e])return e;var i=Ii[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in lm)return $u[e]=i[a];return e}var om=ti("animationend"),um=ti("animationiteration"),cm=ti("animationstart"),pw=ti("transitionrun"),mw=ti("transitionstart"),gw=ti("transitioncancel"),hm=ti("transitionend"),fm=new Map,dm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function _n(e,i){fm.set(e,i),Qr(i,[e])}var an=[],qi=0,Ku=0;function Nl(){for(var e=qi,i=Ku=qi=0;i<e;){var a=an[i];an[i++]=null;var o=an[i];an[i++]=null;var f=an[i];an[i++]=null;var p=an[i];if(an[i++]=null,o!==null&&f!==null){var x=o.pending;x===null?f.next=f:(f.next=x.next,x.next=f),o.pending=f}p!==0&&pm(a,f,p)}}function Hl(e,i,a,o){an[qi++]=e,an[qi++]=i,an[qi++]=a,an[qi++]=o,Ku|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Qu(e,i,a,o){return Hl(e,i,a,o),Pl(e)}function Sr(e,i){return Hl(e,null,null,i),Pl(e)}function pm(e,i,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var f=!1,p=e.return;p!==null;)p.childLanes|=a,o=p.alternate,o!==null&&(o.childLanes|=a),p.tag===22&&(e=p.stateNode,e===null||e._visibility&1||(f=!0)),e=p,p=p.return;f&&i!==null&&e.tag===3&&(p=e.stateNode,f=31-Ye(a),p=p.hiddenUpdates,e=p[f],e===null?p[f]=[i]:e.push(i),i.lane=a|536870912)}function Pl(e){if(50<ba)throw ba=0,rh=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Fi={},mm=new WeakMap;function ln(e,i){if(typeof e=="object"&&e!==null){var a=mm.get(e);return a!==void 0?a:(i={value:e,source:i,stack:z(i)},mm.set(e,i),i)}return{value:e,source:i,stack:z(i)}}var Yi=[],Vi=0,Ul=null,Gl=0,on=[],un=0,ei=null,$n=1,Kn="";function ni(e,i){Yi[Vi++]=Gl,Yi[Vi++]=Ul,Ul=e,Gl=i}function gm(e,i,a){on[un++]=$n,on[un++]=Kn,on[un++]=ei,ei=e;var o=$n;e=Kn;var f=32-Ye(o)-1;o&=~(1<<f),a+=1;var p=32-Ye(i)+f;if(30<p){var x=f-f%5;p=(o&(1<<x)-1).toString(32),o>>=x,f-=x,$n=1<<32-Ye(i)+f|a<<f|o,Kn=p+e}else $n=1<<p|a<<f|o,Kn=e}function Zu(e){e.return!==null&&(ni(e,1),gm(e,1,0))}function Ju(e){for(;e===Ul;)Ul=Yi[--Vi],Yi[Vi]=null,Gl=Yi[--Vi],Yi[Vi]=null;for(;e===ei;)ei=on[--un],on[un]=null,Kn=on[--un],on[un]=null,$n=on[--un],on[un]=null}var Ne=null,we=null,zt=!1,wn=null,On=!1,tc=Error(s(519));function ri(e){var i=Error(s(418,""));throw Qs(ln(i,e)),tc}function ym(e){var i=e.stateNode,a=e.type,o=e.memoizedProps;switch(i[Ce]=e,i[Ue]=o,a){case"dialog":Ct("cancel",i),Ct("close",i);break;case"iframe":case"object":case"embed":Ct("load",i);break;case"video":case"audio":for(a=0;a<_a.length;a++)Ct(_a[a],i);break;case"source":Ct("error",i);break;case"img":case"image":case"link":Ct("error",i),Ct("load",i);break;case"details":Ct("toggle",i);break;case"input":Ct("invalid",i),Op(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Ml(i);break;case"select":Ct("invalid",i);break;case"textarea":Ct("invalid",i),jp(i,o.value,o.defaultValue,o.children),Ml(i)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||Ey(i.textContent,a)?(o.popover!=null&&(Ct("beforetoggle",i),Ct("toggle",i)),o.onScroll!=null&&Ct("scroll",i),o.onScrollEnd!=null&&Ct("scrollend",i),o.onClick!=null&&(i.onclick=bo),i=!0):i=!1,i||ri(e)}function xm(e){for(Ne=e.return;Ne;)switch(Ne.tag){case 3:case 27:On=!0;return;case 5:case 13:On=!1;return;default:Ne=Ne.return}}function $s(e){if(e!==Ne)return!1;if(!zt)return xm(e),zt=!0,!1;var i=!1,a;if((a=e.tag!==3&&e.tag!==27)&&((a=e.tag===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||vh(e.type,e.memoizedProps)),a=!a),a&&(i=!0),i&&we&&ri(e),xm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){we=An(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}we=null}}else we=Ne?An(e.stateNode.nextSibling):null;return!0}function Ks(){we=Ne=null,zt=!1}function Qs(e){wn===null?wn=[e]:wn.push(e)}var Zs=Error(s(460)),bm=Error(s(474)),ec={then:function(){}};function vm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ll(){}function _m(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Ll,Ll),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,e===Zs?Error(s(483)):e;default:if(typeof i.status=="string")i.then(Ll,Ll);else{if(e=Gt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(o){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=o}},function(o){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,e===Zs?Error(s(483)):e}throw Js=i,Zs}}var Js=null;function wm(){if(Js===null)throw Error(s(459));var e=Js;return Js=null,e}var Xi=null,ta=0;function Il(e){var i=ta;return ta+=1,Xi===null&&(Xi=[]),_m(Xi,e,i)}function ea(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function ql(e,i){throw i.$$typeof===u?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Sm(e){var i=e._init;return i(e._payload)}function Am(e){function i(q,H){if(e){var Y=q.deletions;Y===null?(q.deletions=[H],q.flags|=16):Y.push(H)}}function a(q,H){if(!e)return null;for(;H!==null;)i(q,H),H=H.sibling;return null}function o(q){for(var H=new Map;q!==null;)q.key!==null?H.set(q.key,q):H.set(q.index,q),q=q.sibling;return H}function f(q,H){return q=Dr(q,H),q.index=0,q.sibling=null,q}function p(q,H,Y){return q.index=Y,e?(Y=q.alternate,Y!==null?(Y=Y.index,Y<H?(q.flags|=33554434,H):Y):(q.flags|=33554434,H)):(q.flags|=1048576,H)}function x(q){return e&&q.alternate===null&&(q.flags|=33554434),q}function A(q,H,Y,Z){return H===null||H.tag!==6?(H=$c(Y,q.mode,Z),H.return=q,H):(H=f(H,Y),H.return=q,H)}function O(q,H,Y,Z){var ut=Y.type;return ut===d?Q(q,H,Y.props.children,Z,Y.key):H!==null&&(H.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===k&&Sm(ut)===H.type)?(H=f(H,Y.props),ea(H,Y),H.return=q,H):(H=lo(Y.type,Y.key,Y.props,null,q.mode,Z),ea(H,Y),H.return=q,H)}function U(q,H,Y,Z){return H===null||H.tag!==4||H.stateNode.containerInfo!==Y.containerInfo||H.stateNode.implementation!==Y.implementation?(H=Kc(Y,q.mode,Z),H.return=q,H):(H=f(H,Y.children||[]),H.return=q,H)}function Q(q,H,Y,Z,ut){return H===null||H.tag!==7?(H=di(Y,q.mode,Z,ut),H.return=q,H):(H=f(H,Y),H.return=q,H)}function tt(q,H,Y){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=$c(""+H,q.mode,Y),H.return=q,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case c:return Y=lo(H.type,H.key,H.props,null,q.mode,Y),ea(Y,H),Y.return=q,Y;case h:return H=Kc(H,q.mode,Y),H.return=q,H;case k:var Z=H._init;return H=Z(H._payload),tt(q,H,Y)}if(L(H)||G(H))return H=di(H,q.mode,Y,null),H.return=q,H;if(typeof H.then=="function")return tt(q,Il(H),Y);if(H.$$typeof===b)return tt(q,io(q,H),Y);ql(q,H)}return null}function X(q,H,Y,Z){var ut=H!==null?H.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return ut!==null?null:A(q,H,""+Y,Z);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case c:return Y.key===ut?O(q,H,Y,Z):null;case h:return Y.key===ut?U(q,H,Y,Z):null;case k:return ut=Y._init,Y=ut(Y._payload),X(q,H,Y,Z)}if(L(Y)||G(Y))return ut!==null?null:Q(q,H,Y,Z,null);if(typeof Y.then=="function")return X(q,H,Il(Y),Z);if(Y.$$typeof===b)return X(q,H,io(q,Y),Z);ql(q,Y)}return null}function K(q,H,Y,Z,ut){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return q=q.get(Y)||null,A(H,q,""+Z,ut);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case c:return q=q.get(Z.key===null?Y:Z.key)||null,O(H,q,Z,ut);case h:return q=q.get(Z.key===null?Y:Z.key)||null,U(H,q,Z,ut);case k:var Et=Z._init;return Z=Et(Z._payload),K(q,H,Y,Z,ut)}if(L(Z)||G(Z))return q=q.get(Y)||null,Q(H,q,Z,ut,null);if(typeof Z.then=="function")return K(q,H,Y,Il(Z),ut);if(Z.$$typeof===b)return K(q,H,Y,io(H,Z),ut);ql(H,Z)}return null}function ht(q,H,Y,Z){for(var ut=null,Et=null,dt=H,yt=H=0,xe=null;dt!==null&&yt<Y.length;yt++){dt.index>yt?(xe=dt,dt=null):xe=dt.sibling;var Ot=X(q,dt,Y[yt],Z);if(Ot===null){dt===null&&(dt=xe);break}e&&dt&&Ot.alternate===null&&i(q,dt),H=p(Ot,H,yt),Et===null?ut=Ot:Et.sibling=Ot,Et=Ot,dt=xe}if(yt===Y.length)return a(q,dt),zt&&ni(q,yt),ut;if(dt===null){for(;yt<Y.length;yt++)dt=tt(q,Y[yt],Z),dt!==null&&(H=p(dt,H,yt),Et===null?ut=dt:Et.sibling=dt,Et=dt);return zt&&ni(q,yt),ut}for(dt=o(dt);yt<Y.length;yt++)xe=K(dt,q,yt,Y[yt],Z),xe!==null&&(e&&xe.alternate!==null&&dt.delete(xe.key===null?yt:xe.key),H=p(xe,H,yt),Et===null?ut=xe:Et.sibling=xe,Et=xe);return e&&dt.forEach(function(Ir){return i(q,Ir)}),zt&&ni(q,yt),ut}function vt(q,H,Y,Z){if(Y==null)throw Error(s(151));for(var ut=null,Et=null,dt=H,yt=H=0,xe=null,Ot=Y.next();dt!==null&&!Ot.done;yt++,Ot=Y.next()){dt.index>yt?(xe=dt,dt=null):xe=dt.sibling;var Ir=X(q,dt,Ot.value,Z);if(Ir===null){dt===null&&(dt=xe);break}e&&dt&&Ir.alternate===null&&i(q,dt),H=p(Ir,H,yt),Et===null?ut=Ir:Et.sibling=Ir,Et=Ir,dt=xe}if(Ot.done)return a(q,dt),zt&&ni(q,yt),ut;if(dt===null){for(;!Ot.done;yt++,Ot=Y.next())Ot=tt(q,Ot.value,Z),Ot!==null&&(H=p(Ot,H,yt),Et===null?ut=Ot:Et.sibling=Ot,Et=Ot);return zt&&ni(q,yt),ut}for(dt=o(dt);!Ot.done;yt++,Ot=Y.next())Ot=K(dt,q,yt,Ot.value,Z),Ot!==null&&(e&&Ot.alternate!==null&&dt.delete(Ot.key===null?yt:Ot.key),H=p(Ot,H,yt),Et===null?ut=Ot:Et.sibling=Ot,Et=Ot);return e&&dt.forEach(function(RS){return i(q,RS)}),zt&&ni(q,yt),ut}function Zt(q,H,Y,Z){if(typeof Y=="object"&&Y!==null&&Y.type===d&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case c:t:{for(var ut=Y.key;H!==null;){if(H.key===ut){if(ut=Y.type,ut===d){if(H.tag===7){a(q,H.sibling),Z=f(H,Y.props.children),Z.return=q,q=Z;break t}}else if(H.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===k&&Sm(ut)===H.type){a(q,H.sibling),Z=f(H,Y.props),ea(Z,Y),Z.return=q,q=Z;break t}a(q,H);break}else i(q,H);H=H.sibling}Y.type===d?(Z=di(Y.props.children,q.mode,Z,Y.key),Z.return=q,q=Z):(Z=lo(Y.type,Y.key,Y.props,null,q.mode,Z),ea(Z,Y),Z.return=q,q=Z)}return x(q);case h:t:{for(ut=Y.key;H!==null;){if(H.key===ut)if(H.tag===4&&H.stateNode.containerInfo===Y.containerInfo&&H.stateNode.implementation===Y.implementation){a(q,H.sibling),Z=f(H,Y.children||[]),Z.return=q,q=Z;break t}else{a(q,H);break}else i(q,H);H=H.sibling}Z=Kc(Y,q.mode,Z),Z.return=q,q=Z}return x(q);case k:return ut=Y._init,Y=ut(Y._payload),Zt(q,H,Y,Z)}if(L(Y))return ht(q,H,Y,Z);if(G(Y)){if(ut=G(Y),typeof ut!="function")throw Error(s(150));return Y=ut.call(Y),vt(q,H,Y,Z)}if(typeof Y.then=="function")return Zt(q,H,Il(Y),Z);if(Y.$$typeof===b)return Zt(q,H,io(q,Y),Z);ql(q,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,H!==null&&H.tag===6?(a(q,H.sibling),Z=f(H,Y),Z.return=q,q=Z):(a(q,H),Z=$c(Y,q.mode,Z),Z.return=q,q=Z),x(q)):a(q,H)}return function(q,H,Y,Z){try{ta=0;var ut=Zt(q,H,Y,Z);return Xi=null,ut}catch(dt){if(dt===Zs)throw dt;var Et=dn(29,dt,null,q.mode);return Et.lanes=Z,Et.return=q,Et}finally{}}}var ii=Am(!0),Tm=Am(!1),Wi=st(null),Fl=st(0);function Em(e,i){e=lr,ot(Fl,e),ot(Wi,i),lr=e|i.baseLanes}function nc(){ot(Fl,lr),ot(Wi,Wi.current)}function rc(){lr=Fl.current,mt(Wi),mt(Fl)}var cn=st(null),Bn=null;function Ar(e){var i=e.alternate;ot(ue,ue.current&1),ot(cn,e),Bn===null&&(i===null||Wi.current!==null||i.memoizedState!==null)&&(Bn=e)}function Mm(e){if(e.tag===22){if(ot(ue,ue.current),ot(cn,e),Bn===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(Bn=e)}}else Tr()}function Tr(){ot(ue,ue.current),ot(cn,cn.current)}function Qn(e){mt(cn),Bn===e&&(Bn=null),mt(ue)}var ue=st(0);function Yl(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var yw=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},xw=n.unstable_scheduleCallback,bw=n.unstable_NormalPriority,ce={$$typeof:b,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ic(){return{controller:new yw,data:new Map,refCount:0}}function na(e){e.refCount--,e.refCount===0&&xw(bw,function(){e.controller.abort()})}var ra=null,sc=0,$i=0,Ki=null;function vw(e,i){if(ra===null){var a=ra=[];sc=0,$i=hh(),Ki={status:"pending",value:void 0,then:function(o){a.push(o)}}}return sc++,i.then(Cm,Cm),i}function Cm(){if(--sc===0&&ra!==null){Ki!==null&&(Ki.status="fulfilled");var e=ra;ra=null,$i=0,Ki=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function _w(e,i){var a=[],o={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return e.then(function(){o.status="fulfilled",o.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(o.status="rejected",o.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),o}var km=W.S;W.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&vw(e,i),km!==null&&km(e,i)};var si=st(null);function ac(){var e=si.current;return e!==null?e:Gt.pooledCache}function Vl(e,i){i===null?ot(si,si.current):ot(si,i.pool)}function Rm(){var e=ac();return e===null?null:{parent:ce._currentValue,pool:e}}var Er=0,Tt=null,Nt=null,re=null,Xl=!1,Qi=!1,ai=!1,Wl=0,ia=0,Zi=null,ww=0;function te(){throw Error(s(321))}function lc(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!Ve(e[a],i[a]))return!1;return!0}function oc(e,i,a,o,f,p){return Er=p,Tt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,W.H=e===null||e.memoizedState===null?li:Mr,ai=!1,p=a(o,f),ai=!1,Qi&&(p=Om(i,a,o,f)),zm(e),p}function zm(e){W.H=jn;var i=Nt!==null&&Nt.next!==null;if(Er=0,re=Nt=Tt=null,Xl=!1,ia=0,Zi=null,i)throw Error(s(300));e===null||ge||(e=e.dependencies,e!==null&&ro(e)&&(ge=!0))}function Om(e,i,a,o){Tt=e;var f=0;do{if(Qi&&(Zi=null),ia=0,Qi=!1,25<=f)throw Error(s(301));if(f+=1,re=Nt=null,e.updateQueue!=null){var p=e.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}W.H=oi,p=i(a,o)}while(Qi);return p}function Sw(){var e=W.H,i=e.useState()[0];return i=typeof i.then=="function"?sa(i):i,e=e.useState()[0],(Nt!==null?Nt.memoizedState:null)!==e&&(Tt.flags|=1024),i}function uc(){var e=Wl!==0;return Wl=0,e}function cc(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function hc(e){if(Xl){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Xl=!1}Er=0,re=Nt=Tt=null,Qi=!1,ia=Wl=0,Zi=null}function Le(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return re===null?Tt.memoizedState=re=e:re=re.next=e,re}function ie(){if(Nt===null){var e=Tt.alternate;e=e!==null?e.memoizedState:null}else e=Nt.next;var i=re===null?Tt.memoizedState:re.next;if(i!==null)re=i,Nt=e;else{if(e===null)throw Tt.alternate===null?Error(s(467)):Error(s(310));Nt=e,e={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},re===null?Tt.memoizedState=re=e:re=re.next=e}return re}var $l;$l=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function sa(e){var i=ia;return ia+=1,Zi===null&&(Zi=[]),e=_m(Zi,e,i),i=Tt,(re===null?i.memoizedState:re.next)===null&&(i=i.alternate,W.H=i===null||i.memoizedState===null?li:Mr),e}function Kl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return sa(e);if(e.$$typeof===b)return ke(e)}throw Error(s(438,String(e)))}function fc(e){var i=null,a=Tt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=Tt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=$l(),Tt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),o=0;o<e;o++)a[o]=P;return i.index++,a}function Zn(e,i){return typeof i=="function"?i(e):i}function Ql(e){var i=ie();return dc(i,Nt,e)}function dc(e,i,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var f=e.baseQueue,p=o.pending;if(p!==null){if(f!==null){var x=f.next;f.next=p.next,p.next=x}i.baseQueue=f=p,o.pending=null}if(p=e.baseState,f===null)e.memoizedState=p;else{i=f.next;var A=x=null,O=null,U=i,Q=!1;do{var tt=U.lane&-536870913;if(tt!==U.lane?(kt&tt)===tt:(Er&tt)===tt){var X=U.revertLane;if(X===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),tt===$i&&(Q=!0);else if((Er&X)===X){U=U.next,X===$i&&(Q=!0);continue}else tt={lane:0,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},O===null?(A=O=tt,x=p):O=O.next=tt,Tt.lanes|=X,Nr|=X;tt=U.action,ai&&a(p,tt),p=U.hasEagerState?U.eagerState:a(p,tt)}else X={lane:tt,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},O===null?(A=O=X,x=p):O=O.next=X,Tt.lanes|=tt,Nr|=tt;U=U.next}while(U!==null&&U!==i);if(O===null?x=p:O.next=A,!Ve(p,e.memoizedState)&&(ge=!0,Q&&(a=Ki,a!==null)))throw a;e.memoizedState=p,e.baseState=x,e.baseQueue=O,o.lastRenderedState=p}return f===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function pc(e){var i=ie(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,f=a.pending,p=i.memoizedState;if(f!==null){a.pending=null;var x=f=f.next;do p=e(p,x.action),x=x.next;while(x!==f);Ve(p,i.memoizedState)||(ge=!0),i.memoizedState=p,i.baseQueue===null&&(i.baseState=p),a.lastRenderedState=p}return[p,o]}function Bm(e,i,a){var o=Tt,f=ie(),p=zt;if(p){if(a===void 0)throw Error(s(407));a=a()}else a=i();var x=!Ve((Nt||f).memoizedState,a);if(x&&(f.memoizedState=a,ge=!0),f=f.queue,yc(Nm.bind(null,o,f,e),[e]),f.getSnapshot!==i||x||re!==null&&re.memoizedState.tag&1){if(o.flags|=2048,Ji(9,Dm.bind(null,o,f,a,i),{destroy:void 0},null),Gt===null)throw Error(s(349));p||Er&60||jm(o,i,a)}return a}function jm(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Tt.updateQueue,i===null?(i=$l(),Tt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Dm(e,i,a,o){i.value=a,i.getSnapshot=o,Hm(i)&&Pm(e)}function Nm(e,i,a){return a(function(){Hm(i)&&Pm(e)})}function Hm(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!Ve(e,a)}catch{return!0}}function Pm(e){var i=Sr(e,2);i!==null&&He(i,e,2)}function mc(e){var i=Le();if(typeof e=="function"){var a=e;if(e=a(),ai){vr(!0);try{a()}finally{vr(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zn,lastRenderedState:e},i}function Um(e,i,a,o){return e.baseState=a,dc(e,Nt,typeof o=="function"?o:Zn)}function Aw(e,i,a,o,f){if(to(e))throw Error(s(485));if(e=i.action,e!==null){var p={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){p.listeners.push(x)}};W.T!==null?a(!0):p.isTransition=!1,o(p),a=i.pending,a===null?(p.next=i.pending=p,Gm(i,p)):(p.next=a.next,i.pending=a.next=p)}}function Gm(e,i){var a=i.action,o=i.payload,f=e.state;if(i.isTransition){var p=W.T,x={};W.T=x;try{var A=a(f,o),O=W.S;O!==null&&O(x,A),Lm(e,i,A)}catch(U){gc(e,i,U)}finally{W.T=p}}else try{p=a(f,o),Lm(e,i,p)}catch(U){gc(e,i,U)}}function Lm(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Im(e,i,o)},function(o){return gc(e,i,o)}):Im(e,i,a)}function Im(e,i,a){i.status="fulfilled",i.value=a,qm(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Gm(e,a)))}function gc(e,i,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,qm(i),i=i.next;while(i!==o)}e.action=null}function qm(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Fm(e,i){return i}function Ym(e,i){if(zt){var a=Gt.formState;if(a!==null){t:{var o=Tt;if(zt){if(we){e:{for(var f=we,p=On;f.nodeType!==8;){if(!p){f=null;break e}if(f=An(f.nextSibling),f===null){f=null;break e}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){we=An(f.nextSibling),o=f.data==="F!";break t}}ri(o)}o=!1}o&&(i=a[0])}}return a=Le(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fm,lastRenderedState:i},a.queue=o,a=ug.bind(null,Tt,o),o.dispatch=a,o=mc(!1),p=wc.bind(null,Tt,!1,o.queue),o=Le(),f={state:i,dispatch:null,action:e,pending:null},o.queue=f,a=Aw.bind(null,Tt,f,p,a),f.dispatch=a,o.memoizedState=e,[i,a,!1]}function Vm(e){var i=ie();return Xm(i,Nt,e)}function Xm(e,i,a){i=dc(e,i,Fm)[0],e=Ql(Zn)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?sa(i):i;var o=ie(),f=o.queue,p=f.dispatch;return a!==o.memoizedState&&(Tt.flags|=2048,Ji(9,Tw.bind(null,f,a),{destroy:void 0},null)),[i,p,e]}function Tw(e,i){e.action=i}function Wm(e){var i=ie(),a=Nt;if(a!==null)return Xm(i,a,e);ie(),i=i.memoizedState,a=ie();var o=a.queue.dispatch;return a.memoizedState=e,[i,o,!1]}function Ji(e,i,a,o){return e={tag:e,create:i,inst:a,deps:o,next:null},i=Tt.updateQueue,i===null&&(i=$l(),Tt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,i.lastEffect=e),e}function $m(){return ie().memoizedState}function Zl(e,i,a,o){var f=Le();Tt.flags|=e,f.memoizedState=Ji(1|i,a,{destroy:void 0},o===void 0?null:o)}function Jl(e,i,a,o){var f=ie();o=o===void 0?null:o;var p=f.memoizedState.inst;Nt!==null&&o!==null&&lc(o,Nt.memoizedState.deps)?f.memoizedState=Ji(i,a,p,o):(Tt.flags|=e,f.memoizedState=Ji(1|i,a,p,o))}function Km(e,i){Zl(8390656,8,e,i)}function yc(e,i){Jl(2048,8,e,i)}function Qm(e,i){return Jl(4,2,e,i)}function Zm(e,i){return Jl(4,4,e,i)}function Jm(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function tg(e,i,a){a=a!=null?a.concat([e]):null,Jl(4,4,Jm.bind(null,i,e),a)}function xc(){}function eg(e,i){var a=ie();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&lc(i,o[1])?o[0]:(a.memoizedState=[e,i],e)}function ng(e,i){var a=ie();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&lc(i,o[1]))return o[0];if(o=e(),ai){vr(!0);try{e()}finally{vr(!1)}}return a.memoizedState=[o,i],o}function bc(e,i,a){return a===void 0||Er&1073741824?e.memoizedState=i:(e.memoizedState=a,e=iy(),Tt.lanes|=e,Nr|=e,a)}function rg(e,i,a,o){return Ve(a,i)?a:Wi.current!==null?(e=bc(e,a,o),Ve(e,i)||(ge=!0),e):Er&42?(e=iy(),Tt.lanes|=e,Nr|=e,i):(ge=!0,e.memoizedState=a)}function ig(e,i,a,o,f){var p=F.p;F.p=p!==0&&8>p?p:8;var x=W.T,A={};W.T=A,wc(e,!1,i,a);try{var O=f(),U=W.S;if(U!==null&&U(A,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var Q=_w(O,o);aa(e,i,Q,Ke(e))}else aa(e,i,o,Ke(e))}catch(tt){aa(e,i,{then:function(){},status:"rejected",reason:tt},Ke())}finally{F.p=p,W.T=x}}function Ew(){}function vc(e,i,a,o){if(e.tag!==5)throw Error(s(476));var f=sg(e).queue;ig(e,f,i,J,a===null?Ew:function(){return ag(e),a(o)})}function sg(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zn,lastRenderedState:J},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zn,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function ag(e){var i=sg(e).next.queue;aa(e,i,{},Ke())}function _c(){return ke(Ea)}function lg(){return ie().memoizedState}function og(){return ie().memoizedState}function Mw(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=Ke();e=Rr(a);var o=zr(i,e,a);o!==null&&(He(o,i,a),ua(o,i,a)),i={cache:ic()},e.payload=i;return}i=i.return}}function Cw(e,i,a){var o=Ke();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},to(e)?cg(i,a):(a=Qu(e,i,a,o),a!==null&&(He(a,e,o),hg(a,i,o)))}function ug(e,i,a){var o=Ke();aa(e,i,a,o)}function aa(e,i,a,o){var f={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(to(e))cg(i,f);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=i.lastRenderedReducer,p!==null))try{var x=i.lastRenderedState,A=p(x,a);if(f.hasEagerState=!0,f.eagerState=A,Ve(A,x))return Hl(e,i,f,0),Gt===null&&Nl(),!1}catch{}finally{}if(a=Qu(e,i,f,o),a!==null)return He(a,e,o),hg(a,i,o),!0}return!1}function wc(e,i,a,o){if(o={lane:2,revertLane:hh(),action:o,hasEagerState:!1,eagerState:null,next:null},to(e)){if(i)throw Error(s(479))}else i=Qu(e,a,o,2),i!==null&&He(i,e,2)}function to(e){var i=e.alternate;return e===Tt||i!==null&&i===Tt}function cg(e,i){Qi=Xl=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function hg(e,i,a){if(a&4194176){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,wp(e,a)}}var jn={readContext:ke,use:Kl,useCallback:te,useContext:te,useEffect:te,useImperativeHandle:te,useLayoutEffect:te,useInsertionEffect:te,useMemo:te,useReducer:te,useRef:te,useState:te,useDebugValue:te,useDeferredValue:te,useTransition:te,useSyncExternalStore:te,useId:te};jn.useCacheRefresh=te,jn.useMemoCache=te,jn.useHostTransitionStatus=te,jn.useFormState=te,jn.useActionState=te,jn.useOptimistic=te;var li={readContext:ke,use:Kl,useCallback:function(e,i){return Le().memoizedState=[e,i===void 0?null:i],e},useContext:ke,useEffect:Km,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Zl(4194308,4,Jm.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Zl(4194308,4,e,i)},useInsertionEffect:function(e,i){Zl(4,2,e,i)},useMemo:function(e,i){var a=Le();i=i===void 0?null:i;var o=e();if(ai){vr(!0);try{e()}finally{vr(!1)}}return a.memoizedState=[o,i],o},useReducer:function(e,i,a){var o=Le();if(a!==void 0){var f=a(i);if(ai){vr(!0);try{a(i)}finally{vr(!1)}}}else f=i;return o.memoizedState=o.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},o.queue=e,e=e.dispatch=Cw.bind(null,Tt,e),[o.memoizedState,e]},useRef:function(e){var i=Le();return e={current:e},i.memoizedState=e},useState:function(e){e=mc(e);var i=e.queue,a=ug.bind(null,Tt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:xc,useDeferredValue:function(e,i){var a=Le();return bc(a,e,i)},useTransition:function(){var e=mc(!1);return e=ig.bind(null,Tt,e.queue,!0,!1),Le().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var o=Tt,f=Le();if(zt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Gt===null)throw Error(s(349));kt&60||jm(o,i,a)}f.memoizedState=a;var p={value:a,getSnapshot:i};return f.queue=p,Km(Nm.bind(null,o,p,e),[e]),o.flags|=2048,Ji(9,Dm.bind(null,o,p,a,i),{destroy:void 0},null),a},useId:function(){var e=Le(),i=Gt.identifierPrefix;if(zt){var a=Kn,o=$n;a=(o&~(1<<32-Ye(o)-1)).toString(32)+a,i=":"+i+"R"+a,a=Wl++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=ww++,i=":"+i+"r"+a.toString(32)+":";return e.memoizedState=i},useCacheRefresh:function(){return Le().memoizedState=Mw.bind(null,Tt)}};li.useMemoCache=fc,li.useHostTransitionStatus=_c,li.useFormState=Ym,li.useActionState=Ym,li.useOptimistic=function(e){var i=Le();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=wc.bind(null,Tt,!0,a),a.dispatch=i,[e,i]};var Mr={readContext:ke,use:Kl,useCallback:eg,useContext:ke,useEffect:yc,useImperativeHandle:tg,useInsertionEffect:Qm,useLayoutEffect:Zm,useMemo:ng,useReducer:Ql,useRef:$m,useState:function(){return Ql(Zn)},useDebugValue:xc,useDeferredValue:function(e,i){var a=ie();return rg(a,Nt.memoizedState,e,i)},useTransition:function(){var e=Ql(Zn)[0],i=ie().memoizedState;return[typeof e=="boolean"?e:sa(e),i]},useSyncExternalStore:Bm,useId:lg};Mr.useCacheRefresh=og,Mr.useMemoCache=fc,Mr.useHostTransitionStatus=_c,Mr.useFormState=Vm,Mr.useActionState=Vm,Mr.useOptimistic=function(e,i){var a=ie();return Um(a,Nt,e,i)};var oi={readContext:ke,use:Kl,useCallback:eg,useContext:ke,useEffect:yc,useImperativeHandle:tg,useInsertionEffect:Qm,useLayoutEffect:Zm,useMemo:ng,useReducer:pc,useRef:$m,useState:function(){return pc(Zn)},useDebugValue:xc,useDeferredValue:function(e,i){var a=ie();return Nt===null?bc(a,e,i):rg(a,Nt.memoizedState,e,i)},useTransition:function(){var e=pc(Zn)[0],i=ie().memoizedState;return[typeof e=="boolean"?e:sa(e),i]},useSyncExternalStore:Bm,useId:lg};oi.useCacheRefresh=og,oi.useMemoCache=fc,oi.useHostTransitionStatus=_c,oi.useFormState=Wm,oi.useActionState=Wm,oi.useOptimistic=function(e,i){var a=ie();return Nt!==null?Um(a,Nt,e,i):(a.baseState=e,[e,a.queue.dispatch])};function Sc(e,i,a,o){i=e.memoizedState,a=a(o,i),a=a==null?i:$({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Ac={isMounted:function(e){return(e=e._reactInternals)?j(e)===e:!1},enqueueSetState:function(e,i,a){e=e._reactInternals;var o=Ke(),f=Rr(o);f.payload=i,a!=null&&(f.callback=a),i=zr(e,f,o),i!==null&&(He(i,e,o),ua(i,e,o))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var o=Ke(),f=Rr(o);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=zr(e,f,o),i!==null&&(He(i,e,o),ua(i,e,o))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=Ke(),o=Rr(a);o.tag=2,i!=null&&(o.callback=i),i=zr(e,o,a),i!==null&&(He(i,e,a),ua(i,e,a))}};function fg(e,i,a,o,f,p,x){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,p,x):i.prototype&&i.prototype.isPureReactComponent?!Xs(a,o)||!Xs(f,p):!0}function dg(e,i,a,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==e&&Ac.enqueueReplaceState(i,i.state,null)}function ui(e,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(e=e.defaultProps){a===i&&(a=$({},a));for(var f in e)a[f]===void 0&&(a[f]=e[f])}return a}var eo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function pg(e){eo(e)}function mg(e){console.error(e)}function gg(e){eo(e)}function no(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function yg(e,i,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Tc(e,i,a){return a=Rr(a),a.tag=3,a.payload={element:null},a.callback=function(){no(e,i)},a}function xg(e){return e=Rr(e),e.tag=3,e}function bg(e,i,a,o){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var p=o.value;e.payload=function(){return f(p)},e.callback=function(){yg(i,a,o)}}var x=a.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(e.callback=function(){yg(i,a,o),typeof f!="function"&&(Hr===null?Hr=new Set([this]):Hr.add(this));var A=o.stack;this.componentDidCatch(o.value,{componentStack:A!==null?A:""})})}function kw(e,i,a,o,f){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&oa(i,a,f,!0),a=cn.current,a!==null){switch(a.tag){case 13:return Bn===null?ah():a.alternate===null&&Qt===0&&(Qt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,o===ec?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),oh(e,o,f)),!1;case 22:return a.flags|=65536,o===ec?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),oh(e,o,f)),!1}throw Error(s(435,a.tag))}return oh(e,o,f),ah(),!1}if(zt)return i=cn.current,i!==null?(!(i.flags&65536)&&(i.flags|=256),i.flags|=65536,i.lanes=f,o!==tc&&(e=Error(s(422),{cause:o}),Qs(ln(e,a)))):(o!==tc&&(i=Error(s(423),{cause:o}),Qs(ln(i,a))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,o=ln(o,a),f=Tc(e.stateNode,o,f),Gc(e,f),Qt!==4&&(Qt=2)),!1;var p=Error(s(520),{cause:o});if(p=ln(p,a),ya===null?ya=[p]:ya.push(p),Qt!==4&&(Qt=2),i===null)return!0;o=ln(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=f&-f,a.lanes|=e,e=Tc(a.stateNode,o,e),Gc(a,e),!1;case 1:if(i=a.type,p=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Hr===null||!Hr.has(p))))return a.flags|=65536,f&=-f,a.lanes|=f,f=xg(f),bg(f,e,a,o),Gc(a,f),!1}a=a.return}while(a!==null);return!1}var vg=Error(s(461)),ge=!1;function Se(e,i,a,o){i.child=e===null?Tm(i,null,a,o):ii(i,e.child,a,o)}function _g(e,i,a,o,f){a=a.render;var p=i.ref;if("ref"in o){var x={};for(var A in o)A!=="ref"&&(x[A]=o[A])}else x=o;return hi(i),o=oc(e,i,a,x,p,f),A=uc(),e!==null&&!ge?(cc(e,i,f),Jn(e,i,f)):(zt&&A&&Zu(i),i.flags|=1,Se(e,i,o,f),i.child)}function wg(e,i,a,o,f){if(e===null){var p=a.type;return typeof p=="function"&&!Wc(p)&&p.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=p,Sg(e,i,p,o,f)):(e=lo(a.type,null,o,i,i.mode,f),e.ref=i.ref,e.return=i,i.child=e)}if(p=e.child,!jc(e,f)){var x=p.memoizedProps;if(a=a.compare,a=a!==null?a:Xs,a(x,o)&&e.ref===i.ref)return Jn(e,i,f)}return i.flags|=1,e=Dr(p,o),e.ref=i.ref,e.return=i,i.child=e}function Sg(e,i,a,o,f){if(e!==null){var p=e.memoizedProps;if(Xs(p,o)&&e.ref===i.ref)if(ge=!1,i.pendingProps=o=p,jc(e,f))e.flags&131072&&(ge=!0);else return i.lanes=e.lanes,Jn(e,i,f)}return Ec(e,i,a,o,f)}function Ag(e,i,a){var o=i.pendingProps,f=o.children,p=(i.stateNode._pendingVisibility&2)!==0,x=e!==null?e.memoizedState:null;if(la(e,i),o.mode==="hidden"||p){if(i.flags&128){if(o=x!==null?x.baseLanes|a:a,e!==null){for(f=i.child=e.child,p=0;f!==null;)p=p|f.lanes|f.childLanes,f=f.sibling;i.childLanes=p&~o}else i.childLanes=0,i.child=null;return Tg(e,i,o,a)}if(a&536870912)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Vl(i,x!==null?x.cachePool:null),x!==null?Em(i,x):nc(),Mm(i);else return i.lanes=i.childLanes=536870912,Tg(e,i,x!==null?x.baseLanes|a:a,a)}else x!==null?(Vl(i,x.cachePool),Em(i,x),Tr(),i.memoizedState=null):(e!==null&&Vl(i,null),nc(),Tr());return Se(e,i,f,a),i.child}function Tg(e,i,a,o){var f=ac();return f=f===null?null:{parent:ce._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},e!==null&&Vl(i,null),nc(),Mm(i),e!==null&&oa(e,i,o,!0),null}function la(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=2097664)}}function Ec(e,i,a,o,f){return hi(i),a=oc(e,i,a,o,void 0,f),o=uc(),e!==null&&!ge?(cc(e,i,f),Jn(e,i,f)):(zt&&o&&Zu(i),i.flags|=1,Se(e,i,a,f),i.child)}function Eg(e,i,a,o,f,p){return hi(i),i.updateQueue=null,a=Om(i,o,a,f),zm(e),o=uc(),e!==null&&!ge?(cc(e,i,p),Jn(e,i,p)):(zt&&o&&Zu(i),i.flags|=1,Se(e,i,a,p),i.child)}function Mg(e,i,a,o,f){if(hi(i),i.stateNode===null){var p=Fi,x=a.contextType;typeof x=="object"&&x!==null&&(p=ke(x)),p=new a(o,p),i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Ac,i.stateNode=p,p._reactInternals=i,p=i.stateNode,p.props=o,p.state=i.memoizedState,p.refs={},Pc(i),x=a.contextType,p.context=typeof x=="object"&&x!==null?ke(x):Fi,p.state=i.memoizedState,x=a.getDerivedStateFromProps,typeof x=="function"&&(Sc(i,a,x,o),p.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(x=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),x!==p.state&&Ac.enqueueReplaceState(p,p.state,null),ha(i,o,p,f),ca(),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(e===null){p=i.stateNode;var A=i.memoizedProps,O=ui(a,A);p.props=O;var U=p.context,Q=a.contextType;x=Fi,typeof Q=="object"&&Q!==null&&(x=ke(Q));var tt=a.getDerivedStateFromProps;Q=typeof tt=="function"||typeof p.getSnapshotBeforeUpdate=="function",A=i.pendingProps!==A,Q||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(A||U!==x)&&dg(i,p,o,x),kr=!1;var X=i.memoizedState;p.state=X,ha(i,o,p,f),ca(),U=i.memoizedState,A||X!==U||kr?(typeof tt=="function"&&(Sc(i,a,tt,o),U=i.memoizedState),(O=kr||fg(i,a,O,o,X,U,x))?(Q||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(i.flags|=4194308)):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=U),p.props=o,p.state=U,p.context=x,o=O):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{p=i.stateNode,Uc(e,i),x=i.memoizedProps,Q=ui(a,x),p.props=Q,tt=i.pendingProps,X=p.context,U=a.contextType,O=Fi,typeof U=="object"&&U!==null&&(O=ke(U)),A=a.getDerivedStateFromProps,(U=typeof A=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(x!==tt||X!==O)&&dg(i,p,o,O),kr=!1,X=i.memoizedState,p.state=X,ha(i,o,p,f),ca();var K=i.memoizedState;x!==tt||X!==K||kr||e!==null&&e.dependencies!==null&&ro(e.dependencies)?(typeof A=="function"&&(Sc(i,a,A,o),K=i.memoizedState),(Q=kr||fg(i,a,Q,o,X,K,O)||e!==null&&e.dependencies!==null&&ro(e.dependencies))?(U||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(o,K,O),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(o,K,O)),typeof p.componentDidUpdate=="function"&&(i.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof p.componentDidUpdate!="function"||x===e.memoizedProps&&X===e.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&X===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=K),p.props=o,p.state=K,p.context=O,o=Q):(typeof p.componentDidUpdate!="function"||x===e.memoizedProps&&X===e.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&X===e.memoizedState||(i.flags|=1024),o=!1)}return p=o,la(e,i),o=(i.flags&128)!==0,p||o?(p=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:p.render(),i.flags|=1,e!==null&&o?(i.child=ii(i,e.child,null,f),i.child=ii(i,null,a,f)):Se(e,i,a,f),i.memoizedState=p.state,e=i.child):e=Jn(e,i,f),e}function Cg(e,i,a,o){return Ks(),i.flags|=256,Se(e,i,a,o),i.child}var Mc={dehydrated:null,treeContext:null,retryLane:0};function Cc(e){return{baseLanes:e,cachePool:Rm()}}function kc(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=pn),e}function kg(e,i,a){var o=i.pendingProps,f=!1,p=(i.flags&128)!==0,x;if((x=p)||(x=e!==null&&e.memoizedState===null?!1:(ue.current&2)!==0),x&&(f=!0,i.flags&=-129),x=(i.flags&32)!==0,i.flags&=-33,e===null){if(zt){if(f?Ar(i):Tr(),zt){var A=we,O;if(O=A){t:{for(O=A,A=On;O.nodeType!==8;){if(!A){A=null;break t}if(O=An(O.nextSibling),O===null){A=null;break t}}A=O}A!==null?(i.memoizedState={dehydrated:A,treeContext:ei!==null?{id:$n,overflow:Kn}:null,retryLane:536870912},O=dn(18,null,null,0),O.stateNode=A,O.return=i,i.child=O,Ne=i,we=null,O=!0):O=!1}O||ri(i)}if(A=i.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return A.data==="$!"?i.lanes=16:i.lanes=536870912,null;Qn(i)}return A=o.children,o=o.fallback,f?(Tr(),f=i.mode,A=zc({mode:"hidden",children:A},f),o=di(o,f,a,null),A.return=i,o.return=i,A.sibling=o,i.child=A,f=i.child,f.memoizedState=Cc(a),f.childLanes=kc(e,x,a),i.memoizedState=Mc,o):(Ar(i),Rc(i,A))}if(O=e.memoizedState,O!==null&&(A=O.dehydrated,A!==null)){if(p)i.flags&256?(Ar(i),i.flags&=-257,i=Oc(e,i,a)):i.memoizedState!==null?(Tr(),i.child=e.child,i.flags|=128,i=null):(Tr(),f=o.fallback,A=i.mode,o=zc({mode:"visible",children:o.children},A),f=di(f,A,a,null),f.flags|=2,o.return=i,f.return=i,o.sibling=f,i.child=o,ii(i,e.child,null,a),o=i.child,o.memoizedState=Cc(a),o.childLanes=kc(e,x,a),i.memoizedState=Mc,i=f);else if(Ar(i),A.data==="$!"){if(x=A.nextSibling&&A.nextSibling.dataset,x)var U=x.dgst;x=U,o=Error(s(419)),o.stack="",o.digest=x,Qs({value:o,source:null,stack:null}),i=Oc(e,i,a)}else if(ge||oa(e,i,a,!1),x=(a&e.childLanes)!==0,ge||x){if(x=Gt,x!==null){if(o=a&-a,o&42)o=1;else switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=64;break;case 268435456:o=134217728;break;default:o=0}if(o=o&(x.suspendedLanes|a)?0:o,o!==0&&o!==O.retryLane)throw O.retryLane=o,Sr(e,o),He(x,e,o),vg}A.data==="$?"||ah(),i=Oc(e,i,a)}else A.data==="$?"?(i.flags|=128,i.child=e.child,i=Fw.bind(null,e),A._reactRetry=i,i=null):(e=O.treeContext,we=An(A.nextSibling),Ne=i,zt=!0,wn=null,On=!1,e!==null&&(on[un++]=$n,on[un++]=Kn,on[un++]=ei,$n=e.id,Kn=e.overflow,ei=i),i=Rc(i,o.children),i.flags|=4096);return i}return f?(Tr(),f=o.fallback,A=i.mode,O=e.child,U=O.sibling,o=Dr(O,{mode:"hidden",children:o.children}),o.subtreeFlags=O.subtreeFlags&31457280,U!==null?f=Dr(U,f):(f=di(f,A,a,null),f.flags|=2),f.return=i,o.return=i,o.sibling=f,i.child=o,o=f,f=i.child,A=e.child.memoizedState,A===null?A=Cc(a):(O=A.cachePool,O!==null?(U=ce._currentValue,O=O.parent!==U?{parent:U,pool:U}:O):O=Rm(),A={baseLanes:A.baseLanes|a,cachePool:O}),f.memoizedState=A,f.childLanes=kc(e,x,a),i.memoizedState=Mc,o):(Ar(i),a=e.child,e=a.sibling,a=Dr(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,e!==null&&(x=i.deletions,x===null?(i.deletions=[e],i.flags|=16):x.push(e)),i.child=a,i.memoizedState=null,a)}function Rc(e,i){return i=zc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function zc(e,i){return ey(e,i,0,null)}function Oc(e,i,a){return ii(i,e.child,null,a),e=Rc(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Rg(e,i,a){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),Nc(e.return,i,a)}function Bc(e,i,a,o,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:f}:(p.isBackwards=i,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=a,p.tailMode=f)}function zg(e,i,a){var o=i.pendingProps,f=o.revealOrder,p=o.tail;if(Se(e,i,o.children,a),o=ue.current,o&2)o=o&1|2,i.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Rg(e,a,i);else if(e.tag===19)Rg(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(ot(ue,o),f){case"forwards":for(a=i.child,f=null;a!==null;)e=a.alternate,e!==null&&Yl(e)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),Bc(i,!1,f,a,p);break;case"backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(e=f.alternate,e!==null&&Yl(e)===null){i.child=f;break}e=f.sibling,f.sibling=a,a=f,f=e}Bc(i,!0,a,null,p);break;case"together":Bc(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Jn(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Nr|=i.lanes,!(a&i.childLanes))if(e!==null){if(oa(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Dr(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Dr(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function jc(e,i){return e.lanes&i?!0:(e=e.dependencies,!!(e!==null&&ro(e)))}function Rw(e,i,a){switch(i.tag){case 3:_t(i,i.stateNode.containerInfo),Cr(i,ce,e.memoizedState.cache),Ks();break;case 27:case 5:Ri(i);break;case 4:_t(i,i.stateNode.containerInfo);break;case 10:Cr(i,i.type,i.memoizedProps.value);break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(Ar(i),i.flags|=128,null):a&i.child.childLanes?kg(e,i,a):(Ar(i),e=Jn(e,i,a),e!==null?e.sibling:null);Ar(i);break;case 19:var f=(e.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(oa(e,i,a,!1),o=(a&i.childLanes)!==0),f){if(o)return zg(e,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ot(ue,ue.current),o)break;return null;case 22:case 23:return i.lanes=0,Ag(e,i,a);case 24:Cr(i,ce,e.memoizedState.cache)}return Jn(e,i,a)}function Og(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)ge=!0;else{if(!jc(e,a)&&!(i.flags&128))return ge=!1,Rw(e,i,a);ge=!!(e.flags&131072)}else ge=!1,zt&&i.flags&1048576&&gm(i,Gl,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var o=i.elementType,f=o._init;if(o=f(o._payload),i.type=o,typeof o=="function")Wc(o)?(e=ui(o,e),i.tag=1,i=Mg(null,i,o,e,a)):(i.tag=0,i=Ec(null,i,o,e,a));else{if(o!=null){if(f=o.$$typeof,f===T){i.tag=11,i=_g(null,i,o,e,a);break t}else if(f===R){i.tag=14,i=wg(null,i,o,e,a);break t}}throw i=et(o)||o,Error(s(306,i,""))}}return i;case 0:return Ec(e,i,i.type,i.pendingProps,a);case 1:return o=i.type,f=ui(o,i.pendingProps),Mg(e,i,o,f,a);case 3:t:{if(_t(i,i.stateNode.containerInfo),e===null)throw Error(s(387));var p=i.pendingProps;f=i.memoizedState,o=f.element,Uc(e,i),ha(i,p,null,a);var x=i.memoizedState;if(p=x.cache,Cr(i,ce,p),p!==f.cache&&Hc(i,[ce],a,!0),ca(),p=x.element,f.isDehydrated)if(f={element:p,isDehydrated:!1,cache:x.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=Cg(e,i,p,a);break t}else if(p!==o){o=ln(Error(s(424)),i),Qs(o),i=Cg(e,i,p,a);break t}else for(we=An(i.stateNode.containerInfo.firstChild),Ne=i,zt=!0,wn=null,On=!0,a=Tm(i,null,p,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ks(),p===o){i=Jn(e,i,a);break t}Se(e,i,p,a)}i=i.child}return i;case 26:return la(e,i),e===null?(a=Dy(i.type,null,i.pendingProps,null))?i.memoizedState=a:zt||(a=i.type,e=i.pendingProps,o=vo(oe.current).createElement(a),o[Ce]=i,o[Ue]=e,Ae(o,a,e),me(o),i.stateNode=o):i.memoizedState=Dy(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Ri(i),e===null&&zt&&(o=i.stateNode=Oy(i.type,i.pendingProps,oe.current),Ne=i,On=!0,we=An(o.firstChild)),o=i.pendingProps.children,e!==null||zt?Se(e,i,o,a):i.child=ii(i,null,o,a),la(e,i),i.child;case 5:return e===null&&zt&&((f=o=we)&&(o=aS(o,i.type,i.pendingProps,On),o!==null?(i.stateNode=o,Ne=i,we=An(o.firstChild),On=!1,f=!0):f=!1),f||ri(i)),Ri(i),f=i.type,p=i.pendingProps,x=e!==null?e.memoizedProps:null,o=p.children,vh(f,p)?o=null:x!==null&&vh(f,x)&&(i.flags|=32),i.memoizedState!==null&&(f=oc(e,i,Sw,null,null,a),Ea._currentValue=f),la(e,i),Se(e,i,o,a),i.child;case 6:return e===null&&zt&&((e=a=we)&&(a=lS(a,i.pendingProps,On),a!==null?(i.stateNode=a,Ne=i,we=null,e=!0):e=!1),e||ri(i)),null;case 13:return kg(e,i,a);case 4:return _t(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=ii(i,null,o,a):Se(e,i,o,a),i.child;case 11:return _g(e,i,i.type,i.pendingProps,a);case 7:return Se(e,i,i.pendingProps,a),i.child;case 8:return Se(e,i,i.pendingProps.children,a),i.child;case 12:return Se(e,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,Cr(i,i.type,o.value),Se(e,i,o.children,a),i.child;case 9:return f=i.type._context,o=i.pendingProps.children,hi(i),f=ke(f),o=o(f),i.flags|=1,Se(e,i,o,a),i.child;case 14:return wg(e,i,i.type,i.pendingProps,a);case 15:return Sg(e,i,i.type,i.pendingProps,a);case 19:return zg(e,i,a);case 22:return Ag(e,i,a);case 24:return hi(i),o=ke(ce),e===null?(f=ac(),f===null&&(f=Gt,p=ic(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=a),f=p),i.memoizedState={parent:o,cache:f},Pc(i),Cr(i,ce,f)):(e.lanes&a&&(Uc(e,i),ha(i,null,null,a),ca()),f=e.memoizedState,p=i.memoizedState,f.parent!==o?(f={parent:o,cache:o},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Cr(i,ce,o)):(o=p.cache,Cr(i,ce,o),o!==f.cache&&Hc(i,[ce],a,!0))),Se(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var Dc=st(null),ci=null,tr=null;function Cr(e,i,a){ot(Dc,i._currentValue),i._currentValue=a}function er(e){e._currentValue=Dc.current,mt(Dc)}function Nc(e,i,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===a)break;e=e.return}}function Hc(e,i,a,o){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var p=f.dependencies;if(p!==null){var x=f.child;p=p.firstContext;t:for(;p!==null;){var A=p;p=f;for(var O=0;O<i.length;O++)if(A.context===i[O]){p.lanes|=a,A=p.alternate,A!==null&&(A.lanes|=a),Nc(p.return,a,e),o||(x=null);break t}p=A.next}}else if(f.tag===18){if(x=f.return,x===null)throw Error(s(341));x.lanes|=a,p=x.alternate,p!==null&&(p.lanes|=a),Nc(x,a,e),x=null}else x=f.child;if(x!==null)x.return=f;else for(x=f;x!==null;){if(x===e){x=null;break}if(f=x.sibling,f!==null){f.return=x.return,x=f;break}x=x.return}f=x}}function oa(e,i,a,o){e=null;for(var f=i,p=!1;f!==null;){if(!p){if(f.flags&524288)p=!0;else if(f.flags&262144)break}if(f.tag===10){var x=f.alternate;if(x===null)throw Error(s(387));if(x=x.memoizedProps,x!==null){var A=f.type;Ve(f.pendingProps.value,x.value)||(e!==null?e.push(A):e=[A])}}else if(f===De.current){if(x=f.alternate,x===null)throw Error(s(387));x.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Ea):e=[Ea])}f=f.return}e!==null&&Hc(i,e,a,o),i.flags|=262144}function ro(e){for(e=e.firstContext;e!==null;){if(!Ve(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function hi(e){ci=e,tr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ke(e){return Bg(ci,e)}function io(e,i){return ci===null&&hi(e),Bg(e,i)}function Bg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},tr===null){if(e===null)throw Error(s(308));tr=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else tr=tr.next=i;return a}var kr=!1;function Pc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Uc(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Rr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function zr(e,i,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,Xt&2){var f=o.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),o.pending=i,i=Pl(e),pm(e,null,a),i}return Hl(e,o,i,a),Pl(e)}function ua(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194176)!==0)){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,wp(e,a)}}function Gc(e,i){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var f=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var x={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};p===null?f=p=x:p=p.next=x,a=a.next}while(a!==null);p===null?f=p=i:p=p.next=i}else f=p=i;a={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Lc=!1;function ca(){if(Lc){var e=Ki;if(e!==null)throw e}}function ha(e,i,a,o){Lc=!1;var f=e.updateQueue;kr=!1;var p=f.firstBaseUpdate,x=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var O=A,U=O.next;O.next=null,x===null?p=U:x.next=U,x=O;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,A=Q.lastBaseUpdate,A!==x&&(A===null?Q.firstBaseUpdate=U:A.next=U,Q.lastBaseUpdate=O))}if(p!==null){var tt=f.baseState;x=0,Q=U=O=null,A=p;do{var X=A.lane&-536870913,K=X!==A.lane;if(K?(kt&X)===X:(o&X)===X){X!==0&&X===$i&&(Lc=!0),Q!==null&&(Q=Q.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var ht=e,vt=A;X=i;var Zt=a;switch(vt.tag){case 1:if(ht=vt.payload,typeof ht=="function"){tt=ht.call(Zt,tt,X);break t}tt=ht;break t;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=vt.payload,X=typeof ht=="function"?ht.call(Zt,tt,X):ht,X==null)break t;tt=$({},tt,X);break t;case 2:kr=!0}}X=A.callback,X!==null&&(e.flags|=64,K&&(e.flags|=8192),K=f.callbacks,K===null?f.callbacks=[X]:K.push(X))}else K={lane:X,tag:A.tag,payload:A.payload,callback:A.callback,next:null},Q===null?(U=Q=K,O=tt):Q=Q.next=K,x|=X;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;K=A,A=K.next,K.next=null,f.lastBaseUpdate=K,f.shared.pending=null}}while(!0);Q===null&&(O=tt),f.baseState=O,f.firstBaseUpdate=U,f.lastBaseUpdate=Q,p===null&&(f.shared.lanes=0),Nr|=x,e.lanes=x,e.memoizedState=tt}}function jg(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function Dg(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)jg(a[e],i)}function fa(e,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var f=o.next;a=f;do{if((a.tag&e)===e){o=void 0;var p=a.create,x=a.inst;o=p(),x.destroy=o}a=a.next}while(a!==f)}}catch(A){Ut(i,i.return,A)}}function Or(e,i,a){try{var o=i.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var p=f.next;o=p;do{if((o.tag&e)===e){var x=o.inst,A=x.destroy;if(A!==void 0){x.destroy=void 0,f=i;var O=a;try{A()}catch(U){Ut(f,O,U)}}}o=o.next}while(o!==p)}}catch(U){Ut(i,i.return,U)}}function Ng(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Dg(i,a)}catch(o){Ut(e,e.return,o)}}}function Hg(e,i,a){a.props=ui(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Ut(e,i,o)}}function fi(e,i){try{var a=e.ref;if(a!==null){var o=e.stateNode;switch(e.tag){case 26:case 27:case 5:var f=o;break;default:f=o}typeof a=="function"?e.refCleanup=a(f):a.current=f}}catch(p){Ut(e,i,p)}}function Xe(e,i){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(f){Ut(e,i,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Ut(e,i,f)}else a.current=null}function Pg(e){var i=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(f){Ut(e,e.return,f)}}function Ug(e,i,a){try{var o=e.stateNode;eS(o,e.type,a,i),o[Ue]=i}catch(f){Ut(e,e.return,f)}}function Gg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function Ic(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Gg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qc(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(e,i):a.insertBefore(e,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(e,a)):(i=a,i.appendChild(e)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=bo));else if(o!==4&&o!==27&&(e=e.child,e!==null))for(qc(e,i,a),e=e.sibling;e!==null;)qc(e,i,a),e=e.sibling}function so(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(o!==4&&o!==27&&(e=e.child,e!==null))for(so(e,i,a),e=e.sibling;e!==null;)so(e,i,a),e=e.sibling}var nr=!1,Kt=!1,Fc=!1,Lg=typeof WeakSet=="function"?WeakSet:Set,ye=null,Ig=!1;function zw(e,i){if(e=e.containerInfo,xh=Eo,e=sm(e),Vu(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var f=o.anchorOffset,p=o.focusNode;o=o.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break t}var x=0,A=-1,O=-1,U=0,Q=0,tt=e,X=null;e:for(;;){for(var K;tt!==a||f!==0&&tt.nodeType!==3||(A=x+f),tt!==p||o!==0&&tt.nodeType!==3||(O=x+o),tt.nodeType===3&&(x+=tt.nodeValue.length),(K=tt.firstChild)!==null;)X=tt,tt=K;for(;;){if(tt===e)break e;if(X===a&&++U===f&&(A=x),X===p&&++Q===o&&(O=x),(K=tt.nextSibling)!==null)break;tt=X,X=tt.parentNode}tt=K}a=A===-1||O===-1?null:{start:A,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(bh={focusedElem:e,selectionRange:a},Eo=!1,ye=i;ye!==null;)if(i=ye,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,ye=e;else for(;ye!==null;){switch(i=ye,p=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&p!==null){e=void 0,a=i,f=p.memoizedProps,p=p.memoizedState,o=a.stateNode;try{var ht=ui(a.type,f,a.elementType===a.type);e=o.getSnapshotBeforeUpdate(ht,p),o.__reactInternalSnapshotBeforeUpdate=e}catch(vt){Ut(a,a.return,vt)}}break;case 3:if(e&1024){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Sh(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Sh(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,ye=e;break}ye=i.return}return ht=Ig,Ig=!1,ht}function qg(e,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:ir(e,a),o&4&&fa(5,a);break;case 1:if(ir(e,a),o&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(A){Ut(a,a.return,A)}else{var f=ui(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(f,i,e.__reactInternalSnapshotBeforeUpdate)}catch(A){Ut(a,a.return,A)}}o&64&&Ng(a),o&512&&fi(a,a.return);break;case 3:if(ir(e,a),o&64&&(o=a.updateQueue,o!==null)){if(e=null,a.child!==null)switch(a.child.tag){case 27:case 5:e=a.child.stateNode;break;case 1:e=a.child.stateNode}try{Dg(o,e)}catch(A){Ut(a,a.return,A)}}break;case 26:ir(e,a),o&512&&fi(a,a.return);break;case 27:case 5:ir(e,a),i===null&&o&4&&Pg(a),o&512&&fi(a,a.return);break;case 12:ir(e,a);break;case 13:ir(e,a),o&4&&Vg(e,a);break;case 22:if(f=a.memoizedState!==null||nr,!f){i=i!==null&&i.memoizedState!==null||Kt;var p=nr,x=Kt;nr=f,(Kt=i)&&!x?Br(e,a,(a.subtreeFlags&8772)!==0):ir(e,a),nr=p,Kt=x}o&512&&(a.memoizedProps.mode==="manual"?fi(a,a.return):Xe(a,a.return));break;default:ir(e,a)}}function Fg(e){var i=e.alternate;i!==null&&(e.alternate=null,Fg(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Ru(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var se=null,We=!1;function rr(e,i,a){for(a=a.child;a!==null;)Yg(e,i,a),a=a.sibling}function Yg(e,i,a){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(Ds,a)}catch{}switch(a.tag){case 26:Kt||Xe(a,i),rr(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Kt||Xe(a,i);var o=se,f=We;for(se=a.stateNode,rr(e,i,a),a=a.stateNode,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);Ru(a),se=o,We=f;break;case 5:Kt||Xe(a,i);case 6:f=se;var p=We;if(se=null,rr(e,i,a),se=f,We=p,se!==null)if(We)try{e=se,o=a.stateNode,e.nodeType===8?e.parentNode.removeChild(o):e.removeChild(o)}catch(x){Ut(a,i,x)}else try{se.removeChild(a.stateNode)}catch(x){Ut(a,i,x)}break;case 18:se!==null&&(We?(i=se,a=a.stateNode,i.nodeType===8?wh(i.parentNode,a):i.nodeType===1&&wh(i,a),Ra(i)):wh(se,a.stateNode));break;case 4:o=se,f=We,se=a.stateNode.containerInfo,We=!0,rr(e,i,a),se=o,We=f;break;case 0:case 11:case 14:case 15:Kt||Or(2,a,i),Kt||Or(4,a,i),rr(e,i,a);break;case 1:Kt||(Xe(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Hg(a,i,o)),rr(e,i,a);break;case 21:rr(e,i,a);break;case 22:Kt||Xe(a,i),Kt=(o=Kt)||a.memoizedState!==null,rr(e,i,a),Kt=o;break;default:rr(e,i,a)}}function Vg(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ra(e)}catch(a){Ut(i,i.return,a)}}function Ow(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Lg),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Lg),i;default:throw Error(s(435,e.tag))}}function Yc(e,i){var a=Ow(e);i.forEach(function(o){var f=Yw.bind(null,e,o);a.has(o)||(a.add(o),o.then(f,f))})}function hn(e,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var f=a[o],p=e,x=i,A=x;t:for(;A!==null;){switch(A.tag){case 27:case 5:se=A.stateNode,We=!1;break t;case 3:se=A.stateNode.containerInfo,We=!0;break t;case 4:se=A.stateNode.containerInfo,We=!0;break t}A=A.return}if(se===null)throw Error(s(160));Yg(p,x,f),se=null,We=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Xg(i,e),i=i.sibling}var Sn=null;function Xg(e,i){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:hn(i,e),fn(e),o&4&&(Or(3,e,e.return),fa(3,e),Or(5,e,e.return));break;case 1:hn(i,e),fn(e),o&512&&(Kt||a===null||Xe(a,a.return)),o&64&&nr&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var f=Sn;if(hn(i,e),fn(e),o&512&&(Kt||a===null||Xe(a,a.return)),o&4){var p=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,f=f.ownerDocument||f;e:switch(o){case"title":p=f.getElementsByTagName("title")[0],(!p||p[Ps]||p[Ce]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(o),f.head.insertBefore(p,f.querySelector("head > title"))),Ae(p,o,a),p[Ce]=e,me(p),o=p;break t;case"link":var x=Py("link","href",f).get(o+(a.href||""));if(x){for(var A=0;A<x.length;A++)if(p=x[A],p.getAttribute("href")===(a.href==null?null:a.href)&&p.getAttribute("rel")===(a.rel==null?null:a.rel)&&p.getAttribute("title")===(a.title==null?null:a.title)&&p.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){x.splice(A,1);break e}}p=f.createElement(o),Ae(p,o,a),f.head.appendChild(p);break;case"meta":if(x=Py("meta","content",f).get(o+(a.content||""))){for(A=0;A<x.length;A++)if(p=x[A],p.getAttribute("content")===(a.content==null?null:""+a.content)&&p.getAttribute("name")===(a.name==null?null:a.name)&&p.getAttribute("property")===(a.property==null?null:a.property)&&p.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&p.getAttribute("charset")===(a.charSet==null?null:a.charSet)){x.splice(A,1);break e}}p=f.createElement(o),Ae(p,o,a),f.head.appendChild(p);break;default:throw Error(s(468,o))}p[Ce]=e,me(p),o=p}e.stateNode=o}else Uy(f,e.type,e.stateNode);else e.stateNode=Hy(f,o,e.memoizedProps);else p!==o?(p===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):p.count--,o===null?Uy(f,e.type,e.stateNode):Hy(f,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Ug(e,e.memoizedProps,a.memoizedProps)}break;case 27:if(o&4&&e.alternate===null){f=e.stateNode,p=e.memoizedProps;try{for(var O=f.firstChild;O;){var U=O.nextSibling,Q=O.nodeName;O[Ps]||Q==="HEAD"||Q==="BODY"||Q==="SCRIPT"||Q==="STYLE"||Q==="LINK"&&O.rel.toLowerCase()==="stylesheet"||f.removeChild(O),O=U}for(var tt=e.type,X=f.attributes;X.length;)f.removeAttributeNode(X[0]);Ae(f,tt,p),f[Ce]=e,f[Ue]=p}catch(ht){Ut(e,e.return,ht)}}case 5:if(hn(i,e),fn(e),o&512&&(Kt||a===null||Xe(a,a.return)),e.flags&32){f=e.stateNode;try{Hi(f,"")}catch(ht){Ut(e,e.return,ht)}}o&4&&e.stateNode!=null&&(f=e.memoizedProps,Ug(e,f,a!==null?a.memoizedProps:f)),o&1024&&(Fc=!0);break;case 6:if(hn(i,e),fn(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(ht){Ut(e,e.return,ht)}}break;case 3:if(So=null,f=Sn,Sn=_o(i.containerInfo),hn(i,e),Sn=f,fn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Ra(i.containerInfo)}catch(ht){Ut(e,e.return,ht)}Fc&&(Fc=!1,Wg(e));break;case 4:o=Sn,Sn=_o(e.stateNode.containerInfo),hn(i,e),fn(e),Sn=o;break;case 12:hn(i,e),fn(e);break;case 13:hn(i,e),fn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(th=zn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Yc(e,o)));break;case 22:if(o&512&&(Kt||a===null||Xe(a,a.return)),O=e.memoizedState!==null,U=a!==null&&a.memoizedState!==null,Q=nr,tt=Kt,nr=Q||O,Kt=tt||U,hn(i,e),Kt=tt,nr=Q,fn(e),i=e.stateNode,i._current=e,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,o&8192&&(i._visibility=O?i._visibility&-2:i._visibility|1,O&&(i=nr||Kt,a===null||U||i||ts(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))t:for(a=null,i=e;;){if(i.tag===5||i.tag===26||i.tag===27){if(a===null){U=a=i;try{if(f=U.stateNode,O)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{x=U.stateNode,A=U.memoizedProps.style;var K=A!=null&&A.hasOwnProperty("display")?A.display:null;x.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(ht){Ut(U,U.return,ht)}}}else if(i.tag===6){if(a===null){U=i;try{U.stateNode.nodeValue=O?"":U.memoizedProps}catch(ht){Ut(U,U.return,ht)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Yc(e,a))));break;case 19:hn(i,e),fn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Yc(e,o)));break;case 21:break;default:hn(i,e),fn(e)}}function fn(e){var i=e.flags;if(i&2){try{if(e.tag!==27){t:{for(var a=e.return;a!==null;){if(Gg(a)){var o=a;break t}a=a.return}throw Error(s(160))}switch(o.tag){case 27:var f=o.stateNode,p=Ic(e);so(e,p,f);break;case 5:var x=o.stateNode;o.flags&32&&(Hi(x,""),o.flags&=-33);var A=Ic(e);so(e,A,x);break;case 3:case 4:var O=o.stateNode.containerInfo,U=Ic(e);qc(e,U,O);break;default:throw Error(s(161))}}}catch(Q){Ut(e,e.return,Q)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Wg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Wg(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function ir(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)qg(e,i.alternate,i),i=i.sibling}function ts(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Or(4,i,i.return),ts(i);break;case 1:Xe(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Hg(i,i.return,a),ts(i);break;case 26:case 27:case 5:Xe(i,i.return),ts(i);break;case 22:Xe(i,i.return),i.memoizedState===null&&ts(i);break;default:ts(i)}e=e.sibling}}function Br(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,f=e,p=i,x=p.flags;switch(p.tag){case 0:case 11:case 15:Br(f,p,a),fa(4,p);break;case 1:if(Br(f,p,a),o=p,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(U){Ut(o,o.return,U)}if(o=p,f=o.updateQueue,f!==null){var A=o.stateNode;try{var O=f.shared.hiddenCallbacks;if(O!==null)for(f.shared.hiddenCallbacks=null,f=0;f<O.length;f++)jg(O[f],A)}catch(U){Ut(o,o.return,U)}}a&&x&64&&Ng(p),fi(p,p.return);break;case 26:case 27:case 5:Br(f,p,a),a&&o===null&&x&4&&Pg(p),fi(p,p.return);break;case 12:Br(f,p,a);break;case 13:Br(f,p,a),a&&x&4&&Vg(f,p);break;case 22:p.memoizedState===null&&Br(f,p,a),fi(p,p.return);break;default:Br(f,p,a)}i=i.sibling}}function Vc(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&na(a))}function Xc(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&na(e))}function jr(e,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)$g(e,i,a,o),i=i.sibling}function $g(e,i,a,o){var f=i.flags;switch(i.tag){case 0:case 11:case 15:jr(e,i,a,o),f&2048&&fa(9,i);break;case 3:jr(e,i,a,o),f&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&na(e)));break;case 12:if(f&2048){jr(e,i,a,o),e=i.stateNode;try{var p=i.memoizedProps,x=p.id,A=p.onPostCommit;typeof A=="function"&&A(x,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(O){Ut(i,i.return,O)}}else jr(e,i,a,o);break;case 23:break;case 22:p=i.stateNode,i.memoizedState!==null?p._visibility&4?jr(e,i,a,o):da(e,i):p._visibility&4?jr(e,i,a,o):(p._visibility|=4,es(e,i,a,o,(i.subtreeFlags&10256)!==0)),f&2048&&Vc(i.alternate,i);break;case 24:jr(e,i,a,o),f&2048&&Xc(i.alternate,i);break;default:jr(e,i,a,o)}}function es(e,i,a,o,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var p=e,x=i,A=a,O=o,U=x.flags;switch(x.tag){case 0:case 11:case 15:es(p,x,A,O,f),fa(8,x);break;case 23:break;case 22:var Q=x.stateNode;x.memoizedState!==null?Q._visibility&4?es(p,x,A,O,f):da(p,x):(Q._visibility|=4,es(p,x,A,O,f)),f&&U&2048&&Vc(x.alternate,x);break;case 24:es(p,x,A,O,f),f&&U&2048&&Xc(x.alternate,x);break;default:es(p,x,A,O,f)}i=i.sibling}}function da(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,o=i,f=o.flags;switch(o.tag){case 22:da(a,o),f&2048&&Vc(o.alternate,o);break;case 24:da(a,o),f&2048&&Xc(o.alternate,o);break;default:da(a,o)}i=i.sibling}}var pa=8192;function ns(e){if(e.subtreeFlags&pa)for(e=e.child;e!==null;)Kg(e),e=e.sibling}function Kg(e){switch(e.tag){case 26:ns(e),e.flags&pa&&e.memoizedState!==null&&vS(Sn,e.memoizedState,e.memoizedProps);break;case 5:ns(e);break;case 3:case 4:var i=Sn;Sn=_o(e.stateNode.containerInfo),ns(e),Sn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=pa,pa=16777216,ns(e),pa=i):ns(e));break;default:ns(e)}}function Qg(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function ma(e){var i=e.deletions;if(e.flags&16){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];ye=o,Jg(o,e)}Qg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Zg(e),e=e.sibling}function Zg(e){switch(e.tag){case 0:case 11:case 15:ma(e),e.flags&2048&&Or(9,e,e.return);break;case 3:ma(e);break;case 12:ma(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&4&&(e.return===null||e.return.tag!==13)?(i._visibility&=-5,ao(e)):ma(e);break;default:ma(e)}}function ao(e){var i=e.deletions;if(e.flags&16){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];ye=o,Jg(o,e)}Qg(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Or(8,i,i.return),ao(i);break;case 22:a=i.stateNode,a._visibility&4&&(a._visibility&=-5,ao(i));break;default:ao(i)}e=e.sibling}}function Jg(e,i){for(;ye!==null;){var a=ye;switch(a.tag){case 0:case 11:case 15:Or(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:na(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,ye=o;else t:for(a=e;ye!==null;){o=ye;var f=o.sibling,p=o.return;if(Fg(o),o===a){ye=null;break t}if(f!==null){f.return=p,ye=f;break t}ye=p}}}function Bw(e,i,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(e,i,a,o){return new Bw(e,i,a,o)}function Wc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Dr(e,i){var a=e.alternate;return a===null?(a=dn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&31457280,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function ty(e,i){e.flags&=31457282;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function lo(e,i,a,o,f,p){var x=0;if(o=e,typeof e=="function")Wc(e)&&(x=1);else if(typeof e=="string")x=xS(e,a,ne.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case d:return di(a.children,f,p,i);case m:x=8,f|=24;break;case g:return e=dn(12,a,i,f|2),e.elementType=g,e.lanes=p,e;case E:return e=dn(13,a,i,f),e.elementType=E,e.lanes=p,e;case w:return e=dn(19,a,i,f),e.elementType=w,e.lanes=p,e;case D:return ey(a,f,p,i);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case y:case b:x=10;break t;case v:x=9;break t;case T:x=11;break t;case R:x=14;break t;case k:x=16,o=null;break t}x=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return i=dn(x,a,i,f),i.elementType=e,i.type=o,i.lanes=p,i}function di(e,i,a,o){return e=dn(7,e,o,i),e.lanes=a,e}function ey(e,i,a,o){e=dn(22,e,o,i),e.elementType=D,e.lanes=a;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var p=f._current;if(p===null)throw Error(s(456));if(!(f._pendingVisibility&2)){var x=Sr(p,2);x!==null&&(f._pendingVisibility|=2,He(x,p,2))}},attach:function(){var p=f._current;if(p===null)throw Error(s(456));if(f._pendingVisibility&2){var x=Sr(p,2);x!==null&&(f._pendingVisibility&=-3,He(x,p,2))}}};return e.stateNode=f,e}function $c(e,i,a){return e=dn(6,e,null,i),e.lanes=a,e}function Kc(e,i,a){return i=dn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}function sr(e){e.flags|=4}function ny(e,i){if(i.type!=="stylesheet"||i.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!Gy(i)){if(i=cn.current,i!==null&&((kt&4194176)===kt?Bn!==null:(kt&62914560)!==kt&&!(kt&536870912)||i!==Bn))throw Js=ec,bm;e.flags|=8192}}function oo(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?vp():536870912,e.lanes|=i,is|=i)}function ga(e,i){if(!zt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Vt(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(i)for(var f=e.child;f!==null;)a|=f.lanes|f.childLanes,o|=f.subtreeFlags&31457280,o|=f.flags&31457280,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)a|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=o,e.childLanes=a,i}function jw(e,i,a){var o=i.pendingProps;switch(Ju(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(i),null;case 1:return Vt(i),null;case 3:return a=i.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),er(ce),At(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&($s(i)?sr(i):e===null||e.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,wn!==null&&(ih(wn),wn=null))),Vt(i),null;case 26:return a=i.memoizedState,e===null?(sr(i),a!==null?(Vt(i),ny(i,a)):(Vt(i),i.flags&=-16777217)):a?a!==e.memoizedState?(sr(i),Vt(i),ny(i,a)):(Vt(i),i.flags&=-16777217):(e.memoizedProps!==o&&sr(i),Vt(i),i.flags&=-16777217),null;case 27:zi(i),a=oe.current;var f=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==o&&sr(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return Vt(i),null}e=ne.current,$s(i)?ym(i):(e=Oy(f,o,a),i.stateNode=e,sr(i))}return Vt(i),null;case 5:if(zi(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&sr(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return Vt(i),null}if(e=ne.current,$s(i))ym(i);else{switch(f=vo(oe.current),e){case 1:e=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?f.createElement("select",{is:o.is}):f.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?f.createElement(a,{is:o.is}):f.createElement(a)}}e[Ce]=i,e[Ue]=o;t:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)e.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break t;for(;f.sibling===null;){if(f.return===null||f.return===i)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=e;t:switch(Ae(e,a,o),a){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&sr(i)}}return Vt(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==o&&sr(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(s(166));if(e=oe.current,$s(i)){if(e=i.stateNode,a=i.memoizedProps,o=null,f=Ne,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}e[Ce]=i,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||Ey(e.nodeValue,a)),e||ri(i)}else e=vo(e).createTextNode(o),e[Ce]=i,i.stateNode=e}return Vt(i),null;case 13:if(o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=$s(i),o!==null&&o.dehydrated!==null){if(e===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Ce]=i}else Ks(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;Vt(i),f=!1}else wn!==null&&(ih(wn),wn=null),f=!0;if(!f)return i.flags&256?(Qn(i),i):(Qn(i),null)}if(Qn(i),i.flags&128)return i.lanes=a,i;if(a=o!==null,e=e!==null&&e.memoizedState!==null,a){o=i.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool);var p=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),p!==f&&(o.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),oo(i,i.updateQueue),Vt(i),null;case 4:return At(),e===null&&mh(i.stateNode.containerInfo),Vt(i),null;case 10:return er(i.type),Vt(i),null;case 19:if(mt(ue),f=i.memoizedState,f===null)return Vt(i),null;if(o=(i.flags&128)!==0,p=f.rendering,p===null)if(o)ga(f,!1);else{if(Qt!==0||e!==null&&e.flags&128)for(e=i.child;e!==null;){if(p=Yl(e),p!==null){for(i.flags|=128,ga(f,!1),e=p.updateQueue,i.updateQueue=e,oo(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)ty(a,e),a=a.sibling;return ot(ue,ue.current&1|2),i.child}e=e.sibling}f.tail!==null&&zn()>uo&&(i.flags|=128,o=!0,ga(f,!1),i.lanes=4194304)}else{if(!o)if(e=Yl(p),e!==null){if(i.flags|=128,o=!0,e=e.updateQueue,i.updateQueue=e,oo(i,e),ga(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!zt)return Vt(i),null}else 2*zn()-f.renderingStartTime>uo&&a!==536870912&&(i.flags|=128,o=!0,ga(f,!1),i.lanes=4194304);f.isBackwards?(p.sibling=i.child,i.child=p):(e=f.last,e!==null?e.sibling=p:i.child=p,f.last=p)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=zn(),i.sibling=null,e=ue.current,ot(ue,o?e&1|2:e&1),i):(Vt(i),null);case 22:case 23:return Qn(i),rc(),o=i.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?a&536870912&&!(i.flags&128)&&(Vt(i),i.subtreeFlags&6&&(i.flags|=8192)):Vt(i),a=i.updateQueue,a!==null&&oo(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),e!==null&&mt(si),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),er(ce),Vt(i),null;case 25:return null}throw Error(s(156,i.tag))}function Dw(e,i){switch(Ju(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return er(ce),At(),e=i.flags,e&65536&&!(e&128)?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return zi(i),null;case 13:if(Qn(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Ks()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return mt(ue),null;case 4:return At(),null;case 10:return er(i.type),null;case 22:case 23:return Qn(i),rc(),e!==null&&mt(si),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return er(ce),null;case 25:return null;default:return null}}function ry(e,i){switch(Ju(i),i.tag){case 3:er(ce),At();break;case 26:case 27:case 5:zi(i);break;case 4:At();break;case 13:Qn(i);break;case 19:mt(ue);break;case 10:er(i.type);break;case 22:case 23:Qn(i),rc(),e!==null&&mt(si);break;case 24:er(ce)}}var Nw={getCacheForType:function(e){var i=ke(ce),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},Hw=typeof WeakMap=="function"?WeakMap:Map,Xt=0,Gt=null,Mt=null,kt=0,Lt=0,$e=null,ar=!1,rs=!1,Qc=!1,lr=0,Qt=0,Nr=0,pi=0,Zc=0,pn=0,is=0,ya=null,Dn=null,Jc=!1,th=0,uo=1/0,co=null,Hr=null,ho=!1,mi=null,xa=0,eh=0,nh=null,ba=0,rh=null;function Ke(){if(Xt&2&&kt!==0)return kt&-kt;if(W.T!==null){var e=$i;return e!==0?e:hh()}return Ap()}function iy(){pn===0&&(pn=!(kt&536870912)||zt?bp():536870912);var e=cn.current;return e!==null&&(e.flags|=32),pn}function He(e,i,a){(e===Gt&&Lt===2||e.cancelPendingCommit!==null)&&(ss(e,0),or(e,kt,pn,!1)),Hs(e,a),(!(Xt&2)||e!==Gt)&&(e===Gt&&(!(Xt&2)&&(pi|=a),Qt===4&&or(e,kt,pn,!1)),Nn(e))}function sy(e,i,a){if(Xt&6)throw Error(s(327));var o=!a&&(i&60)===0&&(i&e.expiredLanes)===0||Ns(e,i),f=o?Gw(e,i):lh(e,i,!0),p=o;do{if(f===0){rs&&!o&&or(e,i,0,!1);break}else if(f===6)or(e,i,0,!ar);else{if(a=e.current.alternate,p&&!Pw(a)){f=lh(e,i,!1),p=!1;continue}if(f===2){if(p=i,e.errorRecoveryDisabledLanes&p)var x=0;else x=e.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){i=x;t:{var A=e;f=ya;var O=A.current.memoizedState.isDehydrated;if(O&&(ss(A,x).flags|=256),x=lh(A,x,!1),x!==2){if(Qc&&!O){A.errorRecoveryDisabledLanes|=p,pi|=p,f=4;break t}p=Dn,Dn=f,p!==null&&ih(p)}f=x}if(p=!1,f!==2)continue}}if(f===1){ss(e,0),or(e,i,0,!0);break}t:{switch(o=e,f){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){or(o,i,pn,!ar);break t}break;case 2:Dn=null;break;case 3:case 5:break;default:throw Error(s(329))}if(o.finishedWork=a,o.finishedLanes=i,(i&62914560)===i&&(p=th+300-zn(),10<p)){if(or(o,i,pn,!ar),Al(o,0)!==0)break t;o.timeoutHandle=ky(ay.bind(null,o,a,Dn,co,Jc,i,pn,pi,is,ar,2,-0,0),p);break t}ay(o,a,Dn,co,Jc,i,pn,pi,is,ar,0,-0,0)}}break}while(!0);Nn(e)}function ih(e){Dn===null?Dn=e:Dn.push.apply(Dn,e)}function ay(e,i,a,o,f,p,x,A,O,U,Q,tt,X){var K=i.subtreeFlags;if((K&8192||(K&16785408)===16785408)&&(Ta={stylesheets:null,count:0,unsuspend:bS},Kg(i),i=_S(),i!==null)){e.cancelPendingCommit=i(dy.bind(null,e,a,o,f,x,A,O,1,tt,X)),or(e,p,x,!U);return}dy(e,a,o,f,x,A,O,Q,tt,X)}function Pw(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var f=a[o],p=f.getSnapshot;f=f.value;try{if(!Ve(p(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function or(e,i,a,o){i&=~Zc,i&=~pi,e.suspendedLanes|=i,e.pingedLanes&=~i,o&&(e.warmLanes|=i),o=e.expirationTimes;for(var f=i;0<f;){var p=31-Ye(f),x=1<<p;o[p]=-1,f&=~x}a!==0&&_p(e,a,i)}function fo(){return Xt&6?!0:(va(0),!1)}function sh(){if(Mt!==null){if(Lt===0)var e=Mt.return;else e=Mt,tr=ci=null,hc(e),Xi=null,ta=0,e=Mt;for(;e!==null;)ry(e.alternate,e),e=e.return;Mt=null}}function ss(e,i){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,rS(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),sh(),Gt=e,Mt=a=Dr(e.current,null),kt=i,Lt=0,$e=null,ar=!1,rs=Ns(e,i),Qc=!1,is=pn=Zc=pi=Nr=Qt=0,Dn=ya=null,Jc=!1,i&8&&(i|=i&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=i;0<o;){var f=31-Ye(o),p=1<<f;i|=e[f],o&=~p}return lr=i,Nl(),a}function ly(e,i){Tt=null,W.H=jn,i===Zs?(i=wm(),Lt=3):i===bm?(i=wm(),Lt=4):Lt=i===vg?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,$e=i,Mt===null&&(Qt=1,no(e,ln(i,e.current)))}function oy(){var e=W.H;return W.H=jn,e===null?jn:e}function uy(){var e=W.A;return W.A=Nw,e}function ah(){Qt=4,ar||(kt&4194176)!==kt&&cn.current!==null||(rs=!0),!(Nr&134217727)&&!(pi&134217727)||Gt===null||or(Gt,kt,pn,!1)}function lh(e,i,a){var o=Xt;Xt|=2;var f=oy(),p=uy();(Gt!==e||kt!==i)&&(co=null,ss(e,i)),i=!1;var x=Qt;t:do try{if(Lt!==0&&Mt!==null){var A=Mt,O=$e;switch(Lt){case 8:sh(),x=6;break t;case 3:case 2:case 6:cn.current===null&&(i=!0);var U=Lt;if(Lt=0,$e=null,as(e,A,O,U),a&&rs){x=0;break t}break;default:U=Lt,Lt=0,$e=null,as(e,A,O,U)}}Uw(),x=Qt;break}catch(Q){ly(e,Q)}while(!0);return i&&e.shellSuspendCounter++,tr=ci=null,Xt=o,W.H=f,W.A=p,Mt===null&&(Gt=null,kt=0,Nl()),x}function Uw(){for(;Mt!==null;)cy(Mt)}function Gw(e,i){var a=Xt;Xt|=2;var o=oy(),f=uy();Gt!==e||kt!==i?(co=null,uo=zn()+500,ss(e,i)):rs=Ns(e,i);t:do try{if(Lt!==0&&Mt!==null){i=Mt;var p=$e;e:switch(Lt){case 1:Lt=0,$e=null,as(e,i,p,1);break;case 2:if(vm(p)){Lt=0,$e=null,hy(i);break}i=function(){Lt===2&&Gt===e&&(Lt=7),Nn(e)},p.then(i,i);break t;case 3:Lt=7;break t;case 4:Lt=5;break t;case 7:vm(p)?(Lt=0,$e=null,hy(i)):(Lt=0,$e=null,as(e,i,p,7));break;case 5:var x=null;switch(Mt.tag){case 26:x=Mt.memoizedState;case 5:case 27:var A=Mt;if(!x||Gy(x)){Lt=0,$e=null;var O=A.sibling;if(O!==null)Mt=O;else{var U=A.return;U!==null?(Mt=U,po(U)):Mt=null}break e}}Lt=0,$e=null,as(e,i,p,5);break;case 6:Lt=0,$e=null,as(e,i,p,6);break;case 8:sh(),Qt=6;break t;default:throw Error(s(462))}}Lw();break}catch(Q){ly(e,Q)}while(!0);return tr=ci=null,W.H=o,W.A=f,Xt=a,Mt!==null?0:(Gt=null,kt=0,Nl(),Qt)}function Lw(){for(;Mt!==null&&!u_();)cy(Mt)}function cy(e){var i=Og(e.alternate,e,lr);e.memoizedProps=e.pendingProps,i===null?po(e):Mt=i}function hy(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Eg(a,i,i.pendingProps,i.type,void 0,kt);break;case 11:i=Eg(a,i,i.pendingProps,i.type.render,i.ref,kt);break;case 5:hc(i);default:ry(a,i),i=Mt=ty(i,lr),i=Og(a,i,lr)}e.memoizedProps=e.pendingProps,i===null?po(e):Mt=i}function as(e,i,a,o){tr=ci=null,hc(i),Xi=null,ta=0;var f=i.return;try{if(kw(e,f,i,a,kt)){Qt=1,no(e,ln(a,e.current)),Mt=null;return}}catch(p){if(f!==null)throw Mt=f,p;Qt=1,no(e,ln(a,e.current)),Mt=null;return}i.flags&32768?(zt||o===1?e=!0:rs||kt&536870912?e=!1:(ar=e=!0,(o===2||o===3||o===6)&&(o=cn.current,o!==null&&o.tag===13&&(o.flags|=16384))),fy(i,e)):po(i)}function po(e){var i=e;do{if(i.flags&32768){fy(i,ar);return}e=i.return;var a=jw(i.alternate,i,lr);if(a!==null){Mt=a;return}if(i=i.sibling,i!==null){Mt=i;return}Mt=i=e}while(i!==null);Qt===0&&(Qt=5)}function fy(e,i){do{var a=Dw(e.alternate,e);if(a!==null){a.flags&=32767,Mt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Mt=e;return}Mt=e=a}while(e!==null);Qt=6,Mt=null}function dy(e,i,a,o,f,p,x,A,O,U){var Q=W.T,tt=F.p;try{F.p=2,W.T=null,Iw(e,i,a,o,tt,f,p,x,A,O,U)}finally{W.T=Q,F.p=tt}}function Iw(e,i,a,o,f,p,x,A){do ls();while(mi!==null);if(Xt&6)throw Error(s(327));var O=e.finishedWork;if(o=e.finishedLanes,O===null)return null;if(e.finishedWork=null,e.finishedLanes=0,O===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var U=O.lanes|O.childLanes;if(U|=Ku,v_(e,o,U,p,x,A),e===Gt&&(Mt=Gt=null,kt=0),!(O.subtreeFlags&10256)&&!(O.flags&10256)||ho||(ho=!0,eh=U,nh=a,Vw(_l,function(){return ls(),null})),a=(O.flags&15990)!==0,O.subtreeFlags&15990||a?(a=W.T,W.T=null,p=F.p,F.p=2,x=Xt,Xt|=4,zw(e,O),Xg(O,e),fw(bh,e.containerInfo),Eo=!!xh,bh=xh=null,e.current=O,qg(e,O.alternate,O),c_(),Xt=x,F.p=p,W.T=a):e.current=O,ho?(ho=!1,mi=e,xa=o):py(e,U),U=e.pendingLanes,U===0&&(Hr=null),m_(O.stateNode),Nn(e),i!==null)for(f=e.onRecoverableError,O=0;O<i.length;O++)U=i[O],f(U.value,{componentStack:U.stack});return xa&3&&ls(),U=e.pendingLanes,o&4194218&&U&42?e===rh?ba++:(ba=0,rh=e):ba=0,va(0),null}function py(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,na(i)))}function ls(){if(mi!==null){var e=mi,i=eh;eh=0;var a=Sp(xa),o=W.T,f=F.p;try{if(F.p=32>a?32:a,W.T=null,mi===null)var p=!1;else{a=nh,nh=null;var x=mi,A=xa;if(mi=null,xa=0,Xt&6)throw Error(s(331));var O=Xt;if(Xt|=4,Zg(x.current),$g(x,x.current,A,a),Xt=O,va(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(Ds,x)}catch{}p=!0}return p}finally{F.p=f,W.T=o,py(e,i)}}return!1}function my(e,i,a){i=ln(a,i),i=Tc(e.stateNode,i,2),e=zr(e,i,2),e!==null&&(Hs(e,2),Nn(e))}function Ut(e,i,a){if(e.tag===3)my(e,e,a);else for(;i!==null;){if(i.tag===3){my(i,e,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Hr===null||!Hr.has(o))){e=ln(a,e),a=xg(2),o=zr(i,a,2),o!==null&&(bg(a,o,i,e),Hs(o,2),Nn(o));break}}i=i.return}}function oh(e,i,a){var o=e.pingCache;if(o===null){o=e.pingCache=new Hw;var f=new Set;o.set(i,f)}else f=o.get(i),f===void 0&&(f=new Set,o.set(i,f));f.has(a)||(Qc=!0,f.add(a),e=qw.bind(null,e,i,a),i.then(e,e))}function qw(e,i,a){var o=e.pingCache;o!==null&&o.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Gt===e&&(kt&a)===a&&(Qt===4||Qt===3&&(kt&62914560)===kt&&300>zn()-th?!(Xt&2)&&ss(e,0):Zc|=a,is===kt&&(is=0)),Nn(e)}function gy(e,i){i===0&&(i=vp()),e=Sr(e,i),e!==null&&(Hs(e,i),Nn(e))}function Fw(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),gy(e,a)}function Yw(e,i){var a=0;switch(e.tag){case 13:var o=e.stateNode,f=e.memoizedState;f!==null&&(a=f.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(i),gy(e,a)}function Vw(e,i){return Eu(e,i)}var mo=null,os=null,uh=!1,go=!1,ch=!1,gi=0;function Nn(e){e!==os&&e.next===null&&(os===null?mo=os=e:os=os.next=e),go=!0,uh||(uh=!0,Ww(Xw))}function va(e,i){if(!ch&&go){ch=!0;do for(var a=!1,o=mo;o!==null;){if(e!==0){var f=o.pendingLanes;if(f===0)var p=0;else{var x=o.suspendedLanes,A=o.pingedLanes;p=(1<<31-Ye(42|e)+1)-1,p&=f&~(x&~A),p=p&201326677?p&201326677|1:p?p|2:0}p!==0&&(a=!0,by(o,p))}else p=kt,p=Al(o,o===Gt?p:0),!(p&3)||Ns(o,p)||(a=!0,by(o,p));o=o.next}while(a);ch=!1}}function Xw(){go=uh=!1;var e=0;gi!==0&&(nS()&&(e=gi),gi=0);for(var i=zn(),a=null,o=mo;o!==null;){var f=o.next,p=yy(o,i);p===0?(o.next=null,a===null?mo=f:a.next=f,f===null&&(os=a)):(a=o,(e!==0||p&3)&&(go=!0)),o=f}va(e)}function yy(e,i){for(var a=e.suspendedLanes,o=e.pingedLanes,f=e.expirationTimes,p=e.pendingLanes&-62914561;0<p;){var x=31-Ye(p),A=1<<x,O=f[x];O===-1?(!(A&a)||A&o)&&(f[x]=b_(A,i)):O<=i&&(e.expiredLanes|=A),p&=~A}if(i=Gt,a=kt,a=Al(e,e===i?a:0),o=e.callbackNode,a===0||e===i&&Lt===2||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Mu(o),e.callbackNode=null,e.callbackPriority=0;if(!(a&3)||Ns(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(o!==null&&Mu(o),Sp(a)){case 2:case 8:a=yp;break;case 32:a=_l;break;case 268435456:a=xp;break;default:a=_l}return o=xy.bind(null,e),a=Eu(a,o),e.callbackPriority=i,e.callbackNode=a,i}return o!==null&&o!==null&&Mu(o),e.callbackPriority=2,e.callbackNode=null,2}function xy(e,i){var a=e.callbackNode;if(ls()&&e.callbackNode!==a)return null;var o=kt;return o=Al(e,e===Gt?o:0),o===0?null:(sy(e,o,i),yy(e,zn()),e.callbackNode!=null&&e.callbackNode===a?xy.bind(null,e):null)}function by(e,i){if(ls())return null;sy(e,i,!0)}function Ww(e){iS(function(){Xt&6?Eu(gp,e):e()})}function hh(){return gi===0&&(gi=bp()),gi}function vy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:kl(""+e)}function _y(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function $w(e,i,a,o,f){if(i==="submit"&&a&&a.stateNode===f){var p=vy((f[Ue]||null).action),x=o.submitter;x&&(i=(i=x[Ue]||null)?vy(i.formAction):x.getAttribute("formAction"),i!==null&&(p=i,x=null));var A=new Bl("action","action",null,o,f);e.push({event:A,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(gi!==0){var O=x?_y(f,x):new FormData(f);vc(a,{pending:!0,data:O,method:f.method,action:p},null,O)}}else typeof p=="function"&&(A.preventDefault(),O=x?_y(f,x):new FormData(f),vc(a,{pending:!0,data:O,method:f.method,action:p},p,O))},currentTarget:f}]})}}for(var fh=0;fh<dm.length;fh++){var dh=dm[fh],Kw=dh.toLowerCase(),Qw=dh[0].toUpperCase()+dh.slice(1);_n(Kw,"on"+Qw)}_n(om,"onAnimationEnd"),_n(um,"onAnimationIteration"),_n(cm,"onAnimationStart"),_n("dblclick","onDoubleClick"),_n("focusin","onFocus"),_n("focusout","onBlur"),_n(pw,"onTransitionRun"),_n(mw,"onTransitionStart"),_n(gw,"onTransitionCancel"),_n(hm,"onTransitionEnd"),Di("onMouseEnter",["mouseout","mouseover"]),Di("onMouseLeave",["mouseout","mouseover"]),Di("onPointerEnter",["pointerout","pointerover"]),Di("onPointerLeave",["pointerout","pointerover"]),Qr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _a="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_a));function wy(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],f=o.event;o=o.listeners;t:{var p=void 0;if(i)for(var x=o.length-1;0<=x;x--){var A=o[x],O=A.instance,U=A.currentTarget;if(A=A.listener,O!==p&&f.isPropagationStopped())break t;p=A,f.currentTarget=U;try{p(f)}catch(Q){eo(Q)}f.currentTarget=null,p=O}else for(x=0;x<o.length;x++){if(A=o[x],O=A.instance,U=A.currentTarget,A=A.listener,O!==p&&f.isPropagationStopped())break t;p=A,f.currentTarget=U;try{p(f)}catch(Q){eo(Q)}f.currentTarget=null,p=O}}}}function Ct(e,i){var a=i[ku];a===void 0&&(a=i[ku]=new Set);var o=e+"__bubble";a.has(o)||(Sy(i,e,2,!1),a.add(o))}function ph(e,i,a){var o=0;i&&(o|=4),Sy(a,e,o,i)}var yo="_reactListening"+Math.random().toString(36).slice(2);function mh(e){if(!e[yo]){e[yo]=!0,Ep.forEach(function(a){a!=="selectionchange"&&(Zw.has(a)||ph(a,!1,e),ph(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[yo]||(i[yo]=!0,ph("selectionchange",!1,i))}}function Sy(e,i,a,o){switch(Vy(i)){case 2:var f=AS;break;case 8:f=TS;break;default:f=Ch}a=f.bind(null,i,a,e),f=void 0,!Hu||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),o?f!==void 0?e.addEventListener(i,a,{capture:!0,passive:f}):e.addEventListener(i,a,!0):f!==void 0?e.addEventListener(i,a,{passive:f}):e.addEventListener(i,a,!1)}function gh(e,i,a,o,f){var p=o;if(!(i&1)&&!(i&2)&&o!==null)t:for(;;){if(o===null)return;var x=o.tag;if(x===3||x===4){var A=o.stateNode.containerInfo;if(A===f||A.nodeType===8&&A.parentNode===f)break;if(x===4)for(x=o.return;x!==null;){var O=x.tag;if((O===3||O===4)&&(O=x.stateNode.containerInfo,O===f||O.nodeType===8&&O.parentNode===f))return;x=x.return}for(;A!==null;){if(x=Kr(A),x===null)return;if(O=x.tag,O===5||O===6||O===26||O===27){o=p=x;continue t}A=A.parentNode}}o=o.return}Pp(function(){var U=p,Q=Du(a),tt=[];t:{var X=fm.get(e);if(X!==void 0){var K=Bl,ht=e;switch(e){case"keypress":if(zl(a)===0)break t;case"keydown":case"keyup":K=Y_;break;case"focusin":ht="focus",K=Lu;break;case"focusout":ht="blur",K=Lu;break;case"beforeblur":case"afterblur":K=Lu;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Lp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=B_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=W_;break;case om:case um:case cm:K=N_;break;case hm:K=K_;break;case"scroll":case"scrollend":K=z_;break;case"wheel":K=Z_;break;case"copy":case"cut":case"paste":K=P_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=qp;break;case"toggle":case"beforetoggle":K=tw}var vt=(i&4)!==0,Zt=!vt&&(e==="scroll"||e==="scrollend"),q=vt?X!==null?X+"Capture":null:X;vt=[];for(var H=U,Y;H!==null;){var Z=H;if(Y=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||Y===null||q===null||(Z=Gs(H,q),Z!=null&&vt.push(wa(H,Z,Y))),Zt)break;H=H.return}0<vt.length&&(X=new K(X,ht,null,a,Q),tt.push({event:X,listeners:vt}))}}if(!(i&7)){t:{if(X=e==="mouseover"||e==="pointerover",K=e==="mouseout"||e==="pointerout",X&&a!==ju&&(ht=a.relatedTarget||a.fromElement)&&(Kr(ht)||ht[Oi]))break t;if((K||X)&&(X=Q.window===Q?Q:(X=Q.ownerDocument)?X.defaultView||X.parentWindow:window,K?(ht=a.relatedTarget||a.toElement,K=U,ht=ht?Kr(ht):null,ht!==null&&(Zt=j(ht),vt=ht.tag,ht!==Zt||vt!==5&&vt!==27&&vt!==6)&&(ht=null)):(K=null,ht=U),K!==ht)){if(vt=Lp,Z="onMouseLeave",q="onMouseEnter",H="mouse",(e==="pointerout"||e==="pointerover")&&(vt=qp,Z="onPointerLeave",q="onPointerEnter",H="pointer"),Zt=K==null?X:Us(K),Y=ht==null?X:Us(ht),X=new vt(Z,H+"leave",K,a,Q),X.target=Zt,X.relatedTarget=Y,Z=null,Kr(Q)===U&&(vt=new vt(q,H+"enter",ht,a,Q),vt.target=Y,vt.relatedTarget=Zt,Z=vt),Zt=Z,K&&ht)e:{for(vt=K,q=ht,H=0,Y=vt;Y;Y=us(Y))H++;for(Y=0,Z=q;Z;Z=us(Z))Y++;for(;0<H-Y;)vt=us(vt),H--;for(;0<Y-H;)q=us(q),Y--;for(;H--;){if(vt===q||q!==null&&vt===q.alternate)break e;vt=us(vt),q=us(q)}vt=null}else vt=null;K!==null&&Ay(tt,X,K,vt,!1),ht!==null&&Zt!==null&&Ay(tt,Zt,ht,vt,!0)}}t:{if(X=U?Us(U):window,K=X.nodeName&&X.nodeName.toLowerCase(),K==="select"||K==="input"&&X.type==="file")var ut=Qp;else if($p(X))if(Zp)ut=cw;else{ut=ow;var Et=lw}else K=X.nodeName,!K||K.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?U&&Bu(U.elementType)&&(ut=Qp):ut=uw;if(ut&&(ut=ut(e,U))){Kp(tt,ut,a,Q);break t}Et&&Et(e,X,U),e==="focusout"&&U&&X.type==="number"&&U.memoizedProps.value!=null&&Ou(X,"number",X.value)}switch(Et=U?Us(U):window,e){case"focusin":($p(Et)||Et.contentEditable==="true")&&(Li=Et,Xu=U,Ws=null);break;case"focusout":Ws=Xu=Li=null;break;case"mousedown":Wu=!0;break;case"contextmenu":case"mouseup":case"dragend":Wu=!1,am(tt,a,Q);break;case"selectionchange":if(dw)break;case"keydown":case"keyup":am(tt,a,Q)}var dt;if(qu)t:{switch(e){case"compositionstart":var yt="onCompositionStart";break t;case"compositionend":yt="onCompositionEnd";break t;case"compositionupdate":yt="onCompositionUpdate";break t}yt=void 0}else Gi?Xp(e,a)&&(yt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(yt="onCompositionStart");yt&&(Fp&&a.locale!=="ko"&&(Gi||yt!=="onCompositionStart"?yt==="onCompositionEnd"&&Gi&&(dt=Up()):(wr=Q,Pu="value"in wr?wr.value:wr.textContent,Gi=!0)),Et=xo(U,yt),0<Et.length&&(yt=new Ip(yt,e,null,a,Q),tt.push({event:yt,listeners:Et}),dt?yt.data=dt:(dt=Wp(a),dt!==null&&(yt.data=dt)))),(dt=nw?rw(e,a):iw(e,a))&&(yt=xo(U,"onBeforeInput"),0<yt.length&&(Et=new Ip("onBeforeInput","beforeinput",null,a,Q),tt.push({event:Et,listeners:yt}),Et.data=dt)),$w(tt,e,U,a,Q)}wy(tt,i)})}function wa(e,i,a){return{instance:e,listener:i,currentTarget:a}}function xo(e,i){for(var a=i+"Capture",o=[];e!==null;){var f=e,p=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=Gs(e,a),f!=null&&o.unshift(wa(e,f,p)),f=Gs(e,i),f!=null&&o.push(wa(e,f,p))),e=e.return}return o}function us(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ay(e,i,a,o,f){for(var p=i._reactName,x=[];a!==null&&a!==o;){var A=a,O=A.alternate,U=A.stateNode;if(A=A.tag,O!==null&&O===o)break;A!==5&&A!==26&&A!==27||U===null||(O=U,f?(U=Gs(a,p),U!=null&&x.unshift(wa(a,U,O))):f||(U=Gs(a,p),U!=null&&x.push(wa(a,U,O)))),a=a.return}x.length!==0&&e.push({event:i,listeners:x})}var Jw=/\r\n?/g,tS=/\u0000|\uFFFD/g;function Ty(e){return(typeof e=="string"?e:""+e).replace(Jw,`
`).replace(tS,"")}function Ey(e,i){return i=Ty(i),Ty(e)===i}function bo(){}function Ht(e,i,a,o,f,p){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||Hi(e,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&Hi(e,""+o);break;case"className":El(e,"class",o);break;case"tabIndex":El(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":El(e,a,o);break;case"style":Np(e,o,p);break;case"data":if(i!=="object"){El(e,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=kl(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(a==="formAction"?(i!=="input"&&Ht(e,i,"name",f.name,f,null),Ht(e,i,"formEncType",f.formEncType,f,null),Ht(e,i,"formMethod",f.formMethod,f,null),Ht(e,i,"formTarget",f.formTarget,f,null)):(Ht(e,i,"encType",f.encType,f,null),Ht(e,i,"method",f.method,f,null),Ht(e,i,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=kl(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=bo);break;case"onScroll":o!=null&&Ct("scroll",e);break;case"onScrollEnd":o!=null&&Ct("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=kl(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Ct("beforetoggle",e),Ct("toggle",e),Tl(e,"popover",o);break;case"xlinkActuate":Wn(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Wn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Wn(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Wn(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Wn(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Wn(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Wn(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Wn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Wn(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Tl(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=k_.get(a)||a,Tl(e,a,o))}}function yh(e,i,a,o,f,p){switch(a){case"style":Np(e,o,p);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?Hi(e,o):(typeof o=="number"||typeof o=="bigint")&&Hi(e,""+o);break;case"onScroll":o!=null&&Ct("scroll",e);break;case"onScrollEnd":o!=null&&Ct("scrollend",e);break;case"onClick":o!=null&&(e.onclick=bo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Mp.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),p=e[Ue]||null,p=p!=null?p[a]:null,typeof p=="function"&&e.removeEventListener(i,p,f),typeof o=="function")){typeof p!="function"&&p!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,o,f);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):Tl(e,a,o)}}}function Ae(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",e),Ct("load",e);var o=!1,f=!1,p;for(p in a)if(a.hasOwnProperty(p)){var x=a[p];if(x!=null)switch(p){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ht(e,i,p,x,a,null)}}f&&Ht(e,i,"srcSet",a.srcSet,a,null),o&&Ht(e,i,"src",a.src,a,null);return;case"input":Ct("invalid",e);var A=p=x=f=null,O=null,U=null;for(o in a)if(a.hasOwnProperty(o)){var Q=a[o];if(Q!=null)switch(o){case"name":f=Q;break;case"type":x=Q;break;case"checked":O=Q;break;case"defaultChecked":U=Q;break;case"value":p=Q;break;case"defaultValue":A=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Ht(e,i,o,Q,a,null)}}Op(e,p,A,O,U,x,f,!1),Ml(e);return;case"select":Ct("invalid",e),o=x=p=null;for(f in a)if(a.hasOwnProperty(f)&&(A=a[f],A!=null))switch(f){case"value":p=A;break;case"defaultValue":x=A;break;case"multiple":o=A;default:Ht(e,i,f,A,a,null)}i=p,a=x,e.multiple=!!o,i!=null?Ni(e,!!o,i,!1):a!=null&&Ni(e,!!o,a,!0);return;case"textarea":Ct("invalid",e),p=f=o=null;for(x in a)if(a.hasOwnProperty(x)&&(A=a[x],A!=null))switch(x){case"value":o=A;break;case"defaultValue":f=A;break;case"children":p=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:Ht(e,i,x,A,a,null)}jp(e,o,f,p),Ml(e);return;case"option":for(O in a)if(a.hasOwnProperty(O)&&(o=a[O],o!=null))switch(O){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Ht(e,i,O,o,a,null)}return;case"dialog":Ct("cancel",e),Ct("close",e);break;case"iframe":case"object":Ct("load",e);break;case"video":case"audio":for(o=0;o<_a.length;o++)Ct(_a[o],e);break;case"image":Ct("error",e),Ct("load",e);break;case"details":Ct("toggle",e);break;case"embed":case"source":case"link":Ct("error",e),Ct("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(o=a[U],o!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ht(e,i,U,o,a,null)}return;default:if(Bu(i)){for(Q in a)a.hasOwnProperty(Q)&&(o=a[Q],o!==void 0&&yh(e,i,Q,o,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(o=a[A],o!=null&&Ht(e,i,A,o,a,null))}function eS(e,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,x=null,A=null,O=null,U=null,Q=null;for(K in a){var tt=a[K];if(a.hasOwnProperty(K)&&tt!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":O=tt;default:o.hasOwnProperty(K)||Ht(e,i,K,null,o,tt)}}for(var X in o){var K=o[X];if(tt=a[X],o.hasOwnProperty(X)&&(K!=null||tt!=null))switch(X){case"type":p=K;break;case"name":f=K;break;case"checked":U=K;break;case"defaultChecked":Q=K;break;case"value":x=K;break;case"defaultValue":A=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:K!==tt&&Ht(e,i,X,K,o,tt)}}zu(e,x,A,O,U,Q,p,f);return;case"select":K=x=A=X=null;for(p in a)if(O=a[p],a.hasOwnProperty(p)&&O!=null)switch(p){case"value":break;case"multiple":K=O;default:o.hasOwnProperty(p)||Ht(e,i,p,null,o,O)}for(f in o)if(p=o[f],O=a[f],o.hasOwnProperty(f)&&(p!=null||O!=null))switch(f){case"value":X=p;break;case"defaultValue":A=p;break;case"multiple":x=p;default:p!==O&&Ht(e,i,f,p,o,O)}i=A,a=x,o=K,X!=null?Ni(e,!!a,X,!1):!!o!=!!a&&(i!=null?Ni(e,!!a,i,!0):Ni(e,!!a,a?[]:"",!1));return;case"textarea":K=X=null;for(A in a)if(f=a[A],a.hasOwnProperty(A)&&f!=null&&!o.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Ht(e,i,A,null,o,f)}for(x in o)if(f=o[x],p=a[x],o.hasOwnProperty(x)&&(f!=null||p!=null))switch(x){case"value":X=f;break;case"defaultValue":K=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==p&&Ht(e,i,x,f,o,p)}Bp(e,X,K);return;case"option":for(var ht in a)if(X=a[ht],a.hasOwnProperty(ht)&&X!=null&&!o.hasOwnProperty(ht))switch(ht){case"selected":e.selected=!1;break;default:Ht(e,i,ht,null,o,X)}for(O in o)if(X=o[O],K=a[O],o.hasOwnProperty(O)&&X!==K&&(X!=null||K!=null))switch(O){case"selected":e.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:Ht(e,i,O,X,o,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in a)X=a[vt],a.hasOwnProperty(vt)&&X!=null&&!o.hasOwnProperty(vt)&&Ht(e,i,vt,null,o,X);for(U in o)if(X=o[U],K=a[U],o.hasOwnProperty(U)&&X!==K&&(X!=null||K!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:Ht(e,i,U,X,o,K)}return;default:if(Bu(i)){for(var Zt in a)X=a[Zt],a.hasOwnProperty(Zt)&&X!==void 0&&!o.hasOwnProperty(Zt)&&yh(e,i,Zt,void 0,o,X);for(Q in o)X=o[Q],K=a[Q],!o.hasOwnProperty(Q)||X===K||X===void 0&&K===void 0||yh(e,i,Q,X,o,K);return}}for(var q in a)X=a[q],a.hasOwnProperty(q)&&X!=null&&!o.hasOwnProperty(q)&&Ht(e,i,q,null,o,X);for(tt in o)X=o[tt],K=a[tt],!o.hasOwnProperty(tt)||X===K||X==null&&K==null||Ht(e,i,tt,X,o,K)}var xh=null,bh=null;function vo(e){return e.nodeType===9?e:e.ownerDocument}function My(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Cy(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function vh(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var _h=null;function nS(){var e=window.event;return e&&e.type==="popstate"?e===_h?!1:(_h=e,!0):(_h=null,!1)}var ky=typeof setTimeout=="function"?setTimeout:void 0,rS=typeof clearTimeout=="function"?clearTimeout:void 0,Ry=typeof Promise=="function"?Promise:void 0,iS=typeof queueMicrotask=="function"?queueMicrotask:typeof Ry<"u"?function(e){return Ry.resolve(null).then(e).catch(sS)}:ky;function sS(e){setTimeout(function(){throw e})}function wh(e,i){var a=i,o=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(o===0){e.removeChild(f),Ra(i);return}o--}else a!=="$"&&a!=="$?"&&a!=="$!"||o++;a=f}while(a);Ra(i)}function Sh(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Sh(a),Ru(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function aS(e,i,a,o){for(;e.nodeType===1;){var f=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Ps])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(p=e.getAttribute("rel"),p==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(p!==f.rel||e.getAttribute("href")!==(f.href==null?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(p=e.getAttribute("src"),(p!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===p)return e}else return e;if(e=An(e.nextSibling),e===null)break}return null}function lS(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=An(e.nextSibling),e===null))return null;return e}function An(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}function zy(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function Oy(e,i,a){switch(i=vo(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}var mn=new Map,By=new Set;function _o(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var ur=F.d;F.d={f:oS,r:uS,D:cS,C:hS,L:fS,m:dS,X:mS,S:pS,M:gS};function oS(){var e=ur.f(),i=fo();return e||i}function uS(e){var i=Bi(e);i!==null&&i.tag===5&&i.type==="form"?ag(i):ur.r(e)}var cs=typeof document>"u"?null:document;function jy(e,i,a){var o=cs;if(o&&typeof i=="string"&&i){var f=sn(i);f='link[rel="'+e+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),By.has(f)||(By.add(f),e={rel:e,crossOrigin:a,href:i},o.querySelector(f)===null&&(i=o.createElement("link"),Ae(i,"link",e),me(i),o.head.appendChild(i)))}}function cS(e){ur.D(e),jy("dns-prefetch",e,null)}function hS(e,i){ur.C(e,i),jy("preconnect",e,i)}function fS(e,i,a){ur.L(e,i,a);var o=cs;if(o&&e&&i){var f='link[rel="preload"][as="'+sn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+sn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+sn(a.imageSizes)+'"]')):f+='[href="'+sn(e)+'"]';var p=f;switch(i){case"style":p=hs(e);break;case"script":p=fs(e)}mn.has(p)||(e=$({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),mn.set(p,e),o.querySelector(f)!==null||i==="style"&&o.querySelector(Sa(p))||i==="script"&&o.querySelector(Aa(p))||(i=o.createElement("link"),Ae(i,"link",e),me(i),o.head.appendChild(i)))}}function dS(e,i){ur.m(e,i);var a=cs;if(a&&e){var o=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+sn(o)+'"][href="'+sn(e)+'"]',p=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=fs(e)}if(!mn.has(p)&&(e=$({rel:"modulepreload",href:e},i),mn.set(p,e),a.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Aa(p)))return}o=a.createElement("link"),Ae(o,"link",e),me(o),a.head.appendChild(o)}}}function pS(e,i,a){ur.S(e,i,a);var o=cs;if(o&&e){var f=ji(o).hoistableStyles,p=hs(e);i=i||"default";var x=f.get(p);if(!x){var A={loading:0,preload:null};if(x=o.querySelector(Sa(p)))A.loading=5;else{e=$({rel:"stylesheet",href:e,"data-precedence":i},a),(a=mn.get(p))&&Ah(e,a);var O=x=o.createElement("link");me(O),Ae(O,"link",e),O._p=new Promise(function(U,Q){O.onload=U,O.onerror=Q}),O.addEventListener("load",function(){A.loading|=1}),O.addEventListener("error",function(){A.loading|=2}),A.loading|=4,wo(x,i,o)}x={type:"stylesheet",instance:x,count:1,state:A},f.set(p,x)}}}function mS(e,i){ur.X(e,i);var a=cs;if(a&&e){var o=ji(a).hoistableScripts,f=fs(e),p=o.get(f);p||(p=a.querySelector(Aa(f)),p||(e=$({src:e,async:!0},i),(i=mn.get(f))&&Th(e,i),p=a.createElement("script"),me(p),Ae(p,"link",e),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},o.set(f,p))}}function gS(e,i){ur.M(e,i);var a=cs;if(a&&e){var o=ji(a).hoistableScripts,f=fs(e),p=o.get(f);p||(p=a.querySelector(Aa(f)),p||(e=$({src:e,async:!0,type:"module"},i),(i=mn.get(f))&&Th(e,i),p=a.createElement("script"),me(p),Ae(p,"link",e),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},o.set(f,p))}}function Dy(e,i,a,o){var f=(f=oe.current)?_o(f):null;if(!f)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=hs(a.href),a=ji(f).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=hs(a.href);var p=ji(f).hoistableStyles,x=p.get(e);if(x||(f=f.ownerDocument||f,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(e,x),(p=f.querySelector(Sa(e)))&&!p._p&&(x.instance=p,x.state.loading=5),mn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},mn.set(e,a),p||yS(f,e,a,x.state))),i&&o===null)throw Error(s(528,""));return x}if(i&&o!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=fs(a),a=ji(f).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function hs(e){return'href="'+sn(e)+'"'}function Sa(e){return'link[rel="stylesheet"]['+e+"]"}function Ny(e){return $({},e,{"data-precedence":e.precedence,precedence:null})}function yS(e,i,a,o){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=e.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Ae(i,"link",a),me(i),e.head.appendChild(i))}function fs(e){return'[src="'+sn(e)+'"]'}function Aa(e){return"script[async]"+e}function Hy(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=e.querySelector('style[data-href~="'+sn(a.href)+'"]');if(o)return i.instance=o,me(o),o;var f=$({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),me(o),Ae(o,"style",f),wo(o,a.precedence,e),i.instance=o;case"stylesheet":f=hs(a.href);var p=e.querySelector(Sa(f));if(p)return i.state.loading|=4,i.instance=p,me(p),p;o=Ny(a),(f=mn.get(f))&&Ah(o,f),p=(e.ownerDocument||e).createElement("link"),me(p);var x=p;return x._p=new Promise(function(A,O){x.onload=A,x.onerror=O}),Ae(p,"link",o),i.state.loading|=4,wo(p,a.precedence,e),i.instance=p;case"script":return p=fs(a.src),(f=e.querySelector(Aa(p)))?(i.instance=f,me(f),f):(o=a,(f=mn.get(p))&&(o=$({},a),Th(o,f)),e=e.ownerDocument||e,f=e.createElement("script"),me(f),Ae(f,"link",o),e.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&!(i.state.loading&4)&&(o=i.instance,i.state.loading|=4,wo(o,a.precedence,e));return i.instance}function wo(e,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,p=f,x=0;x<o.length;x++){var A=o[x];if(A.dataset.precedence===i)p=A;else if(p!==f)break}p?p.parentNode.insertBefore(e,p.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Ah(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Th(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var So=null;function Py(e,i,a){if(So===null){var o=new Map,f=So=new Map;f.set(a,o)}else f=So,o=f.get(a),o||(o=new Map,f.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),f=0;f<a.length;f++){var p=a[f];if(!(p[Ps]||p[Ce]||e==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var x=p.getAttribute(i)||"";x=e+x;var A=o.get(x);A?A.push(p):o.set(x,[p])}}return o}function Uy(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function xS(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Gy(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var Ta=null;function bS(){}function vS(e,i,a){if(Ta===null)throw Error(s(475));var o=Ta;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(i.state.loading&4)){if(i.instance===null){var f=hs(a.href),p=e.querySelector(Sa(f));if(p){e=p._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=Ao.bind(o),e.then(o,o)),i.state.loading|=4,i.instance=p,me(p);return}p=e.ownerDocument||e,a=Ny(a),(f=mn.get(f))&&Ah(a,f),p=p.createElement("link"),me(p);var x=p;x._p=new Promise(function(A,O){x.onload=A,x.onerror=O}),Ae(p,"link",a),i.instance=p}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(i,e),(e=i.state.preload)&&!(i.state.loading&3)&&(o.count++,i=Ao.bind(o),e.addEventListener("load",i),e.addEventListener("error",i))}}function _S(){if(Ta===null)throw Error(s(475));var e=Ta;return e.stylesheets&&e.count===0&&Eh(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&Eh(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Ao(){if(this.count--,this.count===0){if(this.stylesheets)Eh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var To=null;function Eh(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,To=new Map,i.forEach(wS,e),To=null,Ao.call(e))}function wS(e,i){if(!(i.state.loading&4)){var a=To.get(e);if(a)var o=a.get(null);else{a=new Map,To.set(e,a);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var x=f[p];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(a.set(x.dataset.precedence,x),o=x)}o&&a.set(null,o)}f=i.instance,x=f.getAttribute("data-precedence"),p=a.get(x)||o,p===o&&a.set(null,f),a.set(x,f),this.count++,o=Ao.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),p?p.parentNode.insertBefore(f,p.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),i.state.loading|=4}}var Ea={$$typeof:b,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function SS(e,i,a,o,f,p,x,A){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Cu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cu(0),this.hiddenUpdates=Cu(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function Ly(e,i,a,o,f,p,x,A,O,U,Q,tt){return e=new SS(e,i,a,x,A,O,U,tt),i=1,p===!0&&(i|=24),p=dn(3,null,null,i),e.current=p,p.stateNode=e,i=ic(),i.refCount++,e.pooledCache=i,i.refCount++,p.memoizedState={element:o,isDehydrated:a,cache:i},Pc(p),e}function Iy(e){return e?(e=Fi,e):Fi}function qy(e,i,a,o,f,p){f=Iy(f),o.context===null?o.context=f:o.pendingContext=f,o=Rr(i),o.payload={element:a},p=p===void 0?null:p,p!==null&&(o.callback=p),a=zr(e,o,i),a!==null&&(He(a,e,i),ua(a,e,i))}function Fy(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Mh(e,i){Fy(e,i),(e=e.alternate)&&Fy(e,i)}function Yy(e){if(e.tag===13){var i=Sr(e,67108864);i!==null&&He(i,e,67108864),Mh(e,67108864)}}var Eo=!0;function AS(e,i,a,o){var f=W.T;W.T=null;var p=F.p;try{F.p=2,Ch(e,i,a,o)}finally{F.p=p,W.T=f}}function TS(e,i,a,o){var f=W.T;W.T=null;var p=F.p;try{F.p=8,Ch(e,i,a,o)}finally{F.p=p,W.T=f}}function Ch(e,i,a,o){if(Eo){var f=kh(o);if(f===null)gh(e,i,o,Mo,a),Xy(e,o);else if(MS(f,e,i,a,o))o.stopPropagation();else if(Xy(e,o),i&4&&-1<ES.indexOf(e)){for(;f!==null;){var p=Bi(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var x=$r(p.pendingLanes);if(x!==0){var A=p;for(A.pendingLanes|=2,A.entangledLanes|=2;x;){var O=1<<31-Ye(x);A.entanglements[1]|=O,x&=~O}Nn(p),!(Xt&6)&&(uo=zn()+500,va(0))}}break;case 13:A=Sr(p,2),A!==null&&He(A,p,2),fo(),Mh(p,2)}if(p=kh(o),p===null&&gh(e,i,o,Mo,a),p===f)break;f=p}f!==null&&o.stopPropagation()}else gh(e,i,o,null,a)}}function kh(e){return e=Du(e),Rh(e)}var Mo=null;function Rh(e){if(Mo=null,e=Kr(e),e!==null){var i=j(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=B(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Mo=e,null}function Vy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(h_()){case gp:return 2;case yp:return 8;case _l:case f_:return 32;case xp:return 268435456;default:return 32}default:return 32}}var zh=!1,Pr=null,Ur=null,Gr=null,Ma=new Map,Ca=new Map,Lr=[],ES="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Xy(e,i){switch(e){case"focusin":case"focusout":Pr=null;break;case"dragenter":case"dragleave":Ur=null;break;case"mouseover":case"mouseout":Gr=null;break;case"pointerover":case"pointerout":Ma.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ca.delete(i.pointerId)}}function ka(e,i,a,o,f,p){return e===null||e.nativeEvent!==p?(e={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:p,targetContainers:[f]},i!==null&&(i=Bi(i),i!==null&&Yy(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),e)}function MS(e,i,a,o,f){switch(i){case"focusin":return Pr=ka(Pr,e,i,a,o,f),!0;case"dragenter":return Ur=ka(Ur,e,i,a,o,f),!0;case"mouseover":return Gr=ka(Gr,e,i,a,o,f),!0;case"pointerover":var p=f.pointerId;return Ma.set(p,ka(Ma.get(p)||null,e,i,a,o,f)),!0;case"gotpointercapture":return p=f.pointerId,Ca.set(p,ka(Ca.get(p)||null,e,i,a,o,f)),!0}return!1}function Wy(e){var i=Kr(e.target);if(i!==null){var a=j(i);if(a!==null){if(i=a.tag,i===13){if(i=B(a),i!==null){e.blockedOn=i,__(e.priority,function(){if(a.tag===13){var o=Ke(),f=Sr(a,o);f!==null&&He(f,a,o),Mh(a,o)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Co(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=kh(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);ju=o,a.target.dispatchEvent(o),ju=null}else return i=Bi(a),i!==null&&Yy(i),e.blockedOn=a,!1;i.shift()}return!0}function $y(e,i,a){Co(e)&&a.delete(i)}function CS(){zh=!1,Pr!==null&&Co(Pr)&&(Pr=null),Ur!==null&&Co(Ur)&&(Ur=null),Gr!==null&&Co(Gr)&&(Gr=null),Ma.forEach($y),Ca.forEach($y)}function ko(e,i){e.blockedOn===i&&(e.blockedOn=null,zh||(zh=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,CS)))}var Ro=null;function Ky(e){Ro!==e&&(Ro=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Ro===e&&(Ro=null);for(var i=0;i<e.length;i+=3){var a=e[i],o=e[i+1],f=e[i+2];if(typeof o!="function"){if(Rh(o||a)===null)continue;break}var p=Bi(a);p!==null&&(e.splice(i,3),i-=3,vc(p,{pending:!0,data:f,method:a.method,action:o},o,f))}}))}function Ra(e){function i(O){return ko(O,e)}Pr!==null&&ko(Pr,e),Ur!==null&&ko(Ur,e),Gr!==null&&ko(Gr,e),Ma.forEach(i),Ca.forEach(i);for(var a=0;a<Lr.length;a++){var o=Lr[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Lr.length&&(a=Lr[0],a.blockedOn===null);)Wy(a),a.blockedOn===null&&Lr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var f=a[o],p=a[o+1],x=f[Ue]||null;if(typeof p=="function")x||Ky(a);else if(x){var A=null;if(p&&p.hasAttribute("formAction")){if(f=p,x=p[Ue]||null)A=x.formAction;else if(Rh(f)!==null)continue}else A=x.action;typeof A=="function"?a[o+1]=A:(a.splice(o,3),o-=3),Ky(a)}}}function Oh(e){this._internalRoot=e}zo.prototype.render=Oh.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,o=Ke();qy(a,o,e,i,null,null)},zo.prototype.unmount=Oh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;e.tag===0&&ls(),qy(e.current,2,null,e,null,null),fo(),i[Oi]=null}};function zo(e){this._internalRoot=e}zo.prototype.unstable_scheduleHydration=function(e){if(e){var i=Ap();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Lr.length&&i!==0&&i<Lr[a].priority;a++);Lr.splice(a,0,e),a===0&&Wy(e)}};var Qy=t.version;if(Qy!=="19.0.0")throw Error(s(527,Qy,"19.0.0"));F.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=C(i),e=e!==null?N(e):null,e=e===null?null:e.stateNode,e};var kS={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:W,findFiberByHostInstance:Kr,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oo.isDisabled&&Oo.supportsFiber)try{Ds=Oo.inject(kS),Fe=Oo}catch{}}return Oa.createRoot=function(e,i){if(!l(e))throw Error(s(299));var a=!1,o="",f=pg,p=mg,x=gg,A=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(p=i.onCaughtError),i.onRecoverableError!==void 0&&(x=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(A=i.unstable_transitionCallbacks)),i=Ly(e,1,!1,null,null,a,o,f,p,x,A,null),e[Oi]=i.current,mh(e.nodeType===8?e.parentNode:e),new Oh(i)},Oa.hydrateRoot=function(e,i,a){if(!l(e))throw Error(s(299));var o=!1,f="",p=pg,x=mg,A=gg,O=null,U=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(x=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(O=a.unstable_transitionCallbacks),a.formState!==void 0&&(U=a.formState)),i=Ly(e,1,!0,i,a??null,o,f,p,x,A,O,U),i.context=Iy(null),a=i.current,o=Ke(),f=Rr(o),f.callback=null,zr(a,f,o),i.current.lanes=o,Hs(i,o),Nn(i),e[Oi]=i.current,mh(e),new zo(i)},Oa.version="19.0.0",Oa}var lx;function LS(){if(lx)return Dh.exports;lx=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Dh.exports=GS(),Dh.exports}var IS=LS();function qS(n,t){if(n instanceof RegExp)return{keys:!1,pattern:n};var r,s,l,u,c=[],h="",d=n.split("/");for(d[0]||d.shift();l=d.shift();)r=l[0],r==="*"?(c.push(r),h+=l[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(s=l.indexOf("?",1),u=l.indexOf(".",1),c.push(l.substring(1,~s?s:~u?u:l.length)),h+=~s&&!~u?"(?:/([^/]+?))?":"/([^/]+?)",~u&&(h+=(~s?"?":"")+"\\"+l.substring(u))):h+="/"+l;return{keys:c,pattern:new RegExp("^"+h+(t?"(?=$|/)":"/?$"),"i")}}var Uh={exports:{}},Gh={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ox;function FS(){if(ox)return Gh;ox=1;var n=xr();function t(y,v){return y===v&&(y!==0||1/y===1/v)||y!==y&&v!==v}var r=typeof Object.is=="function"?Object.is:t,s=n.useState,l=n.useEffect,u=n.useLayoutEffect,c=n.useDebugValue;function h(y,v){var b=v(),T=s({inst:{value:b,getSnapshot:v}}),E=T[0].inst,w=T[1];return u(function(){E.value=b,E.getSnapshot=v,d(E)&&w({inst:E})},[y,b,v]),l(function(){return d(E)&&w({inst:E}),y(function(){d(E)&&w({inst:E})})},[y]),c(b),b}function d(y){var v=y.getSnapshot;y=y.value;try{var b=v();return!r(y,b)}catch{return!0}}function m(y,v){return v()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:h;return Gh.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:g,Gh}var ux;function YS(){return ux||(ux=1,Uh.exports=FS()),Uh.exports}var VS=YS();const XS=NS.useInsertionEffect,WS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$S=WS?lt.useLayoutEffect:lt.useEffect,KS=XS||$S,F0=n=>{const t=lt.useRef([n,(...r)=>t[0](...r)]).current;return KS(()=>{t[0]=n}),t[1]},QS="popstate",kd="pushState",Rd="replaceState",ZS="hashchange",cx=[QS,kd,Rd,ZS],JS=n=>{for(const t of cx)addEventListener(t,n);return()=>{for(const t of cx)removeEventListener(t,n)}},Y0=(n,t)=>VS.useSyncExternalStore(JS,n,t),tA=()=>location.search,eA=({ssrSearch:n=""}={})=>Y0(tA,()=>n),hx=()=>location.pathname,nA=({ssrPath:n}={})=>Y0(hx,n?()=>n:hx),rA=(n,{replace:t=!1,state:r=null}={})=>history[t?Rd:kd](r,"",n),iA=(n={})=>[nA(n),rA],fx=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[fx]>"u"){for(const n of[kd,Rd]){const t=history[n];history[n]=function(){const r=t.apply(this,arguments),s=new Event(n);return s.arguments=arguments,dispatchEvent(s),r}}Object.defineProperty(window,fx,{value:!0})}const sA=(n,t)=>t.toLowerCase().indexOf(n.toLowerCase())?"~"+t:t.slice(n.length)||"/",V0=(n="")=>n==="/"?"":n,aA=(n,t)=>n[0]==="~"?n.slice(1):V0(t)+n,lA=(n="",t)=>sA(dx(V0(n)),dx(t)),dx=n=>{try{return decodeURI(n)}catch{return n}},X0={hook:iA,searchHook:eA,parser:qS,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:n=>n},W0=lt.createContext(X0),zd=()=>lt.useContext(W0),$0={},K0=lt.createContext($0),oA=()=>lt.useContext(K0),Q0=n=>{const[t,r]=n.hook(n);return[lA(n.base,t),F0((s,l)=>r(aA(s,n.base),l))]},uA=(n,t,r,s)=>{const{pattern:l,keys:u}=t instanceof RegExp?{keys:!1,pattern:t}:n(t||"*",s),c=l.exec(r)||[],[h,...d]=c;return h!==void 0?[!0,(()=>{const m=u!==!1?Object.fromEntries(u.map((y,v)=>[y,d[v]])):c.groups;let g={...d};return m&&Object.assign(g,m),g})(),...s?[h]:[]]:[!1,null]},cA=({children:n,...t})=>{const r=zd(),s=t.hook?X0:r;let l=s;const[u,c]=t.ssrPath?.split("?")??[];c&&(t.ssrSearch=c,t.ssrPath=u),t.hrefs=t.hrefs??t.hook?.hrefs;let h=lt.useRef({}),d=h.current,m=d;for(let g in s){const y=g==="base"?s[g]+(t[g]||""):t[g]||s[g];d===m&&y!==m[g]&&(h.current=m={...m}),m[g]=y,y!==s[g]&&(l=m)}return lt.createElement(W0.Provider,{value:l,children:n})},px=({children:n,component:t},r)=>t?lt.createElement(t,{params:r}):typeof n=="function"?n(r):n,hA=n=>{let t=lt.useRef($0),r=t.current;for(const s in n)n[s]!==r[s]&&(r=n);return Object.keys(n).length===0&&(r=n),t.current=r},mx=({path:n,nest:t,match:r,...s})=>{const l=zd(),[u]=Q0(l),[c,h,d]=r??uA(l.parser,n,u,t),m=hA({...oA(),...h});if(!c)return null;const g=d?lt.createElement(cA,{base:d},px(s,m)):px(s,m);return lt.createElement(K0.Provider,{value:m,children:g})};lt.forwardRef((n,t)=>{const r=zd(),[s,l]=Q0(r),{to:u="",href:c=u,onClick:h,asChild:d,children:m,className:g,replace:y,state:v,...b}=n,T=F0(w=>{w.ctrlKey||w.metaKey||w.altKey||w.shiftKey||w.button!==0||(h?.(w),w.defaultPrevented||(w.preventDefault(),l(c,n)))}),E=r.hrefs(c[0]==="~"?c.slice(1):r.base+c,r);return d&&lt.isValidElement(m)?lt.cloneElement(m,{onClick:T,href:E}):lt.createElement("a",{...b,onClick:T,href:E,className:g?.call?g(s===c):g,children:m,ref:t})});const fA="modulepreload",dA=function(n){return"/"+n},gx={},vs=function(t,r,s){let l=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),h=c?.nonce||c?.getAttribute("nonce");l=Promise.allSettled(r.map(d=>{if(d=dA(d),d in gx)return;gx[d]=!0;const m=d.endsWith(".css"),g=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${g}`))return;const y=document.createElement("link");if(y.rel=m?"stylesheet":fA,m||(y.as="script"),y.crossOrigin="",y.href=d,h&&y.setAttribute("nonce",h),document.head.appendChild(y),m)return new Promise((v,b)=>{y.addEventListener("load",v),y.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${d}`)))})}))}function u(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return l.then(c=>{for(const h of c||[])h.status==="rejected"&&u(h.reason);return t().catch(u)})};var xt=(n=>(n.Application="application",n.WebGLPipes="webgl-pipes",n.WebGLPipesAdaptor="webgl-pipes-adaptor",n.WebGLSystem="webgl-system",n.WebGPUPipes="webgpu-pipes",n.WebGPUPipesAdaptor="webgpu-pipes-adaptor",n.WebGPUSystem="webgpu-system",n.CanvasSystem="canvas-system",n.CanvasPipesAdaptor="canvas-pipes-adaptor",n.CanvasPipes="canvas-pipes",n.Asset="asset",n.LoadParser="load-parser",n.ResolveParser="resolve-parser",n.CacheParser="cache-parser",n.DetectionParser="detection-parser",n.MaskEffect="mask-effect",n.BlendMode="blend-mode",n.TextureSource="texture-source",n.Environment="environment",n.ShapeBuilder="shape-builder",n.Batcher="batcher",n))(xt||{});const Jf=n=>{if(typeof n=="function"||typeof n=="object"&&n.extension){if(!n.extension)throw new Error("Extension class must have an extension object");n={...typeof n.extension!="object"?{type:n.extension}:n.extension,ref:n}}if(typeof n=="object")n={...n};else throw new Error("Invalid extension type");return typeof n.type=="string"&&(n.type=[n.type]),n},Bo=(n,t)=>Jf(n).priority??t,xn={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...n){return n.map(Jf).forEach(t=>{t.type.forEach(r=>this._removeHandlers[r]?.(t))}),this},add(...n){return n.map(Jf).forEach(t=>{t.type.forEach(r=>{const s=this._addHandlers,l=this._queue;s[r]?s[r]?.(t):(l[r]=l[r]||[],l[r]?.push(t))})}),this},handle(n,t,r){const s=this._addHandlers,l=this._removeHandlers;if(s[n]||l[n])throw new Error(`Extension type ${n} already has a handler`);s[n]=t,l[n]=r;const u=this._queue;return u[n]&&(u[n]?.forEach(c=>t(c)),delete u[n]),this},handleByMap(n,t){return this.handle(n,r=>{r.name&&(t[r.name]=r.ref)},r=>{r.name&&delete t[r.name]})},handleByNamedList(n,t,r=-1){return this.handle(n,s=>{t.findIndex(u=>u.name===s.name)>=0||(t.push({name:s.name,value:s.ref}),t.sort((u,c)=>Bo(c.value,r)-Bo(u.value,r)))},s=>{const l=t.findIndex(u=>u.name===s.name);l!==-1&&t.splice(l,1)})},handleByList(n,t,r=-1){return this.handle(n,s=>{t.includes(s.ref)||(t.push(s.ref),t.sort((l,u)=>Bo(u,r)-Bo(l,r)))},s=>{const l=t.indexOf(s.ref);l!==-1&&t.splice(l,1)})}},pA={extension:{type:xt.Environment,name:"browser",priority:-1},test:()=>!0,load:async()=>{await vs(()=>import("./browserAll-BGUUF6sF.js"),__vite__mapDeps([0,1,2,3]))}},mA={extension:{type:xt.Environment,name:"webworker",priority:0},test:()=>typeof self<"u"&&self.WorkerGlobalScope!==void 0,load:async()=>{await vs(()=>import("./webworkerAll-CAd1IxnV.js"),__vite__mapDeps([1,2,3]))}};class Je{constructor(t,r,s){this._x=r||0,this._y=s||0,this._observer=t}clone(t){return new Je(t??this._observer,this._x,this._y)}set(t=0,r=t){return(this._x!==t||this._y!==r)&&(this._x=t,this._y=r,this._observer._onUpdate(this)),this}copyFrom(t){return(this._x!==t.x||this._y!==t.y)&&(this._x=t.x,this._y=t.y,this._observer._onUpdate(this)),this}copyTo(t){return t.set(this._x,this._y),t}equals(t){return t.x===this._x&&t.y===this._y}toString(){return`[pixi.js/math:ObservablePoint x=0 y=0 scope=${this._observer}]`}get x(){return this._x}set x(t){this._x!==t&&(this._x=t,this._observer._onUpdate(this))}get y(){return this._y}set y(t){this._y!==t&&(this._y=t,this._observer._onUpdate(this))}}var Lh={exports:{}},yx;function gA(){return yx||(yx=1,function(n){var t=Object.prototype.hasOwnProperty,r="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(r=!1));function l(d,m,g){this.fn=d,this.context=m,this.once=g||!1}function u(d,m,g,y,v){if(typeof g!="function")throw new TypeError("The listener must be a function");var b=new l(g,y||d,v),T=r?r+m:m;return d._events[T]?d._events[T].fn?d._events[T]=[d._events[T],b]:d._events[T].push(b):(d._events[T]=b,d._eventsCount++),d}function c(d,m){--d._eventsCount===0?d._events=new s:delete d._events[m]}function h(){this._events=new s,this._eventsCount=0}h.prototype.eventNames=function(){var m=[],g,y;if(this._eventsCount===0)return m;for(y in g=this._events)t.call(g,y)&&m.push(r?y.slice(1):y);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(g)):m},h.prototype.listeners=function(m){var g=r?r+m:m,y=this._events[g];if(!y)return[];if(y.fn)return[y.fn];for(var v=0,b=y.length,T=new Array(b);v<b;v++)T[v]=y[v].fn;return T},h.prototype.listenerCount=function(m){var g=r?r+m:m,y=this._events[g];return y?y.fn?1:y.length:0},h.prototype.emit=function(m,g,y,v,b,T){var E=r?r+m:m;if(!this._events[E])return!1;var w=this._events[E],R=arguments.length,k,D;if(w.fn){switch(w.once&&this.removeListener(m,w.fn,void 0,!0),R){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,g),!0;case 3:return w.fn.call(w.context,g,y),!0;case 4:return w.fn.call(w.context,g,y,v),!0;case 5:return w.fn.call(w.context,g,y,v,b),!0;case 6:return w.fn.call(w.context,g,y,v,b,T),!0}for(D=1,k=new Array(R-1);D<R;D++)k[D-1]=arguments[D];w.fn.apply(w.context,k)}else{var P=w.length,I;for(D=0;D<P;D++)switch(w[D].once&&this.removeListener(m,w[D].fn,void 0,!0),R){case 1:w[D].fn.call(w[D].context);break;case 2:w[D].fn.call(w[D].context,g);break;case 3:w[D].fn.call(w[D].context,g,y);break;case 4:w[D].fn.call(w[D].context,g,y,v);break;default:if(!k)for(I=1,k=new Array(R-1);I<R;I++)k[I-1]=arguments[I];w[D].fn.apply(w[D].context,k)}}return!0},h.prototype.on=function(m,g,y){return u(this,m,g,y,!1)},h.prototype.once=function(m,g,y){return u(this,m,g,y,!0)},h.prototype.removeListener=function(m,g,y,v){var b=r?r+m:m;if(!this._events[b])return this;if(!g)return c(this,b),this;var T=this._events[b];if(T.fn)T.fn===g&&(!v||T.once)&&(!y||T.context===y)&&c(this,b);else{for(var E=0,w=[],R=T.length;E<R;E++)(T[E].fn!==g||v&&!T[E].once||y&&T[E].context!==y)&&w.push(T[E]);w.length?this._events[b]=w.length===1?w[0]:w:c(this,b)}return this},h.prototype.removeAllListeners=function(m){var g;return m?(g=r?r+m:m,this._events[g]&&c(this,g)):(this._events=new s,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prefixed=r,h.EventEmitter=h,n.exports=h}(Lh)),Lh.exports}var yA=gA();const Yn=vn(yA),xA=Math.PI*2,bA=180/Math.PI,vA=Math.PI/180;class Be{constructor(t=0,r=0){this.x=0,this.y=0,this.x=t,this.y=r}clone(){return new Be(this.x,this.y)}copyFrom(t){return this.set(t.x,t.y),this}copyTo(t){return t.set(this.x,this.y),t}equals(t){return t.x===this.x&&t.y===this.y}set(t=0,r=t){return this.x=t,this.y=r,this}toString(){return`[pixi.js/math:Point x=${this.x} y=${this.y}]`}static get shared(){return Ih.x=0,Ih.y=0,Ih}}const Ih=new Be;class Bt{constructor(t=1,r=0,s=0,l=1,u=0,c=0){this.array=null,this.a=t,this.b=r,this.c=s,this.d=l,this.tx=u,this.ty=c}fromArray(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]}set(t,r,s,l,u,c){return this.a=t,this.b=r,this.c=s,this.d=l,this.tx=u,this.ty=c,this}toArray(t,r){this.array||(this.array=new Float32Array(9));const s=r||this.array;return t?(s[0]=this.a,s[1]=this.b,s[2]=0,s[3]=this.c,s[4]=this.d,s[5]=0,s[6]=this.tx,s[7]=this.ty,s[8]=1):(s[0]=this.a,s[1]=this.c,s[2]=this.tx,s[3]=this.b,s[4]=this.d,s[5]=this.ty,s[6]=0,s[7]=0,s[8]=1),s}apply(t,r){r=r||new Be;const s=t.x,l=t.y;return r.x=this.a*s+this.c*l+this.tx,r.y=this.b*s+this.d*l+this.ty,r}applyInverse(t,r){r=r||new Be;const s=this.a,l=this.b,u=this.c,c=this.d,h=this.tx,d=this.ty,m=1/(s*c+u*-l),g=t.x,y=t.y;return r.x=c*m*g+-u*m*y+(d*u-h*c)*m,r.y=s*m*y+-l*m*g+(-d*s+h*l)*m,r}translate(t,r){return this.tx+=t,this.ty+=r,this}scale(t,r){return this.a*=t,this.d*=r,this.c*=t,this.b*=r,this.tx*=t,this.ty*=r,this}rotate(t){const r=Math.cos(t),s=Math.sin(t),l=this.a,u=this.c,c=this.tx;return this.a=l*r-this.b*s,this.b=l*s+this.b*r,this.c=u*r-this.d*s,this.d=u*s+this.d*r,this.tx=c*r-this.ty*s,this.ty=c*s+this.ty*r,this}append(t){const r=this.a,s=this.b,l=this.c,u=this.d;return this.a=t.a*r+t.b*l,this.b=t.a*s+t.b*u,this.c=t.c*r+t.d*l,this.d=t.c*s+t.d*u,this.tx=t.tx*r+t.ty*l+this.tx,this.ty=t.tx*s+t.ty*u+this.ty,this}appendFrom(t,r){const s=t.a,l=t.b,u=t.c,c=t.d,h=t.tx,d=t.ty,m=r.a,g=r.b,y=r.c,v=r.d;return this.a=s*m+l*y,this.b=s*g+l*v,this.c=u*m+c*y,this.d=u*g+c*v,this.tx=h*m+d*y+r.tx,this.ty=h*g+d*v+r.ty,this}setTransform(t,r,s,l,u,c,h,d,m){return this.a=Math.cos(h+m)*u,this.b=Math.sin(h+m)*u,this.c=-Math.sin(h-d)*c,this.d=Math.cos(h-d)*c,this.tx=t-(s*this.a+l*this.c),this.ty=r-(s*this.b+l*this.d),this}prepend(t){const r=this.tx;if(t.a!==1||t.b!==0||t.c!==0||t.d!==1){const s=this.a,l=this.c;this.a=s*t.a+this.b*t.c,this.b=s*t.b+this.b*t.d,this.c=l*t.a+this.d*t.c,this.d=l*t.b+this.d*t.d}return this.tx=r*t.a+this.ty*t.c+t.tx,this.ty=r*t.b+this.ty*t.d+t.ty,this}decompose(t){const r=this.a,s=this.b,l=this.c,u=this.d,c=t.pivot,h=-Math.atan2(-l,u),d=Math.atan2(s,r),m=Math.abs(h+d);return m<1e-5||Math.abs(xA-m)<1e-5?(t.rotation=d,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=h,t.skew.y=d),t.scale.x=Math.sqrt(r*r+s*s),t.scale.y=Math.sqrt(l*l+u*u),t.position.x=this.tx+(c.x*r+c.y*l),t.position.y=this.ty+(c.x*s+c.y*u),t}invert(){const t=this.a,r=this.b,s=this.c,l=this.d,u=this.tx,c=t*l-r*s;return this.a=l/c,this.b=-r/c,this.c=-s/c,this.d=t/c,this.tx=(s*this.ty-l*u)/c,this.ty=-(t*this.ty-r*u)/c,this}isIdentity(){return this.a===1&&this.b===0&&this.c===0&&this.d===1&&this.tx===0&&this.ty===0}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const t=new Bt;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyTo(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyFrom(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this}equals(t){return t.a===this.a&&t.b===this.b&&t.c===this.c&&t.d===this.d&&t.tx===this.tx&&t.ty===this.ty}toString(){return`[pixi.js:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return wA.identity()}static get shared(){return _A.identity()}}const _A=new Bt,wA=new Bt,bi=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],vi=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],_i=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],wi=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],td=[],Z0=[],jo=Math.sign;function SA(){for(let n=0;n<16;n++){const t=[];td.push(t);for(let r=0;r<16;r++){const s=jo(bi[n]*bi[r]+_i[n]*vi[r]),l=jo(vi[n]*bi[r]+wi[n]*vi[r]),u=jo(bi[n]*_i[r]+_i[n]*wi[r]),c=jo(vi[n]*_i[r]+wi[n]*wi[r]);for(let h=0;h<16;h++)if(bi[h]===s&&vi[h]===l&&_i[h]===u&&wi[h]===c){t.push(h);break}}}for(let n=0;n<16;n++){const t=new Bt;t.set(bi[n],vi[n],_i[n],wi[n],0,0),Z0.push(t)}}SA();const Wt={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:n=>bi[n],uY:n=>vi[n],vX:n=>_i[n],vY:n=>wi[n],inv:n=>n&8?n&15:-n&7,add:(n,t)=>td[n][t],sub:(n,t)=>td[n][Wt.inv(t)],rotate180:n=>n^4,isVertical:n=>(n&3)===2,byDirection:(n,t)=>Math.abs(n)*2<=Math.abs(t)?t>=0?Wt.S:Wt.N:Math.abs(t)*2<=Math.abs(n)?n>0?Wt.E:Wt.W:t>0?n>0?Wt.SE:Wt.SW:n>0?Wt.NE:Wt.NW,matrixAppendRotationInv:(n,t,r=0,s=0)=>{const l=Z0[Wt.inv(t)];l.tx=r,l.ty=s,n.append(l)}},Do=[new Be,new Be,new Be,new Be];class fe{constructor(t=0,r=0,s=0,l=0){this.type="rectangle",this.x=Number(t),this.y=Number(r),this.width=Number(s),this.height=Number(l)}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}isEmpty(){return this.left===this.right||this.top===this.bottom}static get EMPTY(){return new fe(0,0,0,0)}clone(){return new fe(this.x,this.y,this.width,this.height)}copyFromBounds(t){return this.x=t.minX,this.y=t.minY,this.width=t.maxX-t.minX,this.height=t.maxY-t.minY,this}copyFrom(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}copyTo(t){return t.copyFrom(this),t}contains(t,r){return this.width<=0||this.height<=0?!1:t>=this.x&&t<this.x+this.width&&r>=this.y&&r<this.y+this.height}strokeContains(t,r,s,l=.5){const{width:u,height:c}=this;if(u<=0||c<=0)return!1;const h=this.x,d=this.y,m=s*(1-l),g=s-m,y=h-m,v=h+u+m,b=d-m,T=d+c+m,E=h+g,w=h+u-g,R=d+g,k=d+c-g;return t>=y&&t<=v&&r>=b&&r<=T&&!(t>E&&t<w&&r>R&&r<k)}intersects(t,r){if(!r){const et=this.x<t.x?t.x:this.x;if((this.right>t.right?t.right:this.right)<=et)return!1;const $=this.y<t.y?t.y:this.y;return(this.bottom>t.bottom?t.bottom:this.bottom)>$}const s=this.left,l=this.right,u=this.top,c=this.bottom;if(l<=s||c<=u)return!1;const h=Do[0].set(t.left,t.top),d=Do[1].set(t.left,t.bottom),m=Do[2].set(t.right,t.top),g=Do[3].set(t.right,t.bottom);if(m.x<=h.x||d.y<=h.y)return!1;const y=Math.sign(r.a*r.d-r.b*r.c);if(y===0||(r.apply(h,h),r.apply(d,d),r.apply(m,m),r.apply(g,g),Math.max(h.x,d.x,m.x,g.x)<=s||Math.min(h.x,d.x,m.x,g.x)>=l||Math.max(h.y,d.y,m.y,g.y)<=u||Math.min(h.y,d.y,m.y,g.y)>=c))return!1;const v=y*(d.y-h.y),b=y*(h.x-d.x),T=v*s+b*u,E=v*l+b*u,w=v*s+b*c,R=v*l+b*c;if(Math.max(T,E,w,R)<=v*h.x+b*h.y||Math.min(T,E,w,R)>=v*g.x+b*g.y)return!1;const k=y*(h.y-m.y),D=y*(m.x-h.x),P=k*s+D*u,I=k*l+D*u,G=k*s+D*c,V=k*l+D*c;return!(Math.max(P,I,G,V)<=k*h.x+D*h.y||Math.min(P,I,G,V)>=k*g.x+D*g.y)}pad(t=0,r=t){return this.x-=t,this.y-=r,this.width+=t*2,this.height+=r*2,this}fit(t){const r=Math.max(this.x,t.x),s=Math.min(this.x+this.width,t.x+t.width),l=Math.max(this.y,t.y),u=Math.min(this.y+this.height,t.y+t.height);return this.x=r,this.width=Math.max(s-r,0),this.y=l,this.height=Math.max(u-l,0),this}ceil(t=1,r=.001){const s=Math.ceil((this.x+this.width-r)*t)/t,l=Math.ceil((this.y+this.height-r)*t)/t;return this.x=Math.floor((this.x+r)*t)/t,this.y=Math.floor((this.y+r)*t)/t,this.width=s-this.x,this.height=l-this.y,this}enlarge(t){const r=Math.min(this.x,t.x),s=Math.max(this.x+this.width,t.x+t.width),l=Math.min(this.y,t.y),u=Math.max(this.y+this.height,t.y+t.height);return this.x=r,this.width=s-r,this.y=l,this.height=u-l,this}getBounds(t){return t||(t=new fe),t.copyFrom(this),t}toString(){return`[pixi.js/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}const qh={default:-1};function de(n="default"){return qh[n]===void 0&&(qh[n]=-1),++qh[n]}const xx={},Oe="8.0.0",AA="8.3.4";function he(n,t,r=3){if(xx[t])return;let s=new Error().stack;typeof s>"u"?console.warn("PixiJS Deprecation Warning: ",`${t}
Deprecated since v${n}`):(s=s.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${t}
Deprecated since v${n}`),console.warn(s),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${t}
Deprecated since v${n}`),console.warn(s))),xx[t]=!0}const J0=()=>{};function su(n){return n+=n===0?1:0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n+1}function bx(n){return!(n&n-1)&&!!n}function TA(n){const t={};for(const r in n)n[r]!==void 0&&(t[r]=n[r]);return t}const vx=Object.create(null);function EA(n){const t=vx[n];return t===void 0&&(vx[n]=de("resource")),t}const tv=class ev extends Yn{constructor(t={}){super(),this._resourceType="textureSampler",this._touched=0,this._maxAnisotropy=1,this.destroyed=!1,t={...ev.defaultOptions,...t},this.addressMode=t.addressMode,this.addressModeU=t.addressModeU??this.addressModeU,this.addressModeV=t.addressModeV??this.addressModeV,this.addressModeW=t.addressModeW??this.addressModeW,this.scaleMode=t.scaleMode,this.magFilter=t.magFilter??this.magFilter,this.minFilter=t.minFilter??this.minFilter,this.mipmapFilter=t.mipmapFilter??this.mipmapFilter,this.lodMinClamp=t.lodMinClamp,this.lodMaxClamp=t.lodMaxClamp,this.compare=t.compare,this.maxAnisotropy=t.maxAnisotropy??1}set addressMode(t){this.addressModeU=t,this.addressModeV=t,this.addressModeW=t}get addressMode(){return this.addressModeU}set wrapMode(t){he(Oe,"TextureStyle.wrapMode is now TextureStyle.addressMode"),this.addressMode=t}get wrapMode(){return this.addressMode}set scaleMode(t){this.magFilter=t,this.minFilter=t,this.mipmapFilter=t}get scaleMode(){return this.magFilter}set maxAnisotropy(t){this._maxAnisotropy=Math.min(t,16),this._maxAnisotropy>1&&(this.scaleMode="linear")}get maxAnisotropy(){return this._maxAnisotropy}get _resourceId(){return this._sharedResourceId||this._generateResourceId()}update(){this.emit("change",this),this._sharedResourceId=null}_generateResourceId(){const t=`${this.addressModeU}-${this.addressModeV}-${this.addressModeW}-${this.magFilter}-${this.minFilter}-${this.mipmapFilter}-${this.lodMinClamp}-${this.lodMaxClamp}-${this.compare}-${this._maxAnisotropy}`;return this._sharedResourceId=EA(t),this._resourceId}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this.removeAllListeners()}};tv.defaultOptions={addressMode:"clamp-to-edge",scaleMode:"linear"};let MA=tv;const nv=class rv extends Yn{constructor(t={}){super(),this.options=t,this.uid=de("textureSource"),this._resourceType="textureSource",this._resourceId=de("resource"),this.uploadMethodId="unknown",this._resolution=1,this.pixelWidth=1,this.pixelHeight=1,this.width=1,this.height=1,this.sampleCount=1,this.mipLevelCount=1,this.autoGenerateMipmaps=!1,this.format="rgba8unorm",this.dimension="2d",this.antialias=!1,this._touched=0,this._batchTick=-1,this._textureBindLocation=-1,t={...rv.defaultOptions,...t},this.label=t.label??"",this.resource=t.resource,this.autoGarbageCollect=t.autoGarbageCollect,this._resolution=t.resolution,t.width?this.pixelWidth=t.width*this._resolution:this.pixelWidth=this.resource?this.resourceWidth??1:1,t.height?this.pixelHeight=t.height*this._resolution:this.pixelHeight=this.resource?this.resourceHeight??1:1,this.width=this.pixelWidth/this._resolution,this.height=this.pixelHeight/this._resolution,this.format=t.format,this.dimension=t.dimensions,this.mipLevelCount=t.mipLevelCount,this.autoGenerateMipmaps=t.autoGenerateMipmaps,this.sampleCount=t.sampleCount,this.antialias=t.antialias,this.alphaMode=t.alphaMode,this.style=new MA(TA(t)),this.destroyed=!1,this._refreshPOT()}get source(){return this}get style(){return this._style}set style(t){this.style!==t&&(this._style?.off("change",this._onStyleChange,this),this._style=t,this._style?.on("change",this._onStyleChange,this),this._onStyleChange())}get addressMode(){return this._style.addressMode}set addressMode(t){this._style.addressMode=t}get repeatMode(){return this._style.addressMode}set repeatMode(t){this._style.addressMode=t}get magFilter(){return this._style.magFilter}set magFilter(t){this._style.magFilter=t}get minFilter(){return this._style.minFilter}set minFilter(t){this._style.minFilter=t}get mipmapFilter(){return this._style.mipmapFilter}set mipmapFilter(t){this._style.mipmapFilter=t}get lodMinClamp(){return this._style.lodMinClamp}set lodMinClamp(t){this._style.lodMinClamp=t}get lodMaxClamp(){return this._style.lodMaxClamp}set lodMaxClamp(t){this._style.lodMaxClamp=t}_onStyleChange(){this.emit("styleChange",this)}update(){if(this.resource){const t=this._resolution;if(this.resize(this.resourceWidth/t,this.resourceHeight/t))return}this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._style&&(this._style.destroy(),this._style=null),this.uploadMethodId=null,this.resource=null,this.removeAllListeners()}unload(){this._resourceId=de("resource"),this.emit("change",this),this.emit("unload",this)}get resourceWidth(){const{resource:t}=this;return t.naturalWidth||t.videoWidth||t.displayWidth||t.width}get resourceHeight(){const{resource:t}=this;return t.naturalHeight||t.videoHeight||t.displayHeight||t.height}get resolution(){return this._resolution}set resolution(t){this._resolution!==t&&(this._resolution=t,this.width=this.pixelWidth/t,this.height=this.pixelHeight/t)}resize(t,r,s){s||(s=this._resolution),t||(t=this.width),r||(r=this.height);const l=Math.round(t*s),u=Math.round(r*s);return this.width=l/s,this.height=u/s,this._resolution=s,this.pixelWidth===l&&this.pixelHeight===u?!1:(this._refreshPOT(),this.pixelWidth=l,this.pixelHeight=u,this.emit("resize",this),this._resourceId=de("resource"),this.emit("change",this),!0)}updateMipmaps(){this.autoGenerateMipmaps&&this.mipLevelCount>1&&this.emit("updateMipmaps",this)}set wrapMode(t){this._style.wrapMode=t}get wrapMode(){return this._style.wrapMode}set scaleMode(t){this._style.scaleMode=t}get scaleMode(){return this._style.scaleMode}_refreshPOT(){this.isPowerOfTwo=bx(this.pixelWidth)&&bx(this.pixelHeight)}static test(t){throw new Error("Unimplemented")}};nv.defaultOptions={resolution:1,format:"bgra8unorm",alphaMode:"premultiply-alpha-on-upload",dimensions:"2d",mipLevelCount:1,autoGenerateMipmaps:!1,sampleCount:1,antialias:!1,autoGarbageCollect:!1};let Vn=nv;class Od extends Vn{constructor(t){const r=t.resource||new Float32Array(t.width*t.height*4);let s=t.format;s||(r instanceof Float32Array?s="rgba32float":r instanceof Int32Array||r instanceof Uint32Array?s="rgba32uint":r instanceof Int16Array||r instanceof Uint16Array?s="rgba16uint":(r instanceof Int8Array,s="bgra8unorm")),super({...t,resource:r,format:s}),this.uploadMethodId="buffer"}static test(t){return t instanceof Int8Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array}}Od.extension=xt.TextureSource;const _x=new Bt;class CA{constructor(t,r){this.mapCoord=new Bt,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,typeof r>"u"?this.clampMargin=t.width<10?0:.5:this.clampMargin=r,this.isSimple=!1,this.texture=t}get texture(){return this._texture}set texture(t){this.texture!==t&&(this._texture?.removeListener("update",this.update,this),this._texture=t,this._texture.addListener("update",this.update,this),this.update())}multiplyUvs(t,r){r===void 0&&(r=t);const s=this.mapCoord;for(let l=0;l<t.length;l+=2){const u=t[l],c=t[l+1];r[l]=u*s.a+c*s.c+s.tx,r[l+1]=u*s.b+c*s.d+s.ty}return r}update(){const t=this._texture;this._updateID++;const r=t.uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);const s=t.orig,l=t.trim;l&&(_x.set(s.width/l.width,0,0,s.height/l.height,-l.x/l.width,-l.y/l.height),this.mapCoord.append(_x));const u=t.source,c=this.uClampFrame,h=this.clampMargin/u._resolution,d=this.clampOffset/u._resolution;return c[0]=(t.frame.x+h+d)/u.width,c[1]=(t.frame.y+h+d)/u.height,c[2]=(t.frame.x+t.frame.width-h+d)/u.width,c[3]=(t.frame.y+t.frame.height-h+d)/u.height,this.uClampOffset[0]=this.clampOffset/u.pixelWidth,this.uClampOffset[1]=this.clampOffset/u.pixelHeight,this.isSimple=t.frame.width===u.width&&t.frame.height===u.height&&t.rotate===0,!0}}class Rt extends Yn{constructor({source:t,label:r,frame:s,orig:l,trim:u,defaultAnchor:c,defaultBorders:h,rotate:d,dynamic:m}={}){if(super(),this.uid=de("texture"),this.uvs={x0:0,y0:0,x1:0,y1:0,x2:0,y2:0,x3:0,y3:0},this.frame=new fe,this.noFrame=!1,this.dynamic=!1,this.isTexture=!0,this.label=r,this.source=t?.source??new Vn,this.noFrame=!s,s)this.frame.copyFrom(s);else{const{width:g,height:y}=this._source;this.frame.width=g,this.frame.height=y}this.orig=l||this.frame,this.trim=u,this.rotate=d??0,this.defaultAnchor=c,this.defaultBorders=h,this.destroyed=!1,this.dynamic=m||!1,this.updateUvs()}set source(t){this._source&&this._source.off("resize",this.update,this),this._source=t,t.on("resize",this.update,this),this.emit("update",this)}get source(){return this._source}get textureMatrix(){return this._textureMatrix||(this._textureMatrix=new CA(this)),this._textureMatrix}get width(){return this.orig.width}get height(){return this.orig.height}updateUvs(){const{uvs:t,frame:r}=this,{width:s,height:l}=this._source,u=r.x/s,c=r.y/l,h=r.width/s,d=r.height/l;let m=this.rotate;if(m){const g=h/2,y=d/2,v=u+g,b=c+y;m=Wt.add(m,Wt.NW),t.x0=v+g*Wt.uX(m),t.y0=b+y*Wt.uY(m),m=Wt.add(m,2),t.x1=v+g*Wt.uX(m),t.y1=b+y*Wt.uY(m),m=Wt.add(m,2),t.x2=v+g*Wt.uX(m),t.y2=b+y*Wt.uY(m),m=Wt.add(m,2),t.x3=v+g*Wt.uX(m),t.y3=b+y*Wt.uY(m)}else t.x0=u,t.y0=c,t.x1=u+h,t.y1=c,t.x2=u+h,t.y2=c+d,t.x3=u,t.y3=c+d}destroy(t=!1){this._source&&t&&(this._source.destroy(),this._source=null),this._textureMatrix=null,this.destroyed=!0,this.emit("destroy",this),this.removeAllListeners()}update(){this.noFrame&&(this.frame.width=this._source.width,this.frame.height=this._source.height),this.updateUvs(),this.emit("update",this)}get baseTexture(){return he(Oe,"Texture.baseTexture is now Texture.source"),this._source}}Rt.EMPTY=new Rt({label:"EMPTY",source:new Vn({label:"EMPTY"})});Rt.EMPTY.destroy=J0;Rt.WHITE=new Rt({source:new Od({resource:new Uint8Array([255,255,255,255]),width:1,height:1,alphaMode:"premultiply-alpha-on-upload",label:"WHITE"}),label:"WHITE"});Rt.WHITE.destroy=J0;function kA(n,t,r,s){const{width:l,height:u}=r.orig,c=r.trim;if(c){const h=c.width,d=c.height;n.minX=c.x-t._x*l-s,n.maxX=n.minX+h,n.minY=c.y-t._y*u-s,n.maxY=n.minY+d}else n.minX=-t._x*l-s,n.maxX=n.minX+l,n.minY=-t._y*u-s,n.maxY=n.minY+u}const wx=new Bt;class Fn{constructor(t=1/0,r=1/0,s=-1/0,l=-1/0){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=wx,this.minX=t,this.minY=r,this.maxX=s,this.maxY=l}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}get rectangle(){this._rectangle||(this._rectangle=new fe);const t=this._rectangle;return this.minX>this.maxX||this.minY>this.maxY?(t.x=0,t.y=0,t.width=0,t.height=0):t.copyFromBounds(this),t}clear(){return this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=wx,this}set(t,r,s,l){this.minX=t,this.minY=r,this.maxX=s,this.maxY=l}addFrame(t,r,s,l,u){u||(u=this.matrix);const c=u.a,h=u.b,d=u.c,m=u.d,g=u.tx,y=u.ty;let v=this.minX,b=this.minY,T=this.maxX,E=this.maxY,w=c*t+d*r+g,R=h*t+m*r+y;w<v&&(v=w),R<b&&(b=R),w>T&&(T=w),R>E&&(E=R),w=c*s+d*r+g,R=h*s+m*r+y,w<v&&(v=w),R<b&&(b=R),w>T&&(T=w),R>E&&(E=R),w=c*t+d*l+g,R=h*t+m*l+y,w<v&&(v=w),R<b&&(b=R),w>T&&(T=w),R>E&&(E=R),w=c*s+d*l+g,R=h*s+m*l+y,w<v&&(v=w),R<b&&(b=R),w>T&&(T=w),R>E&&(E=R),this.minX=v,this.minY=b,this.maxX=T,this.maxY=E}addRect(t,r){this.addFrame(t.x,t.y,t.x+t.width,t.y+t.height,r)}addBounds(t,r){this.addFrame(t.minX,t.minY,t.maxX,t.maxY,r)}addBoundsMask(t){this.minX=this.minX>t.minX?this.minX:t.minX,this.minY=this.minY>t.minY?this.minY:t.minY,this.maxX=this.maxX<t.maxX?this.maxX:t.maxX,this.maxY=this.maxY<t.maxY?this.maxY:t.maxY}applyMatrix(t){const r=this.minX,s=this.minY,l=this.maxX,u=this.maxY,{a:c,b:h,c:d,d:m,tx:g,ty:y}=t;let v=c*r+d*s+g,b=h*r+m*s+y;this.minX=v,this.minY=b,this.maxX=v,this.maxY=b,v=c*l+d*s+g,b=h*l+m*s+y,this.minX=v<this.minX?v:this.minX,this.minY=b<this.minY?b:this.minY,this.maxX=v>this.maxX?v:this.maxX,this.maxY=b>this.maxY?b:this.maxY,v=c*r+d*u+g,b=h*r+m*u+y,this.minX=v<this.minX?v:this.minX,this.minY=b<this.minY?b:this.minY,this.maxX=v>this.maxX?v:this.maxX,this.maxY=b>this.maxY?b:this.maxY,v=c*l+d*u+g,b=h*l+m*u+y,this.minX=v<this.minX?v:this.minX,this.minY=b<this.minY?b:this.minY,this.maxX=v>this.maxX?v:this.maxX,this.maxY=b>this.maxY?b:this.maxY}fit(t){return this.minX<t.left&&(this.minX=t.left),this.maxX>t.right&&(this.maxX=t.right),this.minY<t.top&&(this.minY=t.top),this.maxY>t.bottom&&(this.maxY=t.bottom),this}fitBounds(t,r,s,l){return this.minX<t&&(this.minX=t),this.maxX>r&&(this.maxX=r),this.minY<s&&(this.minY=s),this.maxY>l&&(this.maxY=l),this}pad(t,r=t){return this.minX-=t,this.maxX+=t,this.minY-=r,this.maxY+=r,this}ceil(){return this.minX=Math.floor(this.minX),this.minY=Math.floor(this.minY),this.maxX=Math.ceil(this.maxX),this.maxY=Math.ceil(this.maxY),this}clone(){return new Fn(this.minX,this.minY,this.maxX,this.maxY)}scale(t,r=t){return this.minX*=t,this.minY*=r,this.maxX*=t,this.maxY*=r,this}get x(){return this.minX}set x(t){const r=this.maxX-this.minX;this.minX=t,this.maxX=t+r}get y(){return this.minY}set y(t){const r=this.maxY-this.minY;this.minY=t,this.maxY=t+r}get width(){return this.maxX-this.minX}set width(t){this.maxX=this.minX+t}get height(){return this.maxY-this.minY}set height(t){this.maxY=this.minY+t}get left(){return this.minX}get right(){return this.maxX}get top(){return this.minY}get bottom(){return this.maxY}get isPositive(){return this.maxX-this.minX>0&&this.maxY-this.minY>0}get isValid(){return this.minX+this.minY!==1/0}addVertexData(t,r,s,l){let u=this.minX,c=this.minY,h=this.maxX,d=this.maxY;l||(l=this.matrix);const m=l.a,g=l.b,y=l.c,v=l.d,b=l.tx,T=l.ty;for(let E=r;E<s;E+=2){const w=t[E],R=t[E+1],k=m*w+y*R+b,D=g*w+v*R+T;u=k<u?k:u,c=D<c?D:c,h=k>h?k:h,d=D>d?D:d}this.minX=u,this.minY=c,this.maxX=h,this.maxY=d}containsPoint(t,r){return this.minX<=t&&this.minY<=r&&this.maxX>=t&&this.maxY>=r}toString(){return`[pixi.js:Bounds minX=${this.minX} minY=${this.minY} maxX=${this.maxX} maxY=${this.maxY} width=${this.width} height=${this.height}]`}copyFrom(t){return this.minX=t.minX,this.minY=t.minY,this.maxX=t.maxX,this.maxY=t.maxY,this}}var RA={grad:.9,turn:360,rad:360/(2*Math.PI)},cr=function(n){return typeof n=="string"?n.length>0:typeof n=="number"},_e=function(n,t,r){return t===void 0&&(t=0),r===void 0&&(r=Math.pow(10,t)),Math.round(r*n)/r+0},yn=function(n,t,r){return t===void 0&&(t=0),r===void 0&&(r=1),n>r?r:n>t?n:t},iv=function(n){return(n=isFinite(n)?n%360:0)>0?n:n+360},Sx=function(n){return{r:yn(n.r,0,255),g:yn(n.g,0,255),b:yn(n.b,0,255),a:yn(n.a)}},Fh=function(n){return{r:_e(n.r),g:_e(n.g),b:_e(n.b),a:_e(n.a,3)}},zA=/^#([0-9a-f]{3,8})$/i,No=function(n){var t=n.toString(16);return t.length<2?"0"+t:t},sv=function(n){var t=n.r,r=n.g,s=n.b,l=n.a,u=Math.max(t,r,s),c=u-Math.min(t,r,s),h=c?u===t?(r-s)/c:u===r?2+(s-t)/c:4+(t-r)/c:0;return{h:60*(h<0?h+6:h),s:u?c/u*100:0,v:u/255*100,a:l}},av=function(n){var t=n.h,r=n.s,s=n.v,l=n.a;t=t/360*6,r/=100,s/=100;var u=Math.floor(t),c=s*(1-r),h=s*(1-(t-u)*r),d=s*(1-(1-t+u)*r),m=u%6;return{r:255*[s,h,c,c,d,s][m],g:255*[d,s,s,h,c,c][m],b:255*[c,c,d,s,s,h][m],a:l}},Ax=function(n){return{h:iv(n.h),s:yn(n.s,0,100),l:yn(n.l,0,100),a:yn(n.a)}},Tx=function(n){return{h:_e(n.h),s:_e(n.s),l:_e(n.l),a:_e(n.a,3)}},Ex=function(n){return av((r=(t=n).s,{h:t.h,s:(r*=((s=t.l)<50?s:100-s)/100)>0?2*r/(s+r)*100:0,v:s+r,a:t.a}));var t,r,s},tl=function(n){return{h:(t=sv(n)).h,s:(l=(200-(r=t.s))*(s=t.v)/100)>0&&l<200?r*s/100/(l<=100?l:200-l)*100:0,l:l/2,a:t.a};var t,r,s,l},OA=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,BA=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,jA=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,DA=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,ed={string:[[function(n){var t=zA.exec(n);return t?(n=t[1]).length<=4?{r:parseInt(n[0]+n[0],16),g:parseInt(n[1]+n[1],16),b:parseInt(n[2]+n[2],16),a:n.length===4?_e(parseInt(n[3]+n[3],16)/255,2):1}:n.length===6||n.length===8?{r:parseInt(n.substr(0,2),16),g:parseInt(n.substr(2,2),16),b:parseInt(n.substr(4,2),16),a:n.length===8?_e(parseInt(n.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(n){var t=jA.exec(n)||DA.exec(n);return t?t[2]!==t[4]||t[4]!==t[6]?null:Sx({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(n){var t=OA.exec(n)||BA.exec(n);if(!t)return null;var r,s,l=Ax({h:(r=t[1],s=t[2],s===void 0&&(s="deg"),Number(r)*(RA[s]||1)),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)});return Ex(l)},"hsl"]],object:[[function(n){var t=n.r,r=n.g,s=n.b,l=n.a,u=l===void 0?1:l;return cr(t)&&cr(r)&&cr(s)?Sx({r:Number(t),g:Number(r),b:Number(s),a:Number(u)}):null},"rgb"],[function(n){var t=n.h,r=n.s,s=n.l,l=n.a,u=l===void 0?1:l;if(!cr(t)||!cr(r)||!cr(s))return null;var c=Ax({h:Number(t),s:Number(r),l:Number(s),a:Number(u)});return Ex(c)},"hsl"],[function(n){var t=n.h,r=n.s,s=n.v,l=n.a,u=l===void 0?1:l;if(!cr(t)||!cr(r)||!cr(s))return null;var c=function(h){return{h:iv(h.h),s:yn(h.s,0,100),v:yn(h.v,0,100),a:yn(h.a)}}({h:Number(t),s:Number(r),v:Number(s),a:Number(u)});return av(c)},"hsv"]]},Mx=function(n,t){for(var r=0;r<t.length;r++){var s=t[r][0](n);if(s)return[s,t[r][1]]}return[null,void 0]},NA=function(n){return typeof n=="string"?Mx(n.trim(),ed.string):typeof n=="object"&&n!==null?Mx(n,ed.object):[null,void 0]},Yh=function(n,t){var r=tl(n);return{h:r.h,s:yn(r.s+100*t,0,100),l:r.l,a:r.a}},Vh=function(n){return(299*n.r+587*n.g+114*n.b)/1e3/255},Cx=function(n,t){var r=tl(n);return{h:r.h,s:r.s,l:yn(r.l+100*t,0,100),a:r.a}},nd=function(){function n(t){this.parsed=NA(t)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return n.prototype.isValid=function(){return this.parsed!==null},n.prototype.brightness=function(){return _e(Vh(this.rgba),2)},n.prototype.isDark=function(){return Vh(this.rgba)<.5},n.prototype.isLight=function(){return Vh(this.rgba)>=.5},n.prototype.toHex=function(){return t=Fh(this.rgba),r=t.r,s=t.g,l=t.b,c=(u=t.a)<1?No(_e(255*u)):"","#"+No(r)+No(s)+No(l)+c;var t,r,s,l,u,c},n.prototype.toRgb=function(){return Fh(this.rgba)},n.prototype.toRgbString=function(){return t=Fh(this.rgba),r=t.r,s=t.g,l=t.b,(u=t.a)<1?"rgba("+r+", "+s+", "+l+", "+u+")":"rgb("+r+", "+s+", "+l+")";var t,r,s,l,u},n.prototype.toHsl=function(){return Tx(tl(this.rgba))},n.prototype.toHslString=function(){return t=Tx(tl(this.rgba)),r=t.h,s=t.s,l=t.l,(u=t.a)<1?"hsla("+r+", "+s+"%, "+l+"%, "+u+")":"hsl("+r+", "+s+"%, "+l+"%)";var t,r,s,l,u},n.prototype.toHsv=function(){return t=sv(this.rgba),{h:_e(t.h),s:_e(t.s),v:_e(t.v),a:_e(t.a,3)};var t},n.prototype.invert=function(){return Un({r:255-(t=this.rgba).r,g:255-t.g,b:255-t.b,a:t.a});var t},n.prototype.saturate=function(t){return t===void 0&&(t=.1),Un(Yh(this.rgba,t))},n.prototype.desaturate=function(t){return t===void 0&&(t=.1),Un(Yh(this.rgba,-t))},n.prototype.grayscale=function(){return Un(Yh(this.rgba,-1))},n.prototype.lighten=function(t){return t===void 0&&(t=.1),Un(Cx(this.rgba,t))},n.prototype.darken=function(t){return t===void 0&&(t=.1),Un(Cx(this.rgba,-t))},n.prototype.rotate=function(t){return t===void 0&&(t=15),this.hue(this.hue()+t)},n.prototype.alpha=function(t){return typeof t=="number"?Un({r:(r=this.rgba).r,g:r.g,b:r.b,a:t}):_e(this.rgba.a,3);var r},n.prototype.hue=function(t){var r=tl(this.rgba);return typeof t=="number"?Un({h:t,s:r.s,l:r.l,a:r.a}):_e(r.h)},n.prototype.isEqual=function(t){return this.toHex()===Un(t).toHex()},n}(),Un=function(n){return n instanceof nd?n:new nd(n)},kx=[],HA=function(n){n.forEach(function(t){kx.indexOf(t)<0&&(t(nd,ed),kx.push(t))})};function PA(n,t){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},s={};for(var l in r)s[r[l]]=l;var u={};n.prototype.toName=function(c){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var h,d,m=s[this.toHex()];if(m)return m;if(c?.closest){var g=this.toRgb(),y=1/0,v="black";if(!u.length)for(var b in r)u[b]=new n(r[b]).toRgb();for(var T in r){var E=(h=g,d=u[T],Math.pow(h.r-d.r,2)+Math.pow(h.g-d.g,2)+Math.pow(h.b-d.b,2));E<y&&(y=E,v=T)}return v}},t.string.push([function(c){var h=c.toLowerCase(),d=h==="transparent"?"#0000":r[h];return d?new n(d).toRgb():null},"name"])}HA([PA]);const As=class Xa{constructor(t=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=t}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(t){return this.value=t,this}set value(t){if(t instanceof Xa)this._value=this._cloneSource(t._value),this._int=t._int,this._components.set(t._components);else{if(t===null)throw new Error("Cannot set Color#value to null");(this._value===null||!this._isSourceEqual(this._value,t))&&(this._value=this._cloneSource(t),this._normalize(this._value))}}get value(){return this._value}_cloneSource(t){return typeof t=="string"||typeof t=="number"||t instanceof Number||t===null?t:Array.isArray(t)||ArrayBuffer.isView(t)?t.slice(0):typeof t=="object"&&t!==null?{...t}:t}_isSourceEqual(t,r){const s=typeof t;if(s!==typeof r)return!1;if(s==="number"||s==="string"||t instanceof Number)return t===r;if(Array.isArray(t)&&Array.isArray(r)||ArrayBuffer.isView(t)&&ArrayBuffer.isView(r))return t.length!==r.length?!1:t.every((u,c)=>u===r[c]);if(t!==null&&r!==null){const u=Object.keys(t),c=Object.keys(r);return u.length!==c.length?!1:u.every(h=>t[h]===r[h])}return t===r}toRgba(){const[t,r,s,l]=this._components;return{r:t,g:r,b:s,a:l}}toRgb(){const[t,r,s]=this._components;return{r:t,g:r,b:s}}toRgbaString(){const[t,r,s]=this.toUint8RgbArray();return`rgba(${t},${r},${s},${this.alpha})`}toUint8RgbArray(t){const[r,s,l]=this._components;return this._arrayRgb||(this._arrayRgb=[]),t||(t=this._arrayRgb),t[0]=Math.round(r*255),t[1]=Math.round(s*255),t[2]=Math.round(l*255),t}toArray(t){this._arrayRgba||(this._arrayRgba=[]),t||(t=this._arrayRgba);const[r,s,l,u]=this._components;return t[0]=r,t[1]=s,t[2]=l,t[3]=u,t}toRgbArray(t){this._arrayRgb||(this._arrayRgb=[]),t||(t=this._arrayRgb);const[r,s,l]=this._components;return t[0]=r,t[1]=s,t[2]=l,t}toNumber(){return this._int}toBgrNumber(){const[t,r,s]=this.toUint8RgbArray();return(s<<16)+(r<<8)+t}toLittleEndianNumber(){const t=this._int;return(t>>16)+(t&65280)+((t&255)<<16)}multiply(t){const[r,s,l,u]=Xa._temp.setValue(t)._components;return this._components[0]*=r,this._components[1]*=s,this._components[2]*=l,this._components[3]*=u,this._refreshInt(),this._value=null,this}premultiply(t,r=!0){return r&&(this._components[0]*=t,this._components[1]*=t,this._components[2]*=t),this._components[3]=t,this._refreshInt(),this._value=null,this}toPremultiplied(t,r=!0){if(t===1)return(255<<24)+this._int;if(t===0)return r?0:this._int;let s=this._int>>16&255,l=this._int>>8&255,u=this._int&255;return r&&(s=s*t+.5|0,l=l*t+.5|0,u=u*t+.5|0),(t*255<<24)+(s<<16)+(l<<8)+u}toHex(){const t=this._int.toString(16);return`#${"000000".substring(0,6-t.length)+t}`}toHexa(){const r=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-r.length)+r}setAlpha(t){return this._components[3]=this._clamp(t),this}_normalize(t){let r,s,l,u;if((typeof t=="number"||t instanceof Number)&&t>=0&&t<=16777215){const c=t;r=(c>>16&255)/255,s=(c>>8&255)/255,l=(c&255)/255,u=1}else if((Array.isArray(t)||t instanceof Float32Array)&&t.length>=3&&t.length<=4)t=this._clamp(t),[r,s,l,u=1]=t;else if((t instanceof Uint8Array||t instanceof Uint8ClampedArray)&&t.length>=3&&t.length<=4)t=this._clamp(t,0,255),[r,s,l,u=255]=t,r/=255,s/=255,l/=255,u/=255;else if(typeof t=="string"||typeof t=="object"){if(typeof t=="string"){const h=Xa.HEX_PATTERN.exec(t);h&&(t=`#${h[2]}`)}const c=Un(t);c.isValid()&&({r,g:s,b:l,a:u}=c.rgba,r/=255,s/=255,l/=255)}if(r!==void 0)this._components[0]=r,this._components[1]=s,this._components[2]=l,this._components[3]=u,this._refreshInt();else throw new Error(`Unable to convert color ${t}`)}_refreshInt(){this._clamp(this._components);const[t,r,s]=this._components;this._int=(t*255<<16)+(r*255<<8)+(s*255|0)}_clamp(t,r=0,s=1){return typeof t=="number"?Math.min(Math.max(t,r),s):(t.forEach((l,u)=>{t[u]=Math.min(Math.max(l,r),s)}),t)}static isColorLike(t){return typeof t=="number"||typeof t=="string"||t instanceof Number||t instanceof Xa||Array.isArray(t)||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Float32Array||t.r!==void 0&&t.g!==void 0&&t.b!==void 0||t.r!==void 0&&t.g!==void 0&&t.b!==void 0&&t.a!==void 0||t.h!==void 0&&t.s!==void 0&&t.l!==void 0||t.h!==void 0&&t.s!==void 0&&t.l!==void 0&&t.a!==void 0||t.h!==void 0&&t.s!==void 0&&t.v!==void 0||t.h!==void 0&&t.s!==void 0&&t.v!==void 0&&t.a!==void 0}};As.shared=new As;As._temp=new As;As.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let Me=As;const UA={cullArea:null,cullable:!1,cullableChildren:!0};class Bd{constructor(t,r){this._pool=[],this._count=0,this._index=0,this._classType=t,r&&this.prepopulate(r)}prepopulate(t){for(let r=0;r<t;r++)this._pool[this._index++]=new this._classType;this._count+=t}get(t){let r;return this._index>0?r=this._pool[--this._index]:r=new this._classType,r.init?.(t),r}return(t){t.reset?.(),this._pool[this._index++]=t}get totalSize(){return this._count}get totalFree(){return this._index}get totalUsed(){return this._count-this._index}clear(){this._pool.length=0,this._index=0}}class GA{constructor(){this._poolsByClass=new Map}prepopulate(t,r){this.getPool(t).prepopulate(r)}get(t,r){return this.getPool(t).get(r)}return(t){this.getPool(t.constructor).return(t)}getPool(t){return this._poolsByClass.has(t)||this._poolsByClass.set(t,new Bd(t)),this._poolsByClass.get(t)}stats(){const t={};return this._poolsByClass.forEach(r=>{const s=t[r._classType.name]?r._classType.name+r._classType.ID:r._classType.name;t[s]={free:r.totalFree,used:r.totalUsed,size:r.totalSize}}),t}}const pr=new GA,LA={get isCachedAsTexture(){return!!this.renderGroup?.isCachedAsTexture},cacheAsTexture(n){typeof n=="boolean"&&n===!1?this.disableRenderGroup():(this.enableRenderGroup(),this.renderGroup.enableCacheAsTexture(n===!0?{}:n))},updateCacheTexture(){this.renderGroup?.updateCacheTexture()},get cacheAsBitmap(){return this.isCachedAsTexture},set cacheAsBitmap(n){he("v8.6.0","cacheAsBitmap is deprecated, use cacheAsTexture instead."),this.cacheAsTexture(n)}};function IA(n,t,r){const s=n.length;let l;if(t>=s||r===0)return;r=t+r>s?s-t:r;const u=s-r;for(l=t;l<u;++l)n[l]=n[l+r];n.length=u}const qA={allowChildren:!0,removeChildren(n=0,t){const r=t??this.children.length,s=r-n,l=[];if(s>0&&s<=r){for(let c=r-1;c>=n;c--){const h=this.children[c];h&&(l.push(h),h.parent=null)}IA(this.children,n,r);const u=this.renderGroup||this.parentRenderGroup;u&&u.removeChildren(l);for(let c=0;c<l.length;++c)this.emit("childRemoved",l[c],this,c),l[c].emit("removed",this);return l}else if(s===0&&this.children.length===0)return l;throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},removeChildAt(n){const t=this.getChildAt(n);return this.removeChild(t)},getChildAt(n){if(n<0||n>=this.children.length)throw new Error(`getChildAt: Index (${n}) does not exist.`);return this.children[n]},setChildIndex(n,t){if(t<0||t>=this.children.length)throw new Error(`The index ${t} supplied is out of bounds ${this.children.length}`);this.getChildIndex(n),this.addChildAt(n,t)},getChildIndex(n){const t=this.children.indexOf(n);if(t===-1)throw new Error("The supplied Container must be a child of the caller");return t},addChildAt(n,t){this.allowChildren||he(Oe,"addChildAt: Only Containers will be allowed to add children in v8.0.0");const{children:r}=this;if(t<0||t>r.length)throw new Error(`${n}addChildAt: The index ${t} supplied is out of bounds ${r.length}`);if(n.parent){const l=n.parent.children.indexOf(n);if(n.parent===this&&l===t)return n;l!==-1&&n.parent.children.splice(l,1)}t===r.length?r.push(n):r.splice(t,0,n),n.parent=this,n.didChange=!0,n._updateFlags=15;const s=this.renderGroup||this.parentRenderGroup;return s&&s.addChild(n),this.sortableChildren&&(this.sortDirty=!0),this.emit("childAdded",n,this,t),n.emit("added",this),n},swapChildren(n,t){if(n===t)return;const r=this.getChildIndex(n),s=this.getChildIndex(t);this.children[r]=t,this.children[s]=n;const l=this.renderGroup||this.parentRenderGroup;l&&(l.structureDidChange=!0),this._didContainerChangeTick++},removeFromParent(){this.parent?.removeChild(this)},reparentChild(...n){return n.length===1?this.reparentChildAt(n[0],this.children.length):(n.forEach(t=>this.reparentChildAt(t,this.children.length)),n[0])},reparentChildAt(n,t){if(n.parent===this)return this.setChildIndex(n,t),n;const r=n.worldTransform.clone();n.removeFromParent(),this.addChildAt(n,t);const s=this.worldTransform.clone();return s.invert(),r.prepend(s),n.setFromMatrix(r),n}};class Rx{constructor(){this.pipe="filter",this.priority=1}destroy(){for(let t=0;t<this.filters.length;t++)this.filters[t].destroy();this.filters=null,this.filterArea=null}}class FA{constructor(){this._effectClasses=[],this._tests=[],this._initialized=!1}init(){this._initialized||(this._initialized=!0,this._effectClasses.forEach(t=>{this.add({test:t.test,maskClass:t})}))}add(t){this._tests.push(t)}getMaskEffect(t){this._initialized||this.init();for(let r=0;r<this._tests.length;r++){const s=this._tests[r];if(s.test(t))return pr.get(s.maskClass,t)}return t}returnMaskEffect(t){pr.return(t)}}const rd=new FA;xn.handleByList(xt.MaskEffect,rd._effectClasses);const YA={_maskEffect:null,_maskOptions:{inverse:!1},_filterEffect:null,effects:[],_markStructureAsChanged(){const n=this.renderGroup||this.parentRenderGroup;n&&(n.structureDidChange=!0)},addEffect(n){this.effects.indexOf(n)===-1&&(this.effects.push(n),this.effects.sort((r,s)=>r.priority-s.priority),this._markStructureAsChanged(),this._updateIsSimple())},removeEffect(n){const t=this.effects.indexOf(n);t!==-1&&(this.effects.splice(t,1),this._markStructureAsChanged(),this._updateIsSimple())},set mask(n){const t=this._maskEffect;t?.mask!==n&&(t&&(this.removeEffect(t),rd.returnMaskEffect(t),this._maskEffect=null),n!=null&&(this._maskEffect=rd.getMaskEffect(n),this.addEffect(this._maskEffect)))},setMask(n){this._maskOptions={...this._maskOptions,...n},n.mask&&(this.mask=n.mask),this._markStructureAsChanged()},get mask(){return this._maskEffect?.mask},set filters(n){!Array.isArray(n)&&n&&(n=[n]);const t=this._filterEffect||(this._filterEffect=new Rx);n=n;const r=n?.length>0,s=t.filters?.length>0,l=r!==s;n=Array.isArray(n)?n.slice(0):n,t.filters=Object.freeze(n),l&&(r?this.addEffect(t):(this.removeEffect(t),t.filters=n??null))},get filters(){return this._filterEffect?.filters},set filterArea(n){this._filterEffect||(this._filterEffect=new Rx),this._filterEffect.filterArea=n},get filterArea(){return this._filterEffect?.filterArea}},VA={label:null,get name(){return he(Oe,"Container.name property has been removed, use Container.label instead"),this.label},set name(n){he(Oe,"Container.name property has been removed, use Container.label instead"),this.label=n},getChildByName(n,t=!1){return this.getChildByLabel(n,t)},getChildByLabel(n,t=!1){const r=this.children;for(let s=0;s<r.length;s++){const l=r[s];if(l.label===n||n instanceof RegExp&&n.test(l.label))return l}if(t)for(let s=0;s<r.length;s++){const u=r[s].getChildByLabel(n,!0);if(u)return u}return null},getChildrenByLabel(n,t=!1,r=[]){const s=this.children;for(let l=0;l<s.length;l++){const u=s[l];(u.label===n||n instanceof RegExp&&n.test(u.label))&&r.push(u)}if(t)for(let l=0;l<s.length;l++)s[l].getChildrenByLabel(n,!0,r);return r}},Pe=new Bd(Bt),Ts=new Bd(Fn);function lv(n,t,r){r.clear();let s,l;return n.parent?t?s=n.parent.worldTransform:(l=Pe.get().identity(),s=jd(n,l)):s=Bt.IDENTITY,ov(n,r,s,t),l&&Pe.return(l),r.isValid||r.set(0,0,0,0),r}function ov(n,t,r,s){if(!n.visible||!n.measurable)return;let l;s?l=n.worldTransform:(n.updateLocalTransform(),l=Pe.get(),l.appendFrom(n.localTransform,r));const u=t,c=!!n.effects.length;if(c&&(t=Ts.get().clear()),n.boundsArea)t.addRect(n.boundsArea,l);else{n.bounds&&(t.matrix=l,t.addBounds(n.bounds));for(let h=0;h<n.children.length;h++)ov(n.children[h],t,l,s)}if(c){for(let h=0;h<n.effects.length;h++)n.effects[h].addBounds?.(t);u.addBounds(t,Bt.IDENTITY),Ts.return(t)}s||Pe.return(l)}function jd(n,t){const r=n.parent;return r&&(jd(r,t),r.updateLocalTransform(),t.append(r.localTransform)),t}function uv(n,t){if(n===16777215||!t)return t;if(t===16777215||!n)return n;const r=n>>16&255,s=n>>8&255,l=n&255,u=t>>16&255,c=t>>8&255,h=t&255,d=r*u/255|0,m=s*c/255|0,g=l*h/255|0;return(d<<16)+(m<<8)+g}const zx=16777215;function Ox(n,t){return n===zx?t:t===zx?n:uv(n,t)}function tu(n){return((n&255)<<16)+(n&65280)+(n>>16&255)}const XA={getGlobalAlpha(n){if(n)return this.renderGroup?this.renderGroup.worldAlpha:this.parentRenderGroup?this.parentRenderGroup.worldAlpha*this.alpha:this.alpha;let t=this.alpha,r=this.parent;for(;r;)t*=r.alpha,r=r.parent;return t},getGlobalTransform(n,t){if(t)return n.copyFrom(this.worldTransform);this.updateLocalTransform();const r=jd(this,Pe.get().identity());return n.appendFrom(this.localTransform,r),Pe.return(r),n},getGlobalTint(n){if(n)return this.renderGroup?tu(this.renderGroup.worldColor):this.parentRenderGroup?tu(Ox(this.localColor,this.parentRenderGroup.worldColor)):this.tint;let t=this.localColor,r=this.parent;for(;r;)t=Ox(t,r.localColor),r=r.parent;return tu(t)}};let Xh=0;const Bx=500;function ae(...n){Xh!==Bx&&(Xh++,Xh===Bx?console.warn("PixiJS Warning: too many warnings, no more warnings will be reported to the console by PixiJS."):console.warn("PixiJS Warning: ",...n))}function cv(n,t,r){return t.clear(),r||(r=Bt.IDENTITY),hv(n,t,r,n,!0),t.isValid||t.set(0,0,0,0),t}function hv(n,t,r,s,l){let u;if(l)u=Pe.get(),u=r.copyTo(u);else{if(!n.visible||!n.measurable)return;n.updateLocalTransform();const d=n.localTransform;u=Pe.get(),u.appendFrom(d,r)}const c=t,h=!!n.effects.length;if(h&&(t=Ts.get().clear()),n.boundsArea)t.addRect(n.boundsArea,u);else{n.renderPipeId&&(t.matrix=u,t.addBounds(n.bounds));const d=n.children;for(let m=0;m<d.length;m++)hv(d[m],t,u,s,!1)}if(h){for(let d=0;d<n.effects.length;d++)n.effects[d].addLocalBounds?.(t,s);c.addBounds(t,Bt.IDENTITY),Ts.return(t)}Pe.return(u)}function fv(n,t){const r=n.children;for(let s=0;s<r.length;s++){const l=r[s],u=l.uid,c=(l._didViewChangeTick&65535)<<16|l._didContainerChangeTick&65535,h=t.index;(t.data[h]!==u||t.data[h+1]!==c)&&(t.data[t.index]=u,t.data[t.index+1]=c,t.didChange=!0),t.index=h+2,l.children.length&&fv(l,t)}return t.didChange}const WA=new Bt,$A={_localBoundsCacheId:-1,_localBoundsCacheData:null,_setWidth(n,t){const r=Math.sign(this.scale.x)||1;t!==0?this.scale.x=n/t*r:this.scale.x=r},_setHeight(n,t){const r=Math.sign(this.scale.y)||1;t!==0?this.scale.y=n/t*r:this.scale.y=r},getLocalBounds(){this._localBoundsCacheData||(this._localBoundsCacheData={data:[],index:1,didChange:!1,localBounds:new Fn});const n=this._localBoundsCacheData;return n.index=1,n.didChange=!1,n.data[0]!==this._didViewChangeTick&&(n.didChange=!0,n.data[0]=this._didViewChangeTick),fv(this,n),n.didChange&&cv(this,n.localBounds,WA),n.localBounds},getBounds(n,t){return lv(this,n,t||new Fn)}},KA={_onRender:null,set onRender(n){const t=this.renderGroup||this.parentRenderGroup;if(!n){this._onRender&&t?.removeOnRender(this),this._onRender=null;return}this._onRender||t?.addOnRender(this),this._onRender=n},get onRender(){return this._onRender}},QA={_zIndex:0,sortDirty:!1,sortableChildren:!1,get zIndex(){return this._zIndex},set zIndex(n){this._zIndex!==n&&(this._zIndex=n,this.depthOfChildModified())},depthOfChildModified(){this.parent&&(this.parent.sortableChildren=!0,this.parent.sortDirty=!0),this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0)},sortChildren(){this.sortDirty&&(this.sortDirty=!1,this.children.sort(ZA))}};function ZA(n,t){return n._zIndex-t._zIndex}const JA={getGlobalPosition(n=new Be,t=!1){return this.parent?this.parent.toGlobal(this._position,n,t):(n.x=this._position.x,n.y=this._position.y),n},toGlobal(n,t,r=!1){const s=this.getGlobalTransform(Pe.get(),r);return t=s.apply(n,t),Pe.return(s),t},toLocal(n,t,r,s){t&&(n=t.toGlobal(n,r,s));const l=this.getGlobalTransform(Pe.get(),s);return r=l.applyInverse(n,r),Pe.return(l),r}};class dv{constructor(){this.uid=de("instructionSet"),this.instructions=[],this.instructionSize=0,this.renderables=[],this.gcTick=0}reset(){this.instructionSize=0}add(t){this.instructions[this.instructionSize++]=t}log(){this.instructions.length=this.instructionSize,console.table(this.instructions,["type","action"])}}let t2=0;class e2{constructor(t){this._poolKeyHash=Object.create(null),this._texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1}createTexture(t,r,s){const l=new Vn({...this.textureOptions,width:t,height:r,resolution:1,antialias:s,autoGarbageCollect:!0});return new Rt({source:l,label:`texturePool_${t2++}`})}getOptimalTexture(t,r,s=1,l){let u=Math.ceil(t*s-1e-6),c=Math.ceil(r*s-1e-6);u=su(u),c=su(c);const h=(u<<17)+(c<<1)+(l?1:0);this._texturePool[h]||(this._texturePool[h]=[]);let d=this._texturePool[h].pop();return d||(d=this.createTexture(u,c,l)),d.source._resolution=s,d.source.width=u/s,d.source.height=c/s,d.source.pixelWidth=u,d.source.pixelHeight=c,d.frame.x=0,d.frame.y=0,d.frame.width=t,d.frame.height=r,d.updateUvs(),this._poolKeyHash[d.uid]=h,d}getSameSizeTexture(t,r=!1){const s=t.source;return this.getOptimalTexture(t.width,t.height,s._resolution,r)}returnTexture(t){const r=this._poolKeyHash[t.uid];this._texturePool[r].push(t)}clear(t){if(t=t!==!1,t)for(const r in this._texturePool){const s=this._texturePool[r];if(s)for(let l=0;l<s.length;l++)s[l].destroy(!0)}this._texturePool={}}}const n2=new e2;class r2{constructor(){this.renderPipeId="renderGroup",this.root=null,this.canBundle=!1,this.renderGroupParent=null,this.renderGroupChildren=[],this.worldTransform=new Bt,this.worldColorAlpha=4294967295,this.worldColor=16777215,this.worldAlpha=1,this.childrenToUpdate=Object.create(null),this.updateTick=0,this.gcTick=0,this.childrenRenderablesToUpdate={list:[],index:0},this.structureDidChange=!0,this.instructionSet=new dv,this._onRenderContainers=[],this.textureNeedsUpdate=!0,this.isCachedAsTexture=!1,this._matrixDirty=7}init(t){this.root=t,t._onRender&&this.addOnRender(t),t.didChange=!0;const r=t.children;for(let s=0;s<r.length;s++){const l=r[s];l._updateFlags=15,this.addChild(l)}}enableCacheAsTexture(t={}){this.textureOptions=t,this.isCachedAsTexture=!0,this.textureNeedsUpdate=!0}disableCacheAsTexture(){this.isCachedAsTexture=!1,this.texture&&(n2.returnTexture(this.texture),this.texture=null)}updateCacheTexture(){this.textureNeedsUpdate=!0}reset(){this.renderGroupChildren.length=0;for(const t in this.childrenToUpdate){const r=this.childrenToUpdate[t];r.list.fill(null),r.index=0}this.childrenRenderablesToUpdate.index=0,this.childrenRenderablesToUpdate.list.fill(null),this.root=null,this.updateTick=0,this.structureDidChange=!0,this._onRenderContainers.length=0,this.renderGroupParent=null,this.disableCacheAsTexture()}get localTransform(){return this.root.localTransform}addRenderGroupChild(t){t.renderGroupParent&&t.renderGroupParent._removeRenderGroupChild(t),t.renderGroupParent=this,this.renderGroupChildren.push(t)}_removeRenderGroupChild(t){const r=this.renderGroupChildren.indexOf(t);r>-1&&this.renderGroupChildren.splice(r,1),t.renderGroupParent=null}addChild(t){if(this.structureDidChange=!0,t.parentRenderGroup=this,t.updateTick=-1,t.parent===this.root?t.relativeRenderGroupDepth=1:t.relativeRenderGroupDepth=t.parent.relativeRenderGroupDepth+1,t.didChange=!0,this.onChildUpdate(t),t.renderGroup){this.addRenderGroupChild(t.renderGroup);return}t._onRender&&this.addOnRender(t);const r=t.children;for(let s=0;s<r.length;s++)this.addChild(r[s])}removeChild(t){if(this.structureDidChange=!0,t._onRender&&(t.renderGroup||this.removeOnRender(t)),t.parentRenderGroup=null,t.renderGroup){this._removeRenderGroupChild(t.renderGroup);return}const r=t.children;for(let s=0;s<r.length;s++)this.removeChild(r[s])}removeChildren(t){for(let r=0;r<t.length;r++)this.removeChild(t[r])}onChildUpdate(t){let r=this.childrenToUpdate[t.relativeRenderGroupDepth];r||(r=this.childrenToUpdate[t.relativeRenderGroupDepth]={index:0,list:[]}),r.list[r.index++]=t}updateRenderable(t){t.globalDisplayStatus<7||(this.instructionSet.renderPipes[t.renderPipeId].updateRenderable(t),t.didViewUpdate=!1)}onChildViewUpdate(t){this.childrenRenderablesToUpdate.list[this.childrenRenderablesToUpdate.index++]=t}get isRenderable(){return this.root.localDisplayStatus===7&&this.worldAlpha>0}addOnRender(t){this._onRenderContainers.push(t)}removeOnRender(t){this._onRenderContainers.splice(this._onRenderContainers.indexOf(t),1)}runOnRender(){for(let t=0;t<this._onRenderContainers.length;t++)this._onRenderContainers[t]._onRender()}destroy(){this.disableCacheAsTexture(),this.renderGroupParent=null,this.root=null,this.childrenRenderablesToUpdate=null,this.childrenToUpdate=null,this.renderGroupChildren=null,this._onRenderContainers=null,this.instructionSet=null}getChildren(t=[]){const r=this.root.children;for(let s=0;s<r.length;s++)this._getChildren(r[s],t);return t}_getChildren(t,r=[]){if(r.push(t),t.renderGroup)return r;const s=t.children;for(let l=0;l<s.length;l++)this._getChildren(s[l],r);return r}invalidateMatrices(){this._matrixDirty=7}get inverseWorldTransform(){return this._matrixDirty&1?(this._matrixDirty&=-2,this._inverseWorldTransform||(this._inverseWorldTransform=new Bt),this._inverseWorldTransform.copyFrom(this.worldTransform).invert()):this._inverseWorldTransform}get textureOffsetInverseTransform(){return this._matrixDirty&2?(this._matrixDirty&=-3,this._textureOffsetInverseTransform||(this._textureOffsetInverseTransform=new Bt),this._textureOffsetInverseTransform.copyFrom(this.inverseWorldTransform).translate(-this._textureBounds.x,-this._textureBounds.y)):this._textureOffsetInverseTransform}get inverseParentTextureTransform(){if(!(this._matrixDirty&4))return this._inverseParentTextureTransform;this._matrixDirty&=-5;const t=this._parentCacheAsTextureRenderGroup;return t?(this._inverseParentTextureTransform||(this._inverseParentTextureTransform=new Bt),this._inverseParentTextureTransform.copyFrom(this.worldTransform).prepend(t.inverseWorldTransform).translate(-t._textureBounds.x,-t._textureBounds.y)):this.worldTransform}get cacheToLocalTransform(){return this._parentCacheAsTextureRenderGroup?this._parentCacheAsTextureRenderGroup.textureOffsetInverseTransform:null}}function i2(n,t,r={}){for(const s in t)!r[s]&&t[s]!==void 0&&(n[s]=t[s])}const Wh=new Je(null),$h=new Je(null),Kh=new Je(null,1,1),jx=1,s2=2,Qh=4;class qe extends Yn{constructor(t={}){super(),this.uid=de("renderable"),this._updateFlags=15,this.renderGroup=null,this.parentRenderGroup=null,this.parentRenderGroupIndex=0,this.didChange=!1,this.didViewUpdate=!1,this.relativeRenderGroupDepth=0,this.children=[],this.parent=null,this.includeInBuild=!0,this.measurable=!0,this.isSimple=!0,this.updateTick=-1,this.localTransform=new Bt,this.relativeGroupTransform=new Bt,this.groupTransform=this.relativeGroupTransform,this.destroyed=!1,this._position=new Je(this,0,0),this._scale=Kh,this._pivot=$h,this._skew=Wh,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._rotation=0,this.localColor=16777215,this.localAlpha=1,this.groupAlpha=1,this.groupColor=16777215,this.groupColorAlpha=4294967295,this.localBlendMode="inherit",this.groupBlendMode="normal",this.localDisplayStatus=7,this.globalDisplayStatus=7,this._didContainerChangeTick=0,this._didViewChangeTick=0,this._didLocalTransformChangeId=-1,this.effects=[],i2(this,t,{children:!0,parent:!0,effects:!0}),t.children?.forEach(r=>this.addChild(r)),t.parent?.addChild(this)}static mixin(t){Object.defineProperties(qe.prototype,Object.getOwnPropertyDescriptors(t))}set _didChangeId(t){this._didViewChangeTick=t>>12&4095,this._didContainerChangeTick=t&4095}get _didChangeId(){return this._didContainerChangeTick&4095|(this._didViewChangeTick&4095)<<12}addChild(...t){if(this.allowChildren||he(Oe,"addChild: Only Containers will be allowed to add children in v8.0.0"),t.length>1){for(let l=0;l<t.length;l++)this.addChild(t[l]);return t[0]}const r=t[0],s=this.renderGroup||this.parentRenderGroup;return r.parent===this?(this.children.splice(this.children.indexOf(r),1),this.children.push(r),s&&(s.structureDidChange=!0),r):(r.parent&&r.parent.removeChild(r),this.children.push(r),this.sortableChildren&&(this.sortDirty=!0),r.parent=this,r.didChange=!0,r._updateFlags=15,s&&s.addChild(r),this.emit("childAdded",r,this,this.children.length-1),r.emit("added",this),this._didViewChangeTick++,r._zIndex!==0&&r.depthOfChildModified(),r)}removeChild(...t){if(t.length>1){for(let l=0;l<t.length;l++)this.removeChild(t[l]);return t[0]}const r=t[0],s=this.children.indexOf(r);return s>-1&&(this._didViewChangeTick++,this.children.splice(s,1),this.renderGroup?this.renderGroup.removeChild(r):this.parentRenderGroup&&this.parentRenderGroup.removeChild(r),r.parent=null,this.emit("childRemoved",r,this,s),r.emit("removed",this)),r}_onUpdate(t){t&&t===this._skew&&this._updateSkew(),this._didContainerChangeTick++,!this.didChange&&(this.didChange=!0,this.parentRenderGroup&&this.parentRenderGroup.onChildUpdate(this))}set isRenderGroup(t){!!this.renderGroup!==t&&(t?this.enableRenderGroup():this.disableRenderGroup())}get isRenderGroup(){return!!this.renderGroup}enableRenderGroup(){if(this.renderGroup)return;const t=this.parentRenderGroup;t?.removeChild(this),this.renderGroup=pr.get(r2,this),this.groupTransform=Bt.IDENTITY,t?.addChild(this),this._updateIsSimple()}disableRenderGroup(){if(!this.renderGroup)return;const t=this.parentRenderGroup;t?.removeChild(this),pr.return(this.renderGroup),this.renderGroup=null,this.groupTransform=this.relativeGroupTransform,t?.addChild(this),this._updateIsSimple()}_updateIsSimple(){this.isSimple=!this.renderGroup&&this.effects.length===0}get worldTransform(){return this._worldTransform||(this._worldTransform=new Bt),this.renderGroup?this._worldTransform.copyFrom(this.renderGroup.worldTransform):this.parentRenderGroup&&this._worldTransform.appendFrom(this.relativeGroupTransform,this.parentRenderGroup.worldTransform),this._worldTransform}get x(){return this._position.x}set x(t){this._position.x=t}get y(){return this._position.y}set y(t){this._position.y=t}get position(){return this._position}set position(t){this._position.copyFrom(t)}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this._onUpdate(this._skew))}get angle(){return this.rotation*bA}set angle(t){this.rotation=t*vA}get pivot(){return this._pivot===$h&&(this._pivot=new Je(this,0,0)),this._pivot}set pivot(t){this._pivot===$h&&(this._pivot=new Je(this,0,0)),typeof t=="number"?this._pivot.set(t):this._pivot.copyFrom(t)}get skew(){return this._skew===Wh&&(this._skew=new Je(this,0,0)),this._skew}set skew(t){this._skew===Wh&&(this._skew=new Je(this,0,0)),this._skew.copyFrom(t)}get scale(){return this._scale===Kh&&(this._scale=new Je(this,1,1)),this._scale}set scale(t){this._scale===Kh&&(this._scale=new Je(this,0,0)),typeof t=="number"?this._scale.set(t):this._scale.copyFrom(t)}get width(){return Math.abs(this.scale.x*this.getLocalBounds().width)}set width(t){const r=this.getLocalBounds().width;this._setWidth(t,r)}get height(){return Math.abs(this.scale.y*this.getLocalBounds().height)}set height(t){const r=this.getLocalBounds().height;this._setHeight(t,r)}getSize(t){t||(t={});const r=this.getLocalBounds();return t.width=Math.abs(this.scale.x*r.width),t.height=Math.abs(this.scale.y*r.height),t}setSize(t,r){const s=this.getLocalBounds();typeof t=="object"?(r=t.height??t.width,t=t.width):r??(r=t),t!==void 0&&this._setWidth(t,s.width),r!==void 0&&this._setHeight(r,s.height)}_updateSkew(){const t=this._rotation,r=this._skew;this._cx=Math.cos(t+r._y),this._sx=Math.sin(t+r._y),this._cy=-Math.sin(t-r._x),this._sy=Math.cos(t-r._x)}updateTransform(t){return this.position.set(typeof t.x=="number"?t.x:this.position.x,typeof t.y=="number"?t.y:this.position.y),this.scale.set(typeof t.scaleX=="number"?t.scaleX||1:this.scale.x,typeof t.scaleY=="number"?t.scaleY||1:this.scale.y),this.rotation=typeof t.rotation=="number"?t.rotation:this.rotation,this.skew.set(typeof t.skewX=="number"?t.skewX:this.skew.x,typeof t.skewY=="number"?t.skewY:this.skew.y),this.pivot.set(typeof t.pivotX=="number"?t.pivotX:this.pivot.x,typeof t.pivotY=="number"?t.pivotY:this.pivot.y),this}setFromMatrix(t){t.decompose(this)}updateLocalTransform(){const t=this._didContainerChangeTick;if(this._didLocalTransformChangeId===t)return;this._didLocalTransformChangeId=t;const r=this.localTransform,s=this._scale,l=this._pivot,u=this._position,c=s._x,h=s._y,d=l._x,m=l._y;r.a=this._cx*c,r.b=this._sx*c,r.c=this._cy*h,r.d=this._sy*h,r.tx=u._x-(d*r.a+m*r.c),r.ty=u._y-(d*r.b+m*r.d)}set alpha(t){t!==this.localAlpha&&(this.localAlpha=t,this._updateFlags|=jx,this._onUpdate())}get alpha(){return this.localAlpha}set tint(t){const s=Me.shared.setValue(t??16777215).toBgrNumber();s!==this.localColor&&(this.localColor=s,this._updateFlags|=jx,this._onUpdate())}get tint(){return tu(this.localColor)}set blendMode(t){this.localBlendMode!==t&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=s2,this.localBlendMode=t,this._onUpdate())}get blendMode(){return this.localBlendMode}get visible(){return!!(this.localDisplayStatus&2)}set visible(t){const r=t?2:0;(this.localDisplayStatus&2)!==r&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=Qh,this.localDisplayStatus^=2,this._onUpdate())}get culled(){return!(this.localDisplayStatus&4)}set culled(t){const r=t?0:4;(this.localDisplayStatus&4)!==r&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=Qh,this.localDisplayStatus^=4,this._onUpdate())}get renderable(){return!!(this.localDisplayStatus&1)}set renderable(t){const r=t?1:0;(this.localDisplayStatus&1)!==r&&(this._updateFlags|=Qh,this.localDisplayStatus^=1,this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._onUpdate())}get isRenderable(){return this.localDisplayStatus===7&&this.groupAlpha>0}destroy(t=!1){if(this.destroyed)return;this.destroyed=!0;let r;if(this.children.length&&(r=this.removeChildren(0,this.children.length)),this.removeFromParent(),this.parent=null,this._maskEffect=null,this._filterEffect=null,this.effects=null,this._position=null,this._scale=null,this._pivot=null,this._skew=null,this.emit("destroyed",this),this.removeAllListeners(),(typeof t=="boolean"?t:t?.children)&&r)for(let l=0;l<r.length;++l)r[l].destroy(t);this.renderGroup?.destroy(),this.renderGroup=null}}qe.mixin(qA);qe.mixin(JA);qe.mixin(KA);qe.mixin($A);qe.mixin(YA);qe.mixin(VA);qe.mixin(QA);qe.mixin(UA);qe.mixin(LA);qe.mixin(XA);class a2 extends qe{constructor(){super(...arguments),this.canBundle=!0,this.allowChildren=!1,this._roundPixels=0,this._lastUsed=-1,this._bounds=new Fn(0,1,0,0),this._boundsDirty=!0}get bounds(){return this._boundsDirty?(this.updateBounds(),this._boundsDirty=!1,this._bounds):this._bounds}get roundPixels(){return!!this._roundPixels}set roundPixels(t){this._roundPixels=t?1:0}containsPoint(t){const r=this.bounds,{x:s,y:l}=t;return s>=r.minX&&s<=r.maxX&&l>=r.minY&&l<=r.maxY}onViewUpdate(){if(this._didViewChangeTick++,this._boundsDirty=!0,this.didViewUpdate)return;this.didViewUpdate=!0;const t=this.renderGroup||this.parentRenderGroup;t&&t.onChildViewUpdate(this)}destroy(t){super.destroy(t),this._bounds=null}}class rl extends a2{constructor(t=Rt.EMPTY){t instanceof Rt&&(t={texture:t});const{texture:r=Rt.EMPTY,anchor:s,roundPixels:l,width:u,height:c,...h}=t;super({label:"Sprite",...h}),this.renderPipeId="sprite",this.batched=!0,this._visualBounds={minX:0,maxX:1,minY:0,maxY:0},this._anchor=new Je({_onUpdate:()=>{this.onViewUpdate()}}),s?this.anchor=s:r.defaultAnchor&&(this.anchor=r.defaultAnchor),this.texture=r,this.allowChildren=!1,this.roundPixels=l??!1,u!==void 0&&(this.width=u),c!==void 0&&(this.height=c)}static from(t,r=!1){return t instanceof Rt?new rl(t):new rl(Rt.from(t,r))}set texture(t){t||(t=Rt.EMPTY);const r=this._texture;r!==t&&(r&&r.dynamic&&r.off("update",this.onViewUpdate,this),t.dynamic&&t.on("update",this.onViewUpdate,this),this._texture=t,this._width&&this._setWidth(this._width,this._texture.orig.width),this._height&&this._setHeight(this._height,this._texture.orig.height),this.onViewUpdate())}get texture(){return this._texture}get visualBounds(){return kA(this._visualBounds,this._anchor,this._texture,0),this._visualBounds}get sourceBounds(){return he("8.6.1","Sprite.sourceBounds is deprecated, use visualBounds instead."),this.visualBounds}updateBounds(){const t=this._anchor,r=this._texture,s=this._bounds,{width:l,height:u}=r.orig;s.minX=-t._x*l,s.maxX=s.minX+l,s.minY=-t._y*u,s.maxY=s.minY+u}destroy(t=!1){if(super.destroy(t),typeof t=="boolean"?t:t?.texture){const s=typeof t=="boolean"?t:t?.textureSource;this._texture.destroy(s)}this._texture=null,this._visualBounds=null,this._bounds=null,this._anchor=null}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this._setWidth(t,this._texture.orig.width),this._width=t}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this._setHeight(t,this._texture.orig.height),this._height=t}getSize(t){return t||(t={}),t.width=Math.abs(this.scale.x)*this._texture.orig.width,t.height=Math.abs(this.scale.y)*this._texture.orig.height,t}setSize(t,r){typeof t=="object"?(r=t.height??t.width,t=t.width):r??(r=t),t!==void 0&&this._setWidth(t,this._texture.orig.width),r!==void 0&&this._setHeight(r,this._texture.orig.height)}}const l2=new Fn;function pv(n,t,r){const s=l2;n.measurable=!0,lv(n,r,s),t.addBoundsMask(s),n.measurable=!1}function mv(n,t,r){const s=Ts.get();n.measurable=!0;const l=Pe.get().identity(),u=gv(n,r,l);cv(n,s,u),n.measurable=!1,t.addBoundsMask(s),Pe.return(l),Ts.return(s)}function gv(n,t,r){return n?(n!==t&&(gv(n.parent,t,r),n.updateLocalTransform(),r.append(n.localTransform)),r):(ae("Mask bounds, renderable is not inside the root container"),r)}class yv{constructor(t){this.priority=0,this.inverse=!1,this.pipe="alphaMask",t?.mask&&this.init(t.mask)}init(t){this.mask=t,this.renderMaskToTexture=!(t instanceof rl),this.mask.renderable=this.renderMaskToTexture,this.mask.includeInBuild=!this.renderMaskToTexture,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask=null}addBounds(t,r){this.inverse||pv(this.mask,t,r)}addLocalBounds(t,r){mv(this.mask,t,r)}containsPoint(t,r){const s=this.mask;return r(s,t)}destroy(){this.reset()}static test(t){return t instanceof rl}}yv.extension=xt.MaskEffect;class xv{constructor(t){this.priority=0,this.pipe="colorMask",t?.mask&&this.init(t.mask)}init(t){this.mask=t}destroy(){}static test(t){return typeof t=="number"}}xv.extension=xt.MaskEffect;class bv{constructor(t){this.priority=0,this.pipe="stencilMask",t?.mask&&this.init(t.mask)}init(t){this.mask=t,this.mask.includeInBuild=!1,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask.includeInBuild=!0,this.mask=null}addBounds(t,r){pv(this.mask,t,r)}addLocalBounds(t,r){mv(this.mask,t,r)}containsPoint(t,r){const s=this.mask;return r(s,t)}destroy(){this.reset()}static test(t){return t instanceof qe}}bv.extension=xt.MaskEffect;const o2={createCanvas:(n,t)=>{const r=document.createElement("canvas");return r.width=n,r.height=t,r},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(n,t)=>fetch(n,t),parseXML:n=>new DOMParser().parseFromString(n,"text/xml")};let Dx=o2;const pe={get(){return Dx},set(n){Dx=n}};class vv extends Vn{constructor(t){t.resource||(t.resource=pe.get().createCanvas()),t.width||(t.width=t.resource.width,t.autoDensity||(t.width/=t.resolution)),t.height||(t.height=t.resource.height,t.autoDensity||(t.height/=t.resolution)),super(t),this.uploadMethodId="image",this.autoDensity=t.autoDensity,this.resizeCanvas(),this.transparent=!!t.transparent}resizeCanvas(){this.autoDensity&&(this.resource.style.width=`${this.width}px`,this.resource.style.height=`${this.height}px`),(this.resource.width!==this.pixelWidth||this.resource.height!==this.pixelHeight)&&(this.resource.width=this.pixelWidth,this.resource.height=this.pixelHeight)}resize(t=this.width,r=this.height,s=this._resolution){const l=super.resize(t,r,s);return l&&this.resizeCanvas(),l}static test(t){return globalThis.HTMLCanvasElement&&t instanceof HTMLCanvasElement||globalThis.OffscreenCanvas&&t instanceof OffscreenCanvas}get context2D(){return this._context2D||(this._context2D=this.resource.getContext("2d"))}}vv.extension=xt.TextureSource;class Cs extends Vn{constructor(t){if(t.resource&&globalThis.HTMLImageElement&&t.resource instanceof HTMLImageElement){const r=pe.get().createCanvas(t.resource.width,t.resource.height);r.getContext("2d").drawImage(t.resource,0,0,t.resource.width,t.resource.height),t.resource=r,ae("ImageSource: Image element passed, converting to canvas. Use CanvasSource instead.")}super(t),this.uploadMethodId="image",this.autoGarbageCollect=!0}static test(t){return globalThis.HTMLImageElement&&t instanceof HTMLImageElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap||globalThis.VideoFrame&&t instanceof VideoFrame}}Cs.extension=xt.TextureSource;var au=(n=>(n[n.INTERACTION=50]="INTERACTION",n[n.HIGH=25]="HIGH",n[n.NORMAL=0]="NORMAL",n[n.LOW=-25]="LOW",n[n.UTILITY=-50]="UTILITY",n))(au||{});class Zh{constructor(t,r=null,s=0,l=!1){this.next=null,this.previous=null,this._destroyed=!1,this._fn=t,this._context=r,this.priority=s,this._once=l}match(t,r=null){return this._fn===t&&this._context===r}emit(t){this._fn&&(this._context?this._fn.call(this._context,t):this._fn(t));const r=this.next;return this._once&&this.destroy(!0),this._destroyed&&(this.next=null),r}connect(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this}destroy(t=!1){this._destroyed=!0,this._fn=null,this._context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const r=this.next;return this.next=t?null:r,this.previous=null,r}}const _v=class Ze{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new Zh(null,null,1/0),this.deltaMS=1/Ze.targetFPMS,this.elapsedMS=1/Ze.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,r,s=au.NORMAL){return this._addListener(new Zh(t,r,s))}addOnce(t,r,s=au.NORMAL){return this._addListener(new Zh(t,r,s,!0))}_addListener(t){let r=this._head.next,s=this._head;if(!r)t.connect(s);else{for(;r;){if(t.priority>r.priority){t.connect(s);break}s=r,r=r.next}t.previous||t.connect(s)}return this._startIfPossible(),this}remove(t,r){let s=this._head.next;for(;s;)s.match(t,r)?s=s.destroy():s=s.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,r=this._head;for(;r=r.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let r;if(t>this.lastTime){if(r=this.elapsedMS=t-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){const u=t-this._lastFrame|0;if(u<this._minElapsedMS)return;this._lastFrame=t-u%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*Ze.targetFPMS;const s=this._head;let l=s.next;for(;l;)l=l.emit(this);s.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const r=Math.min(this.maxFPS,t),s=Math.min(Math.max(0,r)/1e3,Ze.targetFPMS);this._maxElapsedMS=1/s}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){if(t===0)this._minElapsedMS=0;else{const r=Math.max(this.minFPS,t);this._minElapsedMS=1/(r/1e3)}}static get shared(){if(!Ze._shared){const t=Ze._shared=new Ze;t.autoStart=!0,t._protected=!0}return Ze._shared}static get system(){if(!Ze._system){const t=Ze._system=new Ze;t.autoStart=!0,t._protected=!0}return Ze._system}};_v.targetFPMS=.06;let In=_v,Jh;async function wv(){return Jh??(Jh=(async()=>{const t=document.createElement("canvas").getContext("webgl");if(!t)return"premultiply-alpha-on-upload";const r=await new Promise(c=>{const h=document.createElement("video");h.onloadeddata=()=>c(h),h.onerror=()=>c(null),h.autoplay=!1,h.crossOrigin="anonymous",h.preload="auto",h.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",h.load()});if(!r)return"premultiply-alpha-on-upload";const s=t.createTexture();t.bindTexture(t.TEXTURE_2D,s);const l=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,l),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,s,0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,r);const u=new Uint8Array(4);return t.readPixels(0,0,1,1,t.RGBA,t.UNSIGNED_BYTE,u),t.deleteFramebuffer(l),t.deleteTexture(s),t.getExtension("WEBGL_lose_context")?.loseContext(),u[0]<=u[3]?"premultiplied-alpha":"premultiply-alpha-on-upload"})()),Jh}const pu=class Sv extends Vn{constructor(t){super(t),this.isReady=!1,this.uploadMethodId="video",t={...Sv.defaultOptions,...t},this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=t.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=t.autoPlay!==!1,this.alphaMode=t.alphaMode??"premultiply-alpha-on-upload",this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onCanPlayThrough=this._onCanPlayThrough.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),t.autoLoad!==!1&&this.load()}updateFrame(){if(!this.destroyed){if(this._updateFPS){const t=In.shared.elapsedMS*this.resource.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-t)}(!this._updateFPS||this._msToNextUpdate<=0)&&(this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0),this.isValid&&this.update()}}_videoFrameRequestCallback(){this.updateFrame(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback)}get isValid(){return!!this.resource.videoWidth&&!!this.resource.videoHeight}async load(){if(this._load)return this._load;const t=this.resource,r=this.options;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart),t.addEventListener("pause",this._onPlayStop),t.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._mediaReady():(r.preload||t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlayThrough),t.addEventListener("error",this._onError,!0)),this.alphaMode=await wv(),this._load=new Promise((s,l)=>{this.isValid?s(this):(this._resolve=s,this._reject=l,r.preloadTimeoutMs!==void 0&&(this._preloadTimeout=setTimeout(()=>{this._onError(new ErrorEvent(`Preload exceeded timeout of ${r.preloadTimeoutMs}ms`))})),t.load())}),this._load}_onError(t){this.resource.removeEventListener("error",this._onError,!0),this.emit("error",t),this._reject&&(this._reject(t),this._reject=null,this._resolve=null)}_isSourcePlaying(){const t=this.resource;return!t.paused&&!t.ended}_isSourceReady(){return this.resource.readyState>2}_onPlayStart(){this.isValid||this._mediaReady(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0)}_onCanPlay(){this.resource.removeEventListener("canplay",this._onCanPlay),this._mediaReady()}_onCanPlayThrough(){this.resource.removeEventListener("canplaythrough",this._onCanPlay),this._preloadTimeout&&(clearTimeout(this._preloadTimeout),this._preloadTimeout=void 0),this._mediaReady()}_mediaReady(){const t=this.resource;this.isValid&&(this.isReady=!0,this.resize(t.videoWidth,t.videoHeight)),this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0,this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.resource.play()}destroy(){this._configureAutoUpdate();const t=this.resource;t&&(t.removeEventListener("play",this._onPlayStart),t.removeEventListener("pause",this._onPlayStop),t.removeEventListener("seeked",this._onSeeked),t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlayThrough),t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.destroy()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.resource.requestVideoFrameCallback?(this._isConnectedToTicker&&(In.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(In.shared.add(this.updateFrame,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(In.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(t){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement}};pu.extension=xt.TextureSource;pu.defaultOptions={...Vn.defaultOptions,autoLoad:!0,autoPlay:!0,updateFPS:0,crossorigin:!0,loop:!1,muted:!0,playsinline:!0,preload:!1};pu.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let eu=pu;const Mn=(n,t,r=!1)=>(Array.isArray(n)||(n=[n]),t?n.map(s=>typeof s=="string"||r?t(s):s):n);class u2{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(t){return this._cache.has(t)}get(t){const r=this._cache.get(t);return r||ae(`[Assets] Asset id ${t} was not found in the Cache`),r}set(t,r){const s=Mn(t);let l;for(let d=0;d<this.parsers.length;d++){const m=this.parsers[d];if(m.test(r)){l=m.getCacheableAssets(s,r);break}}const u=new Map(Object.entries(l||{}));l||s.forEach(d=>{u.set(d,r)});const c=[...u.keys()],h={cacheKeys:c,keys:s};s.forEach(d=>{this._cacheMap.set(d,h)}),c.forEach(d=>{const m=l?l[d]:r;this._cache.has(d)&&this._cache.get(d)!==m&&ae("[Cache] already has key:",d),this._cache.set(d,u.get(d))})}remove(t){if(!this._cacheMap.has(t)){ae(`[Assets] Asset id ${t} was not found in the Cache`);return}const r=this._cacheMap.get(t);r.cacheKeys.forEach(l=>{this._cache.delete(l)}),r.keys.forEach(l=>{this._cacheMap.delete(l)})}get parsers(){return this._parsers}}const Jt=new u2,id=[];xn.handleByList(xt.TextureSource,id);function Av(n={}){const t=n&&n.resource,r=t?n.resource:n,s=t?n:{resource:n};for(let l=0;l<id.length;l++){const u=id[l];if(u.test(r))return new u(s)}throw new Error(`Could not find a source type for resource: ${s.resource}`)}function c2(n={},t=!1){const r=n&&n.resource,s=r?n.resource:n,l=r?n:{resource:n};if(!t&&Jt.has(s))return Jt.get(s);const u=new Rt({source:Av(l)});return u.on("destroy",()=>{Jt.has(s)&&Jt.remove(s)}),t||Jt.set(s,u),u}function h2(n,t=!1){return typeof n=="string"?Jt.get(n):n instanceof Vn?new Rt({source:n}):c2(n,t)}Rt.from=h2;Vn.from=Av;xn.add(yv,xv,bv,eu,Cs,vv,Od);var Wr=(n=>(n[n.Low=0]="Low",n[n.Normal=1]="Normal",n[n.High=2]="High",n))(Wr||{});function Tn(n){if(typeof n!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(n)}`)}function Ba(n){return n.split("?")[0].split("#")[0]}function f2(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function d2(n,t,r){return n.replace(new RegExp(f2(t),"g"),r)}function p2(n,t){let r="",s=0,l=-1,u=0,c=-1;for(let h=0;h<=n.length;++h){if(h<n.length)c=n.charCodeAt(h);else{if(c===47)break;c=47}if(c===47){if(!(l===h-1||u===1))if(l!==h-1&&u===2){if(r.length<2||s!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){const d=r.lastIndexOf("/");if(d!==r.length-1){d===-1?(r="",s=0):(r=r.slice(0,d),s=r.length-1-r.lastIndexOf("/")),l=h,u=0;continue}}else if(r.length===2||r.length===1){r="",s=0,l=h,u=0;continue}}}else r.length>0?r+=`/${n.slice(l+1,h)}`:r=n.slice(l+1,h),s=h-l-1;l=h,u=0}else c===46&&u!==-1?++u:u=-1}return r}const tn={toPosix(n){return d2(n,"\\","/")},isUrl(n){return/^https?:/.test(this.toPosix(n))},isDataUrl(n){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(n)},isBlobUrl(n){return n.startsWith("blob:")},hasProtocol(n){return/^[^/:]+:/.test(this.toPosix(n))},getProtocol(n){Tn(n),n=this.toPosix(n);const t=/^file:\/\/\//.exec(n);if(t)return t[0];const r=/^[^/:]+:\/{0,2}/.exec(n);return r?r[0]:""},toAbsolute(n,t,r){if(Tn(n),this.isDataUrl(n)||this.isBlobUrl(n))return n;const s=Ba(this.toPosix(t??pe.get().getBaseUrl())),l=Ba(this.toPosix(r??this.rootname(s)));return n=this.toPosix(n),n.startsWith("/")?tn.join(l,n.slice(1)):this.isAbsolute(n)?n:this.join(s,n)},normalize(n){if(Tn(n),n.length===0)return".";if(this.isDataUrl(n)||this.isBlobUrl(n))return n;n=this.toPosix(n);let t="";const r=n.startsWith("/");this.hasProtocol(n)&&(t=this.rootname(n),n=n.slice(t.length));const s=n.endsWith("/");return n=p2(n),n.length>0&&s&&(n+="/"),r?`/${n}`:t+n},isAbsolute(n){return Tn(n),n=this.toPosix(n),this.hasProtocol(n)?!0:n.startsWith("/")},join(...n){if(n.length===0)return".";let t;for(let r=0;r<n.length;++r){const s=n[r];if(Tn(s),s.length>0)if(t===void 0)t=s;else{const l=n[r-1]??"";this.joinExtensions.includes(this.extname(l).toLowerCase())?t+=`/../${s}`:t+=`/${s}`}}return t===void 0?".":this.normalize(t)},dirname(n){if(Tn(n),n.length===0)return".";n=this.toPosix(n);let t=n.charCodeAt(0);const r=t===47;let s=-1,l=!0;const u=this.getProtocol(n),c=n;n=n.slice(u.length);for(let h=n.length-1;h>=1;--h)if(t=n.charCodeAt(h),t===47){if(!l){s=h;break}}else l=!1;return s===-1?r?"/":this.isUrl(c)?u+n:u:r&&s===1?"//":u+n.slice(0,s)},rootname(n){Tn(n),n=this.toPosix(n);let t="";if(n.startsWith("/")?t="/":t=this.getProtocol(n),this.isUrl(n)){const r=n.indexOf("/",t.length);r!==-1?t=n.slice(0,r):t=n,t.endsWith("/")||(t+="/")}return t},basename(n,t){Tn(n),t&&Tn(t),n=Ba(this.toPosix(n));let r=0,s=-1,l=!0,u;if(t!==void 0&&t.length>0&&t.length<=n.length){if(t.length===n.length&&t===n)return"";let c=t.length-1,h=-1;for(u=n.length-1;u>=0;--u){const d=n.charCodeAt(u);if(d===47){if(!l){r=u+1;break}}else h===-1&&(l=!1,h=u+1),c>=0&&(d===t.charCodeAt(c)?--c===-1&&(s=u):(c=-1,s=h))}return r===s?s=h:s===-1&&(s=n.length),n.slice(r,s)}for(u=n.length-1;u>=0;--u)if(n.charCodeAt(u)===47){if(!l){r=u+1;break}}else s===-1&&(l=!1,s=u+1);return s===-1?"":n.slice(r,s)},extname(n){Tn(n),n=Ba(this.toPosix(n));let t=-1,r=0,s=-1,l=!0,u=0;for(let c=n.length-1;c>=0;--c){const h=n.charCodeAt(c);if(h===47){if(!l){r=c+1;break}continue}s===-1&&(l=!1,s=c+1),h===46?t===-1?t=c:u!==1&&(u=1):t!==-1&&(u=-1)}return t===-1||s===-1||u===0||u===1&&t===s-1&&t===r+1?"":n.slice(t,s)},parse(n){Tn(n);const t={root:"",dir:"",base:"",ext:"",name:""};if(n.length===0)return t;n=Ba(this.toPosix(n));let r=n.charCodeAt(0);const s=this.isAbsolute(n);let l;t.root=this.rootname(n),s||this.hasProtocol(n)?l=1:l=0;let u=-1,c=0,h=-1,d=!0,m=n.length-1,g=0;for(;m>=l;--m){if(r=n.charCodeAt(m),r===47){if(!d){c=m+1;break}continue}h===-1&&(d=!1,h=m+1),r===46?u===-1?u=m:g!==1&&(g=1):u!==-1&&(g=-1)}return u===-1||h===-1||g===0||g===1&&u===h-1&&u===c+1?h!==-1&&(c===0&&s?t.base=t.name=n.slice(1,h):t.base=t.name=n.slice(c,h)):(c===0&&s?(t.name=n.slice(1,u),t.base=n.slice(1,h)):(t.name=n.slice(c,u),t.base=n.slice(c,h)),t.ext=n.slice(u,h)),t.dir=this.dirname(n),t},sep:"/",delimiter:":",joinExtensions:[".html"]};function Tv(n,t,r,s,l){const u=t[r];for(let c=0;c<u.length;c++){const h=u[c];r<t.length-1?Tv(n.replace(s[r],h),t,r+1,s,l):l.push(n.replace(s[r],h))}}function m2(n){const t=/\{(.*?)\}/g,r=n.match(t),s=[];if(r){const l=[];r.forEach(u=>{const c=u.substring(1,u.length-1).split(",");l.push(c)}),Tv(n,l,0,r,s)}else s.push(n);return s}const lu=n=>!Array.isArray(n);class ks{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(t,r)=>`${t}${this._bundleIdConnector}${r}`,extractAssetIdFromBundle:(t,r)=>r.replace(`${t}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(t){if(this._bundleIdConnector=t.connector??this._bundleIdConnector,this._createBundleAssetId=t.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=t.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...t){t.forEach(r=>{this._preferredOrder.push(r),r.priority||(r.priority=Object.keys(r.params))}),this._resolverHash={}}set basePath(t){this._basePath=t}get basePath(){return this._basePath}set rootPath(t){this._rootPath=t}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(t){if(typeof t=="string")this._defaultSearchParams=t;else{const r=t;this._defaultSearchParams=Object.keys(r).map(s=>`${encodeURIComponent(s)}=${encodeURIComponent(r[s])}`).join("&")}}getAlias(t){const{alias:r,src:s}=t;return Mn(r||s,u=>typeof u=="string"?u:Array.isArray(u)?u.map(c=>c?.src??c):u?.src?u.src:u,!0)}addManifest(t){this._manifest&&ae("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=t,t.bundles.forEach(r=>{this.addBundle(r.name,r.assets)})}addBundle(t,r){const s=[];let l=r;Array.isArray(r)||(l=Object.entries(r).map(([u,c])=>typeof c=="string"||Array.isArray(c)?{alias:u,src:c}:{alias:u,...c})),l.forEach(u=>{const c=u.src,h=u.alias;let d;if(typeof h=="string"){const m=this._createBundleAssetId(t,h);s.push(m),d=[h,m]}else{const m=h.map(g=>this._createBundleAssetId(t,g));s.push(...m),d=[...h,...m]}this.add({...u,alias:d,src:c})}),this._bundles[t]=s}add(t){const r=[];Array.isArray(t)?r.push(...t):r.push(t);let s;s=u=>{this.hasKey(u)&&ae(`[Resolver] already has key: ${u} overwriting`)},Mn(r).forEach(u=>{const{src:c}=u;let{data:h,format:d,loadParser:m}=u;const g=Mn(c).map(b=>typeof b=="string"?m2(b):Array.isArray(b)?b:[b]),y=this.getAlias(u);Array.isArray(y)?y.forEach(s):s(y);const v=[];g.forEach(b=>{b.forEach(T=>{let E={};if(typeof T!="object"){E.src=T;for(let w=0;w<this._parsers.length;w++){const R=this._parsers[w];if(R.test(T)){E=R.parse(T);break}}}else h=T.data??h,d=T.format??d,m=T.loadParser??m,E={...E,...T};if(!y)throw new Error(`[Resolver] alias is undefined for this asset: ${E.src}`);E=this._buildResolvedAsset(E,{aliases:y,data:h,format:d,loadParser:m}),v.push(E)})}),y.forEach(b=>{this._assetMap[b]=v})})}resolveBundle(t){const r=lu(t);t=Mn(t);const s={};return t.forEach(l=>{const u=this._bundles[l];if(u){const c=this.resolve(u),h={};for(const d in c){const m=c[d];h[this._extractAssetIdFromBundle(l,d)]=m}s[l]=h}}),r?s[t[0]]:s}resolveUrl(t){const r=this.resolve(t);if(typeof t!="string"){const s={};for(const l in r)s[l]=r[l].src;return s}return r.src}resolve(t){const r=lu(t);t=Mn(t);const s={};return t.forEach(l=>{if(!this._resolverHash[l])if(this._assetMap[l]){let u=this._assetMap[l];const c=this._getPreferredOrder(u);c?.priority.forEach(h=>{c.params[h].forEach(d=>{const m=u.filter(g=>g[h]?g[h]===d:!1);m.length&&(u=m)})}),this._resolverHash[l]=u[0]}else this._resolverHash[l]=this._buildResolvedAsset({alias:[l],src:l},{});s[l]=this._resolverHash[l]}),r?s[t[0]]:s}hasKey(t){return!!this._assetMap[t]}hasBundle(t){return!!this._bundles[t]}_getPreferredOrder(t){for(let r=0;r<t.length;r++){const s=t[0],l=this._preferredOrder.find(u=>u.params.format.includes(s.format));if(l)return l}return this._preferredOrder[0]}_appendDefaultSearchParams(t){if(!this._defaultSearchParams)return t;const r=/\?/.test(t)?"&":"?";return`${t}${r}${this._defaultSearchParams}`}_buildResolvedAsset(t,r){const{aliases:s,data:l,loadParser:u,format:c}=r;return(this._basePath||this._rootPath)&&(t.src=tn.toAbsolute(t.src,this._basePath,this._rootPath)),t.alias=s??t.alias??[t.src],t.src=this._appendDefaultSearchParams(t.src),t.data={...l||{},...t.data},t.loadParser=u??t.loadParser,t.format=c??t.format??g2(t.src),t}}ks.RETINA_PREFIX=/@([0-9\.]+)x/;function g2(n){return n.split(".").pop().split("?").shift().split("#").shift()}const sd=(n,t)=>{const r=t.split("?")[1];return r&&(n+=`?${r}`),n},Ev=class Wa{constructor(t,r){this.linkedSheets=[],this._texture=t instanceof Rt?t:null,this.textureSource=t.source,this.textures={},this.animations={},this.data=r;const s=parseFloat(r.meta.scale);s?(this.resolution=s,t.source.resolution=this.resolution):this.resolution=t.source._resolution,this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}parse(){return new Promise(t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=Wa.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(t){let r=t;const s=Wa.BATCH_SIZE;for(;r-t<s&&r<this._frameKeys.length;){const l=this._frameKeys[r],u=this._frames[l],c=u.frame;if(c){let h=null,d=null;const m=u.trimmed!==!1&&u.sourceSize?u.sourceSize:u.frame,g=new fe(0,0,Math.floor(m.w)/this.resolution,Math.floor(m.h)/this.resolution);u.rotated?h=new fe(Math.floor(c.x)/this.resolution,Math.floor(c.y)/this.resolution,Math.floor(c.h)/this.resolution,Math.floor(c.w)/this.resolution):h=new fe(Math.floor(c.x)/this.resolution,Math.floor(c.y)/this.resolution,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution),u.trimmed!==!1&&u.spriteSourceSize&&(d=new fe(Math.floor(u.spriteSourceSize.x)/this.resolution,Math.floor(u.spriteSourceSize.y)/this.resolution,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution)),this.textures[l]=new Rt({source:this.textureSource,frame:h,orig:g,trim:d,rotate:u.rotated?2:0,defaultAnchor:u.anchor,defaultBorders:u.borders,label:l.toString()})}r++}}_processAnimations(){const t=this.data.animations||{};for(const r in t){this.animations[r]=[];for(let s=0;s<t[r].length;s++){const l=t[r][s];this.animations[r].push(this.textures[l])}}}_parseComplete(){const t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Wa.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*Wa.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(t=!1){for(const r in this.textures)this.textures[r].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&(this._texture?.destroy(),this.textureSource.destroy()),this._texture=null,this.textureSource=null,this.linkedSheets=[]}};Ev.BATCH_SIZE=1e3;let ad=Ev;const y2=["jpg","png","jpeg","avif","webp","basis","etc2","bc7","bc6h","bc5","bc4","bc3","bc2","bc1","eac","astc"];function Mv(n,t,r){const s={};if(n.forEach(l=>{s[l]=t}),Object.keys(t.textures).forEach(l=>{s[l]=t.textures[l]}),!r){const l=tn.dirname(n[0]);t.linkedSheets.forEach((u,c)=>{const h=Mv([`${l}/${t.data.meta.related_multi_packs[c]}`],u,!0);Object.assign(s,h)})}return s}const x2={extension:xt.Asset,cache:{test:n=>n instanceof ad,getCacheableAssets:(n,t)=>Mv(n,t,!1)},resolver:{extension:{type:xt.ResolveParser,name:"resolveSpritesheet"},test:n=>{const r=n.split("?")[0].split("."),s=r.pop(),l=r.pop();return s==="json"&&y2.includes(l)},parse:n=>{const t=n.split(".");return{resolution:parseFloat(ks.RETINA_PREFIX.exec(n)?.[1]??"1"),format:t[t.length-2],src:n}}},loader:{name:"spritesheetLoader",extension:{type:xt.LoadParser,priority:Wr.Normal,name:"spritesheetLoader"},async testParse(n,t){return tn.extname(t.src).toLowerCase()===".json"&&!!n.frames},async parse(n,t,r){const{texture:s,imageFilename:l}=t?.data??{};let u=tn.dirname(t.src);u&&u.lastIndexOf("/")!==u.length-1&&(u+="/");let c;if(s instanceof Rt)c=s;else{const m=sd(u+(l??n.meta.image),t.src);c=(await r.load([m]))[m]}const h=new ad(c.source,n);await h.parse();const d=n?.meta?.related_multi_packs;if(Array.isArray(d)){const m=[];for(const y of d){if(typeof y!="string")continue;let v=u+y;t.data?.ignoreMultiPack||(v=sd(v,t.src),m.push(r.load({src:v,data:{ignoreMultiPack:!0}})))}const g=await Promise.all(m);h.linkedSheets=g,g.forEach(y=>{y.linkedSheets=[h].concat(h.linkedSheets.filter(v=>v!==y))})}return h},async unload(n,t,r){await r.unload(n.textureSource._sourceOrigin),n.destroy(!1)}}};xn.add(x2);const tf=Object.create(null),Nx=Object.create(null);function Dd(n,t){let r=Nx[n];return r===void 0&&(tf[t]===void 0&&(tf[t]=1),Nx[n]=r=tf[t]++),r}let Ho;function Cv(){return(!Ho||Ho?.isContextLost())&&(Ho=pe.get().createCanvas().getContext("webgl",{})),Ho}let Po;function b2(){if(!Po){Po="mediump";const n=Cv();n&&n.getShaderPrecisionFormat&&(Po=n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision?"highp":"mediump")}return Po}function v2(n,t,r){return t?n:r?(n=n.replace("out vec4 finalColor;",""),`
        
        #ifdef GL_ES // This checks if it is WebGL1
        #define in varying
        #define finalColor gl_FragColor
        #define texture texture2D
        #endif
        ${n}
        `):`
        
        #ifdef GL_ES // This checks if it is WebGL1
        #define in attribute
        #define out varying
        #endif
        ${n}
        `}function _2(n,t,r){const s=r?t.maxSupportedFragmentPrecision:t.maxSupportedVertexPrecision;if(n.substring(0,9)!=="precision"){let l=r?t.requestedFragmentPrecision:t.requestedVertexPrecision;return l==="highp"&&s!=="highp"&&(l="mediump"),`precision ${l} float;
${n}`}else if(s!=="highp"&&n.substring(0,15)==="precision highp")return n.replace("precision highp","precision mediump");return n}function w2(n,t){return t?`#version 300 es
${n}`:n}const S2={},A2={};function T2(n,{name:t="pixi-program"},r=!0){t=t.replace(/\s+/g,"-"),t+=r?"-fragment":"-vertex";const s=r?S2:A2;return s[t]?(s[t]++,t+=`-${s[t]}`):s[t]=1,n.indexOf("#define SHADER_NAME")!==-1?n:`${`#define SHADER_NAME ${t}`}
${n}`}function E2(n,t){return t?n.replace("#version 300 es",""):n}const ef={stripVersion:E2,ensurePrecision:_2,addProgramDefines:v2,setProgramName:T2,insertVersion:w2},nf=Object.create(null),kv=class ld{constructor(t){t={...ld.defaultOptions,...t};const r=t.fragment.indexOf("#version 300 es")!==-1,s={stripVersion:r,ensurePrecision:{requestedFragmentPrecision:t.preferredFragmentPrecision,requestedVertexPrecision:t.preferredVertexPrecision,maxSupportedVertexPrecision:"highp",maxSupportedFragmentPrecision:b2()},setProgramName:{name:t.name},addProgramDefines:r,insertVersion:r};let l=t.fragment,u=t.vertex;Object.keys(ef).forEach(c=>{const h=s[c];l=ef[c](l,h,!0),u=ef[c](u,h,!1)}),this.fragment=l,this.vertex=u,this.transformFeedbackVaryings=t.transformFeedbackVaryings,this._key=Dd(`${this.vertex}:${this.fragment}`,"gl-program")}destroy(){this.fragment=null,this.vertex=null,this._attributeData=null,this._uniformData=null,this._uniformBlockData=null,this.transformFeedbackVaryings=null}static from(t){const r=`${t.vertex}:${t.fragment}`;return nf[r]||(nf[r]=new ld(t)),nf[r]}};kv.defaultOptions={preferredVertexPrecision:"highp",preferredFragmentPrecision:"mediump"};let Rv=kv;const Hx={uint8x2:{size:2,stride:2,normalised:!1},uint8x4:{size:4,stride:4,normalised:!1},sint8x2:{size:2,stride:2,normalised:!1},sint8x4:{size:4,stride:4,normalised:!1},unorm8x2:{size:2,stride:2,normalised:!0},unorm8x4:{size:4,stride:4,normalised:!0},snorm8x2:{size:2,stride:2,normalised:!0},snorm8x4:{size:4,stride:4,normalised:!0},uint16x2:{size:2,stride:4,normalised:!1},uint16x4:{size:4,stride:8,normalised:!1},sint16x2:{size:2,stride:4,normalised:!1},sint16x4:{size:4,stride:8,normalised:!1},unorm16x2:{size:2,stride:4,normalised:!0},unorm16x4:{size:4,stride:8,normalised:!0},snorm16x2:{size:2,stride:4,normalised:!0},snorm16x4:{size:4,stride:8,normalised:!0},float16x2:{size:2,stride:4,normalised:!1},float16x4:{size:4,stride:8,normalised:!1},float32:{size:1,stride:4,normalised:!1},float32x2:{size:2,stride:8,normalised:!1},float32x3:{size:3,stride:12,normalised:!1},float32x4:{size:4,stride:16,normalised:!1},uint32:{size:1,stride:4,normalised:!1},uint32x2:{size:2,stride:8,normalised:!1},uint32x3:{size:3,stride:12,normalised:!1},uint32x4:{size:4,stride:16,normalised:!1},sint32:{size:1,stride:4,normalised:!1},sint32x2:{size:2,stride:8,normalised:!1},sint32x3:{size:3,stride:12,normalised:!1},sint32x4:{size:4,stride:16,normalised:!1}};function M2(n){return Hx[n]??Hx.float32}const C2={f32:"float32","vec2<f32>":"float32x2","vec3<f32>":"float32x3","vec4<f32>":"float32x4",vec2f:"float32x2",vec3f:"float32x3",vec4f:"float32x4",i32:"sint32","vec2<i32>":"sint32x2","vec3<i32>":"sint32x3","vec4<i32>":"sint32x4",u32:"uint32","vec2<u32>":"uint32x2","vec3<u32>":"uint32x3","vec4<u32>":"uint32x4",bool:"uint32","vec2<bool>":"uint32x2","vec3<bool>":"uint32x3","vec4<bool>":"uint32x4"};function k2({source:n,entryPoint:t}){const r={},s=n.indexOf(`fn ${t}`);if(s!==-1){const l=n.indexOf("->",s);if(l!==-1){const u=n.substring(s,l),c=/@location\((\d+)\)\s+([a-zA-Z0-9_]+)\s*:\s*([a-zA-Z0-9_<>]+)(?:,|\s|$)/g;let h;for(;(h=c.exec(u))!==null;){const d=C2[h[3]]??"float32";r[h[2]]={location:parseInt(h[1],10),format:d,stride:M2(d).stride,offset:0,instance:!1,start:0}}}}return r}function rf(n){const t=/(^|[^/])@(group|binding)\(\d+\)[^;]+;/g,r=/@group\((\d+)\)/,s=/@binding\((\d+)\)/,l=/var(<[^>]+>)? (\w+)/,u=/:\s*(\w+)/,c=/struct\s+(\w+)\s*{([^}]+)}/g,h=/(\w+)\s*:\s*([\w\<\>]+)/g,d=/struct\s+(\w+)/,m=n.match(t)?.map(y=>({group:parseInt(y.match(r)[1],10),binding:parseInt(y.match(s)[1],10),name:y.match(l)[2],isUniform:y.match(l)[1]==="<uniform>",type:y.match(u)[1]}));if(!m)return{groups:[],structs:[]};const g=n.match(c)?.map(y=>{const v=y.match(d)[1],b=y.match(h).reduce((T,E)=>{const[w,R]=E.split(":");return T[w.trim()]=R.trim(),T},{});return b?{name:v,members:b}:null}).filter(({name:y})=>m.some(v=>v.type===y))??[];return{groups:m,structs:g}}var $a=(n=>(n[n.VERTEX=1]="VERTEX",n[n.FRAGMENT=2]="FRAGMENT",n[n.COMPUTE=4]="COMPUTE",n))($a||{});function R2({groups:n}){const t=[];for(let r=0;r<n.length;r++){const s=n[r];t[s.group]||(t[s.group]=[]),s.isUniform?t[s.group].push({binding:s.binding,visibility:$a.VERTEX|$a.FRAGMENT,buffer:{type:"uniform"}}):s.type==="sampler"?t[s.group].push({binding:s.binding,visibility:$a.FRAGMENT,sampler:{type:"filtering"}}):s.type==="texture_2d"&&t[s.group].push({binding:s.binding,visibility:$a.FRAGMENT,texture:{sampleType:"float",viewDimension:"2d",multisampled:!1}})}return t}function z2({groups:n}){const t=[];for(let r=0;r<n.length;r++){const s=n[r];t[s.group]||(t[s.group]={}),t[s.group][s.name]=s.binding}return t}function O2(n,t){const r=new Set,s=new Set,l=[...n.structs,...t.structs].filter(c=>r.has(c.name)?!1:(r.add(c.name),!0)),u=[...n.groups,...t.groups].filter(c=>{const h=`${c.name}-${c.binding}`;return s.has(h)?!1:(s.add(h),!0)});return{structs:l,groups:u}}const sf=Object.create(null);class mu{constructor(t){this._layoutKey=0,this._attributeLocationsKey=0;const{fragment:r,vertex:s,layout:l,gpuLayout:u,name:c}=t;if(this.name=c,this.fragment=r,this.vertex=s,r.source===s.source){const h=rf(r.source);this.structsAndGroups=h}else{const h=rf(s.source),d=rf(r.source);this.structsAndGroups=O2(h,d)}this.layout=l??z2(this.structsAndGroups),this.gpuLayout=u??R2(this.structsAndGroups),this.autoAssignGlobalUniforms=this.layout[0]?.globalUniforms!==void 0,this.autoAssignLocalUniforms=this.layout[1]?.localUniforms!==void 0,this._generateProgramKey()}_generateProgramKey(){const{vertex:t,fragment:r}=this,s=t.source+r.source+t.entryPoint+r.entryPoint;this._layoutKey=Dd(s,"program")}get attributeData(){return this._attributeData??(this._attributeData=k2(this.vertex)),this._attributeData}destroy(){this.gpuLayout=null,this.layout=null,this.structsAndGroups=null,this.fragment=null,this.vertex=null}static from(t){const r=`${t.vertex.source}:${t.fragment.source}:${t.fragment.entryPoint}:${t.vertex.entryPoint}`;return sf[r]||(sf[r]=new mu(t)),sf[r]}}const zv=["f32","i32","vec2<f32>","vec3<f32>","vec4<f32>","mat2x2<f32>","mat3x3<f32>","mat4x4<f32>","mat3x2<f32>","mat4x2<f32>","mat2x3<f32>","mat4x3<f32>","mat2x4<f32>","mat3x4<f32>","vec2<i32>","vec3<i32>","vec4<i32>"],B2=zv.reduce((n,t)=>(n[t]=!0,n),{});function j2(n,t){switch(n){case"f32":return 0;case"vec2<f32>":return new Float32Array(2*t);case"vec3<f32>":return new Float32Array(3*t);case"vec4<f32>":return new Float32Array(4*t);case"mat2x2<f32>":return new Float32Array([1,0,0,1]);case"mat3x3<f32>":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4x4<f32>":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const Ov=class Bv{constructor(t,r){this._touched=0,this.uid=de("uniform"),this._resourceType="uniformGroup",this._resourceId=de("resource"),this.isUniformGroup=!0,this._dirtyId=0,this.destroyed=!1,r={...Bv.defaultOptions,...r},this.uniformStructures=t;const s={};for(const l in t){const u=t[l];if(u.name=l,u.size=u.size??1,!B2[u.type])throw new Error(`Uniform type ${u.type} is not supported. Supported uniform types are: ${zv.join(", ")}`);u.value??(u.value=j2(u.type,u.size)),s[l]=u.value}this.uniforms=s,this._dirtyId=1,this.ubo=r.ubo,this.isStatic=r.isStatic,this._signature=Dd(Object.keys(s).map(l=>`${l}-${t[l].type}`).join("-"),"uniform-group")}update(){this._dirtyId++}};Ov.defaultOptions={ubo:!1,isStatic:!1};let jv=Ov;class nu{constructor(t){this.resources=Object.create(null),this._dirty=!0;let r=0;for(const s in t){const l=t[s];this.setResource(l,r++)}this._updateKey()}_updateKey(){if(!this._dirty)return;this._dirty=!1;const t=[];let r=0;for(const s in this.resources)t[r++]=this.resources[s]._resourceId;this._key=t.join("|")}setResource(t,r){const s=this.resources[r];t!==s&&(s&&t.off?.("change",this.onResourceChange,this),t.on?.("change",this.onResourceChange,this),this.resources[r]=t,this._dirty=!0)}getResource(t){return this.resources[t]}_touch(t){const r=this.resources;for(const s in r)r[s]._touched=t}destroy(){const t=this.resources;for(const r in t)t[r].off?.("change",this.onResourceChange,this);this.resources=null}onResourceChange(t){if(this._dirty=!0,t.destroyed){const r=this.resources;for(const s in r)r[s]===t&&(r[s]=null)}else this._updateKey()}}var od=(n=>(n[n.WEBGL=1]="WEBGL",n[n.WEBGPU=2]="WEBGPU",n[n.BOTH=3]="BOTH",n))(od||{});class Nd extends Yn{constructor(t){super(),this._uniformBindMap=Object.create(null),this._ownedBindGroups=[];let{gpuProgram:r,glProgram:s,groups:l,resources:u,compatibleRenderers:c,groupMap:h}=t;this.gpuProgram=r,this.glProgram=s,c===void 0&&(c=0,r&&(c|=od.WEBGPU),s&&(c|=od.WEBGL)),this.compatibleRenderers=c;const d={};if(!u&&!l&&(u={}),u&&l)throw new Error("[Shader] Cannot have both resources and groups");if(!r&&l&&!h)throw new Error("[Shader] No group map or WebGPU shader provided - consider using resources instead.");if(!r&&l&&h)for(const m in h)for(const g in h[m]){const y=h[m][g];d[y]={group:m,binding:g,name:y}}else if(r&&l&&!h){const m=r.structsAndGroups.groups;h={},m.forEach(g=>{h[g.group]=h[g.group]||{},h[g.group][g.binding]=g.name,d[g.name]=g})}else if(u){l={},h={},r&&r.structsAndGroups.groups.forEach(y=>{h[y.group]=h[y.group]||{},h[y.group][y.binding]=y.name,d[y.name]=y});let m=0;for(const g in u)d[g]||(l[99]||(l[99]=new nu,this._ownedBindGroups.push(l[99])),d[g]={group:99,binding:m,name:g},h[99]=h[99]||{},h[99][m]=g,m++);for(const g in u){const y=g;let v=u[g];!v.source&&!v._resourceType&&(v=new jv(v));const b=d[y];b&&(l[b.group]||(l[b.group]=new nu,this._ownedBindGroups.push(l[b.group])),l[b.group].setResource(v,b.binding))}}this.groups=l,this._uniformBindMap=h,this.resources=this._buildResourceAccessor(l,d)}addResource(t,r,s){var l,u;(l=this._uniformBindMap)[r]||(l[r]={}),(u=this._uniformBindMap[r])[s]||(u[s]=t),this.groups[r]||(this.groups[r]=new nu,this._ownedBindGroups.push(this.groups[r]))}_buildResourceAccessor(t,r){const s={};for(const l in r){const u=r[l];Object.defineProperty(s,u.name,{get(){return t[u.group].getResource(u.binding)},set(c){t[u.group].setResource(c,u.binding)}})}return s}destroy(t=!1){this.emit("destroy",this),t&&(this.gpuProgram?.destroy(),this.glProgram?.destroy()),this.gpuProgram=null,this.glProgram=null,this.removeAllListeners(),this._uniformBindMap=null,this._ownedBindGroups.forEach(r=>{r.destroy()}),this._ownedBindGroups=null,this.resources=null,this.groups=null}static from(t){const{gpu:r,gl:s,...l}=t;let u,c;return r&&(u=mu.from(r)),s&&(c=Rv.from(s)),new Nd({gpuProgram:u,glProgram:c,...l})}}var Uo={exports:{}},Px;function D2(){if(Px)return Uo.exports;Px=1,Uo.exports=n,Uo.exports.default=n;function n(S,z,j){j=j||2;var B=z&&z.length,_=B?z[0]*j:S.length,C=t(S,0,_,j,!0),N=[];if(!C||C.next===C.prev)return N;var L,F,J,nt,ct,st,mt;if(B&&(C=d(S,z,C,j)),S.length>80*j){L=J=S[0],F=nt=S[1];for(var ot=j;ot<_;ot+=j)ct=S[ot],st=S[ot+1],ct<L&&(L=ct),st<F&&(F=st),ct>J&&(J=ct),st>nt&&(nt=st);mt=Math.max(J-L,nt-F),mt=mt!==0?32767/mt:0}return s(C,N,j,L,F,mt,0),N}function t(S,z,j,B,_){var C,N;if(_===jt(S,z,j,B)>0)for(C=z;C<j;C+=B)N=it(C,S[C],S[C+1],N);else for(C=j-B;C>=z;C-=B)N=it(C,S[C],S[C+1],N);return N&&P(N,N.next)&&(gt(N),N=N.next),N}function r(S,z){if(!S)return S;z||(z=S);var j=S,B;do if(B=!1,!j.steiner&&(P(j,j.next)||D(j.prev,j,j.next)===0)){if(gt(j),j=z=j.prev,j===j.next)break;B=!0}else j=j.next;while(B||j!==z);return z}function s(S,z,j,B,_,C,N){if(S){!N&&C&&b(S,B,_,C);for(var L=S,F,J;S.prev!==S.next;){if(F=S.prev,J=S.next,C?u(S,B,_,C):l(S)){z.push(F.i/j|0),z.push(S.i/j|0),z.push(J.i/j|0),gt(S),S=J.next,L=J.next;continue}if(S=J,S===L){N?N===1?(S=c(r(S),z,j),s(S,z,j,B,_,C,2)):N===2&&h(S,z,j,B,_,C):s(r(S),z,j,B,_,C,1);break}}}}function l(S){var z=S.prev,j=S,B=S.next;if(D(z,j,B)>=0)return!1;for(var _=z.x,C=j.x,N=B.x,L=z.y,F=j.y,J=B.y,nt=_<C?_<N?_:N:C<N?C:N,ct=L<F?L<J?L:J:F<J?F:J,st=_>C?_>N?_:N:C>N?C:N,mt=L>F?L>J?L:J:F>J?F:J,ot=B.next;ot!==z;){if(ot.x>=nt&&ot.x<=st&&ot.y>=ct&&ot.y<=mt&&R(_,L,C,F,N,J,ot.x,ot.y)&&D(ot.prev,ot,ot.next)>=0)return!1;ot=ot.next}return!0}function u(S,z,j,B){var _=S.prev,C=S,N=S.next;if(D(_,C,N)>=0)return!1;for(var L=_.x,F=C.x,J=N.x,nt=_.y,ct=C.y,st=N.y,mt=L<F?L<J?L:J:F<J?F:J,ot=nt<ct?nt<st?nt:st:ct<st?ct:st,ne=L>F?L>J?L:J:F>J?F:J,le=nt>ct?nt>st?nt:st:ct>st?ct:st,oe=E(mt,ot,z,j,B),De=E(ne,le,z,j,B),_t=S.prevZ,At=S.nextZ;_t&&_t.z>=oe&&At&&At.z<=De;){if(_t.x>=mt&&_t.x<=ne&&_t.y>=ot&&_t.y<=le&&_t!==_&&_t!==N&&R(L,nt,F,ct,J,st,_t.x,_t.y)&&D(_t.prev,_t,_t.next)>=0||(_t=_t.prevZ,At.x>=mt&&At.x<=ne&&At.y>=ot&&At.y<=le&&At!==_&&At!==N&&R(L,nt,F,ct,J,st,At.x,At.y)&&D(At.prev,At,At.next)>=0))return!1;At=At.nextZ}for(;_t&&_t.z>=oe;){if(_t.x>=mt&&_t.x<=ne&&_t.y>=ot&&_t.y<=le&&_t!==_&&_t!==N&&R(L,nt,F,ct,J,st,_t.x,_t.y)&&D(_t.prev,_t,_t.next)>=0)return!1;_t=_t.prevZ}for(;At&&At.z<=De;){if(At.x>=mt&&At.x<=ne&&At.y>=ot&&At.y<=le&&At!==_&&At!==N&&R(L,nt,F,ct,J,st,At.x,At.y)&&D(At.prev,At,At.next)>=0)return!1;At=At.nextZ}return!0}function c(S,z,j){var B=S;do{var _=B.prev,C=B.next.next;!P(_,C)&&I(_,B,B.next,C)&&W(_,C)&&W(C,_)&&(z.push(_.i/j|0),z.push(B.i/j|0),z.push(C.i/j|0),gt(B),gt(B.next),B=S=C),B=B.next}while(B!==S);return r(B)}function h(S,z,j,B,_,C){var N=S;do{for(var L=N.next.next;L!==N.prev;){if(N.i!==L.i&&k(N,L)){var F=rt(N,L);N=r(N,N.next),F=r(F,F.next),s(N,z,j,B,_,C,0),s(F,z,j,B,_,C,0);return}L=L.next}N=N.next}while(N!==S)}function d(S,z,j,B){var _=[],C,N,L,F,J;for(C=0,N=z.length;C<N;C++)L=z[C]*B,F=C<N-1?z[C+1]*B:S.length,J=t(S,L,F,B,!1),J===J.next&&(J.steiner=!0),_.push(w(J));for(_.sort(m),C=0;C<_.length;C++)j=g(_[C],j);return j}function m(S,z){return S.x-z.x}function g(S,z){var j=y(S,z);if(!j)return z;var B=rt(j,S);return r(B,B.next),r(j,j.next)}function y(S,z){var j=z,B=S.x,_=S.y,C=-1/0,N;do{if(_<=j.y&&_>=j.next.y&&j.next.y!==j.y){var L=j.x+(_-j.y)*(j.next.x-j.x)/(j.next.y-j.y);if(L<=B&&L>C&&(C=L,N=j.x<j.next.x?j:j.next,L===B))return N}j=j.next}while(j!==z);if(!N)return null;var F=N,J=N.x,nt=N.y,ct=1/0,st;j=N;do B>=j.x&&j.x>=J&&B!==j.x&&R(_<nt?B:C,_,J,nt,_<nt?C:B,_,j.x,j.y)&&(st=Math.abs(_-j.y)/(B-j.x),W(j,S)&&(st<ct||st===ct&&(j.x>N.x||j.x===N.x&&v(N,j)))&&(N=j,ct=st)),j=j.next;while(j!==F);return N}function v(S,z){return D(S.prev,S,z.prev)<0&&D(z.next,S,S.next)<0}function b(S,z,j,B){var _=S;do _.z===0&&(_.z=E(_.x,_.y,z,j,B)),_.prevZ=_.prev,_.nextZ=_.next,_=_.next;while(_!==S);_.prevZ.nextZ=null,_.prevZ=null,T(_)}function T(S){var z,j,B,_,C,N,L,F,J=1;do{for(j=S,S=null,C=null,N=0;j;){for(N++,B=j,L=0,z=0;z<J&&(L++,B=B.nextZ,!!B);z++);for(F=J;L>0||F>0&&B;)L!==0&&(F===0||!B||j.z<=B.z)?(_=j,j=j.nextZ,L--):(_=B,B=B.nextZ,F--),C?C.nextZ=_:S=_,_.prevZ=C,C=_;j=B}C.nextZ=null,J*=2}while(N>1);return S}function E(S,z,j,B,_){return S=(S-j)*_|0,z=(z-B)*_|0,S=(S|S<<8)&16711935,S=(S|S<<4)&252645135,S=(S|S<<2)&858993459,S=(S|S<<1)&1431655765,z=(z|z<<8)&16711935,z=(z|z<<4)&252645135,z=(z|z<<2)&858993459,z=(z|z<<1)&1431655765,S|z<<1}function w(S){var z=S,j=S;do(z.x<j.x||z.x===j.x&&z.y<j.y)&&(j=z),z=z.next;while(z!==S);return j}function R(S,z,j,B,_,C,N,L){return(_-N)*(z-L)>=(S-N)*(C-L)&&(S-N)*(B-L)>=(j-N)*(z-L)&&(j-N)*(C-L)>=(_-N)*(B-L)}function k(S,z){return S.next.i!==z.i&&S.prev.i!==z.i&&!et(S,z)&&(W(S,z)&&W(z,S)&&$(S,z)&&(D(S.prev,S,z.prev)||D(S,z.prev,z))||P(S,z)&&D(S.prev,S,S.next)>0&&D(z.prev,z,z.next)>0)}function D(S,z,j){return(z.y-S.y)*(j.x-z.x)-(z.x-S.x)*(j.y-z.y)}function P(S,z){return S.x===z.x&&S.y===z.y}function I(S,z,j,B){var _=V(D(S,z,j)),C=V(D(S,z,B)),N=V(D(j,B,S)),L=V(D(j,B,z));return!!(_!==C&&N!==L||_===0&&G(S,j,z)||C===0&&G(S,B,z)||N===0&&G(j,S,B)||L===0&&G(j,z,B))}function G(S,z,j){return z.x<=Math.max(S.x,j.x)&&z.x>=Math.min(S.x,j.x)&&z.y<=Math.max(S.y,j.y)&&z.y>=Math.min(S.y,j.y)}function V(S){return S>0?1:S<0?-1:0}function et(S,z){var j=S;do{if(j.i!==S.i&&j.next.i!==S.i&&j.i!==z.i&&j.next.i!==z.i&&I(j,j.next,S,z))return!0;j=j.next}while(j!==S);return!1}function W(S,z){return D(S.prev,S,S.next)<0?D(S,z,S.next)>=0&&D(S,S.prev,z)>=0:D(S,z,S.prev)<0||D(S,S.next,z)<0}function $(S,z){var j=S,B=!1,_=(S.x+z.x)/2,C=(S.y+z.y)/2;do j.y>C!=j.next.y>C&&j.next.y!==j.y&&_<(j.next.x-j.x)*(C-j.y)/(j.next.y-j.y)+j.x&&(B=!B),j=j.next;while(j!==S);return B}function rt(S,z){var j=new bt(S.i,S.x,S.y),B=new bt(z.i,z.x,z.y),_=S.next,C=z.prev;return S.next=z,z.prev=S,j.next=_,_.prev=j,B.next=j,j.prev=B,C.next=B,B.prev=C,B}function it(S,z,j,B){var _=new bt(S,z,j);return B?(_.next=B.next,_.prev=B,B.next.prev=_,B.next=_):(_.prev=_,_.next=_),_}function gt(S){S.next.prev=S.prev,S.prev.next=S.next,S.prevZ&&(S.prevZ.nextZ=S.nextZ),S.nextZ&&(S.nextZ.prevZ=S.prevZ)}function bt(S,z,j){this.i=S,this.x=z,this.y=j,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}n.deviation=function(S,z,j,B){var _=z&&z.length,C=_?z[0]*j:S.length,N=Math.abs(jt(S,0,C,j));if(_)for(var L=0,F=z.length;L<F;L++){var J=z[L]*j,nt=L<F-1?z[L+1]*j:S.length;N-=Math.abs(jt(S,J,nt,j))}var ct=0;for(L=0;L<B.length;L+=3){var st=B[L]*j,mt=B[L+1]*j,ot=B[L+2]*j;ct+=Math.abs((S[st]-S[ot])*(S[mt+1]-S[st+1])-(S[st]-S[mt])*(S[ot+1]-S[st+1]))}return N===0&&ct===0?0:Math.abs((ct-N)/N)};function jt(S,z,j,B){for(var _=0,C=z,N=j-B;C<j;C+=B)_+=(S[N]-S[C])*(S[C+1]+S[N+1]),N=C;return _}return n.flatten=function(S){for(var z=S[0][0].length,j={vertices:[],holes:[],dimensions:z},B=0,_=0;_<S.length;_++){for(var C=0;C<S[_].length;C++)for(var N=0;N<z;N++)j.vertices.push(S[_][C][N]);_>0&&(B+=S[_-1].length,j.holes.push(B))}return j},Uo.exports}var N2=D2();const H2=vn(N2);class Dv extends Yn{constructor(){super(...arguments),this.chars=Object.create(null),this.lineHeight=0,this.fontFamily="",this.fontMetrics={fontSize:0,ascent:0,descent:0},this.baseLineOffset=0,this.distanceField={type:"none",range:0},this.pages=[],this.applyFillAsTint=!0,this.baseMeasurementFontSize=100,this.baseRenderedFontSize=100}get font(){return he(Oe,"BitmapFont.font is deprecated, please use BitmapFont.fontFamily instead."),this.fontFamily}get pageTextures(){return he(Oe,"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}get size(){return he(Oe,"BitmapFont.size is deprecated, please use BitmapFont.fontMetrics.fontSize instead."),this.fontMetrics.fontSize}get distanceFieldRange(){return he(Oe,"BitmapFont.distanceFieldRange is deprecated, please use BitmapFont.distanceField.range instead."),this.distanceField.range}get distanceFieldType(){return he(Oe,"BitmapFont.distanceFieldType is deprecated, please use BitmapFont.distanceField.type instead."),this.distanceField.type}destroy(t=!1){this.emit("destroy",this),this.removeAllListeners();for(const r in this.chars)this.chars[r].texture?.destroy();this.chars=null,t&&(this.pages.forEach(r=>r.texture.destroy(!0)),this.pages=null)}}const Nv=class ud{constructor(t,r,s,l){this.uid=de("fillGradient"),this.type="linear",this.gradientStops=[],this._styleKey=null,this.x0=t,this.y0=r,this.x1=s,this.y1=l}addColorStop(t,r){return this.gradientStops.push({offset:t,color:Me.shared.setValue(r).toHexa()}),this._styleKey=null,this}buildLinearGradient(){if(this.texture)return;const t=ud.defaultTextureSize,{gradientStops:r}=this,s=pe.get().createCanvas();s.width=t,s.height=t;const l=s.getContext("2d"),u=l.createLinearGradient(0,0,ud.defaultTextureSize,1);for(let E=0;E<r.length;E++){const w=r[E];u.addColorStop(w.offset,w.color)}l.fillStyle=u,l.fillRect(0,0,t,t),this.texture=new Rt({source:new Cs({resource:s,addressModeU:"clamp-to-edge",addressModeV:"repeat"})});const{x0:c,y0:h,x1:d,y1:m}=this,g=new Bt,y=d-c,v=m-h,b=Math.sqrt(y*y+v*v),T=Math.atan2(v,y);g.translate(-c,-h),g.scale(1/t,1/t),g.rotate(-T),g.scale(256/b,1),this.transform=g,this._styleKey=null}get styleKey(){if(this._styleKey)return this._styleKey;const t=this.gradientStops.map(l=>`${l.offset}-${l.color}`).join("-"),r=this.texture.uid,s=this.transform.toArray().join("-");return`fill-gradient-${this.uid}-${t}-${r}-${s}-${this.x0}-${this.y0}-${this.x1}-${this.y1}`}};Nv.defaultTextureSize=256;let il=Nv;const Ux={repeat:{addressModeU:"repeat",addressModeV:"repeat"},"repeat-x":{addressModeU:"repeat",addressModeV:"clamp-to-edge"},"repeat-y":{addressModeU:"clamp-to-edge",addressModeV:"repeat"},"no-repeat":{addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}};class gu{constructor(t,r){this.uid=de("fillPattern"),this.transform=new Bt,this._styleKey=null,this.texture=t,this.transform.scale(1/t.frame.width,1/t.frame.height),r&&(t.source.style.addressModeU=Ux[r].addressModeU,t.source.style.addressModeV=Ux[r].addressModeV)}setTransform(t){const r=this.texture;this.transform.copyFrom(t),this.transform.invert(),this.transform.scale(1/r.frame.width,1/r.frame.height),this._styleKey=null}get styleKey(){return this._styleKey?this._styleKey:(this._styleKey=`fill-pattern-${this.uid}-${this.texture.uid}-${this.transform.toArray().join("-")}`,this._styleKey)}}var af,Gx;function P2(){if(Gx)return af;Gx=1,af=r;var n={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},t=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function r(u){var c=[];return u.replace(t,function(h,d,m){var g=d.toLowerCase();for(m=l(m),g=="m"&&m.length>2&&(c.push([d].concat(m.splice(0,2))),g="l",d=d=="m"?"l":"L");;){if(m.length==n[g])return m.unshift(d),c.push(m);if(m.length<n[g])throw new Error("malformed path data");c.push([d].concat(m.splice(0,n[g])))}}),c}var s=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function l(u){var c=u.match(s);return c?c.map(Number):[]}return af}var U2=P2();const G2=vn(U2);function L2(n,t){const r=G2(n),s=[];let l=null,u=0,c=0;for(let h=0;h<r.length;h++){const d=r[h],m=d[0],g=d;switch(m){case"M":u=g[1],c=g[2],t.moveTo(u,c);break;case"m":u+=g[1],c+=g[2],t.moveTo(u,c);break;case"H":u=g[1],t.lineTo(u,c);break;case"h":u+=g[1],t.lineTo(u,c);break;case"V":c=g[1],t.lineTo(u,c);break;case"v":c+=g[1],t.lineTo(u,c);break;case"L":u=g[1],c=g[2],t.lineTo(u,c);break;case"l":u+=g[1],c+=g[2],t.lineTo(u,c);break;case"C":u=g[5],c=g[6],t.bezierCurveTo(g[1],g[2],g[3],g[4],u,c);break;case"c":t.bezierCurveTo(u+g[1],c+g[2],u+g[3],c+g[4],u+g[5],c+g[6]),u+=g[5],c+=g[6];break;case"S":u=g[3],c=g[4],t.bezierCurveToShort(g[1],g[2],u,c);break;case"s":t.bezierCurveToShort(u+g[1],c+g[2],u+g[3],c+g[4]),u+=g[3],c+=g[4];break;case"Q":u=g[3],c=g[4],t.quadraticCurveTo(g[1],g[2],u,c);break;case"q":t.quadraticCurveTo(u+g[1],c+g[2],u+g[3],c+g[4]),u+=g[3],c+=g[4];break;case"T":u=g[1],c=g[2],t.quadraticCurveToShort(u,c);break;case"t":u+=g[1],c+=g[2],t.quadraticCurveToShort(u,c);break;case"A":u=g[6],c=g[7],t.arcToSvg(g[1],g[2],g[3],g[4],g[5],u,c);break;case"a":u+=g[6],c+=g[7],t.arcToSvg(g[1],g[2],g[3],g[4],g[5],u,c);break;case"Z":case"z":t.closePath(),s.length>0&&(l=s.pop(),l?(u=l.startX,c=l.startY):(u=0,c=0)),l=null;break;default:ae(`Unknown SVG path command: ${m}`)}m!=="Z"&&m!=="z"&&l===null&&(l={startX:u,startY:c},s.push(l))}return t}class Hd{constructor(t=0,r=0,s=0){this.type="circle",this.x=t,this.y=r,this.radius=s}clone(){return new Hd(this.x,this.y,this.radius)}contains(t,r){if(this.radius<=0)return!1;const s=this.radius*this.radius;let l=this.x-t,u=this.y-r;return l*=l,u*=u,l+u<=s}strokeContains(t,r,s,l=.5){if(this.radius===0)return!1;const u=this.x-t,c=this.y-r,h=this.radius,d=(1-l)*s,m=Math.sqrt(u*u+c*c);return m<=h+d&&m>h-(s-d)}getBounds(t){return t||(t=new fe),t.x=this.x-this.radius,t.y=this.y-this.radius,t.width=this.radius*2,t.height=this.radius*2,t}copyFrom(t){return this.x=t.x,this.y=t.y,this.radius=t.radius,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class Pd{constructor(t=0,r=0,s=0,l=0){this.type="ellipse",this.x=t,this.y=r,this.halfWidth=s,this.halfHeight=l}clone(){return new Pd(this.x,this.y,this.halfWidth,this.halfHeight)}contains(t,r){if(this.halfWidth<=0||this.halfHeight<=0)return!1;let s=(t-this.x)/this.halfWidth,l=(r-this.y)/this.halfHeight;return s*=s,l*=l,s+l<=1}strokeContains(t,r,s,l=.5){const{halfWidth:u,halfHeight:c}=this;if(u<=0||c<=0)return!1;const h=s*(1-l),d=s-h,m=u-d,g=c-d,y=u+h,v=c+h,b=t-this.x,T=r-this.y,E=b*b/(m*m)+T*T/(g*g),w=b*b/(y*y)+T*T/(v*v);return E>1&&w<=1}getBounds(t){return t||(t=new fe),t.x=this.x-this.halfWidth,t.y=this.y-this.halfHeight,t.width=this.halfWidth*2,t.height=this.halfHeight*2,t}copyFrom(t){return this.x=t.x,this.y=t.y,this.halfWidth=t.halfWidth,this.halfHeight=t.halfHeight,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:Ellipse x=${this.x} y=${this.y} halfWidth=${this.halfWidth} halfHeight=${this.halfHeight}]`}}function I2(n,t,r,s,l,u){const c=n-r,h=t-s,d=l-r,m=u-s,g=c*d+h*m,y=d*d+m*m;let v=-1;y!==0&&(v=g/y);let b,T;v<0?(b=r,T=s):v>1?(b=l,T=u):(b=r+v*d,T=s+v*m);const E=n-b,w=t-T;return E*E+w*w}class el{constructor(...t){this.type="polygon";let r=Array.isArray(t[0])?t[0]:t;if(typeof r[0]!="number"){const s=[];for(let l=0,u=r.length;l<u;l++)s.push(r[l].x,r[l].y);r=s}this.points=r,this.closePath=!0}clone(){const t=this.points.slice(),r=new el(t);return r.closePath=this.closePath,r}contains(t,r){let s=!1;const l=this.points.length/2;for(let u=0,c=l-1;u<l;c=u++){const h=this.points[u*2],d=this.points[u*2+1],m=this.points[c*2],g=this.points[c*2+1];d>r!=g>r&&t<(m-h)*((r-d)/(g-d))+h&&(s=!s)}return s}strokeContains(t,r,s,l=.5){const u=s*s,c=u*(1-l),h=u-c,{points:d}=this,m=d.length-(this.closePath?0:2);for(let g=0;g<m;g+=2){const y=d[g],v=d[g+1],b=d[(g+2)%d.length],T=d[(g+3)%d.length],E=I2(t,r,y,v,b,T),w=Math.sign((b-y)*(r-v)-(T-v)*(t-y));if(E<=(w<0?h:c))return!0}return!1}getBounds(t){t||(t=new fe);const r=this.points;let s=1/0,l=-1/0,u=1/0,c=-1/0;for(let h=0,d=r.length;h<d;h+=2){const m=r[h],g=r[h+1];s=m<s?m:s,l=m>l?m:l,u=g<u?g:u,c=g>c?g:c}return t.x=s,t.width=l-s,t.y=u,t.height=c-u,t}copyFrom(t){return this.points=t.points.slice(),this.closePath=t.closePath,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:PolygoncloseStroke=${this.closePath}points=${this.points.reduce((t,r)=>`${t}, ${r}`,"")}]`}get lastX(){return this.points[this.points.length-2]}get lastY(){return this.points[this.points.length-1]}get x(){return this.points[this.points.length-2]}get y(){return this.points[this.points.length-1]}}const Go=(n,t,r,s,l,u,c)=>{const h=n-r,d=t-s,m=Math.sqrt(h*h+d*d);return m>=l-u&&m<=l+c};class Ud{constructor(t=0,r=0,s=0,l=0,u=20){this.type="roundedRectangle",this.x=t,this.y=r,this.width=s,this.height=l,this.radius=u}getBounds(t){return t||(t=new fe),t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t}clone(){return new Ud(this.x,this.y,this.width,this.height,this.radius)}copyFrom(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}copyTo(t){return t.copyFrom(this),t}contains(t,r){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){const s=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+s&&r<=this.y+this.height-s||t>=this.x+s&&t<=this.x+this.width-s)return!0;let l=t-(this.x+s),u=r-(this.y+s);const c=s*s;if(l*l+u*u<=c||(l=t-(this.x+this.width-s),l*l+u*u<=c)||(u=r-(this.y+this.height-s),l*l+u*u<=c)||(l=t-(this.x+s),l*l+u*u<=c))return!0}return!1}strokeContains(t,r,s,l=.5){const{x:u,y:c,width:h,height:d,radius:m}=this,g=s*(1-l),y=s-g,v=u+m,b=c+m,T=h-m*2,E=d-m*2,w=u+h,R=c+d;return(t>=u-g&&t<=u+y||t>=w-y&&t<=w+g)&&r>=b&&r<=b+E||(r>=c-g&&r<=c+y||r>=R-y&&r<=R+g)&&t>=v&&t<=v+T?!0:t<v&&r<b&&Go(t,r,v,b,m,y,g)||t>w-m&&r<b&&Go(t,r,w-m,b,m,y,g)||t>w-m&&r>R-m&&Go(t,r,w-m,R-m,m,y,g)||t<v&&r>R-m&&Go(t,r,v,R-m,m,y,g)}toString(){return`[pixi.js/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}const q2=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function F2(n){let t="";for(let r=0;r<n;++r)r>0&&(t+=`
else `),r<n-1&&(t+=`if(test == ${r}.0){}`);return t}function Y2(n,t){if(n===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const r=t.createShader(t.FRAGMENT_SHADER);try{for(;;){const s=q2.replace(/%forloop%/gi,F2(n));if(t.shaderSource(r,s),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS))n=n/2|0;else break}}finally{t.deleteShader(r)}return n}let ds=null;function Hv(){if(ds)return ds;const n=Cv();return ds=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),ds=Y2(ds,n),n.getExtension("WEBGL_lose_context")?.loseContext(),ds}const Pv={};function V2(n,t){let r=2166136261;for(let s=0;s<t;s++)r^=n[s].uid,r=Math.imul(r,16777619),r>>>=0;return Pv[r]||X2(n,t,r)}let lf=0;function X2(n,t,r){const s={};let l=0;lf||(lf=Hv());for(let c=0;c<lf;c++){const h=c<t?n[c]:Rt.EMPTY.source;s[l++]=h.source,s[l++]=h.style}const u=new nu(s);return Pv[r]=u,u}class Lx{constructor(t){typeof t=="number"?this.rawBinaryData=new ArrayBuffer(t):t instanceof Uint8Array?this.rawBinaryData=t.buffer:this.rawBinaryData=t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData),this.size=this.rawBinaryData.byteLength}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}get float64View(){return this._float64Array||(this._float64Array=new Float64Array(this.rawBinaryData)),this._float64Array}get bigUint64View(){return this._bigUint64Array||(this._bigUint64Array=new BigUint64Array(this.rawBinaryData)),this._bigUint64Array}view(t){return this[`${t}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this.uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${t} isn't a valid view type`)}}}function Ix(n,t){const r=n.byteLength/8|0,s=new Float64Array(n,0,r);new Float64Array(t,0,r).set(s);const u=n.byteLength-r*8;if(u>0){const c=new Uint8Array(n,r*8,u);new Uint8Array(t,r*8,u).set(c)}}const W2={normal:"normal-npm",add:"add-npm",screen:"screen-npm"};var $2=(n=>(n[n.DISABLED=0]="DISABLED",n[n.RENDERING_MASK_ADD=1]="RENDERING_MASK_ADD",n[n.MASK_ACTIVE=2]="MASK_ACTIVE",n[n.INVERSE_MASK_ACTIVE=3]="INVERSE_MASK_ACTIVE",n[n.RENDERING_MASK_REMOVE=4]="RENDERING_MASK_REMOVE",n[n.NONE=5]="NONE",n))($2||{});function qx(n,t){return t.alphaMode==="no-premultiply-alpha"&&W2[n]||n}class K2{constructor(){this.ids=Object.create(null),this.textures=[],this.count=0}clear(){for(let t=0;t<this.count;t++){const r=this.textures[t];this.textures[t]=null,this.ids[r.uid]=null}this.count=0}}class Q2{constructor(){this.renderPipeId="batch",this.action="startBatch",this.start=0,this.size=0,this.textures=new K2,this.blendMode="normal",this.topology="triangle-strip",this.canBundle=!0}destroy(){this.textures=null,this.gpuBindGroup=null,this.bindGroup=null,this.batcher=null}}const Uv=[];let cd=0;function Fx(){return cd>0?Uv[--cd]:new Q2}function Yx(n){Uv[cd++]=n}let ja=0;const Gv=class ru{constructor(t={}){this.uid=de("batcher"),this.dirty=!0,this.batchIndex=0,this.batches=[],this._elements=[],ru.defaultOptions.maxTextures=ru.defaultOptions.maxTextures??Hv(),t={...ru.defaultOptions,...t};const{maxTextures:r,attributesInitialSize:s,indicesInitialSize:l}=t;this.attributeBuffer=new Lx(s*4),this.indexBuffer=new Uint16Array(l),this.maxTextures=r}begin(){this.elementSize=0,this.elementStart=0,this.indexSize=0,this.attributeSize=0;for(let t=0;t<this.batchIndex;t++)Yx(this.batches[t]);this.batchIndex=0,this._batchIndexStart=0,this._batchIndexSize=0,this.dirty=!0}add(t){this._elements[this.elementSize++]=t,t._indexStart=this.indexSize,t._attributeStart=this.attributeSize,t._batcher=this,this.indexSize+=t.indexSize,this.attributeSize+=t.attributeSize*this.vertexSize}checkAndUpdateTexture(t,r){const s=t._batch.textures.ids[r._source.uid];return!s&&s!==0?!1:(t._textureId=s,t.texture=r,!0)}updateElement(t){this.dirty=!0;const r=this.attributeBuffer;t.packAsQuad?this.packQuadAttributes(t,r.float32View,r.uint32View,t._attributeStart,t._textureId):this.packAttributes(t,r.float32View,r.uint32View,t._attributeStart,t._textureId)}break(t){const r=this._elements;if(!r[this.elementStart])return;let s=Fx(),l=s.textures;l.clear();const u=r[this.elementStart];let c=qx(u.blendMode,u.texture._source),h=u.topology;this.attributeSize*4>this.attributeBuffer.size&&this._resizeAttributeBuffer(this.attributeSize*4),this.indexSize>this.indexBuffer.length&&this._resizeIndexBuffer(this.indexSize);const d=this.attributeBuffer.float32View,m=this.attributeBuffer.uint32View,g=this.indexBuffer;let y=this._batchIndexSize,v=this._batchIndexStart,b="startBatch";const T=this.maxTextures;for(let E=this.elementStart;E<this.elementSize;++E){const w=r[E];r[E]=null;const k=w.texture._source,D=qx(w.blendMode,k),P=c!==D||h!==w.topology;if(k._batchTick===ja&&!P){w._textureId=k._textureBindLocation,y+=w.indexSize,w.packAsQuad?(this.packQuadAttributes(w,d,m,w._attributeStart,w._textureId),this.packQuadIndex(g,w._indexStart,w._attributeStart/this.vertexSize)):(this.packAttributes(w,d,m,w._attributeStart,w._textureId),this.packIndex(w,g,w._indexStart,w._attributeStart/this.vertexSize)),w._batch=s;continue}k._batchTick=ja,(l.count>=T||P)&&(this._finishBatch(s,v,y-v,l,c,h,t,b),b="renderBatch",v=y,c=D,h=w.topology,s=Fx(),l=s.textures,l.clear(),++ja),w._textureId=k._textureBindLocation=l.count,l.ids[k.uid]=l.count,l.textures[l.count++]=k,w._batch=s,y+=w.indexSize,w.packAsQuad?(this.packQuadAttributes(w,d,m,w._attributeStart,w._textureId),this.packQuadIndex(g,w._indexStart,w._attributeStart/this.vertexSize)):(this.packAttributes(w,d,m,w._attributeStart,w._textureId),this.packIndex(w,g,w._indexStart,w._attributeStart/this.vertexSize))}l.count>0&&(this._finishBatch(s,v,y-v,l,c,h,t,b),v=y,++ja),this.elementStart=this.elementSize,this._batchIndexStart=v,this._batchIndexSize=y}_finishBatch(t,r,s,l,u,c,h,d){t.gpuBindGroup=null,t.bindGroup=null,t.action=d,t.batcher=this,t.textures=l,t.blendMode=u,t.topology=c,t.start=r,t.size=s,++ja,this.batches[this.batchIndex++]=t,h.add(t)}finish(t){this.break(t)}ensureAttributeBuffer(t){t*4<=this.attributeBuffer.size||this._resizeAttributeBuffer(t*4)}ensureIndexBuffer(t){t<=this.indexBuffer.length||this._resizeIndexBuffer(t)}_resizeAttributeBuffer(t){const r=Math.max(t,this.attributeBuffer.size*2),s=new Lx(r);Ix(this.attributeBuffer.rawBinaryData,s.rawBinaryData),this.attributeBuffer=s}_resizeIndexBuffer(t){const r=this.indexBuffer;let s=Math.max(t,r.length*1.5);s+=s%2;const l=s>65535?new Uint32Array(s):new Uint16Array(s);if(l.BYTES_PER_ELEMENT!==r.BYTES_PER_ELEMENT)for(let u=0;u<r.length;u++)l[u]=r[u];else Ix(r.buffer,l.buffer);this.indexBuffer=l}packQuadIndex(t,r,s){t[r]=s+0,t[r+1]=s+1,t[r+2]=s+2,t[r+3]=s+0,t[r+4]=s+2,t[r+5]=s+3}packIndex(t,r,s,l){const u=t.indices,c=t.indexSize,h=t.indexOffset,d=t.attributeOffset;for(let m=0;m<c;m++)r[s++]=l+u[m+h]-d}destroy(){for(let t=0;t<this.batches.length;t++)Yx(this.batches[t]);this.batches=null;for(let t=0;t<this._elements.length;t++)this._elements[t]._batch=null;this._elements=null,this.indexBuffer=null,this.attributeBuffer.destroy(),this.attributeBuffer=null}};Gv.defaultOptions={maxTextures:null,attributesInitialSize:4,indicesInitialSize:6};let Z2=Gv;var Ie=(n=>(n[n.MAP_READ=1]="MAP_READ",n[n.MAP_WRITE=2]="MAP_WRITE",n[n.COPY_SRC=4]="COPY_SRC",n[n.COPY_DST=8]="COPY_DST",n[n.INDEX=16]="INDEX",n[n.VERTEX=32]="VERTEX",n[n.UNIFORM=64]="UNIFORM",n[n.STORAGE=128]="STORAGE",n[n.INDIRECT=256]="INDIRECT",n[n.QUERY_RESOLVE=512]="QUERY_RESOLVE",n[n.STATIC=1024]="STATIC",n))(Ie||{});class sl extends Yn{constructor(t){let{data:r,size:s}=t;const{usage:l,label:u,shrinkToFit:c}=t;super(),this.uid=de("buffer"),this._resourceType="buffer",this._resourceId=de("resource"),this._touched=0,this._updateID=1,this._dataInt32=null,this.shrinkToFit=!0,this.destroyed=!1,r instanceof Array&&(r=new Float32Array(r)),this._data=r,s??(s=r?.byteLength);const h=!!r;this.descriptor={size:s,usage:l,mappedAtCreation:h,label:u},this.shrinkToFit=c??!0}get data(){return this._data}set data(t){this.setDataWithSize(t,t.length,!0)}get dataInt32(){return this._dataInt32||(this._dataInt32=new Int32Array(this.data.buffer)),this._dataInt32}get static(){return!!(this.descriptor.usage&Ie.STATIC)}set static(t){t?this.descriptor.usage|=Ie.STATIC:this.descriptor.usage&=~Ie.STATIC}setDataWithSize(t,r,s){if(this._updateID++,this._updateSize=r*t.BYTES_PER_ELEMENT,this._data===t){s&&this.emit("update",this);return}const l=this._data;if(this._data=t,this._dataInt32=null,!l||l.length!==t.length){!this.shrinkToFit&&l&&t.byteLength<l.byteLength?s&&this.emit("update",this):(this.descriptor.size=t.byteLength,this._resourceId=de("resource"),this.emit("change",this));return}s&&this.emit("update",this)}update(t){this._updateSize=t??this._updateSize,this._updateID++,this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._data=null,this.descriptor=null,this.removeAllListeners()}}function Lv(n,t){if(!(n instanceof sl)){let r=t?Ie.INDEX:Ie.VERTEX;n instanceof Array&&(t?(n=new Uint32Array(n),r=Ie.INDEX|Ie.COPY_DST):(n=new Float32Array(n),r=Ie.VERTEX|Ie.COPY_DST)),n=new sl({data:n,label:t?"index-mesh-buffer":"vertex-mesh-buffer",usage:r})}return n}function J2(n,t,r){const s=n.getAttribute(t);if(!s)return r.minX=0,r.minY=0,r.maxX=0,r.maxY=0,r;const l=s.buffer.data;let u=1/0,c=1/0,h=-1/0,d=-1/0;const m=l.BYTES_PER_ELEMENT,g=(s.offset||0)/m,y=(s.stride||2*4)/m;for(let v=g;v<l.length;v+=y){const b=l[v],T=l[v+1];b>h&&(h=b),T>d&&(d=T),b<u&&(u=b),T<c&&(c=T)}return r.minX=u,r.minY=c,r.maxX=h,r.maxY=d,r}function tT(n){return(n instanceof sl||Array.isArray(n)||n.BYTES_PER_ELEMENT)&&(n={buffer:n}),n.buffer=Lv(n.buffer,!1),n}class eT extends Yn{constructor(t={}){super(),this.uid=de("geometry"),this._layoutKey=0,this.instanceCount=1,this._bounds=new Fn,this._boundsDirty=!0;const{attributes:r,indexBuffer:s,topology:l}=t;if(this.buffers=[],this.attributes={},r)for(const u in r)this.addAttribute(u,r[u]);this.instanceCount=t.instanceCount??1,s&&this.addIndex(s),this.topology=l||"triangle-list"}onBufferUpdate(){this._boundsDirty=!0,this.emit("update",this)}getAttribute(t){return this.attributes[t]}getIndex(){return this.indexBuffer}getBuffer(t){return this.getAttribute(t).buffer}getSize(){for(const t in this.attributes){const r=this.attributes[t];return r.buffer.data.length/(r.stride/4||r.size)}return 0}addAttribute(t,r){const s=tT(r);this.buffers.indexOf(s.buffer)===-1&&(this.buffers.push(s.buffer),s.buffer.on("update",this.onBufferUpdate,this),s.buffer.on("change",this.onBufferUpdate,this)),this.attributes[t]=s}addIndex(t){this.indexBuffer=Lv(t,!0),this.buffers.push(this.indexBuffer)}get bounds(){return this._boundsDirty?(this._boundsDirty=!1,J2(this,"aPosition",this._bounds)):this._bounds}destroy(t=!1){this.emit("destroy",this),this.removeAllListeners(),t&&this.buffers.forEach(r=>r.destroy()),this.attributes=null,this.buffers=null,this.indexBuffer=null,this._bounds=null}}const nT=new Float32Array(1),rT=new Uint32Array(1);class iT extends eT{constructor(){const r=new sl({data:nT,label:"attribute-batch-buffer",usage:Ie.VERTEX|Ie.COPY_DST,shrinkToFit:!1}),s=new sl({data:rT,label:"index-batch-buffer",usage:Ie.INDEX|Ie.COPY_DST,shrinkToFit:!1}),l=6*4;super({attributes:{aPosition:{buffer:r,format:"float32x2",stride:l,offset:0},aUV:{buffer:r,format:"float32x2",stride:l,offset:2*4},aColor:{buffer:r,format:"unorm8x4",stride:l,offset:4*4},aTextureIdAndRound:{buffer:r,format:"uint16x2",stride:l,offset:5*4}},indexBuffer:s})}}function Vx(n,t,r){if(n)for(const s in n){const l=s.toLocaleLowerCase(),u=t[l];if(u){let c=n[s];s==="header"&&(c=c.replace(/@in\s+[^;]+;\s*/g,"").replace(/@out\s+[^;]+;\s*/g,"")),r&&u.push(`//----${r}----//`),u.push(c)}else ae(`${s} placement hook does not exist in shader`)}}const sT=/\{\{(.*?)\}\}/g;function Xx(n){const t={};return(n.match(sT)?.map(s=>s.replace(/[{()}]/g,""))??[]).forEach(s=>{t[s]=[]}),t}function Wx(n,t){let r;const s=/@in\s+([^;]+);/g;for(;(r=s.exec(n))!==null;)t.push(r[1])}function $x(n,t,r=!1){const s=[];Wx(t,s),n.forEach(h=>{h.header&&Wx(h.header,s)});const l=s;r&&l.sort();const u=l.map((h,d)=>`       @location(${d}) ${h},`).join(`
`);let c=t.replace(/@in\s+[^;]+;\s*/g,"");return c=c.replace("{{in}}",`
${u}
`),c}function Kx(n,t){let r;const s=/@out\s+([^;]+);/g;for(;(r=s.exec(n))!==null;)t.push(r[1])}function aT(n){const r=/\b(\w+)\s*:/g.exec(n);return r?r[1]:""}function lT(n){const t=/@.*?\s+/g;return n.replace(t,"")}function oT(n,t){const r=[];Kx(t,r),n.forEach(d=>{d.header&&Kx(d.header,r)});let s=0;const l=r.sort().map(d=>d.indexOf("builtin")>-1?d:`@location(${s++}) ${d}`).join(`,
`),u=r.sort().map(d=>`       var ${lT(d)};`).join(`
`),c=`return VSOutput(
            ${r.sort().map(d=>` ${aT(d)}`).join(`,
`)});`;let h=t.replace(/@out\s+[^;]+;\s*/g,"");return h=h.replace("{{struct}}",`
${l}
`),h=h.replace("{{start}}",`
${u}
`),h=h.replace("{{return}}",`
${c}
`),h}function Qx(n,t){let r=n;for(const s in t){const l=t[s];l.join(`
`).length?r=r.replace(`{{${s}}}`,`//-----${s} START-----//
${l.join(`
`)}
//----${s} FINISH----//`):r=r.replace(`{{${s}}}`,"")}return r}const Vr=Object.create(null),of=new Map;let uT=0;function cT({template:n,bits:t}){const r=Iv(n,t);if(Vr[r])return Vr[r];const{vertex:s,fragment:l}=fT(n,t);return Vr[r]=qv(s,l,t),Vr[r]}function hT({template:n,bits:t}){const r=Iv(n,t);return Vr[r]||(Vr[r]=qv(n.vertex,n.fragment,t)),Vr[r]}function fT(n,t){const r=t.map(c=>c.vertex).filter(c=>!!c),s=t.map(c=>c.fragment).filter(c=>!!c);let l=$x(r,n.vertex,!0);l=oT(r,l);const u=$x(s,n.fragment,!0);return{vertex:l,fragment:u}}function Iv(n,t){return t.map(r=>(of.has(r)||of.set(r,uT++),of.get(r))).sort((r,s)=>r-s).join("-")+n.vertex+n.fragment}function qv(n,t,r){const s=Xx(n),l=Xx(t);return r.forEach(u=>{Vx(u.vertex,s,u.name),Vx(u.fragment,l,u.name)}),{vertex:Qx(n,s),fragment:Qx(t,l)}}const dT=`
    @in aPosition: vec2<f32>;
    @in aUV: vec2<f32>;

    @out @builtin(position) vPosition: vec4<f32>;
    @out vUV : vec2<f32>;
    @out vColor : vec4<f32>;

    {{header}}

    struct VSOutput {
        {{struct}}
    };

    @vertex
    fn main( {{in}} ) -> VSOutput {

        var worldTransformMatrix = globalUniforms.uWorldTransformMatrix;
        var modelMatrix = mat3x3<f32>(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        var position = aPosition;
        var uv = aUV;

        {{start}}
        
        vColor = vec4<f32>(1., 1., 1., 1.);

        {{main}}

        vUV = uv;

        var modelViewProjectionMatrix = globalUniforms.uProjectionMatrix * worldTransformMatrix * modelMatrix;

        vPosition =  vec4<f32>((modelViewProjectionMatrix *  vec3<f32>(position, 1.0)).xy, 0.0, 1.0);
       
        vColor *= globalUniforms.uWorldColorAlpha;

        {{end}}

        {{return}}
    };
`,pT=`
    @in vUV : vec2<f32>;
    @in vColor : vec4<f32>;
   
    {{header}}

    @fragment
    fn main(
        {{in}}
      ) -> @location(0) vec4<f32> {
        
        {{start}}

        var outColor:vec4<f32>;
      
        {{main}}
        
        var finalColor:vec4<f32> = outColor * vColor;

        {{end}}

        return finalColor;
      };
`,mT=`
    in vec2 aPosition;
    in vec2 aUV;

    out vec4 vColor;
    out vec2 vUV;

    {{header}}

    void main(void){

        mat3 worldTransformMatrix = uWorldTransformMatrix;
        mat3 modelMatrix = mat3(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        vec2 position = aPosition;
        vec2 uv = aUV;
        
        {{start}}
        
        vColor = vec4(1.);
        
        {{main}}
        
        vUV = uv;
        
        mat3 modelViewProjectionMatrix = uProjectionMatrix * worldTransformMatrix * modelMatrix;

        gl_Position = vec4((modelViewProjectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);

        vColor *= uWorldColorAlpha;

        {{end}}
    }
`,gT=`
   
    in vec4 vColor;
    in vec2 vUV;

    out vec4 finalColor;

    {{header}}

    void main(void) {
        
        {{start}}

        vec4 outColor;
      
        {{main}}
        
        finalColor = outColor * vColor;
        
        {{end}}
    }
`,yT={name:"global-uniforms-bit",vertex:{header:`
        struct GlobalUniforms {
            uProjectionMatrix:mat3x3<f32>,
            uWorldTransformMatrix:mat3x3<f32>,
            uWorldColorAlpha: vec4<f32>,
            uResolution: vec2<f32>,
        }

        @group(0) @binding(0) var<uniform> globalUniforms : GlobalUniforms;
        `}},xT={name:"global-uniforms-bit",vertex:{header:`
          uniform mat3 uProjectionMatrix;
          uniform mat3 uWorldTransformMatrix;
          uniform vec4 uWorldColorAlpha;
          uniform vec2 uResolution;
        `}};function bT({bits:n,name:t}){const r=cT({template:{fragment:pT,vertex:dT},bits:[yT,...n]});return mu.from({name:t,vertex:{source:r.vertex,entryPoint:"main"},fragment:{source:r.fragment,entryPoint:"main"}})}function vT({bits:n,name:t}){return new Rv({name:t,...hT({template:{vertex:mT,fragment:gT},bits:[xT,...n]})})}const _T={name:"color-bit",vertex:{header:`
            @in aColor: vec4<f32>;
        `,main:`
            vColor *= vec4<f32>(aColor.rgb * aColor.a, aColor.a);
        `}},wT={name:"color-bit",vertex:{header:`
            in vec4 aColor;
        `,main:`
            vColor *= vec4(aColor.rgb * aColor.a, aColor.a);
        `}},uf={};function ST(n){const t=[];if(n===1)t.push("@group(1) @binding(0) var textureSource1: texture_2d<f32>;"),t.push("@group(1) @binding(1) var textureSampler1: sampler;");else{let r=0;for(let s=0;s<n;s++)t.push(`@group(1) @binding(${r++}) var textureSource${s+1}: texture_2d<f32>;`),t.push(`@group(1) @binding(${r++}) var textureSampler${s+1}: sampler;`)}return t.join(`
`)}function AT(n){const t=[];if(n===1)t.push("outColor = textureSampleGrad(textureSource1, textureSampler1, vUV, uvDx, uvDy);");else{t.push("switch vTextureId {");for(let r=0;r<n;r++)r===n-1?t.push("  default:{"):t.push(`  case ${r}:{`),t.push(`      outColor = textureSampleGrad(textureSource${r+1}, textureSampler${r+1}, vUV, uvDx, uvDy);`),t.push("      break;}");t.push("}")}return t.join(`
`)}function TT(n){return uf[n]||(uf[n]={name:"texture-batch-bit",vertex:{header:`
                @in aTextureIdAndRound: vec2<u32>;
                @out @interpolate(flat) vTextureId : u32;
            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1)
                {
                    vPosition = vec4<f32>(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
                }
            `},fragment:{header:`
                @in @interpolate(flat) vTextureId: u32;

                ${ST(n)}
            `,main:`
                var uvDx = dpdx(vUV);
                var uvDy = dpdy(vUV);

                ${AT(n)}
            `}}),uf[n]}const cf={};function ET(n){const t=[];for(let r=0;r<n;r++)r>0&&t.push("else"),r<n-1&&t.push(`if(vTextureId < ${r}.5)`),t.push("{"),t.push(`	outColor = texture(uTextures[${r}], vUV);`),t.push("}");return t.join(`
`)}function MT(n){return cf[n]||(cf[n]={name:"texture-batch-bit",vertex:{header:`
                in vec2 aTextureIdAndRound;
                out float vTextureId;

            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1.)
                {
                    gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
                }
            `},fragment:{header:`
                in float vTextureId;

                uniform sampler2D uTextures[${n}];

            `,main:`

                ${ET(n)}
            `}}),cf[n]}const CT={name:"round-pixels-bit",vertex:{header:`
            fn roundPixels(position: vec2<f32>, targetSize: vec2<f32>) -> vec2<f32> 
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},kT={name:"round-pixels-bit",vertex:{header:`   
            vec2 roundPixels(vec2 position, vec2 targetSize)
            {       
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},Zx={};function RT(n){let t=Zx[n];if(t)return t;const r=new Int32Array(n);for(let s=0;s<n;s++)r[s]=s;return t=Zx[n]=new jv({uTextures:{value:r,type:"i32",size:n}},{isStatic:!0}),t}class zT extends Nd{constructor(t){const r=vT({name:"batch",bits:[wT,MT(t),kT]}),s=bT({name:"batch",bits:[_T,TT(t),CT]});super({glProgram:r,gpuProgram:s,resources:{batchSamplers:RT(t)}})}}let Jx=null;const Fv=class Yv extends Z2{constructor(){super(...arguments),this.geometry=new iT,this.shader=Jx||(Jx=new zT(this.maxTextures)),this.name=Yv.extension.name,this.vertexSize=6}packAttributes(t,r,s,l,u){const c=u<<16|t.roundPixels&65535,h=t.transform,d=h.a,m=h.b,g=h.c,y=h.d,v=h.tx,b=h.ty,{positions:T,uvs:E}=t,w=t.color,R=t.attributeOffset,k=R+t.attributeSize;for(let D=R;D<k;D++){const P=D*2,I=T[P],G=T[P+1];r[l++]=d*I+g*G+v,r[l++]=y*G+m*I+b,r[l++]=E[P],r[l++]=E[P+1],s[l++]=w,s[l++]=c}}packQuadAttributes(t,r,s,l,u){const c=t.texture,h=t.transform,d=h.a,m=h.b,g=h.c,y=h.d,v=h.tx,b=h.ty,T=t.bounds,E=T.maxX,w=T.minX,R=T.maxY,k=T.minY,D=c.uvs,P=t.color,I=u<<16|t.roundPixels&65535;r[l+0]=d*w+g*k+v,r[l+1]=y*k+m*w+b,r[l+2]=D.x0,r[l+3]=D.y0,s[l+4]=P,s[l+5]=I,r[l+6]=d*E+g*k+v,r[l+7]=y*k+m*E+b,r[l+8]=D.x1,r[l+9]=D.y1,s[l+10]=P,s[l+11]=I,r[l+12]=d*E+g*R+v,r[l+13]=y*R+m*E+b,r[l+14]=D.x2,r[l+15]=D.y2,s[l+16]=P,s[l+17]=I,r[l+18]=d*w+g*R+v,r[l+19]=y*R+m*w+b,r[l+20]=D.x3,r[l+21]=D.y3,s[l+22]=P,s[l+23]=I}};Fv.extension={type:[xt.Batcher],name:"default"};let OT=Fv;function BT(n,t,r,s,l,u,c,h=null){let d=0;r*=t,l*=u;const m=h.a,g=h.b,y=h.c,v=h.d,b=h.tx,T=h.ty;for(;d<c;){const E=n[r],w=n[r+1];s[l]=m*E+y*w+b,s[l+1]=g*E+v*w+T,l+=u,r+=t,d++}}function jT(n,t,r,s){let l=0;for(t*=r;l<s;)n[t]=0,n[t+1]=0,t+=r,l++}function Vv(n,t,r,s,l){const u=t.a,c=t.b,h=t.c,d=t.d,m=t.tx,g=t.ty;r||(r=0),s||(s=2),l||(l=n.length/s-r);let y=r*s;for(let v=0;v<l;v++){const b=n[y],T=n[y+1];n[y]=u*b+h*T+m,n[y+1]=c*b+d*T+g,y+=s}}const DT=new Bt;class Xv{constructor(){this.packAsQuad=!1,this.batcherName="default",this.topology="triangle-list",this.applyTransform=!0,this.roundPixels=0,this._batcher=null,this._batch=null}get uvs(){return this.geometryData.uvs}get positions(){return this.geometryData.vertices}get indices(){return this.geometryData.indices}get blendMode(){return this.applyTransform?this.renderable.groupBlendMode:"normal"}get color(){const t=this.baseColor,r=t>>16|t&65280|(t&255)<<16,s=this.renderable;return s?uv(r,s.groupColor)+(this.alpha*s.groupAlpha*255<<24):r+(this.alpha*255<<24)}get transform(){return this.renderable?.groupTransform||DT}copyTo(t){t.indexOffset=this.indexOffset,t.indexSize=this.indexSize,t.attributeOffset=this.attributeOffset,t.attributeSize=this.attributeSize,t.baseColor=this.baseColor,t.alpha=this.alpha,t.texture=this.texture,t.geometryData=this.geometryData,t.topology=this.topology}reset(){this.applyTransform=!0,this.renderable=null,this.topology="triangle-list"}}const al={extension:{type:xt.ShapeBuilder,name:"circle"},build(n,t){let r,s,l,u,c,h;if(n.type==="circle"){const P=n;r=P.x,s=P.y,c=h=P.radius,l=u=0}else if(n.type==="ellipse"){const P=n;r=P.x,s=P.y,c=P.halfWidth,h=P.halfHeight,l=u=0}else{const P=n,I=P.width/2,G=P.height/2;r=P.x+I,s=P.y+G,c=h=Math.max(0,Math.min(P.radius,Math.min(I,G))),l=I-c,u=G-h}if(!(c>=0&&h>=0&&l>=0&&u>=0))return t;const d=Math.ceil(2.3*Math.sqrt(c+h)),m=d*8+(l?4:0)+(u?4:0);if(m===0)return t;if(d===0)return t[0]=t[6]=r+l,t[1]=t[3]=s+u,t[2]=t[4]=r-l,t[5]=t[7]=s-u,t;let g=0,y=d*4+(l?2:0)+2,v=y,b=m,T=l+c,E=u,w=r+T,R=r-T,k=s+E;if(t[g++]=w,t[g++]=k,t[--y]=k,t[--y]=R,u){const P=s-E;t[v++]=R,t[v++]=P,t[--b]=P,t[--b]=w}for(let P=1;P<d;P++){const I=Math.PI/2*(P/d),G=l+Math.cos(I)*c,V=u+Math.sin(I)*h,et=r+G,W=r-G,$=s+V,rt=s-V;t[g++]=et,t[g++]=$,t[--y]=$,t[--y]=W,t[v++]=W,t[v++]=rt,t[--b]=rt,t[--b]=et}T=l,E=u+h,w=r+T,R=r-T,k=s+E;const D=s-E;return t[g++]=w,t[g++]=k,t[--b]=D,t[--b]=w,l&&(t[g++]=R,t[g++]=k,t[--b]=D,t[--b]=R),t},triangulate(n,t,r,s,l,u){if(n.length===0)return;let c=0,h=0;for(let g=0;g<n.length;g+=2)c+=n[g],h+=n[g+1];c/=n.length/2,h/=n.length/2;let d=s;t[d*r]=c,t[d*r+1]=h;const m=d++;for(let g=0;g<n.length;g+=2)t[d*r]=n[g],t[d*r+1]=n[g+1],g>0&&(l[u++]=d,l[u++]=m,l[u++]=d-1),d++;l[u++]=m+1,l[u++]=m,l[u++]=d-1}},NT={...al,extension:{...al.extension,name:"ellipse"}},HT={...al,extension:{...al.extension,name:"roundedRectangle"}},Wv=1e-4,tb=1e-4;function PT(n){const t=n.length;if(t<6)return 1;let r=0;for(let s=0,l=n[t-2],u=n[t-1];s<t;s+=2){const c=n[s],h=n[s+1];r+=(c-l)*(h+u),l=c,u=h}return r<0?-1:1}function eb(n,t,r,s,l,u,c,h){const d=n-r*l,m=t-s*l,g=n+r*u,y=t+s*u;let v,b;c?(v=s,b=-r):(v=-s,b=r);const T=d+v,E=m+b,w=g+v,R=y+b;return h.push(T,E),h.push(w,R),2}function yi(n,t,r,s,l,u,c,h){const d=r-n,m=s-t;let g=Math.atan2(d,m),y=Math.atan2(l-n,u-t);h&&g<y?g+=Math.PI*2:!h&&g>y&&(y+=Math.PI*2);let v=g;const b=y-g,T=Math.abs(b),E=Math.sqrt(d*d+m*m),w=(15*T*Math.sqrt(E)/Math.PI>>0)+1,R=b/w;if(v+=R,h){c.push(n,t),c.push(r,s);for(let k=1,D=v;k<w;k++,D+=R)c.push(n,t),c.push(n+Math.sin(D)*E,t+Math.cos(D)*E);c.push(n,t),c.push(l,u)}else{c.push(r,s),c.push(n,t);for(let k=1,D=v;k<w;k++,D+=R)c.push(n+Math.sin(D)*E,t+Math.cos(D)*E),c.push(n,t);c.push(l,u),c.push(n,t)}return w*2}function UT(n,t,r,s,l,u){const c=Wv;if(n.length===0)return;const h=t;let d=h.alignment;if(t.alignment!==.5){let B=PT(n);d=(d-.5)*B+.5}const m=new Be(n[0],n[1]),g=new Be(n[n.length-2],n[n.length-1]),y=s,v=Math.abs(m.x-g.x)<c&&Math.abs(m.y-g.y)<c;if(y){n=n.slice(),v&&(n.pop(),n.pop(),g.set(n[n.length-2],n[n.length-1]));const B=(m.x+g.x)*.5,_=(g.y+m.y)*.5;n.unshift(B,_),n.push(B,_)}const b=l,T=n.length/2;let E=n.length;const w=b.length/2,R=h.width/2,k=R*R,D=h.miterLimit*h.miterLimit;let P=n[0],I=n[1],G=n[2],V=n[3],et=0,W=0,$=-(I-V),rt=P-G,it=0,gt=0,bt=Math.sqrt($*$+rt*rt);$/=bt,rt/=bt,$*=R,rt*=R;const jt=d,S=(1-jt)*2,z=jt*2;y||(h.cap==="round"?E+=yi(P-$*(S-z)*.5,I-rt*(S-z)*.5,P-$*S,I-rt*S,P+$*z,I+rt*z,b,!0)+2:h.cap==="square"&&(E+=eb(P,I,$,rt,S,z,!0,b))),b.push(P-$*S,I-rt*S),b.push(P+$*z,I+rt*z);for(let B=1;B<T-1;++B){P=n[(B-1)*2],I=n[(B-1)*2+1],G=n[B*2],V=n[B*2+1],et=n[(B+1)*2],W=n[(B+1)*2+1],$=-(I-V),rt=P-G,bt=Math.sqrt($*$+rt*rt),$/=bt,rt/=bt,$*=R,rt*=R,it=-(V-W),gt=G-et,bt=Math.sqrt(it*it+gt*gt),it/=bt,gt/=bt,it*=R,gt*=R;const _=G-P,C=I-V,N=G-et,L=W-V,F=_*N+C*L,J=C*N-L*_,nt=J<0;if(Math.abs(J)<.001*Math.abs(F)){b.push(G-$*S,V-rt*S),b.push(G+$*z,V+rt*z),F>=0&&(h.join==="round"?E+=yi(G,V,G-$*S,V-rt*S,G-it*S,V-gt*S,b,!1)+4:E+=2,b.push(G-it*z,V-gt*z),b.push(G+it*S,V+gt*S));continue}const ct=(-$+P)*(-rt+V)-(-$+G)*(-rt+I),st=(-it+et)*(-gt+V)-(-it+G)*(-gt+W),mt=(_*st-N*ct)/J,ot=(L*ct-C*st)/J,ne=(mt-G)*(mt-G)+(ot-V)*(ot-V),le=G+(mt-G)*S,oe=V+(ot-V)*S,De=G-(mt-G)*z,_t=V-(ot-V)*z,At=Math.min(_*_+C*C,N*N+L*L),Ri=nt?S:z,zi=At+Ri*Ri*k;ne<=zi?h.join==="bevel"||ne/k>D?(nt?(b.push(le,oe),b.push(G+$*z,V+rt*z),b.push(le,oe),b.push(G+it*z,V+gt*z)):(b.push(G-$*S,V-rt*S),b.push(De,_t),b.push(G-it*S,V-gt*S),b.push(De,_t)),E+=2):h.join==="round"?nt?(b.push(le,oe),b.push(G+$*z,V+rt*z),E+=yi(G,V,G+$*z,V+rt*z,G+it*z,V+gt*z,b,!0)+4,b.push(le,oe),b.push(G+it*z,V+gt*z)):(b.push(G-$*S,V-rt*S),b.push(De,_t),E+=yi(G,V,G-$*S,V-rt*S,G-it*S,V-gt*S,b,!1)+4,b.push(G-it*S,V-gt*S),b.push(De,_t)):(b.push(le,oe),b.push(De,_t)):(b.push(G-$*S,V-rt*S),b.push(G+$*z,V+rt*z),h.join==="round"?nt?E+=yi(G,V,G+$*z,V+rt*z,G+it*z,V+gt*z,b,!0)+2:E+=yi(G,V,G-$*S,V-rt*S,G-it*S,V-gt*S,b,!1)+2:h.join==="miter"&&ne/k<=D&&(nt?(b.push(De,_t),b.push(De,_t)):(b.push(le,oe),b.push(le,oe)),E+=2),b.push(G-it*S,V-gt*S),b.push(G+it*z,V+gt*z),E+=2)}P=n[(T-2)*2],I=n[(T-2)*2+1],G=n[(T-1)*2],V=n[(T-1)*2+1],$=-(I-V),rt=P-G,bt=Math.sqrt($*$+rt*rt),$/=bt,rt/=bt,$*=R,rt*=R,b.push(G-$*S,V-rt*S),b.push(G+$*z,V+rt*z),y||(h.cap==="round"?E+=yi(G-$*(S-z)*.5,V-rt*(S-z)*.5,G-$*S,V-rt*S,G+$*z,V+rt*z,b,!1)+2:h.cap==="square"&&(E+=eb(G,V,$,rt,S,z,!1,b)));const j=tb*tb;for(let B=w;B<E+w-2;++B)P=b[B*2],I=b[B*2+1],G=b[(B+1)*2],V=b[(B+1)*2+1],et=b[(B+2)*2],W=b[(B+2)*2+1],!(Math.abs(P*(V-W)+G*(W-I)+et*(I-V))<j)&&u.push(B,B+1,B+2)}function GT(n,t,r,s){const l=Wv;if(n.length===0)return;const u=n[0],c=n[1],h=n[n.length-2],d=n[n.length-1],m=t||Math.abs(u-h)<l&&Math.abs(c-d)<l,g=r,y=n.length/2,v=g.length/2;for(let b=0;b<y;b++)g.push(n[b*2]),g.push(n[b*2+1]);for(let b=0;b<y-1;b++)s.push(v+b,v+b+1);m&&s.push(v+y-1,v)}function $v(n,t,r,s,l,u,c){const h=H2(n,t,2);if(!h)return;for(let m=0;m<h.length;m+=3)u[c++]=h[m]+l,u[c++]=h[m+1]+l,u[c++]=h[m+2]+l;let d=l*s;for(let m=0;m<n.length;m+=2)r[d]=n[m],r[d+1]=n[m+1],d+=s}const LT=[],IT={extension:{type:xt.ShapeBuilder,name:"polygon"},build(n,t){for(let r=0;r<n.points.length;r++)t[r]=n.points[r];return t},triangulate(n,t,r,s,l,u){$v(n,LT,t,r,s,l,u)}},qT={extension:{type:xt.ShapeBuilder,name:"rectangle"},build(n,t){const r=n,s=r.x,l=r.y,u=r.width,c=r.height;return u>=0&&c>=0&&(t[0]=s,t[1]=l,t[2]=s+u,t[3]=l,t[4]=s+u,t[5]=l+c,t[6]=s,t[7]=l+c),t},triangulate(n,t,r,s,l,u){let c=0;s*=r,t[s+c]=n[0],t[s+c+1]=n[1],c+=r,t[s+c]=n[2],t[s+c+1]=n[3],c+=r,t[s+c]=n[6],t[s+c+1]=n[7],c+=r,t[s+c]=n[4],t[s+c+1]=n[5],c+=r;const h=s/r;l[u++]=h,l[u++]=h+1,l[u++]=h+2,l[u++]=h+1,l[u++]=h+3,l[u++]=h+2}},FT={extension:{type:xt.ShapeBuilder,name:"triangle"},build(n,t){return t[0]=n.x,t[1]=n.y,t[2]=n.x2,t[3]=n.y2,t[4]=n.x3,t[5]=n.y3,t},triangulate(n,t,r,s,l,u){let c=0;s*=r,t[s+c]=n[0],t[s+c+1]=n[1],c+=r,t[s+c]=n[2],t[s+c+1]=n[3],c+=r,t[s+c]=n[4],t[s+c+1]=n[5];const h=s/r;l[u++]=h,l[u++]=h+1,l[u++]=h+2}},yu={};xn.handleByMap(xt.ShapeBuilder,yu);xn.add(qT,IT,FT,al,NT,HT);const YT=new fe;function VT(n,t){const{geometryData:r,batches:s}=t;s.length=0,r.indices.length=0,r.vertices.length=0,r.uvs.length=0;for(let l=0;l<n.instructions.length;l++){const u=n.instructions[l];if(u.action==="texture")XT(u.data,s,r);else if(u.action==="fill"||u.action==="stroke"){const c=u.action==="stroke",h=u.data.path.shapePath,d=u.data.style,m=u.data.hole;c&&m&&nb(m.shapePath,d,null,!0,s,r),nb(h,d,m,c,s,r)}}}function XT(n,t,r){const{vertices:s,uvs:l,indices:u}=r,c=u.length,h=s.length/2,d=[],m=yu.rectangle,g=YT,y=n.image;g.x=n.dx,g.y=n.dy,g.width=n.dw,g.height=n.dh;const v=n.transform;m.build(g,d),v&&Vv(d,v),m.triangulate(d,s,2,h,u,c);const b=y.uvs;l.push(b.x0,b.y0,b.x1,b.y1,b.x3,b.y3,b.x2,b.y2);const T=pr.get(Xv);T.indexOffset=c,T.indexSize=u.length-c,T.attributeOffset=h,T.attributeSize=s.length/2-h,T.baseColor=n.style,T.alpha=n.alpha,T.texture=y,T.geometryData=r,t.push(T)}function nb(n,t,r,s,l,u){const{vertices:c,uvs:h,indices:d}=u,m=n.shapePrimitives.length-1;n.shapePrimitives.forEach(({shape:g,transform:y},v)=>{const b=d.length,T=c.length/2,E=[],w=yu[g.type];let R="triangle-list";if(w.build(g,E),y&&Vv(E,y),s){const I=g.closePath??!0,G=t;G.pixelLine?(GT(E,I,c,d),R="line-list"):UT(E,G,!1,I,c,d)}else if(r&&m===v){m!==0&&console.warn("[Pixi Graphics] only the last shape have be cut out");const I=[],G=E.slice();WT(r.shapePath).forEach(et=>{I.push(G.length/2),G.push(...et)}),$v(G,I,c,2,T,d,b)}else w.triangulate(E,c,2,T,d,b);const k=h.length/2,D=t.texture;if(D!==Rt.WHITE){const I=t.matrix;I&&(y&&I.append(y.clone().invert()),BT(c,2,T,h,k,2,c.length/2-T,I))}else jT(h,k,2,c.length/2-T);const P=pr.get(Xv);P.indexOffset=b,P.indexSize=d.length-b,P.attributeOffset=T,P.attributeSize=c.length/2-T,P.baseColor=t.color,P.alpha=t.alpha,P.texture=D,P.geometryData=u,P.topology=R,l.push(P)})}function WT(n){if(!n)return[];const t=n.shapePrimitives,r=[];for(let s=0;s<t.length;s++){const l=t[s].shape,u=[];yu[l.type].build(l,u),r.push(u)}return r}class $T{constructor(){this.batches=[],this.geometryData={vertices:[],uvs:[],indices:[]}}}class KT{constructor(){this.batcher=new OT,this.instructions=new dv}init(){this.instructions.reset()}get geometry(){return he(AA,"GraphicsContextRenderData#geometry is deprecated, please use batcher.geometry instead."),this.batcher.geometry}}const Gd=class hd{constructor(t){this._gpuContextHash={},this._graphicsDataContextHash=Object.create(null),t.renderableGC.addManagedHash(this,"_gpuContextHash"),t.renderableGC.addManagedHash(this,"_graphicsDataContextHash")}init(t){hd.defaultOptions.bezierSmoothness=t?.bezierSmoothness??hd.defaultOptions.bezierSmoothness}getContextRenderData(t){return this._graphicsDataContextHash[t.uid]||this._initContextRenderData(t)}updateGpuContext(t){let r=this._gpuContextHash[t.uid]||this._initContext(t);if(t.dirty){r?this._cleanGraphicsContextData(t):r=this._initContext(t),VT(t,r);const s=t.batchMode;t.customShader||s==="no-batch"?r.isBatchable=!1:s==="auto"&&(r.isBatchable=r.geometryData.vertices.length<400),t.dirty=!1}return r}getGpuContext(t){return this._gpuContextHash[t.uid]||this._initContext(t)}_initContextRenderData(t){const r=pr.get(KT),{batches:s,geometryData:l}=this._gpuContextHash[t.uid],u=l.vertices.length,c=l.indices.length;for(let g=0;g<s.length;g++)s[g].applyTransform=!1;const h=r.batcher;h.ensureAttributeBuffer(u),h.ensureIndexBuffer(c),h.begin();for(let g=0;g<s.length;g++){const y=s[g];h.add(y)}h.finish(r.instructions);const d=h.geometry;d.indexBuffer.setDataWithSize(h.indexBuffer,h.indexSize,!0),d.buffers[0].setDataWithSize(h.attributeBuffer.float32View,h.attributeSize,!0);const m=h.batches;for(let g=0;g<m.length;g++){const y=m[g];y.bindGroup=V2(y.textures.textures,y.textures.count)}return this._graphicsDataContextHash[t.uid]=r,r}_initContext(t){const r=new $T;return r.context=t,this._gpuContextHash[t.uid]=r,t.on("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[t.uid]}onGraphicsContextDestroy(t){this._cleanGraphicsContextData(t),t.off("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[t.uid]=null}_cleanGraphicsContextData(t){const r=this._gpuContextHash[t.uid];r.isBatchable||this._graphicsDataContextHash[t.uid]&&(pr.return(this.getContextRenderData(t)),this._graphicsDataContextHash[t.uid]=null),r.batches&&r.batches.forEach(s=>{pr.return(s)})}destroy(){for(const t in this._gpuContextHash)this._gpuContextHash[t]&&this.onGraphicsContextDestroy(this._gpuContextHash[t].context)}};Gd.extension={type:[xt.WebGLSystem,xt.WebGPUSystem,xt.CanvasSystem],name:"graphicsContext"};Gd.defaultOptions={bezierSmoothness:.5};let Kv=Gd;const QT=8,Lo=11920929e-14,ZT=1;function Qv(n,t,r,s,l,u,c,h,d,m){const y=Math.min(.99,Math.max(0,m??Kv.defaultOptions.bezierSmoothness));let v=(ZT-y)/1;return v*=v,JT(t,r,s,l,u,c,h,d,n,v),n}function JT(n,t,r,s,l,u,c,h,d,m){fd(n,t,r,s,l,u,c,h,d,m,0),d.push(c,h)}function fd(n,t,r,s,l,u,c,h,d,m,g){if(g>QT)return;const y=(n+r)/2,v=(t+s)/2,b=(r+l)/2,T=(s+u)/2,E=(l+c)/2,w=(u+h)/2,R=(y+b)/2,k=(v+T)/2,D=(b+E)/2,P=(T+w)/2,I=(R+D)/2,G=(k+P)/2;if(g>0){let V=c-n,et=h-t;const W=Math.abs((r-c)*et-(s-h)*V),$=Math.abs((l-c)*et-(u-h)*V);if(W>Lo&&$>Lo){if((W+$)*(W+$)<=m*(V*V+et*et)){d.push(I,G);return}}else if(W>Lo){if(W*W<=m*(V*V+et*et)){d.push(I,G);return}}else if($>Lo){if($*$<=m*(V*V+et*et)){d.push(I,G);return}}else if(V=I-(n+c)/2,et=G-(t+h)/2,V*V+et*et<=m){d.push(I,G);return}}fd(n,t,y,v,R,k,I,G,d,m,g+1),fd(I,G,D,P,E,w,c,h,d,m,g+1)}const tE=8,eE=11920929e-14,nE=1;function rE(n,t,r,s,l,u,c,h){const m=Math.min(.99,Math.max(0,h??Kv.defaultOptions.bezierSmoothness));let g=(nE-m)/1;return g*=g,iE(t,r,s,l,u,c,n,g),n}function iE(n,t,r,s,l,u,c,h){dd(c,n,t,r,s,l,u,h,0),c.push(l,u)}function dd(n,t,r,s,l,u,c,h,d){if(d>tE)return;const m=(t+s)/2,g=(r+l)/2,y=(s+u)/2,v=(l+c)/2,b=(m+y)/2,T=(g+v)/2;let E=u-t,w=c-r;const R=Math.abs((s-u)*w-(l-c)*E);if(R>eE){if(R*R<=h*(E*E+w*w)){n.push(b,T);return}}else if(E=b-(t+u)/2,w=T-(r+c)/2,E*E+w*w<=h){n.push(b,T);return}dd(n,t,r,m,g,b,T,h,d+1),dd(n,b,T,y,v,u,c,h,d+1)}function Zv(n,t,r,s,l,u,c,h){let d=Math.abs(l-u);(!c&&l>u||c&&u>l)&&(d=2*Math.PI-d),h||(h=Math.max(6,Math.floor(6*Math.pow(s,1/3)*(d/Math.PI)))),h=Math.max(h,3);let m=d/h,g=l;m*=c?-1:1;for(let y=0;y<h+1;y++){const v=Math.cos(g),b=Math.sin(g),T=t+v*s,E=r+b*s;n.push(T,E),g+=m}}function sE(n,t,r,s,l,u){const c=n[n.length-2],d=n[n.length-1]-r,m=c-t,g=l-r,y=s-t,v=Math.abs(d*y-m*g);if(v<1e-8||u===0){(n[n.length-2]!==t||n[n.length-1]!==r)&&n.push(t,r);return}const b=d*d+m*m,T=g*g+y*y,E=d*g+m*y,w=u*Math.sqrt(b)/v,R=u*Math.sqrt(T)/v,k=w*E/b,D=R*E/T,P=w*y+R*m,I=w*g+R*d,G=m*(R+k),V=d*(R+k),et=y*(w+D),W=g*(w+D),$=Math.atan2(V-I,G-P),rt=Math.atan2(W-I,et-P);Zv(n,P+t,I+r,u,$,rt,m*g>y*d)}const nl=Math.PI*2,hf={centerX:0,centerY:0,ang1:0,ang2:0},ff=({x:n,y:t},r,s,l,u,c,h,d)=>{n*=r,t*=s;const m=l*n-u*t,g=u*n+l*t;return d.x=m+c,d.y=g+h,d};function aE(n,t){const r=t===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(t/4),s=t===1.5707963267948966?.551915024494:r,l=Math.cos(n),u=Math.sin(n),c=Math.cos(n+t),h=Math.sin(n+t);return[{x:l-u*s,y:u+l*s},{x:c+h*s,y:h-c*s},{x:c,y:h}]}const rb=(n,t,r,s)=>{const l=n*s-t*r<0?-1:1;let u=n*r+t*s;return u>1&&(u=1),u<-1&&(u=-1),l*Math.acos(u)},lE=(n,t,r,s,l,u,c,h,d,m,g,y,v)=>{const b=Math.pow(l,2),T=Math.pow(u,2),E=Math.pow(g,2),w=Math.pow(y,2);let R=b*T-b*w-T*E;R<0&&(R=0),R/=b*w+T*E,R=Math.sqrt(R)*(c===h?-1:1);const k=R*l/u*y,D=R*-u/l*g,P=m*k-d*D+(n+r)/2,I=d*k+m*D+(t+s)/2,G=(g-k)/l,V=(y-D)/u,et=(-g-k)/l,W=(-y-D)/u,$=rb(1,0,G,V);let rt=rb(G,V,et,W);h===0&&rt>0&&(rt-=nl),h===1&&rt<0&&(rt+=nl),v.centerX=P,v.centerY=I,v.ang1=$,v.ang2=rt};function oE(n,t,r,s,l,u,c,h=0,d=0,m=0){if(u===0||c===0)return;const g=Math.sin(h*nl/360),y=Math.cos(h*nl/360),v=y*(t-s)/2+g*(r-l)/2,b=-g*(t-s)/2+y*(r-l)/2;if(v===0&&b===0)return;u=Math.abs(u),c=Math.abs(c);const T=Math.pow(v,2)/Math.pow(u,2)+Math.pow(b,2)/Math.pow(c,2);T>1&&(u*=Math.sqrt(T),c*=Math.sqrt(T)),lE(t,r,s,l,u,c,d,m,g,y,v,b,hf);let{ang1:E,ang2:w}=hf;const{centerX:R,centerY:k}=hf;let D=Math.abs(w)/(nl/4);Math.abs(1-D)<1e-7&&(D=1);const P=Math.max(Math.ceil(D),1);w/=P;let I=n[n.length-2],G=n[n.length-1];const V={x:0,y:0};for(let et=0;et<P;et++){const W=aE(E,w),{x:$,y:rt}=ff(W[0],u,c,y,g,R,k,V),{x:it,y:gt}=ff(W[1],u,c,y,g,R,k,V),{x:bt,y:jt}=ff(W[2],u,c,y,g,R,k,V);Qv(n,I,G,$,rt,it,gt,bt,jt),I=bt,G=jt,E+=w}}function uE(n,t,r){const s=(c,h)=>{const d=h.x-c.x,m=h.y-c.y,g=Math.sqrt(d*d+m*m),y=d/g,v=m/g;return{len:g,nx:y,ny:v}},l=(c,h)=>{c===0?n.moveTo(h.x,h.y):n.lineTo(h.x,h.y)};let u=t[t.length-1];for(let c=0;c<t.length;c++){const h=t[c%t.length],d=h.radius??r;if(d<=0){l(c,h),u=h;continue}const m=t[(c+1)%t.length],g=s(h,u),y=s(h,m);if(g.len<1e-4||y.len<1e-4){l(c,h),u=h;continue}let v=Math.asin(g.nx*y.ny-g.ny*y.nx),b=1,T=!1;g.nx*y.nx-g.ny*-y.ny<0?v<0?v=Math.PI+v:(v=Math.PI-v,b=-1,T=!0):v>0&&(b=-1,T=!0);const E=v/2;let w,R=Math.abs(Math.cos(E)*d/Math.sin(E));R>Math.min(g.len/2,y.len/2)?(R=Math.min(g.len/2,y.len/2),w=Math.abs(R*Math.sin(E)/Math.cos(E))):w=d;const k=h.x+y.nx*R+-y.ny*w*b,D=h.y+y.ny*R+y.nx*w*b,P=Math.atan2(g.ny,g.nx)+Math.PI/2*b,I=Math.atan2(y.ny,y.nx)-Math.PI/2*b;c===0&&n.moveTo(k+Math.cos(P)*w,D+Math.sin(P)*w),n.arc(k,D,w,P,I,T),u=h}}function cE(n,t,r,s){const l=(h,d)=>Math.sqrt((h.x-d.x)**2+(h.y-d.y)**2),u=(h,d,m)=>({x:h.x+(d.x-h.x)*m,y:h.y+(d.y-h.y)*m}),c=t.length;for(let h=0;h<c;h++){const d=t[(h+1)%c],m=d.radius??r;if(m<=0){h===0?n.moveTo(d.x,d.y):n.lineTo(d.x,d.y);continue}const g=t[h],y=t[(h+2)%c],v=l(g,d);let b;if(v<1e-4)b=d;else{const w=Math.min(v/2,m);b=u(d,g,w/v)}const T=l(y,d);let E;if(T<1e-4)E=d;else{const w=Math.min(T/2,m);E=u(d,y,w/T)}h===0?n.moveTo(b.x,b.y):n.lineTo(b.x,b.y),n.quadraticCurveTo(d.x,d.y,E.x,E.y,s)}}const hE=new fe;class fE{constructor(t){this.shapePrimitives=[],this._currentPoly=null,this._bounds=new Fn,this._graphicsPath2D=t}moveTo(t,r){return this.startPoly(t,r),this}lineTo(t,r){this._ensurePoly();const s=this._currentPoly.points,l=s[s.length-2],u=s[s.length-1];return(l!==t||u!==r)&&s.push(t,r),this}arc(t,r,s,l,u,c){this._ensurePoly(!1);const h=this._currentPoly.points;return Zv(h,t,r,s,l,u,c),this}arcTo(t,r,s,l,u){this._ensurePoly();const c=this._currentPoly.points;return sE(c,t,r,s,l,u),this}arcToSvg(t,r,s,l,u,c,h){const d=this._currentPoly.points;return oE(d,this._currentPoly.lastX,this._currentPoly.lastY,c,h,t,r,s,l,u),this}bezierCurveTo(t,r,s,l,u,c,h){this._ensurePoly();const d=this._currentPoly;return Qv(this._currentPoly.points,d.lastX,d.lastY,t,r,s,l,u,c,h),this}quadraticCurveTo(t,r,s,l,u){this._ensurePoly();const c=this._currentPoly;return rE(this._currentPoly.points,c.lastX,c.lastY,t,r,s,l,u),this}closePath(){return this.endPoly(!0),this}addPath(t,r){this.endPoly(),r&&!r.isIdentity()&&(t=t.clone(!0),t.transform(r));for(let s=0;s<t.instructions.length;s++){const l=t.instructions[s];this[l.action](...l.data)}return this}finish(t=!1){this.endPoly(t)}rect(t,r,s,l,u){return this.drawShape(new fe(t,r,s,l),u),this}circle(t,r,s,l){return this.drawShape(new Hd(t,r,s),l),this}poly(t,r,s){const l=new el(t);return l.closePath=r,this.drawShape(l,s),this}regularPoly(t,r,s,l,u=0,c){l=Math.max(l|0,3);const h=-1*Math.PI/2+u,d=Math.PI*2/l,m=[];for(let g=0;g<l;g++){const y=h-g*d;m.push(t+s*Math.cos(y),r+s*Math.sin(y))}return this.poly(m,!0,c),this}roundPoly(t,r,s,l,u,c=0,h){if(l=Math.max(l|0,3),u<=0)return this.regularPoly(t,r,s,l,c);const d=s*Math.sin(Math.PI/l)-.001;u=Math.min(u,d);const m=-1*Math.PI/2+c,g=Math.PI*2/l,y=(l-2)*Math.PI/l/2;for(let v=0;v<l;v++){const b=v*g+m,T=t+s*Math.cos(b),E=r+s*Math.sin(b),w=b+Math.PI+y,R=b-Math.PI-y,k=T+u*Math.cos(w),D=E+u*Math.sin(w),P=T+u*Math.cos(R),I=E+u*Math.sin(R);v===0?this.moveTo(k,D):this.lineTo(k,D),this.quadraticCurveTo(T,E,P,I,h)}return this.closePath()}roundShape(t,r,s=!1,l){return t.length<3?this:(s?cE(this,t,r,l):uE(this,t,r),this.closePath())}filletRect(t,r,s,l,u){if(u===0)return this.rect(t,r,s,l);const c=Math.min(s,l)/2,h=Math.min(c,Math.max(-c,u)),d=t+s,m=r+l,g=h<0?-h:0,y=Math.abs(h);return this.moveTo(t,r+y).arcTo(t+g,r+g,t+y,r,y).lineTo(d-y,r).arcTo(d-g,r+g,d,r+y,y).lineTo(d,m-y).arcTo(d-g,m-g,t+s-y,m,y).lineTo(t+y,m).arcTo(t+g,m-g,t,m-y,y).closePath()}chamferRect(t,r,s,l,u,c){if(u<=0)return this.rect(t,r,s,l);const h=Math.min(u,Math.min(s,l)/2),d=t+s,m=r+l,g=[t+h,r,d-h,r,d,r+h,d,m-h,d-h,m,t+h,m,t,m-h,t,r+h];for(let y=g.length-1;y>=2;y-=2)g[y]===g[y-2]&&g[y-1]===g[y-3]&&g.splice(y-1,2);return this.poly(g,!0,c)}ellipse(t,r,s,l,u){return this.drawShape(new Pd(t,r,s,l),u),this}roundRect(t,r,s,l,u,c){return this.drawShape(new Ud(t,r,s,l,u),c),this}drawShape(t,r){return this.endPoly(),this.shapePrimitives.push({shape:t,transform:r}),this}startPoly(t,r){let s=this._currentPoly;return s&&this.endPoly(),s=new el,s.points.push(t,r),this._currentPoly=s,this}endPoly(t=!1){const r=this._currentPoly;return r&&r.points.length>2&&(r.closePath=t,this.shapePrimitives.push({shape:r})),this._currentPoly=null,this}_ensurePoly(t=!0){if(!this._currentPoly&&(this._currentPoly=new el,t)){const r=this.shapePrimitives[this.shapePrimitives.length-1];if(r){let s=r.shape.x,l=r.shape.y;if(r.transform&&!r.transform.isIdentity()){const u=r.transform,c=s;s=u.a*s+u.c*l+u.tx,l=u.b*c+u.d*l+u.ty}this._currentPoly.points.push(s,l)}else this._currentPoly.points.push(0,0)}}buildPath(){const t=this._graphicsPath2D;this.shapePrimitives.length=0,this._currentPoly=null;for(let r=0;r<t.instructions.length;r++){const s=t.instructions[r];this[s.action](...s.data)}this.finish()}get bounds(){const t=this._bounds;t.clear();const r=this.shapePrimitives;for(let s=0;s<r.length;s++){const l=r[s],u=l.shape.getBounds(hE);l.transform?t.addRect(u,l.transform):t.addRect(u)}return t}}class Es{constructor(t){this.instructions=[],this.uid=de("graphicsPath"),this._dirty=!0,typeof t=="string"?L2(t,this):this.instructions=t?.slice()??[]}get shapePath(){return this._shapePath||(this._shapePath=new fE(this)),this._dirty&&(this._dirty=!1,this._shapePath.buildPath()),this._shapePath}addPath(t,r){return t=t.clone(),this.instructions.push({action:"addPath",data:[t,r]}),this._dirty=!0,this}arc(...t){return this.instructions.push({action:"arc",data:t}),this._dirty=!0,this}arcTo(...t){return this.instructions.push({action:"arcTo",data:t}),this._dirty=!0,this}arcToSvg(...t){return this.instructions.push({action:"arcToSvg",data:t}),this._dirty=!0,this}bezierCurveTo(...t){return this.instructions.push({action:"bezierCurveTo",data:t}),this._dirty=!0,this}bezierCurveToShort(t,r,s,l,u){const c=this.instructions[this.instructions.length-1],h=this.getLastPoint(Be.shared);let d=0,m=0;if(!c||c.action!=="bezierCurveTo")d=h.x,m=h.y;else{d=c.data[2],m=c.data[3];const g=h.x,y=h.y;d=g+(g-d),m=y+(y-m)}return this.instructions.push({action:"bezierCurveTo",data:[d,m,t,r,s,l,u]}),this._dirty=!0,this}closePath(){return this.instructions.push({action:"closePath",data:[]}),this._dirty=!0,this}ellipse(...t){return this.instructions.push({action:"ellipse",data:t}),this._dirty=!0,this}lineTo(...t){return this.instructions.push({action:"lineTo",data:t}),this._dirty=!0,this}moveTo(...t){return this.instructions.push({action:"moveTo",data:t}),this}quadraticCurveTo(...t){return this.instructions.push({action:"quadraticCurveTo",data:t}),this._dirty=!0,this}quadraticCurveToShort(t,r,s){const l=this.instructions[this.instructions.length-1],u=this.getLastPoint(Be.shared);let c=0,h=0;if(!l||l.action!=="quadraticCurveTo")c=u.x,h=u.y;else{c=l.data[0],h=l.data[1];const d=u.x,m=u.y;c=d+(d-c),h=m+(m-h)}return this.instructions.push({action:"quadraticCurveTo",data:[c,h,t,r,s]}),this._dirty=!0,this}rect(t,r,s,l,u){return this.instructions.push({action:"rect",data:[t,r,s,l,u]}),this._dirty=!0,this}circle(t,r,s,l){return this.instructions.push({action:"circle",data:[t,r,s,l]}),this._dirty=!0,this}roundRect(...t){return this.instructions.push({action:"roundRect",data:t}),this._dirty=!0,this}poly(...t){return this.instructions.push({action:"poly",data:t}),this._dirty=!0,this}regularPoly(...t){return this.instructions.push({action:"regularPoly",data:t}),this._dirty=!0,this}roundPoly(...t){return this.instructions.push({action:"roundPoly",data:t}),this._dirty=!0,this}roundShape(...t){return this.instructions.push({action:"roundShape",data:t}),this._dirty=!0,this}filletRect(...t){return this.instructions.push({action:"filletRect",data:t}),this._dirty=!0,this}chamferRect(...t){return this.instructions.push({action:"chamferRect",data:t}),this._dirty=!0,this}star(t,r,s,l,u,c,h){u||(u=l/2);const d=-1*Math.PI/2+c,m=s*2,g=Math.PI*2/m,y=[];for(let v=0;v<m;v++){const b=v%2?u:l,T=v*g+d;y.push(t+b*Math.cos(T),r+b*Math.sin(T))}return this.poly(y,!0,h),this}clone(t=!1){const r=new Es;if(!t)r.instructions=this.instructions.slice();else for(let s=0;s<this.instructions.length;s++){const l=this.instructions[s];r.instructions.push({action:l.action,data:l.data.slice()})}return r}clear(){return this.instructions.length=0,this._dirty=!0,this}transform(t){if(t.isIdentity())return this;const r=t.a,s=t.b,l=t.c,u=t.d,c=t.tx,h=t.ty;let d=0,m=0,g=0,y=0,v=0,b=0,T=0,E=0;for(let w=0;w<this.instructions.length;w++){const R=this.instructions[w],k=R.data;switch(R.action){case"moveTo":case"lineTo":d=k[0],m=k[1],k[0]=r*d+l*m+c,k[1]=s*d+u*m+h;break;case"bezierCurveTo":g=k[0],y=k[1],v=k[2],b=k[3],d=k[4],m=k[5],k[0]=r*g+l*y+c,k[1]=s*g+u*y+h,k[2]=r*v+l*b+c,k[3]=s*v+u*b+h,k[4]=r*d+l*m+c,k[5]=s*d+u*m+h;break;case"quadraticCurveTo":g=k[0],y=k[1],d=k[2],m=k[3],k[0]=r*g+l*y+c,k[1]=s*g+u*y+h,k[2]=r*d+l*m+c,k[3]=s*d+u*m+h;break;case"arcToSvg":d=k[5],m=k[6],T=k[0],E=k[1],k[0]=r*T+l*E,k[1]=s*T+u*E,k[5]=r*d+l*m+c,k[6]=s*d+u*m+h;break;case"circle":k[4]=Da(k[3],t);break;case"rect":k[4]=Da(k[4],t);break;case"ellipse":k[8]=Da(k[8],t);break;case"roundRect":k[5]=Da(k[5],t);break;case"addPath":k[0].transform(t);break;case"poly":k[2]=Da(k[2],t);break;default:ae("unknown transform action",R.action);break}}return this._dirty=!0,this}get bounds(){return this.shapePath.bounds}getLastPoint(t){let r=this.instructions.length-1,s=this.instructions[r];if(!s)return t.x=0,t.y=0,t;for(;s.action==="closePath";){if(r--,r<0)return t.x=0,t.y=0,t;s=this.instructions[r]}switch(s.action){case"moveTo":case"lineTo":t.x=s.data[0],t.y=s.data[1];break;case"quadraticCurveTo":t.x=s.data[2],t.y=s.data[3];break;case"bezierCurveTo":t.x=s.data[4],t.y=s.data[5];break;case"arc":case"arcToSvg":t.x=s.data[5],t.y=s.data[6];break;case"addPath":s.data[0].getLastPoint(t);break}return t}}function Da(n,t){return n?n.prepend(t):t.clone()}function dE(n,t){if(typeof n=="string"){const s=document.createElement("div");s.innerHTML=n.trim(),n=s.querySelector("svg")}const r={context:t,path:new Es};return Jv(n,r,null,null),t}function Jv(n,t,r,s){const l=n.children,{fillStyle:u,strokeStyle:c}=pE(n);u&&r?r={...r,...u}:u&&(r=u),c&&s?s={...s,...c}:c&&(s=c),t.context.fillStyle=r,t.context.strokeStyle=s;let h,d,m,g,y,v,b,T,E,w,R,k,D,P,I,G,V;switch(n.nodeName.toLowerCase()){case"path":P=n.getAttribute("d"),I=new Es(P),t.context.path(I),r&&t.context.fill(),s&&t.context.stroke();break;case"circle":b=ve(n,"cx",0),T=ve(n,"cy",0),E=ve(n,"r",0),t.context.ellipse(b,T,E,E),r&&t.context.fill(),s&&t.context.stroke();break;case"rect":h=ve(n,"x",0),d=ve(n,"y",0),G=ve(n,"width",0),V=ve(n,"height",0),w=ve(n,"rx",0),R=ve(n,"ry",0),w||R?t.context.roundRect(h,d,G,V,w||R):t.context.rect(h,d,G,V),r&&t.context.fill(),s&&t.context.stroke();break;case"ellipse":b=ve(n,"cx",0),T=ve(n,"cy",0),w=ve(n,"rx",0),R=ve(n,"ry",0),t.context.beginPath(),t.context.ellipse(b,T,w,R),r&&t.context.fill(),s&&t.context.stroke();break;case"line":m=ve(n,"x1",0),g=ve(n,"y1",0),y=ve(n,"x2",0),v=ve(n,"y2",0),t.context.beginPath(),t.context.moveTo(m,g),t.context.lineTo(y,v),s&&t.context.stroke();break;case"polygon":D=n.getAttribute("points"),k=D.match(/\d+/g).map(et=>parseInt(et,10)),t.context.poly(k,!0),r&&t.context.fill(),s&&t.context.stroke();break;case"polyline":D=n.getAttribute("points"),k=D.match(/\d+/g).map(et=>parseInt(et,10)),t.context.poly(k,!1),s&&t.context.stroke();break;case"g":case"svg":break;default:{console.info(`[SVG parser] <${n.nodeName}> elements unsupported`);break}}for(let et=0;et<l.length;et++)Jv(l[et],t,r,s)}function ve(n,t,r){const s=n.getAttribute(t);return s?Number(s):r}function pE(n){const t=n.getAttribute("style"),r={},s={};let l=!1,u=!1;if(t){const c=t.split(";");for(let h=0;h<c.length;h++){const d=c[h],[m,g]=d.split(":");switch(m){case"stroke":g!=="none"&&(r.color=Me.shared.setValue(g).toNumber(),u=!0);break;case"stroke-width":r.width=Number(g);break;case"fill":g!=="none"&&(l=!0,s.color=Me.shared.setValue(g).toNumber());break;case"fill-opacity":s.alpha=Number(g);break;case"stroke-opacity":r.alpha=Number(g);break;case"opacity":s.alpha=Number(g),r.alpha=Number(g);break}}}else{const c=n.getAttribute("stroke");c&&c!=="none"&&(u=!0,r.color=Me.shared.setValue(c).toNumber(),r.width=ve(n,"stroke-width",1));const h=n.getAttribute("fill");h&&h!=="none"&&(l=!0,s.color=Me.shared.setValue(h).toNumber())}return{strokeStyle:u?r:null,fillStyle:l?s:null}}function mE(n){return Me.isColorLike(n)}function ib(n){return n instanceof gu}function sb(n){return n instanceof il}function gE(n,t,r){const s=Me.shared.setValue(t??0);return n.color=s.toNumber(),n.alpha=s.alpha===1?r.alpha:s.alpha,n.texture=Rt.WHITE,{...r,...n}}function ab(n,t,r){return n.fill=t,n.color=16777215,n.texture=t.texture,n.matrix=t.transform,{...r,...n}}function lb(n,t,r){return t.buildLinearGradient(),n.fill=t,n.color=16777215,n.texture=t.texture,n.matrix=t.transform,{...r,...n}}function yE(n,t){const r={...t,...n};if(r.texture){if(r.texture!==Rt.WHITE){const u=r.matrix?.clone().invert()||new Bt;u.translate(r.texture.frame.x,r.texture.frame.y),u.scale(1/r.texture.source.width,1/r.texture.source.height),r.matrix=u}const l=r.texture.source.style;l.addressMode==="clamp-to-edge"&&(l.addressMode="repeat",l.update())}const s=Me.shared.setValue(r.color);return r.alpha*=s.alpha,r.color=s.toNumber(),r.matrix=r.matrix?r.matrix.clone():null,r}function Ei(n,t){if(n==null)return null;const r={},s=n;return mE(n)?gE(r,n,t):ib(n)?ab(r,n,t):sb(n)?lb(r,n,t):s.fill&&ib(s.fill)?ab(s,s.fill,t):s.fill&&sb(s.fill)?lb(s,s.fill,t):yE(s,t)}function ou(n,t){const{width:r,alignment:s,miterLimit:l,cap:u,join:c,pixelLine:h,...d}=t,m=Ei(n,d);return m?{width:r,alignment:s,miterLimit:l,cap:u,join:c,pixelLine:h,...m}:null}const xE=new Be,ob=new Bt,Ld=class Gn extends Yn{constructor(){super(...arguments),this.uid=de("graphicsContext"),this.dirty=!0,this.batchMode="auto",this.instructions=[],this._activePath=new Es,this._transform=new Bt,this._fillStyle={...Gn.defaultFillStyle},this._strokeStyle={...Gn.defaultStrokeStyle},this._stateStack=[],this._tick=0,this._bounds=new Fn,this._boundsDirty=!0}clone(){const t=new Gn;return t.batchMode=this.batchMode,t.instructions=this.instructions.slice(),t._activePath=this._activePath.clone(),t._transform=this._transform.clone(),t._fillStyle={...this._fillStyle},t._strokeStyle={...this._strokeStyle},t._stateStack=this._stateStack.slice(),t._bounds=this._bounds.clone(),t._boundsDirty=!0,t}get fillStyle(){return this._fillStyle}set fillStyle(t){this._fillStyle=Ei(t,Gn.defaultFillStyle)}get strokeStyle(){return this._strokeStyle}set strokeStyle(t){this._strokeStyle=ou(t,Gn.defaultStrokeStyle)}setFillStyle(t){return this._fillStyle=Ei(t,Gn.defaultFillStyle),this}setStrokeStyle(t){return this._strokeStyle=Ei(t,Gn.defaultStrokeStyle),this}texture(t,r,s,l,u,c){return this.instructions.push({action:"texture",data:{image:t,dx:s||0,dy:l||0,dw:u||t.frame.width,dh:c||t.frame.height,transform:this._transform.clone(),alpha:this._fillStyle.alpha,style:r?Me.shared.setValue(r).toNumber():16777215}}),this.onUpdate(),this}beginPath(){return this._activePath=new Es,this}fill(t,r){let s;const l=this.instructions[this.instructions.length-1];return this._tick===0&&l&&l.action==="stroke"?s=l.data.path:s=this._activePath.clone(),s?(t!=null&&(r!==void 0&&typeof t=="number"&&(he(Oe,"GraphicsContext.fill(color, alpha) is deprecated, use GraphicsContext.fill({ color, alpha }) instead"),t={color:t,alpha:r}),this._fillStyle=Ei(t,Gn.defaultFillStyle)),this.instructions.push({action:"fill",data:{style:this.fillStyle,path:s}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}_initNextPathLocation(){const{x:t,y:r}=this._activePath.getLastPoint(Be.shared);this._activePath.clear(),this._activePath.moveTo(t,r)}stroke(t){let r;const s=this.instructions[this.instructions.length-1];return this._tick===0&&s&&s.action==="fill"?r=s.data.path:r=this._activePath.clone(),r?(t!=null&&(this._strokeStyle=ou(t,Gn.defaultStrokeStyle)),this.instructions.push({action:"stroke",data:{style:this.strokeStyle,path:r}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}cut(){for(let t=0;t<2;t++){const r=this.instructions[this.instructions.length-1-t],s=this._activePath.clone();if(r&&(r.action==="stroke"||r.action==="fill"))if(r.data.hole)r.data.hole.addPath(s);else{r.data.hole=s;break}}return this._initNextPathLocation(),this}arc(t,r,s,l,u,c){this._tick++;const h=this._transform;return this._activePath.arc(h.a*t+h.c*r+h.tx,h.b*t+h.d*r+h.ty,s,l,u,c),this}arcTo(t,r,s,l,u){this._tick++;const c=this._transform;return this._activePath.arcTo(c.a*t+c.c*r+c.tx,c.b*t+c.d*r+c.ty,c.a*s+c.c*l+c.tx,c.b*s+c.d*l+c.ty,u),this}arcToSvg(t,r,s,l,u,c,h){this._tick++;const d=this._transform;return this._activePath.arcToSvg(t,r,s,l,u,d.a*c+d.c*h+d.tx,d.b*c+d.d*h+d.ty),this}bezierCurveTo(t,r,s,l,u,c,h){this._tick++;const d=this._transform;return this._activePath.bezierCurveTo(d.a*t+d.c*r+d.tx,d.b*t+d.d*r+d.ty,d.a*s+d.c*l+d.tx,d.b*s+d.d*l+d.ty,d.a*u+d.c*c+d.tx,d.b*u+d.d*c+d.ty,h),this}closePath(){return this._tick++,this._activePath?.closePath(),this}ellipse(t,r,s,l){return this._tick++,this._activePath.ellipse(t,r,s,l,this._transform.clone()),this}circle(t,r,s){return this._tick++,this._activePath.circle(t,r,s,this._transform.clone()),this}path(t){return this._tick++,this._activePath.addPath(t,this._transform.clone()),this}lineTo(t,r){this._tick++;const s=this._transform;return this._activePath.lineTo(s.a*t+s.c*r+s.tx,s.b*t+s.d*r+s.ty),this}moveTo(t,r){this._tick++;const s=this._transform,l=this._activePath.instructions,u=s.a*t+s.c*r+s.tx,c=s.b*t+s.d*r+s.ty;return l.length===1&&l[0].action==="moveTo"?(l[0].data[0]=u,l[0].data[1]=c,this):(this._activePath.moveTo(u,c),this)}quadraticCurveTo(t,r,s,l,u){this._tick++;const c=this._transform;return this._activePath.quadraticCurveTo(c.a*t+c.c*r+c.tx,c.b*t+c.d*r+c.ty,c.a*s+c.c*l+c.tx,c.b*s+c.d*l+c.ty,u),this}rect(t,r,s,l){return this._tick++,this._activePath.rect(t,r,s,l,this._transform.clone()),this}roundRect(t,r,s,l,u){return this._tick++,this._activePath.roundRect(t,r,s,l,u,this._transform.clone()),this}poly(t,r){return this._tick++,this._activePath.poly(t,r,this._transform.clone()),this}regularPoly(t,r,s,l,u=0,c){return this._tick++,this._activePath.regularPoly(t,r,s,l,u,c),this}roundPoly(t,r,s,l,u,c){return this._tick++,this._activePath.roundPoly(t,r,s,l,u,c),this}roundShape(t,r,s,l){return this._tick++,this._activePath.roundShape(t,r,s,l),this}filletRect(t,r,s,l,u){return this._tick++,this._activePath.filletRect(t,r,s,l,u),this}chamferRect(t,r,s,l,u,c){return this._tick++,this._activePath.chamferRect(t,r,s,l,u,c),this}star(t,r,s,l,u=0,c=0){return this._tick++,this._activePath.star(t,r,s,l,u,c,this._transform.clone()),this}svg(t){return this._tick++,dE(t,this),this}restore(){const t=this._stateStack.pop();return t&&(this._transform=t.transform,this._fillStyle=t.fillStyle,this._strokeStyle=t.strokeStyle),this}save(){return this._stateStack.push({transform:this._transform.clone(),fillStyle:{...this._fillStyle},strokeStyle:{...this._strokeStyle}}),this}getTransform(){return this._transform}resetTransform(){return this._transform.identity(),this}rotate(t){return this._transform.rotate(t),this}scale(t,r=t){return this._transform.scale(t,r),this}setTransform(t,r,s,l,u,c){return t instanceof Bt?(this._transform.set(t.a,t.b,t.c,t.d,t.tx,t.ty),this):(this._transform.set(t,r,s,l,u,c),this)}transform(t,r,s,l,u,c){return t instanceof Bt?(this._transform.append(t),this):(ob.set(t,r,s,l,u,c),this._transform.append(ob),this)}translate(t,r=t){return this._transform.translate(t,r),this}clear(){return this._activePath.clear(),this.instructions.length=0,this.resetTransform(),this.onUpdate(),this}onUpdate(){this.dirty||(this.emit("update",this,16),this.dirty=!0,this._boundsDirty=!0)}get bounds(){if(!this._boundsDirty)return this._bounds;const t=this._bounds;t.clear();for(let r=0;r<this.instructions.length;r++){const s=this.instructions[r],l=s.action;if(l==="fill"){const u=s.data;t.addBounds(u.path.bounds)}else if(l==="texture"){const u=s.data;t.addFrame(u.dx,u.dy,u.dx+u.dw,u.dy+u.dh,u.transform)}if(l==="stroke"){const u=s.data,c=u.style.alignment,h=u.style.width*(1-c),d=u.path.bounds;t.addFrame(d.minX-h,d.minY-h,d.maxX+h,d.maxY+h)}}return t}containsPoint(t){if(!this.bounds.containsPoint(t.x,t.y))return!1;const r=this.instructions;let s=!1;for(let l=0;l<r.length;l++){const u=r[l],c=u.data,h=c.path;if(!u.action||!h)continue;const d=c.style,m=h.shapePath.shapePrimitives;for(let g=0;g<m.length;g++){const y=m[g].shape;if(!d||!y)continue;const v=m[g].transform,b=v?v.applyInverse(t,xE):t;if(u.action==="fill")s=y.contains(b.x,b.y);else{const E=d;s=y.strokeContains(b.x,b.y,E.width,E.alignment)}const T=c.hole;if(T){const E=T.shapePath?.shapePrimitives;if(E)for(let w=0;w<E.length;w++)E[w].shape.contains(b.x,b.y)&&(s=!1)}if(s)return!0}}return s}destroy(t=!1){if(this._stateStack.length=0,this._transform=null,this.emit("destroy",this),this.removeAllListeners(),typeof t=="boolean"?t:t?.texture){const s=typeof t=="boolean"?t:t?.textureSource;this._fillStyle.texture&&this._fillStyle.texture.destroy(s),this._strokeStyle.texture&&this._strokeStyle.texture.destroy(s)}this._fillStyle=null,this._strokeStyle=null,this.instructions=null,this._activePath=null,this._bounds=null,this._stateStack=null,this.customShader=null,this._transform=null}};Ld.defaultFillStyle={color:16777215,alpha:1,texture:Rt.WHITE,matrix:null,fill:null};Ld.defaultStrokeStyle={width:1,color:16777215,alpha:1,alignment:.5,miterLimit:10,cap:"butt",join:"miter",texture:Rt.WHITE,matrix:null,fill:null,pixelLine:!1};let Si=Ld;const ub=["align","breakWords","cssOverrides","fontVariant","fontWeight","leading","letterSpacing","lineHeight","padding","textBaseline","trim","whiteSpace","wordWrap","wordWrapWidth","fontFamily","fontStyle","fontSize"];function bE(n){const t=[];let r=0;for(let s=0;s<ub.length;s++){const l=`_${ub[s]}`;t[r++]=n[l]}return r=t1(n._fill,t,r),r=vE(n._stroke,t,r),r=_E(n.dropShadow,t,r),t.join("-")}function t1(n,t,r){return n&&(t[r++]=n.color,t[r++]=n.alpha,t[r++]=n.fill?.styleKey),r}function vE(n,t,r){return n&&(r=t1(n,t,r),t[r++]=n.width,t[r++]=n.alignment,t[r++]=n.cap,t[r++]=n.join,t[r++]=n.miterLimit),r}function _E(n,t,r){return n&&(t[r++]=n.alpha,t[r++]=n.angle,t[r++]=n.blur,t[r++]=n.distance,t[r++]=Me.shared.setValue(n.color).toNumber()),r}const Id=class ys extends Yn{constructor(t={}){super(),wE(t);const r={...ys.defaultTextStyle,...t};for(const s in r){const l=s;this[l]=r[s]}this.update()}get align(){return this._align}set align(t){this._align=t,this.update()}get breakWords(){return this._breakWords}set breakWords(t){this._breakWords=t,this.update()}get dropShadow(){return this._dropShadow}set dropShadow(t){t!==null&&typeof t=="object"?this._dropShadow=this._createProxy({...ys.defaultDropShadow,...t}):this._dropShadow=t?this._createProxy({...ys.defaultDropShadow}):null,this.update()}get fontFamily(){return this._fontFamily}set fontFamily(t){this._fontFamily=t,this.update()}get fontSize(){return this._fontSize}set fontSize(t){typeof t=="string"?this._fontSize=parseInt(t,10):this._fontSize=t,this.update()}get fontStyle(){return this._fontStyle}set fontStyle(t){this._fontStyle=t.toLowerCase(),this.update()}get fontVariant(){return this._fontVariant}set fontVariant(t){this._fontVariant=t,this.update()}get fontWeight(){return this._fontWeight}set fontWeight(t){this._fontWeight=t,this.update()}get leading(){return this._leading}set leading(t){this._leading=t,this.update()}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing=t,this.update()}get lineHeight(){return this._lineHeight}set lineHeight(t){this._lineHeight=t,this.update()}get padding(){return this._padding}set padding(t){this._padding=t,this.update()}get trim(){return this._trim}set trim(t){this._trim=t,this.update()}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline=t,this.update()}get whiteSpace(){return this._whiteSpace}set whiteSpace(t){this._whiteSpace=t,this.update()}get wordWrap(){return this._wordWrap}set wordWrap(t){this._wordWrap=t,this.update()}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(t){this._wordWrapWidth=t,this.update()}get fill(){return this._originalFill}set fill(t){t!==this._originalFill&&(this._originalFill=t,this._isFillStyle(t)&&(this._originalFill=this._createProxy({...Si.defaultFillStyle,...t},()=>{this._fill=Ei({...this._originalFill},Si.defaultFillStyle)})),this._fill=Ei(t===0?"black":t,Si.defaultFillStyle),this.update())}get stroke(){return this._originalStroke}set stroke(t){t!==this._originalStroke&&(this._originalStroke=t,this._isFillStyle(t)&&(this._originalStroke=this._createProxy({...Si.defaultStrokeStyle,...t},()=>{this._stroke=ou({...this._originalStroke},Si.defaultStrokeStyle)})),this._stroke=ou(t,Si.defaultStrokeStyle),this.update())}_generateKey(){return this._styleKey=bE(this),this._styleKey}update(){this._styleKey=null,this.emit("update",this)}reset(){const t=ys.defaultTextStyle;for(const r in t)this[r]=t[r]}get styleKey(){return this._styleKey||this._generateKey()}clone(){return new ys({align:this.align,breakWords:this.breakWords,dropShadow:this._dropShadow?{...this._dropShadow}:null,fill:this._fill,fontFamily:this.fontFamily,fontSize:this.fontSize,fontStyle:this.fontStyle,fontVariant:this.fontVariant,fontWeight:this.fontWeight,leading:this.leading,letterSpacing:this.letterSpacing,lineHeight:this.lineHeight,padding:this.padding,stroke:this._stroke,textBaseline:this.textBaseline,whiteSpace:this.whiteSpace,wordWrap:this.wordWrap,wordWrapWidth:this.wordWrapWidth})}destroy(t=!1){if(this.removeAllListeners(),typeof t=="boolean"?t:t?.texture){const s=typeof t=="boolean"?t:t?.textureSource;this._fill?.texture&&this._fill.texture.destroy(s),this._originalFill?.texture&&this._originalFill.texture.destroy(s),this._stroke?.texture&&this._stroke.texture.destroy(s),this._originalStroke?.texture&&this._originalStroke.texture.destroy(s)}this._fill=null,this._stroke=null,this.dropShadow=null,this._originalStroke=null,this._originalFill=null}_createProxy(t,r){return new Proxy(t,{set:(s,l,u)=>(s[l]=u,r?.(l,u),this.update(),!0)})}_isFillStyle(t){return(t??null)!==null&&!(Me.isColorLike(t)||t instanceof il||t instanceof gu)}};Id.defaultDropShadow={alpha:1,angle:Math.PI/6,blur:0,color:"black",distance:5};Id.defaultTextStyle={align:"left",breakWords:!1,dropShadow:null,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,padding:0,stroke:null,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let ll=Id;function wE(n){const t=n;if(typeof t.dropShadow=="boolean"&&t.dropShadow){const r=ll.defaultDropShadow;n.dropShadow={alpha:t.dropShadowAlpha??r.alpha,angle:t.dropShadowAngle??r.angle,blur:t.dropShadowBlur??r.blur,color:t.dropShadowColor??r.color,distance:t.dropShadowDistance??r.distance}}if(t.strokeThickness!==void 0){he(Oe,"strokeThickness is now a part of stroke");const r=t.stroke;let s={};if(Me.isColorLike(r))s.color=r;else if(r instanceof il||r instanceof gu)s.fill=r;else if(Object.hasOwnProperty.call(r,"color")||Object.hasOwnProperty.call(r,"fill"))s=r;else throw new Error("Invalid stroke value.");n.stroke={...s,width:t.strokeThickness}}if(Array.isArray(t.fillGradientStops)){he(Oe,"gradient fill is now a fill pattern: `new FillGradient(...)`");let r;n.fontSize==null?n.fontSize=ll.defaultTextStyle.fontSize:typeof n.fontSize=="string"?r=parseInt(n.fontSize,10):r=n.fontSize;const s=new il(0,0,0,r*1.7),l=t.fillGradientStops.map(u=>Me.shared.setValue(u).toNumber());l.forEach((u,c)=>{const h=c/(l.length-1);s.addColorStop(h,u)}),n.fill={fill:s}}}class SE{constructor(t){this._canvasPool=Object.create(null),this.canvasOptions=t||{},this.enableFullScreen=!1}_createCanvasAndContext(t,r){const s=pe.get().createCanvas();s.width=t,s.height=r;const l=s.getContext("2d");return{canvas:s,context:l}}getOptimalCanvasAndContext(t,r,s=1){t=Math.ceil(t*s-1e-6),r=Math.ceil(r*s-1e-6),t=su(t),r=su(r);const l=(t<<17)+(r<<1);this._canvasPool[l]||(this._canvasPool[l]=[]);let u=this._canvasPool[l].pop();return u||(u=this._createCanvasAndContext(t,r)),u}returnCanvasAndContext(t){const r=t.canvas,{width:s,height:l}=r,u=(s<<17)+(l<<1);t.context.clearRect(0,0,s,l),this._canvasPool[u].push(t)}clear(){this._canvasPool={}}}const cb=new SE,AE=["serif","sans-serif","monospace","cursive","fantasy","system-ui"];function pd(n){const t=typeof n.fontSize=="number"?`${n.fontSize}px`:n.fontSize;let r=n.fontFamily;Array.isArray(n.fontFamily)||(r=n.fontFamily.split(","));for(let s=r.length-1;s>=0;s--){let l=r[s].trim();!/([\"\'])[^\'\"]+\1/.test(l)&&!AE.includes(l)&&(l=`"${l}"`),r[s]=l}return`${n.fontStyle} ${n.fontVariant} ${n.fontWeight} ${t} ${r.join(",")}`}const df={willReadFrequently:!0},kn=class ft{static get experimentalLetterSpacingSupported(){let t=ft._experimentalLetterSpacingSupported;if(t!==void 0){const r=pe.get().getCanvasRenderingContext2D().prototype;t=ft._experimentalLetterSpacingSupported="letterSpacing"in r||"textLetterSpacing"in r}return t}constructor(t,r,s,l,u,c,h,d,m){this.text=t,this.style=r,this.width=s,this.height=l,this.lines=u,this.lineWidths=c,this.lineHeight=h,this.maxLineWidth=d,this.fontProperties=m}static measureText(t=" ",r,s=ft._canvas,l=r.wordWrap){const u=`${t}:${r.styleKey}`;if(ft._measurementCache[u])return ft._measurementCache[u];const c=pd(r),h=ft.measureFont(c);h.fontSize===0&&(h.fontSize=r.fontSize,h.ascent=r.fontSize);const d=ft.__context;d.font=c;const g=(l?ft._wordWrap(t,r,s):t).split(/(?:\r\n|\r|\n)/),y=new Array(g.length);let v=0;for(let k=0;k<g.length;k++){const D=ft._measureText(g[k],r.letterSpacing,d);y[k]=D,v=Math.max(v,D)}const b=r._stroke?.width||0;let T=v+b;r.dropShadow&&(T+=r.dropShadow.distance);const E=r.lineHeight||h.fontSize;let w=Math.max(E,h.fontSize+b)+(g.length-1)*(E+r.leading);return r.dropShadow&&(w+=r.dropShadow.distance),new ft(t,r,T,w,g,y,E+r.leading,v,h)}static _measureText(t,r,s){let l=!1;ft.experimentalLetterSpacingSupported&&(ft.experimentalLetterSpacing?(s.letterSpacing=`${r}px`,s.textLetterSpacing=`${r}px`,l=!0):(s.letterSpacing="0px",s.textLetterSpacing="0px"));const u=s.measureText(t);let c=u.width;const h=-u.actualBoundingBoxLeft;let m=u.actualBoundingBoxRight-h;if(c>0)if(l)c-=r,m-=r;else{const g=(ft.graphemeSegmenter(t).length-1)*r;c+=g,m+=g}return Math.max(c,m)}static _wordWrap(t,r,s=ft._canvas){const l=s.getContext("2d",df);let u=0,c="",h="";const d=Object.create(null),{letterSpacing:m,whiteSpace:g}=r,y=ft._collapseSpaces(g),v=ft._collapseNewlines(g);let b=!y;const T=r.wordWrapWidth+m,E=ft._tokenize(t);for(let w=0;w<E.length;w++){let R=E[w];if(ft._isNewline(R)){if(!v){h+=ft._addLine(c),b=!y,c="",u=0;continue}R=" "}if(y){const D=ft.isBreakingSpace(R),P=ft.isBreakingSpace(c[c.length-1]);if(D&&P)continue}const k=ft._getFromCache(R,m,d,l);if(k>T)if(c!==""&&(h+=ft._addLine(c),c="",u=0),ft.canBreakWords(R,r.breakWords)){const D=ft.wordWrapSplit(R);for(let P=0;P<D.length;P++){let I=D[P],G=I,V=1;for(;D[P+V];){const W=D[P+V];if(!ft.canBreakChars(G,W,R,P,r.breakWords))I+=W;else break;G=W,V++}P+=V-1;const et=ft._getFromCache(I,m,d,l);et+u>T&&(h+=ft._addLine(c),b=!1,c="",u=0),c+=I,u+=et}}else{c.length>0&&(h+=ft._addLine(c),c="",u=0);const D=w===E.length-1;h+=ft._addLine(R,!D),b=!1,c="",u=0}else k+u>T&&(b=!1,h+=ft._addLine(c),c="",u=0),(c.length>0||!ft.isBreakingSpace(R)||b)&&(c+=R,u+=k)}return h+=ft._addLine(c,!1),h}static _addLine(t,r=!0){return t=ft._trimRight(t),t=r?`${t}
`:t,t}static _getFromCache(t,r,s,l){let u=s[t];return typeof u!="number"&&(u=ft._measureText(t,r,l)+r,s[t]=u),u}static _collapseSpaces(t){return t==="normal"||t==="pre-line"}static _collapseNewlines(t){return t==="normal"}static _trimRight(t){if(typeof t!="string")return"";for(let r=t.length-1;r>=0;r--){const s=t[r];if(!ft.isBreakingSpace(s))break;t=t.slice(0,-1)}return t}static _isNewline(t){return typeof t!="string"?!1:ft._newlines.includes(t.charCodeAt(0))}static isBreakingSpace(t,r){return typeof t!="string"?!1:ft._breakingSpaces.includes(t.charCodeAt(0))}static _tokenize(t){const r=[];let s="";if(typeof t!="string")return r;for(let l=0;l<t.length;l++){const u=t[l],c=t[l+1];if(ft.isBreakingSpace(u,c)||ft._isNewline(u)){s!==""&&(r.push(s),s=""),r.push(u);continue}s+=u}return s!==""&&r.push(s),r}static canBreakWords(t,r){return r}static canBreakChars(t,r,s,l,u){return!0}static wordWrapSplit(t){return ft.graphemeSegmenter(t)}static measureFont(t){if(ft._fonts[t])return ft._fonts[t];const r=ft._context;r.font=t;const s=r.measureText(ft.METRICS_STRING+ft.BASELINE_SYMBOL),l={ascent:s.actualBoundingBoxAscent,descent:s.actualBoundingBoxDescent,fontSize:s.actualBoundingBoxAscent+s.actualBoundingBoxDescent};return ft._fonts[t]=l,l}static clearMetrics(t=""){t?delete ft._fonts[t]:ft._fonts={}}static get _canvas(){if(!ft.__canvas){let t;try{const r=new OffscreenCanvas(0,0);if(r.getContext("2d",df)?.measureText)return ft.__canvas=r,r;t=pe.get().createCanvas()}catch{t=pe.get().createCanvas()}t.width=t.height=10,ft.__canvas=t}return ft.__canvas}static get _context(){return ft.__context||(ft.__context=ft._canvas.getContext("2d",df)),ft.__context}};kn.METRICS_STRING="|ÉqÅ";kn.BASELINE_SYMBOL="M";kn.BASELINE_MULTIPLIER=1.4;kn.HEIGHT_MULTIPLIER=2;kn.graphemeSegmenter=(()=>{if(typeof Intl?.Segmenter=="function"){const n=new Intl.Segmenter;return t=>[...n.segment(t)].map(r=>r.segment)}return n=>[...n]})();kn.experimentalLetterSpacing=!1;kn._fonts={};kn._newlines=[10,13];kn._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];kn._measurementCache={};let hb=kn;function fb(n,t){if(n.texture===Rt.WHITE&&!n.fill)return Me.shared.setValue(n.color).setAlpha(n.alpha??1).toHexa();if(n.fill){if(n.fill instanceof gu){const r=n.fill,s=t.createPattern(r.texture.source.resource,"repeat"),l=r.transform.copyTo(Bt.shared);return l.scale(r.texture.frame.width,r.texture.frame.height),s.setTransform(l),s}else if(n.fill instanceof il){const r=n.fill;if(r.type==="linear"){const s=t.createLinearGradient(r.x0,r.y0,r.x1,r.y1);return r.gradientStops.forEach(l=>{s.addColorStop(l.offset,Me.shared.setValue(l.color).toHex())}),s}}}else{const r=t.createPattern(n.texture.source.resource,"repeat"),s=n.matrix.copyTo(Bt.shared);return s.scale(n.texture.frame.width,n.texture.frame.height),r.setTransform(s),r}return ae("FillStyle not recognised",n),"red"}function e1(n){if(n==="")return[];typeof n=="string"&&(n=[n]);const t=[];for(let r=0,s=n.length;r<s;r++){const l=n[r];if(Array.isArray(l)){if(l.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${l.length}.`);if(l[0].length===0||l[1].length===0)throw new Error("[BitmapFont]: Invalid character delimiter.");const u=l[0].charCodeAt(0),c=l[1].charCodeAt(0);if(c<u)throw new Error("[BitmapFont]: Invalid character range.");for(let h=u,d=c;h<=d;h++)t.push(String.fromCharCode(h))}else t.push(...Array.from(l))}if(t.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return t}const n1=class r1 extends Dv{constructor(t){super(),this.resolution=1,this.pages=[],this._padding=0,this._measureCache=Object.create(null),this._currentChars=[],this._currentX=0,this._currentY=0,this._currentPageIndex=-1,this._skipKerning=!1;const r={...r1.defaultOptions,...t};this._textureSize=r.textureSize,this._mipmap=r.mipmap;const s=r.style.clone();r.overrideFill&&(s._fill.color=16777215,s._fill.alpha=1,s._fill.texture=Rt.WHITE,s._fill.fill=null),this.applyFillAsTint=r.overrideFill;const l=s.fontSize;s.fontSize=this.baseMeasurementFontSize;const u=pd(s);r.overrideSize?s._stroke&&(s._stroke.width*=this.baseRenderedFontSize/l):s.fontSize=this.baseRenderedFontSize=l,this._style=s,this._skipKerning=r.skipKerning??!1,this.resolution=r.resolution??1,this._padding=r.padding??4,this.fontMetrics=hb.measureFont(u),this.lineHeight=s.lineHeight||this.fontMetrics.fontSize||s.fontSize}ensureCharacters(t){const r=e1(t).filter(w=>!this._currentChars.includes(w)).filter((w,R,k)=>k.indexOf(w)===R);if(!r.length)return;this._currentChars=[...this._currentChars,...r];let s;this._currentPageIndex===-1?s=this._nextPage():s=this.pages[this._currentPageIndex];let{canvas:l,context:u}=s.canvasAndContext,c=s.texture.source;const h=this._style;let d=this._currentX,m=this._currentY;const g=this.baseRenderedFontSize/this.baseMeasurementFontSize,y=this._padding*g;let v=0,b=!1;const T=l.width/this.resolution,E=l.height/this.resolution;for(let w=0;w<r.length;w++){const R=r[w],k=hb.measureText(R,h,l,!1);k.lineHeight=k.height;const D=k.width*g,P=Math.ceil((h.fontStyle==="italic"?2:1)*D),I=k.height*g,G=P+y*2,V=I+y*2;if(b=!1,R!==`
`&&R!=="\r"&&R!=="	"&&R!==" "&&(b=!0,v=Math.ceil(Math.max(V,v))),d+G>T&&(m+=v,v=V,d=0,m+v>E)){c.update();const W=this._nextPage();l=W.canvasAndContext.canvas,u=W.canvasAndContext.context,c=W.texture.source,m=0}const et=D/g-(h.dropShadow?.distance??0)-(h._stroke?.width??0);if(this.chars[R]={id:R.codePointAt(0),xOffset:-this._padding,yOffset:-this._padding,xAdvance:et,kerning:{}},b){this._drawGlyph(u,k,d+y,m+y,g,h);const W=c.width*g,$=c.height*g,rt=new fe(d/W*c.width,m/$*c.height,G/W*c.width,V/$*c.height);this.chars[R].texture=new Rt({source:c,frame:rt}),d+=Math.ceil(G)}}c.update(),this._currentX=d,this._currentY=m,this._skipKerning&&this._applyKerning(r,u)}get pageTextures(){return he(Oe,"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}_applyKerning(t,r){const s=this._measureCache;for(let l=0;l<t.length;l++){const u=t[l];for(let c=0;c<this._currentChars.length;c++){const h=this._currentChars[c];let d=s[u];d||(d=s[u]=r.measureText(u).width);let m=s[h];m||(m=s[h]=r.measureText(h).width);let g=r.measureText(u+h).width,y=g-(d+m);y&&(this.chars[u].kerning[h]=y),g=r.measureText(u+h).width,y=g-(d+m),y&&(this.chars[h].kerning[u]=y)}}}_nextPage(){this._currentPageIndex++;const t=this.resolution,r=cb.getOptimalCanvasAndContext(this._textureSize,this._textureSize,t);this._setupContext(r.context,this._style,t);const s=t*(this.baseRenderedFontSize/this.baseMeasurementFontSize),l=new Rt({source:new Cs({resource:r.canvas,resolution:s,alphaMode:"premultiply-alpha-on-upload",autoGenerateMipmaps:this._mipmap})}),u={canvasAndContext:r,texture:l};return this.pages[this._currentPageIndex]=u,u}_setupContext(t,r,s){r.fontSize=this.baseRenderedFontSize,t.scale(s,s),t.font=pd(r),r.fontSize=this.baseMeasurementFontSize,t.textBaseline=r.textBaseline;const l=r._stroke,u=l?.width??0;if(l&&(t.lineWidth=u,t.lineJoin=l.join,t.miterLimit=l.miterLimit,t.strokeStyle=fb(l,t)),r._fill&&(t.fillStyle=fb(r._fill,t)),r.dropShadow){const c=r.dropShadow,h=Me.shared.setValue(c.color).toArray(),d=c.blur*s,m=c.distance*s;t.shadowColor=`rgba(${h[0]*255},${h[1]*255},${h[2]*255},${c.alpha})`,t.shadowBlur=d,t.shadowOffsetX=Math.cos(c.angle)*m,t.shadowOffsetY=Math.sin(c.angle)*m}else t.shadowColor="black",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0}_drawGlyph(t,r,s,l,u,c){const h=r.text,d=r.fontProperties,g=(c._stroke?.width??0)*u,y=s+g/2,v=l-g/2,b=d.descent*u,T=r.lineHeight*u;c.stroke&&g&&t.strokeText(h,y,v+T-b),c._fill&&t.fillText(h,y,v+T-b)}destroy(){super.destroy();for(let t=0;t<this.pages.length;t++){const{canvasAndContext:r,texture:s}=this.pages[t];cb.returnCanvasAndContext(r),s.destroy(!0)}this.pages=null}};n1.defaultOptions={textureSize:512,style:new ll,mipmap:!0};let db=n1;function TE(n,t,r,s){const l={width:0,height:0,offsetY:0,scale:t.fontSize/r.baseMeasurementFontSize,lines:[{width:0,charPositions:[],spaceWidth:0,spacesIndex:[],chars:[]}]};l.offsetY=r.baseLineOffset;let u=l.lines[0],c=null,h=!0;const d={spaceWord:!1,width:0,start:0,index:0,positions:[],chars:[]},m=T=>{const E=u.width;for(let w=0;w<d.index;w++){const R=T.positions[w];u.chars.push(T.chars[w]),u.charPositions.push(R+E)}u.width+=T.width,h=!1,d.width=0,d.index=0,d.chars.length=0},g=()=>{let T=u.chars.length-1;if(s){let E=u.chars[T];for(;E===" ";)u.width-=r.chars[E].xAdvance,E=u.chars[--T]}l.width=Math.max(l.width,u.width),u={width:0,charPositions:[],chars:[],spaceWidth:0,spacesIndex:[]},h=!0,l.lines.push(u),l.height+=r.lineHeight},y=r.baseMeasurementFontSize/t.fontSize,v=t.letterSpacing*y,b=t.wordWrapWidth*y;for(let T=0;T<n.length+1;T++){let E;const w=T===n.length;w||(E=n[T]);const R=r.chars[E]||r.chars[" "];if(/(?:\s)/.test(E)||E==="\r"||E===`
`||w){if(!h&&t.wordWrap&&u.width+d.width-v>b?(g(),m(d),w||u.charPositions.push(0)):(d.start=u.width,m(d),w||u.charPositions.push(0)),E==="\r"||E===`
`)u.width!==0&&g();else if(!w){const I=R.xAdvance+(R.kerning[c]||0)+v;u.width+=I,u.spaceWidth=I,u.spacesIndex.push(u.charPositions.length),u.chars.push(E)}}else{const P=R.kerning[c]||0,I=R.xAdvance+P+v;d.positions[d.index++]=d.width+P,d.chars.push(E),d.width+=I}c=E}return g(),t.align==="center"?EE(l):t.align==="right"?ME(l):t.align==="justify"&&CE(l),l}function EE(n){for(let t=0;t<n.lines.length;t++){const r=n.lines[t],s=n.width/2-r.width/2;for(let l=0;l<r.charPositions.length;l++)r.charPositions[l]+=s}}function ME(n){for(let t=0;t<n.lines.length;t++){const r=n.lines[t],s=n.width-r.width;for(let l=0;l<r.charPositions.length;l++)r.charPositions[l]+=s}}function CE(n){const t=n.width;for(let r=0;r<n.lines.length;r++){const s=n.lines[r];let l=0,u=s.spacesIndex[l++],c=0;const h=s.spacesIndex.length,m=(t-s.width)/h;for(let g=0;g<s.charPositions.length;g++)g===u&&(u=s.spacesIndex[l++],c+=m),s.charPositions[g]+=c}}let Io=0;class kE{constructor(){this.ALPHA=[["a","z"],["A","Z"]," "],this.NUMERIC=[["0","9"]],this.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],this.ASCII=[[" ","~"]],this.defaultOptions={chars:this.ALPHANUMERIC,resolution:1,padding:4,skipKerning:!1}}getFont(t,r){let s=`${r.fontFamily}-bitmap`,l=!0;if(r._fill.fill&&!r._stroke)s+=r._fill.fill.styleKey,l=!1;else if(r._stroke||r.dropShadow){let c=r.styleKey;c=c.substring(0,c.lastIndexOf("-")),s=`${c}-bitmap`,l=!1}if(!Jt.has(s)){const c=new db({style:r,overrideFill:l,overrideSize:!0,...this.defaultOptions});Io++,Io>50&&ae("BitmapText",`You have dynamically created ${Io} bitmap fonts, this can be inefficient. Try pre installing your font styles using \`BitmapFont.install({name:"style1", style})\``),c.once("destroy",()=>{Io--,Jt.remove(s)}),Jt.set(s,c)}const u=Jt.get(s);return u.ensureCharacters?.(t),u}getLayout(t,r,s=!0){const l=this.getFont(t,r);return TE([...t],r,l,s)}measureText(t,r,s=!0){return this.getLayout(t,r,s)}install(...t){let r=t[0];typeof r=="string"&&(r={name:r,style:t[1],chars:t[2]?.chars,resolution:t[2]?.resolution,padding:t[2]?.padding,skipKerning:t[2]?.skipKerning},he(Oe,"BitmapFontManager.install(name, style, options) is deprecated, use BitmapFontManager.install({name, style, ...options})"));const s=r?.name;if(!s)throw new Error("[BitmapFontManager] Property `name` is required.");r={...this.defaultOptions,...r};const l=r.style,u=l instanceof ll?l:new ll(l),c=u._fill.fill!==null&&u._fill.fill!==void 0,h=new db({style:u,overrideFill:c,skipKerning:r.skipKerning,padding:r.padding,resolution:r.resolution,overrideSize:!1}),d=e1(r.chars);return h.ensureCharacters(d.join("")),Jt.set(`${s}-bitmap`,h),h.once("destroy",()=>Jt.remove(`${s}-bitmap`)),h}uninstall(t){const r=`${t}-bitmap`,s=Jt.get(r);s&&s.destroy()}}const pb=new kE;class i1 extends Dv{constructor(t,r){super();const{textures:s,data:l}=t;Object.keys(l.pages).forEach(u=>{const c=l.pages[parseInt(u,10)],h=s[c.id];this.pages.push({texture:h})}),Object.keys(l.chars).forEach(u=>{const c=l.chars[u],{frame:h,source:d}=s[c.page],m=new fe(c.x+h.x,c.y+h.y,c.width,c.height),g=new Rt({source:d,frame:m});this.chars[u]={id:u.codePointAt(0),xOffset:c.xOffset,yOffset:c.yOffset,xAdvance:c.xAdvance,kerning:c.kerning??{},texture:g}}),this.baseRenderedFontSize=l.fontSize,this.baseMeasurementFontSize=l.fontSize,this.fontMetrics={ascent:0,descent:0,fontSize:l.fontSize},this.baseLineOffset=l.baseLineOffset,this.lineHeight=l.lineHeight,this.fontFamily=l.fontFamily,this.distanceField=l.distanceField??{type:"none",range:0},this.url=r}destroy(){super.destroy();for(let t=0;t<this.pages.length;t++){const{texture:r}=this.pages[t];r.destroy(!0)}this.pages=null}static install(t){pb.install(t)}static uninstall(t){pb.uninstall(t)}}const pf={test(n){return typeof n=="string"&&n.startsWith("info face=")},parse(n){const t=n.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const y in t){const v=t[y].match(/^[a-z]+/gm)[0],b=t[y].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),T={};for(const E in b){const w=b[E].split("="),R=w[0],k=w[1].replace(/"/gm,""),D=parseFloat(k),P=isNaN(D)?k:D;T[R]=P}r[v].push(T)}const s={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},[l]=r.info,[u]=r.common,[c]=r.distanceField;c&&(s.distanceField={range:parseInt(c.distanceRange,10),type:c.fieldType}),s.fontSize=parseInt(l.size,10),s.fontFamily=l.face,s.lineHeight=parseInt(u.lineHeight,10);const h=r.page;for(let y=0;y<h.length;y++)s.pages.push({id:parseInt(h[y].id,10)||0,file:h[y].file});const d={};s.baseLineOffset=s.lineHeight-parseInt(u.base,10);const m=r.char;for(let y=0;y<m.length;y++){const v=m[y],b=parseInt(v.id,10);let T=v.letter??v.char??String.fromCharCode(b);T==="space"&&(T=" "),d[b]=T,s.chars[T]={id:b,page:parseInt(v.page,10)||0,x:parseInt(v.x,10),y:parseInt(v.y,10),width:parseInt(v.width,10),height:parseInt(v.height,10),xOffset:parseInt(v.xoffset,10),yOffset:parseInt(v.yoffset,10),xAdvance:parseInt(v.xadvance,10),kerning:{}}}const g=r.kerning;for(let y=0;y<g.length;y++){const v=parseInt(g[y].first,10),b=parseInt(g[y].second,10),T=parseInt(g[y].amount,10);s.chars[d[b]].kerning[d[v]]=T}return s}},mb={test(n){const t=n;return typeof t!="string"&&"getElementsByTagName"in t&&t.getElementsByTagName("page").length&&t.getElementsByTagName("info")[0].getAttribute("face")!==null},parse(n){const t={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},r=n.getElementsByTagName("info")[0],s=n.getElementsByTagName("common")[0],l=n.getElementsByTagName("distanceField")[0];l&&(t.distanceField={type:l.getAttribute("fieldType"),range:parseInt(l.getAttribute("distanceRange"),10)});const u=n.getElementsByTagName("page"),c=n.getElementsByTagName("char"),h=n.getElementsByTagName("kerning");t.fontSize=parseInt(r.getAttribute("size"),10),t.fontFamily=r.getAttribute("face"),t.lineHeight=parseInt(s.getAttribute("lineHeight"),10);for(let m=0;m<u.length;m++)t.pages.push({id:parseInt(u[m].getAttribute("id"),10)||0,file:u[m].getAttribute("file")});const d={};t.baseLineOffset=t.lineHeight-parseInt(s.getAttribute("base"),10);for(let m=0;m<c.length;m++){const g=c[m],y=parseInt(g.getAttribute("id"),10);let v=g.getAttribute("letter")??g.getAttribute("char")??String.fromCharCode(y);v==="space"&&(v=" "),d[y]=v,t.chars[v]={id:y,page:parseInt(g.getAttribute("page"),10)||0,x:parseInt(g.getAttribute("x"),10),y:parseInt(g.getAttribute("y"),10),width:parseInt(g.getAttribute("width"),10),height:parseInt(g.getAttribute("height"),10),xOffset:parseInt(g.getAttribute("xoffset"),10),yOffset:parseInt(g.getAttribute("yoffset"),10),xAdvance:parseInt(g.getAttribute("xadvance"),10),kerning:{}}}for(let m=0;m<h.length;m++){const g=parseInt(h[m].getAttribute("first"),10),y=parseInt(h[m].getAttribute("second"),10),v=parseInt(h[m].getAttribute("amount"),10);t.chars[d[y]].kerning[d[g]]=v}return t}},gb={test(n){return typeof n=="string"&&n.includes("<font>")?mb.test(pe.get().parseXML(n)):!1},parse(n){return mb.parse(pe.get().parseXML(n))}},RE=[".xml",".fnt"],zE={extension:{type:xt.CacheParser,name:"cacheBitmapFont"},test:n=>n instanceof i1,getCacheableAssets(n,t){const r={};return n.forEach(s=>{r[s]=t,r[`${s}-bitmap`]=t}),r[`${t.fontFamily}-bitmap`]=t,r}},OE={extension:{type:xt.LoadParser,priority:Wr.Normal},name:"loadBitmapFont",test(n){return RE.includes(tn.extname(n).toLowerCase())},async testParse(n){return pf.test(n)||gb.test(n)},async parse(n,t,r){const s=pf.test(n)?pf.parse(n):gb.parse(n),{src:l}=t,{pages:u}=s,c=[],h=s.distanceField?{scaleMode:"linear",alphaMode:"premultiply-alpha-on-upload",autoGenerateMipmaps:!1,resolution:1}:{};for(let y=0;y<u.length;++y){const v=u[y].file;let b=tn.join(tn.dirname(l),v);b=sd(b,l),c.push({src:b,data:h})}const d=await r.load(c),m=c.map(y=>d[y.src]);return new i1({data:s,textures:m},l)},async load(n,t){return await(await pe.get().fetch(n)).text()},async unload(n,t,r){await Promise.all(n.pages.map(s=>r.unload(s.texture.source._sourceOrigin))),n.destroy()}};class BE{constructor(t,r=!1){this._loader=t,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=r}add(t){t.forEach(r=>{this._assetList.push(r)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const t=[],r=Math.min(this._assetList.length,this._maxConcurrent);for(let s=0;s<r;s++)t.push(this._assetList.pop());await this._loader.load(t),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(t){this._isActive!==t&&(this._isActive=t,t&&!this._isLoading&&this._next())}}const jE={extension:{type:xt.CacheParser,name:"cacheTextureArray"},test:n=>Array.isArray(n)&&n.every(t=>t instanceof Rt),getCacheableAssets:(n,t)=>{const r={};return n.forEach(s=>{t.forEach((l,u)=>{r[s+(u===0?"":u+1)]=l})}),r}};async function s1(n){if("Image"in globalThis)return new Promise(t=>{const r=new Image;r.onload=()=>{t(!0)},r.onerror=()=>{t(!1)},r.src=n});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const t=await(await fetch(n)).blob();await createImageBitmap(t)}catch{return!1}return!0}return!1}const DE={extension:{type:xt.DetectionParser,priority:1},test:async()=>s1("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async n=>[...n,"avif"],remove:async n=>n.filter(t=>t!=="avif")},yb=["png","jpg","jpeg"],NE={extension:{type:xt.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async n=>[...n,...yb],remove:async n=>n.filter(t=>!yb.includes(t))},HE="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function qd(n){return HE?!1:document.createElement("video").canPlayType(n)!==""}const PE={extension:{type:xt.DetectionParser,priority:0},test:async()=>qd("video/mp4"),add:async n=>[...n,"mp4","m4v"],remove:async n=>n.filter(t=>t!=="mp4"&&t!=="m4v")},UE={extension:{type:xt.DetectionParser,priority:0},test:async()=>qd("video/ogg"),add:async n=>[...n,"ogv"],remove:async n=>n.filter(t=>t!=="ogv")},GE={extension:{type:xt.DetectionParser,priority:0},test:async()=>qd("video/webm"),add:async n=>[...n,"webm"],remove:async n=>n.filter(t=>t!=="webm")},LE={extension:{type:xt.DetectionParser,priority:0},test:async()=>s1("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async n=>[...n,"webp"],remove:async n=>n.filter(t=>t!=="webp")};class IE{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(t,r,s)=>(this._parsersValidated=!1,t[r]=s,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(t,r){const s={promise:null,parser:null};return s.promise=(async()=>{let l=null,u=null;if(r.loadParser&&(u=this._parserHash[r.loadParser],u||ae(`[Assets] specified load parser "${r.loadParser}" not found while loading ${t}`)),!u){for(let c=0;c<this.parsers.length;c++){const h=this.parsers[c];if(h.load&&h.test?.(t,r,this)){u=h;break}}if(!u)return ae(`[Assets] ${t} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}l=await u.load(t,r,this),s.parser=u;for(let c=0;c<this.parsers.length;c++){const h=this.parsers[c];h.parse&&h.parse&&await h.testParse?.(l,r,this)&&(l=await h.parse(l,r,this)||l,s.parser=h)}return l})(),s}async load(t,r){this._parsersValidated||this._validateParsers();let s=0;const l={},u=lu(t),c=Mn(t,m=>({alias:[m],src:m,data:{}})),h=c.length,d=c.map(async m=>{const g=tn.toAbsolute(m.src);if(!l[m.src])try{this.promiseCache[g]||(this.promiseCache[g]=this._getLoadPromiseAndParser(g,m)),l[m.src]=await this.promiseCache[g].promise,r&&r(++s/h)}catch(y){throw delete this.promiseCache[g],delete l[m.src],new Error(`[Loader.load] Failed to load ${g}.
${y}`)}});return await Promise.all(d),u?l[c[0].src]:l}async unload(t){const s=Mn(t,l=>({alias:[l],src:l})).map(async l=>{const u=tn.toAbsolute(l.src),c=this.promiseCache[u];if(c){const h=await c.promise;delete this.promiseCache[u],await c.parser?.unload?.(h,l,this)}});await Promise.all(s)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(t=>t.name).reduce((t,r)=>(r.name?t[r.name]&&ae(`[Assets] loadParser name conflict "${r.name}"`):ae("[Assets] loadParser should have a name"),{...t,[r.name]:r}),{})}}function Rs(n,t){if(Array.isArray(t)){for(const r of t)if(n.startsWith(`data:${r}`))return!0;return!1}return n.startsWith(`data:${t}`)}function zs(n,t){const r=n.split("?")[0],s=tn.extname(r).toLowerCase();return Array.isArray(t)?t.includes(s):s===t}const qE=".json",FE="application/json",YE={extension:{type:xt.LoadParser,priority:Wr.Low},name:"loadJson",test(n){return Rs(n,FE)||zs(n,qE)},async load(n){return await(await pe.get().fetch(n)).json()}},VE=".txt",XE="text/plain",WE={name:"loadTxt",extension:{type:xt.LoadParser,priority:Wr.Low,name:"loadTxt"},test(n){return Rs(n,XE)||zs(n,VE)},async load(n){return await(await pe.get().fetch(n)).text()}},$E=["normal","bold","100","200","300","400","500","600","700","800","900"],KE=[".ttf",".otf",".woff",".woff2"],QE=["font/ttf","font/otf","font/woff","font/woff2"],ZE=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function JE(n){const t=tn.extname(n),l=tn.basename(n,t).replace(/(-|_)/g," ").toLowerCase().split(" ").map(h=>h.charAt(0).toUpperCase()+h.slice(1));let u=l.length>0;for(const h of l)if(!h.match(ZE)){u=!1;break}let c=l.join(" ");return u||(c=`"${c.replace(/[\\"]/g,"\\$&")}"`),c}const tM=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function eM(n){return tM.test(n)?n:encodeURI(n)}const nM={extension:{type:xt.LoadParser,priority:Wr.Low},name:"loadWebFont",test(n){return Rs(n,QE)||zs(n,KE)},async load(n,t){const r=pe.get().getFontFaceSet();if(r){const s=[],l=t.data?.family??JE(n),u=t.data?.weights?.filter(h=>$E.includes(h))??["normal"],c=t.data??{};for(let h=0;h<u.length;h++){const d=u[h],m=new FontFace(l,`url(${eM(n)})`,{...c,weight:d});await m.load(),r.add(m),s.push(m)}return Jt.set(`${l}-and-url`,{url:n,fontFaces:s}),s.length===1?s[0]:s}return ae("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(n){(Array.isArray(n)?n:[n]).forEach(t=>{Jt.remove(`${t.family}-and-url`),pe.get().getFontFaceSet().delete(t)})}};function Fd(n,t=1){const r=ks.RETINA_PREFIX?.exec(n);return r?parseFloat(r[1]):t}function Yd(n,t,r){n.label=r,n._sourceOrigin=r;const s=new Rt({source:n,label:r}),l=()=>{delete t.promiseCache[r],Jt.has(r)&&Jt.remove(r)};return s.source.once("destroy",()=>{t.promiseCache[r]&&(ae("[Assets] A TextureSource managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the TextureSource."),l())}),s.once("destroy",()=>{n.destroyed||(ae("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),l())}),s}const rM=".svg",iM="image/svg+xml",sM={extension:{type:xt.LoadParser,priority:Wr.Low,name:"loadSVG"},name:"loadSVG",config:{crossOrigin:"anonymous",parseAsGraphicsContext:!1},test(n){return Rs(n,iM)||zs(n,rM)},async load(n,t,r){return t.data.parseAsGraphicsContext??this.config.parseAsGraphicsContext?lM(n):aM(n,t,r,this.config.crossOrigin)},unload(n){n.destroy(!0)}};async function aM(n,t,r,s){const u=await(await pe.get().fetch(n)).blob(),c=URL.createObjectURL(u),h=new Image;h.src=c,h.crossOrigin=s,await h.decode(),URL.revokeObjectURL(c);const d=document.createElement("canvas"),m=d.getContext("2d"),g=t.data?.resolution||Fd(n),y=t.data?.width??h.width,v=t.data?.height??h.height;d.width=y*g,d.height=v*g,m.drawImage(h,0,0,y*g,v*g);const{parseAsGraphicsContext:b,...T}=t.data,E=new Cs({resource:d,alphaMode:"premultiply-alpha-on-upload",resolution:g,...T});return Yd(E,r,n)}async function lM(n){const r=await(await pe.get().fetch(n)).text(),s=new Si;return s.svg(r),s}const oM=`(function () {
    'use strict';

    const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
    async function checkImageBitmap() {
      try {
        if (typeof createImageBitmap !== "function")
          return false;
        const response = await fetch(WHITE_PNG);
        const imageBlob = await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);
        return imageBitmap.width === 1 && imageBitmap.height === 1;
      } catch (_e) {
        return false;
      }
    }
    void checkImageBitmap().then((result) => {
      self.postMessage(result);
    });

})();
`;let _s=null,md=class{constructor(){_s||(_s=URL.createObjectURL(new Blob([oM],{type:"application/javascript"}))),this.worker=new Worker(_s)}};md.revokeObjectURL=function(){_s&&(URL.revokeObjectURL(_s),_s=null)};const uM=`(function () {
    'use strict';

    async function loadImageBitmap(url, alphaMode) {
      const response = await fetch(url);
      if (!response.ok) {
        throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
      }
      const imageBlob = await response.blob();
      return alphaMode === "premultiplied-alpha" ? createImageBitmap(imageBlob, { premultiplyAlpha: "none" }) : createImageBitmap(imageBlob);
    }
    self.onmessage = async (event) => {
      try {
        const imageBitmap = await loadImageBitmap(event.data.data[0], event.data.data[1]);
        self.postMessage({
          data: imageBitmap,
          uuid: event.data.uuid,
          id: event.data.id
        }, [imageBitmap]);
      } catch (e) {
        self.postMessage({
          error: e,
          uuid: event.data.uuid,
          id: event.data.id
        });
      }
    };

})();
`;let ws=null;class a1{constructor(){ws||(ws=URL.createObjectURL(new Blob([uM],{type:"application/javascript"}))),this.worker=new Worker(ws)}}a1.revokeObjectURL=function(){ws&&(URL.revokeObjectURL(ws),ws=null)};let xb=0,mf;class cM{constructor(){this._initialized=!1,this._createdWorkers=0,this._workerPool=[],this._queue=[],this._resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(t=>{const{worker:r}=new md;r.addEventListener("message",s=>{r.terminate(),md.revokeObjectURL(),t(s.data)})}),this._isImageBitmapSupported)}loadImageBitmap(t,r){return this._run("loadImageBitmap",[t,r?.data?.alphaMode])}async _initWorkers(){this._initialized||(this._initialized=!0)}_getWorker(){mf===void 0&&(mf=navigator.hardwareConcurrency||4);let t=this._workerPool.pop();return!t&&this._createdWorkers<mf&&(this._createdWorkers++,t=new a1().worker,t.addEventListener("message",r=>{this._complete(r.data),this._returnWorker(r.target),this._next()})),t}_returnWorker(t){this._workerPool.push(t)}_complete(t){t.error!==void 0?this._resolveHash[t.uuid].reject(t.error):this._resolveHash[t.uuid].resolve(t.data),this._resolveHash[t.uuid]=null}async _run(t,r){await this._initWorkers();const s=new Promise((l,u)=>{this._queue.push({id:t,arguments:r,resolve:l,reject:u})});return this._next(),s}_next(){if(!this._queue.length)return;const t=this._getWorker();if(!t)return;const r=this._queue.pop(),s=r.id;this._resolveHash[xb]={resolve:r.resolve,reject:r.reject},t.postMessage({data:r.arguments,uuid:xb++,id:s})}}const bb=new cM,hM=[".jpeg",".jpg",".png",".webp",".avif"],fM=["image/jpeg","image/png","image/webp","image/avif"];async function dM(n,t){const r=await pe.get().fetch(n);if(!r.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${n}: ${r.status} ${r.statusText}`);const s=await r.blob();return t?.data?.alphaMode==="premultiplied-alpha"?createImageBitmap(s,{premultiplyAlpha:"none"}):createImageBitmap(s)}const l1={name:"loadTextures",extension:{type:xt.LoadParser,priority:Wr.High,name:"loadTextures"},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(n){return Rs(n,fM)||zs(n,hM)},async load(n,t,r){let s=null;globalThis.createImageBitmap&&this.config.preferCreateImageBitmap?this.config.preferWorkers&&await bb.isImageBitmapSupported()?s=await bb.loadImageBitmap(n,t):s=await dM(n,t):s=await new Promise(u=>{s=new Image,s.crossOrigin=this.config.crossOrigin,s.src=n,s.complete?u(s):s.onload=()=>{u(s)}});const l=new Cs({resource:s,alphaMode:"premultiply-alpha-on-upload",resolution:t.data?.resolution||Fd(n),...t.data});return Yd(l,r,n)},unload(n){n.destroy(!0)}},o1=[".mp4",".m4v",".webm",".ogg",".ogv",".h264",".avi",".mov"],pM=o1.map(n=>`video/${n.substring(1)}`);function mM(n,t,r){r===void 0&&!t.startsWith("data:")?n.crossOrigin=yM(t):r!==!1&&(n.crossOrigin=typeof r=="string"?r:"anonymous")}function gM(n){return new Promise((t,r)=>{n.addEventListener("canplaythrough",s),n.addEventListener("error",l),n.load();function s(){u(),t()}function l(c){u(),r(c)}function u(){n.removeEventListener("canplaythrough",s),n.removeEventListener("error",l)}})}function yM(n,t=globalThis.location){if(n.startsWith("data:"))return"";t||(t=globalThis.location);const r=new URL(n,document.baseURI);return r.hostname!==t.hostname||r.port!==t.port||r.protocol!==t.protocol?"anonymous":""}const xM={name:"loadVideo",extension:{type:xt.LoadParser,name:"loadVideo"},test(n){const t=Rs(n,pM),r=zs(n,o1);return t||r},async load(n,t,r){const s={...eu.defaultOptions,resolution:t.data?.resolution||Fd(n),alphaMode:t.data?.alphaMode||await wv(),...t.data},l=document.createElement("video"),u={preload:s.autoLoad!==!1?"auto":void 0,"webkit-playsinline":s.playsinline!==!1?"":void 0,playsinline:s.playsinline!==!1?"":void 0,muted:s.muted===!0?"":void 0,loop:s.loop===!0?"":void 0,autoplay:s.autoPlay!==!1?"":void 0};Object.keys(u).forEach(d=>{const m=u[d];m!==void 0&&l.setAttribute(d,m)}),s.muted===!0&&(l.muted=!0),mM(l,n,s.crossorigin);const c=document.createElement("source");let h;if(n.startsWith("data:"))h=n.slice(5,n.indexOf(";"));else if(!n.startsWith("blob:")){const d=n.split("?")[0].slice(n.lastIndexOf(".")+1).toLowerCase();h=eu.MIME_TYPES[d]||`video/${d}`}return c.src=n,h&&(c.type=h),new Promise(d=>{const m=async()=>{const g=new eu({...s,resource:l});l.removeEventListener("canplay",m),t.data.preload&&await gM(l),d(Yd(g,r,n))};l.addEventListener("canplay",m),l.appendChild(c)})},unload(n){n.destroy(!0)}},u1={extension:{type:xt.ResolveParser,name:"resolveTexture"},test:l1.test,parse:n=>({resolution:parseFloat(ks.RETINA_PREFIX.exec(n)?.[1]??"1"),format:n.split(".").pop(),src:n})},bM={extension:{type:xt.ResolveParser,priority:-2,name:"resolveJson"},test:n=>ks.RETINA_PREFIX.test(n)&&n.endsWith(".json"),parse:u1.parse};class vM{constructor(){this._detections=[],this._initialized=!1,this.resolver=new ks,this.loader=new IE,this.cache=Jt,this._backgroundLoader=new BE(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(t={}){if(this._initialized){ae("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,t.defaultSearchParams&&this.resolver.setDefaultSearchParams(t.defaultSearchParams),t.basePath&&(this.resolver.basePath=t.basePath),t.bundleIdentifier&&this.resolver.setBundleIdentifier(t.bundleIdentifier),t.manifest){let u=t.manifest;typeof u=="string"&&(u=await this.load(u)),this.resolver.addManifest(u)}const r=t.texturePreference?.resolution??1,s=typeof r=="number"?[r]:r,l=await this._detectFormats({preferredFormats:t.texturePreference?.format,skipDetections:t.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:l,resolution:s}}),t.preferences&&this.setPreferences(t.preferences)}add(t){this.resolver.add(t)}async load(t,r){this._initialized||await this.init();const s=lu(t),l=Mn(t).map(h=>{if(typeof h!="string"){const d=this.resolver.getAlias(h);return d.some(m=>!this.resolver.hasKey(m))&&this.add(h),Array.isArray(d)?d[0]:d}return this.resolver.hasKey(h)||this.add({alias:h,src:h}),h}),u=this.resolver.resolve(l),c=await this._mapLoadToResolve(u,r);return s?c[l[0]]:c}addBundle(t,r){this.resolver.addBundle(t,r)}async loadBundle(t,r){this._initialized||await this.init();let s=!1;typeof t=="string"&&(s=!0,t=[t]);const l=this.resolver.resolveBundle(t),u={},c=Object.keys(l);let h=0,d=0;const m=()=>{r?.(++h/d)},g=c.map(y=>{const v=l[y];return d+=Object.keys(v).length,this._mapLoadToResolve(v,m).then(b=>{u[y]=b})});return await Promise.all(g),s?u[t[0]]:u}async backgroundLoad(t){this._initialized||await this.init(),typeof t=="string"&&(t=[t]);const r=this.resolver.resolve(t);this._backgroundLoader.add(Object.values(r))}async backgroundLoadBundle(t){this._initialized||await this.init(),typeof t=="string"&&(t=[t]);const r=this.resolver.resolveBundle(t);Object.values(r).forEach(s=>{this._backgroundLoader.add(Object.values(s))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(t){if(typeof t=="string")return Jt.get(t);const r={};for(let s=0;s<t.length;s++)r[s]=Jt.get(t[s]);return r}async _mapLoadToResolve(t,r){const s=[...new Set(Object.values(t))];this._backgroundLoader.active=!1;const l=await this.loader.load(s,r);this._backgroundLoader.active=!0;const u={};return s.forEach(c=>{const h=l[c.src],d=[c.src];c.alias&&d.push(...c.alias),d.forEach(m=>{u[m]=h}),Jt.set(d,h)}),u}async unload(t){this._initialized||await this.init();const r=Mn(t).map(l=>typeof l!="string"?l.src:l),s=this.resolver.resolve(r);await this._unloadFromResolved(s)}async unloadBundle(t){this._initialized||await this.init(),t=Mn(t);const r=this.resolver.resolveBundle(t),s=Object.keys(r).map(l=>this._unloadFromResolved(r[l]));await Promise.all(s)}async _unloadFromResolved(t){const r=Object.values(t);r.forEach(s=>{Jt.remove(s.src)}),await this.loader.unload(r)}async _detectFormats(t){let r=[];t.preferredFormats&&(r=Array.isArray(t.preferredFormats)?t.preferredFormats:[t.preferredFormats]);for(const s of t.detections)t.skipDetections||await s.test()?r=await s.add(r):t.skipDetections||(r=await s.remove(r));return r=r.filter((s,l)=>r.indexOf(s)===l),r}get detections(){return this._detections}setPreferences(t){this.loader.parsers.forEach(r=>{r.config&&Object.keys(r.config).filter(s=>s in t).forEach(s=>{r.config[s]=t[s]})})}}const Ka=new vM;xn.handleByList(xt.LoadParser,Ka.loader.parsers).handleByList(xt.ResolveParser,Ka.resolver.parsers).handleByList(xt.CacheParser,Ka.cache.parsers).handleByList(xt.DetectionParser,Ka.detections);xn.add(jE,NE,DE,LE,PE,UE,GE,YE,WE,nM,sM,l1,xM,OE,zE,u1,bM);const vb={loader:xt.LoadParser,resolver:xt.ResolveParser,cache:xt.CacheParser,detection:xt.DetectionParser};xn.handle(xt.Asset,n=>{const t=n.ref;Object.entries(vb).filter(([r])=>!!t[r]).forEach(([r,s])=>xn.add(Object.assign(t[r],{extension:t[r].extension??s})))},n=>{const t=n.ref;Object.keys(vb).filter(r=>!!t[r]).forEach(r=>xn.remove(t[r]))});xn.add(pA,mA);const _M="/assets/sprites-CFubw0g8.png",dl=n=>n[Symbol.iterator]();var gf={exports:{}},yf={exports:{}},_b;function Os(){return _b||(_b=1,function(n){function t(r){"@babel/helpers - typeof";return n.exports=t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},n.exports.__esModule=!0,n.exports.default=n.exports,t(r)}n.exports=t,n.exports.__esModule=!0,n.exports.default=n.exports}(yf)),yf.exports}var wb;function wM(){return wb||(wb=1,function(n){var t=Os().default;function r(){n.exports=r=function(){return l},n.exports.__esModule=!0,n.exports.default=n.exports;var s,l={},u=Object.prototype,c=u.hasOwnProperty,h=Object.defineProperty||function(B,_,C){B[_]=C.value},d=typeof Symbol=="function"?Symbol:{},m=d.iterator||"@@iterator",g=d.asyncIterator||"@@asyncIterator",y=d.toStringTag||"@@toStringTag";function v(B,_,C){return Object.defineProperty(B,_,{value:C,enumerable:!0,configurable:!0,writable:!0}),B[_]}try{v({},"")}catch{v=function(C,N,L){return C[N]=L}}function b(B,_,C,N){var L=_&&_.prototype instanceof P?_:P,F=Object.create(L.prototype),J=new z(N||[]);return h(F,"_invoke",{value:gt(B,C,J)}),F}function T(B,_,C){try{return{type:"normal",arg:B.call(_,C)}}catch(N){return{type:"throw",arg:N}}}l.wrap=b;var E="suspendedStart",w="suspendedYield",R="executing",k="completed",D={};function P(){}function I(){}function G(){}var V={};v(V,m,function(){return this});var et=Object.getPrototypeOf,W=et&&et(et(j([])));W&&W!==u&&c.call(W,m)&&(V=W);var $=G.prototype=P.prototype=Object.create(V);function rt(B){["next","throw","return"].forEach(function(_){v(B,_,function(C){return this._invoke(_,C)})})}function it(B,_){function C(L,F,J,nt){var ct=T(B[L],B,F);if(ct.type!=="throw"){var st=ct.arg,mt=st.value;return mt&&t(mt)=="object"&&c.call(mt,"__await")?_.resolve(mt.__await).then(function(ot){C("next",ot,J,nt)},function(ot){C("throw",ot,J,nt)}):_.resolve(mt).then(function(ot){st.value=ot,J(st)},function(ot){return C("throw",ot,J,nt)})}nt(ct.arg)}var N;h(this,"_invoke",{value:function(F,J){function nt(){return new _(function(ct,st){C(F,J,ct,st)})}return N=N?N.then(nt,nt):nt()}})}function gt(B,_,C){var N=E;return function(L,F){if(N===R)throw Error("Generator is already running");if(N===k){if(L==="throw")throw F;return{value:s,done:!0}}for(C.method=L,C.arg=F;;){var J=C.delegate;if(J){var nt=bt(J,C);if(nt){if(nt===D)continue;return nt}}if(C.method==="next")C.sent=C._sent=C.arg;else if(C.method==="throw"){if(N===E)throw N=k,C.arg;C.dispatchException(C.arg)}else C.method==="return"&&C.abrupt("return",C.arg);N=R;var ct=T(B,_,C);if(ct.type==="normal"){if(N=C.done?k:w,ct.arg===D)continue;return{value:ct.arg,done:C.done}}ct.type==="throw"&&(N=k,C.method="throw",C.arg=ct.arg)}}}function bt(B,_){var C=_.method,N=B.iterator[C];if(N===s)return _.delegate=null,C==="throw"&&B.iterator.return&&(_.method="return",_.arg=s,bt(B,_),_.method==="throw")||C!=="return"&&(_.method="throw",_.arg=new TypeError("The iterator does not provide a '"+C+"' method")),D;var L=T(N,B.iterator,_.arg);if(L.type==="throw")return _.method="throw",_.arg=L.arg,_.delegate=null,D;var F=L.arg;return F?F.done?(_[B.resultName]=F.value,_.next=B.nextLoc,_.method!=="return"&&(_.method="next",_.arg=s),_.delegate=null,D):F:(_.method="throw",_.arg=new TypeError("iterator result is not an object"),_.delegate=null,D)}function jt(B){var _={tryLoc:B[0]};1 in B&&(_.catchLoc=B[1]),2 in B&&(_.finallyLoc=B[2],_.afterLoc=B[3]),this.tryEntries.push(_)}function S(B){var _=B.completion||{};_.type="normal",delete _.arg,B.completion=_}function z(B){this.tryEntries=[{tryLoc:"root"}],B.forEach(jt,this),this.reset(!0)}function j(B){if(B||B===""){var _=B[m];if(_)return _.call(B);if(typeof B.next=="function")return B;if(!isNaN(B.length)){var C=-1,N=function L(){for(;++C<B.length;)if(c.call(B,C))return L.value=B[C],L.done=!1,L;return L.value=s,L.done=!0,L};return N.next=N}}throw new TypeError(t(B)+" is not iterable")}return I.prototype=G,h($,"constructor",{value:G,configurable:!0}),h(G,"constructor",{value:I,configurable:!0}),I.displayName=v(G,y,"GeneratorFunction"),l.isGeneratorFunction=function(B){var _=typeof B=="function"&&B.constructor;return!!_&&(_===I||(_.displayName||_.name)==="GeneratorFunction")},l.mark=function(B){return Object.setPrototypeOf?Object.setPrototypeOf(B,G):(B.__proto__=G,v(B,y,"GeneratorFunction")),B.prototype=Object.create($),B},l.awrap=function(B){return{__await:B}},rt(it.prototype),v(it.prototype,g,function(){return this}),l.AsyncIterator=it,l.async=function(B,_,C,N,L){L===void 0&&(L=Promise);var F=new it(b(B,_,C,N),L);return l.isGeneratorFunction(_)?F:F.next().then(function(J){return J.done?J.value:F.next()})},rt($),v($,y,"Generator"),v($,m,function(){return this}),v($,"toString",function(){return"[object Generator]"}),l.keys=function(B){var _=Object(B),C=[];for(var N in _)C.push(N);return C.reverse(),function L(){for(;C.length;){var F=C.pop();if(F in _)return L.value=F,L.done=!1,L}return L.done=!0,L}},l.values=j,z.prototype={constructor:z,reset:function(_){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(S),!_)for(var C in this)C.charAt(0)==="t"&&c.call(this,C)&&!isNaN(+C.slice(1))&&(this[C]=s)},stop:function(){this.done=!0;var _=this.tryEntries[0].completion;if(_.type==="throw")throw _.arg;return this.rval},dispatchException:function(_){if(this.done)throw _;var C=this;function N(st,mt){return J.type="throw",J.arg=_,C.next=st,mt&&(C.method="next",C.arg=s),!!mt}for(var L=this.tryEntries.length-1;L>=0;--L){var F=this.tryEntries[L],J=F.completion;if(F.tryLoc==="root")return N("end");if(F.tryLoc<=this.prev){var nt=c.call(F,"catchLoc"),ct=c.call(F,"finallyLoc");if(nt&&ct){if(this.prev<F.catchLoc)return N(F.catchLoc,!0);if(this.prev<F.finallyLoc)return N(F.finallyLoc)}else if(nt){if(this.prev<F.catchLoc)return N(F.catchLoc,!0)}else{if(!ct)throw Error("try statement without catch or finally");if(this.prev<F.finallyLoc)return N(F.finallyLoc)}}}},abrupt:function(_,C){for(var N=this.tryEntries.length-1;N>=0;--N){var L=this.tryEntries[N];if(L.tryLoc<=this.prev&&c.call(L,"finallyLoc")&&this.prev<L.finallyLoc){var F=L;break}}F&&(_==="break"||_==="continue")&&F.tryLoc<=C&&C<=F.finallyLoc&&(F=null);var J=F?F.completion:{};return J.type=_,J.arg=C,F?(this.method="next",this.next=F.finallyLoc,D):this.complete(J)},complete:function(_,C){if(_.type==="throw")throw _.arg;return _.type==="break"||_.type==="continue"?this.next=_.arg:_.type==="return"?(this.rval=this.arg=_.arg,this.method="return",this.next="end"):_.type==="normal"&&C&&(this.next=C),D},finish:function(_){for(var C=this.tryEntries.length-1;C>=0;--C){var N=this.tryEntries[C];if(N.finallyLoc===_)return this.complete(N.completion,N.afterLoc),S(N),D}},catch:function(_){for(var C=this.tryEntries.length-1;C>=0;--C){var N=this.tryEntries[C];if(N.tryLoc===_){var L=N.completion;if(L.type==="throw"){var F=L.arg;S(N)}return F}}throw Error("illegal catch attempt")},delegateYield:function(_,C,N){return this.delegate={iterator:j(_),resultName:C,nextLoc:N},this.method==="next"&&(this.arg=s),D}},l}n.exports=r,n.exports.__esModule=!0,n.exports.default=n.exports}(gf)),gf.exports}var xf,Sb;function xu(){if(Sb)return xf;Sb=1;var n=wM()();xf=n;try{regeneratorRuntime=n}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}return xf}var Qe={},bf={exports:{}},vf={exports:{}},_f={exports:{}},Ab;function SM(){return Ab||(Ab=1,function(n){var t=Os().default;function r(s,l){if(t(s)!="object"||!s)return s;var u=s[Symbol.toPrimitive];if(u!==void 0){var c=u.call(s,l||"default");if(t(c)!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(s)}n.exports=r,n.exports.__esModule=!0,n.exports.default=n.exports}(_f)),_f.exports}var Tb;function AM(){return Tb||(Tb=1,function(n){var t=Os().default,r=SM();function s(l){var u=r(l,"string");return t(u)=="symbol"?u:u+""}n.exports=s,n.exports.__esModule=!0,n.exports.default=n.exports}(vf)),vf.exports}var Eb;function TM(){return Eb||(Eb=1,function(n){var t=AM();function r(s,l,u){return(l=t(l))in s?Object.defineProperty(s,l,{value:u,enumerable:!0,configurable:!0,writable:!0}):s[l]=u,s}n.exports=r,n.exports.__esModule=!0,n.exports.default=n.exports}(bf)),bf.exports}var wf={exports:{}},Sf={exports:{}},Af={exports:{}},Mb;function c1(){return Mb||(Mb=1,function(n){function t(r,s){(s==null||s>r.length)&&(s=r.length);for(var l=0,u=Array(s);l<s;l++)u[l]=r[l];return u}n.exports=t,n.exports.__esModule=!0,n.exports.default=n.exports}(Af)),Af.exports}var Cb;function EM(){return Cb||(Cb=1,function(n){var t=c1();function r(s){if(Array.isArray(s))return t(s)}n.exports=r,n.exports.__esModule=!0,n.exports.default=n.exports}(Sf)),Sf.exports}var Tf={exports:{}},kb;function MM(){return kb||(kb=1,function(n){function t(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}n.exports=t,n.exports.__esModule=!0,n.exports.default=n.exports}(Tf)),Tf.exports}var Ef={exports:{}},Rb;function h1(){return Rb||(Rb=1,function(n){var t=c1();function r(s,l){if(s){if(typeof s=="string")return t(s,l);var u={}.toString.call(s).slice(8,-1);return u==="Object"&&s.constructor&&(u=s.constructor.name),u==="Map"||u==="Set"?Array.from(s):u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u)?t(s,l):void 0}}n.exports=r,n.exports.__esModule=!0,n.exports.default=n.exports}(Ef)),Ef.exports}var Mf={exports:{}},zb;function CM(){return zb||(zb=1,function(n){function t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}n.exports=t,n.exports.__esModule=!0,n.exports.default=n.exports}(Mf)),Mf.exports}var Ob;function f1(){return Ob||(Ob=1,function(n){var t=EM(),r=MM(),s=h1(),l=CM();function u(c){return t(c)||r(c)||s(c)||l()}n.exports=u,n.exports.__esModule=!0,n.exports.default=n.exports}(wf)),wf.exports}var Cf={},kf={},Bb;function Vd(){if(Bb)return kf;Bb=1;function n(t){return typeof t<"u"}return kf.notUndefined=n,kf}var jb;function d1(){if(jb)return Cf;jb=1;var n=Vd(),t=n.notUndefined;function r(s){return s!=null&&t(s[Symbol.iterator])}return Cf.isIterable=r,Cf}var Rf={},Db;function kM(){return Db||(Db=1,Rf.isLoopable=d1().isIterable),Rf}var zf={},Nb;function RM(){if(Nb)return zf;Nb=1;var n=Vd(),t=n.notUndefined;function r(s){return s==null||t(s[Symbol.iterator])}return zf.isWrappable=r,zf}var qo={},Hb;function zM(){if(Hb)return qo;Hb=1;var n=xu(),t=n.mark(s),r=n.mark(l);function s(u){return n.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.delegateYield(u,"t0",1);case 1:case"end":return h.stop()}},t)}qo.wrap=s;function l(u){return n.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(u==null){h.next=2;break}return h.delegateYield(u,"t0",2);case 2:case"end":return h.stop()}},r)}return qo.nullableWrap=l,qo}var Fo={},Pb;function OM(){if(Pb)return Fo;Pb=1;var n=f1();function t(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l.length,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return function(){for(var h=arguments.length,d=new Array(h),m=0;m<h;m++)d[m]=arguments[m];return u<=d.length?l.apply(void 0,n(c).concat(d)):t(l,u-d.length,[].concat(n(c),d))}}Fo.curry=t;function r(l,u){var c=l.fn,h=l.validateArgs,d=l.variadic,m=l.reduces,g=l.growRight,y=l.minArgs,v=l.maxArgs,b=l.isIterable,T=l.iterableType,E=l.applyOnIterableArgs,w=l.IterableClass;if(u.length>y){var R=!0,k=d?u.findIndex(function(W,$){return b(W)&&$>=y}):Math.min(v,u.length-1),D=d?u.length:k+1;if(d)for(var P=k;P<u.length;P++)R=R&&b(u[P]);else R=b(u[k]);if(u.length>v&&(k===-1||!R)){var I=d?"...".concat(T,"s"):T,G="".concat(c.name," takes up to ").concat(v," arguments, followed by ").concat(I,". ")+"You already passed ".concat(u.length," arguments");throw d?new Error("".concat(G," and the following arguments were not all ").concat(T,"s")):new Error("".concat(G," and the last argument was not ").concat(T))}if(k>=0&&R){for(var V=k;V<D;V++)u[V]=E(u[V]);var et=d?u.slice(k):u[k];return u.splice(k),g||u.reverse(),u.unshift(et),h(u),m?c.apply(void 0,n(u)):new w(c,u)}}return s(l,u)}function s(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return function(){for(var c=arguments.length,h=new Array(c),d=0;d<c;d++)h[d]=arguments[d];if(h.length===0)throw new Error("Cannot make a partial application with no arguments");return h.unshift.apply(h,n(u)),r(l,h)}}return Fo.variadicCurryWithValidation=s,Fo}var Na={},Ub;function BM(){if(Ub)return Na;Ub=1;var n=Symbol.for("_");Na._=n;var t=Symbol("__iterate");Na.__iterate=t;var r=Symbol("split");return Na.split=r,Na}var Gb;function bu(){if(Gb)return Qe;Gb=1;var n=TM(),t=f1(),r,s=d1(),l=s.isIterable,u=kM(),c=u.isLoopable,h=RM(),d=h.isWrappable,m=zM(),g=m.nullableWrap,y=OM(),v=y.variadicCurryWithValidation,b=BM(),T=b._,E=b.__iterate;Qe.wrap=g,Qe.isIterable=l,Qe.isLoopable=c,Qe.isWrappable=d;function w(et){if(d(et))return l(et)?et:g(et);throw typeof et.next=="function"?new TypeError("iter-tools received a value that looked like an iterator but was not iterable. Get help fixing this: https://github.com/iter-tools/iter-tools/wiki/Making-iterators-iterable"):new TypeError("Expected an iterable, null, or undefined")}Qe.ensureIterable=w;function R(et){"return"in et&&et.return()}Qe.callReturn=R;function k(et,W){this[T]={fn:et,args:W,staticIterator:null}}Qe.BaseIterableIterator=k,Object.assign(k.prototype,(r={constructor:k},n(r,E,function(){var et=this[T],W=et.fn,$=et.args;return W.apply(void 0,t($))}),n(r,"next",function(){var W=this[T];return W.staticIterator=W.staticIterator||this[E](),W.staticIterator.next()}),n(r,"return",function(W){var $=this[T];return $.staticIterator=$.staticIterator||this[E](),$.staticIterator.return(W)}),n(r,"throw",function(W){var $=this[T];return $.staticIterator=$.staticIterator||this[E](),$.staticIterator.throw(W)}),r));function D(){for(var et=arguments.length,W=new Array(et),$=0;$<et;$++)W[$]=arguments[$];k.apply(this,W)}Qe.IterableIterator=D,D.prototype=Object.assign(Object.create(k.prototype),n({constructor:D},Symbol.iterator,function(){return this[E]()}));function P(et){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$=W.validateArgs,rt=$===void 0?function(F){}:$,it=W.variadic,gt=it===void 0?!1:it,bt=W.reduces,jt=bt===void 0?!1:bt,S=W.growRight,z=S===void 0?!1:S,j=W.minArgs,B=j===void 0?et.length-1:j,_=W.maxArgs,C=_===void 0?et.length-1:_,N=W.applyOnIterableArgs,L=N===void 0?w:N;return{fn:et,validateArgs:rt,variadic:gt,reduces:jt,growRight:z,minArgs:B,maxArgs:C,isIterable:d,iterableType:"iterable",applyOnIterableArgs:L,IterableClass:D}}function I(et){return t(et)}Qe.cache=I;function G(et){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$=W.validateArgs,rt=$===void 0?function(it){return it}:$;return function(){for(var it=arguments.length,gt=new Array(it),bt=0;bt<it;bt++)gt[bt]=arguments[bt];return rt(gt),new D(et,gt)}}Qe.wrapWithIterableIterator=G;var V=function(W,$){return v(P(W,$))};return Qe.iterableCurry=V,Qe}var Ha={},Lb;function jM(){if(Lb)return Ha;Lb=1;function n(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return typeof s=="number"&&!isNaN(s)&&isFinite(s)&&!(l&&s===0)}Ha.isInteger=n;function t(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return n(s)&&(l?s>0:s>=0)}Ha.isPositiveInteger=t;function r(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return typeof s=="number"&&!isNaN(s)&&!(l&&s===0)}return Ha.isIntegerOrInfinite=r,Ha}var Of={exports:{}},Bf={exports:{}},Ib;function DM(){return Ib||(Ib=1,function(n){function t(r){if(Array.isArray(r))return r}n.exports=t,n.exports.__esModule=!0,n.exports.default=n.exports}(Bf)),Bf.exports}var jf={exports:{}},qb;function NM(){return qb||(qb=1,function(n){function t(r,s){var l=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(l!=null){var u,c,h,d,m=[],g=!0,y=!1;try{if(h=(l=l.call(r)).next,s===0){if(Object(l)!==l)return;g=!1}else for(;!(g=(u=h.call(l)).done)&&(m.push(u.value),m.length!==s);g=!0);}catch(v){y=!0,c=v}finally{try{if(!g&&l.return!=null&&(d=l.return(),Object(d)!==d))return}finally{if(y)throw c}}return m}}n.exports=t,n.exports.__esModule=!0,n.exports.default=n.exports}(jf)),jf.exports}var Df={exports:{}},Fb;function HM(){return Fb||(Fb=1,function(n){function t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}n.exports=t,n.exports.__esModule=!0,n.exports.default=n.exports}(Df)),Df.exports}var Yb;function PM(){return Yb||(Yb=1,function(n){var t=DM(),r=NM(),s=h1(),l=HM();function u(c,h){return t(c)||r(c,h)||s(c,h)||l()}n.exports=u,n.exports.__esModule=!0,n.exports.default=n.exports}(Of)),Of.exports}var Nf={},Vb;function UM(){if(Vb)return Nf;Vb=1;var n=Os();function t(r){return n(r)==="object"&&r!==null}return Nf.isObject=t,Nf}var Yo={},Xb;function GM(){if(Xb)return Yo;Xb=1;var n=Os(),t=xu(),r=t.mark(c),s=bu(),l=s.wrapWithIterableIterator,u=Object.prototype.hasOwnProperty;function c(d){var m;return t.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(d!=null){y.next=2;break}return y.abrupt("return");case 2:y.t0=t.keys(d);case 3:if((y.t1=y.t0()).done){y.next=10;break}if(m=y.t1.value,!u.call(d,m)){y.next=8;break}return y.next=8,[m,d[m]];case 8:y.next=3;break;case 10:case"end":return y.stop()}},r)}Yo.__objectEntries=c;var h=l(c,{validateArgs:function(m){if(!(m[0]==null||n(m[0])==="object"))throw new Error("obj argument to objectEntries must be an object, null, or undefined")}});return Yo.objectEntries=h,Yo}var Vo={},Wb;function LM(){if(Wb)return Vo;Wb=1;var n=Os(),t=xu(),r=t.mark(c),s=bu(),l=s.wrapWithIterableIterator,u=Object.prototype.hasOwnProperty;function c(d){var m;return t.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(d!=null){y.next=2;break}return y.abrupt("return");case 2:y.t0=t.keys(d);case 3:if((y.t1=y.t0()).done){y.next=10;break}if(m=y.t1.value,!u.call(d,m)){y.next=8;break}return y.next=8,d[m];case 8:y.next=3;break;case 10:case"end":return y.stop()}},r)}Vo.__objectValues=c;var h=l(c,{validateArgs:function(m){if(!(m[0]==null||n(m[0])==="object"))throw new Error("obj argument to objectValues must be an object, null, or undefined")}});return Vo.objectValues=h,Vo}var Xo={},$b;function IM(){if($b)return Xo;$b=1;var n=PM(),t=xu(),r=t.mark(v),s=bu(),l=s.wrapWithIterableIterator,u=jM(),c=u.isInteger,h=u.isIntegerOrInfinite,d=UM(),m=d.isObject,g=Vd(),y=g.notUndefined;function v(){var T,E,w,R,k=arguments;return t.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:T=k.length>0&&k[0]!==void 0?k[0]:0,E=k.length>1&&k[1]!==void 0?k[1]:1/0,w=k.length>2&&k[2]!==void 0?k[2]:1,R=T;case 4:if(!(w>0?R<E:R>E)){P.next=10;break}return P.next=7,R;case 7:R+=w,P.next=4;break;case 10:case"end":return P.stop()}},r)}Xo.__range=v;var b=l(v,{growRight:!0,validateArgs:function(E){var w=n(E,3),R=w[0],k=w[1],D=k===void 0?1/0:k,P=w[2],I;if(m(R)?(I=R.start,D=R.end,P=R.step):E.length>1?I=R:D=R,y(I)&&!c(I))throw new TypeError("The specified start was not an integer");if(y(D)&&!h(D))throw new TypeError("The specified end was not an integer or infinite");if(y(P)&&!c(P,!0))throw new TypeError("The specified step was not a non-zero integer");E[0]=I,E[1]=D,E[2]=P}});return Xo.range=b,Xo}var Wo={},Kb;function qM(){if(Kb)return Wo;Kb=1;function n(h,d){var m;if(typeof Symbol>"u"||h[Symbol.iterator]==null){if(Array.isArray(h)||(m=t(h))||d){m&&(h=m);var g=0,y=function(){};return{s:y,n:function(){return g>=h.length?{done:!0}:{done:!1,value:h[g++]}},e:function(w){throw w},f:y}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v=!0,b=!1,T;return{s:function(){m=h[Symbol.iterator]()},n:function(){var w=m.next();return v=w.done,w},e:function(w){b=!0,T=w},f:function(){try{!v&&m.return!=null&&m.return()}finally{if(b)throw T}}}}function t(h,d){if(h){if(typeof h=="string")return r(h,d);var m=Object.prototype.toString.call(h).slice(8,-1);if(m==="Object"&&h.constructor&&(m=h.constructor.name),m==="Map"||m==="Set")return Array.from(h);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return r(h,d)}}function r(h,d){(d==null||d>h.length)&&(d=h.length);for(var m=0,g=new Array(d);m<d;m++)g[m]=h[m];return g}var s=bu(),l=s.ensureIterable;function u(h){var d=l(h),m=0,g=n(d),y;try{for(g.s();!(y=g.n()).done;){var v=y.value;m++}}catch(b){g.e(b)}finally{g.f()}return m}Wo.__size=u;var c=u;return Wo.size=c,Wo}var Hf,Qb;function FM(){return Qb||(Qb=1,Hf=GM().objectEntries),Hf}var YM=FM();const VM=vn(YM);var Pf,Zb;function XM(){return Zb||(Zb=1,Pf=LM().objectValues),Pf}var WM=XM();const $M=vn(WM);var Uf,Jb;function KM(){return Jb||(Jb=1,Uf=IM().range),Uf}var QM=KM();const ZM=vn(QM);var Gf,t0;function JM(){return t0||(t0=1,Gf=qM().size),Gf}var tC=JM();const eC=vn(tC),xi=(n,{x:t,y:r},s)=>{function*l(){yield[`${n}.left`,{frame:{x:t,y:r,...s}}],yield[`${n}.away`,{frame:{x:t+s.w+1,y:r,...s}}],yield[`${n}.towards`,{frame:{x:t,y:r+s.h+1,...s}}],yield[`${n}.right`,{frame:{x:t+s.w+1,y:r+s.h+1,...s}}]}return Object.fromEntries(l())},Yt=(n,t,{x:r,y:s},l)=>{function*u(){for(let c=0;c<t;c++)yield[`${n}.${c+1}`,{frame:{x:r+c*(l.w+1),y:s,...l}}]}return Object.fromEntries(u())},e0=(n,t)=>[...dl(ZM(1,t+1)).map(r=>`${n}.${String(r)}`)],Qa={w:32,h:16},Ln={w:16,h:56},It={w:32,h:28},at={w:24,h:24},Mi={w:8,h:8},pl=["away","towards","left","right"],nC=["awayRight","rightTowards","towardsLeft","leftAway"],W3=[...pl,...nC],rC=n=>n==="away"||n==="towards"?"y":"x",$3=n=>n==="away"?"towards":n==="towards"?"away":n==="left"?"right":"left",K3=n=>iC(rC(n)),iC=n=>n==="x"?"y":"x",n0=(n,...t)=>t.reduce((r,s)=>({x:r.x+(s.x??0),y:r.y+(s.y??0)}),n),Q3=(n,...t)=>t.reduce((r,s)=>({x:r.x-(s.x??0),y:r.y-(s.y??0)}),n),sC=(n,t)=>({x:n.x*t,y:n.y*t}),aC=(n,t)=>({x:n.x*t,y:n.y*t,z:n.z*t}),lC=({x:n,y:t,z:r})=>Math.sqrt(n*n+t*t+r*r),Z3=({x:n,y:t})=>Math.sqrt(n*n+t*t),$o=n=>aC(n,1/lC(n)),J3=(...n)=>n.reduce(({x:t,y:r,z:s},{x:l=0,y:u=0,z:c=0})=>({x:t+l,y:r+u,z:s+c}),gd),tO=(n,...t)=>t.reduce((r,s)=>({x:r.x-(s.x??0),y:r.y-(s.y??0),z:r.z-(s.z??0)}),n),eO=({x:n,y:t,z:r},{x:s,y:l,z:u})=>n===s&&t===l&&r===u,nO=({x:n,y:t},{x:r,y:s})=>n===r&&t===s,Lf=n=>Math.abs(n-Math.round(n))<.001,rO=({x:n=0,y:t=0,z:r=0})=>Lf(n)&&Lf(t)&&Lf(r),iO=({x:n=0,y:t=0,z:r=0})=>Number.isInteger(n)&&Number.isInteger(t)&&Number.isInteger(r),sO=({x:n,y:t,z:r})=>({x:Math.round(n),y:Math.round(t),z:Math.round(r)}),aO=Object.freeze({x:0,y:0}),gd=Object.freeze({x:0,y:0,z:0}),lO=["x","y"],oO=["x","y","z"],uO=(n,t)=>n.x*t.x+n.y*t.y+n.z*t.z,cO=({x:n,y:t})=>t>n?t>-n?"away":"right":t>-n?"left":"towards",hO=({x:n,y:t},{x:r,y:s})=>Math.abs(r-n)**2+Math.abs(s-t)**2,fO=["yellow","cyan","green","magenta","white"],dO=["basic","dimmed"],p1=25,pO=1e3/p1,If={x:256,y:192},ee=(n,t)=>Object.assign([...n],{animationSpeed:t});function r0(n){function*t(r,s){yield`${r}.walking.${s}.1`,yield`${r}.walking.${s}.2`,yield`${r}.walking.${s}.3`,yield`${r}.walking.${s}.2`}return pl.reduce((r,s)=>({...r,[`${n}.walking.${s}`]:ee([...t(n,s)],.5)}),{})}const oC={...Yt("head.walking.towards",3,{x:4,y:266},at),...Yt("head.walking.right",3,{x:80,y:266},at),...Yt("head.walking.left",3,{x:4,y:240},at),...Yt("head.walking.away",3,{x:80,y:240},at),"head.blinking.towards":{frame:{x:54,y:291,...at}},"head.blinking.right":{frame:{x:130,y:291,...at}},"head.falling.towards":{frame:{x:29,y:291,...at}},"head.falling.right":{frame:{x:105,y:291,...at}},...Yt("bubbles.head",6,{x:4,y:215},at),...Yt("heels.walking.towards",3,{x:159,y:266},at),...Yt("heels.walking.right",3,{x:235,y:266},at),...Yt("heels.walking.left",3,{x:159,y:240},at),...Yt("heels.walking.away",3,{x:235,y:240},at),...Yt("bubbles.heels",6,{x:159,y:215},at)},uC=5e3,i0=Math.round(uC/(p1*4))-3,m1={frames:oC,animations:{...r0("head"),...r0("heels"),"head.idle.right":ee([...new Array(i0).fill("head.walking.right.3"),"head.blinking.right","head.walking.right.3","head.blinking.right"],.5),"head.idle.towards":ee([...new Array(i0).fill("head.walking.towards.3"),"head.blinking.towards","head.walking.towards.3","head.blinking.towards"],.5),"head.fadeOut":ee(["bubbles.head.1","bubbles.head.2","bubbles.head.4","bubbles.head.3","bubbles.head.4","bubbles.head.6","bubbles.head.5","bubbles.head.6","bubbles.head.5"],.5),"heels.fadeOut":ee(["bubbles.heels.1","bubbles.heels.2","bubbles.heels.4","bubbles.heels.3","bubbles.heels.4","bubbles.heels.6","bubbles.heels.5","bubbles.heels.6","bubbles.heels.5"],.5)}},g1={jail:{walls:["bars"]},blacktooth:{walls:["armour","shield","plain"]},bookworld:{walls:["cowboy","book"]},egyptus:{walls:["sarcophagus","hieroglyphics"]},market:{walls:["passage","fruits","more-fruits"]},moonbase:{walls:["window1","window2","window3","coil"]},penitentiary:{walls:["loop","skeleton"]},safari:{walls:["window","shield","wall"]}},mO=Object.keys(g1),ze=(n,t,r,s)=>{function*l(u,c,h){const{walls:d}=g1[u],{w:m,h:g}=Ln,y=m>>1,v=d.length;let b=0;for(;b<d.length;b++)yield[`${u}${s}.wall.${d[b]}.left`,{frame:{x:c+m*b,y:h-y*b,...Ln}}],yield[`${u}${s}.wall.${d[b]}.away`,{frame:{x:c+m*((v<<1)-b-1),y:h-y*b,...Ln}}];const T=b-1;yield[`${u}${s}.floor`,{frame:{x:c+T*m,y:h-T*y+g,...Qa}}]}return Object.fromEntries(l(n,t,r))},cC={...ze("blacktooth",544,148,".dark"),...ze("blacktooth",544,76,""),...ze("bookworld",382,16,".dark"),...ze("bookworld",382,16,""),...ze("egyptus",447,16,""),...ze("egyptus",447,89,".dark"),...ze("jail",512,76,".dark"),...ze("jail",512,76,""),...ze("market",440,386,".dark"),...ze("market",440,386,""),...ze("moonbase",453,305,".dark"),...ze("moonbase",453,233,""),...ze("penitentiary",372,389,".dark"),...ze("penitentiary",372,389,""),...ze("safari",544,386,".dark"),...ze("safari",544,386,"")},hC={frames:cC,animations:{}},gO=Object.entries,y1=VM,x1=Object.keys,fC=Object.fromEntries,Xd=Object.fromEntries,dC=(n,t)=>{const s=dl(y1(n)).map(t);return fC(s)},pC={" ":"space","'":"singleQuote",":":"colon","<":"lt",">":"gt","`":"backtick"},b1=n=>pC[n]??n,mC=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","0","1","2","3","4","5","6","7","8","9"],gC=[" ","?","!",".",",",";",":","/","\\","‘","’","'","`","-","+"],yC=["(",")","[","]","<",">"],xC=["⬅","➡","⬆","⬇","↖","↘","↗","↙"],bC=["⏩","⁌","⁍"],Pa=(n,t)=>{function*r(){for(let s=0;s<n.length;s++){const l=n[s];yield[`hud.char.${b1(l)}`,{frame:{x:t.x+s*(Mi.w+1),y:t.y,...Mi}}]}}return Xd(r())},vC={frames:{...Pa(mC,{x:173,y:0}),"hud.fastSteps":{frame:{x:497,y:0,...Mi}},"hud.shield":{frame:{x:506,y:0,...Mi}},"hud.bigJumps":{frame:{x:515,y:0,...Mi}},"hud.char.🕹":{frame:{x:227,y:27,...Mi}},...Pa(gC,{x:173,y:9}),...Pa(xC,{x:173,y:18}),...Pa(bC,{x:524,y:0}),...Pa(yC,{x:173,y:27})}},_C={frames:{"shadowMask.fullBlock":{frame:{x:226,y:395,...It}},"shadow.fullBlock":{frame:{x:259,y:395,...It}},"shadowMask.smallBlock":{frame:{x:333,y:456,...at}},"shadow.smallBlock":{frame:{x:308,y:456,...at}},"shadowMask.conveyor":{frame:{x:292,y:395,...It}},"shadow.smallRound":{frame:{x:159,y:291,...at}},"shadowMask.smallRound":{frame:{x:184,y:291,...at}},"shadowMask.tower":{frame:{x:27,y:349,...at}}}},ps=(n,t,r)=>{const s=({x:u,y:c,w:h,h:d,pivot:m})=>t==="x"?{...n0(r,{x:-u-h-1,y:c}),w:h,h:d,pivot:{x:h-m.x,y:m.y}}:{...n0(r,{x:u+2,y:c}),w:h,h:d,pivot:m};function*l(){yield[`door.frame.${n}.${t}.far`,{frame:{...s({x:-18,y:0,w:17,h:57,pivot:{x:9,y:52}})}}],yield[`door.frame.${n}.${t}.near`,{frame:{...s({x:-41,y:6,w:20,h:58,pivot:{x:8,y:58}})}}],yield[`door.frame.${n}.${t}.top`,{frame:{...s({x:-57,y:-1,w:15,h:36,pivot:{x:0,y:36}})}}]}return Xd(l())},wC={frames:{...ps("generic","y",{x:380,y:147}),...ps("generic","x",{x:382,y:147}),...ps("moonbase","y",{x:451,y:232}),...ps("moonbase","x",{x:582,y:232}),...ps("moonbase.dark","y",{x:451,y:304}),...ps("moonbase.dark","x",{x:582,y:304})}},SC={"floorEdge.right":{frame:{x:400,y:502,w:8,h:9}},"floorEdge.towards":{frame:{x:391,y:502,w:8,h:9}},"floorOverdraw.right":{frame:{x:400,y:492,w:8,h:9}},"floorOverdraw.towards":{frame:{x:391,y:492,w:8,h:9}},"generic.floor.overdraw":{frame:{x:180,y:113,w:Ln.w,h:Qa.h*2}},"generic.wall.overdraw":{frame:{x:197,y:113,w:Ln.w,h:Qa.h*2}},"shadow.wall.y":{frame:{x:410,y:129,w:36,h:16}},"generic.floor.deadly":{frame:{x:376,y:454,...Qa}},"generic.dark.floor.deadly":{frame:{x:376,y:471,...Qa}},"generic.door.legs.pillar":{frame:{x:237,y:92,w:Ln.w,h:12}},"generic.door.legs.base":{frame:{x:237,y:104,w:Ln.w,h:9}},"generic.door.legs.threshold.double.x":{frame:{x:221,y:68,w:Ln.w*2,h:24}},"generic.door.legs.threshold.double.y":{frame:{x:186,y:68,w:Ln.w*2,h:24}},"shadowMask.door.legs.threshold.double.y":{frame:{x:254,y:68,w:Ln.w*2,h:21,pivot:{x:0,y:21}}},"generic.door.floatingThreshold.x":{frame:{x:209,y:93,w:26,h:19}},"generic.door.floatingThreshold.y":{frame:{x:180,y:93,w:26,h:19}},"shadowMask.door.floatingThreshold.double.y":{frame:{x:254,y:90,w:42,h:21,pivot:{x:8,y:20}}},"shadow.door.floatingThreshold.double.y":{frame:{x:297,y:90,w:42,h:21,pivot:{x:8,y:20}}},teleporter:{frame:{x:2,y:478,...It}},...Yt("teleporter.flashing",2,{x:35,y:478},It),"shadowMask.teleporter":{frame:{x:101,y:478,...It}},"barrier.x":{frame:{x:335,y:241,...at,pivot:{x:18,y:23}}},"barrier.y":{frame:{x:310,y:241,...at,pivot:{x:6,y:23}}},"shadowMask.barrier.y":{frame:{x:310,y:216,...at,pivot:{x:6,y:22}}},"shadow.barrier.y":{frame:{x:310,y:266,...at,pivot:{x:6,y:22}}},"block.organic":{frame:{x:160,y:449,...It}},"block.organic.dark":{frame:{x:160,y:391,...It}},"block.organic.disappearing":{frame:{x:160,y:420,...It}},"block.organic.dark.disappearing":{frame:{x:127,y:391,...It}},"block.artificial":{frame:{x:127,y:449,...It}},"block.artificial.disappearing":{frame:{x:127,y:449,...It}},"block.tower":{frame:{x:27,y:374,...at}},"block.tower.disappearing":{frame:{x:27,y:374,...at}},volcano:{frame:{x:193,y:420,...It}},"shadowMask.volcano":{frame:{x:193,y:449,...It}},toaster:{frame:{x:226,y:449,...It}},spikes:{frame:{x:333,y:427,...It}},"shadowMask.spikes":{frame:{x:333,y:397,...It}},...Yt("conveyor.x",7,{x:409,y:454},It),...Yt("conveyor.y",7,{x:409,y:483},It),bunny:{frame:{x:77,y:349,...at}},scroll:{frame:{x:52,y:324,...at,pivot:{x:19,y:24}}},"shadowMask.scroll":{frame:{x:27,y:324,...at,pivot:{x:19,y:24}}},"shadow.scroll":{frame:{x:2,y:324,...at,pivot:{x:19,y:24}}},doughnuts:{frame:{x:77,y:324,...at}},"crown.blacktooth":{frame:{x:186,y:40,...at}},"crown.safari":{frame:{x:211,y:40,...at}},"crown.egyptus":{frame:{x:236,y:40,...at}},"crown.penitentiary":{frame:{x:261,y:40,...at}},"crown.bookworld":{frame:{x:286,y:40,...at}},"crown.dark":{frame:{x:311,y:40,...at}},hooter:{frame:{x:202,y:349,...at}},bag:{frame:{x:227,y:349,...at}},...Yt("fish",2,{x:177,y:324},at),"spring.compressed":{frame:{x:2,y:453,...at}},"spring.released":{frame:{x:27,y:453,...at}},...Yt("lift",4,{x:233,y:481},at),"lift.static":{frame:{x:333,y:481,...at}},...Yt("dalek",2,{x:4,y:4},at),"shadowMask.dalek":{frame:{x:4,y:29,...at}},homingBot:{frame:{x:93,y:102,...at}},joystick:{frame:{x:2,y:374,...at}},"shadowMask.joystick":{frame:{x:2,y:349,...at}},stepStool:{frame:{x:252,y:366,...It}},"shadowMask.stepStool":{frame:{x:285,y:366,...It}},"book.x":{frame:{x:167,y:478,...It}},"book.y":{frame:{x:200,y:478,...It}},sandwich:{frame:{x:2,y:399,...It}},sticks:{frame:{x:2,y:428,...at}},cube:{frame:{x:27,y:428,...at}},drum:{frame:{x:52,y:428,...at}},"switch.left":{frame:{x:52,y:453,...at}},"switch.right":{frame:{x:77,y:453,...at}},"shadowMask.switch":{frame:{x:77,y:428,...at}},...xi("skiHead.starsAndStripes",{x:274,y:131},{w:24,h:32}),...xi("skiHead.greenAndPink",{x:224,y:131},{w:24,h:32}),...xi("charles",{x:118,y:34},at),...xi("cyberman",{x:29,y:29},at),...xi("monkey",{x:118,y:90},at),...xi("elephant",{x:118,y:146},at),...xi("computerBot",{x:173,y:146},at),...Yt("bubbles.cold",2,{x:79,y:4},at),...Yt("bubbles.taupe",3,{x:102,y:324},at),...Yt("bubbles.white",3,{x:102,y:349},at),...Yt("bubbles.fish",3,{x:227,y:324},at),...Yt("turtle.left",2,{x:4,y:137},at),...Yt("turtle.away",2,{x:55,y:137},at),...Yt("turtle.towards",2,{x:4,y:163},at),...Yt("turtle.right",2,{x:55,y:163},at),...Yt("helicopterBug",4,{x:4,y:188},at),hushPuppy:{frame:{x:209,y:291,...It}},"shadowMask.hushPuppy":{frame:{x:242,y:291,...It}},ball:{frame:{x:54,y:4,...at}},puck:{frame:{x:102,y:428,...at}},"puck.deadly":{frame:{x:102,y:453,...at}},...m1.frames,...hC.frames,...vC.frames,..._C.frames,...wC.frames},v1={frames:SC,animations:{"teleporter.flashing":ee(["teleporter.flashing.1","teleporter.flashing.2"],.5),fish:ee(["fish.1","fish.2"],.25),lift:ee(["lift.1","lift.2","lift.3","lift.4"],.5),dalek:ee(["dalek.1","dalek.2"],.5),"turtle.left":ee(["turtle.left.1","turtle.left.2"],.25),"turtle.away":ee(["turtle.away.1","turtle.away.2"],.25),"turtle.towards":ee(["turtle.towards.1","turtle.towards.2"],.25),"turtle.right":ee(["turtle.right.1","turtle.right.2"],.25),helicopterBug:ee(["helicopterBug.1","helicopterBug.2","helicopterBug.3","helicopterBug.4"],.5),"bubbles.cold":ee(["bubbles.cold.1","bubbles.cold.2"],.25),"bubbles.white":ee(["bubbles.white.1","bubbles.white.2","bubbles.white.3"],.5),"bubbles.doughnut":ee(["bubbles.taupe.1","bubbles.taupe.2"],.5),"conveyor.x":ee(e0("conveyor.x",7),.5),"conveyor.y":ee(e0("conveyor.y",7),.5),"spring.bounce":ee(["spring.released","spring.compressed","spring.released","spring.compressed","spring.released"],.5),switch:ee(["switch.left","switch.right"],.02),...m1.animations},meta:{scale:1}};let yd;try{yd=await Ka.load(_M)}catch{yd=Rt.EMPTY}const ol=new ad(yd,v1);await ol.parse();ol.textureSource.scaleMode="nearest";const AC=()=>{const n=Object.keys(ol.textures).sort();return M.jsx("div",{className:"flex flex-wrap p-[8px] bg-pureBlack",children:n.map(t=>{const{frame:r}=ol.data.frames[t];return M.jsxs("div",{className:"bg-shadow m-[8px] p-[16px]",children:[M.jsx("div",{className:`sprite texture-${t} bg-shadow hover:bg-metallicBlue hover:border-pink border-shadow border border-4 mb-1 box-content`}),M.jsx("div",{className:"text-moss",children:t}),M.jsxs("div",{className:"text-lightGrey",children:[r.w," x ",r.h]}),M.jsxs("div",{className:"text-midGrey",children:["(",r.x,",",r.y,")"]})]},t)})})};var qf={exports:{}},Ff={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s0;function TC(){if(s0)return Ff;s0=1;var n=xr();function t(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var r=typeof Object.is=="function"?Object.is:t,s=n.useSyncExternalStore,l=n.useRef,u=n.useEffect,c=n.useMemo,h=n.useDebugValue;return Ff.useSyncExternalStoreWithSelector=function(d,m,g,y,v){var b=l(null);if(b.current===null){var T={hasValue:!1,value:null};b.current=T}else T=b.current;b=c(function(){function w(I){if(!R){if(R=!0,k=I,I=y(I),v!==void 0&&T.hasValue){var G=T.value;if(v(G,I))return D=G}return D=I}if(G=D,r(k,I))return G;var V=y(I);return v!==void 0&&v(G,V)?(k=I,G):(k=I,D=V)}var R=!1,k,D,P=g===void 0?null:g;return[function(){return w(m())},P===null?void 0:function(){return w(P())}]},[m,g,y,v]);var E=s(d,b[0],b[1]);return u(function(){T.hasValue=!0,T.value=E},[E]),h(E),E},Ff}var a0;function EC(){return a0||(a0=1,qf.exports=TC()),qf.exports}var MC=EC();function CC(n){n()}function kC(){let n=null,t=null;return{clear(){n=null,t=null},notify(){CC(()=>{let r=n;for(;r;)r.callback(),r=r.next})},get(){const r=[];let s=n;for(;s;)r.push(s),s=s.next;return r},subscribe(r){let s=!0;const l=t={callback:r,next:null,prev:t};return l.prev?l.prev.next=l:n=l,function(){!s||n===null||(s=!1,l.next?l.next.prev=l.prev:t=l.prev,l.prev?l.prev.next=l.next:n=l.next)}}}}var l0={notify(){},get:()=>[]};function RC(n,t){let r,s=l0,l=0,u=!1;function c(E){g();const w=s.subscribe(E);let R=!1;return()=>{R||(R=!0,w(),y())}}function h(){s.notify()}function d(){T.onStateChange&&T.onStateChange()}function m(){return u}function g(){l++,r||(r=n.subscribe(d),s=kC())}function y(){l--,r&&l===0&&(r(),r=void 0,s.clear(),s=l0)}function v(){u||(u=!0,g())}function b(){u&&(u=!1,y())}const T={addNestedSub:c,notifyNestedSubs:h,handleChangeWrapper:d,isSubscribed:m,trySubscribe:v,tryUnsubscribe:b,getListeners:()=>s};return T}var zC=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",OC=zC(),BC=()=>typeof navigator<"u"&&navigator.product==="ReactNative",jC=BC(),DC=()=>OC||jC?lt.useLayoutEffect:lt.useEffect,NC=DC(),HC=Symbol.for("react-redux-context"),PC=typeof globalThis<"u"?globalThis:{};function UC(){if(!lt.createContext)return{};const n=PC[HC]??=new Map;let t=n.get(lt.createContext);return t||(t=lt.createContext(null),n.set(lt.createContext,t)),t}var Xr=UC();function GC(n){const{children:t,context:r,serverState:s,store:l}=n,u=lt.useMemo(()=>{const d=RC(l);return{store:l,subscription:d,getServerState:s?()=>s:void 0}},[l,s]),c=lt.useMemo(()=>l.getState(),[l]);NC(()=>{const{subscription:d}=u;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),c!==l.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[u,c]);const h=r||Xr;return lt.createElement(h.Provider,{value:u},t)}var LC=GC;function Wd(n=Xr){return function(){return lt.useContext(n)}}var _1=Wd();function w1(n=Xr){const t=n===Xr?_1:Wd(n),r=()=>{const{store:s}=t();return s};return Object.assign(r,{withTypes:()=>r}),r}var S1=w1();function IC(n=Xr){const t=n===Xr?S1:w1(n),r=()=>t().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var qC=IC(),FC=(n,t)=>n===t;function YC(n=Xr){const t=n===Xr?_1:Wd(n),r=(s,l={})=>{const{equalityFn:u=FC}=typeof l=="function"?{equalityFn:l}:l,c=t(),{store:h,subscription:d,getServerState:m}=c;lt.useRef(!0);const g=lt.useCallback({[s.name](v){return s(v)}}[s.name],[s]),y=MC.useSyncExternalStoreWithSelector(d.addNestedSub,h.getState,m||h.getState,g,u);return lt.useDebugValue(y),y};return Object.assign(r,{withTypes:()=>r}),r}var VC=YC(),Yf,o0;function XC(){if(o0)return Yf;o0=1;function n(s){if(Array.isArray(s))return!0;var l=s.length;return typeof l=="number"&&l>-1?l?0 in s&&l-1 in s:!0:!1}function t(s){var l=typeof s;return l==="object"?s===null?"null":n(s)?"array":s.constructor===Object?"pure-object":"object":l}function r(s,l){if(s===l||s!==s&&l!==l)return!0;var u=t(s),c=t(l);if(u!==c)return!1;if(u==="pure-object"){if(s===l)return!0;var h=Object.keys(s),d=Object.keys(l).length;if(h.length!==d)return!1;for(var m=0,g=h.length;m<g;m++){var y=h[m];if(!l.hasOwnProperty(h[m]))return!1;var v=s[y],b=l[y];if(v===s||b===l||v===l||b===s)return v===b;if(!r(v,b))return!1}return!0}else if(u==="array"){if(s.length===l.length)for(var T=0;T<s.length;T++){var E=s[T],w=l[T];if(E===s||w===l||E===l||w===s)return E===w;if(!r(E,w))return!1}else return!1;return!0}else if(u==="object"){if(s.valueOf!==Object.prototype.valueOf()&&l.valueOf!==Object.prototype.valueOf())return s.valueOf()===l.valueOf();if(s.toString!==Object.prototype.toString()&&l.toString!==Object.prototype.toString())return s.toString()===l.toString()}return!1}return Yf=r,Yf}var WC=XC();const $C=vn(WC),A1=qC.withTypes(),$t=VC.withTypes();S1.withTypes();const KC=["jump","fire","carry","swop","hold","toggleColourisation","menu_select","menu_openOrExit","menu_exit",...pl],T1=n=>n==="left"?{axis:"x",direction:-1}:n==="right"?{axis:"x",direction:1}:n==="towards"?{axis:"y",direction:1}:n==="away"?{axis:"y",direction:-1}:void 0,Te={dPadDown:13,dPadUp:12,dPadLeft:14,dPadRight:15,a:0,b:1,x:2,y:3,l1:4,r1:5,l2:6,r2:7,select:8,start:9,l3:10,r3:11},u0=dC(Te,([n,t])=>[t,n]),QC={start:"1",coin:"5",directions:{up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight"},buttons:["Control","Alt"," ","Shift","Z","X"]},ZC={start:"2",coin:"6",directions:{up:"R",down:"F",left:"D",right:"G"},buttons:["A","S","Q","W","I","K"]},ml={presses:{menu_openOrExit:{keys:["Escape"]},menu_exit:{gamepadButtons:[Te.x]},menu_select:{keys:["Enter"],gamepadButtons:[Te.a]},toggleColourisation:{keys:["F6"]}},axes:{x:[0],y:[1]}},E1=[...KC,...pl],gl={presses:Xd(E1.map(n=>[n,{keys:[],gamepadAxes:[],gamepadButtons:[]}])),axes:{x:[],y:[]}},c0=(n,t)=>Array.from(new Set([...n??[],...t??[]]));function yl(n,...t){return{presses:t.reduce((r,s)=>{for(const l of E1)r[l]={keys:c0(r[l]?.keys,s?.presses?.[l]?.keys),gamepadButtons:c0(r[l]?.gamepadButtons,s?.presses?.[l]?.gamepadButtons)};return r},structuredClone(n.presses)),axes:{x:Array.from(new Set([...n.axes.x,...t.map(r=>r.axes?.x??[]).flat()])),y:Array.from(new Set([...n.axes.y,...t.map(r=>r.axes?.y??[]).flat()]))}}}const JC={inputAssignment:yl(gl,ml,{presses:{right:{keys:["P","7"]},towards:{keys:["A","8"]},left:{keys:["O","6"]},away:{keys:["Q","9"]},jump:{keys:[" ","M","N","B","Alt"]},carry:{keys:[" ","Enter","L","K","J"]},fire:{keys:["Shift","Z","X","C","V"]},swop:{keys:["S","D","F","G"]},hold:{keys:["H"]}}}),description:"closely matches zx spectrum keys"},M1={inputAssignment:yl(gl,ml,{presses:{right:{gamepadButtons:[Te.dPadRight]},towards:{gamepadButtons:[Te.dPadDown]},left:{gamepadButtons:[Te.dPadLeft]},away:{gamepadButtons:[Te.dPadUp]},jump:{gamepadButtons:[Te.a,Te.y]},carry:{gamepadButtons:[Te.b,Te.y]},fire:{gamepadButtons:[Te.x]},swop:{gamepadButtons:[Te.l1]},hold:{gamepadButtons:[Te.start]},menu_openOrExit:{gamepadButtons:[Te.r1,Te.select]},toggleColourisation:{gamepadButtons:[Te.l2]}},axes:{x:[0],y:[1]}}),description:"Joysticks/gamepads with at least 4 buttons, but preferably 6 or more. Inc Playstation, xbox etc"},tk={inputAssignment:yl(gl,ml,M1.inputAssignment,{presses:{right:{keys:["ArrowRight","P","Numpad6"]},towards:{keys:["ArrowDown","A","Numpad5"]},left:{keys:["ArrowLeft","O","Numpad8"]},away:{keys:["ArrowUp","Q","Numpad9"]},jump:{keys:[" ","`","\\","Numpad0","Numpad-"]},carry:{keys:["Shift","`","\\","Numpad1","Numpad-"]},fire:{keys:["D","NumpadEnter"]},swop:{keys:["Enter","S","Numpad+"]},hold:{keys:["F8","H","Numpad."]}}}),description:"Default combined key and joystick/gamepad assignment, should work on most setups"},ek={inputAssignment:yl(gl,ml,{presses:{right:{keys:["D"]},towards:{keys:["S"]},left:{keys:["A"]},away:{keys:["W"]},jump:{keys:[" ","F","P"]},carry:{keys:["Shift","F","I","P"]},fire:{keys:["E","O","Control"]},swop:{keys:["Q"]},hold:{keys:["H"]}}}),description:"Modern, minimalist WASD key layout"},h0=n=>({presses:{right:{keys:[n.directions.right]},towards:{keys:[n.directions.down]},left:{keys:[n.directions.left]},away:{keys:[n.directions.up]},jump:{keys:[n.buttons[0],n.buttons[3]]},carry:{keys:[n.buttons[1],n.buttons[3]]},fire:{keys:[n.buttons[2]]},swop:{keys:[n.start]},hold:{keys:[n.coin]},menu_openOrExit:{keys:[n.buttons[5]]}}}),nk={inputAssignment:yl(gl,ml,{presses:{menu_openOrExit:{keys:["`","Tab"]}}},h0(QC),h0(ZC)),description:"MAME key mappings. For arcade-style control panels"},xl={default:tk,"zx spectrum":JC,mame:nk,wasd:ek,"🕹joystick":M1},$d=()=>$t(n=>{const{upscale:{cssUpscale:t,gameEngineUpscale:r}}=n;return t*r}),yO=n=>n.openMenus.length>0,C1=()=>$t(n=>n.cheatsOn),k1=n=>n.assigningInput!==void 0,R1=()=>$t(k1),rk=n=>{for(const[t,r]of dl(y1(xl)))if($C(r.inputAssignment,n.userSettings.inputAssignment))return t},Kd=({children:n})=>{const t=$d();return M.jsx("div",{className:"contents set-spritesheet-vars",style:{"--scale":t,"--block":`${t*8}px`},children:n})},z1=lt.createContext(null),ik=({gameApi:n,children:t})=>M.jsx(z1,{value:n,children:t}),xO=()=>{const n=lt.useContext(z1);if(n===null)throw new Error("useGameApi must be used within a GameApiProvider");return n};function Ee(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var sk=typeof Symbol=="function"&&Symbol.observable||"@@observable",f0=sk,Vf=()=>Math.random().toString(36).substring(7).split("").join("."),ak={INIT:`@@redux/INIT${Vf()}`,REPLACE:`@@redux/REPLACE${Vf()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Vf()}`},uu=ak;function Qd(n){if(typeof n!="object"||n===null)return!1;let t=n;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(n)===t||Object.getPrototypeOf(n)===null}function Zd(n,t,r){if(typeof n!="function")throw new Error(Ee(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Ee(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Ee(1));return r(Zd)(n,t)}let s=n,l=t,u=new Map,c=u,h=0,d=!1;function m(){c===u&&(c=new Map,u.forEach((w,R)=>{c.set(R,w)}))}function g(){if(d)throw new Error(Ee(3));return l}function y(w){if(typeof w!="function")throw new Error(Ee(4));if(d)throw new Error(Ee(5));let R=!0;m();const k=h++;return c.set(k,w),function(){if(R){if(d)throw new Error(Ee(6));R=!1,m(),c.delete(k),u=null}}}function v(w){if(!Qd(w))throw new Error(Ee(7));if(typeof w.type>"u")throw new Error(Ee(8));if(typeof w.type!="string")throw new Error(Ee(17));if(d)throw new Error(Ee(9));try{d=!0,l=s(l,w)}finally{d=!1}return(u=c).forEach(k=>{k()}),w}function b(w){if(typeof w!="function")throw new Error(Ee(10));s=w,v({type:uu.REPLACE})}function T(){const w=y;return{subscribe(R){if(typeof R!="object"||R===null)throw new Error(Ee(11));function k(){const P=R;P.next&&P.next(g())}return k(),{unsubscribe:w(k)}},[f0](){return this}}}return v({type:uu.INIT}),{dispatch:v,subscribe:y,getState:g,replaceReducer:b,[f0]:T}}function lk(n){Object.keys(n).forEach(t=>{const r=n[t];if(typeof r(void 0,{type:uu.INIT})>"u")throw new Error(Ee(12));if(typeof r(void 0,{type:uu.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ee(13))})}function ok(n){const t=Object.keys(n),r={};for(let u=0;u<t.length;u++){const c=t[u];typeof n[c]=="function"&&(r[c]=n[c])}const s=Object.keys(r);let l;try{lk(r)}catch(u){l=u}return function(c={},h){if(l)throw l;let d=!1;const m={};for(let g=0;g<s.length;g++){const y=s[g],v=r[y],b=c[y],T=v(b,h);if(typeof T>"u")throw h&&h.type,new Error(Ee(14));m[y]=T,d=d||T!==b}return d=d||s.length!==Object.keys(c).length,d?m:c}}function cu(...n){return n.length===0?t=>t:n.length===1?n[0]:n.reduce((t,r)=>(...s)=>t(r(...s)))}function uk(...n){return t=>(r,s)=>{const l=t(r,s);let u=()=>{throw new Error(Ee(15))};const c={getState:l.getState,dispatch:(d,...m)=>u(d,...m)},h=n.map(d=>d(c));return u=cu(...h)(l.dispatch),{...l,dispatch:u}}}function ck(n){return Qd(n)&&"type"in n&&typeof n.type=="string"}var O1=Symbol.for("immer-nothing"),d0=Symbol.for("immer-draftable"),en=Symbol.for("immer-state");function Cn(n,...t){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var Ms=Object.getPrototypeOf;function Ci(n){return!!n&&!!n[en]}function yr(n){return n?B1(n)||Array.isArray(n)||!!n[d0]||!!n.constructor?.[d0]||_u(n)||wu(n):!1}var hk=Object.prototype.constructor.toString();function B1(n){if(!n||typeof n!="object")return!1;const t=Ms(n);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===hk}function hu(n,t){vu(n)===0?Reflect.ownKeys(n).forEach(r=>{t(r,n[r],n)}):n.forEach((r,s)=>t(s,r,n))}function vu(n){const t=n[en];return t?t.type_:Array.isArray(n)?1:_u(n)?2:wu(n)?3:0}function xd(n,t){return vu(n)===2?n.has(t):Object.prototype.hasOwnProperty.call(n,t)}function j1(n,t,r){const s=vu(n);s===2?n.set(t,r):s===3?n.add(r):n[t]=r}function fk(n,t){return n===t?n!==0||1/n===1/t:n!==n&&t!==t}function _u(n){return n instanceof Map}function wu(n){return n instanceof Set}function Ai(n){return n.copy_||n.base_}function bd(n,t){if(_u(n))return new Map(n);if(wu(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const r=B1(n);if(t===!0||t==="class_only"&&!r){const s=Object.getOwnPropertyDescriptors(n);delete s[en];let l=Reflect.ownKeys(s);for(let u=0;u<l.length;u++){const c=l[u],h=s[c];h.writable===!1&&(h.writable=!0,h.configurable=!0),(h.get||h.set)&&(s[c]={configurable:!0,writable:!0,enumerable:h.enumerable,value:n[c]})}return Object.create(Ms(n),s)}else{const s=Ms(n);if(s!==null&&r)return{...n};const l=Object.create(s);return Object.assign(l,n)}}function Jd(n,t=!1){return Su(n)||Ci(n)||!yr(n)||(vu(n)>1&&(n.set=n.add=n.clear=n.delete=dk),Object.freeze(n),t&&Object.entries(n).forEach(([r,s])=>Jd(s,!0))),n}function dk(){Cn(2)}function Su(n){return Object.isFrozen(n)}var pk={};function ki(n){const t=pk[n];return t||Cn(0,n),t}var ul;function D1(){return ul}function mk(n,t){return{drafts_:[],parent_:n,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function p0(n,t){t&&(ki("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=t)}function vd(n){_d(n),n.drafts_.forEach(gk),n.drafts_=null}function _d(n){n===ul&&(ul=n.parent_)}function m0(n){return ul=mk(ul,n)}function gk(n){const t=n[en];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function g0(n,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return n!==void 0&&n!==r?(r[en].modified_&&(vd(t),Cn(4)),yr(n)&&(n=fu(t,n),t.parent_||du(t,n)),t.patches_&&ki("Patches").generateReplacementPatches_(r[en].base_,n,t.patches_,t.inversePatches_)):n=fu(t,r,[]),vd(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),n!==O1?n:void 0}function fu(n,t,r){if(Su(t))return t;const s=t[en];if(!s)return hu(t,(l,u)=>y0(n,s,t,l,u,r)),t;if(s.scope_!==n)return t;if(!s.modified_)return du(n,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const l=s.copy_;let u=l,c=!1;s.type_===3&&(u=new Set(l),l.clear(),c=!0),hu(u,(h,d)=>y0(n,s,l,h,d,r,c)),du(n,l,!1),r&&n.patches_&&ki("Patches").generatePatches_(s,r,n.patches_,n.inversePatches_)}return s.copy_}function y0(n,t,r,s,l,u,c){if(Ci(l)){const h=u&&t&&t.type_!==3&&!xd(t.assigned_,s)?u.concat(s):void 0,d=fu(n,l,h);if(j1(r,s,d),Ci(d))n.canAutoFreeze_=!1;else return}else c&&r.add(l);if(yr(l)&&!Su(l)){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1)return;fu(n,l),(!t||!t.scope_.parent_)&&typeof s!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,s)&&du(n,l)}}function du(n,t,r=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&Jd(t,r)}function yk(n,t){const r=Array.isArray(n),s={type_:r?1:0,scope_:t?t.scope_:D1(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let l=s,u=tp;r&&(l=[s],u=cl);const{revoke:c,proxy:h}=Proxy.revocable(l,u);return s.draft_=h,s.revoke_=c,h}var tp={get(n,t){if(t===en)return n;const r=Ai(n);if(!xd(r,t))return xk(n,r,t);const s=r[t];return n.finalized_||!yr(s)?s:s===Xf(n.base_,t)?(Wf(n),n.copy_[t]=Sd(s,n)):s},has(n,t){return t in Ai(n)},ownKeys(n){return Reflect.ownKeys(Ai(n))},set(n,t,r){const s=N1(Ai(n),t);if(s?.set)return s.set.call(n.draft_,r),!0;if(!n.modified_){const l=Xf(Ai(n),t),u=l?.[en];if(u&&u.base_===r)return n.copy_[t]=r,n.assigned_[t]=!1,!0;if(fk(r,l)&&(r!==void 0||xd(n.base_,t)))return!0;Wf(n),wd(n)}return n.copy_[t]===r&&(r!==void 0||t in n.copy_)||Number.isNaN(r)&&Number.isNaN(n.copy_[t])||(n.copy_[t]=r,n.assigned_[t]=!0),!0},deleteProperty(n,t){return Xf(n.base_,t)!==void 0||t in n.base_?(n.assigned_[t]=!1,Wf(n),wd(n)):delete n.assigned_[t],n.copy_&&delete n.copy_[t],!0},getOwnPropertyDescriptor(n,t){const r=Ai(n),s=Reflect.getOwnPropertyDescriptor(r,t);return s&&{writable:!0,configurable:n.type_!==1||t!=="length",enumerable:s.enumerable,value:r[t]}},defineProperty(){Cn(11)},getPrototypeOf(n){return Ms(n.base_)},setPrototypeOf(){Cn(12)}},cl={};hu(tp,(n,t)=>{cl[n]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});cl.deleteProperty=function(n,t){return cl.set.call(this,n,t,void 0)};cl.set=function(n,t,r){return tp.set.call(this,n[0],t,r,n[0])};function Xf(n,t){const r=n[en];return(r?Ai(r):n)[t]}function xk(n,t,r){const s=N1(t,r);return s?"value"in s?s.value:s.get?.call(n.draft_):void 0}function N1(n,t){if(!(t in n))return;let r=Ms(n);for(;r;){const s=Object.getOwnPropertyDescriptor(r,t);if(s)return s;r=Ms(r)}}function wd(n){n.modified_||(n.modified_=!0,n.parent_&&wd(n.parent_))}function Wf(n){n.copy_||(n.copy_=bd(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var bk=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,s)=>{if(typeof t=="function"&&typeof r!="function"){const u=r;r=t;const c=this;return function(d=u,...m){return c.produce(d,g=>r.call(this,g,...m))}}typeof r!="function"&&Cn(6),s!==void 0&&typeof s!="function"&&Cn(7);let l;if(yr(t)){const u=m0(this),c=Sd(t,void 0);let h=!0;try{l=r(c),h=!1}finally{h?vd(u):_d(u)}return p0(u,s),g0(l,u)}else if(!t||typeof t!="object"){if(l=r(t),l===void 0&&(l=t),l===O1&&(l=void 0),this.autoFreeze_&&Jd(l,!0),s){const u=[],c=[];ki("Patches").generateReplacementPatches_(t,l,u,c),s(u,c)}return l}else Cn(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(c,...h)=>this.produceWithPatches(c,d=>t(d,...h));let s,l;return[this.produce(t,r,(c,h)=>{s=c,l=h}),s,l]},typeof n?.autoFreeze=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof n?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy)}createDraft(n){yr(n)||Cn(8),Ci(n)&&(n=vk(n));const t=m0(this),r=Sd(n,void 0);return r[en].isManual_=!0,_d(t),r}finishDraft(n,t){const r=n&&n[en];(!r||!r.isManual_)&&Cn(9);const{scope_:s}=r;return p0(s,t),g0(void 0,s)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}applyPatches(n,t){let r;for(r=t.length-1;r>=0;r--){const l=t[r];if(l.path.length===0&&l.op==="replace"){n=l.value;break}}r>-1&&(t=t.slice(r+1));const s=ki("Patches").applyPatches_;return Ci(n)?s(n,t):this.produce(n,l=>s(l,t))}};function Sd(n,t){const r=_u(n)?ki("MapSet").proxyMap_(n,t):wu(n)?ki("MapSet").proxySet_(n,t):yk(n,t);return(t?t.scope_:D1()).drafts_.push(r),r}function vk(n){return Ci(n)||Cn(10,n),H1(n)}function H1(n){if(!yr(n)||Su(n))return n;const t=n[en];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=bd(n,t.scope_.immer_.useStrictShallowCopy_)}else r=bd(n,!0);return hu(r,(s,l)=>{j1(r,s,H1(l))}),t&&(t.finalized_=!1),r}var nn=new bk,P1=nn.produce;nn.produceWithPatches.bind(nn);nn.setAutoFreeze.bind(nn);nn.setUseStrictShallowCopy.bind(nn);nn.applyPatches.bind(nn);nn.createDraft.bind(nn);nn.finishDraft.bind(nn);function U1(n){return({dispatch:r,getState:s})=>l=>u=>typeof u=="function"?u(r,s,n):l(u)}var _k=U1(),wk=U1,Sk=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?cu:cu.apply(null,arguments)};function x0(n,t){function r(...s){if(t){let l=t(...s);if(!l)throw new Error(mr(0));return{type:n,payload:l.payload,..."meta"in l&&{meta:l.meta},..."error"in l&&{error:l.error}}}return{type:n,payload:s[0]}}return r.toString=()=>`${n}`,r.type=n,r.match=s=>ck(s)&&s.type===n,r}var G1=class Za extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Za.prototype)}static get[Symbol.species](){return Za}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Za(...t[0].concat(this)):new Za(...t.concat(this))}};function b0(n){return yr(n)?P1(n,()=>{}):n}function v0(n,t,r){return n.has(t)?n.get(t):n.set(t,r(t)).get(t)}function Ak(n){return typeof n=="boolean"}var Tk=()=>function(t){const{thunk:r=!0,immutableCheck:s=!0,serializableCheck:l=!0,actionCreatorCheck:u=!0}=t??{};let c=new G1;return r&&(Ak(r)?c.push(_k):c.push(wk(r.extraArgument))),c},Ek="RTK_autoBatch",_0=n=>t=>{setTimeout(t,n)},Mk=(n={type:"raf"})=>t=>(...r)=>{const s=t(...r);let l=!0,u=!1,c=!1;const h=new Set,d=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:_0(10):n.type==="callback"?n.queueNotification:_0(n.timeout),m=()=>{c=!1,u&&(u=!1,h.forEach(g=>g()))};return Object.assign({},s,{subscribe(g){const y=()=>l&&g(),v=s.subscribe(y);return h.add(g),()=>{v(),h.delete(g)}},dispatch(g){try{return l=!g?.meta?.[Ek],u=!l,u&&(c||(c=!0,d(m))),s.dispatch(g)}finally{l=!0}}})},Ck=n=>function(r){const{autoBatch:s=!0}=r??{};let l=new G1(n);return s&&l.push(Mk(typeof s=="object"?s:void 0)),l};function kk(n){const t=Tk(),{reducer:r=void 0,middleware:s,devTools:l=!0,preloadedState:u=void 0,enhancers:c=void 0}=n;let h;if(typeof r=="function")h=r;else if(Qd(r))h=ok(r);else throw new Error(mr(1));let d;typeof s=="function"?d=s(t):d=t();let m=cu;l&&(m=Sk({trace:!1,...typeof l=="object"&&l}));const g=uk(...d),y=Ck(g);let v=typeof c=="function"?c(y):y();const b=m(...v);return Zd(h,u,b)}function L1(n){const t={},r=[];let s;const l={addCase(u,c){const h=typeof u=="string"?u:u.type;if(!h)throw new Error(mr(28));if(h in t)throw new Error(mr(29));return t[h]=c,l},addMatcher(u,c){return r.push({matcher:u,reducer:c}),l},addDefaultCase(u){return s=u,l}};return n(l),[t,r,s]}function Rk(n){return typeof n=="function"}function zk(n,t){let[r,s,l]=L1(t),u;if(Rk(n))u=()=>b0(n());else{const h=b0(n);u=()=>h}function c(h=u(),d){let m=[r[d.type],...s.filter(({matcher:g})=>g(d)).map(({reducer:g})=>g)];return m.filter(g=>!!g).length===0&&(m=[l]),m.reduce((g,y)=>{if(y)if(Ci(g)){const b=y(g,d);return b===void 0?g:b}else{if(yr(g))return P1(g,v=>y(v,d));{const v=y(g,d);if(v===void 0){if(g===null)return g;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return g},h)}return c.getInitialState=u,c}var Ok=Symbol.for("rtk-slice-createasyncthunk");function Bk(n,t){return`${n}/${t}`}function jk({creators:n}={}){const t=n?.asyncThunk?.[Ok];return function(s){const{name:l,reducerPath:u=l}=s;if(!l)throw new Error(mr(11));const c=(typeof s.reducers=="function"?s.reducers(Hk()):s.reducers)||{},h=Object.keys(c),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(k,D){const P=typeof k=="string"?k:k.type;if(!P)throw new Error(mr(12));if(P in d.sliceCaseReducersByType)throw new Error(mr(13));return d.sliceCaseReducersByType[P]=D,m},addMatcher(k,D){return d.sliceMatchers.push({matcher:k,reducer:D}),m},exposeAction(k,D){return d.actionCreators[k]=D,m},exposeCaseReducer(k,D){return d.sliceCaseReducersByName[k]=D,m}};h.forEach(k=>{const D=c[k],P={reducerName:k,type:Bk(l,k),createNotation:typeof s.reducers=="function"};Uk(D)?Lk(P,D,m,t):Pk(P,D,m)});function g(){const[k={},D=[],P=void 0]=typeof s.extraReducers=="function"?L1(s.extraReducers):[s.extraReducers],I={...k,...d.sliceCaseReducersByType};return zk(s.initialState,G=>{for(let V in I)G.addCase(V,I[V]);for(let V of d.sliceMatchers)G.addMatcher(V.matcher,V.reducer);for(let V of D)G.addMatcher(V.matcher,V.reducer);P&&G.addDefaultCase(P)})}const y=k=>k,v=new Map;let b;function T(k,D){return b||(b=g()),b(k,D)}function E(){return b||(b=g()),b.getInitialState()}function w(k,D=!1){function P(G){let V=G[k];return typeof V>"u"&&D&&(V=E()),V}function I(G=y){const V=v0(v,D,()=>new WeakMap);return v0(V,G,()=>{const et={};for(const[W,$]of Object.entries(s.selectors??{}))et[W]=Dk($,G,E,D);return et})}return{reducerPath:k,getSelectors:I,get selectors(){return I(P)},selectSlice:P}}const R={name:l,reducer:T,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:E,...w(u),injectInto(k,{reducerPath:D,...P}={}){const I=D??u;return k.inject({reducerPath:I,reducer:T},P),{...R,...w(I,!0)}}};return R}}function Dk(n,t,r,s){function l(u,...c){let h=t(u);return typeof h>"u"&&s&&(h=r()),n(h,...c)}return l.unwrapped=n,l}var Nk=jk();function Hk(){function n(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return n.withTypes=()=>n,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:n}}function Pk({type:n,reducerName:t,createNotation:r},s,l){let u,c;if("reducer"in s){if(r&&!Gk(s))throw new Error(mr(17));u=s.reducer,c=s.prepare}else u=s;l.addCase(n,u).exposeCaseReducer(t,u).exposeAction(t,c?x0(n,c):x0(n))}function Uk(n){return n._reducerDefinitionType==="asyncThunk"}function Gk(n){return n._reducerDefinitionType==="reducerWithPrepare"}function Lk({type:n,reducerName:t},r,s,l){if(!l)throw new Error(mr(18));const{payloadCreator:u,fulfilled:c,pending:h,rejected:d,settled:m,options:g}=r,y=l(n,u,g);s.exposeAction(t,y),c&&s.addCase(y.fulfilled,c),h&&s.addCase(y.pending,h),d&&s.addCase(y.rejected,d),m&&s.addMatcher(y.settled,m),s.exposeCaseReducer(t,{fulfilled:c||Ko,pending:h||Ko,rejected:d||Ko,settled:m||Ko})}function Ko(){}function mr(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}const Ik=3,I1=(n,t,r)=>{const s=sC(n,r),l=Math.floor(Math.min(s.x/t.x,s.y/t.y)),u={x:Math.floor(s.x/l),y:Math.floor(s.y/l)},c=Math.min(Ik,l),h=l/c/r,d={x:Math.ceil(n.x/h),y:Math.ceil(n.y/h)};return{gameEngineUpscale:c,cssUpscale:h,gameEngineScreenSize:u,canvasSize:d}},q1=typeof globalThis.window<"u",$f=q1?new URLSearchParams(window.location.search).has("cheats"):!1,F1={userSettings:{inputAssignment:xl.default.inputAssignment,livesModel:"original",displaySettings:{showBoundingBoxes:"none",showShadowMasks:!1,crtFilter:!0,colourise:!0,emulatedResolution:If}},upscale:I1(q1?{x:globalThis.window.innerWidth,y:globalThis.window.innerHeight}:If,If,1),planetsLiberated:{blacktooth:!1,bookworld:!1,egyptus:!1,penitentiary:!1,safari:!1},openMenus:$f?[]:[{menuId:"mainMenu",scrollableSelection:!1}],assigningInput:void 0,gameRunning:$f,cheatsOn:$f},ep=Nk({name:"gameMenus",initialState:F1,reducers:{setUpscale(n,{payload:t}){n.upscale=t},setEmulatedResolution(n,{payload:t}){n.userSettings.displaySettings.emulatedResolution=t},showScroll(n,{payload:t}){n.openMenus=[{menuId:`markdown/${t}`,scrollableSelection:!1}]},inputAddedDuringAssignment(n,{payload:t}){if(n.assigningInput===void 0)throw new Error("reducer called while not assigning keys");const r=(c,h)=>{c.includes(h)||c.push(h)},{presses:s,axes:l,action:u}=n.assigningInput;switch(t.type){case"key":r(s.keys,t.input);break;case"gamepadButtons":r(s.gamepadButtons,t.input);break;case"gamepadAxes":{pl.includes(u)&&r(l,t.input);break}}},doneAssigningInput(n){if(n.assigningInput===void 0)throw new Error("illegal action for state");const{action:t,presses:r,axes:s}=n.assigningInput;r.keys.length+r.gamepadButtons.length+s.length>0&&(n.userSettings.inputAssignment.presses[t]=r,(t==="left"||t==="right")&&(n.userSettings.inputAssignment.axes.x=s),(t==="towards"||t==="away")&&(n.userSettings.inputAssignment.axes.y=s)),n.assigningInput=void 0},menuOpenOrExitPressed(n){if(n.openMenus.length>0){if(n.openMenus.length===1&&!n.gameRunning)return;const[,...t]=n.openMenus;n.openMenus=t}else n.openMenus=[{menuId:"mainMenu",scrollableSelection:!1}]},goToSubmenu(n,{payload:t}){n.openMenus=[{menuId:t,scrollableSelection:!1},...n.openMenus]},gameStarted(n){n.gameRunning?n.openMenus=[]:(n.openMenus=[{menuId:"crowns",scrollableSelection:!1}],n.gameRunning=!0)},backToParentMenu(n){const[,...t]=n.openMenus;n.openMenus=t},assignInputStart(n,{payload:t}){n.assigningInput={action:t,presses:{gamepadButtons:[],keys:[]},axes:[]}},keyAssignmentPresetChosen(n,{payload:t}){const[,...r]=n.openMenus;n.openMenus=r,n.userSettings.inputAssignment=xl[t].inputAssignment},setFocussedMenuItemId(n,{payload:{focussedItemId:t,scrollableSelection:r}}){const[s]=n.openMenus;s.focussedItemId=t,s.scrollableSelection=r},holdPressed(n,{payload:t}){n.openMenus.length>0?n.openMenus[0]?.menuId==="hold"&&t!=="hold"&&(n.openMenus=[]):t!=="unhold"&&(n.openMenus=[{menuId:"hold",scrollableSelection:!1}])},setShowBoundingBoxes(n,{payload:t}){n.userSettings.displaySettings.showBoundingBoxes=t},setShowShadowMasks(n,{payload:t}){n.userSettings.displaySettings.showShadowMasks=t},toggleLivesModel(n){n.userSettings.livesModel=n.userSettings.livesModel==="infinite"?"original":"infinite"},toggleCrtFilter(n){n.userSettings.displaySettings.crtFilter=!n.userSettings.displaySettings.crtFilter},toggleColourise(n){n.userSettings.displaySettings.colourise=!n.userSettings.displaySettings.colourise},crownCollected(n,{payload:t}){n.planetsLiberated[t]=!0,n.openMenus=[{menuId:"crowns",scrollableSelection:!1}]},gameOver(n){n.gameRunning=!1,n.openMenus=[{menuId:"gameOver",scrollableSelection:!1},{menuId:"mainMenu",scrollableSelection:!0}]}}}),{assignInputStart:Hn,backToParentMenu:Y1,crownCollected:bO,doneAssigningInput:qk,gameOver:Fk,gameStarted:Yk,goToSubmenu:bs,holdPressed:Vk,inputAddedDuringAssignment:Xk,keyAssignmentPresetChosen:Wk,menuOpenOrExitPressed:w0,setEmulatedResolution:vO,setFocussedMenuItemId:np,setShowBoundingBoxes:_O,setShowShadowMasks:wO,setUpscale:$k,showScroll:SO,toggleColourise:V1,toggleCrtFilter:Kk,toggleLivesModel:Qk}=ep.actions,AO=ep.actions,Zk=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","Å","Ä","Ö","0","1","2","3","4","5","6","7","8","9","!","@","#","$","%","^","&","*","(",")","-","_","=","+","[","]","{","}",";",":","'",'"',",",".","/","<",">","?","\\","|"," ","Enter","Shift","Control","Alt","`","~","Tab","Backspace","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Numpad0","Numpad1","Numpad2","Numpad3","Numpad4","Numpad5","Numpad6","Numpad7","Numpad8","Numpad9","Numpad+","Numpad-","Numpad*","Numpad/","Numpad.","NumpadEnter","Numpad=","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","Escape"],Jk=n=>Zk.includes(n);let tR=1;const eR=()=>tR++,nR=3,S0=({key:n,location:t,repeat:r})=>{if(r)return;const s=n.length===1?n.toUpperCase():n,l=t===nR?`Numpad${s}`:s;if(Jk(l))return l;console.warn("unrecognised key",n)},rR=()=>new Map,iR=n=>{const t=l=>{const u=S0(l);u!==void 0&&n.set(u,eR())},r=l=>{const u=S0(l);u!==void 0&&n.delete(u)},s=()=>{n.clear()};return window.addEventListener("keydown",t,!1),window.addEventListener("keyup",r,!1),window.addEventListener("blur",s,!1),()=>{window.removeEventListener("keydown",t,!1),window.removeEventListener("keyup",r,!1),window.removeEventListener("blur",s,!1)}};var Ua={},Qo={},Zo={},A0;function sR(){if(A0)return Zo;A0=1,Zo.__esModule=!0,Zo.default=l;function n(u){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(h){return typeof h}:n=function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},n(u)}function t(){}var r={getItem:t,setItem:t,removeItem:t};function s(u){if((typeof self>"u"?"undefined":n(self))!=="object"||!(u in self))return!1;try{var c=self[u],h="redux-persist ".concat(u," test");c.setItem(h,"test"),c.getItem(h),c.removeItem(h)}catch{return!1}return!0}function l(u){var c="".concat(u,"Storage");return s(c)?self[c]:r}return Zo}var T0;function aR(){if(T0)return Qo;T0=1,Qo.__esModule=!0,Qo.default=r;var n=t(sR());function t(s){return s&&s.__esModule?s:{default:s}}function r(s){var l=(0,n.default)(s);return{getItem:function(c){return new Promise(function(h,d){h(l.getItem(c))})},setItem:function(c,h){return new Promise(function(d,m){d(l.setItem(c,h))})},removeItem:function(c){return new Promise(function(h,d){h(l.removeItem(c))})}}}return Qo}var E0;function lR(){if(E0)return Ua;E0=1,Ua.__esModule=!0,Ua.default=void 0;var n=t(aR());function t(s){return s&&s.__esModule?s:{default:s}}var r=(0,n.default)("local");return Ua.default=r,Ua}var oR=lR();const uR=vn(oR);var rp="persist:",ip="persist/FLUSH",Au="persist/REHYDRATE",sp="persist/PAUSE",ap="persist/PERSIST",lp="persist/PURGE",op="persist/REGISTER",X1=-1;function iu(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?iu=function(r){return typeof r}:iu=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},iu(n)}function M0(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);t&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable})),r.push.apply(r,s)}return r}function cR(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M0(r,!0).forEach(function(s){hR(n,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):M0(r).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(r,s))})}return n}function hR(n,t,r){return t in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}function fR(n,t,r,s){s.debug;var l=cR({},r);return n&&iu(n)==="object"&&Object.keys(n).forEach(function(u){u!=="_persist"&&t[u]===r[u]&&(l[u]=n[u])}),l}function dR(n){var t=n.blacklist||null,r=n.whitelist||null,s=n.transforms||[],l=n.throttle||0,u="".concat(n.keyPrefix!==void 0?n.keyPrefix:rp).concat(n.key),c=n.storage,h;n.serialize===!1?h=function(I){return I}:typeof n.serialize=="function"?h=n.serialize:h=pR;var d=n.writeFailHandler||null,m={},g={},y=[],v=null,b=null,T=function(I){Object.keys(I).forEach(function(G){R(G)&&m[G]!==I[G]&&y.indexOf(G)===-1&&y.push(G)}),Object.keys(m).forEach(function(G){I[G]===void 0&&R(G)&&y.indexOf(G)===-1&&m[G]!==void 0&&y.push(G)}),v===null&&(v=setInterval(E,l)),m=I};function E(){if(y.length===0){v&&clearInterval(v),v=null;return}var P=y.shift(),I=s.reduce(function(G,V){return V.in(G,P,m)},m[P]);if(I!==void 0)try{g[P]=h(I)}catch(G){console.error("redux-persist/createPersistoid: error serializing state",G)}else delete g[P];y.length===0&&w()}function w(){Object.keys(g).forEach(function(P){m[P]===void 0&&delete g[P]}),b=c.setItem(u,h(g)).catch(k)}function R(P){return!(r&&r.indexOf(P)===-1&&P!=="_persist"||t&&t.indexOf(P)!==-1)}function k(P){d&&d(P)}var D=function(){for(;y.length!==0;)E();return b||Promise.resolve()};return{update:T,flush:D}}function pR(n){return JSON.stringify(n)}function mR(n){var t=n.transforms||[],r="".concat(n.keyPrefix!==void 0?n.keyPrefix:rp).concat(n.key),s=n.storage;n.debug;var l;return n.deserialize===!1?l=function(c){return c}:typeof n.deserialize=="function"?l=n.deserialize:l=gR,s.getItem(r).then(function(u){if(u)try{var c={},h=l(u);return Object.keys(h).forEach(function(d){c[d]=t.reduceRight(function(m,g){return g.out(m,d,h)},l(h[d]))}),c}catch(d){throw d}else return})}function gR(n){return JSON.parse(n)}function yR(n){var t=n.storage,r="".concat(n.keyPrefix!==void 0?n.keyPrefix:rp).concat(n.key);return t.removeItem(r,xR)}function xR(n){}function C0(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);t&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable})),r.push.apply(r,s)}return r}function hr(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C0(r,!0).forEach(function(s){bR(n,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):C0(r).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(r,s))})}return n}function bR(n,t,r){return t in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}function vR(n,t){if(n==null)return{};var r=_R(n,t),s,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(n);for(l=0;l<u.length;l++)s=u[l],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(n,s)&&(r[s]=n[s])}return r}function _R(n,t){if(n==null)return{};var r={},s=Object.keys(n),l,u;for(u=0;u<s.length;u++)l=s[u],!(t.indexOf(l)>=0)&&(r[l]=n[l]);return r}var wR=5e3;function SR(n,t){var r=n.version!==void 0?n.version:X1;n.debug;var s=n.stateReconciler===void 0?fR:n.stateReconciler,l=n.getStoredState||mR,u=n.timeout!==void 0?n.timeout:wR,c=null,h=!1,d=!0,m=function(y){return y._persist.rehydrated&&c&&!d&&c.update(y),y};return function(g,y){var v=g||{},b=v._persist,T=vR(v,["_persist"]),E=T;if(y.type===ap){var w=!1,R=function(et,W){w||(y.rehydrate(n.key,et,W),w=!0)};if(u&&setTimeout(function(){!w&&R(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(n.key,'"')))},u),d=!1,c||(c=dR(n)),b)return hr({},t(E,y),{_persist:b});if(typeof y.rehydrate!="function"||typeof y.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return y.register(n.key),l(n).then(function(V){var et=n.migrate||function(W,$){return Promise.resolve(W)};et(V,r).then(function(W){R(W)},function(W){R(void 0,W)})},function(V){R(void 0,V)}),hr({},t(E,y),{_persist:{version:r,rehydrated:!1}})}else{if(y.type===lp)return h=!0,y.result(yR(n)),hr({},t(E,y),{_persist:b});if(y.type===ip)return y.result(c&&c.flush()),hr({},t(E,y),{_persist:b});if(y.type===sp)d=!0;else if(y.type===Au){if(h)return hr({},E,{_persist:hr({},b,{rehydrated:!0})});if(y.key===n.key){var k=t(E,y),D=y.payload,P=s!==!1&&D!==void 0?s(D,g,k,n):k,I=hr({},P,{_persist:hr({},b,{rehydrated:!0})});return m(I)}}}if(!b)return t(g,y);var G=t(E,y);return G===E?g:m(hr({},G,{_persist:b}))}}function k0(n){return ER(n)||TR(n)||AR()}function AR(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function TR(n){if(Symbol.iterator in Object(n)||Object.prototype.toString.call(n)==="[object Arguments]")return Array.from(n)}function ER(n){if(Array.isArray(n)){for(var t=0,r=new Array(n.length);t<n.length;t++)r[t]=n[t];return r}}function R0(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);t&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable})),r.push.apply(r,s)}return r}function Ad(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R0(r,!0).forEach(function(s){MR(n,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):R0(r).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(r,s))})}return n}function MR(n,t,r){return t in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}var W1={registry:[],bootstrapped:!1},CR=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:W1,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case op:return Ad({},t,{registry:[].concat(k0(t.registry),[r.key])});case Au:var s=t.registry.indexOf(r.key),l=k0(t.registry);return l.splice(s,1),Ad({},t,{registry:l,bootstrapped:l.length===0});default:return t}};function kR(n,t,r){var s=Zd(CR,W1,void 0),l=function(d){s.dispatch({type:op,key:d})},u=function(d,m,g){var y={type:Au,payload:m,err:g,key:d};n.dispatch(y),s.dispatch(y)},c=Ad({},s,{purge:function(){var d=[];return n.dispatch({type:lp,result:function(g){d.push(g)}}),Promise.all(d)},flush:function(){var d=[];return n.dispatch({type:ip,result:function(g){d.push(g)}}),Promise.all(d)},pause:function(){n.dispatch({type:sp})},persist:function(){n.dispatch({type:ap,register:l,rehydrate:u})}});return c.persist(),c}function RR(n,t){return function(r,s){if(!r)return Promise.resolve(void 0);var l=r._persist&&r._persist.version!==void 0?r._persist.version:X1;if(l===s||l>s)return Promise.resolve(r);var u=Object.keys(n).map(function(h){return parseInt(h)}).filter(function(h){return s>=h&&h>l}).sort(function(h,d){return h-d});try{var c=u.reduce(function(h,d){return n[d](h)},r);return Promise.resolve(c)}catch(h){return Promise.reject(h)}}}const zR=(n,...t)=>{const r={};for(const s of t)r[s]=n[s];return r},Jo=n=>{const t=zR(F1,"userSettings");return console.log("migrating state: persisted is:",n,"am reverting to initial (partial) state:",t),t},OR={key:"hohol/gameMenus/userSettings",version:4,migrate:RR({1:Jo,2:Jo,3:Jo,4:Jo}),storage:uR,whitelist:["userSettings"]},BR=SR(OR,ep.reducer),bn=kk({reducer:BR,middleware:n=>n({serializableCheck:{ignoredActions:[ip,Au,sp,ap,lp,op]}})});kR(bn);const qr={away:{x:0,y:1,z:0},left:{x:1,y:0,z:0},right:{x:-1,y:0,z:0},towards:{x:0,y:-1,z:0},down:{x:0,y:0,z:-1},up:{x:0,y:0,z:1},awayRight:$o({x:1,y:1,z:0}),rightTowards:$o({x:1,y:-1,z:0}),towardsLeft:$o({x:-1,y:-1,z:0}),leftAway:$o({x:-1,y:1,z:0})},jR=(n,t)=>!!n.keyboardState.has(t),$1=(n,t)=>{for(const r of n.gamepads)if(!(r===null||r.buttons.length<=t)&&r.buttons[t].pressed)return!0;return!1},Td=.5,K1=(n,t,r)=>{for(const s of n.gamepads)if(!(s===null||s.axes.length<=t)){if(r===void 0){if(Math.abs(s.axes[t])>Td)return!0}else if(s.axes[t]*r>Td)return!0}return!1},z0=(n,t)=>{const{inputAssignment:r}=bn.getState().userSettings,s=r.presses[t];for(const u of s.keys)if(jR(n,u))return!0;for(const u of s.gamepadButtons)if($1(n,u))return!0;const l=T1(t);if(l!==void 0){const u=r.axes[l.axis];for(const c of u)if(K1(n,c,l.direction))return!0}return!1};class DR{constructor(t){this.keyboardStateMap=t}#t=void 0;#e=gd;#r=()=>{let t,r,s,l;switch("tap"){case(t=this.currentActionPress("left")):return qr.left;case(r=this.currentActionPress("right")):return qr.right;case(s=this.currentActionPress("away")):return qr.away;case(l=this.currentActionPress("towards")):return qr.towards}const u=(t!=="released"?1:0)+(r!=="released"?1:0)+(s!=="released"?1:0)+(l!=="released"?1:0);if(u>1)return this.#e;if(u===1)switch("hold"){case t:return qr.left;case r:return qr.right;case s:return qr.away;case l:return qr.towards}return gd};#n=()=>{this.#e=this.#r(),this.#t={keyboardState:new Map(this.keyboardStateMap),gamepads:navigator.getGamepads()}};currentActionPress(t){const r={keyboardState:this.keyboardStateMap,gamepads:navigator.getGamepads()};return z0(r,t)?(this.#t===void 0?!1:z0(this.#t,t))?"hold":"tap":"released"}inputTap(){for(const t of this.keyboardStateMap.keys())if(this.#t===void 0||!this.#t.keyboardState.has(t))return{type:"key",input:t};for(const t of navigator.getGamepads())if(t!==null){for(const[r,s]of t.buttons.entries())if(s.pressed&&(this.#t===void 0||!$1(this.#t,r)))return{type:"gamepadButtons",input:r};for(const[r,s]of t.axes.entries())if(Math.abs(s)>Td&&(this.#t===void 0||!K1(this.#t,r)))return{type:"gamepadAxes",input:r}}}get directionVector(){return this.#e}startTicking(){In.shared.add(this.#n,void 0,au.UTILITY)}stopTicking(){In.shared.remove(this.#n)}}const Q1=lt.createContext(null),NR=({children:n})=>{const[t]=lt.useState(rR),[r]=lt.useState(()=>new DR(t));return lt.useEffect(()=>{const s=iR(t);return r.startTicking(),()=>{s(),r.stopTicking()}},[r,t]),M.jsx(Q1,{value:r,children:n})},up=()=>{const n=lt.useContext(Q1);if(n===null)throw new Error("InputStateProvider required to use useInputState");return n},HR=(n,t)=>{const{current:r}=lt.useRef(n);if(r!==n)throw new Error(`Value should not change between renders:  ${r} => ${n}`)},qn=({handler:n,action:t,disabled:r=!1})=>{const s=lt.useMemo(()=>Array.isArray(t)?t:[t],[t]),l=up();lt.useEffect(()=>{if(r)return;const u=()=>{for(const c of s)if(l.currentActionPress(c)==="tap"){n(c);break}};return In.shared.add(u),()=>{In.shared.remove(u)}},[s,r,l,n])},PR=({handler:n,disabled:t=!1})=>{HR(n);const r=up();lt.useEffect(()=>{if(t)return;const s=()=>{const l=r.inputTap();l!==void 0&&n(l,r)};return In.shared.add(s),()=>{In.shared.remove(s)}},[t,n,r])};function Dt(n,t){const r=A1();return lt.useCallback(()=>{r(n(t))},[n,r,t])}const UR=()=>{const n=$t(r=>r.assigningInput!==void 0),t=$t(r=>r.openMenus.length>0);qn({action:"menu_openOrExit",handler:Dt(w0),disabled:n}),qn({action:"menu_exit",handler:Dt(w0),disabled:!t}),qn({action:"hold",handler:Dt(Vk,"toggle"),disabled:n}),qn({action:"toggleColourisation",handler:Dt(V1),disabled:n})},Kf=()=>{const{userSettings:{displaySettings:{emulatedResolution:n}}}=bn.getState(),t=I1({x:window.innerWidth,y:window.innerHeight},n,window.devicePixelRatio);console.log(`changing upscale to ${JSON.stringify(t)}x for ${window.innerWidth}x${window.innerHeight} window`),bn.dispatch($k(t))},GR=()=>{const n=A1();lt.useLayoutEffect(()=>{Kf()},[]),lt.useLayoutEffect(()=>(window.addEventListener("resize",Kf),()=>window.removeEventListener("resize",Kf)),[n])},LR=()=>(GR(),UR(),null),cp="-",IR=n=>{const t=FR(n),{conflictingClassGroups:r,conflictingClassGroupModifiers:s}=n;return{getClassGroupId:c=>{const h=c.split(cp);return h[0]===""&&h.length!==1&&h.shift(),Z1(h,t)||qR(c)},getConflictingClassGroupIds:(c,h)=>{const d=r[c]||[];return h&&s[c]?[...d,...s[c]]:d}}},Z1=(n,t)=>{if(n.length===0)return t.classGroupId;const r=n[0],s=t.nextPart.get(r),l=s?Z1(n.slice(1),s):void 0;if(l)return l;if(t.validators.length===0)return;const u=n.join(cp);return t.validators.find(({validator:c})=>c(u))?.classGroupId},O0=/^\[(.+)\]$/,qR=n=>{if(O0.test(n)){const t=O0.exec(n)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},FR=n=>{const{theme:t,prefix:r}=n,s={nextPart:new Map,validators:[]};return VR(Object.entries(n.classGroups),r).forEach(([u,c])=>{Ed(c,s,u,t)}),s},Ed=(n,t,r,s)=>{n.forEach(l=>{if(typeof l=="string"){const u=l===""?t:B0(t,l);u.classGroupId=r;return}if(typeof l=="function"){if(YR(l)){Ed(l(s),t,r,s);return}t.validators.push({validator:l,classGroupId:r});return}Object.entries(l).forEach(([u,c])=>{Ed(c,B0(t,u),r,s)})})},B0=(n,t)=>{let r=n;return t.split(cp).forEach(s=>{r.nextPart.has(s)||r.nextPart.set(s,{nextPart:new Map,validators:[]}),r=r.nextPart.get(s)}),r},YR=n=>n.isThemeGetter,VR=(n,t)=>t?n.map(([r,s])=>{const l=s.map(u=>typeof u=="string"?t+u:typeof u=="object"?Object.fromEntries(Object.entries(u).map(([c,h])=>[t+c,h])):u);return[r,l]}):n,XR=n=>{if(n<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,s=new Map;const l=(u,c)=>{r.set(u,c),t++,t>n&&(t=0,s=r,r=new Map)};return{get(u){let c=r.get(u);if(c!==void 0)return c;if((c=s.get(u))!==void 0)return l(u,c),c},set(u,c){r.has(u)?r.set(u,c):l(u,c)}}},J1="!",WR=n=>{const{separator:t,experimentalParseClassName:r}=n,s=t.length===1,l=t[0],u=t.length,c=h=>{const d=[];let m=0,g=0,y;for(let w=0;w<h.length;w++){let R=h[w];if(m===0){if(R===l&&(s||h.slice(w,w+u)===t)){d.push(h.slice(g,w)),g=w+u;continue}if(R==="/"){y=w;continue}}R==="["?m++:R==="]"&&m--}const v=d.length===0?h:h.substring(g),b=v.startsWith(J1),T=b?v.substring(1):v,E=y&&y>g?y-g:void 0;return{modifiers:d,hasImportantModifier:b,baseClassName:T,maybePostfixModifierPosition:E}};return r?h=>r({className:h,parseClassName:c}):c},$R=n=>{if(n.length<=1)return n;const t=[];let r=[];return n.forEach(s=>{s[0]==="["?(t.push(...r.sort(),s),r=[]):r.push(s)}),t.push(...r.sort()),t},KR=n=>({cache:XR(n.cacheSize),parseClassName:WR(n),...IR(n)}),QR=/\s+/,ZR=(n,t)=>{const{parseClassName:r,getClassGroupId:s,getConflictingClassGroupIds:l}=t,u=[],c=n.trim().split(QR);let h="";for(let d=c.length-1;d>=0;d-=1){const m=c[d],{modifiers:g,hasImportantModifier:y,baseClassName:v,maybePostfixModifierPosition:b}=r(m);let T=!!b,E=s(T?v.substring(0,b):v);if(!E){if(!T){h=m+(h.length>0?" "+h:h);continue}if(E=s(v),!E){h=m+(h.length>0?" "+h:h);continue}T=!1}const w=$R(g).join(":"),R=y?w+J1:w,k=R+E;if(u.includes(k))continue;u.push(k);const D=l(E,T);for(let P=0;P<D.length;++P){const I=D[P];u.push(R+I)}h=m+(h.length>0?" "+h:h)}return h};function JR(){let n=0,t,r,s="";for(;n<arguments.length;)(t=arguments[n++])&&(r=t_(t))&&(s&&(s+=" "),s+=r);return s}const t_=n=>{if(typeof n=="string")return n;let t,r="";for(let s=0;s<n.length;s++)n[s]&&(t=t_(n[s]))&&(r&&(r+=" "),r+=t);return r};function tz(n,...t){let r,s,l,u=c;function c(d){const m=t.reduce((g,y)=>y(g),n());return r=KR(m),s=r.cache.get,l=r.cache.set,u=h,h(d)}function h(d){const m=s(d);if(m)return m;const g=ZR(d,r);return l(d,g),g}return function(){return u(JR.apply(null,arguments))}}const qt=n=>{const t=r=>r[n]||[];return t.isThemeGetter=!0,t},e_=/^\[(?:([a-z-]+):)?(.+)\]$/i,ez=/^\d+\/\d+$/,nz=new Set(["px","full","screen"]),rz=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,iz=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,sz=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,az=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,lz=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,fr=n=>Ss(n)||nz.has(n)||ez.test(n),Fr=n=>Bs(n,"length",mz),Ss=n=>!!n&&!Number.isNaN(Number(n)),Qf=n=>Bs(n,"number",Ss),Ga=n=>!!n&&Number.isInteger(Number(n)),oz=n=>n.endsWith("%")&&Ss(n.slice(0,-1)),St=n=>e_.test(n),Yr=n=>rz.test(n),uz=new Set(["length","size","percentage"]),cz=n=>Bs(n,uz,n_),hz=n=>Bs(n,"position",n_),fz=new Set(["image","url"]),dz=n=>Bs(n,fz,yz),pz=n=>Bs(n,"",gz),La=()=>!0,Bs=(n,t,r)=>{const s=e_.exec(n);return s?s[1]?typeof t=="string"?s[1]===t:t.has(s[1]):r(s[2]):!1},mz=n=>iz.test(n)&&!sz.test(n),n_=()=>!1,gz=n=>az.test(n),yz=n=>lz.test(n),xz=()=>{const n=qt("colors"),t=qt("spacing"),r=qt("blur"),s=qt("brightness"),l=qt("borderColor"),u=qt("borderRadius"),c=qt("borderSpacing"),h=qt("borderWidth"),d=qt("contrast"),m=qt("grayscale"),g=qt("hueRotate"),y=qt("invert"),v=qt("gap"),b=qt("gradientColorStops"),T=qt("gradientColorStopPositions"),E=qt("inset"),w=qt("margin"),R=qt("opacity"),k=qt("padding"),D=qt("saturate"),P=qt("scale"),I=qt("sepia"),G=qt("skew"),V=qt("space"),et=qt("translate"),W=()=>["auto","contain","none"],$=()=>["auto","hidden","clip","visible","scroll"],rt=()=>["auto",St,t],it=()=>[St,t],gt=()=>["",fr,Fr],bt=()=>["auto",Ss,St],jt=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],S=()=>["solid","dashed","dotted","double","none"],z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",St],_=()=>["auto","avoid","all","avoid-page","page","left","right","column"],C=()=>[Ss,St];return{cacheSize:500,separator:":",theme:{colors:[La],spacing:[fr,Fr],blur:["none","",Yr,St],brightness:C(),borderColor:[n],borderRadius:["none","","full",Yr,St],borderSpacing:it(),borderWidth:gt(),contrast:C(),grayscale:B(),hueRotate:C(),invert:B(),gap:it(),gradientColorStops:[n],gradientColorStopPositions:[oz,Fr],inset:rt(),margin:rt(),opacity:C(),padding:it(),saturate:C(),scale:C(),sepia:B(),skew:C(),space:it(),translate:it()},classGroups:{aspect:[{aspect:["auto","square","video",St]}],container:["container"],columns:[{columns:[Yr]}],"break-after":[{"break-after":_()}],"break-before":[{"break-before":_()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...jt(),St]}],overflow:[{overflow:$()}],"overflow-x":[{"overflow-x":$()}],"overflow-y":[{"overflow-y":$()}],overscroll:[{overscroll:W()}],"overscroll-x":[{"overscroll-x":W()}],"overscroll-y":[{"overscroll-y":W()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[E]}],"inset-x":[{"inset-x":[E]}],"inset-y":[{"inset-y":[E]}],start:[{start:[E]}],end:[{end:[E]}],top:[{top:[E]}],right:[{right:[E]}],bottom:[{bottom:[E]}],left:[{left:[E]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ga,St]}],basis:[{basis:rt()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",St]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",Ga,St]}],"grid-cols":[{"grid-cols":[La]}],"col-start-end":[{col:["auto",{span:["full",Ga,St]},St]}],"col-start":[{"col-start":bt()}],"col-end":[{"col-end":bt()}],"grid-rows":[{"grid-rows":[La]}],"row-start-end":[{row:["auto",{span:[Ga,St]},St]}],"row-start":[{"row-start":bt()}],"row-end":[{"row-end":bt()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",St]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",St]}],gap:[{gap:[v]}],"gap-x":[{"gap-x":[v]}],"gap-y":[{"gap-y":[v]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[k]}],px:[{px:[k]}],py:[{py:[k]}],ps:[{ps:[k]}],pe:[{pe:[k]}],pt:[{pt:[k]}],pr:[{pr:[k]}],pb:[{pb:[k]}],pl:[{pl:[k]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[V]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[V]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",St,t]}],"min-w":[{"min-w":[St,t,"min","max","fit"]}],"max-w":[{"max-w":[St,t,"none","full","min","max","fit","prose",{screen:[Yr]},Yr]}],h:[{h:[St,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[St,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[St,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[St,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Yr,Fr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Qf]}],"font-family":[{font:[La]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",St]}],"line-clamp":[{"line-clamp":["none",Ss,Qf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",fr,St]}],"list-image":[{"list-image":["none",St]}],"list-style-type":[{list:["none","disc","decimal",St]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[R]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[R]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...S(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",fr,Fr]}],"underline-offset":[{"underline-offset":["auto",fr,St]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:it()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",St]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",St]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[R]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...jt(),hz]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",cz]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},dz]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[T]}],"gradient-via-pos":[{via:[T]}],"gradient-to-pos":[{to:[T]}],"gradient-from":[{from:[b]}],"gradient-via":[{via:[b]}],"gradient-to":[{to:[b]}],rounded:[{rounded:[u]}],"rounded-s":[{"rounded-s":[u]}],"rounded-e":[{"rounded-e":[u]}],"rounded-t":[{"rounded-t":[u]}],"rounded-r":[{"rounded-r":[u]}],"rounded-b":[{"rounded-b":[u]}],"rounded-l":[{"rounded-l":[u]}],"rounded-ss":[{"rounded-ss":[u]}],"rounded-se":[{"rounded-se":[u]}],"rounded-ee":[{"rounded-ee":[u]}],"rounded-es":[{"rounded-es":[u]}],"rounded-tl":[{"rounded-tl":[u]}],"rounded-tr":[{"rounded-tr":[u]}],"rounded-br":[{"rounded-br":[u]}],"rounded-bl":[{"rounded-bl":[u]}],"border-w":[{border:[h]}],"border-w-x":[{"border-x":[h]}],"border-w-y":[{"border-y":[h]}],"border-w-s":[{"border-s":[h]}],"border-w-e":[{"border-e":[h]}],"border-w-t":[{"border-t":[h]}],"border-w-r":[{"border-r":[h]}],"border-w-b":[{"border-b":[h]}],"border-w-l":[{"border-l":[h]}],"border-opacity":[{"border-opacity":[R]}],"border-style":[{border:[...S(),"hidden"]}],"divide-x":[{"divide-x":[h]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[h]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[R]}],"divide-style":[{divide:S()}],"border-color":[{border:[l]}],"border-color-x":[{"border-x":[l]}],"border-color-y":[{"border-y":[l]}],"border-color-s":[{"border-s":[l]}],"border-color-e":[{"border-e":[l]}],"border-color-t":[{"border-t":[l]}],"border-color-r":[{"border-r":[l]}],"border-color-b":[{"border-b":[l]}],"border-color-l":[{"border-l":[l]}],"divide-color":[{divide:[l]}],"outline-style":[{outline:["",...S()]}],"outline-offset":[{"outline-offset":[fr,St]}],"outline-w":[{outline:[fr,Fr]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:gt()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[R]}],"ring-offset-w":[{"ring-offset":[fr,Fr]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",Yr,pz]}],"shadow-color":[{shadow:[La]}],opacity:[{opacity:[R]}],"mix-blend":[{"mix-blend":[...z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":z()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[s]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",Yr,St]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[g]}],invert:[{invert:[y]}],saturate:[{saturate:[D]}],sepia:[{sepia:[I]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[g]}],"backdrop-invert":[{"backdrop-invert":[y]}],"backdrop-opacity":[{"backdrop-opacity":[R]}],"backdrop-saturate":[{"backdrop-saturate":[D]}],"backdrop-sepia":[{"backdrop-sepia":[I]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[c]}],"border-spacing-x":[{"border-spacing-x":[c]}],"border-spacing-y":[{"border-spacing-y":[c]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",St]}],duration:[{duration:C()}],ease:[{ease:["linear","in","out","in-out",St]}],delay:[{delay:C()}],animate:[{animate:["none","spin","ping","pulse","bounce",St]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[P]}],"scale-x":[{"scale-x":[P]}],"scale-y":[{"scale-y":[P]}],rotate:[{rotate:[Ga,St]}],"translate-x":[{"translate-x":[et]}],"translate-y":[{"translate-y":[et]}],"skew-x":[{"skew-x":[G]}],"skew-y":[{"skew-y":[G]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",St]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",St]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":it()}],"scroll-mx":[{"scroll-mx":it()}],"scroll-my":[{"scroll-my":it()}],"scroll-ms":[{"scroll-ms":it()}],"scroll-me":[{"scroll-me":it()}],"scroll-mt":[{"scroll-mt":it()}],"scroll-mr":[{"scroll-mr":it()}],"scroll-mb":[{"scroll-mb":it()}],"scroll-ml":[{"scroll-ml":it()}],"scroll-p":[{"scroll-p":it()}],"scroll-px":[{"scroll-px":it()}],"scroll-py":[{"scroll-py":it()}],"scroll-ps":[{"scroll-ps":it()}],"scroll-pe":[{"scroll-pe":it()}],"scroll-pt":[{"scroll-pt":it()}],"scroll-pr":[{"scroll-pr":it()}],"scroll-pb":[{"scroll-pb":it()}],"scroll-pl":[{"scroll-pl":it()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",St]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[fr,Fr,Qf]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},je=tz(xz);var r_=Cd();const TO=vn(r_),Rn=({children:n,className:t,borderClassName:r})=>r_.createPortal(M.jsxs(Kd,{children:[r&&M.jsx(bz,{className:r}),M.jsx("div",{className:je("p-1 w-zx fixed left-[50%] z-50 top-[50%] translate-y-[-50%] translate-x-[-50%] h-zx leading-none flex flex-col gap-y-1",t),children:n})]}),document.body),bz=({className:n})=>M.jsx("div",{className:`fixed inset-0 ${n}`}),vz=`## BAG

![](texture-bag)The *bag* may be used to carry small objects around a room. It is essential for
Heels to find and get the bag as it is impossible to get far without it.

The object in the bag will be displayed immediately above the bag’s icon at the
bottom right of the screen. To pick up an object just stand on top of it and
press the *CARRY* key. 

![](texture-cube)![](texture-drum)![](texture-spring.compressed)![](texture-sticks)

It is not possible to drop an object in a doorway.

*> head over heels manual*

`,_z=`## BLACKTOOTH

![](texture-blacktooth.wall.armour.left?bg-pureBlack)![](texture-blacktooth.wall.shield.away?bg-pureBlack&float-right)This planet has a large moon with three lunar space stations on it, the larger
of these, *Moon Station HQ*, is the main teleport center for the empire, with a
direct teleport to all the slave planets.

Sometime after the Egyptus episode,
the latest Emperor sent out a craft to find that same strange planet, and after
much exploration, it was finally located, and the craft landed. However, the
crew found the people had changed: instead of pyramids they used castles,
instead of wrapping corpses up in cloth, they wrapped living men in metal and
then tried to turn them into corpses with sharp metal sticks.

![](texture-teleporter)The Emperor, not to be outdone by his ancestor, built a castle on Blacktooth and
used it as his headquarters. The castle is surrounded by a small market, and
then a range of impassable mountains. The only way to leave is via teleport to
one of the three lunar space stations.

*> head over heels manual*`,wz=`## BOOK WORLD

![](texture-bookworld.wall.cowboy.left?bg-pureBlack)![](texture-book.x?float-right&clear-right)![](texture-book.y?float-right&clear-right)The emperor is very keen
on *cowboy books* and has devoted an entire world to a *western library*.

Only the emperor's minions are permitted to read them.
Information is rigorously suppressed in the empire.

*> Head Over Heels Manual*
`,Sz=`## CONVEYOR BELTS

![](texture-animated-heels.walking.right?z-topSprite&relative&ml-centreSmallBlockOnLarge&mr-2)![](texture-animated-conveyor.x?&relative&clear-left&bottom-bottomStackPullup)The rollers on the conveyor simply push you along it. If you wish to go the
opposite direction you have to jump along.

*> head over heels manual*
`,Az=`## CREDITS

Written by Jon Ritman and Bernie Drummond.  
Music and sound effect by Guy Stevens.  
Produced by D.C. Ward.  
©1987 Ocean Software Limited.
`,Tz=`## CROWNS

![](texture-crown.blacktooth)![](texture-crown.bookworld?float-right)![](texture-crown.egyptus?clear-left)![](texture-crown.penitentiary?float-right&clear-right)![](texture-crown.safari?clear-left)Find a crown and start a revolution. At the beginning of each game, a screen
showing all five planets with a crown above each will be displayed.

As each
crown is collected this screen will be shown again with the appropriate crowns
in a bright color.

*> head over heels manual*`,Ez=`## CUDDLY STUFFED WHITE RABBITS

![](texture-bunny?float-right)The *cute toy bunnies* magically enhance your powers. The status display at the
bottom of the screen will keep you informed as to which powers are temporarily
enhanced.

If Head and Heels are connected when they pick up a *Life* or *Iron pill*,
they will both get the enhanced power.

There are four types:

1. ![](texture-hud.char.2?sprite-tinted&text-metallicBlue)**Two extra lives**
2. ![](texture-hud.shield?sprite-tinted&text-metallicBlue)**Iron Pills** (to make you invulnerable)
3. ![](texture-hud.bigJumps?sprite-tinted&text-metallicBlue)**Jump higher bunny** (only works on Heels)
4. ![](texture-hud.fastSteps?sprite-tinted&text-metallicBlue)**Go faster bunny** (only works on slow-moving Head)

*> Head Over Heels Manual*
`,Mz=`## DOUGHNUTS

![](texture-doughnuts)Trays of *six doughnuts* are few and far between, so don’t waste shots. Only Head
may pick up doughnuts.

The number of remaining doughnuts will be displayed above
the doughnut icon at the bottom left of the screen.

*> Head Over Heels Manual*
`,Cz=`## EGYPTUS

![](texture-egyptus.wall.sarcophagus.left)![](texture-egyptus.wall.sarcophagus.away?float-right)![](texture-egyptus.wall.hieroglyphics.left?clear-left)![](texture-egyptus.wall.hieroglyphics.away?float-right&clear-right)Once, a long time ago, a craft from Blacktooth got a bit lost while doing a
hyperspace jump and landed on an unknown planet.

Here the crew found a primitive
animal forming a sort of civilization that appeared to revolve around wrapping
corpses in lots of bandages and putting them into huge stone pyramids.

When they
returned to Blacktooth their emperor liked the sound of it so much that he
rebuilt the capital city of one of the slave planets to resemble the story.

*> Head Over Heels Manual*
`,kz=`## HEAD 
### (HEADUS MOUTHION)

![](texture-animated-head.walking.towards?float-right)This creature is a symbiotic partner to Heels and will normally be found sitting
on top of one.

![](texture-head.falling.right)Head is descended from a breed of flying reptile and still has
rudimentary wings that allow Head to jump up to twice his own height and to
guide himself through the air.

*> Head Over Heels Manual*
`,Rz=`## HEELS 
### (FOOTUS UNDERIUM)

![](texture-animated-heels.walking.towards?float-right)During Heels’s evolution, the arms have totally disappeared while the legs have
become very powerful.

Heels can jump his own height and can also run very fast.

*> Head Over Heels Manual*`,zz=`## HINTS AND TIPS

1. **1** *:* Beginners should aim to escape from Blacktooth and get back to Freedom initially. Only the very skillful can hope to liberate a planet or two.
2. **2** *:* ![](texture-animated-head.idle.towards?float-right&relative&z-topSprite)![](texture-heels.walking.towards.2&float-right&clear-right&relative&bottom-bottomStackPullup)When you first get Head and Heels in the same location, practice placing Head on top of Heels and joining them together accurately with the swop key. Both of their icons will light up when they are successfully joined.
3. **3** *:* Remember Head and Heels are a team. Just because both are in the same room does not mean you have to join them together, and in fact, some problems may only be solved by separating Head and Heels.
4. **4** *:* Make sure Head learns to climb ladders; this is an essential skill.
5. **5** *:* ![](texture-bag?float-right)![](texture-hooter?float-right)Both Heels’s bag and Head’s hooter must be collected at the initial stages for there to be any chance of completing the game.
6. **6** *:* If Head and Heels are in the same room, extra jumping height may be obtained by one jumping off the other’s back.
7. **7** *:* Find a safe spot and get used to how far Head and Heels may move over the edge of a brick before they fall. This will enable you to make the longest jumps. Both Head and Heels will jump slightly further if they are running as they jump.
8. **8** *:* Learn the difference in distance and control between Head’s jumps and Heels’s jumps.
9. **9** *:* Make a map.
10. **10** *:* ![](texture-doughnuts?float-right)Do not waste doughnuts; they are not easy to find.
11. **11** *:* Do not get confused; only Heels may carry anything, and only Head may fire.
12. **12** *:* ![](texture-spring.released?float-right&relative&z-topSprite)![](texture-cube?float-right&clear-right&relative&bottom-bottomStackPullup)To discover if there is a room above, pile objects as high as possible and jump from the top. If there is a spring in the room, put it on the top for extra jumping height.
13. **13** *:* If you can’t understand a room, try exiting and entering again, watching carefully for any movement in the room as you enter.

*> Head Over Heels Manual*`,Oz=`## HISTORY OF THE BLACKTOOTH EMPIRE

![](texture-crown.blacktooth)Far, far away from our star Sol lies the Blacktooth empire, an evil empire, four
worlds enslaved by the planet Blacktooth.

![](texture-animated-dalek?float-right)All of the slave worlds bubble with
unrest, but due to the oppressive nature of their rulers they never reach
boiling point, they all lack a leader to draw the masses of population together.

![](texture-animated-helicopterBug?float-right)Blacktooth itself is not any better, a world rigidly controlled by its dynastic
leaders for so long that the populace do not ever think about revolution.

![](texture-head.walking.right.2)The peoples of the neighbouring stars are getting very worried about signs of
military expansion from Blacktooth and have sent a spy from the planet Freedom
to see if he can push the slave planets into full rebellion by finding the
crowns lost when Blacktooth took over.

![](texture-heels.walking.right.2)The creatures of *Freedom* are very strange in that they are formed from a pair of
*symbiotic animals* that have adapted to operate either independently or, to their
mutual advantage, join together as one - Head saddled on Heels, and indeed these
ARE their names and both are highly trained spies.

*> head over heels manual*
`,Bz=`## HOOTER

![](texture-hooter)The *hooter* may be used by Head to fire *doughnuts* at attacking monsters.

This will freeze them in place as they lick the doughnut off their faces.

![](texture-doughnuts?float-right&clear-both)The hooter may only be used by Head and requires a tray of doughnuts to be of any use.

*> Head Over Heels Manual*
`,jz=`## HUSH PUPPIES

![](texture-hushPuppy?float-right)These are a very strange type of beast; they are incredibly 
sleepy. In fact, they never wake up and it is quite normal for them to sleep for 
their entire lives.

They are often used as tables and even used as building bricks. 
They are a native of Freedom, ![](texture-head.walking.right.2?clear-both)and for many thousands of years Head and his ancestors 
have been mistaking them for Heels and causing so much trouble to the poor old hush
puppies that they evolved a defense mechanism they somehow learned to teleport
themselves away.

![](texture-animated-bubbles.white?float-right&clear-both)Nobody knows where they go, but
the instant they see any of Head’s race, they disappear and won’t return until they are sure the coast is
clear.

*> head over heels manual*
`,Dz=`## PENITENTIARY
### The empire's prison planet

![](texture-penitentiary.wall.skeleton.left)Millions are imprisoned here. A harsh planet, very mountainous, much climbing,
skill required.

The worst place is The Pit, try not to fall into it!

*> Head Over Heels Manual*
`,Nz=`## REINCARNATION FISH

![](texture-animated-fish)The strangest animal in the known universe! This fish likes to be eaten! There
have been cases of it jumping onto plates!

But there is more: when you eat one,
its prodigious memory remembers everything about you. Its memory is so good that
if you die at some later date, you will be reincarnated at the very place you
ate the fish, and you will even have its taste still in your mouth!

How a fish
can remember anything when it's been eaten has never been successfully
explained.

![](texture-fish.1)You must be very careful to check that the fish is
alive and wriggling as **dead fish decompose very quickly and it rapidly
turns so poisonous that a single lick can kill.**

### WARNING:

Even living reincarnation fish taste horrible!

*> head over heels manual*
`,Hz=`## SAFARI

![](texture-monkey.right?float-left&relative&z-topSprite)![](texture-homingBot?float-left&clear-left&relative&bottom-bottomStackPullup)![](texture-elephant.towards?float-right&relative&z-topSprite)![](texture-homingBot?float-right&clear-right&relative&bottom-bottomStackPullup)A densely vegetated planet, mainly used for hunting.

The natives live in wooden forts in the jungle, **beware traps!**

*> Head Over Heels Manual*`,Pz=`## SPRINGS

![](texture-spring.compressed)Jumping from a spring will give extra height to your jump.

*> head over heels manual*
`,Uz=`## SWITCHES

![](texture-animated-switch)Simply push the switch to switch things off and on!  
**WARNING**: Switching a deadly monster off will stop him moving but he will
still be **deadly** to touch.

*> head over heels manual*
`,Gz=`## SWOP KEY

If Head is sitting on Heels, the swop key will, on each push, give you control
of:

* *1* Heels.
* *2* Head + Heels.
* *3* Head.
* *4* Head + Heels.

If Head is not on Heels, the swop key will, on each push, give you control of:

* *1* Head.
* *2* Heels.

At all times, the character(s) whose icon is lit is under player control. When
Head and Heels are joined together, all their abilities are combined.

*> head over heels manual*`,Lz=`## Exalted Emperor:

![](texture-teleporter)Sire, I took the liberty of installing this teleporter 
to aid your magnificent return to the moonbase after the daily crown inspections.

![](texture-cyberman.towards)Supplies are running short of teleporters, so I set it up one-way
until more come in.
May I humbly suggest you teleport after inspecting the crown or his grace
will have a long walk (well, ride on a minion’s back) to get back here.

Of course, those two spies we threw in jail might try to use it to grab the crown and escape.
Just kidding, they’ll never get this far!

*> Your humble minion*
`,Iz=`## TELEPORTS

![](texture-teleporter)Standing on a teleport will activate its mechanism, which will sound a warning
siren. Pressing the *jump key* will cause you to teleport.

Not all teleports are two-way; some are linked in a chain.

*> Head Over Heels Manual* `,qz=`## THE EMPEROR’S GUARDIAN

![](texture-ball?relative&z-topSprite)![](texture-animated-bubbles.cold?relative&clear-both&bottom-bottomStackPullup)The guardian blocks the door to the throne room in Blacktooth castle. He is **very
dangerous**, and he *doesn't like doughnuts*.

Only a true hero may pass the guardian.

*> head over heels manual*
`,Fz=`## THE GAME

![](texture-heels.walking.right.2)![](texture-animated-head.idle.towards?float-right&clear-left)Head and Heels have been captured, separated and imprisoned in the castle
headquarters of Blacktooth. Their cells contain ‘keep fit’ equipment, including
a wall ladder that Head really must learn to climb.

![](texture-market.wall.fruits.left?bg-pureBlack)![](texture-moonbase.wall.window2.away?bg-pureBlack&float-right)Your job is to get them both
out of the castle and into the *marketplace* so they can join up again. From
there, the journey leads to *Moonbase Headquarters*, where you will have to decide
either to try to escape back to *Freedom* or to be a true hero and teleport to one
of the slave planets to search for its lost crown!

![](texture-crown.bookworld)To overthrow the dictatorship on any of the slave planets would be a major blow
to Blacktooth and you could return to Freedom in glory. Of course, Blacktooth
would probably enslave them again eventually but it would slow down any
expansion plans for now.


![](texture-cyberman.towards?float-right&relative&z-topSprite)![](texture-animated-bubbles.cold?float-right&clear-right&relative&bottom-bottomStackPullup)The populace of Blacktooth are so heavily oppressed
that they would have to see all four of the slave planets revolt before the
Blacktooth crown could cause an uprising. ![](texture-animated-turtle.right)This of course would be the ultimate
accolade, and unfortunately, almost certain suicide.

*> Head Over Heels Manual*
`,Ft=Object.assign({"./bag.md":vz,"./blacktooth.md":_z,"./bookWorld.md":wz,"./conveyorBelts.md":Sz,"./credits.md":Az,"./crowns.md":Tz,"./cuddlyStuffedWhiteRabbits.md":Ez,"./doughnuts.md":Mz,"./egyptus.md":Cz,"./head.md":kz,"./heels.md":Rz,"./hintsAndTips.md":zz,"./historyOfTheBlacktoothEmpire.md":Oz,"./hooter.md":Bz,"./hushPuppies.md":jz,"./penitentiary.md":Dz,"./reincarnationFish.md":Nz,"./safari.md":Hz,"./springs.md":Pz,"./switches.md":Uz,"./swopKey.md":Gz,"./teleportBack.md":Lz,"./teleports.md":Iz,"./theEmperorsGuardian.md":qz,"./theGame.md":Fz}),hp={historyOfTheBlacktoothEmpire:Ft["./historyOfTheBlacktoothEmpire.md"],theGame:Ft["./theGame.md"],egyptus:Ft["./egyptus.md"],penitentiary:Ft["./penitentiary.md"],safari:Ft["./safari.md"],bookWorld:Ft["./bookWorld.md"],blacktooth:Ft["./blacktooth.md"],head:Ft["./head.md"],heels:Ft["./heels.md"],reincarnationFish:Ft["./reincarnationFish.md"],cuddlyStuffedWhiteRabbits:Ft["./cuddlyStuffedWhiteRabbits.md"],hooter:Ft["./hooter.md"],doughnuts:Ft["./doughnuts.md"],bag:Ft["./bag.md"],crowns:Ft["./crowns.md"],teleports:Ft["./teleports.md"],springs:Ft["./springs.md"],switches:Ft["./switches.md"],conveyorBelts:Ft["./conveyorBelts.md"],hushPuppies:Ft["./hushPuppies.md"],theEmperorsGuardian:Ft["./theEmperorsGuardian.md"],swopKey:Ft["./swopKey.md"],hintsAndTips:Ft["./hintsAndTips.md"],credits:Ft["./credits.md"]},Yz={...hp,teleportBack:Ft["./teleportBack.md"]},Vz=/^##\s+(.*)$/m,Xz=n=>{const t=n.match(Vz);if(t===null)return"no title found";const[,r]=t;return r};function i_(n){var t,r,s="";if(typeof n=="string"||typeof n=="number")s+=n;else if(typeof n=="object")if(Array.isArray(n)){var l=n.length;for(t=0;t<l;t++)n[t]&&(r=i_(n[t]))&&(s&&(s+=" "),s+=r)}else for(r in n)n[r]&&(s&&(s+=" "),s+=r);return s}function s_(){for(var n,t,r=0,s="",l=arguments.length;r<l;r++)(n=arguments[r])&&(t=i_(n))&&(s&&(s+=" "),s+=t);return s}function EO(n){if(!Md(n))throw new Error(`Invalid textureId: "${n}"`)}function Md(n){return v1.frames[n]!==void 0}const Wz=({className:n,children:t})=>n?M.jsx("div",{className:`contents ${n}`,children:t}):t,hl=({className:n,tint:t})=>M.jsx("span",{className:je(`sprite  ${t?"sprite-tinted":""}`,n)}),pt=({children:n,className:t,noSlitWords:r,classnameCycle:s})=>{const l=Array.isArray(n)?n.join(" "):n;if(l.length===0)return null;const u=r?[l.toUpperCase()]:l.toUpperCase().split(/\s+/);return M.jsx("span",{className:s_(t),children:u.map((c,h)=>M.jsx("span",{className:je("text-nowrap",h===u.length-1?"":"me-1"),children:Array.from(c).map((d,m)=>{const g=`hud.char.${b1(d)}`;return Md(g)||console.error("no texture for char",d,d.charCodeAt(0),g,"we have:",Object.keys(ol.textures)),M.jsx(hl,{className:`${Md(g)?`texture-${g}`:"texture-hud.char.?"} ${s===void 0?"":s[m%s.length]}`,tint:!0},m)})},h))})},$z=n=>n.props.children!==void 0,gn=({children:n,className:t})=>M.jsx(Wz,{className:t,children:Array.isArray(n)?n.map((r,s)=>M.jsx(gn,{children:r},s)):typeof n=="number"?M.jsx(pt,{children:String(n)}):typeof n=="string"?M.jsx(pt,{children:n}):lt.isValidElement(n)?n.type===pt||n.type===gn?n:$z(n)?lt.cloneElement(n,void 0,typeof n.props.children=="string"?M.jsx(pt,{children:`${n.props.children}`}):M.jsx(gn,{children:n.props.children})):n:n}),Kz=({flip:n=!1,focussed:t=!1})=>M.jsx(pt,{className:`inline-block col-start-1 ${n?"scale-[-1] relative bottom-oneScaledPix":""}`,children:t?"⏩⏩":"⁌⁍"});var En={},Ia={},qa={},j0;function Tu(){if(j0)return qa;j0=1;var n=qa.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(qa,"__esModule",{value:!0});const r=n(xr()).default.createContext({refs:{},renderItems:{},register:()=>{},unregister:()=>{}});return qa.default=r,qa}var D0;function Qz(){if(D0)return Ia;D0=1;var n=Ia.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Ia,"__esModule",{value:!0});const t=n(xr()),r=n(Cd()),s=n(Tu()),l=({id:u,children:c})=>{const{refs:h,renderItems:d}=t.default.useContext(s.default),m=h[u],g=d[u];return m?g?r.default.createPortal(g(c),m,u):r.default.createPortal(c,m,u):null};return Ia.default=l,Ia}var Fa={},N0;function Zz(){if(N0)return Fa;N0=1;var n=Fa.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Fa,"__esModule",{value:!0});const t=n(xr()),r=n(Tu()),s=({id:l,renderItem:u=h=>h,className:c})=>{const{register:h,unregister:d}=t.default.useContext(r.default),m=t.default.useRef(null);return t.default.useEffect(()=>(m.current&&h(l,m.current,u),()=>d(l)),[l,m.current]),t.default.createElement("div",{className:[`portal-placeholder-${l}`,c].filter(g=>!!g).join(" "),ref:m})};return Fa.default=s,Fa}var ms={},H0;function Jz(){if(H0)return ms;H0=1;var n=ms.__rest||function(u,c){var h={};for(var d in u)Object.prototype.hasOwnProperty.call(u,d)&&c.indexOf(d)<0&&(h[d]=u[d]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var m=0,d=Object.getOwnPropertySymbols(u);m<d.length;m++)c.indexOf(d[m])<0&&Object.prototype.propertyIsEnumerable.call(u,d[m])&&(h[d[m]]=u[d[m]]);return h},t=ms.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(ms,"__esModule",{value:!0});const r=t(xr()),s=t(Tu()),l=({children:u})=>{const[c,h]=r.default.useState({}),[d,m]=r.default.useState({}),g=r.default.useCallback((b,T,E)=>{h(w=>Object.assign(Object.assign({},w),{[b]:T})),m(w=>Object.assign(Object.assign({},w),{[b]:E}))},[]),y=r.default.useCallback(b=>{h(T=>{const E=T,w=b;return E[w],n(E,[typeof w=="symbol"?w:w+""])}),m(T=>{const E=T,w=b;return E[w],n(E,[typeof w=="symbol"?w:w+""])})},[]),v=r.default.useMemo(()=>({refs:c,renderItems:d,register:g,unregister:y}),[c,d,g,y]);return r.default.createElement(s.default.Provider,{value:v},u)};return ms.default=l,ms}var P0;function t3(){if(P0)return En;P0=1;var n=En.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(En,"__esModule",{value:!0}),En.Context=En.Placeholder=En.Provider=void 0;const t=n(Qz()),r=n(Zz()),s=n(Jz()),l=n(Tu());En.Provider=s.default,En.Placeholder=r.default,En.Context=l.default;const u=t.default;return u.Context=l.default,u.Placeholder=r.default,u.Provider=s.default,En.default=u,En}var e3=t3();const bl=vn(e3),gr="leading-none [&_[class*='texture-hud.char']]:mb-oneScaledPix",n3=["menu_select","jump"],fl="data-menuitem_id",a_="data-menuitem_hidden",r3=()=>{},Pt=({id:n,label:t,valueElement:r,flipLeader:s=!1,doubleHeightWhenFocussed:l,onSelect:u=r3,hidden:c=!1,className:h,hint:d})=>{const m=$t(y=>y.openMenus[0].scrollableSelection),g=$t(y=>y.openMenus[0].focussedItemId===n);return qn({action:n3,handler:u,disabled:!g||c}),M.jsxs("div",{[fl]:n,[a_]:c,tabIndex:0,className:je("contents",c?"hidden":"",l&&g?"sprites-double-height":"",g?"selectedMenuItem":"",h),onMouseMove:Dt(np,{focussedItemId:n,scrollableSelection:!1}),onClick:u,children:[M.jsx(Kz,{flip:s,focussed:g}),M.jsx("div",{ref:g&&m?y=>y?.scrollIntoView({behavior:"instant",block:"center"}):void 0,className:je(r===void 0?"col-span-2":""),children:typeof t=="string"?M.jsx(M.Fragment,{children:M.jsx(pt,{children:t})}):t}),r!==void 0&&r,!g||d===void 0?null:M.jsx(bl,{children:typeof d=="string"?M.jsx(pt,{className:gr,children:d}):d})]})},js=()=>M.jsx(Pt,{id:"back",label:"Back",flipLeader:!0,doubleHeightWhenFocussed:!0,onSelect:Dt(Y1)}),fp=()=>M.jsx("div",{className:"col-span-3 h-1"}),l_=n=>{const t=n.querySelectorAll(`[${fl}]`);return Array.from(t)},U0=(n,t)=>{const r=bn.getState().openMenus[0].focussedItemId;if(r===void 0)return;const s=l_(n);if(s.length===0)return;const l=s.findIndex(c=>c.getAttribute(fl)===r);if(l===-1)return;let u=l;do u=(u+t+s.length)%s.length;while(s[u].getAttribute(a_)==="true");bn.dispatch(np({focussedItemId:s[u].getAttribute(fl),scrollableSelection:!0}))},i3=n=>{const t=R1();qn({action:"away",handler:lt.useCallback(()=>{n.current!==null&&U0(n.current,-1)},[n]),disabled:t}),qn({action:"towards",handler:lt.useCallback(()=>{n.current!==null&&U0(n.current,1)},[n]),disabled:t})},br=({className:n="",children:t})=>{const r=lt.useRef(null);return lt.useEffect(()=>{if(r.current===null||bn.getState().openMenus[0].focussedItemId!==void 0)return;const s=l_(r.current);bn.dispatch(np({focussedItemId:s[0].getAttribute(fl),scrollableSelection:!0}))},[]),i3(r),M.jsx("div",{ref:r,className:je("grid grid-cols-menuItems gap-x-1 gap-y-oneScaledPix",n),children:t})},s3=({pageName:n})=>{const t=hp[n],r=Xz(t);return M.jsx(Pt,{id:`markdown/${n}`,label:r,onSelect:Dt(bs,`markdown/${n}`),doubleHeightWhenFocussed:!0})},a3=()=>M.jsxs(Rn,{className:"bg-highlightBeige zx:bg-zxCyanDimmed",borderClassName:"bg-midGrey zx:bg-zxCyan",children:[M.jsx(pt,{className:"ml-3 text-moss zx:text-zxBlack sprites-double-height",children:"Read the manual"}),M.jsxs(br,{className:`text-redShadow zx:text-zxWhite ${gr} !gap-y-0 selectedMenuItem:text-shadow zx:selectedMenuItem:text-zxBlack overflow-y-scroll scrollbar scrollbar-w-1 scrollbar-thumb-moss scrollbar-track-highlightBeige zx:scrollbar-thumb-zxBlack zx:scrollbar-track-zxCyanDimmed`,children:[[...dl(x1(hp)).map(n=>M.jsx(s3,{pageName:n},n))],M.jsx(fp,{}),M.jsx(js,{})]})]}),l3={"":lt.Fragment,pre:"pre",code:"code",ol:"ol",ul:"ul",hr:"hr",blockquote:"blockquote",li:"li",a:"a",img:"img",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",p:"p",em:"em",strong:"strong"},G0=n=>n.replace(RegExp("^"+(n.match(/^(\t| )+/)||"")[0],"gm"),""),o3=n=>n&&typeof n!="string"&&["div","ul","ol","pre","h1","h2","h3","h4","h5","h6"].includes(n.t),Zf=n=>n.replace(/^\s+|\s+$/g," "),be=(n,t=[],r={})=>({t:n,c:Array.isArray(t)?t:[t],p:r}),Ja=(n,t=!1)=>{let r=/((?:^|\n+)(?:\n---+|\* \*(?: \*)+)\n)|(?:^``` *(\w*)\n([\s\S]*?)\n```$)|((?:(?:^|\n+)(?:\t|  {2,}).+)+\n*)|((?:(?:^|\n)([>*+-]|\d+\.)\s+.*)+)|(?:!\[([^\]]*?)\]\(([^)]+?)\))|(\[)|(\](?:\(([^)]+?)\))?)|(?:(?:^|\n+)([^\s].*)\n(-{3,}|={3,})(?:\n+|$))|(?:(?:^|\n+)(#{1,6})\s*(.+)(?:\n+|$))|(?:`([^`].*?)`)|(  \n\n*|\n{2,}|__|\*\*|[_*]|~~)/gm,s=0;const l=be("");let u,c;t?(u=be("p"),c=[l,u],l.c.push(u)):(u=l,c=[l]);let h;const d=(y,v=!0)=>(v&&c.push(y),u.c.push(y),v&&(u=y),y),m=y=>{const v=c.findIndex(b=>b.t===y);c=c.slice(0,v),u=c.at(-1)};for(;h=r.exec(n);){const y=n.substring(s,h.index);if(s=r.lastIndex,y!=="")if(u===l&&t){const v=be("p",Zf(y));l.c.push(v),c=[l,v],u=v}else u.c.push(Zf(y));if(!y.match(/[^\\](\\\\)*\\$/)){if(h[3]||h[4]){const v=be("pre",h[4]?G0(h[4]):be("code",G0(h[3]),h[2]?{language:`language-${h[2].toLowerCase()}`}:{}));l.c.push(v),c=[l],u=l}else if(h[6]){const v=h[6],b=v!==">",T=!!v.match(/\./),E=b?T?"ol":"ul":"blockquote",w=h[5].split(`
`).map(k=>k.replace(/^(\*|-|\+|>|\d+\.)\s+/,"")),R=be(E,b?w.map(k=>be("li",Ja(k).c)):Ja(w.join(`
`)).c);l.c.push(R),c=[l,R],u=l}else if(h[8]){const v=be("img",[],{src:h[8],...h[7]?{alt:h[7]}:{}});if(t&&u===l){const b=be("p",v);l.c.push(b),u=b,c=[l,b]}else d(v,!1)}else if(h[10]){const v=c.find(b=>b.t==="a");v&&(v.p.href=h[11])}else if(h[9])d(be("a"));else if(h[14]){const v="h"+h[14].length;l.c.push(be(v,Ja(h[15]).c)),c=[l],u=l}else if(h[13])l.c.push(be("h1",Ja(h[12]).c)),c=[l],u=l;else if(h[16])d(be("code",h[16]),!1);else if(h[17]?.[0]===`
`||h[17]===`  
`){if(!(c[1]?.t==="p")){const T=l.c;let E;for(E=T.length-1;E>=0&&!o3(T[E]);E--);if(E!==l.c.length-1){const w=l.c.splice(E+1);l.c.push(be("p",w))}}const b=be("p");l.c.push(b),c=[l,b],u=b}else if(h[1])d(be("hr"),!1);else if(h[17]){const v=h[17].length===2?"strong":"em";c.findIndex(T=>T.t===v)===-1?d(be(v)):m(v)}}}const g=Zf(n.substring(s));if(g.length){const y=l.c.at(-1);let v;y?.t==="p"?v=y:t?(v=be("p"),l.c.push(v)):v=l,v.c.push(g)}return l.c=l.c.filter(y=>typeof y=="string"||y.t!=="p"||y.c?.length>0),l},u3=(n,t={})=>{const r={...l3,...t},s=(l,u=0)=>{const c=l.t===""?lt.Fragment:r[l.t];return lt.createElement(c,{...l.p,key:u},l.c.length===0?void 0:l.c.map((h,d)=>typeof h=="string"?h:s(h,d)))};return s(Ja(n,!0))},c3=({markdown:n,customComponents:t})=>u3(n,t),h3={h2:function({children:t}){return M.jsx("h2",{className:"mb-1 sprites-double-height text-metallicBlue zx:text-zxBlue",children:M.jsx(gn,{children:t})})},h3:function({children:t}){return M.jsx("h3",{className:"mt-1 mb-1 text-metallicBlue zx:text-zxBlue",children:M.jsx(gn,{children:t})})},p:function({children:t}){return M.jsx("div",{className:`mb-1 ${gr}`,children:M.jsx(gn,{children:t})})},li:function({children:t}){return M.jsx("div",{className:`mb-1 clear-left ${gr}`,children:M.jsx(gn,{children:t})})},strong:function({children:t}){return M.jsx(gn,{className:"strong text-midRed zx:text-zxRed",children:t})},em:function({children:t}){return M.jsx(gn,{className:"em text-moss zx:text-zxBlue",children:t})},img:function({src:t}){const r=$d();if(t===void 0)throw new Error("image without src");const s=t.split(/\?|&/);return M.jsx("span",{style:{"--scale":r*2},children:M.jsx(hl,{className:je("float-left mr-1 mb-1",s.join(" "))})})}},xs=({markdown:n,className:t})=>M.jsx("div",{className:`contents ${t}`,children:M.jsx(c3,{customComponents:h3,markdown:n})}),f3=4,L0=Mi.h,d3=({pageName:n})=>{const t=lt.useRef(null),r=$d(),s=Yz[n],l=lt.useCallback(u=>{if(t.current===null)return;const{scrollTop:c}=t.current,h=c+r*f3*(u==="down"?L0:-L0);t.current.scrollTo({top:h,behavior:"instant"})},[r]);return qn({handler:lt.useCallback(()=>{l("down")},[l]),action:"towards"}),qn({handler:lt.useCallback(()=>{l("up")},[l]),action:"away"}),M.jsxs(Rn,{className:"bg-highlightBeige zx:bg-zxCyan text-shadow zx:text-zxBlack",borderClassName:"bg-midGrey",children:[M.jsx("div",{className:je("overflow-y-scroll scrollbar  scrollbar-w-1 scrollbar-thumb-midRed scrollbar-track-highlightBeige zx:scrollbar-thumb-zxCyanDimmed zx:scrollbar-track-zxCyan"),ref:t,children:M.jsx(xs,{markdown:s})}),M.jsx(br,{className:"hidden",children:M.jsx(js,{})})]})},I0={egyptus:["text-lightBeige","text-midRed","text-highlightBeige"],blacktooth:["text-midGrey","text-lightGrey","text-moss","text-midRed"],safari:["text-moss","text-midRed","text-redShadow"],bookworld:["text-midRed","text-redShadow","text-midGrey"],penitentiary:["text-shadow","text-metallicBlue","text-midGrey"]},p3={egyptus:"texture-crown.egyptus",blacktooth:"texture-crown.blacktooth",bookworld:"texture-crown.bookworld",penitentiary:"texture-crown.penitentiary",safari:"texture-crown.safari"},Ya=({planet:n,className:t,label:r=n})=>{const s=$t(l=>l.planetsLiberated[n]);return M.jsxs("div",{className:`flex flex-col ${t}`,children:[M.jsx(hl,{className:`block ${s?p3[n]:"texture-crown.dark"} mx-auto`}),M.jsx(hl,{className:`block texture-ball mx-auto ${I0[n][0]}`}),M.jsx(pt,{classnameCycle:I0[n],className:"block mx-auto",children:r})]})},m3=()=>M.jsxs(M.Fragment,{children:[M.jsx(pt,{className:"block sprites-double-height text-highlightBeige ml-6",children:"The blacktooth empire"}),M.jsx(Ya,{planet:"egyptus",className:"w-12 absolute left-[calc(var(--block,8px)*0)] top-[calc(var(--block,8px)*3)]"}),M.jsx(Ya,{planet:"penitentiary",className:"w-12 absolute left-[calc(var(--block,8px)*20)] top-[calc(var(--block,8px)*3)]"}),M.jsx(Ya,{planet:"safari",className:"w-12 absolute left-[calc(var(--block,8px)*0)] top-[calc(var(--block,8px)*17)]"}),M.jsx(Ya,{planet:"bookworld",label:"book world",className:"w-12 absolute left-[calc(var(--block,8px)*20)] top-[calc(var(--block,8px)*17)]"}),M.jsx(Ya,{planet:"blacktooth",className:"w-12 absolute left-[calc(var(--block,8px)*10)] top-[calc(var(--block,8px)*10)]"})]}),g3=()=>M.jsxs(Rn,{className:"bg-pureBlack w-zx h-full block p-0",borderClassName:"bg-pureBlack",children:[M.jsx(m3,{}),M.jsx(br,{className:"hidden",children:M.jsx(js,{})})]}),dr=["text-pink zx:text-zxCyan","text-highlightBeige zx:text-zxYellow","text-moss zx:text-zxWhite"],y3=()=>M.jsxs(M.Fragment,{children:[M.jsxs("div",{className:"flex justify-center gap-2 leading-none",children:[M.jsxs("div",{className:"flex flex-col gap-y-oneScaledPix items-center",children:[M.jsx(pt,{className:"text-metallicBlue zx:text-zxBlack",children:"1987 original"}),M.jsxs("div",{className:"flex gap-1",children:[M.jsxs("div",{className:"flex flex-col gap-y-oneScaledPix items-center",children:[M.jsx(pt,{classnameCycle:dr,children:"Jon"}),M.jsx(pt,{classnameCycle:dr,children:"Ritman"})]}),M.jsxs("div",{className:"flex flex-col gap-y-oneScaledPix items-center",children:[M.jsx(pt,{classnameCycle:dr,children:"Bernie"}),M.jsx(pt,{classnameCycle:dr,children:"Drummand"})]})]})]}),M.jsxs("div",{className:"flex flex-col gap-y-oneScaledPix items-center",children:[M.jsx(pt,{className:"text-pink zx:text-zxBlack",children:"2025 remake"}),M.jsx("div",{className:"flex",children:M.jsxs("div",{className:"flex flex-col gap-y-oneScaledPix items-center",children:[M.jsx(pt,{classnameCycle:dr,children:"Jim"}),M.jsx(pt,{classnameCycle:dr,children:"Higson"})]})})]})]}),M.jsxs("div",{className:"absolute bottom-1",children:[M.jsx(pt,{className:"text-metallicBlue zx:text-zxBlack",children:"https://"}),M.jsx(pt,{className:"text-pink zx:text-zxCyan",children:"block"}),M.jsx(pt,{className:"text-highlightBeige zx:text-zxYellow",children:"stack"}),M.jsx(pt,{className:"text-metallicBlue zx:text-zxBlack",children:"."}),M.jsx(pt,{className:"text-moss zx:text-zxWhite",children:"ing"})]})]}),dp=()=>M.jsxs("div",{className:"flex  ml-3",children:[M.jsxs("div",{className:"flex flex-col gap-y-oneScaledPix items-center me-1",children:[M.jsx(pt,{className:"sprites-double-height text-metallicBlue zx:text-zxYellow",children:"Head"}),M.jsxs("div",{className:"mt-1 relative",children:[M.jsx("span",{className:"sprite texture-animated-head.idle.right hover:texture-animated-head.walking.right relative z-topSprite"}),M.jsx("span",{className:"sprite texture-shadow.smallRound absolute left-0 top-[calc(var(--scale)*1px)] opacity-halfBrite"})]})]}),M.jsx(pt,{classnameCycle:dr,className:"mt-1 me-1",children:"over"}),M.jsxs("div",{className:"flex flex-col items-center me-1",children:[M.jsx(pt,{className:"sprites-double-height text-pink zx:text-zxYellow",children:"Heels"}),M.jsxs("div",{className:"mt-1 relative",children:[M.jsx("span",{className:"sprite texture-heels.walking.towards.2 hover:texture-animated-heels.walking.towards relative z-topSprite"}),M.jsx("span",{className:"sprite texture-shadow.smallRound absolute left-0 top-[calc(var(--scale)*1px)] opacity-halfBrite"})]})]}),M.jsx(pt,{classnameCycle:dr,className:"mt-1",children:"online"})]}),x3=()=>{const n=$t(t=>t.gameRunning);return M.jsx(pt,{children:n?"Resume the game":"Play the game"})},b3=n=>{const t=$t(r=>r.gameRunning);return M.jsxs(Rn,{className:"bg-metallicBlueHalfbrite zx:bg-zxRed gap-y-2",borderClassName:"bg-metallicBlueHalfbrite zx:bg-zxRed",children:[M.jsx(dp,{}),M.jsxs(br,{className:"text-highlightBeige zx:text-zxCyan selectedMenuItem:text-white",children:[M.jsx(Pt,{id:"playGame",label:M.jsx(x3,{}),doubleHeightWhenFocussed:!0,onSelect:Dt(Yk)}),M.jsx(Pt,{id:"quitGame",label:"Quit this game",onSelect:Dt(bs,"quitGameConfirm"),doubleHeightWhenFocussed:!0,hidden:!t}),M.jsx(Pt,{id:"selectKeys",label:"Select the keys",doubleHeightWhenFocussed:!0,onSelect:Dt(bs,"selectKeys")}),M.jsx(Pt,{id:"modernisationOptions",label:"Modernisation Options",doubleHeightWhenFocussed:!0,onSelect:Dt(bs,"modernisationOptions")}),M.jsx(Pt,{id:"readTheManual",label:"Read the manual",doubleHeightWhenFocussed:!0,onSelect:Dt(bs,"readTheManual")})]}),M.jsx(y3,{})]})},pp=({className:n})=>M.jsx("div",{className:je("contents",n),children:M.jsx(bl.Placeholder,{})}),v3=()=>M.jsx(Rn,{className:"bg-white zx:bg-zxRed",borderClassName:"bg-shadow",children:M.jsxs(bl.Provider,{children:[M.jsx(dp,{}),M.jsx(pt,{className:"ml-3 sprites-double-height",classnameCycle:["text-redShadow zx:text-zxWhite","text-shadow zx:text-zxYellow"],children:"Quit the game?"}),M.jsxs(br,{className:"text-lightGrey zx:text-zxWhite selectedMenuItem:text-midRed zx:selectedMenuItem:text-zxYellow",children:[M.jsx(fp,{}),M.jsx(Pt,{doubleHeightWhenFocussed:!0,id:"no",label:"No",onSelect:Dt(Y1),hint:"Go back to the game"}),M.jsx(Pt,{doubleHeightWhenFocussed:!0,id:"yes",label:"Yes",onSelect:Dt(Fk),hint:"Warning! This game will end!"})]}),M.jsx(pp,{className:"text-midRed zx:text-zxWhite"})]})}),_3=()=>{const n=$t(t=>eC(dl($M(t.planetsLiberated)).filter(Boolean)));return M.jsxs(Rn,{className:"bg-metallicBlueHalfbrite zx:bg-zxRed w-zx h-full block",borderClassName:"bg-redShadow",children:[M.jsx(dp,{}),M.jsx(pt,{classnameCycle:dr,className:"mt-2 block text-center mx-auto sprites-double-height",children:"Dummy"}),M.jsx(pt,{className:"mt-4 block text-center mx-auto text-highlightBeige zx:text-zxYellow",children:"Score -"}),M.jsx(pt,{className:"mt-2 block text-center mx-auto text-pink zx:text-zxCyan",children:"Explored - rooms"}),M.jsxs(pt,{className:"mt-2 block text-center mx-auto text-lightGrey zx:text-zxWhite",children:["Liberated ",String(n)," planets"]}),M.jsx(br,{className:"hidden",children:M.jsx(js,{})})]})},w3=[],o_=new Set;o_.add=()=>{throw new Error("emptySet.add")};o_.clear=()=>{throw new Error("emptySet.clear")};const MO=Object.freeze({}),Ti="text-moss zx:text-zxGreen selectedMenuItem:text-mossHalfbrite zx:selectedMenuItem:text-zxGreen",S3=n=>{const t=/(Numpad|F)(.*)/.exec(n);if(t!==null)return M.jsxs(M.Fragment,{children:[M.jsx("span",{className:Ti,children:t[1]}),t[2]]});switch(n){case" ":return"space";case"ArrowDown":return M.jsxs(M.Fragment,{children:[M.jsx("span",{className:Ti,children:"Cursor"}),"⬇"]});case"ArrowUp":return M.jsxs(M.Fragment,{children:[M.jsx("span",{className:Ti,children:"Cursor"}),"⬆"]});case"ArrowLeft":return M.jsxs(M.Fragment,{children:[M.jsx("span",{className:Ti,children:"Cursor"}),"⬅"]});case"ArrowRight":return M.jsxs(M.Fragment,{children:[M.jsx("span",{className:Ti,children:"Cursor"}),"➡"]});default:return n}},A3=n=>n===0?"⬅➡":n===1?"⬆⬇":`axis${n}`,T3=n=>{switch(u0[n]){case"dPadDown":return"d-Pad⬇";case"dPadUp":return"d-Pad⬆";case"dPadLeft":return"d-Pad⬅";case"dPadRight":return"d-Pad➡"}return u0[n]??n},mp=({action:n,keyClassName:t,className:r,flashingCursor:s=!1})=>{const l=$t(c=>c.assigningInput?.action===n?c.assigningInput?.presses:c.userSettings.inputAssignment.presses[n]),u=$t(c=>{const h=T1(n);return h===void 0?w3:c.assigningInput?.action===n?c.assigningInput.axes:c.userSettings.inputAssignment.axes[h.axis]});return M.jsxs("div",{className:r,children:[l.keys.map(c=>M.jsx("span",{className:je("text-nowrap",t),children:M.jsx(gn,{children:S3(c)})},`key:${c}`)),u.map(c=>M.jsx("span",{className:je("text-nowrap",t),children:M.jsxs(gn,{children:[M.jsx("span",{className:Ti,children:"🕹"}),A3(c)]})},`gamePadAxis:${c}`)),l.gamepadButtons.map(c=>M.jsx("span",{className:je("text-nowrap",t),children:M.jsxs(gn,{children:[M.jsx("span",{className:Ti,children:"🕹"}),T3(c)]})},`gamePadButton:${c}`)),s&&M.jsx(hl,{className:"texture-hud.char.space bg-[currentColor] animate-flash"})]})},E3=({action:n,className:t,keyClassName:r="text-pink zx:text-zxRed"})=>M.jsxs("div",{className:je("text-metallicBlue zx:text-zxBlue text-left",t),children:[M.jsx(pt,{className:"me-1",children:"Press"}),M.jsx(pt,{className:je("me-1",r),children:n}),M.jsx(pt,{children:"key to continue"}),M.jsxs("div",{children:[M.jsx(pt,{children:"("}),M.jsx(mp,{className:"inline",keyClassName:r,action:"hold"}),M.jsx(pt,{children:")"})]})]}),M3=()=>M.jsxs(Rn,{className:"!h-min !w-max bg-pureBlack text-center p-0",children:[M.jsx(pt,{className:"block sprites-double-height text-zxBlue",children:"hold"}),M.jsx("span",{className:"zx",children:M.jsx(E3,{className:`text-center ${gr}`,action:"hold"})})]}),Va="[&_.em]:text-lightBeige",C3=`**off**: Original *two-tone* spectrum-like graphics

**on**: *16-colour* palette with colourised sprites`,k3=`can't be changed mid-game

**off**: *8* lives to start; extra life rabbits spread thinly through the game

*A true hero leaves this off*`,R3=`**off**: *faithful* to the original rooms

**on**: *extra items* slightly modernisess the gameplay.
none of these fundamentally change how the rooms play.`,z3=`**off**: original *4* walk directions: press: *⬅ ➡ ⬆ ⬇* for: *↖ ↘ ↗ ↙*

**on**: walk in *any* direction; makes the game easier`,O3=`*zx spectrum* (**256**x**192**)

*Amiga*/*c64*/*Atari-ST* PAL (**320**x**256**)`,gs=({className:n,value:t})=>M.jsx("div",{children:M.jsx(pt,{className:s_("inline-block",t?"bg-shadowHalfbrite text-moss zx:bg-zxBlack zx:text-zxGreen":"bg-redShadowHalfbrite text-midRed zx:bg-zxBlack zx:text-zxRed",n),noSlitWords:!0,children:t?"  ON":"OFF "})}),B3=()=>M.jsx(Rn,{className:"bg-pinkHalfbrite zx:bg-zxBlue",borderClassName:"bg-moss",children:M.jsxs(bl.Provider,{children:[M.jsx(pt,{className:"ml-3 text-moss zx:text-zxGreen sprites-double-height",children:"Modernisation options"}),M.jsxs(br,{className:"text-lightGrey zx:text-zxWhite selectedMenuItem:text-white zx:selectedMenuItem:text-zxGreen",children:[M.jsx(Pt,{doubleHeightWhenFocussed:!0,id:"colourise",label:"Colourise",valueElement:M.jsx(gs,{value:$t(n=>n.userSettings.displaySettings.colourise)}),onSelect:Dt(V1),hint:M.jsx(xs,{className:Va,markdown:C3})}),M.jsx(Pt,{doubleHeightWhenFocussed:!0,id:"livesModel",label:"Infinite Lives poke",hint:M.jsx(xs,{className:Va,markdown:k3}),valueElement:M.jsx(gs,{value:$t(n=>n.userSettings.livesModel==="infinite")}),onSelect:Dt(Qk)}),M.jsx(Pt,{doubleHeightWhenFocussed:!0,id:"extraItems",label:"Extra items",valueElement:M.jsx(gs,{value:!0}),hint:M.jsx(xs,{className:Va,markdown:R3})}),M.jsx(Pt,{doubleHeightWhenFocussed:!0,id:"showFps",label:"Show FPS",valueElement:M.jsx(gs,{value:!1}),hint:"show frame rate"}),M.jsx(Pt,{doubleHeightWhenFocussed:!0,id:"analogueControl",label:"Analogue control",valueElement:M.jsx(gs,{value:!0}),hint:M.jsx(xs,{className:Va,markdown:z3})}),M.jsx(Pt,{doubleHeightWhenFocussed:!0,id:"crtFilter",label:"CRT TV effect",valueElement:M.jsx(gs,{value:$t(n=>n.userSettings.displaySettings.crtFilter)}),onSelect:Dt(Kk),hint:"Subtle screen glow a bit like an old tv"}),M.jsx(Pt,{doubleHeightWhenFocussed:!0,id:"emulatedResolution",label:"Emulated resolution",valueElement:M.jsx(pt,{className:"mr-1",children:"specy"}),hint:M.jsx(xs,{className:Va,markdown:O3})}),M.jsx(fp,{}),M.jsx(js,{})]}),M.jsx(pp,{className:"text-moss zx:text-zxGreen"})]})}),Pn=({className:n,action:t})=>{const r=$t(s=>s.assigningInput?.action===t);return M.jsx(mp,{className:je("flex flex-wrap gap-y-oneScaledPix gap-x-1",n),action:t,keyClassName:"text-pink zx:text-zxRed selectedMenuItem:text-pinkHalfbrite zx:selectedMenuItem:text-zxRed",flashingCursor:r})},q0="text-pink zx:text-zxCyan",j3=()=>{const n=$t(t=>t.assigningInput?.action);return n===void 0?null:M.jsxs("div",{className:`
        bg-metallicBlueHalfbrite text-white
        zx:bg-zxBlueDimmed zx:text-zxCyanDimmed

        ${gr} inline-block absolute inset-x-0 bottom-0 h-min pt-1 px-1`,children:[M.jsx(pt,{children:"Press "}),M.jsx(mp,{className:`inline ${q0}`,action:"menu_openOrExit",keyClassName:"me-1"}),M.jsx(pt,{children:"when done selecting keys for "}),M.jsx(pt,{className:q0,children:n})]})},D3=()=>{const n=!R1();qn({action:"menu_openOrExit",handler:lt.useCallback(()=>{bn.dispatch(qk())},[]),disabled:n}),PR({handler:lt.useCallback((t,r)=>{console.log("useKeyAssignmentInput:: got input press",t),r.currentActionPress("menu_openOrExit")==="released"&&k1(bn.getState())&&bn.dispatch(Xk(t))},[]),disabled:n})},N3=({className:n})=>{const t=$t(rk);return M.jsx(pt,{className:je("text-nowrap","text-pink zx:text-zxRed selectedMenuItem:text-pinkHalfbrite zx:selectedMenuItem:text-zxRed",n),children:t??"custom"})},H3=()=>(D3(),M.jsxs(Rn,{className:"bg-white zx:bg-zxWhite",borderClassName:"bg-lightGrey zx:bg-zxRedDimmed",children:[M.jsx(pt,{className:"text-midRed zx:text-zxBlue sprites-double-height block mx-auto",children:"Select the keys"}),M.jsxs("div",{className:"overflow-y-scroll scrollbar  scrollbar-w-1 scrollbar-thumb-midGrey scrollbar-track-white zx:scrollbar-thumb-zxBlue zx:scrollbar-track-zxWhite ",children:[M.jsxs("div",{className:`mb-1 ${gr}`,children:[M.jsx(pt,{className:"text-midRed bg-pureBlack inline-block zx:text-zxRed zx:bg-zxYellow me-1",children:"Note:"}),M.jsx(pt,{className:"text-midGrey zx:text-zxBlack",children:"some puzzles require you to jump and pick up simultaneously - assign a key for both jump and carry"})]}),M.jsxs(br,{className:"text-metallicBlue zx:text-zxBlue !gap-y-1 selectedMenuItem:text-metallicBlueHalfbrite zx:selectedMenuItem:text-zxGreen",children:[M.jsx(Pt,{id:"preset",label:"preset:",valueElement:M.jsx(N3,{}),onSelect:Dt(bs,"inputPreset")}),M.jsx(Pt,{id:"left",label:"Left ↖",valueElement:M.jsx(Pn,{action:"left"}),onSelect:Dt(Hn,"left")}),M.jsx(Pt,{id:"right",label:"Right ↘",valueElement:M.jsx(Pn,{action:"right"}),onSelect:Dt(Hn,"right")}),M.jsx(Pt,{id:"up",label:"Up ↗",valueElement:M.jsx(Pn,{action:"away"}),onSelect:Dt(Hn,"away")}),M.jsx(Pt,{id:"down",label:"Down ↙",valueElement:M.jsx(Pn,{action:"towards"}),onSelect:Dt(Hn,"towards")}),M.jsx(Pt,{id:"jump",label:"Jump",valueElement:M.jsx(Pn,{action:"jump"}),onSelect:Dt(Hn,"jump")}),M.jsx(Pt,{id:"carry",label:"Carry",valueElement:M.jsx(Pn,{action:"carry"}),onSelect:Dt(Hn,"carry")}),M.jsx(Pt,{id:"fire",label:M.jsx(pt,{className:`inline-block w-6 ${gr}`,children:"fire dough- nuts"}),valueElement:M.jsx(Pn,{action:"fire"}),onSelect:Dt(Hn,"fire")}),M.jsx(Pt,{id:"swop",label:"Swop",valueElement:M.jsx(Pn,{action:"swop"}),onSelect:Dt(Hn,"swop")}),M.jsx(Pt,{id:"hold",label:"Hold",valueElement:M.jsx(Pn,{action:"hold"}),onSelect:Dt(Hn,"hold")}),M.jsx(Pt,{id:"toggleColourisation",label:M.jsx(pt,{className:`inline-block w-6 ${gr}`,children:"toggle colour- isation"}),valueElement:M.jsx(Pn,{action:"toggleColourisation"}),onSelect:Dt(Hn,"toggleColourisation")}),M.jsx(js,{})]})]}),M.jsx(j3,{})]})),P3=({presetName:n})=>M.jsx(Pt,{id:n,label:n,doubleHeightWhenFocussed:!0,hint:xl[n].description,onSelect:Dt(Wk,n)},n),U3=()=>M.jsx(Rn,{className:"bg-white",borderClassName:"bg-midGrey",children:M.jsxs(bl.Provider,{children:[M.jsx(pt,{className:"text-midRed zx:text-zxRed sprites-double-height ml-3",children:"Key presets"}),M.jsx(br,{className:"text-metallicBlue zx:text-zxBlue selectedMenuItem:text-moss zx:selectedMenuItem:text-zxMagenta",children:x1(xl).map(n=>M.jsx(P3,{presetName:n},n))}),M.jsx(pp,{className:"text-shadow zx:text-zxMagenta"})]})}),G3=n=>n.startsWith("markdown/"),L3=n=>{const t=$t(r=>r.openMenus.at(0)?.menuId);if(t===void 0)return null;if(G3(t))return M.jsx(d3,{pageName:t.slice(9)});switch(t){case"mainMenu":return M.jsx(b3,{});case"quitGameConfirm":return M.jsx(v3,{});case"readTheManual":return M.jsx(a3,{});case"crowns":return M.jsx(g3,{});case"gameOver":return M.jsx(_3,{});case"hold":return M.jsx(M3,{});case"modernisationOptions":return M.jsx(B3,{});case"selectKeys":return M.jsx(H3,{});case"inputPreset":return M.jsx(U3,{});default:return M.jsx(Rn,{children:M.jsx(pt,{children:`unknown dialog ${t}`})})}},I3=lt.lazy(()=>vs(()=>import("./Cheats-ArTvhZeT.js"),__vite__mapDeps([4,5]))),q3=()=>{const[n,t]=lt.useState(),r=$t(u=>u.gameRunning),s=up(),l=C1();return lt.useEffect(()=>{if(!r){t(void 0);return}let u=!1,c;return(async()=>{const[{gameMain:d},m,g]=await Promise.all([vs(()=>import("./gameMain-3NYNeqwS.js").then(v=>v.g),__vite__mapDeps([6,5,2])),vs(()=>import("./campaign-BoLw1DH3.js"),[]),l?vs(()=>import("./testCampaign-AK5WFgzw.js"),[]):void 0]),y=l?{rooms:{...m.campaign.rooms,...g?.testCampaign.rooms}}:m.campaign;c=await d(y,s),u?c.stop():t(c)})(),()=>{c?.stop(),u=!0}},[l,r,s]),n},F3=()=>{const[n,t]=lt.useState(null),r=C1(),s=q3(),{cssUpscale:l,canvasSize:u}=$t(c=>c.upscale);return lt.useEffect(()=>{n===null||s===void 0||s.renderIn(n)},[s,n]),lt.useEffect(()=>{s?.resizeTo(u)},[u,s]),M.jsxs(M.Fragment,{children:[M.jsx("div",{style:{transform:`scale3d(${l}, ${l}, 1)`,width:u.x,height:u.y},className:"origin-top-left",ref:t}),M.jsx(LR,{}),M.jsx(L3,{}),s&&M.jsx(ik,{gameApi:s,children:r&&M.jsx(lt.Suspense,{fallback:null,children:M.jsx(Kd,{children:M.jsx(I3,{})})})})]})},Y3=()=>{const n=$t(t=>!t.userSettings.displaySettings.colourise);return lt.useEffect(()=>{document.body.classList.toggle("zx",n)},[n]),M.jsxs(M.Fragment,{children:[M.jsx(mx,{path:"/",children:M.jsx(NR,{children:M.jsx(F3,{})})}),M.jsx(mx,{path:"/sprites",children:M.jsx(Kd,{children:M.jsx(AC,{})})})]})},V3=()=>M.jsx(LC,{store:bn,children:M.jsx(Y3,{})});IS.createRoot(document.getElementById("root")).render(M.jsx(lt.StrictMode,{children:M.jsx(V3,{})}));export{dl as $,Rt as A,Ie as B,qe as C,pe as D,xt as E,bu as F,Si as G,rO as H,p1 as I,o_ as J,K3 as K,gd as L,Bt as M,J3 as N,qr as O,Be as P,tO as Q,od as R,$2 as S,In as T,au as U,a2 as V,aC as W,iC as X,bn as Y,MO as Z,rC as _,mO as a,W3 as a$,aO as a0,$M as a1,gO as a2,v1 as a3,eO as a4,CA as a5,mu as a6,Rv as a7,OT as a8,pr as a9,je as aA,s_ as aB,VS as aC,hl as aD,$t as aE,A1 as aF,_O as aG,wO as aH,vs as aI,xu as aJ,Xd as aK,ol as aL,pO as aM,w3 as aN,Mi as aO,at as aP,EO as aQ,lC as aR,$o as aS,nO as aT,uO as aU,bO as aV,SO as aW,Q3 as aX,Z3 as aY,hO as aZ,pl as a_,lv as aa,n2 as ab,Fn as ac,Rx as ad,rl as ae,M2 as af,de as ag,fe as ah,Ox as ai,jx as aj,s2 as ak,Qh as al,Me as am,cv as an,eT as ao,vT as ap,wT as aq,MT as ar,kT as as,RT as at,lt as au,M as av,r_ as aw,NS as ax,xO as ay,TO as az,dO as b,nC as b0,y1 as b1,AO as b2,cO as b3,$3 as b4,zR as b5,iO as b6,sO as b7,oO as b8,n0 as b9,lO as ba,Ln as bb,VM as bc,yO as bd,MA as be,Ts as bf,ll as bg,bE as bh,Xv as bi,qx as bj,Lx as bk,pb as bl,TE as bm,Jt as bn,kA as bo,hb as bp,pd as bq,fb as br,su as bs,Kv as bt,Yn as c,he as d,xn as e,V2 as f,vn as g,Ix as h,sl as i,nu as j,Dd as k,vv as l,Vn as m,jv as n,cb as o,bT as p,_T as q,IA as r,g1 as s,TT as t,Hv as u,Oe as v,ae as w,CT as x,Nd as y,fO as z};
