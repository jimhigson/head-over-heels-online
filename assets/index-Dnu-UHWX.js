const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browserAll-Cb9vJcIl.js","assets/webworkerAll-pgVT25CK.js","assets/colorToUniform-ctgBpyc5.js","assets/WebGPURenderer-DOZtYCQy.js","assets/SharedSystems-BCKPhwh0.js","assets/WebGLRenderer-CTQUxuwq.js"])))=>i.map(i=>d[i]);
function t2(t,e){for(var o=0;o<e.length;o++){const n=e[o];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const r=Object.getOwnPropertyDescriptor(n,i);r&&Object.defineProperty(t,i,r.get?r:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function o(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(i){if(i.ep)return;i.ep=!0;const r=o(i);fetch(i.href,r)}})();function ni(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var K0={exports:{}},Wa={},Q0={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ms=Symbol.for("react.element"),o2=Symbol.for("react.portal"),n2=Symbol.for("react.fragment"),i2=Symbol.for("react.strict_mode"),r2=Symbol.for("react.profiler"),s2=Symbol.for("react.provider"),l2=Symbol.for("react.context"),a2=Symbol.for("react.forward_ref"),c2=Symbol.for("react.suspense"),u2=Symbol.for("react.memo"),p2=Symbol.for("react.lazy"),Df=Symbol.iterator;function y2(t){return t===null||typeof t!="object"?null:(t=Df&&t[Df]||t["@@iterator"],typeof t=="function"?t:null)}var J0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},em=Object.assign,tm={};function cr(t,e,o){this.props=t,this.context=e,this.refs=tm,this.updater=o||J0}cr.prototype.isReactComponent={};cr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};cr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function om(){}om.prototype=cr.prototype;function Wy(t,e,o){this.props=t,this.context=e,this.refs=tm,this.updater=o||J0}var Hy=Wy.prototype=new om;Hy.constructor=Wy;em(Hy,cr.prototype);Hy.isPureReactComponent=!0;var Bf=Array.isArray,nm=Object.prototype.hasOwnProperty,Xy={current:null},im={key:!0,ref:!0,__self:!0,__source:!0};function rm(t,e,o){var n,i={},r=null,s=null;if(e!=null)for(n in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(r=""+e.key),e)nm.call(e,n)&&!im.hasOwnProperty(n)&&(i[n]=e[n]);var l=arguments.length-2;if(l===1)i.children=o;else if(1<l){for(var a=Array(l),c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:Ms,type:t,key:r,ref:s,props:i,_owner:Xy.current}}function d2(t,e){return{$$typeof:Ms,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Vy(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ms}function f2(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(o){return e[o]})}var Gf=/\/+/g;function Sc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?f2(""+t.key):e.toString(36)}function Fl(t,e,o,n,i){var r=typeof t;(r==="undefined"||r==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(r){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Ms:case o2:s=!0}}if(s)return s=t,i=i(s),t=n===""?"."+Sc(s,0):n,Bf(i)?(o="",t!=null&&(o=t.replace(Gf,"$&/")+"/"),Fl(i,e,o,"",function(c){return c})):i!=null&&(Vy(i)&&(i=d2(i,o+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Gf,"$&/")+"/")+t)),e.push(i)),1;if(s=0,n=n===""?".":n+":",Bf(t))for(var l=0;l<t.length;l++){r=t[l];var a=n+Sc(r,l);s+=Fl(r,e,o,a,i)}else if(a=y2(t),typeof a=="function")for(t=a.call(t),l=0;!(r=t.next()).done;)r=r.value,a=n+Sc(r,l++),s+=Fl(r,e,o,a,i);else if(r==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Xs(t,e,o){if(t==null)return t;var n=[],i=0;return Fl(t,n,"","",function(r){return e.call(o,r,i++)}),n}function h2(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(o){(t._status===0||t._status===-1)&&(t._status=1,t._result=o)},function(o){(t._status===0||t._status===-1)&&(t._status=2,t._result=o)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var it={current:null},Ml={transition:null},g2={ReactCurrentDispatcher:it,ReactCurrentBatchConfig:Ml,ReactCurrentOwner:Xy};function sm(){throw Error("act(...) is not supported in production builds of React.")}ne.Children={map:Xs,forEach:function(t,e,o){Xs(t,function(){e.apply(this,arguments)},o)},count:function(t){var e=0;return Xs(t,function(){e++}),e},toArray:function(t){return Xs(t,function(e){return e})||[]},only:function(t){if(!Vy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ne.Component=cr;ne.Fragment=n2;ne.Profiler=r2;ne.PureComponent=Wy;ne.StrictMode=i2;ne.Suspense=c2;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=g2;ne.act=sm;ne.cloneElement=function(t,e,o){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=em({},t.props),i=t.key,r=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(r=e.ref,s=Xy.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)nm.call(e,a)&&!im.hasOwnProperty(a)&&(n[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)n.children=o;else if(1<a){l=Array(a);for(var c=0;c<a;c++)l[c]=arguments[c+2];n.children=l}return{$$typeof:Ms,type:t.type,key:i,ref:r,props:n,_owner:s}};ne.createContext=function(t){return t={$$typeof:l2,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:s2,_context:t},t.Consumer=t};ne.createElement=rm;ne.createFactory=function(t){var e=rm.bind(null,t);return e.type=t,e};ne.createRef=function(){return{current:null}};ne.forwardRef=function(t){return{$$typeof:a2,render:t}};ne.isValidElement=Vy;ne.lazy=function(t){return{$$typeof:p2,_payload:{_status:-1,_result:t},_init:h2}};ne.memo=function(t,e){return{$$typeof:u2,type:t,compare:e===void 0?null:e}};ne.startTransition=function(t){var e=Ml.transition;Ml.transition={};try{t()}finally{Ml.transition=e}};ne.unstable_act=sm;ne.useCallback=function(t,e){return it.current.useCallback(t,e)};ne.useContext=function(t){return it.current.useContext(t)};ne.useDebugValue=function(){};ne.useDeferredValue=function(t){return it.current.useDeferredValue(t)};ne.useEffect=function(t,e){return it.current.useEffect(t,e)};ne.useId=function(){return it.current.useId()};ne.useImperativeHandle=function(t,e,o){return it.current.useImperativeHandle(t,e,o)};ne.useInsertionEffect=function(t,e){return it.current.useInsertionEffect(t,e)};ne.useLayoutEffect=function(t,e){return it.current.useLayoutEffect(t,e)};ne.useMemo=function(t,e){return it.current.useMemo(t,e)};ne.useReducer=function(t,e,o){return it.current.useReducer(t,e,o)};ne.useRef=function(t){return it.current.useRef(t)};ne.useState=function(t){return it.current.useState(t)};ne.useSyncExternalStore=function(t,e,o){return it.current.useSyncExternalStore(t,e,o)};ne.useTransition=function(){return it.current.useTransition()};ne.version="18.3.1";Q0.exports=ne;var x=Q0.exports;const m2=ni(x),lm=t2({__proto__:null,default:m2},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b2=x,x2=Symbol.for("react.element"),k2=Symbol.for("react.fragment"),w2=Object.prototype.hasOwnProperty,v2=b2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,z2={key:!0,ref:!0,__self:!0,__source:!0};function am(t,e,o){var n,i={},r=null,s=null;o!==void 0&&(r=""+o),e.key!==void 0&&(r=""+e.key),e.ref!==void 0&&(s=e.ref);for(n in e)w2.call(e,n)&&!z2.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:x2,type:t,key:r,ref:s,props:i,_owner:v2.current}}Wa.Fragment=k2;Wa.jsx=am;Wa.jsxs=am;K0.exports=Wa;var P=K0.exports,cm={exports:{}},_t={},um={exports:{}},pm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Z,A){var T=Z.length;Z.push(A);e:for(;0<T;){var Q=T-1>>>1,R=Z[Q];if(0<i(R,A))Z[Q]=A,Z[T]=R,T=Q;else break e}}function o(Z){return Z.length===0?null:Z[0]}function n(Z){if(Z.length===0)return null;var A=Z[0],T=Z.pop();if(T!==A){Z[0]=T;e:for(var Q=0,R=Z.length,L=R>>>1;Q<L;){var X=2*(Q+1)-1,G=Z[X],J=X+1,re=Z[J];if(0>i(G,T))J<R&&0>i(re,G)?(Z[Q]=re,Z[J]=T,Q=J):(Z[Q]=G,Z[X]=T,Q=X);else if(J<R&&0>i(re,T))Z[Q]=re,Z[J]=T,Q=J;else break e}}return A}function i(Z,A){var T=Z.sortIndex-A.sortIndex;return T!==0?T:Z.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var a=[],c=[],u=1,p=null,y=3,d=!1,g=!1,f=!1,b=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(Z){for(var A=o(c);A!==null;){if(A.callback===null)n(c);else if(A.startTime<=Z)n(c),A.sortIndex=A.expirationTime,e(a,A);else break;A=o(c)}}function w(Z){if(f=!1,k(Z),!g)if(o(a)!==null)g=!0,H(v);else{var A=o(c);A!==null&&F(w,A.startTime-Z)}}function v(Z,A){g=!1,f&&(f=!1,h(S),S=-1),d=!0;var T=y;try{for(k(A),p=o(a);p!==null&&(!(p.expirationTime>A)||Z&&!D());){var Q=p.callback;if(typeof Q=="function"){p.callback=null,y=p.priorityLevel;var R=Q(p.expirationTime<=A);A=t.unstable_now(),typeof R=="function"?p.callback=R:p===o(a)&&n(a),k(A)}else n(a);p=o(a)}if(p!==null)var L=!0;else{var X=o(c);X!==null&&F(w,X.startTime-A),L=!1}return L}finally{p=null,y=T,d=!1}}var E=!1,z=null,S=-1,C=5,_=-1;function D(){return!(t.unstable_now()-_<C)}function B(){if(z!==null){var Z=t.unstable_now();_=Z;var A=!0;try{A=z(!0,Z)}finally{A?M():(E=!1,z=null)}}else E=!1}var M;if(typeof m=="function")M=function(){m(B)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,W=j.port2;j.port1.onmessage=B,M=function(){W.postMessage(null)}}else M=function(){b(B,0)};function H(Z){z=Z,E||(E=!0,M())}function F(Z,A){S=b(function(){Z(t.unstable_now())},A)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_continueExecution=function(){g||d||(g=!0,H(v))},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return o(a)},t.unstable_next=function(Z){switch(y){case 1:case 2:case 3:var A=3;break;default:A=y}var T=y;y=A;try{return Z()}finally{y=T}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Z,A){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var T=y;y=Z;try{return A()}finally{y=T}},t.unstable_scheduleCallback=function(Z,A,T){var Q=t.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?Q+T:Q):T=Q,Z){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=T+R,Z={id:u++,callback:A,priorityLevel:Z,startTime:T,expirationTime:R,sortIndex:-1},T>Q?(Z.sortIndex=T,e(c,Z),o(a)===null&&Z===o(c)&&(f?(h(S),S=-1):f=!0,F(w,T-Q))):(Z.sortIndex=R,e(a,Z),g||d||(g=!0,H(v))),Z},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(Z){var A=y;return function(){var T=y;y=A;try{return Z.apply(this,arguments)}finally{y=T}}}})(pm);um.exports=pm;var S2=um.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E2=x,Et=S2;function I(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)e+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ym=new Set,ls={};function ii(t,e){Yi(t,e),Yi(t+"Capture",e)}function Yi(t,e){for(ls[t]=e,t=0;t<e.length;t++)ym.add(e[t])}var Zo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ju=Object.prototype.hasOwnProperty,_2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Uf={},Nf={};function C2(t){return Ju.call(Nf,t)?!0:Ju.call(Uf,t)?!1:_2.test(t)?Nf[t]=!0:(Uf[t]=!0,!1)}function Z2(t,e,o,n){if(o!==null&&o.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function R2(t,e,o,n){if(e===null||typeof e>"u"||Z2(t,e,o,n))return!0;if(n)return!1;if(o!==null)switch(o.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function rt(t,e,o,n,i,r,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=o,this.propertyName=t,this.type=e,this.sanitizeURL=r,this.removeEmptyString=s}var Le={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Le[t]=new rt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Le[e]=new rt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Le[t]=new rt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Le[t]=new rt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Le[t]=new rt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Le[t]=new rt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Le[t]=new rt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Le[t]=new rt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Le[t]=new rt(t,5,!1,t.toLowerCase(),null,!1,!1)});var qy=/[\-:]([a-z])/g;function Yy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(qy,Yy);Le[e]=new rt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(qy,Yy);Le[e]=new rt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(qy,Yy);Le[e]=new rt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Le[t]=new rt(t,1,!1,t.toLowerCase(),null,!1,!1)});Le.xlinkHref=new rt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Le[t]=new rt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ky(t,e,o,n){var i=Le.hasOwnProperty(e)?Le[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(R2(e,o,i,n)&&(o=null),n||i===null?C2(e)&&(o===null?t.removeAttribute(e):t.setAttribute(e,""+o)):i.mustUseProperty?t[i.propertyName]=o===null?i.type===3?!1:"":o:(e=i.attributeName,n=i.attributeNamespace,o===null?t.removeAttribute(e):(i=i.type,o=i===3||i===4&&o===!0?"":""+o,n?t.setAttributeNS(n,e,o):t.setAttribute(e,o))))}var Io=E2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vs=Symbol.for("react.element"),Ei=Symbol.for("react.portal"),_i=Symbol.for("react.fragment"),Qy=Symbol.for("react.strict_mode"),ep=Symbol.for("react.profiler"),dm=Symbol.for("react.provider"),fm=Symbol.for("react.context"),Jy=Symbol.for("react.forward_ref"),tp=Symbol.for("react.suspense"),op=Symbol.for("react.suspense_list"),ed=Symbol.for("react.memo"),No=Symbol.for("react.lazy"),hm=Symbol.for("react.offscreen"),Lf=Symbol.iterator;function kr(t){return t===null||typeof t!="object"?null:(t=Lf&&t[Lf]||t["@@iterator"],typeof t=="function"?t:null)}var _e=Object.assign,Ec;function Or(t){if(Ec===void 0)try{throw Error()}catch(o){var e=o.stack.trim().match(/\n( *(at )?)/);Ec=e&&e[1]||""}return`
`+Ec+t}var _c=!1;function Cc(t,e){if(!t||_c)return"";_c=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),r=n.stack.split(`
`),s=i.length-1,l=r.length-1;1<=s&&0<=l&&i[s]!==r[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==r[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==r[l]){var a=`
`+i[s].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=s&&0<=l);break}}}finally{_c=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?Or(t):""}function A2(t){switch(t.tag){case 5:return Or(t.type);case 16:return Or("Lazy");case 13:return Or("Suspense");case 19:return Or("SuspenseList");case 0:case 2:case 15:return t=Cc(t.type,!1),t;case 11:return t=Cc(t.type.render,!1),t;case 1:return t=Cc(t.type,!0),t;default:return""}}function np(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _i:return"Fragment";case Ei:return"Portal";case ep:return"Profiler";case Qy:return"StrictMode";case tp:return"Suspense";case op:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case fm:return(t.displayName||"Context")+".Consumer";case dm:return(t._context.displayName||"Context")+".Provider";case Jy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ed:return e=t.displayName||null,e!==null?e:np(t.type)||"Memo";case No:e=t._payload,t=t._init;try{return np(t(e))}catch{}}return null}function P2(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return np(e);case 8:return e===Qy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function sn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function gm(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function T2(t){var e=gm(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var i=o.get,r=o.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,r.call(this,s)}}),Object.defineProperty(t,e,{enumerable:o.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function qs(t){t._valueTracker||(t._valueTracker=T2(t))}function mm(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var o=e.getValue(),n="";return t&&(n=gm(t)?t.checked?"true":"false":t.value),t=n,t!==o?(e.setValue(t),!0):!1}function ra(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ip(t,e){var o=e.checked;return _e({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function $f(t,e){var o=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;o=sn(e.value!=null?e.value:o),t._wrapperState={initialChecked:n,initialValue:o,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function bm(t,e){e=e.checked,e!=null&&Ky(t,"checked",e,!1)}function rp(t,e){bm(t,e);var o=sn(e.value),n=e.type;if(o!=null)n==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?sp(t,e.type,o):e.hasOwnProperty("defaultValue")&&sp(t,e.type,sn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Wf(t,e,o){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,o||e===t.value||(t.value=e),t.defaultValue=e}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function sp(t,e,o){(e!=="number"||ra(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var Dr=Array.isArray;function Di(t,e,o,n){if(t=t.options,e){e={};for(var i=0;i<o.length;i++)e["$"+o[i]]=!0;for(o=0;o<t.length;o++)i=e.hasOwnProperty("$"+t[o].value),t[o].selected!==i&&(t[o].selected=i),i&&n&&(t[o].defaultSelected=!0)}else{for(o=""+sn(o),e=null,i=0;i<t.length;i++){if(t[i].value===o){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function lp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(I(91));return _e({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Hf(t,e){var o=e.value;if(o==null){if(o=e.children,e=e.defaultValue,o!=null){if(e!=null)throw Error(I(92));if(Dr(o)){if(1<o.length)throw Error(I(93));o=o[0]}e=o}e==null&&(e=""),o=e}t._wrapperState={initialValue:sn(o)}}function xm(t,e){var o=sn(e.value),n=sn(e.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),e.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),n!=null&&(t.defaultValue=""+n)}function Xf(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function km(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ap(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?km(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ys,wm=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,o,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,o,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ys=Ys||document.createElement("div"),Ys.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ys.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function as(t,e){if(e){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=e;return}}t.textContent=e}var Xr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},j2=["Webkit","ms","Moz","O"];Object.keys(Xr).forEach(function(t){j2.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Xr[e]=Xr[t]})});function vm(t,e,o){return e==null||typeof e=="boolean"||e===""?"":o||typeof e!="number"||e===0||Xr.hasOwnProperty(t)&&Xr[t]?(""+e).trim():e+"px"}function zm(t,e){t=t.style;for(var o in e)if(e.hasOwnProperty(o)){var n=o.indexOf("--")===0,i=vm(o,e[o],n);o==="float"&&(o="cssFloat"),n?t.setProperty(o,i):t[o]=i}}var I2=_e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cp(t,e){if(e){if(I2[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(I(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(I(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(I(61))}if(e.style!=null&&typeof e.style!="object")throw Error(I(62))}}function up(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pp=null;function td(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var yp=null,Bi=null,Gi=null;function Vf(t){if(t=Bs(t)){if(typeof yp!="function")throw Error(I(280));var e=t.stateNode;e&&(e=Ya(e),yp(t.stateNode,t.type,e))}}function Sm(t){Bi?Gi?Gi.push(t):Gi=[t]:Bi=t}function Em(){if(Bi){var t=Bi,e=Gi;if(Gi=Bi=null,Vf(t),e)for(t=0;t<e.length;t++)Vf(e[t])}}function _m(t,e){return t(e)}function Cm(){}var Zc=!1;function Zm(t,e,o){if(Zc)return t(e,o);Zc=!0;try{return _m(t,e,o)}finally{Zc=!1,(Bi!==null||Gi!==null)&&(Cm(),Em())}}function cs(t,e){var o=t.stateNode;if(o===null)return null;var n=Ya(o);if(n===null)return null;o=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(I(231,e,typeof o));return o}var dp=!1;if(Zo)try{var wr={};Object.defineProperty(wr,"passive",{get:function(){dp=!0}}),window.addEventListener("test",wr,wr),window.removeEventListener("test",wr,wr)}catch{dp=!1}function F2(t,e,o,n,i,r,s,l,a){var c=Array.prototype.slice.call(arguments,3);try{e.apply(o,c)}catch(u){this.onError(u)}}var Vr=!1,sa=null,la=!1,fp=null,M2={onError:function(t){Vr=!0,sa=t}};function O2(t,e,o,n,i,r,s,l,a){Vr=!1,sa=null,F2.apply(M2,arguments)}function D2(t,e,o,n,i,r,s,l,a){if(O2.apply(this,arguments),Vr){if(Vr){var c=sa;Vr=!1,sa=null}else throw Error(I(198));la||(la=!0,fp=c)}}function ri(t){var e=t,o=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(o=e.return),t=e.return;while(t)}return e.tag===3?o:null}function Rm(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function qf(t){if(ri(t)!==t)throw Error(I(188))}function B2(t){var e=t.alternate;if(!e){if(e=ri(t),e===null)throw Error(I(188));return e!==t?null:t}for(var o=t,n=e;;){var i=o.return;if(i===null)break;var r=i.alternate;if(r===null){if(n=i.return,n!==null){o=n;continue}break}if(i.child===r.child){for(r=i.child;r;){if(r===o)return qf(i),t;if(r===n)return qf(i),e;r=r.sibling}throw Error(I(188))}if(o.return!==n.return)o=i,n=r;else{for(var s=!1,l=i.child;l;){if(l===o){s=!0,o=i,n=r;break}if(l===n){s=!0,n=i,o=r;break}l=l.sibling}if(!s){for(l=r.child;l;){if(l===o){s=!0,o=r,n=i;break}if(l===n){s=!0,n=r,o=i;break}l=l.sibling}if(!s)throw Error(I(189))}}if(o.alternate!==n)throw Error(I(190))}if(o.tag!==3)throw Error(I(188));return o.stateNode.current===o?t:e}function Am(t){return t=B2(t),t!==null?Pm(t):null}function Pm(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Pm(t);if(e!==null)return e;t=t.sibling}return null}var Tm=Et.unstable_scheduleCallback,Yf=Et.unstable_cancelCallback,G2=Et.unstable_shouldYield,U2=Et.unstable_requestPaint,Ze=Et.unstable_now,N2=Et.unstable_getCurrentPriorityLevel,od=Et.unstable_ImmediatePriority,jm=Et.unstable_UserBlockingPriority,aa=Et.unstable_NormalPriority,L2=Et.unstable_LowPriority,Im=Et.unstable_IdlePriority,Ha=null,ao=null;function $2(t){if(ao&&typeof ao.onCommitFiberRoot=="function")try{ao.onCommitFiberRoot(Ha,t,void 0,(t.current.flags&128)===128)}catch{}}var Xt=Math.clz32?Math.clz32:X2,W2=Math.log,H2=Math.LN2;function X2(t){return t>>>=0,t===0?32:31-(W2(t)/H2|0)|0}var Ks=64,Qs=4194304;function Br(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ca(t,e){var o=t.pendingLanes;if(o===0)return 0;var n=0,i=t.suspendedLanes,r=t.pingedLanes,s=o&268435455;if(s!==0){var l=s&~i;l!==0?n=Br(l):(r&=s,r!==0&&(n=Br(r)))}else s=o&~i,s!==0?n=Br(s):r!==0&&(n=Br(r));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,r=e&-e,i>=r||i===16&&(r&4194240)!==0))return e;if(n&4&&(n|=o&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)o=31-Xt(e),i=1<<o,n|=t[o],e&=~i;return n}function V2(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function q2(t,e){for(var o=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,r=t.pendingLanes;0<r;){var s=31-Xt(r),l=1<<s,a=i[s];a===-1?(!(l&o)||l&n)&&(i[s]=V2(l,e)):a<=e&&(t.expiredLanes|=l),r&=~l}}function hp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Fm(){var t=Ks;return Ks<<=1,!(Ks&4194240)&&(Ks=64),t}function Rc(t){for(var e=[],o=0;31>o;o++)e.push(t);return e}function Os(t,e,o){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Xt(e),t[e]=o}function Y2(t,e){var o=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<o;){var i=31-Xt(o),r=1<<i;e[i]=0,n[i]=-1,t[i]=-1,o&=~r}}function nd(t,e){var o=t.entangledLanes|=e;for(t=t.entanglements;o;){var n=31-Xt(o),i=1<<n;i&e|t[n]&e&&(t[n]|=e),o&=~i}}var ye=0;function Mm(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Om,id,Dm,Bm,Gm,gp=!1,Js=[],Ko=null,Qo=null,Jo=null,us=new Map,ps=new Map,$o=[],K2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Kf(t,e){switch(t){case"focusin":case"focusout":Ko=null;break;case"dragenter":case"dragleave":Qo=null;break;case"mouseover":case"mouseout":Jo=null;break;case"pointerover":case"pointerout":us.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ps.delete(e.pointerId)}}function vr(t,e,o,n,i,r){return t===null||t.nativeEvent!==r?(t={blockedOn:e,domEventName:o,eventSystemFlags:n,nativeEvent:r,targetContainers:[i]},e!==null&&(e=Bs(e),e!==null&&id(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Q2(t,e,o,n,i){switch(e){case"focusin":return Ko=vr(Ko,t,e,o,n,i),!0;case"dragenter":return Qo=vr(Qo,t,e,o,n,i),!0;case"mouseover":return Jo=vr(Jo,t,e,o,n,i),!0;case"pointerover":var r=i.pointerId;return us.set(r,vr(us.get(r)||null,t,e,o,n,i)),!0;case"gotpointercapture":return r=i.pointerId,ps.set(r,vr(ps.get(r)||null,t,e,o,n,i)),!0}return!1}function Um(t){var e=Fn(t.target);if(e!==null){var o=ri(e);if(o!==null){if(e=o.tag,e===13){if(e=Rm(o),e!==null){t.blockedOn=e,Gm(t.priority,function(){Dm(o)});return}}else if(e===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ol(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var o=mp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var n=new o.constructor(o.type,o);pp=n,o.target.dispatchEvent(n),pp=null}else return e=Bs(o),e!==null&&id(e),t.blockedOn=o,!1;e.shift()}return!0}function Qf(t,e,o){Ol(t)&&o.delete(e)}function J2(){gp=!1,Ko!==null&&Ol(Ko)&&(Ko=null),Qo!==null&&Ol(Qo)&&(Qo=null),Jo!==null&&Ol(Jo)&&(Jo=null),us.forEach(Qf),ps.forEach(Qf)}function zr(t,e){t.blockedOn===e&&(t.blockedOn=null,gp||(gp=!0,Et.unstable_scheduleCallback(Et.unstable_NormalPriority,J2)))}function ys(t){function e(i){return zr(i,t)}if(0<Js.length){zr(Js[0],t);for(var o=1;o<Js.length;o++){var n=Js[o];n.blockedOn===t&&(n.blockedOn=null)}}for(Ko!==null&&zr(Ko,t),Qo!==null&&zr(Qo,t),Jo!==null&&zr(Jo,t),us.forEach(e),ps.forEach(e),o=0;o<$o.length;o++)n=$o[o],n.blockedOn===t&&(n.blockedOn=null);for(;0<$o.length&&(o=$o[0],o.blockedOn===null);)Um(o),o.blockedOn===null&&$o.shift()}var Ui=Io.ReactCurrentBatchConfig,ua=!0;function e3(t,e,o,n){var i=ye,r=Ui.transition;Ui.transition=null;try{ye=1,rd(t,e,o,n)}finally{ye=i,Ui.transition=r}}function t3(t,e,o,n){var i=ye,r=Ui.transition;Ui.transition=null;try{ye=4,rd(t,e,o,n)}finally{ye=i,Ui.transition=r}}function rd(t,e,o,n){if(ua){var i=mp(t,e,o,n);if(i===null)Bc(t,e,n,pa,o),Kf(t,n);else if(Q2(i,t,e,o,n))n.stopPropagation();else if(Kf(t,n),e&4&&-1<K2.indexOf(t)){for(;i!==null;){var r=Bs(i);if(r!==null&&Om(r),r=mp(t,e,o,n),r===null&&Bc(t,e,n,pa,o),r===i)break;i=r}i!==null&&n.stopPropagation()}else Bc(t,e,n,null,o)}}var pa=null;function mp(t,e,o,n){if(pa=null,t=td(n),t=Fn(t),t!==null)if(e=ri(t),e===null)t=null;else if(o=e.tag,o===13){if(t=Rm(e),t!==null)return t;t=null}else if(o===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return pa=t,null}function Nm(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(N2()){case od:return 1;case jm:return 4;case aa:case L2:return 16;case Im:return 536870912;default:return 16}default:return 16}}var Ho=null,sd=null,Dl=null;function Lm(){if(Dl)return Dl;var t,e=sd,o=e.length,n,i="value"in Ho?Ho.value:Ho.textContent,r=i.length;for(t=0;t<o&&e[t]===i[t];t++);var s=o-t;for(n=1;n<=s&&e[o-n]===i[r-n];n++);return Dl=i.slice(t,1<n?1-n:void 0)}function Bl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function el(){return!0}function Jf(){return!1}function Ct(t){function e(o,n,i,r,s){this._reactName=o,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=s,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(o=t[l],this[l]=o?o(r):r[l]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?el:Jf,this.isPropagationStopped=Jf,this}return _e(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=el)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=el)},persist:function(){},isPersistent:el}),e}var ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ld=Ct(ur),Ds=_e({},ur,{view:0,detail:0}),o3=Ct(Ds),Ac,Pc,Sr,Xa=_e({},Ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ad,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Sr&&(Sr&&t.type==="mousemove"?(Ac=t.screenX-Sr.screenX,Pc=t.screenY-Sr.screenY):Pc=Ac=0,Sr=t),Ac)},movementY:function(t){return"movementY"in t?t.movementY:Pc}}),eh=Ct(Xa),n3=_e({},Xa,{dataTransfer:0}),i3=Ct(n3),r3=_e({},Ds,{relatedTarget:0}),Tc=Ct(r3),s3=_e({},ur,{animationName:0,elapsedTime:0,pseudoElement:0}),l3=Ct(s3),a3=_e({},ur,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),c3=Ct(a3),u3=_e({},ur,{data:0}),th=Ct(u3),p3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},y3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},d3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function f3(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=d3[t])?!!e[t]:!1}function ad(){return f3}var h3=_e({},Ds,{key:function(t){if(t.key){var e=p3[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Bl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?y3[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ad,charCode:function(t){return t.type==="keypress"?Bl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Bl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),g3=Ct(h3),m3=_e({},Xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oh=Ct(m3),b3=_e({},Ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ad}),x3=Ct(b3),k3=_e({},ur,{propertyName:0,elapsedTime:0,pseudoElement:0}),w3=Ct(k3),v3=_e({},Xa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),z3=Ct(v3),S3=[9,13,27,32],cd=Zo&&"CompositionEvent"in window,qr=null;Zo&&"documentMode"in document&&(qr=document.documentMode);var E3=Zo&&"TextEvent"in window&&!qr,$m=Zo&&(!cd||qr&&8<qr&&11>=qr),nh=" ",ih=!1;function Wm(t,e){switch(t){case"keyup":return S3.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ci=!1;function _3(t,e){switch(t){case"compositionend":return Hm(e);case"keypress":return e.which!==32?null:(ih=!0,nh);case"textInput":return t=e.data,t===nh&&ih?null:t;default:return null}}function C3(t,e){if(Ci)return t==="compositionend"||!cd&&Wm(t,e)?(t=Lm(),Dl=sd=Ho=null,Ci=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return $m&&e.locale!=="ko"?null:e.data;default:return null}}var Z3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Z3[t.type]:e==="textarea"}function Xm(t,e,o,n){Sm(n),e=ya(e,"onChange"),0<e.length&&(o=new ld("onChange","change",null,o,n),t.push({event:o,listeners:e}))}var Yr=null,ds=null;function R3(t){ib(t,0)}function Va(t){var e=Ai(t);if(mm(e))return t}function A3(t,e){if(t==="change")return e}var Vm=!1;if(Zo){var jc;if(Zo){var Ic="oninput"in document;if(!Ic){var sh=document.createElement("div");sh.setAttribute("oninput","return;"),Ic=typeof sh.oninput=="function"}jc=Ic}else jc=!1;Vm=jc&&(!document.documentMode||9<document.documentMode)}function lh(){Yr&&(Yr.detachEvent("onpropertychange",qm),ds=Yr=null)}function qm(t){if(t.propertyName==="value"&&Va(ds)){var e=[];Xm(e,ds,t,td(t)),Zm(R3,e)}}function P3(t,e,o){t==="focusin"?(lh(),Yr=e,ds=o,Yr.attachEvent("onpropertychange",qm)):t==="focusout"&&lh()}function T3(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Va(ds)}function j3(t,e){if(t==="click")return Va(e)}function I3(t,e){if(t==="input"||t==="change")return Va(e)}function F3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var qt=typeof Object.is=="function"?Object.is:F3;function fs(t,e){if(qt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var o=Object.keys(t),n=Object.keys(e);if(o.length!==n.length)return!1;for(n=0;n<o.length;n++){var i=o[n];if(!Ju.call(e,i)||!qt(t[i],e[i]))return!1}return!0}function ah(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ch(t,e){var o=ah(t);t=0;for(var n;o;){if(o.nodeType===3){if(n=t+o.textContent.length,t<=e&&n>=e)return{node:o,offset:e-t};t=n}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=ah(o)}}function Ym(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Ym(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Km(){for(var t=window,e=ra();e instanceof t.HTMLIFrameElement;){try{var o=typeof e.contentWindow.location.href=="string"}catch{o=!1}if(o)t=e.contentWindow;else break;e=ra(t.document)}return e}function ud(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function M3(t){var e=Km(),o=t.focusedElem,n=t.selectionRange;if(e!==o&&o&&o.ownerDocument&&Ym(o.ownerDocument.documentElement,o)){if(n!==null&&ud(o)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in o)o.selectionStart=e,o.selectionEnd=Math.min(t,o.value.length);else if(t=(e=o.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=o.textContent.length,r=Math.min(n.start,i);n=n.end===void 0?r:Math.min(n.end,i),!t.extend&&r>n&&(i=n,n=r,r=i),i=ch(o,r);var s=ch(o,n);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),r>n?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=o;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<e.length;o++)t=e[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var O3=Zo&&"documentMode"in document&&11>=document.documentMode,Zi=null,bp=null,Kr=null,xp=!1;function uh(t,e,o){var n=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;xp||Zi==null||Zi!==ra(n)||(n=Zi,"selectionStart"in n&&ud(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Kr&&fs(Kr,n)||(Kr=n,n=ya(bp,"onSelect"),0<n.length&&(e=new ld("onSelect","select",null,e,o),t.push({event:e,listeners:n}),e.target=Zi)))}function tl(t,e){var o={};return o[t.toLowerCase()]=e.toLowerCase(),o["Webkit"+t]="webkit"+e,o["Moz"+t]="moz"+e,o}var Ri={animationend:tl("Animation","AnimationEnd"),animationiteration:tl("Animation","AnimationIteration"),animationstart:tl("Animation","AnimationStart"),transitionend:tl("Transition","TransitionEnd")},Fc={},Qm={};Zo&&(Qm=document.createElement("div").style,"AnimationEvent"in window||(delete Ri.animationend.animation,delete Ri.animationiteration.animation,delete Ri.animationstart.animation),"TransitionEvent"in window||delete Ri.transitionend.transition);function qa(t){if(Fc[t])return Fc[t];if(!Ri[t])return t;var e=Ri[t],o;for(o in e)if(e.hasOwnProperty(o)&&o in Qm)return Fc[t]=e[o];return t}var Jm=qa("animationend"),eb=qa("animationiteration"),tb=qa("animationstart"),ob=qa("transitionend"),nb=new Map,ph="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function dn(t,e){nb.set(t,e),ii(e,[t])}for(var Mc=0;Mc<ph.length;Mc++){var Oc=ph[Mc],D3=Oc.toLowerCase(),B3=Oc[0].toUpperCase()+Oc.slice(1);dn(D3,"on"+B3)}dn(Jm,"onAnimationEnd");dn(eb,"onAnimationIteration");dn(tb,"onAnimationStart");dn("dblclick","onDoubleClick");dn("focusin","onFocus");dn("focusout","onBlur");dn(ob,"onTransitionEnd");Yi("onMouseEnter",["mouseout","mouseover"]);Yi("onMouseLeave",["mouseout","mouseover"]);Yi("onPointerEnter",["pointerout","pointerover"]);Yi("onPointerLeave",["pointerout","pointerover"]);ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ii("onBeforeInput",["compositionend","keypress","textInput","paste"]);ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),G3=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gr));function yh(t,e,o){var n=t.type||"unknown-event";t.currentTarget=o,D2(n,e,void 0,t),t.currentTarget=null}function ib(t,e){e=(e&4)!==0;for(var o=0;o<t.length;o++){var n=t[o],i=n.event;n=n.listeners;e:{var r=void 0;if(e)for(var s=n.length-1;0<=s;s--){var l=n[s],a=l.instance,c=l.currentTarget;if(l=l.listener,a!==r&&i.isPropagationStopped())break e;yh(i,l,c),r=a}else for(s=0;s<n.length;s++){if(l=n[s],a=l.instance,c=l.currentTarget,l=l.listener,a!==r&&i.isPropagationStopped())break e;yh(i,l,c),r=a}}}if(la)throw t=fp,la=!1,fp=null,t}function ge(t,e){var o=e[Sp];o===void 0&&(o=e[Sp]=new Set);var n=t+"__bubble";o.has(n)||(rb(e,t,2,!1),o.add(n))}function Dc(t,e,o){var n=0;e&&(n|=4),rb(o,t,n,e)}var ol="_reactListening"+Math.random().toString(36).slice(2);function hs(t){if(!t[ol]){t[ol]=!0,ym.forEach(function(o){o!=="selectionchange"&&(G3.has(o)||Dc(o,!1,t),Dc(o,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ol]||(e[ol]=!0,Dc("selectionchange",!1,e))}}function rb(t,e,o,n){switch(Nm(e)){case 1:var i=e3;break;case 4:i=t3;break;default:i=rd}o=i.bind(null,e,o,t),i=void 0,!dp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,o,{capture:!0,passive:i}):t.addEventListener(e,o,!0):i!==void 0?t.addEventListener(e,o,{passive:i}):t.addEventListener(e,o,!1)}function Bc(t,e,o,n,i){var r=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var a=s.tag;if((a===3||a===4)&&(a=s.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;s=s.return}for(;l!==null;){if(s=Fn(l),s===null)return;if(a=s.tag,a===5||a===6){n=r=s;continue e}l=l.parentNode}}n=n.return}Zm(function(){var c=r,u=td(o),p=[];e:{var y=nb.get(t);if(y!==void 0){var d=ld,g=t;switch(t){case"keypress":if(Bl(o)===0)break e;case"keydown":case"keyup":d=g3;break;case"focusin":g="focus",d=Tc;break;case"focusout":g="blur",d=Tc;break;case"beforeblur":case"afterblur":d=Tc;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=eh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=i3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=x3;break;case Jm:case eb:case tb:d=l3;break;case ob:d=w3;break;case"scroll":d=o3;break;case"wheel":d=z3;break;case"copy":case"cut":case"paste":d=c3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=oh}var f=(e&4)!==0,b=!f&&t==="scroll",h=f?y!==null?y+"Capture":null:y;f=[];for(var m=c,k;m!==null;){k=m;var w=k.stateNode;if(k.tag===5&&w!==null&&(k=w,h!==null&&(w=cs(m,h),w!=null&&f.push(gs(m,w,k)))),b)break;m=m.return}0<f.length&&(y=new d(y,g,null,o,u),p.push({event:y,listeners:f}))}}if(!(e&7)){e:{if(y=t==="mouseover"||t==="pointerover",d=t==="mouseout"||t==="pointerout",y&&o!==pp&&(g=o.relatedTarget||o.fromElement)&&(Fn(g)||g[Ro]))break e;if((d||y)&&(y=u.window===u?u:(y=u.ownerDocument)?y.defaultView||y.parentWindow:window,d?(g=o.relatedTarget||o.toElement,d=c,g=g?Fn(g):null,g!==null&&(b=ri(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(d=null,g=c),d!==g)){if(f=eh,w="onMouseLeave",h="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(f=oh,w="onPointerLeave",h="onPointerEnter",m="pointer"),b=d==null?y:Ai(d),k=g==null?y:Ai(g),y=new f(w,m+"leave",d,o,u),y.target=b,y.relatedTarget=k,w=null,Fn(u)===c&&(f=new f(h,m+"enter",g,o,u),f.target=k,f.relatedTarget=b,w=f),b=w,d&&g)t:{for(f=d,h=g,m=0,k=f;k;k=ui(k))m++;for(k=0,w=h;w;w=ui(w))k++;for(;0<m-k;)f=ui(f),m--;for(;0<k-m;)h=ui(h),k--;for(;m--;){if(f===h||h!==null&&f===h.alternate)break t;f=ui(f),h=ui(h)}f=null}else f=null;d!==null&&dh(p,y,d,f,!1),g!==null&&b!==null&&dh(p,b,g,f,!0)}}e:{if(y=c?Ai(c):window,d=y.nodeName&&y.nodeName.toLowerCase(),d==="select"||d==="input"&&y.type==="file")var v=A3;else if(rh(y))if(Vm)v=I3;else{v=T3;var E=P3}else(d=y.nodeName)&&d.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(v=j3);if(v&&(v=v(t,c))){Xm(p,v,o,u);break e}E&&E(t,y,c),t==="focusout"&&(E=y._wrapperState)&&E.controlled&&y.type==="number"&&sp(y,"number",y.value)}switch(E=c?Ai(c):window,t){case"focusin":(rh(E)||E.contentEditable==="true")&&(Zi=E,bp=c,Kr=null);break;case"focusout":Kr=bp=Zi=null;break;case"mousedown":xp=!0;break;case"contextmenu":case"mouseup":case"dragend":xp=!1,uh(p,o,u);break;case"selectionchange":if(O3)break;case"keydown":case"keyup":uh(p,o,u)}var z;if(cd)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Ci?Wm(t,o)&&(S="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(S="onCompositionStart");S&&($m&&o.locale!=="ko"&&(Ci||S!=="onCompositionStart"?S==="onCompositionEnd"&&Ci&&(z=Lm()):(Ho=u,sd="value"in Ho?Ho.value:Ho.textContent,Ci=!0)),E=ya(c,S),0<E.length&&(S=new th(S,t,null,o,u),p.push({event:S,listeners:E}),z?S.data=z:(z=Hm(o),z!==null&&(S.data=z)))),(z=E3?_3(t,o):C3(t,o))&&(c=ya(c,"onBeforeInput"),0<c.length&&(u=new th("onBeforeInput","beforeinput",null,o,u),p.push({event:u,listeners:c}),u.data=z))}ib(p,e)})}function gs(t,e,o){return{instance:t,listener:e,currentTarget:o}}function ya(t,e){for(var o=e+"Capture",n=[];t!==null;){var i=t,r=i.stateNode;i.tag===5&&r!==null&&(i=r,r=cs(t,o),r!=null&&n.unshift(gs(t,r,i)),r=cs(t,e),r!=null&&n.push(gs(t,r,i))),t=t.return}return n}function ui(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function dh(t,e,o,n,i){for(var r=e._reactName,s=[];o!==null&&o!==n;){var l=o,a=l.alternate,c=l.stateNode;if(a!==null&&a===n)break;l.tag===5&&c!==null&&(l=c,i?(a=cs(o,r),a!=null&&s.unshift(gs(o,a,l))):i||(a=cs(o,r),a!=null&&s.push(gs(o,a,l)))),o=o.return}s.length!==0&&t.push({event:e,listeners:s})}var U3=/\r\n?/g,N3=/\u0000|\uFFFD/g;function fh(t){return(typeof t=="string"?t:""+t).replace(U3,`
`).replace(N3,"")}function nl(t,e,o){if(e=fh(e),fh(t)!==e&&o)throw Error(I(425))}function da(){}var kp=null,wp=null;function vp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var zp=typeof setTimeout=="function"?setTimeout:void 0,L3=typeof clearTimeout=="function"?clearTimeout:void 0,hh=typeof Promise=="function"?Promise:void 0,$3=typeof queueMicrotask=="function"?queueMicrotask:typeof hh<"u"?function(t){return hh.resolve(null).then(t).catch(W3)}:zp;function W3(t){setTimeout(function(){throw t})}function Gc(t,e){var o=e,n=0;do{var i=o.nextSibling;if(t.removeChild(o),i&&i.nodeType===8)if(o=i.data,o==="/$"){if(n===0){t.removeChild(i),ys(e);return}n--}else o!=="$"&&o!=="$?"&&o!=="$!"||n++;o=i}while(o);ys(e)}function en(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function gh(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(e===0)return t;e--}else o==="/$"&&e++}t=t.previousSibling}return null}var pr=Math.random().toString(36).slice(2),lo="__reactFiber$"+pr,ms="__reactProps$"+pr,Ro="__reactContainer$"+pr,Sp="__reactEvents$"+pr,H3="__reactListeners$"+pr,X3="__reactHandles$"+pr;function Fn(t){var e=t[lo];if(e)return e;for(var o=t.parentNode;o;){if(e=o[Ro]||o[lo]){if(o=e.alternate,e.child!==null||o!==null&&o.child!==null)for(t=gh(t);t!==null;){if(o=t[lo])return o;t=gh(t)}return e}t=o,o=t.parentNode}return null}function Bs(t){return t=t[lo]||t[Ro],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ai(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(I(33))}function Ya(t){return t[ms]||null}var Ep=[],Pi=-1;function fn(t){return{current:t}}function me(t){0>Pi||(t.current=Ep[Pi],Ep[Pi]=null,Pi--)}function fe(t,e){Pi++,Ep[Pi]=t.current,t.current=e}var ln={},Ke=fn(ln),pt=fn(!1),Ln=ln;function Ki(t,e){var o=t.type.contextTypes;if(!o)return ln;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},r;for(r in o)i[r]=e[r];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function yt(t){return t=t.childContextTypes,t!=null}function fa(){me(pt),me(Ke)}function mh(t,e,o){if(Ke.current!==ln)throw Error(I(168));fe(Ke,e),fe(pt,o)}function sb(t,e,o){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return o;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(I(108,P2(t)||"Unknown",i));return _e({},o,n)}function ha(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ln,Ln=Ke.current,fe(Ke,t),fe(pt,pt.current),!0}function bh(t,e,o){var n=t.stateNode;if(!n)throw Error(I(169));o?(t=sb(t,e,Ln),n.__reactInternalMemoizedMergedChildContext=t,me(pt),me(Ke),fe(Ke,t)):me(pt),fe(pt,o)}var vo=null,Ka=!1,Uc=!1;function lb(t){vo===null?vo=[t]:vo.push(t)}function V3(t){Ka=!0,lb(t)}function hn(){if(!Uc&&vo!==null){Uc=!0;var t=0,e=ye;try{var o=vo;for(ye=1;t<o.length;t++){var n=o[t];do n=n(!0);while(n!==null)}vo=null,Ka=!1}catch(i){throw vo!==null&&(vo=vo.slice(t+1)),Tm(od,hn),i}finally{ye=e,Uc=!1}}return null}var Ti=[],ji=0,ga=null,ma=0,Zt=[],Rt=0,$n=null,zo=1,So="";function zn(t,e){Ti[ji++]=ma,Ti[ji++]=ga,ga=t,ma=e}function ab(t,e,o){Zt[Rt++]=zo,Zt[Rt++]=So,Zt[Rt++]=$n,$n=t;var n=zo;t=So;var i=32-Xt(n)-1;n&=~(1<<i),o+=1;var r=32-Xt(e)+i;if(30<r){var s=i-i%5;r=(n&(1<<s)-1).toString(32),n>>=s,i-=s,zo=1<<32-Xt(e)+i|o<<i|n,So=r+t}else zo=1<<r|o<<i|n,So=t}function pd(t){t.return!==null&&(zn(t,1),ab(t,1,0))}function yd(t){for(;t===ga;)ga=Ti[--ji],Ti[ji]=null,ma=Ti[--ji],Ti[ji]=null;for(;t===$n;)$n=Zt[--Rt],Zt[Rt]=null,So=Zt[--Rt],Zt[Rt]=null,zo=Zt[--Rt],Zt[Rt]=null}var vt=null,wt=null,xe=!1,$t=null;function cb(t,e){var o=Pt(5,null,null,0);o.elementType="DELETED",o.stateNode=e,o.return=t,e=t.deletions,e===null?(t.deletions=[o],t.flags|=16):e.push(o)}function xh(t,e){switch(t.tag){case 5:var o=t.type;return e=e.nodeType!==1||o.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,vt=t,wt=en(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,vt=t,wt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(o=$n!==null?{id:zo,overflow:So}:null,t.memoizedState={dehydrated:e,treeContext:o,retryLane:1073741824},o=Pt(18,null,null,0),o.stateNode=e,o.return=t,t.child=o,vt=t,wt=null,!0):!1;default:return!1}}function _p(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Cp(t){if(xe){var e=wt;if(e){var o=e;if(!xh(t,e)){if(_p(t))throw Error(I(418));e=en(o.nextSibling);var n=vt;e&&xh(t,e)?cb(n,o):(t.flags=t.flags&-4097|2,xe=!1,vt=t)}}else{if(_p(t))throw Error(I(418));t.flags=t.flags&-4097|2,xe=!1,vt=t}}}function kh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;vt=t}function il(t){if(t!==vt)return!1;if(!xe)return kh(t),xe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!vp(t.type,t.memoizedProps)),e&&(e=wt)){if(_p(t))throw ub(),Error(I(418));for(;e;)cb(t,e),e=en(e.nextSibling)}if(kh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(I(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(e===0){wt=en(t.nextSibling);break e}e--}else o!=="$"&&o!=="$!"&&o!=="$?"||e++}t=t.nextSibling}wt=null}}else wt=vt?en(t.stateNode.nextSibling):null;return!0}function ub(){for(var t=wt;t;)t=en(t.nextSibling)}function Qi(){wt=vt=null,xe=!1}function dd(t){$t===null?$t=[t]:$t.push(t)}var q3=Io.ReactCurrentBatchConfig;function Er(t,e,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(I(309));var n=o.stateNode}if(!n)throw Error(I(147,t));var i=n,r=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===r?e.ref:(e=function(s){var l=i.refs;s===null?delete l[r]:l[r]=s},e._stringRef=r,e)}if(typeof t!="string")throw Error(I(284));if(!o._owner)throw Error(I(290,t))}return t}function rl(t,e){throw t=Object.prototype.toString.call(e),Error(I(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function wh(t){var e=t._init;return e(t._payload)}function pb(t){function e(h,m){if(t){var k=h.deletions;k===null?(h.deletions=[m],h.flags|=16):k.push(m)}}function o(h,m){if(!t)return null;for(;m!==null;)e(h,m),m=m.sibling;return null}function n(h,m){for(h=new Map;m!==null;)m.key!==null?h.set(m.key,m):h.set(m.index,m),m=m.sibling;return h}function i(h,m){return h=rn(h,m),h.index=0,h.sibling=null,h}function r(h,m,k){return h.index=k,t?(k=h.alternate,k!==null?(k=k.index,k<m?(h.flags|=2,m):k):(h.flags|=2,m)):(h.flags|=1048576,m)}function s(h){return t&&h.alternate===null&&(h.flags|=2),h}function l(h,m,k,w){return m===null||m.tag!==6?(m=Vc(k,h.mode,w),m.return=h,m):(m=i(m,k),m.return=h,m)}function a(h,m,k,w){var v=k.type;return v===_i?u(h,m,k.props.children,w,k.key):m!==null&&(m.elementType===v||typeof v=="object"&&v!==null&&v.$$typeof===No&&wh(v)===m.type)?(w=i(m,k.props),w.ref=Er(h,m,k),w.return=h,w):(w=Hl(k.type,k.key,k.props,null,h.mode,w),w.ref=Er(h,m,k),w.return=h,w)}function c(h,m,k,w){return m===null||m.tag!==4||m.stateNode.containerInfo!==k.containerInfo||m.stateNode.implementation!==k.implementation?(m=qc(k,h.mode,w),m.return=h,m):(m=i(m,k.children||[]),m.return=h,m)}function u(h,m,k,w,v){return m===null||m.tag!==7?(m=Un(k,h.mode,w,v),m.return=h,m):(m=i(m,k),m.return=h,m)}function p(h,m,k){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Vc(""+m,h.mode,k),m.return=h,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Vs:return k=Hl(m.type,m.key,m.props,null,h.mode,k),k.ref=Er(h,null,m),k.return=h,k;case Ei:return m=qc(m,h.mode,k),m.return=h,m;case No:var w=m._init;return p(h,w(m._payload),k)}if(Dr(m)||kr(m))return m=Un(m,h.mode,k,null),m.return=h,m;rl(h,m)}return null}function y(h,m,k,w){var v=m!==null?m.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return v!==null?null:l(h,m,""+k,w);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Vs:return k.key===v?a(h,m,k,w):null;case Ei:return k.key===v?c(h,m,k,w):null;case No:return v=k._init,y(h,m,v(k._payload),w)}if(Dr(k)||kr(k))return v!==null?null:u(h,m,k,w,null);rl(h,k)}return null}function d(h,m,k,w,v){if(typeof w=="string"&&w!==""||typeof w=="number")return h=h.get(k)||null,l(m,h,""+w,v);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Vs:return h=h.get(w.key===null?k:w.key)||null,a(m,h,w,v);case Ei:return h=h.get(w.key===null?k:w.key)||null,c(m,h,w,v);case No:var E=w._init;return d(h,m,k,E(w._payload),v)}if(Dr(w)||kr(w))return h=h.get(k)||null,u(m,h,w,v,null);rl(m,w)}return null}function g(h,m,k,w){for(var v=null,E=null,z=m,S=m=0,C=null;z!==null&&S<k.length;S++){z.index>S?(C=z,z=null):C=z.sibling;var _=y(h,z,k[S],w);if(_===null){z===null&&(z=C);break}t&&z&&_.alternate===null&&e(h,z),m=r(_,m,S),E===null?v=_:E.sibling=_,E=_,z=C}if(S===k.length)return o(h,z),xe&&zn(h,S),v;if(z===null){for(;S<k.length;S++)z=p(h,k[S],w),z!==null&&(m=r(z,m,S),E===null?v=z:E.sibling=z,E=z);return xe&&zn(h,S),v}for(z=n(h,z);S<k.length;S++)C=d(z,h,S,k[S],w),C!==null&&(t&&C.alternate!==null&&z.delete(C.key===null?S:C.key),m=r(C,m,S),E===null?v=C:E.sibling=C,E=C);return t&&z.forEach(function(D){return e(h,D)}),xe&&zn(h,S),v}function f(h,m,k,w){var v=kr(k);if(typeof v!="function")throw Error(I(150));if(k=v.call(k),k==null)throw Error(I(151));for(var E=v=null,z=m,S=m=0,C=null,_=k.next();z!==null&&!_.done;S++,_=k.next()){z.index>S?(C=z,z=null):C=z.sibling;var D=y(h,z,_.value,w);if(D===null){z===null&&(z=C);break}t&&z&&D.alternate===null&&e(h,z),m=r(D,m,S),E===null?v=D:E.sibling=D,E=D,z=C}if(_.done)return o(h,z),xe&&zn(h,S),v;if(z===null){for(;!_.done;S++,_=k.next())_=p(h,_.value,w),_!==null&&(m=r(_,m,S),E===null?v=_:E.sibling=_,E=_);return xe&&zn(h,S),v}for(z=n(h,z);!_.done;S++,_=k.next())_=d(z,h,S,_.value,w),_!==null&&(t&&_.alternate!==null&&z.delete(_.key===null?S:_.key),m=r(_,m,S),E===null?v=_:E.sibling=_,E=_);return t&&z.forEach(function(B){return e(h,B)}),xe&&zn(h,S),v}function b(h,m,k,w){if(typeof k=="object"&&k!==null&&k.type===_i&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case Vs:e:{for(var v=k.key,E=m;E!==null;){if(E.key===v){if(v=k.type,v===_i){if(E.tag===7){o(h,E.sibling),m=i(E,k.props.children),m.return=h,h=m;break e}}else if(E.elementType===v||typeof v=="object"&&v!==null&&v.$$typeof===No&&wh(v)===E.type){o(h,E.sibling),m=i(E,k.props),m.ref=Er(h,E,k),m.return=h,h=m;break e}o(h,E);break}else e(h,E);E=E.sibling}k.type===_i?(m=Un(k.props.children,h.mode,w,k.key),m.return=h,h=m):(w=Hl(k.type,k.key,k.props,null,h.mode,w),w.ref=Er(h,m,k),w.return=h,h=w)}return s(h);case Ei:e:{for(E=k.key;m!==null;){if(m.key===E)if(m.tag===4&&m.stateNode.containerInfo===k.containerInfo&&m.stateNode.implementation===k.implementation){o(h,m.sibling),m=i(m,k.children||[]),m.return=h,h=m;break e}else{o(h,m);break}else e(h,m);m=m.sibling}m=qc(k,h.mode,w),m.return=h,h=m}return s(h);case No:return E=k._init,b(h,m,E(k._payload),w)}if(Dr(k))return g(h,m,k,w);if(kr(k))return f(h,m,k,w);rl(h,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,m!==null&&m.tag===6?(o(h,m.sibling),m=i(m,k),m.return=h,h=m):(o(h,m),m=Vc(k,h.mode,w),m.return=h,h=m),s(h)):o(h,m)}return b}var Ji=pb(!0),yb=pb(!1),ba=fn(null),xa=null,Ii=null,fd=null;function hd(){fd=Ii=xa=null}function gd(t){var e=ba.current;me(ba),t._currentValue=e}function Zp(t,e,o){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===o)break;t=t.return}}function Ni(t,e){xa=t,fd=Ii=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ut=!0),t.firstContext=null)}function Mt(t){var e=t._currentValue;if(fd!==t)if(t={context:t,memoizedValue:e,next:null},Ii===null){if(xa===null)throw Error(I(308));Ii=t,xa.dependencies={lanes:0,firstContext:t}}else Ii=Ii.next=t;return e}var Mn=null;function md(t){Mn===null?Mn=[t]:Mn.push(t)}function db(t,e,o,n){var i=e.interleaved;return i===null?(o.next=o,md(e)):(o.next=i.next,i.next=o),e.interleaved=o,Ao(t,n)}function Ao(t,e){t.lanes|=e;var o=t.alternate;for(o!==null&&(o.lanes|=e),o=t,t=t.return;t!==null;)t.childLanes|=e,o=t.alternate,o!==null&&(o.childLanes|=e),o=t,t=t.return;return o.tag===3?o.stateNode:null}var Lo=!1;function bd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fb(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Eo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function tn(t,e,o){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,se&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Ao(t,o)}return i=n.interleaved,i===null?(e.next=e,md(n)):(e.next=i.next,i.next=e),n.interleaved=e,Ao(t,o)}function Gl(t,e,o){if(e=e.updateQueue,e!==null&&(e=e.shared,(o&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,o|=n,e.lanes=o,nd(t,o)}}function vh(t,e){var o=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,o===n)){var i=null,r=null;if(o=o.firstBaseUpdate,o!==null){do{var s={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};r===null?i=r=s:r=r.next=s,o=o.next}while(o!==null);r===null?i=r=e:r=r.next=e}else i=r=e;o={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:r,shared:n.shared,effects:n.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=e:t.next=e,o.lastBaseUpdate=e}function ka(t,e,o,n){var i=t.updateQueue;Lo=!1;var r=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,c=a.next;a.next=null,s===null?r=c:s.next=c,s=a;var u=t.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==s&&(l===null?u.firstBaseUpdate=c:l.next=c,u.lastBaseUpdate=a))}if(r!==null){var p=i.baseState;s=0,u=c=a=null,l=r;do{var y=l.lane,d=l.eventTime;if((n&y)===y){u!==null&&(u=u.next={eventTime:d,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=t,f=l;switch(y=e,d=o,f.tag){case 1:if(g=f.payload,typeof g=="function"){p=g.call(d,p,y);break e}p=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=f.payload,y=typeof g=="function"?g.call(d,p,y):g,y==null)break e;p=_e({},p,y);break e;case 2:Lo=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,y=i.effects,y===null?i.effects=[l]:y.push(l))}else d={eventTime:d,lane:y,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(c=u=d,a=p):u=u.next=d,s|=y;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;y=l,l=y.next,y.next=null,i.lastBaseUpdate=y,i.shared.pending=null}}while(!0);if(u===null&&(a=p),i.baseState=a,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else r===null&&(i.shared.lanes=0);Hn|=s,t.lanes=s,t.memoizedState=p}}function zh(t,e,o){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=o,typeof i!="function")throw Error(I(191,i));i.call(n)}}}var Gs={},co=fn(Gs),bs=fn(Gs),xs=fn(Gs);function On(t){if(t===Gs)throw Error(I(174));return t}function xd(t,e){switch(fe(xs,e),fe(bs,t),fe(co,Gs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ap(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ap(e,t)}me(co),fe(co,e)}function er(){me(co),me(bs),me(xs)}function hb(t){On(xs.current);var e=On(co.current),o=ap(e,t.type);e!==o&&(fe(bs,t),fe(co,o))}function kd(t){bs.current===t&&(me(co),me(bs))}var we=fn(0);function wa(t){for(var e=t;e!==null;){if(e.tag===13){var o=e.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Nc=[];function wd(){for(var t=0;t<Nc.length;t++)Nc[t]._workInProgressVersionPrimary=null;Nc.length=0}var Ul=Io.ReactCurrentDispatcher,Lc=Io.ReactCurrentBatchConfig,Wn=0,Se=null,Fe=null,De=null,va=!1,Qr=!1,ks=0,Y3=0;function We(){throw Error(I(321))}function vd(t,e){if(e===null)return!1;for(var o=0;o<e.length&&o<t.length;o++)if(!qt(t[o],e[o]))return!1;return!0}function zd(t,e,o,n,i,r){if(Wn=r,Se=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ul.current=t===null||t.memoizedState===null?ez:tz,t=o(n,i),Qr){r=0;do{if(Qr=!1,ks=0,25<=r)throw Error(I(301));r+=1,De=Fe=null,e.updateQueue=null,Ul.current=oz,t=o(n,i)}while(Qr)}if(Ul.current=za,e=Fe!==null&&Fe.next!==null,Wn=0,De=Fe=Se=null,va=!1,e)throw Error(I(300));return t}function Sd(){var t=ks!==0;return ks=0,t}function ro(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?Se.memoizedState=De=t:De=De.next=t,De}function Ot(){if(Fe===null){var t=Se.alternate;t=t!==null?t.memoizedState:null}else t=Fe.next;var e=De===null?Se.memoizedState:De.next;if(e!==null)De=e,Fe=t;else{if(t===null)throw Error(I(310));Fe=t,t={memoizedState:Fe.memoizedState,baseState:Fe.baseState,baseQueue:Fe.baseQueue,queue:Fe.queue,next:null},De===null?Se.memoizedState=De=t:De=De.next=t}return De}function ws(t,e){return typeof e=="function"?e(t):e}function $c(t){var e=Ot(),o=e.queue;if(o===null)throw Error(I(311));o.lastRenderedReducer=t;var n=Fe,i=n.baseQueue,r=o.pending;if(r!==null){if(i!==null){var s=i.next;i.next=r.next,r.next=s}n.baseQueue=i=r,o.pending=null}if(i!==null){r=i.next,n=n.baseState;var l=s=null,a=null,c=r;do{var u=c.lane;if((Wn&u)===u)a!==null&&(a=a.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var p={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};a===null?(l=a=p,s=n):a=a.next=p,Se.lanes|=u,Hn|=u}c=c.next}while(c!==null&&c!==r);a===null?s=n:a.next=l,qt(n,e.memoizedState)||(ut=!0),e.memoizedState=n,e.baseState=s,e.baseQueue=a,o.lastRenderedState=n}if(t=o.interleaved,t!==null){i=t;do r=i.lane,Se.lanes|=r,Hn|=r,i=i.next;while(i!==t)}else i===null&&(o.lanes=0);return[e.memoizedState,o.dispatch]}function Wc(t){var e=Ot(),o=e.queue;if(o===null)throw Error(I(311));o.lastRenderedReducer=t;var n=o.dispatch,i=o.pending,r=e.memoizedState;if(i!==null){o.pending=null;var s=i=i.next;do r=t(r,s.action),s=s.next;while(s!==i);qt(r,e.memoizedState)||(ut=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),o.lastRenderedState=r}return[r,n]}function gb(){}function mb(t,e){var o=Se,n=Ot(),i=e(),r=!qt(n.memoizedState,i);if(r&&(n.memoizedState=i,ut=!0),n=n.queue,Ed(kb.bind(null,o,n,t),[t]),n.getSnapshot!==e||r||De!==null&&De.memoizedState.tag&1){if(o.flags|=2048,vs(9,xb.bind(null,o,n,i,e),void 0,null),Ge===null)throw Error(I(349));Wn&30||bb(o,e,i)}return i}function bb(t,e,o){t.flags|=16384,t={getSnapshot:e,value:o},e=Se.updateQueue,e===null?(e={lastEffect:null,stores:null},Se.updateQueue=e,e.stores=[t]):(o=e.stores,o===null?e.stores=[t]:o.push(t))}function xb(t,e,o,n){e.value=o,e.getSnapshot=n,wb(e)&&vb(t)}function kb(t,e,o){return o(function(){wb(e)&&vb(t)})}function wb(t){var e=t.getSnapshot;t=t.value;try{var o=e();return!qt(t,o)}catch{return!0}}function vb(t){var e=Ao(t,1);e!==null&&Vt(e,t,1,-1)}function Sh(t){var e=ro();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:t},e.queue=t,t=t.dispatch=J3.bind(null,Se,t),[e.memoizedState,t]}function vs(t,e,o,n){return t={tag:t,create:e,destroy:o,deps:n,next:null},e=Se.updateQueue,e===null?(e={lastEffect:null,stores:null},Se.updateQueue=e,e.lastEffect=t.next=t):(o=e.lastEffect,o===null?e.lastEffect=t.next=t:(n=o.next,o.next=t,t.next=n,e.lastEffect=t)),t}function zb(){return Ot().memoizedState}function Nl(t,e,o,n){var i=ro();Se.flags|=t,i.memoizedState=vs(1|e,o,void 0,n===void 0?null:n)}function Qa(t,e,o,n){var i=Ot();n=n===void 0?null:n;var r=void 0;if(Fe!==null){var s=Fe.memoizedState;if(r=s.destroy,n!==null&&vd(n,s.deps)){i.memoizedState=vs(e,o,r,n);return}}Se.flags|=t,i.memoizedState=vs(1|e,o,r,n)}function Eh(t,e){return Nl(8390656,8,t,e)}function Ed(t,e){return Qa(2048,8,t,e)}function Sb(t,e){return Qa(4,2,t,e)}function Eb(t,e){return Qa(4,4,t,e)}function _b(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Cb(t,e,o){return o=o!=null?o.concat([t]):null,Qa(4,4,_b.bind(null,e,t),o)}function _d(){}function Zb(t,e){var o=Ot();e=e===void 0?null:e;var n=o.memoizedState;return n!==null&&e!==null&&vd(e,n[1])?n[0]:(o.memoizedState=[t,e],t)}function Rb(t,e){var o=Ot();e=e===void 0?null:e;var n=o.memoizedState;return n!==null&&e!==null&&vd(e,n[1])?n[0]:(t=t(),o.memoizedState=[t,e],t)}function Ab(t,e,o){return Wn&21?(qt(o,e)||(o=Fm(),Se.lanes|=o,Hn|=o,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ut=!0),t.memoizedState=o)}function K3(t,e){var o=ye;ye=o!==0&&4>o?o:4,t(!0);var n=Lc.transition;Lc.transition={};try{t(!1),e()}finally{ye=o,Lc.transition=n}}function Pb(){return Ot().memoizedState}function Q3(t,e,o){var n=nn(t);if(o={lane:n,action:o,hasEagerState:!1,eagerState:null,next:null},Tb(t))jb(e,o);else if(o=db(t,e,o,n),o!==null){var i=tt();Vt(o,t,n,i),Ib(o,e,n)}}function J3(t,e,o){var n=nn(t),i={lane:n,action:o,hasEagerState:!1,eagerState:null,next:null};if(Tb(t))jb(e,i);else{var r=t.alternate;if(t.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var s=e.lastRenderedState,l=r(s,o);if(i.hasEagerState=!0,i.eagerState=l,qt(l,s)){var a=e.interleaved;a===null?(i.next=i,md(e)):(i.next=a.next,a.next=i),e.interleaved=i;return}}catch{}finally{}o=db(t,e,i,n),o!==null&&(i=tt(),Vt(o,t,n,i),Ib(o,e,n))}}function Tb(t){var e=t.alternate;return t===Se||e!==null&&e===Se}function jb(t,e){Qr=va=!0;var o=t.pending;o===null?e.next=e:(e.next=o.next,o.next=e),t.pending=e}function Ib(t,e,o){if(o&4194240){var n=e.lanes;n&=t.pendingLanes,o|=n,e.lanes=o,nd(t,o)}}var za={readContext:Mt,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useInsertionEffect:We,useLayoutEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useMutableSource:We,useSyncExternalStore:We,useId:We,unstable_isNewReconciler:!1},ez={readContext:Mt,useCallback:function(t,e){return ro().memoizedState=[t,e===void 0?null:e],t},useContext:Mt,useEffect:Eh,useImperativeHandle:function(t,e,o){return o=o!=null?o.concat([t]):null,Nl(4194308,4,_b.bind(null,e,t),o)},useLayoutEffect:function(t,e){return Nl(4194308,4,t,e)},useInsertionEffect:function(t,e){return Nl(4,2,t,e)},useMemo:function(t,e){var o=ro();return e=e===void 0?null:e,t=t(),o.memoizedState=[t,e],t},useReducer:function(t,e,o){var n=ro();return e=o!==void 0?o(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Q3.bind(null,Se,t),[n.memoizedState,t]},useRef:function(t){var e=ro();return t={current:t},e.memoizedState=t},useState:Sh,useDebugValue:_d,useDeferredValue:function(t){return ro().memoizedState=t},useTransition:function(){var t=Sh(!1),e=t[0];return t=K3.bind(null,t[1]),ro().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,o){var n=Se,i=ro();if(xe){if(o===void 0)throw Error(I(407));o=o()}else{if(o=e(),Ge===null)throw Error(I(349));Wn&30||bb(n,e,o)}i.memoizedState=o;var r={value:o,getSnapshot:e};return i.queue=r,Eh(kb.bind(null,n,r,t),[t]),n.flags|=2048,vs(9,xb.bind(null,n,r,o,e),void 0,null),o},useId:function(){var t=ro(),e=Ge.identifierPrefix;if(xe){var o=So,n=zo;o=(n&~(1<<32-Xt(n)-1)).toString(32)+o,e=":"+e+"R"+o,o=ks++,0<o&&(e+="H"+o.toString(32)),e+=":"}else o=Y3++,e=":"+e+"r"+o.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},tz={readContext:Mt,useCallback:Zb,useContext:Mt,useEffect:Ed,useImperativeHandle:Cb,useInsertionEffect:Sb,useLayoutEffect:Eb,useMemo:Rb,useReducer:$c,useRef:zb,useState:function(){return $c(ws)},useDebugValue:_d,useDeferredValue:function(t){var e=Ot();return Ab(e,Fe.memoizedState,t)},useTransition:function(){var t=$c(ws)[0],e=Ot().memoizedState;return[t,e]},useMutableSource:gb,useSyncExternalStore:mb,useId:Pb,unstable_isNewReconciler:!1},oz={readContext:Mt,useCallback:Zb,useContext:Mt,useEffect:Ed,useImperativeHandle:Cb,useInsertionEffect:Sb,useLayoutEffect:Eb,useMemo:Rb,useReducer:Wc,useRef:zb,useState:function(){return Wc(ws)},useDebugValue:_d,useDeferredValue:function(t){var e=Ot();return Fe===null?e.memoizedState=t:Ab(e,Fe.memoizedState,t)},useTransition:function(){var t=Wc(ws)[0],e=Ot().memoizedState;return[t,e]},useMutableSource:gb,useSyncExternalStore:mb,useId:Pb,unstable_isNewReconciler:!1};function Nt(t,e){if(t&&t.defaultProps){e=_e({},e),t=t.defaultProps;for(var o in t)e[o]===void 0&&(e[o]=t[o]);return e}return e}function Rp(t,e,o,n){e=t.memoizedState,o=o(n,e),o=o==null?e:_e({},e,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var Ja={isMounted:function(t){return(t=t._reactInternals)?ri(t)===t:!1},enqueueSetState:function(t,e,o){t=t._reactInternals;var n=tt(),i=nn(t),r=Eo(n,i);r.payload=e,o!=null&&(r.callback=o),e=tn(t,r,i),e!==null&&(Vt(e,t,i,n),Gl(e,t,i))},enqueueReplaceState:function(t,e,o){t=t._reactInternals;var n=tt(),i=nn(t),r=Eo(n,i);r.tag=1,r.payload=e,o!=null&&(r.callback=o),e=tn(t,r,i),e!==null&&(Vt(e,t,i,n),Gl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var o=tt(),n=nn(t),i=Eo(o,n);i.tag=2,e!=null&&(i.callback=e),e=tn(t,i,n),e!==null&&(Vt(e,t,n,o),Gl(e,t,n))}};function _h(t,e,o,n,i,r,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,r,s):e.prototype&&e.prototype.isPureReactComponent?!fs(o,n)||!fs(i,r):!0}function Fb(t,e,o){var n=!1,i=ln,r=e.contextType;return typeof r=="object"&&r!==null?r=Mt(r):(i=yt(e)?Ln:Ke.current,n=e.contextTypes,r=(n=n!=null)?Ki(t,i):ln),e=new e(o,r),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ja,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=r),e}function Ch(t,e,o,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(o,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(o,n),e.state!==t&&Ja.enqueueReplaceState(e,e.state,null)}function Ap(t,e,o,n){var i=t.stateNode;i.props=o,i.state=t.memoizedState,i.refs={},bd(t);var r=e.contextType;typeof r=="object"&&r!==null?i.context=Mt(r):(r=yt(e)?Ln:Ke.current,i.context=Ki(t,r)),i.state=t.memoizedState,r=e.getDerivedStateFromProps,typeof r=="function"&&(Rp(t,e,r,o),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ja.enqueueReplaceState(i,i.state,null),ka(t,o,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function tr(t,e){try{var o="",n=e;do o+=A2(n),n=n.return;while(n);var i=o}catch(r){i=`
Error generating stack: `+r.message+`
`+r.stack}return{value:t,source:e,stack:i,digest:null}}function Hc(t,e,o){return{value:t,source:null,stack:o??null,digest:e??null}}function Pp(t,e){try{console.error(e.value)}catch(o){setTimeout(function(){throw o})}}var nz=typeof WeakMap=="function"?WeakMap:Map;function Mb(t,e,o){o=Eo(-1,o),o.tag=3,o.payload={element:null};var n=e.value;return o.callback=function(){Ea||(Ea=!0,Up=n),Pp(t,e)},o}function Ob(t,e,o){o=Eo(-1,o),o.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;o.payload=function(){return n(i)},o.callback=function(){Pp(t,e)}}var r=t.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(o.callback=function(){Pp(t,e),typeof n!="function"&&(on===null?on=new Set([this]):on.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),o}function Zh(t,e,o){var n=t.pingCache;if(n===null){n=t.pingCache=new nz;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(o)||(i.add(o),t=mz.bind(null,t,e,o),e.then(t,t))}function Rh(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ah(t,e,o,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(e=Eo(-1,1),e.tag=2,tn(o,e,1))),o.lanes|=1),t)}var iz=Io.ReactCurrentOwner,ut=!1;function et(t,e,o,n){e.child=t===null?yb(e,null,o,n):Ji(e,t.child,o,n)}function Ph(t,e,o,n,i){o=o.render;var r=e.ref;return Ni(e,i),n=zd(t,e,o,n,r,i),o=Sd(),t!==null&&!ut?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Po(t,e,i)):(xe&&o&&pd(e),e.flags|=1,et(t,e,n,i),e.child)}function Th(t,e,o,n,i){if(t===null){var r=o.type;return typeof r=="function"&&!Id(r)&&r.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(e.tag=15,e.type=r,Db(t,e,r,n,i)):(t=Hl(o.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(r=t.child,!(t.lanes&i)){var s=r.memoizedProps;if(o=o.compare,o=o!==null?o:fs,o(s,n)&&t.ref===e.ref)return Po(t,e,i)}return e.flags|=1,t=rn(r,n),t.ref=e.ref,t.return=e,e.child=t}function Db(t,e,o,n,i){if(t!==null){var r=t.memoizedProps;if(fs(r,n)&&t.ref===e.ref)if(ut=!1,e.pendingProps=n=r,(t.lanes&i)!==0)t.flags&131072&&(ut=!0);else return e.lanes=t.lanes,Po(t,e,i)}return Tp(t,e,o,n,i)}function Bb(t,e,o){var n=e.pendingProps,i=n.children,r=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},fe(Mi,bt),bt|=o;else{if(!(o&1073741824))return t=r!==null?r.baseLanes|o:o,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,fe(Mi,bt),bt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=r!==null?r.baseLanes:o,fe(Mi,bt),bt|=n}else r!==null?(n=r.baseLanes|o,e.memoizedState=null):n=o,fe(Mi,bt),bt|=n;return et(t,e,i,o),e.child}function Gb(t,e){var o=e.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(e.flags|=512,e.flags|=2097152)}function Tp(t,e,o,n,i){var r=yt(o)?Ln:Ke.current;return r=Ki(e,r),Ni(e,i),o=zd(t,e,o,n,r,i),n=Sd(),t!==null&&!ut?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Po(t,e,i)):(xe&&n&&pd(e),e.flags|=1,et(t,e,o,i),e.child)}function jh(t,e,o,n,i){if(yt(o)){var r=!0;ha(e)}else r=!1;if(Ni(e,i),e.stateNode===null)Ll(t,e),Fb(e,o,n),Ap(e,o,n,i),n=!0;else if(t===null){var s=e.stateNode,l=e.memoizedProps;s.props=l;var a=s.context,c=o.contextType;typeof c=="object"&&c!==null?c=Mt(c):(c=yt(o)?Ln:Ke.current,c=Ki(e,c));var u=o.getDerivedStateFromProps,p=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";p||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==n||a!==c)&&Ch(e,s,n,c),Lo=!1;var y=e.memoizedState;s.state=y,ka(e,n,s,i),a=e.memoizedState,l!==n||y!==a||pt.current||Lo?(typeof u=="function"&&(Rp(e,o,u,n),a=e.memoizedState),(l=Lo||_h(e,o,l,n,y,a,c))?(p||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=a),s.props=n,s.state=a,s.context=c,n=l):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{s=e.stateNode,fb(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:Nt(e.type,l),s.props=c,p=e.pendingProps,y=s.context,a=o.contextType,typeof a=="object"&&a!==null?a=Mt(a):(a=yt(o)?Ln:Ke.current,a=Ki(e,a));var d=o.getDerivedStateFromProps;(u=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==p||y!==a)&&Ch(e,s,n,a),Lo=!1,y=e.memoizedState,s.state=y,ka(e,n,s,i);var g=e.memoizedState;l!==p||y!==g||pt.current||Lo?(typeof d=="function"&&(Rp(e,o,d,n),g=e.memoizedState),(c=Lo||_h(e,o,c,n,y,g,a)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,g,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,g,a)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),s.props=n,s.state=g,s.context=a,n=c):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),n=!1)}return jp(t,e,o,n,r,i)}function jp(t,e,o,n,i,r){Gb(t,e);var s=(e.flags&128)!==0;if(!n&&!s)return i&&bh(e,o,!1),Po(t,e,r);n=e.stateNode,iz.current=e;var l=s&&typeof o.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&s?(e.child=Ji(e,t.child,null,r),e.child=Ji(e,null,l,r)):et(t,e,l,r),e.memoizedState=n.state,i&&bh(e,o,!0),e.child}function Ub(t){var e=t.stateNode;e.pendingContext?mh(t,e.pendingContext,e.pendingContext!==e.context):e.context&&mh(t,e.context,!1),xd(t,e.containerInfo)}function Ih(t,e,o,n,i){return Qi(),dd(i),e.flags|=256,et(t,e,o,n),e.child}var Ip={dehydrated:null,treeContext:null,retryLane:0};function Fp(t){return{baseLanes:t,cachePool:null,transitions:null}}function Nb(t,e,o){var n=e.pendingProps,i=we.current,r=!1,s=(e.flags&128)!==0,l;if((l=s)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(r=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),fe(we,i&1),t===null)return Cp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=n.children,t=n.fallback,r?(n=e.mode,r=e.child,s={mode:"hidden",children:s},!(n&1)&&r!==null?(r.childLanes=0,r.pendingProps=s):r=oc(s,n,0,null),t=Un(t,n,o,null),r.return=e,t.return=e,r.sibling=t,e.child=r,e.child.memoizedState=Fp(o),e.memoizedState=Ip,t):Cd(e,s));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return rz(t,e,s,n,l,i,o);if(r){r=n.fallback,s=e.mode,i=t.child,l=i.sibling;var a={mode:"hidden",children:n.children};return!(s&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=a,e.deletions=null):(n=rn(i,a),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?r=rn(l,r):(r=Un(r,s,o,null),r.flags|=2),r.return=e,n.return=e,n.sibling=r,e.child=n,n=r,r=e.child,s=t.child.memoizedState,s=s===null?Fp(o):{baseLanes:s.baseLanes|o,cachePool:null,transitions:s.transitions},r.memoizedState=s,r.childLanes=t.childLanes&~o,e.memoizedState=Ip,n}return r=t.child,t=r.sibling,n=rn(r,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=o),n.return=e,n.sibling=null,t!==null&&(o=e.deletions,o===null?(e.deletions=[t],e.flags|=16):o.push(t)),e.child=n,e.memoizedState=null,n}function Cd(t,e){return e=oc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function sl(t,e,o,n){return n!==null&&dd(n),Ji(e,t.child,null,o),t=Cd(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function rz(t,e,o,n,i,r,s){if(o)return e.flags&256?(e.flags&=-257,n=Hc(Error(I(422))),sl(t,e,s,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(r=n.fallback,i=e.mode,n=oc({mode:"visible",children:n.children},i,0,null),r=Un(r,i,s,null),r.flags|=2,n.return=e,r.return=e,n.sibling=r,e.child=n,e.mode&1&&Ji(e,t.child,null,s),e.child.memoizedState=Fp(s),e.memoizedState=Ip,r);if(!(e.mode&1))return sl(t,e,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,r=Error(I(419)),n=Hc(r,n,void 0),sl(t,e,s,n)}if(l=(s&t.childLanes)!==0,ut||l){if(n=Ge,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==r.retryLane&&(r.retryLane=i,Ao(t,i),Vt(n,t,i,-1))}return jd(),n=Hc(Error(I(421))),sl(t,e,s,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=bz.bind(null,t),i._reactRetry=e,null):(t=r.treeContext,wt=en(i.nextSibling),vt=e,xe=!0,$t=null,t!==null&&(Zt[Rt++]=zo,Zt[Rt++]=So,Zt[Rt++]=$n,zo=t.id,So=t.overflow,$n=e),e=Cd(e,n.children),e.flags|=4096,e)}function Fh(t,e,o){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Zp(t.return,e,o)}function Xc(t,e,o,n,i){var r=t.memoizedState;r===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:o,tailMode:i}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=n,r.tail=o,r.tailMode=i)}function Lb(t,e,o){var n=e.pendingProps,i=n.revealOrder,r=n.tail;if(et(t,e,n.children,o),n=we.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Fh(t,o,e);else if(t.tag===19)Fh(t,o,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(fe(we,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(o=e.child,i=null;o!==null;)t=o.alternate,t!==null&&wa(t)===null&&(i=o),o=o.sibling;o=i,o===null?(i=e.child,e.child=null):(i=o.sibling,o.sibling=null),Xc(e,!1,i,o,r);break;case"backwards":for(o=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&wa(t)===null){e.child=i;break}t=i.sibling,i.sibling=o,o=i,i=t}Xc(e,!0,o,null,r);break;case"together":Xc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ll(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Po(t,e,o){if(t!==null&&(e.dependencies=t.dependencies),Hn|=e.lanes,!(o&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(I(153));if(e.child!==null){for(t=e.child,o=rn(t,t.pendingProps),e.child=o,o.return=e;t.sibling!==null;)t=t.sibling,o=o.sibling=rn(t,t.pendingProps),o.return=e;o.sibling=null}return e.child}function sz(t,e,o){switch(e.tag){case 3:Ub(e),Qi();break;case 5:hb(e);break;case 1:yt(e.type)&&ha(e);break;case 4:xd(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;fe(ba,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(fe(we,we.current&1),e.flags|=128,null):o&e.child.childLanes?Nb(t,e,o):(fe(we,we.current&1),t=Po(t,e,o),t!==null?t.sibling:null);fe(we,we.current&1);break;case 19:if(n=(o&e.childLanes)!==0,t.flags&128){if(n)return Lb(t,e,o);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),fe(we,we.current),n)break;return null;case 22:case 23:return e.lanes=0,Bb(t,e,o)}return Po(t,e,o)}var $b,Mp,Wb,Hb;$b=function(t,e){for(var o=e.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===e)break;for(;o.sibling===null;){if(o.return===null||o.return===e)return;o=o.return}o.sibling.return=o.return,o=o.sibling}};Mp=function(){};Wb=function(t,e,o,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,On(co.current);var r=null;switch(o){case"input":i=ip(t,i),n=ip(t,n),r=[];break;case"select":i=_e({},i,{value:void 0}),n=_e({},n,{value:void 0}),r=[];break;case"textarea":i=lp(t,i),n=lp(t,n),r=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=da)}cp(o,n);var s;o=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var l=i[c];for(s in l)l.hasOwnProperty(s)&&(o||(o={}),o[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ls.hasOwnProperty(c)?r||(r=[]):(r=r||[]).push(c,null));for(c in n){var a=n[c];if(l=i?.[c],n.hasOwnProperty(c)&&a!==l&&(a!=null||l!=null))if(c==="style")if(l){for(s in l)!l.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(o||(o={}),o[s]="");for(s in a)a.hasOwnProperty(s)&&l[s]!==a[s]&&(o||(o={}),o[s]=a[s])}else o||(r||(r=[]),r.push(c,o)),o=a;else c==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(r=r||[]).push(c,a)):c==="children"?typeof a!="string"&&typeof a!="number"||(r=r||[]).push(c,""+a):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ls.hasOwnProperty(c)?(a!=null&&c==="onScroll"&&ge("scroll",t),r||l===a||(r=[])):(r=r||[]).push(c,a))}o&&(r=r||[]).push("style",o);var c=r;(e.updateQueue=c)&&(e.flags|=4)}};Hb=function(t,e,o,n){o!==n&&(e.flags|=4)};function _r(t,e){if(!xe)switch(t.tailMode){case"hidden":e=t.tail;for(var o=null;e!==null;)e.alternate!==null&&(o=e),e=e.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var n=null;o!==null;)o.alternate!==null&&(n=o),o=o.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function He(t){var e=t.alternate!==null&&t.alternate.child===t.child,o=0,n=0;if(e)for(var i=t.child;i!==null;)o|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)o|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=o,e}function lz(t,e,o){var n=e.pendingProps;switch(yd(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(e),null;case 1:return yt(e.type)&&fa(),He(e),null;case 3:return n=e.stateNode,er(),me(pt),me(Ke),wd(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(il(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,$t!==null&&($p($t),$t=null))),Mp(t,e),He(e),null;case 5:kd(e);var i=On(xs.current);if(o=e.type,t!==null&&e.stateNode!=null)Wb(t,e,o,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(I(166));return He(e),null}if(t=On(co.current),il(e)){n=e.stateNode,o=e.type;var r=e.memoizedProps;switch(n[lo]=e,n[ms]=r,t=(e.mode&1)!==0,o){case"dialog":ge("cancel",n),ge("close",n);break;case"iframe":case"object":case"embed":ge("load",n);break;case"video":case"audio":for(i=0;i<Gr.length;i++)ge(Gr[i],n);break;case"source":ge("error",n);break;case"img":case"image":case"link":ge("error",n),ge("load",n);break;case"details":ge("toggle",n);break;case"input":$f(n,r),ge("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!r.multiple},ge("invalid",n);break;case"textarea":Hf(n,r),ge("invalid",n)}cp(o,r),i=null;for(var s in r)if(r.hasOwnProperty(s)){var l=r[s];s==="children"?typeof l=="string"?n.textContent!==l&&(r.suppressHydrationWarning!==!0&&nl(n.textContent,l,t),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(r.suppressHydrationWarning!==!0&&nl(n.textContent,l,t),i=["children",""+l]):ls.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&ge("scroll",n)}switch(o){case"input":qs(n),Wf(n,r,!0);break;case"textarea":qs(n),Xf(n);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(n.onclick=da)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=km(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=s.createElement(o,{is:n.is}):(t=s.createElement(o),o==="select"&&(s=t,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):t=s.createElementNS(t,o),t[lo]=e,t[ms]=n,$b(t,e,!1,!1),e.stateNode=t;e:{switch(s=up(o,n),o){case"dialog":ge("cancel",t),ge("close",t),i=n;break;case"iframe":case"object":case"embed":ge("load",t),i=n;break;case"video":case"audio":for(i=0;i<Gr.length;i++)ge(Gr[i],t);i=n;break;case"source":ge("error",t),i=n;break;case"img":case"image":case"link":ge("error",t),ge("load",t),i=n;break;case"details":ge("toggle",t),i=n;break;case"input":$f(t,n),i=ip(t,n),ge("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=_e({},n,{value:void 0}),ge("invalid",t);break;case"textarea":Hf(t,n),i=lp(t,n),ge("invalid",t);break;default:i=n}cp(o,i),l=i;for(r in l)if(l.hasOwnProperty(r)){var a=l[r];r==="style"?zm(t,a):r==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&wm(t,a)):r==="children"?typeof a=="string"?(o!=="textarea"||a!=="")&&as(t,a):typeof a=="number"&&as(t,""+a):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(ls.hasOwnProperty(r)?a!=null&&r==="onScroll"&&ge("scroll",t):a!=null&&Ky(t,r,a,s))}switch(o){case"input":qs(t),Wf(t,n,!1);break;case"textarea":qs(t),Xf(t);break;case"option":n.value!=null&&t.setAttribute("value",""+sn(n.value));break;case"select":t.multiple=!!n.multiple,r=n.value,r!=null?Di(t,!!n.multiple,r,!1):n.defaultValue!=null&&Di(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=da)}switch(o){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return He(e),null;case 6:if(t&&e.stateNode!=null)Hb(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(I(166));if(o=On(xs.current),On(co.current),il(e)){if(n=e.stateNode,o=e.memoizedProps,n[lo]=e,(r=n.nodeValue!==o)&&(t=vt,t!==null))switch(t.tag){case 3:nl(n.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&nl(n.nodeValue,o,(t.mode&1)!==0)}r&&(e.flags|=4)}else n=(o.nodeType===9?o:o.ownerDocument).createTextNode(n),n[lo]=e,e.stateNode=n}return He(e),null;case 13:if(me(we),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(xe&&wt!==null&&e.mode&1&&!(e.flags&128))ub(),Qi(),e.flags|=98560,r=!1;else if(r=il(e),n!==null&&n.dehydrated!==null){if(t===null){if(!r)throw Error(I(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(I(317));r[lo]=e}else Qi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;He(e),r=!1}else $t!==null&&($p($t),$t=null),r=!0;if(!r)return e.flags&65536?e:null}return e.flags&128?(e.lanes=o,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||we.current&1?Me===0&&(Me=3):jd())),e.updateQueue!==null&&(e.flags|=4),He(e),null);case 4:return er(),Mp(t,e),t===null&&hs(e.stateNode.containerInfo),He(e),null;case 10:return gd(e.type._context),He(e),null;case 17:return yt(e.type)&&fa(),He(e),null;case 19:if(me(we),r=e.memoizedState,r===null)return He(e),null;if(n=(e.flags&128)!==0,s=r.rendering,s===null)if(n)_r(r,!1);else{if(Me!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=wa(t),s!==null){for(e.flags|=128,_r(r,!1),n=s.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=o,o=e.child;o!==null;)r=o,t=n,r.flags&=14680066,s=r.alternate,s===null?(r.childLanes=0,r.lanes=t,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=s.childLanes,r.lanes=s.lanes,r.child=s.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=s.memoizedProps,r.memoizedState=s.memoizedState,r.updateQueue=s.updateQueue,r.type=s.type,t=s.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return fe(we,we.current&1|2),e.child}t=t.sibling}r.tail!==null&&Ze()>or&&(e.flags|=128,n=!0,_r(r,!1),e.lanes=4194304)}else{if(!n)if(t=wa(s),t!==null){if(e.flags|=128,n=!0,o=t.updateQueue,o!==null&&(e.updateQueue=o,e.flags|=4),_r(r,!0),r.tail===null&&r.tailMode==="hidden"&&!s.alternate&&!xe)return He(e),null}else 2*Ze()-r.renderingStartTime>or&&o!==1073741824&&(e.flags|=128,n=!0,_r(r,!1),e.lanes=4194304);r.isBackwards?(s.sibling=e.child,e.child=s):(o=r.last,o!==null?o.sibling=s:e.child=s,r.last=s)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Ze(),e.sibling=null,o=we.current,fe(we,n?o&1|2:o&1),e):(He(e),null);case 22:case 23:return Td(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?bt&1073741824&&(He(e),e.subtreeFlags&6&&(e.flags|=8192)):He(e),null;case 24:return null;case 25:return null}throw Error(I(156,e.tag))}function az(t,e){switch(yd(e),e.tag){case 1:return yt(e.type)&&fa(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return er(),me(pt),me(Ke),wd(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return kd(e),null;case 13:if(me(we),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(I(340));Qi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return me(we),null;case 4:return er(),null;case 10:return gd(e.type._context),null;case 22:case 23:return Td(),null;case 24:return null;default:return null}}var ll=!1,Xe=!1,cz=typeof WeakSet=="function"?WeakSet:Set,O=null;function Fi(t,e){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(n){Ce(t,e,n)}else o.current=null}function Op(t,e,o){try{o()}catch(n){Ce(t,e,n)}}var Mh=!1;function uz(t,e){if(kp=ua,t=Km(),ud(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var n=o.getSelection&&o.getSelection();if(n&&n.rangeCount!==0){o=n.anchorNode;var i=n.anchorOffset,r=n.focusNode;n=n.focusOffset;try{o.nodeType,r.nodeType}catch{o=null;break e}var s=0,l=-1,a=-1,c=0,u=0,p=t,y=null;t:for(;;){for(var d;p!==o||i!==0&&p.nodeType!==3||(l=s+i),p!==r||n!==0&&p.nodeType!==3||(a=s+n),p.nodeType===3&&(s+=p.nodeValue.length),(d=p.firstChild)!==null;)y=p,p=d;for(;;){if(p===t)break t;if(y===o&&++c===i&&(l=s),y===r&&++u===n&&(a=s),(d=p.nextSibling)!==null)break;p=y,y=p.parentNode}p=d}o=l===-1||a===-1?null:{start:l,end:a}}else o=null}o=o||{start:0,end:0}}else o=null;for(wp={focusedElem:t,selectionRange:o},ua=!1,O=e;O!==null;)if(e=O,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,O=t;else for(;O!==null;){e=O;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var f=g.memoizedProps,b=g.memoizedState,h=e.stateNode,m=h.getSnapshotBeforeUpdate(e.elementType===e.type?f:Nt(e.type,f),b);h.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var k=e.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(w){Ce(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,O=t;break}O=e.return}return g=Mh,Mh=!1,g}function Jr(t,e,o){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var r=i.destroy;i.destroy=void 0,r!==void 0&&Op(e,o,r)}i=i.next}while(i!==n)}}function ec(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var o=e=e.next;do{if((o.tag&t)===t){var n=o.create;o.destroy=n()}o=o.next}while(o!==e)}}function Dp(t){var e=t.ref;if(e!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof e=="function"?e(t):e.current=t}}function Xb(t){var e=t.alternate;e!==null&&(t.alternate=null,Xb(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[lo],delete e[ms],delete e[Sp],delete e[H3],delete e[X3])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Vb(t){return t.tag===5||t.tag===3||t.tag===4}function Oh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Vb(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Bp(t,e,o){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?o.nodeType===8?o.parentNode.insertBefore(t,e):o.insertBefore(t,e):(o.nodeType===8?(e=o.parentNode,e.insertBefore(t,o)):(e=o,e.appendChild(t)),o=o._reactRootContainer,o!=null||e.onclick!==null||(e.onclick=da));else if(n!==4&&(t=t.child,t!==null))for(Bp(t,e,o),t=t.sibling;t!==null;)Bp(t,e,o),t=t.sibling}function Gp(t,e,o){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?o.insertBefore(t,e):o.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Gp(t,e,o),t=t.sibling;t!==null;)Gp(t,e,o),t=t.sibling}var Ue=null,Lt=!1;function Fo(t,e,o){for(o=o.child;o!==null;)qb(t,e,o),o=o.sibling}function qb(t,e,o){if(ao&&typeof ao.onCommitFiberUnmount=="function")try{ao.onCommitFiberUnmount(Ha,o)}catch{}switch(o.tag){case 5:Xe||Fi(o,e);case 6:var n=Ue,i=Lt;Ue=null,Fo(t,e,o),Ue=n,Lt=i,Ue!==null&&(Lt?(t=Ue,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):Ue.removeChild(o.stateNode));break;case 18:Ue!==null&&(Lt?(t=Ue,o=o.stateNode,t.nodeType===8?Gc(t.parentNode,o):t.nodeType===1&&Gc(t,o),ys(t)):Gc(Ue,o.stateNode));break;case 4:n=Ue,i=Lt,Ue=o.stateNode.containerInfo,Lt=!0,Fo(t,e,o),Ue=n,Lt=i;break;case 0:case 11:case 14:case 15:if(!Xe&&(n=o.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var r=i,s=r.destroy;r=r.tag,s!==void 0&&(r&2||r&4)&&Op(o,e,s),i=i.next}while(i!==n)}Fo(t,e,o);break;case 1:if(!Xe&&(Fi(o,e),n=o.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=o.memoizedProps,n.state=o.memoizedState,n.componentWillUnmount()}catch(l){Ce(o,e,l)}Fo(t,e,o);break;case 21:Fo(t,e,o);break;case 22:o.mode&1?(Xe=(n=Xe)||o.memoizedState!==null,Fo(t,e,o),Xe=n):Fo(t,e,o);break;default:Fo(t,e,o)}}function Dh(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new cz),e.forEach(function(n){var i=xz.bind(null,t,n);o.has(n)||(o.add(n),n.then(i,i))})}}function Gt(t,e){var o=e.deletions;if(o!==null)for(var n=0;n<o.length;n++){var i=o[n];try{var r=t,s=e,l=s;e:for(;l!==null;){switch(l.tag){case 5:Ue=l.stateNode,Lt=!1;break e;case 3:Ue=l.stateNode.containerInfo,Lt=!0;break e;case 4:Ue=l.stateNode.containerInfo,Lt=!0;break e}l=l.return}if(Ue===null)throw Error(I(160));qb(r,s,i),Ue=null,Lt=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(c){Ce(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Yb(e,t),e=e.sibling}function Yb(t,e){var o=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Gt(e,t),to(t),n&4){try{Jr(3,t,t.return),ec(3,t)}catch(f){Ce(t,t.return,f)}try{Jr(5,t,t.return)}catch(f){Ce(t,t.return,f)}}break;case 1:Gt(e,t),to(t),n&512&&o!==null&&Fi(o,o.return);break;case 5:if(Gt(e,t),to(t),n&512&&o!==null&&Fi(o,o.return),t.flags&32){var i=t.stateNode;try{as(i,"")}catch(f){Ce(t,t.return,f)}}if(n&4&&(i=t.stateNode,i!=null)){var r=t.memoizedProps,s=o!==null?o.memoizedProps:r,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&r.type==="radio"&&r.name!=null&&bm(i,r),up(l,s);var c=up(l,r);for(s=0;s<a.length;s+=2){var u=a[s],p=a[s+1];u==="style"?zm(i,p):u==="dangerouslySetInnerHTML"?wm(i,p):u==="children"?as(i,p):Ky(i,u,p,c)}switch(l){case"input":rp(i,r);break;case"textarea":xm(i,r);break;case"select":var y=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!r.multiple;var d=r.value;d!=null?Di(i,!!r.multiple,d,!1):y!==!!r.multiple&&(r.defaultValue!=null?Di(i,!!r.multiple,r.defaultValue,!0):Di(i,!!r.multiple,r.multiple?[]:"",!1))}i[ms]=r}catch(f){Ce(t,t.return,f)}}break;case 6:if(Gt(e,t),to(t),n&4){if(t.stateNode===null)throw Error(I(162));i=t.stateNode,r=t.memoizedProps;try{i.nodeValue=r}catch(f){Ce(t,t.return,f)}}break;case 3:if(Gt(e,t),to(t),n&4&&o!==null&&o.memoizedState.isDehydrated)try{ys(e.containerInfo)}catch(f){Ce(t,t.return,f)}break;case 4:Gt(e,t),to(t);break;case 13:Gt(e,t),to(t),i=t.child,i.flags&8192&&(r=i.memoizedState!==null,i.stateNode.isHidden=r,!r||i.alternate!==null&&i.alternate.memoizedState!==null||(Ad=Ze())),n&4&&Dh(t);break;case 22:if(u=o!==null&&o.memoizedState!==null,t.mode&1?(Xe=(c=Xe)||u,Gt(e,t),Xe=c):Gt(e,t),to(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(O=t,u=t.child;u!==null;){for(p=O=u;O!==null;){switch(y=O,d=y.child,y.tag){case 0:case 11:case 14:case 15:Jr(4,y,y.return);break;case 1:Fi(y,y.return);var g=y.stateNode;if(typeof g.componentWillUnmount=="function"){n=y,o=y.return;try{e=n,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(f){Ce(n,o,f)}}break;case 5:Fi(y,y.return);break;case 22:if(y.memoizedState!==null){Gh(p);continue}}d!==null?(d.return=y,O=d):Gh(p)}u=u.sibling}e:for(u=null,p=t;;){if(p.tag===5){if(u===null){u=p;try{i=p.stateNode,c?(r=i.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(l=p.stateNode,a=p.memoizedProps.style,s=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=vm("display",s))}catch(f){Ce(t,t.return,f)}}}else if(p.tag===6){if(u===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(f){Ce(t,t.return,f)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;u===p&&(u=null),p=p.return}u===p&&(u=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Gt(e,t),to(t),n&4&&Dh(t);break;case 21:break;default:Gt(e,t),to(t)}}function to(t){var e=t.flags;if(e&2){try{e:{for(var o=t.return;o!==null;){if(Vb(o)){var n=o;break e}o=o.return}throw Error(I(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(as(i,""),n.flags&=-33);var r=Oh(t);Gp(t,r,i);break;case 3:case 4:var s=n.stateNode.containerInfo,l=Oh(t);Bp(t,l,s);break;default:throw Error(I(161))}}catch(a){Ce(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function pz(t,e,o){O=t,Kb(t)}function Kb(t,e,o){for(var n=(t.mode&1)!==0;O!==null;){var i=O,r=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||ll;if(!s){var l=i.alternate,a=l!==null&&l.memoizedState!==null||Xe;l=ll;var c=Xe;if(ll=s,(Xe=a)&&!c)for(O=i;O!==null;)s=O,a=s.child,s.tag===22&&s.memoizedState!==null?Uh(i):a!==null?(a.return=s,O=a):Uh(i);for(;r!==null;)O=r,Kb(r),r=r.sibling;O=i,ll=l,Xe=c}Bh(t)}else i.subtreeFlags&8772&&r!==null?(r.return=i,O=r):Bh(t)}}function Bh(t){for(;O!==null;){var e=O;if(e.flags&8772){var o=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Xe||ec(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Xe)if(o===null)n.componentDidMount();else{var i=e.elementType===e.type?o.memoizedProps:Nt(e.type,o.memoizedProps);n.componentDidUpdate(i,o.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var r=e.updateQueue;r!==null&&zh(e,r,n);break;case 3:var s=e.updateQueue;if(s!==null){if(o=null,e.child!==null)switch(e.child.tag){case 5:o=e.child.stateNode;break;case 1:o=e.child.stateNode}zh(e,s,o)}break;case 5:var l=e.stateNode;if(o===null&&e.flags&4){o=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break;case"img":a.src&&(o.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var p=u.dehydrated;p!==null&&ys(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}Xe||e.flags&512&&Dp(e)}catch(y){Ce(e,e.return,y)}}if(e===t){O=null;break}if(o=e.sibling,o!==null){o.return=e.return,O=o;break}O=e.return}}function Gh(t){for(;O!==null;){var e=O;if(e===t){O=null;break}var o=e.sibling;if(o!==null){o.return=e.return,O=o;break}O=e.return}}function Uh(t){for(;O!==null;){var e=O;try{switch(e.tag){case 0:case 11:case 15:var o=e.return;try{ec(4,e)}catch(a){Ce(e,o,a)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(a){Ce(e,i,a)}}var r=e.return;try{Dp(e)}catch(a){Ce(e,r,a)}break;case 5:var s=e.return;try{Dp(e)}catch(a){Ce(e,s,a)}}}catch(a){Ce(e,e.return,a)}if(e===t){O=null;break}var l=e.sibling;if(l!==null){l.return=e.return,O=l;break}O=e.return}}var yz=Math.ceil,Sa=Io.ReactCurrentDispatcher,Zd=Io.ReactCurrentOwner,Ft=Io.ReactCurrentBatchConfig,se=0,Ge=null,Pe=null,Ne=0,bt=0,Mi=fn(0),Me=0,zs=null,Hn=0,tc=0,Rd=0,es=null,at=null,Ad=0,or=1/0,wo=null,Ea=!1,Up=null,on=null,al=!1,Xo=null,_a=0,ts=0,Np=null,$l=-1,Wl=0;function tt(){return se&6?Ze():$l!==-1?$l:$l=Ze()}function nn(t){return t.mode&1?se&2&&Ne!==0?Ne&-Ne:q3.transition!==null?(Wl===0&&(Wl=Fm()),Wl):(t=ye,t!==0||(t=window.event,t=t===void 0?16:Nm(t.type)),t):1}function Vt(t,e,o,n){if(50<ts)throw ts=0,Np=null,Error(I(185));Os(t,o,n),(!(se&2)||t!==Ge)&&(t===Ge&&(!(se&2)&&(tc|=o),Me===4&&Wo(t,Ne)),dt(t,n),o===1&&se===0&&!(e.mode&1)&&(or=Ze()+500,Ka&&hn()))}function dt(t,e){var o=t.callbackNode;q2(t,e);var n=ca(t,t===Ge?Ne:0);if(n===0)o!==null&&Yf(o),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(o!=null&&Yf(o),e===1)t.tag===0?V3(Nh.bind(null,t)):lb(Nh.bind(null,t)),$3(function(){!(se&6)&&hn()}),o=null;else{switch(Mm(n)){case 1:o=od;break;case 4:o=jm;break;case 16:o=aa;break;case 536870912:o=Im;break;default:o=aa}o=rx(o,Qb.bind(null,t))}t.callbackPriority=e,t.callbackNode=o}}function Qb(t,e){if($l=-1,Wl=0,se&6)throw Error(I(327));var o=t.callbackNode;if(Li()&&t.callbackNode!==o)return null;var n=ca(t,t===Ge?Ne:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Ca(t,n);else{e=n;var i=se;se|=2;var r=ex();(Ge!==t||Ne!==e)&&(wo=null,or=Ze()+500,Gn(t,e));do try{hz();break}catch(l){Jb(t,l)}while(!0);hd(),Sa.current=r,se=i,Pe!==null?e=0:(Ge=null,Ne=0,e=Me)}if(e!==0){if(e===2&&(i=hp(t),i!==0&&(n=i,e=Lp(t,i))),e===1)throw o=zs,Gn(t,0),Wo(t,n),dt(t,Ze()),o;if(e===6)Wo(t,n);else{if(i=t.current.alternate,!(n&30)&&!dz(i)&&(e=Ca(t,n),e===2&&(r=hp(t),r!==0&&(n=r,e=Lp(t,r))),e===1))throw o=zs,Gn(t,0),Wo(t,n),dt(t,Ze()),o;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(I(345));case 2:Sn(t,at,wo);break;case 3:if(Wo(t,n),(n&130023424)===n&&(e=Ad+500-Ze(),10<e)){if(ca(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){tt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=zp(Sn.bind(null,t,at,wo),e);break}Sn(t,at,wo);break;case 4:if(Wo(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var s=31-Xt(n);r=1<<s,s=e[s],s>i&&(i=s),n&=~r}if(n=i,n=Ze()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*yz(n/1960))-n,10<n){t.timeoutHandle=zp(Sn.bind(null,t,at,wo),n);break}Sn(t,at,wo);break;case 5:Sn(t,at,wo);break;default:throw Error(I(329))}}}return dt(t,Ze()),t.callbackNode===o?Qb.bind(null,t):null}function Lp(t,e){var o=es;return t.current.memoizedState.isDehydrated&&(Gn(t,e).flags|=256),t=Ca(t,e),t!==2&&(e=at,at=o,e!==null&&$p(e)),t}function $p(t){at===null?at=t:at.push.apply(at,t)}function dz(t){for(var e=t;;){if(e.flags&16384){var o=e.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var n=0;n<o.length;n++){var i=o[n],r=i.getSnapshot;i=i.value;try{if(!qt(r(),i))return!1}catch{return!1}}}if(o=e.child,e.subtreeFlags&16384&&o!==null)o.return=e,e=o;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Wo(t,e){for(e&=~Rd,e&=~tc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var o=31-Xt(e),n=1<<o;t[o]=-1,e&=~n}}function Nh(t){if(se&6)throw Error(I(327));Li();var e=ca(t,0);if(!(e&1))return dt(t,Ze()),null;var o=Ca(t,e);if(t.tag!==0&&o===2){var n=hp(t);n!==0&&(e=n,o=Lp(t,n))}if(o===1)throw o=zs,Gn(t,0),Wo(t,e),dt(t,Ze()),o;if(o===6)throw Error(I(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Sn(t,at,wo),dt(t,Ze()),null}function Pd(t,e){var o=se;se|=1;try{return t(e)}finally{se=o,se===0&&(or=Ze()+500,Ka&&hn())}}function Xn(t){Xo!==null&&Xo.tag===0&&!(se&6)&&Li();var e=se;se|=1;var o=Ft.transition,n=ye;try{if(Ft.transition=null,ye=1,t)return t()}finally{ye=n,Ft.transition=o,se=e,!(se&6)&&hn()}}function Td(){bt=Mi.current,me(Mi)}function Gn(t,e){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,L3(o)),Pe!==null)for(o=Pe.return;o!==null;){var n=o;switch(yd(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&fa();break;case 3:er(),me(pt),me(Ke),wd();break;case 5:kd(n);break;case 4:er();break;case 13:me(we);break;case 19:me(we);break;case 10:gd(n.type._context);break;case 22:case 23:Td()}o=o.return}if(Ge=t,Pe=t=rn(t.current,null),Ne=bt=e,Me=0,zs=null,Rd=tc=Hn=0,at=es=null,Mn!==null){for(e=0;e<Mn.length;e++)if(o=Mn[e],n=o.interleaved,n!==null){o.interleaved=null;var i=n.next,r=o.pending;if(r!==null){var s=r.next;r.next=i,n.next=s}o.pending=n}Mn=null}return t}function Jb(t,e){do{var o=Pe;try{if(hd(),Ul.current=za,va){for(var n=Se.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}va=!1}if(Wn=0,De=Fe=Se=null,Qr=!1,ks=0,Zd.current=null,o===null||o.return===null){Me=1,zs=e,Pe=null;break}e:{var r=t,s=o.return,l=o,a=e;if(e=Ne,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var c=a,u=l,p=u.tag;if(!(u.mode&1)&&(p===0||p===11||p===15)){var y=u.alternate;y?(u.updateQueue=y.updateQueue,u.memoizedState=y.memoizedState,u.lanes=y.lanes):(u.updateQueue=null,u.memoizedState=null)}var d=Rh(s);if(d!==null){d.flags&=-257,Ah(d,s,l,r,e),d.mode&1&&Zh(r,c,e),e=d,a=c;var g=e.updateQueue;if(g===null){var f=new Set;f.add(a),e.updateQueue=f}else g.add(a);break e}else{if(!(e&1)){Zh(r,c,e),jd();break e}a=Error(I(426))}}else if(xe&&l.mode&1){var b=Rh(s);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Ah(b,s,l,r,e),dd(tr(a,l));break e}}r=a=tr(a,l),Me!==4&&(Me=2),es===null?es=[r]:es.push(r),r=s;do{switch(r.tag){case 3:r.flags|=65536,e&=-e,r.lanes|=e;var h=Mb(r,a,e);vh(r,h);break e;case 1:l=a;var m=r.type,k=r.stateNode;if(!(r.flags&128)&&(typeof m.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(on===null||!on.has(k)))){r.flags|=65536,e&=-e,r.lanes|=e;var w=Ob(r,l,e);vh(r,w);break e}}r=r.return}while(r!==null)}ox(o)}catch(v){e=v,Pe===o&&o!==null&&(Pe=o=o.return);continue}break}while(!0)}function ex(){var t=Sa.current;return Sa.current=za,t===null?za:t}function jd(){(Me===0||Me===3||Me===2)&&(Me=4),Ge===null||!(Hn&268435455)&&!(tc&268435455)||Wo(Ge,Ne)}function Ca(t,e){var o=se;se|=2;var n=ex();(Ge!==t||Ne!==e)&&(wo=null,Gn(t,e));do try{fz();break}catch(i){Jb(t,i)}while(!0);if(hd(),se=o,Sa.current=n,Pe!==null)throw Error(I(261));return Ge=null,Ne=0,Me}function fz(){for(;Pe!==null;)tx(Pe)}function hz(){for(;Pe!==null&&!G2();)tx(Pe)}function tx(t){var e=ix(t.alternate,t,bt);t.memoizedProps=t.pendingProps,e===null?ox(t):Pe=e,Zd.current=null}function ox(t){var e=t;do{var o=e.alternate;if(t=e.return,e.flags&32768){if(o=az(o,e),o!==null){o.flags&=32767,Pe=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Me=6,Pe=null;return}}else if(o=lz(o,e,bt),o!==null){Pe=o;return}if(e=e.sibling,e!==null){Pe=e;return}Pe=e=t}while(e!==null);Me===0&&(Me=5)}function Sn(t,e,o){var n=ye,i=Ft.transition;try{Ft.transition=null,ye=1,gz(t,e,o,n)}finally{Ft.transition=i,ye=n}return null}function gz(t,e,o,n){do Li();while(Xo!==null);if(se&6)throw Error(I(327));o=t.finishedWork;var i=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(I(177));t.callbackNode=null,t.callbackPriority=0;var r=o.lanes|o.childLanes;if(Y2(t,r),t===Ge&&(Pe=Ge=null,Ne=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||al||(al=!0,rx(aa,function(){return Li(),null})),r=(o.flags&15990)!==0,o.subtreeFlags&15990||r){r=Ft.transition,Ft.transition=null;var s=ye;ye=1;var l=se;se|=4,Zd.current=null,uz(t,o),Yb(o,t),M3(wp),ua=!!kp,wp=kp=null,t.current=o,pz(o),U2(),se=l,ye=s,Ft.transition=r}else t.current=o;if(al&&(al=!1,Xo=t,_a=i),r=t.pendingLanes,r===0&&(on=null),$2(o.stateNode),dt(t,Ze()),e!==null)for(n=t.onRecoverableError,o=0;o<e.length;o++)i=e[o],n(i.value,{componentStack:i.stack,digest:i.digest});if(Ea)throw Ea=!1,t=Up,Up=null,t;return _a&1&&t.tag!==0&&Li(),r=t.pendingLanes,r&1?t===Np?ts++:(ts=0,Np=t):ts=0,hn(),null}function Li(){if(Xo!==null){var t=Mm(_a),e=Ft.transition,o=ye;try{if(Ft.transition=null,ye=16>t?16:t,Xo===null)var n=!1;else{if(t=Xo,Xo=null,_a=0,se&6)throw Error(I(331));var i=se;for(se|=4,O=t.current;O!==null;){var r=O,s=r.child;if(O.flags&16){var l=r.deletions;if(l!==null){for(var a=0;a<l.length;a++){var c=l[a];for(O=c;O!==null;){var u=O;switch(u.tag){case 0:case 11:case 15:Jr(8,u,r)}var p=u.child;if(p!==null)p.return=u,O=p;else for(;O!==null;){u=O;var y=u.sibling,d=u.return;if(Xb(u),u===c){O=null;break}if(y!==null){y.return=d,O=y;break}O=d}}}var g=r.alternate;if(g!==null){var f=g.child;if(f!==null){g.child=null;do{var b=f.sibling;f.sibling=null,f=b}while(f!==null)}}O=r}}if(r.subtreeFlags&2064&&s!==null)s.return=r,O=s;else e:for(;O!==null;){if(r=O,r.flags&2048)switch(r.tag){case 0:case 11:case 15:Jr(9,r,r.return)}var h=r.sibling;if(h!==null){h.return=r.return,O=h;break e}O=r.return}}var m=t.current;for(O=m;O!==null;){s=O;var k=s.child;if(s.subtreeFlags&2064&&k!==null)k.return=s,O=k;else e:for(s=m;O!==null;){if(l=O,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ec(9,l)}}catch(v){Ce(l,l.return,v)}if(l===s){O=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,O=w;break e}O=l.return}}if(se=i,hn(),ao&&typeof ao.onPostCommitFiberRoot=="function")try{ao.onPostCommitFiberRoot(Ha,t)}catch{}n=!0}return n}finally{ye=o,Ft.transition=e}}return!1}function Lh(t,e,o){e=tr(o,e),e=Mb(t,e,1),t=tn(t,e,1),e=tt(),t!==null&&(Os(t,1,e),dt(t,e))}function Ce(t,e,o){if(t.tag===3)Lh(t,t,o);else for(;e!==null;){if(e.tag===3){Lh(e,t,o);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(on===null||!on.has(n))){t=tr(o,t),t=Ob(e,t,1),e=tn(e,t,1),t=tt(),e!==null&&(Os(e,1,t),dt(e,t));break}}e=e.return}}function mz(t,e,o){var n=t.pingCache;n!==null&&n.delete(e),e=tt(),t.pingedLanes|=t.suspendedLanes&o,Ge===t&&(Ne&o)===o&&(Me===4||Me===3&&(Ne&130023424)===Ne&&500>Ze()-Ad?Gn(t,0):Rd|=o),dt(t,e)}function nx(t,e){e===0&&(t.mode&1?(e=Qs,Qs<<=1,!(Qs&130023424)&&(Qs=4194304)):e=1);var o=tt();t=Ao(t,e),t!==null&&(Os(t,e,o),dt(t,o))}function bz(t){var e=t.memoizedState,o=0;e!==null&&(o=e.retryLane),nx(t,o)}function xz(t,e){var o=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(o=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(I(314))}n!==null&&n.delete(e),nx(t,o)}var ix;ix=function(t,e,o){if(t!==null)if(t.memoizedProps!==e.pendingProps||pt.current)ut=!0;else{if(!(t.lanes&o)&&!(e.flags&128))return ut=!1,sz(t,e,o);ut=!!(t.flags&131072)}else ut=!1,xe&&e.flags&1048576&&ab(e,ma,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Ll(t,e),t=e.pendingProps;var i=Ki(e,Ke.current);Ni(e,o),i=zd(null,e,n,t,i,o);var r=Sd();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,yt(n)?(r=!0,ha(e)):r=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,bd(e),i.updater=Ja,e.stateNode=i,i._reactInternals=e,Ap(e,n,t,o),e=jp(null,e,n,!0,r,o)):(e.tag=0,xe&&r&&pd(e),et(null,e,i,o),e=e.child),e;case 16:n=e.elementType;e:{switch(Ll(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=wz(n),t=Nt(n,t),i){case 0:e=Tp(null,e,n,t,o);break e;case 1:e=jh(null,e,n,t,o);break e;case 11:e=Ph(null,e,n,t,o);break e;case 14:e=Th(null,e,n,Nt(n.type,t),o);break e}throw Error(I(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Nt(n,i),Tp(t,e,n,i,o);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Nt(n,i),jh(t,e,n,i,o);case 3:e:{if(Ub(e),t===null)throw Error(I(387));n=e.pendingProps,r=e.memoizedState,i=r.element,fb(t,e),ka(e,n,null,o);var s=e.memoizedState;if(n=s.element,r.isDehydrated)if(r={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){i=tr(Error(I(423)),e),e=Ih(t,e,n,o,i);break e}else if(n!==i){i=tr(Error(I(424)),e),e=Ih(t,e,n,o,i);break e}else for(wt=en(e.stateNode.containerInfo.firstChild),vt=e,xe=!0,$t=null,o=yb(e,null,n,o),e.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Qi(),n===i){e=Po(t,e,o);break e}et(t,e,n,o)}e=e.child}return e;case 5:return hb(e),t===null&&Cp(e),n=e.type,i=e.pendingProps,r=t!==null?t.memoizedProps:null,s=i.children,vp(n,i)?s=null:r!==null&&vp(n,r)&&(e.flags|=32),Gb(t,e),et(t,e,s,o),e.child;case 6:return t===null&&Cp(e),null;case 13:return Nb(t,e,o);case 4:return xd(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Ji(e,null,n,o):et(t,e,n,o),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Nt(n,i),Ph(t,e,n,i,o);case 7:return et(t,e,e.pendingProps,o),e.child;case 8:return et(t,e,e.pendingProps.children,o),e.child;case 12:return et(t,e,e.pendingProps.children,o),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,r=e.memoizedProps,s=i.value,fe(ba,n._currentValue),n._currentValue=s,r!==null)if(qt(r.value,s)){if(r.children===i.children&&!pt.current){e=Po(t,e,o);break e}}else for(r=e.child,r!==null&&(r.return=e);r!==null;){var l=r.dependencies;if(l!==null){s=r.child;for(var a=l.firstContext;a!==null;){if(a.context===n){if(r.tag===1){a=Eo(-1,o&-o),a.tag=2;var c=r.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?a.next=a:(a.next=u.next,u.next=a),c.pending=a}}r.lanes|=o,a=r.alternate,a!==null&&(a.lanes|=o),Zp(r.return,o,e),l.lanes|=o;break}a=a.next}}else if(r.tag===10)s=r.type===e.type?null:r.child;else if(r.tag===18){if(s=r.return,s===null)throw Error(I(341));s.lanes|=o,l=s.alternate,l!==null&&(l.lanes|=o),Zp(s,o,e),s=r.sibling}else s=r.child;if(s!==null)s.return=r;else for(s=r;s!==null;){if(s===e){s=null;break}if(r=s.sibling,r!==null){r.return=s.return,s=r;break}s=s.return}r=s}et(t,e,i.children,o),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Ni(e,o),i=Mt(i),n=n(i),e.flags|=1,et(t,e,n,o),e.child;case 14:return n=e.type,i=Nt(n,e.pendingProps),i=Nt(n.type,i),Th(t,e,n,i,o);case 15:return Db(t,e,e.type,e.pendingProps,o);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Nt(n,i),Ll(t,e),e.tag=1,yt(n)?(t=!0,ha(e)):t=!1,Ni(e,o),Fb(e,n,i),Ap(e,n,i,o),jp(null,e,n,!0,t,o);case 19:return Lb(t,e,o);case 22:return Bb(t,e,o)}throw Error(I(156,e.tag))};function rx(t,e){return Tm(t,e)}function kz(t,e,o,n){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pt(t,e,o,n){return new kz(t,e,o,n)}function Id(t){return t=t.prototype,!(!t||!t.isReactComponent)}function wz(t){if(typeof t=="function")return Id(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Jy)return 11;if(t===ed)return 14}return 2}function rn(t,e){var o=t.alternate;return o===null?(o=Pt(t.tag,e,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=e,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,e=t.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function Hl(t,e,o,n,i,r){var s=2;if(n=t,typeof t=="function")Id(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case _i:return Un(o.children,i,r,e);case Qy:s=8,i|=8;break;case ep:return t=Pt(12,o,e,i|2),t.elementType=ep,t.lanes=r,t;case tp:return t=Pt(13,o,e,i),t.elementType=tp,t.lanes=r,t;case op:return t=Pt(19,o,e,i),t.elementType=op,t.lanes=r,t;case hm:return oc(o,i,r,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case dm:s=10;break e;case fm:s=9;break e;case Jy:s=11;break e;case ed:s=14;break e;case No:s=16,n=null;break e}throw Error(I(130,t==null?t:typeof t,""))}return e=Pt(s,o,e,i),e.elementType=t,e.type=n,e.lanes=r,e}function Un(t,e,o,n){return t=Pt(7,t,n,e),t.lanes=o,t}function oc(t,e,o,n){return t=Pt(22,t,n,e),t.elementType=hm,t.lanes=o,t.stateNode={isHidden:!1},t}function Vc(t,e,o){return t=Pt(6,t,null,e),t.lanes=o,t}function qc(t,e,o){return e=Pt(4,t.children!==null?t.children:[],t.key,e),e.lanes=o,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function vz(t,e,o,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rc(0),this.expirationTimes=Rc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rc(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Fd(t,e,o,n,i,r,s,l,a){return t=new vz(t,e,o,l,a),e===1?(e=1,r===!0&&(e|=8)):e=0,r=Pt(3,null,null,e),t.current=r,r.stateNode=t,r.memoizedState={element:n,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},bd(r),t}function zz(t,e,o){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ei,key:n==null?null:""+n,children:t,containerInfo:e,implementation:o}}function sx(t){if(!t)return ln;t=t._reactInternals;e:{if(ri(t)!==t||t.tag!==1)throw Error(I(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(yt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(I(171))}if(t.tag===1){var o=t.type;if(yt(o))return sb(t,o,e)}return e}function lx(t,e,o,n,i,r,s,l,a){return t=Fd(o,n,!0,t,i,r,s,l,a),t.context=sx(null),o=t.current,n=tt(),i=nn(o),r=Eo(n,i),r.callback=e??null,tn(o,r,i),t.current.lanes=i,Os(t,i,n),dt(t,n),t}function nc(t,e,o,n){var i=e.current,r=tt(),s=nn(i);return o=sx(o),e.context===null?e.context=o:e.pendingContext=o,e=Eo(r,s),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=tn(i,e,s),t!==null&&(Vt(t,i,s,r),Gl(t,i,s)),s}function Za(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function $h(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<e?o:e}}function Md(t,e){$h(t,e),(t=t.alternate)&&$h(t,e)}function Sz(){return null}var ax=typeof reportError=="function"?reportError:function(t){console.error(t)};function Od(t){this._internalRoot=t}ic.prototype.render=Od.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(I(409));nc(t,e,null,null)};ic.prototype.unmount=Od.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Xn(function(){nc(null,t,null,null)}),e[Ro]=null}};function ic(t){this._internalRoot=t}ic.prototype.unstable_scheduleHydration=function(t){if(t){var e=Bm();t={blockedOn:null,target:t,priority:e};for(var o=0;o<$o.length&&e!==0&&e<$o[o].priority;o++);$o.splice(o,0,t),o===0&&Um(t)}};function Dd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function rc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Wh(){}function Ez(t,e,o,n,i){if(i){if(typeof n=="function"){var r=n;n=function(){var c=Za(s);r.call(c)}}var s=lx(e,n,t,0,null,!1,!1,"",Wh);return t._reactRootContainer=s,t[Ro]=s.current,hs(t.nodeType===8?t.parentNode:t),Xn(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var c=Za(a);l.call(c)}}var a=Fd(t,0,!1,null,null,!1,!1,"",Wh);return t._reactRootContainer=a,t[Ro]=a.current,hs(t.nodeType===8?t.parentNode:t),Xn(function(){nc(e,a,o,n)}),a}function sc(t,e,o,n,i){var r=o._reactRootContainer;if(r){var s=r;if(typeof i=="function"){var l=i;i=function(){var a=Za(s);l.call(a)}}nc(e,s,t,i)}else s=Ez(o,e,t,i,n);return Za(s)}Om=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var o=Br(e.pendingLanes);o!==0&&(nd(e,o|1),dt(e,Ze()),!(se&6)&&(or=Ze()+500,hn()))}break;case 13:Xn(function(){var n=Ao(t,1);if(n!==null){var i=tt();Vt(n,t,1,i)}}),Md(t,1)}};id=function(t){if(t.tag===13){var e=Ao(t,134217728);if(e!==null){var o=tt();Vt(e,t,134217728,o)}Md(t,134217728)}};Dm=function(t){if(t.tag===13){var e=nn(t),o=Ao(t,e);if(o!==null){var n=tt();Vt(o,t,e,n)}Md(t,e)}};Bm=function(){return ye};Gm=function(t,e){var o=ye;try{return ye=t,e()}finally{ye=o}};yp=function(t,e,o){switch(e){case"input":if(rp(t,o),e=o.name,o.type==="radio"&&e!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<o.length;e++){var n=o[e];if(n!==t&&n.form===t.form){var i=Ya(n);if(!i)throw Error(I(90));mm(n),rp(n,i)}}}break;case"textarea":xm(t,o);break;case"select":e=o.value,e!=null&&Di(t,!!o.multiple,e,!1)}};_m=Pd;Cm=Xn;var _z={usingClientEntryPoint:!1,Events:[Bs,Ai,Ya,Sm,Em,Pd]},Cr={findFiberByHostInstance:Fn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Cz={bundleType:Cr.bundleType,version:Cr.version,rendererPackageName:Cr.rendererPackageName,rendererConfig:Cr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Io.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Am(t),t===null?null:t.stateNode},findFiberByHostInstance:Cr.findFiberByHostInstance||Sz,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cl.isDisabled&&cl.supportsFiber)try{Ha=cl.inject(Cz),ao=cl}catch{}}_t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_z;_t.createPortal=function(t,e){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dd(e))throw Error(I(200));return zz(t,e,null,o)};_t.createRoot=function(t,e){if(!Dd(t))throw Error(I(299));var o=!1,n="",i=ax;return e!=null&&(e.unstable_strictMode===!0&&(o=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Fd(t,1,!1,null,null,o,!1,n,i),t[Ro]=e.current,hs(t.nodeType===8?t.parentNode:t),new Od(e)};_t.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(I(188)):(t=Object.keys(t).join(","),Error(I(268,t)));return t=Am(e),t=t===null?null:t.stateNode,t};_t.flushSync=function(t){return Xn(t)};_t.hydrate=function(t,e,o){if(!rc(e))throw Error(I(200));return sc(null,t,e,!0,o)};_t.hydrateRoot=function(t,e,o){if(!Dd(t))throw Error(I(405));var n=o!=null&&o.hydratedSources||null,i=!1,r="",s=ax;if(o!=null&&(o.unstable_strictMode===!0&&(i=!0),o.identifierPrefix!==void 0&&(r=o.identifierPrefix),o.onRecoverableError!==void 0&&(s=o.onRecoverableError)),e=lx(e,null,t,1,o??null,i,!1,r,s),t[Ro]=e.current,hs(t),n)for(t=0;t<n.length;t++)o=n[t],i=o._getVersion,i=i(o._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[o,i]:e.mutableSourceEagerHydrationData.push(o,i);return new ic(e)};_t.render=function(t,e,o){if(!rc(e))throw Error(I(200));return sc(null,t,e,!1,o)};_t.unmountComponentAtNode=function(t){if(!rc(t))throw Error(I(40));return t._reactRootContainer?(Xn(function(){sc(null,null,t,!1,function(){t._reactRootContainer=null,t[Ro]=null})}),!0):!1};_t.unstable_batchedUpdates=Pd;_t.unstable_renderSubtreeIntoContainer=function(t,e,o,n){if(!rc(o))throw Error(I(200));if(t==null||t._reactInternals===void 0)throw Error(I(38));return sc(t,e,o,!1,n)};_t.version="18.3.1-next-f1338f8080-20240426";function cx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(cx)}catch(t){console.error(t)}}cx(),cm.exports=_t;var yr=cm.exports;const ux=ni(yr);var px,Hh=yr;px=Hh.createRoot,Hh.hydrateRoot;const Zz="modulepreload",Rz=function(t){return"/"+t},Xh={},Ra=function(e,o,n){let i=Promise.resolve();if(o&&o.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=s?.nonce||s?.getAttribute("nonce");i=Promise.allSettled(o.map(a=>{if(a=Rz(a),a in Xh)return;Xh[a]=!0;const c=a.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${u}`))return;const p=document.createElement("link");if(p.rel=c?"stylesheet":Zz,c||(p.as="script"),p.crossOrigin="",p.href=a,l&&p.setAttribute("nonce",l),document.head.appendChild(p),c)return new Promise((y,d)=>{p.addEventListener("load",y),p.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${a}`)))})}))}function r(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return i.then(s=>{for(const l of s||[])l.status==="rejected"&&r(l.reason);return e().catch(r)})};var N=(t=>(t.Application="application",t.WebGLPipes="webgl-pipes",t.WebGLPipesAdaptor="webgl-pipes-adaptor",t.WebGLSystem="webgl-system",t.WebGPUPipes="webgpu-pipes",t.WebGPUPipesAdaptor="webgpu-pipes-adaptor",t.WebGPUSystem="webgpu-system",t.CanvasSystem="canvas-system",t.CanvasPipesAdaptor="canvas-pipes-adaptor",t.CanvasPipes="canvas-pipes",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t.MaskEffect="mask-effect",t.BlendMode="blend-mode",t.TextureSource="texture-source",t.Environment="environment",t.ShapeBuilder="shape-builder",t.Batcher="batcher",t))(N||{});const Wp=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},ul=(t,e)=>Wp(t).priority??e,ot={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(Wp).forEach(e=>{e.type.forEach(o=>this._removeHandlers[o]?.(e))}),this},add(...t){return t.map(Wp).forEach(e=>{e.type.forEach(o=>{const n=this._addHandlers,i=this._queue;n[o]?n[o]?.(e):(i[o]=i[o]||[],i[o]?.push(e))})}),this},handle(t,e,o){const n=this._addHandlers,i=this._removeHandlers;if(n[t]||i[t])throw new Error(`Extension type ${t} already has a handler`);n[t]=e,i[t]=o;const r=this._queue;return r[t]&&(r[t]?.forEach(s=>e(s)),delete r[t]),this},handleByMap(t,e){return this.handle(t,o=>{o.name&&(e[o.name]=o.ref)},o=>{o.name&&delete e[o.name]})},handleByNamedList(t,e,o=-1){return this.handle(t,n=>{e.findIndex(r=>r.name===n.name)>=0||(e.push({name:n.name,value:n.ref}),e.sort((r,s)=>ul(s.value,o)-ul(r.value,o)))},n=>{const i=e.findIndex(r=>r.name===n.name);i!==-1&&e.splice(i,1)})},handleByList(t,e,o=-1){return this.handle(t,n=>{e.includes(n.ref)||(e.push(n.ref),e.sort((i,r)=>ul(r,o)-ul(i,o)))},n=>{const i=e.indexOf(n.ref);i!==-1&&e.splice(i,1)})}},Az={extension:{type:N.Environment,name:"browser",priority:-1},test:()=>!0,load:async()=>{await Ra(()=>import("./browserAll-Cb9vJcIl.js"),__vite__mapDeps([0,1,2]))}},Pz={extension:{type:N.Environment,name:"webworker",priority:0},test:()=>typeof self<"u"&&self.WorkerGlobalScope!==void 0,load:async()=>{await Ra(()=>import("./webworkerAll-pgVT25CK.js"),__vite__mapDeps([1,2]))}};class lt{constructor(e,o,n){this._x=o||0,this._y=n||0,this._observer=e}clone(e){return new lt(e??this._observer,this._x,this._y)}set(e=0,o=e){return(this._x!==e||this._y!==o)&&(this._x=e,this._y=o,this._observer._onUpdate(this)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this._observer._onUpdate(this)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}toString(){return`[pixi.js/math:ObservablePoint x=0 y=0 scope=${this._observer}]`}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this._observer._onUpdate(this))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this._observer._onUpdate(this))}}var yx={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,o="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(o=!1));function i(a,c,u){this.fn=a,this.context=c,this.once=u||!1}function r(a,c,u,p,y){if(typeof u!="function")throw new TypeError("The listener must be a function");var d=new i(u,p||a,y),g=o?o+c:c;return a._events[g]?a._events[g].fn?a._events[g]=[a._events[g],d]:a._events[g].push(d):(a._events[g]=d,a._eventsCount++),a}function s(a,c){--a._eventsCount===0?a._events=new n:delete a._events[c]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var c=[],u,p;if(this._eventsCount===0)return c;for(p in u=this._events)e.call(u,p)&&c.push(o?p.slice(1):p);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},l.prototype.listeners=function(c){var u=o?o+c:c,p=this._events[u];if(!p)return[];if(p.fn)return[p.fn];for(var y=0,d=p.length,g=new Array(d);y<d;y++)g[y]=p[y].fn;return g},l.prototype.listenerCount=function(c){var u=o?o+c:c,p=this._events[u];return p?p.fn?1:p.length:0},l.prototype.emit=function(c,u,p,y,d,g){var f=o?o+c:c;if(!this._events[f])return!1;var b=this._events[f],h=arguments.length,m,k;if(b.fn){switch(b.once&&this.removeListener(c,b.fn,void 0,!0),h){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,u),!0;case 3:return b.fn.call(b.context,u,p),!0;case 4:return b.fn.call(b.context,u,p,y),!0;case 5:return b.fn.call(b.context,u,p,y,d),!0;case 6:return b.fn.call(b.context,u,p,y,d,g),!0}for(k=1,m=new Array(h-1);k<h;k++)m[k-1]=arguments[k];b.fn.apply(b.context,m)}else{var w=b.length,v;for(k=0;k<w;k++)switch(b[k].once&&this.removeListener(c,b[k].fn,void 0,!0),h){case 1:b[k].fn.call(b[k].context);break;case 2:b[k].fn.call(b[k].context,u);break;case 3:b[k].fn.call(b[k].context,u,p);break;case 4:b[k].fn.call(b[k].context,u,p,y);break;default:if(!m)for(v=1,m=new Array(h-1);v<h;v++)m[v-1]=arguments[v];b[k].fn.apply(b[k].context,m)}}return!0},l.prototype.on=function(c,u,p){return r(this,c,u,p,!1)},l.prototype.once=function(c,u,p){return r(this,c,u,p,!0)},l.prototype.removeListener=function(c,u,p,y){var d=o?o+c:c;if(!this._events[d])return this;if(!u)return s(this,d),this;var g=this._events[d];if(g.fn)g.fn===u&&(!y||g.once)&&(!p||g.context===p)&&s(this,d);else{for(var f=0,b=[],h=g.length;f<h;f++)(g[f].fn!==u||y&&!g[f].once||p&&g[f].context!==p)&&b.push(g[f]);b.length?this._events[d]=b.length===1?b[0]:b:s(this,d)}return this},l.prototype.removeAllListeners=function(c){var u;return c?(u=o?o+c:c,this._events[u]&&s(this,u)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=o,l.EventEmitter=l,t.exports=l})(yx);var Tz=yx.exports;const Qt=ni(Tz),jz=Math.PI*2,Iz=180/Math.PI,nr=Math.PI/180;class Ye{constructor(e=0,o=0){this.x=0,this.y=0,this.x=e,this.y=o}clone(){return new Ye(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,o=e){return this.x=e,this.y=o,this}toString(){return`[pixi.js/math:Point x=${this.x} y=${this.y}]`}static get shared(){return Yc.x=0,Yc.y=0,Yc}}const Yc=new Ye;class le{constructor(e=1,o=0,n=0,i=1,r=0,s=0){this.array=null,this.a=e,this.b=o,this.c=n,this.d=i,this.tx=r,this.ty=s}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,o,n,i,r,s){return this.a=e,this.b=o,this.c=n,this.d=i,this.tx=r,this.ty=s,this}toArray(e,o){this.array||(this.array=new Float32Array(9));const n=o||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}apply(e,o){o=o||new Ye;const n=e.x,i=e.y;return o.x=this.a*n+this.c*i+this.tx,o.y=this.b*n+this.d*i+this.ty,o}applyInverse(e,o){o=o||new Ye;const n=this.a,i=this.b,r=this.c,s=this.d,l=this.tx,a=this.ty,c=1/(n*s+r*-i),u=e.x,p=e.y;return o.x=s*c*u+-r*c*p+(a*r-l*s)*c,o.y=n*c*p+-i*c*u+(-a*n+l*i)*c,o}translate(e,o){return this.tx+=e,this.ty+=o,this}scale(e,o){return this.a*=e,this.d*=o,this.c*=e,this.b*=o,this.tx*=e,this.ty*=o,this}rotate(e){const o=Math.cos(e),n=Math.sin(e),i=this.a,r=this.c,s=this.tx;return this.a=i*o-this.b*n,this.b=i*n+this.b*o,this.c=r*o-this.d*n,this.d=r*n+this.d*o,this.tx=s*o-this.ty*n,this.ty=s*n+this.ty*o,this}append(e){const o=this.a,n=this.b,i=this.c,r=this.d;return this.a=e.a*o+e.b*i,this.b=e.a*n+e.b*r,this.c=e.c*o+e.d*i,this.d=e.c*n+e.d*r,this.tx=e.tx*o+e.ty*i+this.tx,this.ty=e.tx*n+e.ty*r+this.ty,this}appendFrom(e,o){const n=e.a,i=e.b,r=e.c,s=e.d,l=e.tx,a=e.ty,c=o.a,u=o.b,p=o.c,y=o.d;return this.a=n*c+i*p,this.b=n*u+i*y,this.c=r*c+s*p,this.d=r*u+s*y,this.tx=l*c+a*p+o.tx,this.ty=l*u+a*y+o.ty,this}setTransform(e,o,n,i,r,s,l,a,c){return this.a=Math.cos(l+c)*r,this.b=Math.sin(l+c)*r,this.c=-Math.sin(l-a)*s,this.d=Math.cos(l-a)*s,this.tx=e-(n*this.a+i*this.c),this.ty=o-(n*this.b+i*this.d),this}prepend(e){const o=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const n=this.a,i=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=o*e.a+this.ty*e.c+e.tx,this.ty=o*e.b+this.ty*e.d+e.ty,this}decompose(e){const o=this.a,n=this.b,i=this.c,r=this.d,s=e.pivot,l=-Math.atan2(-i,r),a=Math.atan2(n,o),c=Math.abs(l+a);return c<1e-5||Math.abs(jz-c)<1e-5?(e.rotation=a,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=l,e.skew.y=a),e.scale.x=Math.sqrt(o*o+n*n),e.scale.y=Math.sqrt(i*i+r*r),e.position.x=this.tx+(s.x*o+s.y*i),e.position.y=this.ty+(s.x*n+s.y*r),e}invert(){const e=this.a,o=this.b,n=this.c,i=this.d,r=this.tx,s=e*i-o*n;return this.a=i/s,this.b=-o/s,this.c=-n/s,this.d=e/s,this.tx=(n*this.ty-i*r)/s,this.ty=-(e*this.ty-o*r)/s,this}isIdentity(){return this.a===1&&this.b===0&&this.c===0&&this.d===1&&this.tx===0&&this.ty===0}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new le;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}equals(e){return e.a===this.a&&e.b===this.b&&e.c===this.c&&e.d===this.d&&e.tx===this.tx&&e.ty===this.ty}toString(){return`[pixi.js:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return Mz.identity()}static get shared(){return Fz.identity()}}const Fz=new le,Mz=new le,En=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],_n=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Cn=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Zn=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Hp=[],dx=[],pl=Math.sign;function Oz(){for(let t=0;t<16;t++){const e=[];Hp.push(e);for(let o=0;o<16;o++){const n=pl(En[t]*En[o]+Cn[t]*_n[o]),i=pl(_n[t]*En[o]+Zn[t]*_n[o]),r=pl(En[t]*Cn[o]+Cn[t]*Zn[o]),s=pl(_n[t]*Cn[o]+Zn[t]*Zn[o]);for(let l=0;l<16;l++)if(En[l]===n&&_n[l]===i&&Cn[l]===r&&Zn[l]===s){e.push(l);break}}}for(let t=0;t<16;t++){const e=new le;e.set(En[t],_n[t],Cn[t],Zn[t],0,0),dx.push(e)}}Oz();const ke={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>En[t],uY:t=>_n[t],vX:t=>Cn[t],vY:t=>Zn[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>Hp[t][e],sub:(t,e)=>Hp[t][ke.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?ke.S:ke.N:Math.abs(e)*2<=Math.abs(t)?t>0?ke.E:ke.W:e>0?t>0?ke.SE:ke.SW:t>0?ke.NE:ke.NW,matrixAppendRotationInv:(t,e,o=0,n=0)=>{const i=dx[ke.inv(e)];i.tx=o,i.ty=n,t.append(i)}},yl=[new Ye,new Ye,new Ye,new Ye];class Te{constructor(e=0,o=0,n=0,i=0){this.type="rectangle",this.x=Number(e),this.y=Number(o),this.width=Number(n),this.height=Number(i)}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}isEmpty(){return this.left===this.right||this.top===this.bottom}static get EMPTY(){return new Te(0,0,0,0)}clone(){return new Te(this.x,this.y,this.width,this.height)}copyFromBounds(e){return this.x=e.minX,this.y=e.minY,this.width=e.maxX-e.minX,this.height=e.maxY-e.minY,this}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.copyFrom(this),e}contains(e,o){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&o>=this.y&&o<this.y+this.height}strokeContains(e,o,n){const{width:i,height:r}=this;if(i<=0||r<=0)return!1;const s=this.x,l=this.y,a=s-n/2,c=s+i+n/2,u=l-n/2,p=l+r+n/2,y=s+n/2,d=s+i-n/2,g=l+n/2,f=l+r-n/2;return e>=a&&e<=c&&o>=u&&o<=p&&!(e>y&&e<d&&o>g&&o<f)}intersects(e,o){if(!o){const S=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=S)return!1;const _=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>_}const n=this.left,i=this.right,r=this.top,s=this.bottom;if(i<=n||s<=r)return!1;const l=yl[0].set(e.left,e.top),a=yl[1].set(e.left,e.bottom),c=yl[2].set(e.right,e.top),u=yl[3].set(e.right,e.bottom);if(c.x<=l.x||a.y<=l.y)return!1;const p=Math.sign(o.a*o.d-o.b*o.c);if(p===0||(o.apply(l,l),o.apply(a,a),o.apply(c,c),o.apply(u,u),Math.max(l.x,a.x,c.x,u.x)<=n||Math.min(l.x,a.x,c.x,u.x)>=i||Math.max(l.y,a.y,c.y,u.y)<=r||Math.min(l.y,a.y,c.y,u.y)>=s))return!1;const y=p*(a.y-l.y),d=p*(l.x-a.x),g=y*n+d*r,f=y*i+d*r,b=y*n+d*s,h=y*i+d*s;if(Math.max(g,f,b,h)<=y*l.x+d*l.y||Math.min(g,f,b,h)>=y*u.x+d*u.y)return!1;const m=p*(l.y-c.y),k=p*(c.x-l.x),w=m*n+k*r,v=m*i+k*r,E=m*n+k*s,z=m*i+k*s;return!(Math.max(w,v,E,z)<=m*l.x+k*l.y||Math.min(w,v,E,z)>=m*u.x+k*u.y)}pad(e=0,o=e){return this.x-=e,this.y-=o,this.width+=e*2,this.height+=o*2,this}fit(e){const o=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),r=Math.min(this.y+this.height,e.y+e.height);return this.x=o,this.width=Math.max(n-o,0),this.y=i,this.height=Math.max(r-i,0),this}ceil(e=1,o=.001){const n=Math.ceil((this.x+this.width-o)*e)/e,i=Math.ceil((this.y+this.height-o)*e)/e;return this.x=Math.floor((this.x+o)*e)/e,this.y=Math.floor((this.y+o)*e)/e,this.width=n-this.x,this.height=i-this.y,this}enlarge(e){const o=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),r=Math.max(this.y+this.height,e.y+e.height);return this.x=o,this.width=n-o,this.y=i,this.height=r-i,this}getBounds(e){return e=e||new Te,e.copyFrom(this),e}toString(){return`[pixi.js/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}const Kc={default:-1};function je(t="default"){return Kc[t]===void 0&&(Kc[t]=-1),++Kc[t]}const Vh={},ue="8.0.0",Dz="8.3.4";function $(t,e,o=3){if(Vh[e])return;let n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`):(n=n.split(`
`).splice(o).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${t}`),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`),console.warn(n))),Vh[e]=!0}const fx=()=>{};function Aa(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function qh(t){return!(t&t-1)&&!!t}function Bz(t){const e={};for(const o in t)t[o]!==void 0&&(e[o]=t[o]);return e}const Yh=Object.create(null);function Gz(t){const e=Yh[t];return e===void 0&&(Yh[t]=je("resource")),e}const hx=class gx extends Qt{constructor(e={}){super(),this._resourceType="textureSampler",this._touched=0,this._maxAnisotropy=1,this.destroyed=!1,e={...gx.defaultOptions,...e},this.addressMode=e.addressMode,this.addressModeU=e.addressModeU??this.addressModeU,this.addressModeV=e.addressModeV??this.addressModeV,this.addressModeW=e.addressModeW??this.addressModeW,this.scaleMode=e.scaleMode,this.magFilter=e.magFilter??this.magFilter,this.minFilter=e.minFilter??this.minFilter,this.mipmapFilter=e.mipmapFilter??this.mipmapFilter,this.lodMinClamp=e.lodMinClamp,this.lodMaxClamp=e.lodMaxClamp,this.compare=e.compare,this.maxAnisotropy=e.maxAnisotropy??1}set addressMode(e){this.addressModeU=e,this.addressModeV=e,this.addressModeW=e}get addressMode(){return this.addressModeU}set wrapMode(e){$(ue,"TextureStyle.wrapMode is now TextureStyle.addressMode"),this.addressMode=e}get wrapMode(){return this.addressMode}set scaleMode(e){this.magFilter=e,this.minFilter=e,this.mipmapFilter=e}get scaleMode(){return this.magFilter}set maxAnisotropy(e){this._maxAnisotropy=Math.min(e,16),this._maxAnisotropy>1&&(this.scaleMode="linear")}get maxAnisotropy(){return this._maxAnisotropy}get _resourceId(){return this._sharedResourceId||this._generateResourceId()}update(){this.emit("change",this),this._sharedResourceId=null}_generateResourceId(){const e=`${this.addressModeU}-${this.addressModeV}-${this.addressModeW}-${this.magFilter}-${this.minFilter}-${this.mipmapFilter}-${this.lodMinClamp}-${this.lodMaxClamp}-${this.compare}-${this._maxAnisotropy}`;return this._sharedResourceId=Gz(e),this._resourceId}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this.removeAllListeners()}};hx.defaultOptions={addressMode:"clamp-to-edge",scaleMode:"linear"};let Uz=hx;const mx=class bx extends Qt{constructor(e={}){super(),this.options=e,this.uid=je("textureSource"),this._resourceType="textureSource",this._resourceId=je("resource"),this.uploadMethodId="unknown",this._resolution=1,this.pixelWidth=1,this.pixelHeight=1,this.width=1,this.height=1,this.sampleCount=1,this.mipLevelCount=1,this.autoGenerateMipmaps=!1,this.format="rgba8unorm",this.dimension="2d",this.antialias=!1,this._touched=0,this._batchTick=-1,this._textureBindLocation=-1,e={...bx.defaultOptions,...e},this.label=e.label??"",this.resource=e.resource,this.autoGarbageCollect=e.autoGarbageCollect,this._resolution=e.resolution,e.width?this.pixelWidth=e.width*this._resolution:this.pixelWidth=this.resource?this.resourceWidth??1:1,e.height?this.pixelHeight=e.height*this._resolution:this.pixelHeight=this.resource?this.resourceHeight??1:1,this.width=this.pixelWidth/this._resolution,this.height=this.pixelHeight/this._resolution,this.format=e.format,this.dimension=e.dimensions,this.mipLevelCount=e.mipLevelCount,this.autoGenerateMipmaps=e.autoGenerateMipmaps,this.sampleCount=e.sampleCount,this.antialias=e.antialias,this.alphaMode=e.alphaMode,this.style=new Uz(Bz(e)),this.destroyed=!1,this._refreshPOT()}get source(){return this}get style(){return this._style}set style(e){this.style!==e&&(this._style?.off("change",this._onStyleChange,this),this._style=e,this._style?.on("change",this._onStyleChange,this),this._onStyleChange())}get addressMode(){return this._style.addressMode}set addressMode(e){this._style.addressMode=e}get repeatMode(){return this._style.addressMode}set repeatMode(e){this._style.addressMode=e}get magFilter(){return this._style.magFilter}set magFilter(e){this._style.magFilter=e}get minFilter(){return this._style.minFilter}set minFilter(e){this._style.minFilter=e}get mipmapFilter(){return this._style.mipmapFilter}set mipmapFilter(e){this._style.mipmapFilter=e}get lodMinClamp(){return this._style.lodMinClamp}set lodMinClamp(e){this._style.lodMinClamp=e}get lodMaxClamp(){return this._style.lodMaxClamp}set lodMaxClamp(e){this._style.lodMaxClamp=e}_onStyleChange(){this.emit("styleChange",this)}update(){if(this.resource){const e=this._resolution;if(this.resize(this.resourceWidth/e,this.resourceHeight/e))return}this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._style&&(this._style.destroy(),this._style=null),this.uploadMethodId=null,this.resource=null,this.removeAllListeners()}unload(){this._resourceId=je("resource"),this.emit("change",this),this.emit("unload",this)}get resourceWidth(){const{resource:e}=this;return e.naturalWidth||e.videoWidth||e.displayWidth||e.width}get resourceHeight(){const{resource:e}=this;return e.naturalHeight||e.videoHeight||e.displayHeight||e.height}get resolution(){return this._resolution}set resolution(e){this._resolution!==e&&(this._resolution=e,this.width=this.pixelWidth/e,this.height=this.pixelHeight/e)}resize(e,o,n){n=n||this._resolution,e=e||this.width,o=o||this.height;const i=Math.round(e*n),r=Math.round(o*n);return this.width=i/n,this.height=r/n,this._resolution=n,this.pixelWidth===i&&this.pixelHeight===r?!1:(this._refreshPOT(),this.pixelWidth=i,this.pixelHeight=r,this.emit("resize",this),this._resourceId=je("resource"),this.emit("change",this),!0)}updateMipmaps(){this.autoGenerateMipmaps&&this.mipLevelCount>1&&this.emit("updateMipmaps",this)}set wrapMode(e){this._style.wrapMode=e}get wrapMode(){return this._style.wrapMode}set scaleMode(e){this._style.scaleMode=e}get scaleMode(){return this._style.scaleMode}_refreshPOT(){this.isPowerOfTwo=qh(this.pixelWidth)&&qh(this.pixelHeight)}static test(e){throw new Error("Unimplemented")}};mx.defaultOptions={resolution:1,format:"bgra8unorm",alphaMode:"premultiply-alpha-on-upload",dimensions:"2d",mipLevelCount:1,autoGenerateMipmaps:!1,sampleCount:1,antialias:!1,autoGarbageCollect:!1};let ft=mx;class Bd extends ft{constructor(e){const o=e.resource||new Float32Array(e.width*e.height*4);let n=e.format;n||(o instanceof Float32Array?n="rgba32float":o instanceof Int32Array||o instanceof Uint32Array?n="rgba32uint":o instanceof Int16Array||o instanceof Uint16Array?n="rgba16uint":(o instanceof Int8Array,n="bgra8unorm")),super({...e,resource:o,format:n}),this.uploadMethodId="buffer"}static test(e){return e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}Bd.extension=N.TextureSource;const Kh=new le;class Nz{constructor(e,o){this.mapCoord=new le,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,typeof o>"u"?this.clampMargin=e.width<10?0:.5:this.clampMargin=o,this.isSimple=!1,this.texture=e}get texture(){return this._texture}set texture(e){this.texture!==e&&(this._texture?.removeListener("update",this.update,this),this._texture=e,this._texture.addListener("update",this.update,this),this.update())}multiplyUvs(e,o){o===void 0&&(o=e);const n=this.mapCoord;for(let i=0;i<e.length;i+=2){const r=e[i],s=e[i+1];o[i]=r*n.a+s*n.c+n.tx,o[i+1]=r*n.b+s*n.d+n.ty}return o}update(){const e=this._texture;this._updateID++;const o=e.uvs;this.mapCoord.set(o.x1-o.x0,o.y1-o.y0,o.x3-o.x0,o.y3-o.y0,o.x0,o.y0);const n=e.orig,i=e.trim;i&&(Kh.set(n.width/i.width,0,0,n.height/i.height,-i.x/i.width,-i.y/i.height),this.mapCoord.append(Kh));const r=e.source,s=this.uClampFrame,l=this.clampMargin/r._resolution,a=this.clampOffset/r._resolution;return s[0]=(e.frame.x+l+a)/r.width,s[1]=(e.frame.y+l+a)/r.height,s[2]=(e.frame.x+e.frame.width-l+a)/r.width,s[3]=(e.frame.y+e.frame.height-l+a)/r.height,this.uClampOffset[0]=this.clampOffset/r.pixelWidth,this.uClampOffset[1]=this.clampOffset/r.pixelHeight,this.isSimple=e.frame.width===r.width&&e.frame.height===r.height&&e.rotate===0,!0}}class q extends Qt{constructor({source:e,label:o,frame:n,orig:i,trim:r,defaultAnchor:s,defaultBorders:l,rotate:a,dynamic:c}={}){if(super(),this.uid=je("texture"),this.uvs={x0:0,y0:0,x1:0,y1:0,x2:0,y2:0,x3:0,y3:0},this.frame=new Te,this.noFrame=!1,this.dynamic=!1,this.isTexture=!0,this.label=o,this.source=e?.source??new ft,this.noFrame=!n,n)this.frame.copyFrom(n);else{const{width:u,height:p}=this._source;this.frame.width=u,this.frame.height=p}this.orig=i||this.frame,this.trim=r,this.rotate=a??0,this.defaultAnchor=s,this.defaultBorders=l,this.destroyed=!1,this.dynamic=c||!1,this.updateUvs()}set source(e){this._source&&this._source.off("resize",this.update,this),this._source=e,e.on("resize",this.update,this),this.emit("update",this)}get source(){return this._source}get textureMatrix(){return this._textureMatrix||(this._textureMatrix=new Nz(this)),this._textureMatrix}get width(){return this.orig.width}get height(){return this.orig.height}updateUvs(){const{uvs:e,frame:o}=this,{width:n,height:i}=this._source,r=o.x/n,s=o.y/i,l=o.width/n,a=o.height/i;let c=this.rotate;if(c){const u=l/2,p=a/2,y=r+u,d=s+p;c=ke.add(c,ke.NW),e.x0=y+u*ke.uX(c),e.y0=d+p*ke.uY(c),c=ke.add(c,2),e.x1=y+u*ke.uX(c),e.y1=d+p*ke.uY(c),c=ke.add(c,2),e.x2=y+u*ke.uX(c),e.y2=d+p*ke.uY(c),c=ke.add(c,2),e.x3=y+u*ke.uX(c),e.y3=d+p*ke.uY(c)}else e.x0=r,e.y0=s,e.x1=r+l,e.y1=s,e.x2=r+l,e.y2=s+a,e.x3=r,e.y3=s+a}destroy(e=!1){this._source&&e&&(this._source.destroy(),this._source=null),this._textureMatrix=null,this.destroyed=!0,this.emit("destroy",this),this.removeAllListeners()}update(){this.noFrame&&(this.frame.width=this._source.width,this.frame.height=this._source.height),this.updateUvs(),this.emit("update",this)}get baseTexture(){return $(ue,"Texture.baseTexture is now Texture.source"),this._source}}q.EMPTY=new q({label:"EMPTY",source:new ft({label:"EMPTY"})});q.EMPTY.destroy=fx;q.WHITE=new q({source:new Bd({resource:new Uint8Array([255,255,255,255]),width:1,height:1,alphaMode:"premultiply-alpha-on-upload",label:"WHITE"}),label:"WHITE"});q.WHITE.destroy=fx;function Lz(t,e,o,n){const{width:i,height:r}=o.orig,s=o.trim;if(s){const l=s.width,a=s.height;t.minX=s.x-e._x*i-n,t.maxX=t.minX+l,t.minY=s.y-e._y*r-n,t.maxY=t.minY+a}else t.minX=-e._x*i-n,t.maxX=t.minX+i,t.minY=-e._y*r-n,t.maxY=t.minY+r}const Qh=new le;class uo{constructor(e=1/0,o=1/0,n=-1/0,i=-1/0){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=Qh,this.minX=e,this.minY=o,this.maxX=n,this.maxY=i}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}get rectangle(){this._rectangle||(this._rectangle=new Te);const e=this._rectangle;return this.minX>this.maxX||this.minY>this.maxY?(e.x=0,e.y=0,e.width=0,e.height=0):e.copyFromBounds(this),e}clear(){return this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=Qh,this}set(e,o,n,i){this.minX=e,this.minY=o,this.maxX=n,this.maxY=i}addFrame(e,o,n,i,r){r||(r=this.matrix);const s=r.a,l=r.b,a=r.c,c=r.d,u=r.tx,p=r.ty;let y=this.minX,d=this.minY,g=this.maxX,f=this.maxY,b=s*e+a*o+u,h=l*e+c*o+p;b<y&&(y=b),h<d&&(d=h),b>g&&(g=b),h>f&&(f=h),b=s*n+a*o+u,h=l*n+c*o+p,b<y&&(y=b),h<d&&(d=h),b>g&&(g=b),h>f&&(f=h),b=s*e+a*i+u,h=l*e+c*i+p,b<y&&(y=b),h<d&&(d=h),b>g&&(g=b),h>f&&(f=h),b=s*n+a*i+u,h=l*n+c*i+p,b<y&&(y=b),h<d&&(d=h),b>g&&(g=b),h>f&&(f=h),this.minX=y,this.minY=d,this.maxX=g,this.maxY=f}addRect(e,o){this.addFrame(e.x,e.y,e.x+e.width,e.y+e.height,o)}addBounds(e,o){this.addFrame(e.minX,e.minY,e.maxX,e.maxY,o)}addBoundsMask(e){this.minX=this.minX>e.minX?this.minX:e.minX,this.minY=this.minY>e.minY?this.minY:e.minY,this.maxX=this.maxX<e.maxX?this.maxX:e.maxX,this.maxY=this.maxY<e.maxY?this.maxY:e.maxY}applyMatrix(e){const o=this.minX,n=this.minY,i=this.maxX,r=this.maxY,{a:s,b:l,c:a,d:c,tx:u,ty:p}=e;let y=s*o+a*n+u,d=l*o+c*n+p;this.minX=y,this.minY=d,this.maxX=y,this.maxY=d,y=s*i+a*n+u,d=l*i+c*n+p,this.minX=y<this.minX?y:this.minX,this.minY=d<this.minY?d:this.minY,this.maxX=y>this.maxX?y:this.maxX,this.maxY=d>this.maxY?d:this.maxY,y=s*o+a*r+u,d=l*o+c*r+p,this.minX=y<this.minX?y:this.minX,this.minY=d<this.minY?d:this.minY,this.maxX=y>this.maxX?y:this.maxX,this.maxY=d>this.maxY?d:this.maxY,y=s*i+a*r+u,d=l*i+c*r+p,this.minX=y<this.minX?y:this.minX,this.minY=d<this.minY?d:this.minY,this.maxX=y>this.maxX?y:this.maxX,this.maxY=d>this.maxY?d:this.maxY}fit(e){return this.minX<e.left&&(this.minX=e.left),this.maxX>e.right&&(this.maxX=e.right),this.minY<e.top&&(this.minY=e.top),this.maxY>e.bottom&&(this.maxY=e.bottom),this}fitBounds(e,o,n,i){return this.minX<e&&(this.minX=e),this.maxX>o&&(this.maxX=o),this.minY<n&&(this.minY=n),this.maxY>i&&(this.maxY=i),this}pad(e,o=e){return this.minX-=e,this.maxX+=e,this.minY-=o,this.maxY+=o,this}ceil(){return this.minX=Math.floor(this.minX),this.minY=Math.floor(this.minY),this.maxX=Math.ceil(this.maxX),this.maxY=Math.ceil(this.maxY),this}clone(){return new uo(this.minX,this.minY,this.maxX,this.maxY)}scale(e,o=e){return this.minX*=e,this.minY*=o,this.maxX*=e,this.maxY*=o,this}get x(){return this.minX}set x(e){const o=this.maxX-this.minX;this.minX=e,this.maxX=e+o}get y(){return this.minY}set y(e){const o=this.maxY-this.minY;this.minY=e,this.maxY=e+o}get width(){return this.maxX-this.minX}set width(e){this.maxX=this.minX+e}get height(){return this.maxY-this.minY}set height(e){this.maxY=this.minY+e}get left(){return this.minX}get right(){return this.maxX}get top(){return this.minY}get bottom(){return this.maxY}get isPositive(){return this.maxX-this.minX>0&&this.maxY-this.minY>0}get isValid(){return this.minX+this.minY!==1/0}addVertexData(e,o,n,i){let r=this.minX,s=this.minY,l=this.maxX,a=this.maxY;i||(i=this.matrix);const c=i.a,u=i.b,p=i.c,y=i.d,d=i.tx,g=i.ty;for(let f=o;f<n;f+=2){const b=e[f],h=e[f+1],m=c*b+p*h+d,k=u*b+y*h+g;r=m<r?m:r,s=k<s?k:s,l=m>l?m:l,a=k>a?k:a}this.minX=r,this.minY=s,this.maxX=l,this.maxY=a}containsPoint(e,o){return this.minX<=e&&this.minY<=o&&this.maxX>=e&&this.maxY>=o}toString(){return`[pixi.js:Bounds minX=${this.minX} minY=${this.minY} maxX=${this.maxX} maxY=${this.maxY} width=${this.width} height=${this.height}]`}}var $z={grad:.9,turn:360,rad:360/(2*Math.PI)},go=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},Be=function(t,e,o){return e===void 0&&(e=0),o===void 0&&(o=Math.pow(10,e)),Math.round(o*t)/o+0},Tt=function(t,e,o){return e===void 0&&(e=0),o===void 0&&(o=1),t>o?o:t>e?t:e},xx=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},Jh=function(t){return{r:Tt(t.r,0,255),g:Tt(t.g,0,255),b:Tt(t.b,0,255),a:Tt(t.a)}},Qc=function(t){return{r:Be(t.r),g:Be(t.g),b:Be(t.b),a:Be(t.a,3)}},Wz=/^#([0-9a-f]{3,8})$/i,dl=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},kx=function(t){var e=t.r,o=t.g,n=t.b,i=t.a,r=Math.max(e,o,n),s=r-Math.min(e,o,n),l=s?r===e?(o-n)/s:r===o?2+(n-e)/s:4+(e-o)/s:0;return{h:60*(l<0?l+6:l),s:r?s/r*100:0,v:r/255*100,a:i}},wx=function(t){var e=t.h,o=t.s,n=t.v,i=t.a;e=e/360*6,o/=100,n/=100;var r=Math.floor(e),s=n*(1-o),l=n*(1-(e-r)*o),a=n*(1-(1-e+r)*o),c=r%6;return{r:255*[n,l,s,s,a,n][c],g:255*[a,n,n,l,s,s][c],b:255*[s,s,a,n,n,l][c],a:i}},eg=function(t){return{h:xx(t.h),s:Tt(t.s,0,100),l:Tt(t.l,0,100),a:Tt(t.a)}},tg=function(t){return{h:Be(t.h),s:Be(t.s),l:Be(t.l),a:Be(t.a,3)}},og=function(t){return wx((o=(e=t).s,{h:e.h,s:(o*=((n=e.l)<50?n:100-n)/100)>0?2*o/(n+o)*100:0,v:n+o,a:e.a}));var e,o,n},os=function(t){return{h:(e=kx(t)).h,s:(i=(200-(o=e.s))*(n=e.v)/100)>0&&i<200?o*n/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,o,n,i},Hz=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Xz=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Vz=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,qz=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Xp={string:[[function(t){var e=Wz.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?Be(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?Be(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=Vz.exec(t)||qz.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:Jh({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=Hz.exec(t)||Xz.exec(t);if(!e)return null;var o,n,i=eg({h:(o=e[1],n=e[2],n===void 0&&(n="deg"),Number(o)*($z[n]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return og(i)},"hsl"]],object:[[function(t){var e=t.r,o=t.g,n=t.b,i=t.a,r=i===void 0?1:i;return go(e)&&go(o)&&go(n)?Jh({r:Number(e),g:Number(o),b:Number(n),a:Number(r)}):null},"rgb"],[function(t){var e=t.h,o=t.s,n=t.l,i=t.a,r=i===void 0?1:i;if(!go(e)||!go(o)||!go(n))return null;var s=eg({h:Number(e),s:Number(o),l:Number(n),a:Number(r)});return og(s)},"hsl"],[function(t){var e=t.h,o=t.s,n=t.v,i=t.a,r=i===void 0?1:i;if(!go(e)||!go(o)||!go(n))return null;var s=function(l){return{h:xx(l.h),s:Tt(l.s,0,100),v:Tt(l.v,0,100),a:Tt(l.a)}}({h:Number(e),s:Number(o),v:Number(n),a:Number(r)});return wx(s)},"hsv"]]},ng=function(t,e){for(var o=0;o<e.length;o++){var n=e[o][0](t);if(n)return[n,e[o][1]]}return[null,void 0]},Yz=function(t){return typeof t=="string"?ng(t.trim(),Xp.string):typeof t=="object"&&t!==null?ng(t,Xp.object):[null,void 0]},Jc=function(t,e){var o=os(t);return{h:o.h,s:Tt(o.s+100*e,0,100),l:o.l,a:o.a}},eu=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},ig=function(t,e){var o=os(t);return{h:o.h,s:o.s,l:Tt(o.l+100*e,0,100),a:o.a}},Vp=function(){function t(e){this.parsed=Yz(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return Be(eu(this.rgba),2)},t.prototype.isDark=function(){return eu(this.rgba)<.5},t.prototype.isLight=function(){return eu(this.rgba)>=.5},t.prototype.toHex=function(){return e=Qc(this.rgba),o=e.r,n=e.g,i=e.b,s=(r=e.a)<1?dl(Be(255*r)):"","#"+dl(o)+dl(n)+dl(i)+s;var e,o,n,i,r,s},t.prototype.toRgb=function(){return Qc(this.rgba)},t.prototype.toRgbString=function(){return e=Qc(this.rgba),o=e.r,n=e.g,i=e.b,(r=e.a)<1?"rgba("+o+", "+n+", "+i+", "+r+")":"rgb("+o+", "+n+", "+i+")";var e,o,n,i,r},t.prototype.toHsl=function(){return tg(os(this.rgba))},t.prototype.toHslString=function(){return e=tg(os(this.rgba)),o=e.h,n=e.s,i=e.l,(r=e.a)<1?"hsla("+o+", "+n+"%, "+i+"%, "+r+")":"hsl("+o+", "+n+"%, "+i+"%)";var e,o,n,i,r},t.prototype.toHsv=function(){return e=kx(this.rgba),{h:Be(e.h),s:Be(e.s),v:Be(e.v),a:Be(e.a,3)};var e},t.prototype.invert=function(){return oo({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),oo(Jc(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),oo(Jc(this.rgba,-e))},t.prototype.grayscale=function(){return oo(Jc(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),oo(ig(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),oo(ig(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?oo({r:(o=this.rgba).r,g:o.g,b:o.b,a:e}):Be(this.rgba.a,3);var o},t.prototype.hue=function(e){var o=os(this.rgba);return typeof e=="number"?oo({h:e,s:o.s,l:o.l,a:o.a}):Be(o.h)},t.prototype.isEqual=function(e){return this.toHex()===oo(e).toHex()},t}(),oo=function(t){return t instanceof Vp?t:new Vp(t)},rg=[],Kz=function(t){t.forEach(function(e){rg.indexOf(e)<0&&(e(Vp,Xp),rg.push(e))})};function Qz(t,e){var o={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var i in o)n[o[i]]=i;var r={};t.prototype.toName=function(s){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var l,a,c=n[this.toHex()];if(c)return c;if(s?.closest){var u=this.toRgb(),p=1/0,y="black";if(!r.length)for(var d in o)r[d]=new t(o[d]).toRgb();for(var g in o){var f=(l=u,a=r[g],Math.pow(l.r-a.r,2)+Math.pow(l.g-a.g,2)+Math.pow(l.b-a.b,2));f<p&&(p=f,y=g)}return y}},e.string.push([function(s){var l=s.toLowerCase(),a=l==="transparent"?"#0000":o[l];return a?new t(a).toRgb():null},"name"])}Kz([Qz]);const ir=class Ur{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof Ur)this._value=this._cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set Color#value to null");(this._value===null||!this._isSourceEqual(this._value,e))&&(this._value=this._cloneSource(e),this._normalize(this._value))}}get value(){return this._value}_cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?{...e}:e}_isSourceEqual(e,o){const n=typeof e;if(n!==typeof o)return!1;if(n==="number"||n==="string"||e instanceof Number)return e===o;if(Array.isArray(e)&&Array.isArray(o)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(o))return e.length!==o.length?!1:e.every((r,s)=>r===o[s]);if(e!==null&&o!==null){const r=Object.keys(e),s=Object.keys(o);return r.length!==s.length?!1:r.every(l=>e[l]===o[l])}return e===o}toRgba(){const[e,o,n,i]=this._components;return{r:e,g:o,b:n,a:i}}toRgb(){const[e,o,n]=this._components;return{r:e,g:o,b:n}}toRgbaString(){const[e,o,n]=this.toUint8RgbArray();return`rgba(${e},${o},${n},${this.alpha})`}toUint8RgbArray(e){const[o,n,i]=this._components;return this._arrayRgb||(this._arrayRgb=[]),e=e||this._arrayRgb,e[0]=Math.round(o*255),e[1]=Math.round(n*255),e[2]=Math.round(i*255),e}toArray(e){this._arrayRgba||(this._arrayRgba=[]),e=e||this._arrayRgba;const[o,n,i,r]=this._components;return e[0]=o,e[1]=n,e[2]=i,e[3]=r,e}toRgbArray(e){this._arrayRgb||(this._arrayRgb=[]),e=e||this._arrayRgb;const[o,n,i]=this._components;return e[0]=o,e[1]=n,e[2]=i,e}toNumber(){return this._int}toBgrNumber(){const[e,o,n]=this.toUint8RgbArray();return(n<<16)+(o<<8)+e}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const[o,n,i,r]=Ur._temp.setValue(e)._components;return this._components[0]*=o,this._components[1]*=n,this._components[2]*=i,this._components[3]*=r,this._refreshInt(),this._value=null,this}premultiply(e,o=!0){return o&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this._refreshInt(),this._value=null,this}toPremultiplied(e,o=!0){if(e===1)return(255<<24)+this._int;if(e===0)return o?0:this._int;let n=this._int>>16&255,i=this._int>>8&255,r=this._int&255;return o&&(n=n*e+.5|0,i=i*e+.5|0,r=r*e+.5|0),(e*255<<24)+(n<<16)+(i<<8)+r}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const o=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-o.length)+o}setAlpha(e){return this._components[3]=this._clamp(e),this}_normalize(e){let o,n,i,r;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){const s=e;o=(s>>16&255)/255,n=(s>>8&255)/255,i=(s&255)/255,r=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[o,n,i,r=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[o,n,i,r=255]=e,o/=255,n/=255,i/=255,r/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){const l=Ur.HEX_PATTERN.exec(e);l&&(e=`#${l[2]}`)}const s=oo(e);s.isValid()&&({r:o,g:n,b:i,a:r}=s.rgba,o/=255,n/=255,i/=255)}if(o!==void 0)this._components[0]=o,this._components[1]=n,this._components[2]=i,this._components[3]=r,this._refreshInt();else throw new Error(`Unable to convert color ${e}`)}_refreshInt(){this._clamp(this._components);const[e,o,n]=this._components;this._int=(e*255<<16)+(o*255<<8)+(n*255|0)}_clamp(e,o=0,n=1){return typeof e=="number"?Math.min(Math.max(e,o),n):(e.forEach((i,r)=>{e[r]=Math.min(Math.max(i,o),n)}),e)}static isColorLike(e){return typeof e=="number"||typeof e=="string"||e instanceof Number||e instanceof Ur||Array.isArray(e)||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Float32Array||e.r!==void 0&&e.g!==void 0&&e.b!==void 0||e.r!==void 0&&e.g!==void 0&&e.b!==void 0&&e.a!==void 0||e.h!==void 0&&e.s!==void 0&&e.l!==void 0||e.h!==void 0&&e.s!==void 0&&e.l!==void 0&&e.a!==void 0||e.h!==void 0&&e.s!==void 0&&e.v!==void 0||e.h!==void 0&&e.s!==void 0&&e.v!==void 0&&e.a!==void 0}};ir.shared=new ir;ir._temp=new ir;ir.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let K=ir;const Jz={cullArea:null,cullable:!1,cullableChildren:!0};class Gd{constructor(e,o){this._pool=[],this._count=0,this._index=0,this._classType=e,o&&this.prepopulate(o)}prepopulate(e){for(let o=0;o<e;o++)this._pool[this._index++]=new this._classType;this._count+=e}get(e){let o;return this._index>0?o=this._pool[--this._index]:o=new this._classType,o.init?.(e),o}return(e){e.reset?.(),this._pool[this._index++]=e}get totalSize(){return this._count}get totalFree(){return this._index}get totalUsed(){return this._count-this._index}clear(){this._pool.length=0,this._index=0}}class e4{constructor(){this._poolsByClass=new Map}prepopulate(e,o){this.getPool(e).prepopulate(o)}get(e,o){return this.getPool(e).get(o)}return(e){this.getPool(e.constructor).return(e)}getPool(e){return this._poolsByClass.has(e)||this._poolsByClass.set(e,new Gd(e)),this._poolsByClass.get(e)}stats(){const e={};return this._poolsByClass.forEach(o=>{const n=e[o._classType.name]?o._classType.name+o._classType.ID:o._classType.name;e[n]={free:o.totalFree,used:o.totalUsed,size:o.totalSize}}),e}}const _o=new e4;function t4(t,e,o){const n=t.length;let i;if(e>=n||o===0)return;o=e+o>n?n-e:o;const r=n-o;for(i=e;i<r;++i)t[i]=t[i+o];t.length=r}const o4={allowChildren:!0,removeChildren(t=0,e){const o=e??this.children.length,n=o-t,i=[];if(n>0&&n<=o){for(let s=o-1;s>=t;s--){const l=this.children[s];l&&(i.push(l),l.parent=null)}t4(this.children,t,o);const r=this.renderGroup||this.parentRenderGroup;r&&r.removeChildren(i);for(let s=0;s<i.length;++s)this.emit("childRemoved",i[s],this,s),i[s].emit("removed",this);return i}else if(n===0&&this.children.length===0)return i;throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},removeChildAt(t){const e=this.getChildAt(t);return this.removeChild(e)},getChildAt(t){if(t<0||t>=this.children.length)throw new Error(`getChildAt: Index (${t}) does not exist.`);return this.children[t]},setChildIndex(t,e){if(e<0||e>=this.children.length)throw new Error(`The index ${e} supplied is out of bounds ${this.children.length}`);this.getChildIndex(t),this.addChildAt(t,e)},getChildIndex(t){const e=this.children.indexOf(t);if(e===-1)throw new Error("The supplied Container must be a child of the caller");return e},addChildAt(t,e){this.allowChildren||$(ue,"addChildAt: Only Containers will be allowed to add children in v8.0.0");const{children:o}=this;if(e<0||e>o.length)throw new Error(`${t}addChildAt: The index ${e} supplied is out of bounds ${o.length}`);if(t.parent){const i=t.parent.children.indexOf(t);if(t.parent===this&&i===e)return t;i!==-1&&t.parent.children.splice(i,1)}e===o.length?o.push(t):o.splice(e,0,t),t.parent=this,t.didChange=!0,t.didViewUpdate=!1,t._updateFlags=15;const n=this.renderGroup||this.parentRenderGroup;return n&&n.addChild(t),this.sortableChildren&&(this.sortDirty=!0),this.emit("childAdded",t,this,e),t.emit("added",this),t},swapChildren(t,e){if(t===e)return;const o=this.getChildIndex(t),n=this.getChildIndex(e);this.children[o]=e,this.children[n]=t;const i=this.renderGroup||this.parentRenderGroup;i&&(i.structureDidChange=!0),this._didContainerChangeTick++},removeFromParent(){this.parent?.removeChild(this)},reparentChild(...t){return t.length===1?this.reparentChildAt(t[0],this.children.length):(t.forEach(e=>this.reparentChildAt(e,this.children.length)),t[0])},reparentChildAt(t,e){if(t.parent===this)return this.setChildIndex(t,e),t;const o=t.worldTransform.clone();t.removeFromParent(),this.addChildAt(t,e);const n=this.worldTransform.clone();return n.invert(),o.prepend(n),t.setFromMatrix(o),t}};class sg{constructor(){this.pipe="filter",this.priority=1}destroy(){for(let e=0;e<this.filters.length;e++)this.filters[e].destroy();this.filters=null,this.filterArea=null}}class n4{constructor(){this._effectClasses=[],this._tests=[],this._initialized=!1}init(){this._initialized||(this._initialized=!0,this._effectClasses.forEach(e=>{this.add({test:e.test,maskClass:e})}))}add(e){this._tests.push(e)}getMaskEffect(e){this._initialized||this.init();for(let o=0;o<this._tests.length;o++){const n=this._tests[o];if(n.test(e))return _o.get(n.maskClass,e)}return e}returnMaskEffect(e){_o.return(e)}}const qp=new n4;ot.handleByList(N.MaskEffect,qp._effectClasses);const i4={_maskEffect:null,_filterEffect:null,effects:[],addEffect(t){if(this.effects.indexOf(t)!==-1)return;this.effects.push(t),this.effects.sort((n,i)=>n.priority-i.priority);const o=this.renderGroup||this.parentRenderGroup;o&&(o.structureDidChange=!0),this._updateIsSimple()},removeEffect(t){const e=this.effects.indexOf(t);e!==-1&&(this.effects.splice(e,1),this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateIsSimple())},set mask(t){const e=this._maskEffect;e?.mask!==t&&(e&&(this.removeEffect(e),qp.returnMaskEffect(e),this._maskEffect=null),t!=null&&(this._maskEffect=qp.getMaskEffect(t),this.addEffect(this._maskEffect)))},get mask(){return this._maskEffect?.mask},set filters(t){!Array.isArray(t)&&t&&(t=[t]);const e=this._filterEffect||(this._filterEffect=new sg);t=t;const o=t?.length>0,n=e.filters?.length>0,i=o!==n;t=Array.isArray(t)?t.slice(0):t,e.filters=Object.freeze(t),i&&(o?this.addEffect(e):(this.removeEffect(e),e.filters=t??null))},get filters(){return this._filterEffect?.filters},set filterArea(t){this._filterEffect||(this._filterEffect=new sg),this._filterEffect.filterArea=t},get filterArea(){return this._filterEffect?.filterArea}},r4={label:null,get name(){return $(ue,"Container.name property has been removed, use Container.label instead"),this.label},set name(t){$(ue,"Container.name property has been removed, use Container.label instead"),this.label=t},getChildByName(t,e=!1){return this.getChildByLabel(t,e)},getChildByLabel(t,e=!1){const o=this.children;for(let n=0;n<o.length;n++){const i=o[n];if(i.label===t||t instanceof RegExp&&t.test(i.label))return i}if(e)for(let n=0;n<o.length;n++){const r=o[n].getChildByLabel(t,!0);if(r)return r}return null},getChildrenByLabel(t,e=!1,o=[]){const n=this.children;for(let i=0;i<n.length;i++){const r=n[i];(r.label===t||t instanceof RegExp&&t.test(r.label))&&o.push(r)}if(e)for(let i=0;i<n.length;i++)n[i].getChildrenByLabel(t,!0,o);return o}},Co=new Gd(le),rr=new Gd(uo);function vx(t,e,o){o.clear();let n,i;return t.parent?e?n=t.parent.worldTransform:(i=Co.get().identity(),n=Pa(t,i)):n=le.IDENTITY,zx(t,o,n,e),i&&Co.return(i),o.isValid||o.set(0,0,0,0),o}function zx(t,e,o,n){if(!t.visible||!t.measurable)return;let i;n?i=t.worldTransform:(t.updateLocalTransform(),i=Co.get(),i.appendFrom(t.localTransform,o));const r=e,s=!!t.effects.length;if(s&&(e=rr.get().clear()),t.boundsArea)e.addRect(t.boundsArea,i);else{t.addBounds&&(e.matrix=i,t.addBounds(e));for(let l=0;l<t.children.length;l++)zx(t.children[l],e,i,n)}if(s){for(let l=0;l<t.effects.length;l++)t.effects[l].addBounds?.(e);r.addBounds(e,le.IDENTITY),rr.return(e)}n||Co.return(i)}function Pa(t,e){const o=t.parent;return o&&(Pa(o,e),o.updateLocalTransform(),e.append(o.localTransform)),e}let tu=0;const lg=500;function Ie(...t){tu!==lg&&(tu++,tu===lg?console.warn("PixiJS Warning: too many warnings, no more warnings will be reported to the console by PixiJS."):console.warn("PixiJS Warning: ",...t))}function Sx(t,e,o){return e.clear(),o||(o=le.IDENTITY),Ex(t,e,o,t,!0),e.isValid||e.set(0,0,0,0),e}function Ex(t,e,o,n,i){let r;if(i)r=Co.get(),r=o.copyTo(r);else{if(!t.visible||!t.measurable)return;t.updateLocalTransform();const a=t.localTransform;r=Co.get(),r.appendFrom(a,o)}const s=e,l=!!t.effects.length;if(l&&(e=rr.get().clear()),t.boundsArea)e.addRect(t.boundsArea,r);else{t.renderPipeId&&(e.matrix=r,t.addBounds(e));const a=t.children;for(let c=0;c<a.length;c++)Ex(a[c],e,r,n,!1)}if(l){for(let a=0;a<t.effects.length;a++)t.effects[a].addLocalBounds?.(e,n);s.addBounds(e,le.IDENTITY),rr.return(e)}Co.return(r)}function _x(t,e){const o=t.children;for(let n=0;n<o.length;n++){const i=o[n],r=i.uid,s=(i._didViewChangeTick&65535)<<16|i._didContainerChangeTick&65535,l=e.index;(e.data[l]!==r||e.data[l+1]!==s)&&(e.data[e.index]=r,e.data[e.index+1]=s,e.didChange=!0),e.index=l+2,i.children.length&&_x(i,e)}return e.didChange}const s4=new le,l4={_localBoundsCacheId:-1,_localBoundsCacheData:null,_setWidth(t,e){const o=Math.sign(this.scale.x)||1;e!==0?this.scale.x=t/e*o:this.scale.x=o},_setHeight(t,e){const o=Math.sign(this.scale.y)||1;e!==0?this.scale.y=t/e*o:this.scale.y=o},getLocalBounds(){this._localBoundsCacheData||(this._localBoundsCacheData={data:[],index:1,didChange:!1,localBounds:new uo});const t=this._localBoundsCacheData;return t.index=1,t.didChange=!1,t.data[0]!==this._didViewChangeTick&&(t.didChange=!0,t.data[0]=this._didViewChangeTick),_x(this,t),t.didChange&&Sx(this,t.localBounds,s4),t.localBounds},getBounds(t,e){return vx(this,t,e||new uo)}},a4={_onRender:null,set onRender(t){const e=this.renderGroup||this.parentRenderGroup;if(!t){this._onRender&&e?.removeOnRender(this),this._onRender=null;return}this._onRender||e?.addOnRender(this),this._onRender=t},get onRender(){return this._onRender}},c4={_zIndex:0,sortDirty:!1,sortableChildren:!1,get zIndex(){return this._zIndex},set zIndex(t){this._zIndex!==t&&(this._zIndex=t,this.depthOfChildModified())},depthOfChildModified(){this.parent&&(this.parent.sortableChildren=!0,this.parent.sortDirty=!0),this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0)},sortChildren(){this.sortDirty&&(this.sortDirty=!1,this.children.sort(u4))}};function u4(t,e){return t._zIndex-e._zIndex}const p4={getGlobalPosition(t=new Ye,e=!1){return this.parent?this.parent.toGlobal(this._position,t,e):(t.x=this._position.x,t.y=this._position.y),t},toGlobal(t,e,o=!1){if(!o){this.updateLocalTransform();const n=Pa(this,new le);return n.append(this.localTransform),n.apply(t,e)}return this.worldTransform.apply(t,e)},toLocal(t,e,o,n){if(e&&(t=e.toGlobal(t,o,n)),!n){this.updateLocalTransform();const i=Pa(this,new le);return i.append(this.localTransform),i.applyInverse(t,o)}return this.worldTransform.applyInverse(t,o)}};let y4=0;class Cx{constructor(){this.uid=je("instructionSet"),this.instructions=[],this.instructionSize=0,this.renderables=[],this.tick=0}reset(){this.instructionSize=0,this.tick=y4++}add(e){this.instructions[this.instructionSize++]=e}log(){this.instructions.length=this.instructionSize,console.table(this.instructions,["type","action"])}}class d4{constructor(){this.renderPipeId="renderGroup",this.root=null,this.canBundle=!1,this.renderGroupParent=null,this.renderGroupChildren=[],this.worldTransform=new le,this.worldColorAlpha=4294967295,this.worldColor=16777215,this.worldAlpha=1,this.childrenToUpdate=Object.create(null),this.updateTick=0,this.childrenRenderablesToUpdate={list:[],index:0},this.structureDidChange=!0,this.instructionSet=new Cx,this._onRenderContainers=[]}init(e){this.root=e,e._onRender&&this.addOnRender(e),e.didChange=!0;const o=e.children;for(let n=0;n<o.length;n++)this.addChild(o[n])}reset(){this.renderGroupChildren.length=0;for(const e in this.childrenToUpdate){const o=this.childrenToUpdate[e];o.list.fill(null),o.index=0}this.childrenRenderablesToUpdate.index=0,this.childrenRenderablesToUpdate.list.fill(null),this.root=null,this.updateTick=0,this.structureDidChange=!0,this._onRenderContainers.length=0,this.renderGroupParent=null}get localTransform(){return this.root.localTransform}addRenderGroupChild(e){e.renderGroupParent&&e.renderGroupParent._removeRenderGroupChild(e),e.renderGroupParent=this,this.renderGroupChildren.push(e)}_removeRenderGroupChild(e){const o=this.renderGroupChildren.indexOf(e);o>-1&&this.renderGroupChildren.splice(o,1),e.renderGroupParent=null}addChild(e){if(this.structureDidChange=!0,e.parentRenderGroup=this,e.updateTick=-1,e.parent===this.root?e.relativeRenderGroupDepth=1:e.relativeRenderGroupDepth=e.parent.relativeRenderGroupDepth+1,e.didChange=!0,this.onChildUpdate(e),e.renderGroup){this.addRenderGroupChild(e.renderGroup);return}e._onRender&&this.addOnRender(e);const o=e.children;for(let n=0;n<o.length;n++)this.addChild(o[n])}removeChild(e){if(this.structureDidChange=!0,e._onRender&&(e.renderGroup||this.removeOnRender(e)),e.parentRenderGroup=null,e.renderGroup){this._removeRenderGroupChild(e.renderGroup);return}const o=e.children;for(let n=0;n<o.length;n++)this.removeChild(o[n])}removeChildren(e){for(let o=0;o<e.length;o++)this.removeChild(e[o])}onChildUpdate(e){let o=this.childrenToUpdate[e.relativeRenderGroupDepth];o||(o=this.childrenToUpdate[e.relativeRenderGroupDepth]={index:0,list:[]}),o.list[o.index++]=e}updateRenderable(e){e.globalDisplayStatus<7||(e.didViewUpdate=!1,this.instructionSet.renderPipes[e.renderPipeId].updateRenderable(e))}onChildViewUpdate(e){this.childrenRenderablesToUpdate.list[this.childrenRenderablesToUpdate.index++]=e}get isRenderable(){return this.root.localDisplayStatus===7&&this.worldAlpha>0}addOnRender(e){this._onRenderContainers.push(e)}removeOnRender(e){this._onRenderContainers.splice(this._onRenderContainers.indexOf(e),1)}runOnRender(){for(let e=0;e<this._onRenderContainers.length;e++)this._onRenderContainers[e]._onRender()}destroy(){this.renderGroupParent=null,this.root=null,this.childrenRenderablesToUpdate=null,this.childrenToUpdate=null,this.renderGroupChildren=null,this._onRenderContainers=null,this.instructionSet=null}getChildren(e=[]){const o=this.root.children;for(let n=0;n<o.length;n++)this._getChildren(o[n],e);return e}_getChildren(e,o=[]){if(o.push(e),e.renderGroup)return o;const n=e.children;for(let i=0;i<n.length;i++)this._getChildren(n[i],o);return o}}function f4(t,e,o={}){for(const n in e)!o[n]&&e[n]!==void 0&&(t[n]=e[n])}const ou=new lt(null),nu=new lt(null),iu=new lt(null,1,1),ag=1,h4=2,ru=4;class pe extends Qt{constructor(e={}){super(),this.uid=je("renderable"),this._updateFlags=15,this.renderGroup=null,this.parentRenderGroup=null,this.parentRenderGroupIndex=0,this.didChange=!1,this.didViewUpdate=!1,this.relativeRenderGroupDepth=0,this.children=[],this.parent=null,this.includeInBuild=!0,this.measurable=!0,this.isSimple=!0,this.updateTick=-1,this.localTransform=new le,this.relativeGroupTransform=new le,this.groupTransform=this.relativeGroupTransform,this.destroyed=!1,this._position=new lt(this,0,0),this._scale=iu,this._pivot=nu,this._skew=ou,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._rotation=0,this.localColor=16777215,this.localAlpha=1,this.groupAlpha=1,this.groupColor=16777215,this.groupColorAlpha=4294967295,this.localBlendMode="inherit",this.groupBlendMode="normal",this.localDisplayStatus=7,this.globalDisplayStatus=7,this._didContainerChangeTick=0,this._didViewChangeTick=0,this._didLocalTransformChangeId=-1,this.effects=[],f4(this,e,{children:!0,parent:!0,effects:!0}),e.children?.forEach(o=>this.addChild(o)),e.parent?.addChild(this)}static mixin(e){Object.defineProperties(pe.prototype,Object.getOwnPropertyDescriptors(e))}set _didChangeId(e){this._didViewChangeTick=e>>12&4095,this._didContainerChangeTick=e&4095}get _didChangeId(){return this._didContainerChangeTick&4095|(this._didViewChangeTick&4095)<<12}addChild(...e){if(this.allowChildren||$(ue,"addChild: Only Containers will be allowed to add children in v8.0.0"),e.length>1){for(let i=0;i<e.length;i++)this.addChild(e[i]);return e[0]}const o=e[0];if(o.parent===this)return this.children.splice(this.children.indexOf(o),1),this.children.push(o),this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),o;o.parent&&o.parent.removeChild(o),this.children.push(o),this.sortableChildren&&(this.sortDirty=!0),o.parent=this,o.didChange=!0,o.didViewUpdate=!1,o._updateFlags=15;const n=this.renderGroup||this.parentRenderGroup;return n&&n.addChild(o),this.emit("childAdded",o,this,this.children.length-1),o.emit("added",this),this._didViewChangeTick++,o._zIndex!==0&&o.depthOfChildModified(),o}removeChild(...e){if(e.length>1){for(let i=0;i<e.length;i++)this.removeChild(e[i]);return e[0]}const o=e[0],n=this.children.indexOf(o);return n>-1&&(this._didViewChangeTick++,this.children.splice(n,1),this.renderGroup?this.renderGroup.removeChild(o):this.parentRenderGroup&&this.parentRenderGroup.removeChild(o),o.parent=null,this.emit("childRemoved",o,this,n),o.emit("removed",this)),o}_onUpdate(e){e&&e===this._skew&&this._updateSkew(),this._didContainerChangeTick++,!this.didChange&&(this.didChange=!0,this.parentRenderGroup&&this.parentRenderGroup.onChildUpdate(this))}set isRenderGroup(e){!!this.renderGroup!==e&&(e?this.enableRenderGroup():this.disableRenderGroup())}get isRenderGroup(){return!!this.renderGroup}enableRenderGroup(){if(this.renderGroup)return;const e=this.parentRenderGroup;e?.removeChild(this),this.renderGroup=_o.get(d4,this),this.groupTransform=le.IDENTITY,e?.addChild(this),this._updateIsSimple()}disableRenderGroup(){if(!this.renderGroup)return;const e=this.parentRenderGroup;e?.removeChild(this),_o.return(this.renderGroup),this.renderGroup=null,this.groupTransform=this.relativeGroupTransform,e?.addChild(this),this._updateIsSimple()}_updateIsSimple(){this.isSimple=!this.renderGroup&&this.effects.length===0}get worldTransform(){return this._worldTransform||(this._worldTransform=new le),this.renderGroup?this._worldTransform.copyFrom(this.renderGroup.worldTransform):this.parentRenderGroup&&this._worldTransform.appendFrom(this.relativeGroupTransform,this.parentRenderGroup.worldTransform),this._worldTransform}get x(){return this._position.x}set x(e){this._position.x=e}get y(){return this._position.y}set y(e){this._position.y=e}get position(){return this._position}set position(e){this._position.copyFrom(e)}get rotation(){return this._rotation}set rotation(e){this._rotation!==e&&(this._rotation=e,this._onUpdate(this._skew))}get angle(){return this.rotation*Iz}set angle(e){this.rotation=e*nr}get pivot(){return this._pivot===nu&&(this._pivot=new lt(this,0,0)),this._pivot}set pivot(e){this._pivot===nu&&(this._pivot=new lt(this,0,0)),typeof e=="number"?this._pivot.set(e):this._pivot.copyFrom(e)}get skew(){return this._skew===ou&&(this._skew=new lt(this,0,0)),this._skew}set skew(e){this._skew===ou&&(this._skew=new lt(this,0,0)),this._skew.copyFrom(e)}get scale(){return this._scale===iu&&(this._scale=new lt(this,1,1)),this._scale}set scale(e){this._scale===iu&&(this._scale=new lt(this,0,0)),typeof e=="number"?this._scale.set(e):this._scale.copyFrom(e)}get width(){return Math.abs(this.scale.x*this.getLocalBounds().width)}set width(e){const o=this.getLocalBounds().width;this._setWidth(e,o)}get height(){return Math.abs(this.scale.y*this.getLocalBounds().height)}set height(e){const o=this.getLocalBounds().height;this._setHeight(e,o)}getSize(e){e||(e={});const o=this.getLocalBounds();return e.width=Math.abs(this.scale.x*o.width),e.height=Math.abs(this.scale.y*o.height),e}setSize(e,o){const n=this.getLocalBounds();typeof e=="object"?(o=e.height??e.width,e=e.width):o??(o=e),e!==void 0&&this._setWidth(e,n.width),o!==void 0&&this._setHeight(o,n.height)}_updateSkew(){const e=this._rotation,o=this._skew;this._cx=Math.cos(e+o._y),this._sx=Math.sin(e+o._y),this._cy=-Math.sin(e-o._x),this._sy=Math.cos(e-o._x)}updateTransform(e){return this.position.set(typeof e.x=="number"?e.x:this.position.x,typeof e.y=="number"?e.y:this.position.y),this.scale.set(typeof e.scaleX=="number"?e.scaleX||1:this.scale.x,typeof e.scaleY=="number"?e.scaleY||1:this.scale.y),this.rotation=typeof e.rotation=="number"?e.rotation:this.rotation,this.skew.set(typeof e.skewX=="number"?e.skewX:this.skew.x,typeof e.skewY=="number"?e.skewY:this.skew.y),this.pivot.set(typeof e.pivotX=="number"?e.pivotX:this.pivot.x,typeof e.pivotY=="number"?e.pivotY:this.pivot.y),this}setFromMatrix(e){e.decompose(this)}updateLocalTransform(){const e=this._didContainerChangeTick;if(this._didLocalTransformChangeId===e)return;this._didLocalTransformChangeId=e;const o=this.localTransform,n=this._scale,i=this._pivot,r=this._position,s=n._x,l=n._y,a=i._x,c=i._y;o.a=this._cx*s,o.b=this._sx*s,o.c=this._cy*l,o.d=this._sy*l,o.tx=r._x-(a*o.a+c*o.c),o.ty=r._y-(a*o.b+c*o.d)}set alpha(e){e!==this.localAlpha&&(this.localAlpha=e,this._updateFlags|=ag,this._onUpdate())}get alpha(){return this.localAlpha}set tint(e){const n=K.shared.setValue(e??16777215).toBgrNumber();n!==this.localColor&&(this.localColor=n,this._updateFlags|=ag,this._onUpdate())}get tint(){const e=this.localColor;return((e&255)<<16)+(e&65280)+(e>>16&255)}set blendMode(e){this.localBlendMode!==e&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=h4,this.localBlendMode=e,this._onUpdate())}get blendMode(){return this.localBlendMode}get visible(){return!!(this.localDisplayStatus&2)}set visible(e){const o=e?2:0;(this.localDisplayStatus&2)!==o&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=ru,this.localDisplayStatus^=2,this._onUpdate())}get culled(){return!(this.localDisplayStatus&4)}set culled(e){const o=e?0:4;(this.localDisplayStatus&4)!==o&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=ru,this.localDisplayStatus^=4,this._onUpdate())}get renderable(){return!!(this.localDisplayStatus&1)}set renderable(e){const o=e?1:0;(this.localDisplayStatus&1)!==o&&(this._updateFlags|=ru,this.localDisplayStatus^=1,this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._onUpdate())}get isRenderable(){return this.localDisplayStatus===7&&this.groupAlpha>0}destroy(e=!1){if(this.destroyed)return;this.destroyed=!0;const o=this.removeChildren(0,this.children.length);if(this.removeFromParent(),this.parent=null,this._maskEffect=null,this._filterEffect=null,this.effects=null,this._position=null,this._scale=null,this._pivot=null,this._skew=null,this.emit("destroyed",this),this.removeAllListeners(),typeof e=="boolean"?e:e?.children)for(let i=0;i<o.length;++i)o[i].destroy(e);this.renderGroup?.destroy(),this.renderGroup=null}}pe.mixin(o4);pe.mixin(p4);pe.mixin(a4);pe.mixin(l4);pe.mixin(i4);pe.mixin(r4);pe.mixin(c4);pe.mixin(Jz);class Zx extends pe{constructor(){super(...arguments),this.canBundle=!0,this.allowChildren=!1,this._roundPixels=0,this._lastUsed=0,this._lastInstructionTick=-1,this._bounds=new uo(0,1,0,0),this._boundsDirty=!0}_updateBounds(){}get roundPixels(){return!!this._roundPixels}set roundPixels(e){this._roundPixels=e?1:0}containsPoint(e){const o=this.bounds,{x:n,y:i}=e;return n>=o.minX&&n<=o.maxX&&i>=o.minY&&i<=o.maxY}destroy(e){super.destroy(e),this._bounds=null}}class Vn extends Zx{constructor(e=q.EMPTY){e instanceof q&&(e={texture:e});const{texture:o=q.EMPTY,anchor:n,roundPixels:i,width:r,height:s,...l}=e;super({label:"Sprite",...l}),this.renderPipeId="sprite",this.batched=!0,this._didSpriteUpdate=!1,this._sourceBounds={minX:0,maxX:1,minY:0,maxY:0},this._sourceBoundsDirty=!0,this._anchor=new lt({_onUpdate:()=>{this.onViewUpdate()}}),n?this.anchor=n:o.defaultAnchor&&(this.anchor=o.defaultAnchor),this.texture=o,this.allowChildren=!1,this.roundPixels=i??!1,r!==void 0&&(this.width=r),s!==void 0&&(this.height=s)}static from(e,o=!1){return e instanceof q?new Vn(e):new Vn(q.from(e,o))}set texture(e){e||(e=q.EMPTY);const o=this._texture;o!==e&&(o&&o.dynamic&&o.off("update",this.onViewUpdate,this),e.dynamic&&e.on("update",this.onViewUpdate,this),this._texture=e,this._width&&this._setWidth(this._width,this._texture.orig.width),this._height&&this._setHeight(this._height,this._texture.orig.height),this.onViewUpdate())}get texture(){return this._texture}get bounds(){return this._boundsDirty&&(this._updateBounds(),this._boundsDirty=!1),this._bounds}get sourceBounds(){return this._sourceBoundsDirty&&(this._updateSourceBounds(),this._sourceBoundsDirty=!1),this._sourceBounds}containsPoint(e){const o=this.sourceBounds;return e.x>=o.maxX&&e.x<=o.minX&&e.y>=o.maxY&&e.y<=o.minY}addBounds(e){const o=this._texture.trim?this.sourceBounds:this.bounds;e.addFrame(o.minX,o.minY,o.maxX,o.maxY)}onViewUpdate(){if(this._didViewChangeTick++,this._didSpriteUpdate=!0,this._sourceBoundsDirty=this._boundsDirty=!0,this.didViewUpdate)return;this.didViewUpdate=!0;const e=this.renderGroup||this.parentRenderGroup;e&&e.onChildViewUpdate(this)}_updateBounds(){Lz(this._bounds,this._anchor,this._texture,0)}_updateSourceBounds(){const e=this._anchor,o=this._texture,n=this._sourceBounds,{width:i,height:r}=o.orig;n.maxX=-e._x*i,n.minX=n.maxX+i,n.maxY=-e._y*r,n.minY=n.maxY+r}destroy(e=!1){if(super.destroy(e),typeof e=="boolean"?e:e?.texture){const n=typeof e=="boolean"?e:e?.textureSource;this._texture.destroy(n)}this._texture=null,this._bounds=null,this._sourceBounds=null,this._anchor=null}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this._setWidth(e,this._texture.orig.width),this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this._setHeight(e,this._texture.orig.height),this._height=e}getSize(e){return e||(e={}),e.width=Math.abs(this.scale.x)*this._texture.orig.width,e.height=Math.abs(this.scale.y)*this._texture.orig.height,e}setSize(e,o){typeof e=="object"?(o=e.height??e.width,e=e.width):o??(o=e),e!==void 0&&this._setWidth(e,this._texture.orig.width),o!==void 0&&this._setHeight(o,this._texture.orig.height)}}const g4=new uo;function Rx(t,e,o){const n=g4;t.measurable=!0,vx(t,o,n),e.addBoundsMask(n),t.measurable=!1}function Ax(t,e,o){const n=rr.get();t.measurable=!0;const i=Co.get().identity(),r=Px(t,o,i);Sx(t,n,r),t.measurable=!1,e.addBoundsMask(n),Co.return(i),rr.return(n)}function Px(t,e,o){return t?(t!==e&&(Px(t.parent,e,o),t.updateLocalTransform(),o.append(t.localTransform)),o):(Ie("Mask bounds, renderable is not inside the root container"),o)}class Tx{constructor(e){this.priority=0,this.pipe="alphaMask",e?.mask&&this.init(e.mask)}init(e){this.mask=e,this.renderMaskToTexture=!(e instanceof Vn),this.mask.renderable=this.renderMaskToTexture,this.mask.includeInBuild=!this.renderMaskToTexture,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask=null}addBounds(e,o){Rx(this.mask,e,o)}addLocalBounds(e,o){Ax(this.mask,e,o)}containsPoint(e,o){const n=this.mask;return o(n,e)}destroy(){this.reset()}static test(e){return e instanceof Vn}}Tx.extension=N.MaskEffect;class jx{constructor(e){this.priority=0,this.pipe="colorMask",e?.mask&&this.init(e.mask)}init(e){this.mask=e}destroy(){}static test(e){return typeof e=="number"}}jx.extension=N.MaskEffect;class Ix{constructor(e){this.priority=0,this.pipe="stencilMask",e?.mask&&this.init(e.mask)}init(e){this.mask=e,this.mask.includeInBuild=!1,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask.includeInBuild=!0,this.mask=null}addBounds(e,o){Rx(this.mask,e,o)}addLocalBounds(e,o){Ax(this.mask,e,o)}containsPoint(e,o){const n=this.mask;return o(n,e)}destroy(){this.reset()}static test(e){return e instanceof pe}}Ix.extension=N.MaskEffect;const m4={createCanvas:(t,e)=>{const o=document.createElement("canvas");return o.width=t,o.height=e,o},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")};let cg=m4;const Ee={get(){return cg},set(t){cg=t}};class Ud extends ft{constructor(e){e.resource||(e.resource=Ee.get().createCanvas()),e.width||(e.width=e.resource.width,e.autoDensity||(e.width/=e.resolution)),e.height||(e.height=e.resource.height,e.autoDensity||(e.height/=e.resolution)),super(e),this.uploadMethodId="image",this.autoDensity=e.autoDensity;const o=e.resource;(this.pixelWidth!==o.width||this.pixelWidth!==o.height)&&this.resizeCanvas(),this.transparent=!!e.transparent}resizeCanvas(){this.autoDensity&&(this.resource.style.width=`${this.width}px`,this.resource.style.height=`${this.height}px`),(this.resource.width!==this.pixelWidth||this.resource.height!==this.pixelHeight)&&(this.resource.width=this.pixelWidth,this.resource.height=this.pixelHeight)}resize(e=this.width,o=this.height,n=this._resolution){const i=super.resize(e,o,n);return i&&this.resizeCanvas(),i}static test(e){return globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement||globalThis.OffscreenCanvas&&e instanceof OffscreenCanvas}get context2D(){return this._context2D||(this._context2D=this.resource.getContext("2d"))}}Ud.extension=N.TextureSource;class si extends ft{constructor(e){if(e.resource&&globalThis.HTMLImageElement&&e.resource instanceof HTMLImageElement){const o=Ee.get().createCanvas(e.resource.width,e.resource.height);o.getContext("2d").drawImage(e.resource,0,0,e.resource.width,e.resource.height),e.resource=o,Ie("ImageSource: Image element passed, converting to canvas. Use CanvasSource instead.")}super(e),this.uploadMethodId="image",this.autoGarbageCollect=!0}static test(e){return globalThis.HTMLImageElement&&e instanceof HTMLImageElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap||globalThis.VideoFrame&&e instanceof VideoFrame}}si.extension=N.TextureSource;var Ta=(t=>(t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(Ta||{});class su{constructor(e,o=null,n=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this._fn=e,this._context=o,this.priority=n,this._once=i}match(e,o=null){return this._fn===e&&this._context===o}emit(e){this._fn&&(this._context?this._fn.call(this._context,e):this._fn(e));const o=this.next;return this._once&&this.destroy(!0),this._destroyed&&(this.next=null),o}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this._fn=null,this._context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const o=this.next;return this.next=e?null:o,this.previous=null,o}}const Fx=class mt{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new su(null,null,1/0),this.deltaMS=1/mt.targetFPMS,this.elapsedMS=1/mt.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,o,n=Ta.NORMAL){return this._addListener(new su(e,o,n))}addOnce(e,o,n=Ta.NORMAL){return this._addListener(new su(e,o,n,!0))}_addListener(e){let o=this._head.next,n=this._head;if(!o)e.connect(n);else{for(;o;){if(e.priority>o.priority){e.connect(n);break}n=o,o=o.next}e.previous||e.connect(n)}return this._startIfPossible(),this}remove(e,o){let n=this._head.next;for(;n;)n.match(e,o)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,o=this._head;for(;o=o.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let o;if(e>this.lastTime){if(o=this.elapsedMS=e-this.lastTime,o>this._maxElapsedMS&&(o=this._maxElapsedMS),o*=this.speed,this._minElapsedMS){const r=e-this._lastFrame|0;if(r<this._minElapsedMS)return;this._lastFrame=e-r%this._minElapsedMS}this.deltaMS=o,this.deltaTime=this.deltaMS*mt.targetFPMS;const n=this._head;let i=n.next;for(;i;)i=i.emit(this);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const o=Math.min(this.maxFPS,e),n=Math.min(Math.max(0,o)/1e3,mt.targetFPMS);this._maxElapsedMS=1/n}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const o=Math.max(this.minFPS,e);this._minElapsedMS=1/(o/1e3)}}static get shared(){if(!mt._shared){const e=mt._shared=new mt;e.autoStart=!0,e._protected=!0}return mt._shared}static get system(){if(!mt._system){const e=mt._system=new mt;e.autoStart=!0,e._protected=!0}return mt._system}};Fx.targetFPMS=.06;let Vo=Fx,lu;async function Mx(){return lu??(lu=(async()=>{const e=document.createElement("canvas").getContext("webgl");if(!e)return"premultiply-alpha-on-upload";const o=await new Promise(s=>{const l=document.createElement("video");l.onloadeddata=()=>s(l),l.onerror=()=>s(null),l.autoplay=!1,l.crossOrigin="anonymous",l.preload="auto",l.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",l.load()});if(!o)return"premultiply-alpha-on-upload";const n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n);const i=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,i),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,e.NONE),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,o);const r=new Uint8Array(4);return e.readPixels(0,0,1,1,e.RGBA,e.UNSIGNED_BYTE,r),e.deleteFramebuffer(i),e.deleteTexture(n),e.getExtension("WEBGL_lose_context")?.loseContext(),r[0]<=r[3]?"premultiplied-alpha":"premultiply-alpha-on-upload"})()),lu}const lc=class Ox extends ft{constructor(e){super(e),this.isReady=!1,this.uploadMethodId="video",e={...Ox.defaultOptions,...e},this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=e.autoPlay!==!1,this.alphaMode=e.alphaMode??"premultiply-alpha-on-upload",this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onCanPlayThrough=this._onCanPlayThrough.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),e.autoLoad!==!1&&this.load()}updateFrame(){if(!this.destroyed){if(this._updateFPS){const e=Vo.shared.elapsedMS*this.resource.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e)}(!this._updateFPS||this._msToNextUpdate<=0)&&(this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0),this.isValid&&this.update()}}_videoFrameRequestCallback(){this.updateFrame(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback)}get isValid(){return!!this.resource.videoWidth&&!!this.resource.videoHeight}async load(){if(this._load)return this._load;const e=this.resource,o=this.options;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._mediaReady():(o.preload||e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlayThrough),e.addEventListener("error",this._onError,!0)),this.alphaMode=await Mx(),this._load=new Promise((n,i)=>{this.isValid?n(this):(this._resolve=n,this._reject=i,o.preloadTimeoutMs!==void 0&&(this._preloadTimeout=setTimeout(()=>{this._onError(new ErrorEvent(`Preload exceeded timeout of ${o.preloadTimeoutMs}ms`))})),e.load())}),this._load}_onError(e){this.resource.removeEventListener("error",this._onError,!0),this.emit("error",e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.resource;return!e.paused&&!e.ended}_isSourceReady(){return this.resource.readyState>2}_onPlayStart(){this.isValid||this._mediaReady(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0)}_onCanPlay(){this.resource.removeEventListener("canplay",this._onCanPlay),this._mediaReady()}_onCanPlayThrough(){this.resource.removeEventListener("canplaythrough",this._onCanPlay),this._preloadTimeout&&(clearTimeout(this._preloadTimeout),this._preloadTimeout=void 0),this._mediaReady()}_mediaReady(){const e=this.resource;this.isValid&&(this.isReady=!0,this.resize(e.videoWidth,e.videoHeight)),this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0,this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.resource.play()}destroy(){this._configureAutoUpdate();const e=this.resource;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlayThrough),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.destroy()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.resource.requestVideoFrameCallback?(this._isConnectedToTicker&&(Vo.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(Vo.shared.add(this.updateFrame,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(Vo.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement}};lc.extension=N.TextureSource;lc.defaultOptions={...ft.defaultOptions,autoLoad:!0,autoPlay:!0,updateFPS:0,crossorigin:!0,loop:!1,muted:!0,playsinline:!0,preload:!1};lc.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let Xl=lc;const Wt=(t,e,o=!1)=>(Array.isArray(t)||(t=[t]),e?t.map(n=>typeof n=="string"||o?e(n):n):t);class b4{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const o=this._cache.get(e);return o||Ie(`[Assets] Asset id ${e} was not found in the Cache`),o}set(e,o){const n=Wt(e);let i;for(let a=0;a<this.parsers.length;a++){const c=this.parsers[a];if(c.test(o)){i=c.getCacheableAssets(n,o);break}}const r=new Map(Object.entries(i||{}));i||n.forEach(a=>{r.set(a,o)});const s=[...r.keys()],l={cacheKeys:s,keys:n};n.forEach(a=>{this._cacheMap.set(a,l)}),s.forEach(a=>{const c=i?i[a]:o;this._cache.has(a)&&this._cache.get(a)!==c&&Ie("[Cache] already has key:",a),this._cache.set(a,r.get(a))})}remove(e){if(!this._cacheMap.has(e)){Ie(`[Assets] Asset id ${e} was not found in the Cache`);return}const o=this._cacheMap.get(e);o.cacheKeys.forEach(i=>{this._cache.delete(i)}),o.keys.forEach(i=>{this._cacheMap.delete(i)})}get parsers(){return this._parsers}}const ve=new b4,Yp=[];ot.handleByList(N.TextureSource,Yp);function Dx(t={}){const e=t&&t.resource,o=e?t.resource:t,n=e?t:{resource:t};for(let i=0;i<Yp.length;i++){const r=Yp[i];if(r.test(o))return new r(n)}throw new Error(`Could not find a source type for resource: ${n.resource}`)}function x4(t={},e=!1){const o=t&&t.resource,n=o?t.resource:t,i=o?t:{resource:t};if(!e&&ve.has(n))return ve.get(n);const r=new q({source:Dx(i)});return r.on("destroy",()=>{ve.has(n)&&ve.remove(n)}),e||ve.set(n,r),r}function k4(t,e=!1){return typeof t=="string"?ve.get(t):t instanceof ft?new q({source:t}):x4(t,e)}q.from=k4;ft.from=Dx;ot.add(Tx,jx,Ix,Xl,si,Ud,Bd);var gn=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(gn||{});function Ut(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function Zr(t){return t.split("?")[0].split("#")[0]}function w4(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function v4(t,e,o){return t.replace(new RegExp(w4(e),"g"),o)}function z4(t,e){let o="",n=0,i=-1,r=0,s=-1;for(let l=0;l<=t.length;++l){if(l<t.length)s=t.charCodeAt(l);else{if(s===47)break;s=47}if(s===47){if(!(i===l-1||r===1))if(i!==l-1&&r===2){if(o.length<2||n!==2||o.charCodeAt(o.length-1)!==46||o.charCodeAt(o.length-2)!==46){if(o.length>2){const a=o.lastIndexOf("/");if(a!==o.length-1){a===-1?(o="",n=0):(o=o.slice(0,a),n=o.length-1-o.lastIndexOf("/")),i=l,r=0;continue}}else if(o.length===2||o.length===1){o="",n=0,i=l,r=0;continue}}}else o.length>0?o+=`/${t.slice(i+1,l)}`:o=t.slice(i+1,l),n=l-i-1;i=l,r=0}else s===46&&r!==-1?++r:r=-1}return o}const zt={toPosix(t){return v4(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},isBlobUrl(t){return t.startsWith("blob:")},hasProtocol(t){return/^[^/:]+:/.test(this.toPosix(t))},getProtocol(t){Ut(t),t=this.toPosix(t);const e=/^file:\/\/\//.exec(t);if(e)return e[0];const o=/^[^/:]+:\/{0,2}/.exec(t);return o?o[0]:""},toAbsolute(t,e,o){if(Ut(t),this.isDataUrl(t)||this.isBlobUrl(t))return t;const n=Zr(this.toPosix(e??Ee.get().getBaseUrl())),i=Zr(this.toPosix(o??this.rootname(n)));return t=this.toPosix(t),t.startsWith("/")?zt.join(i,t.slice(1)):this.isAbsolute(t)?t:this.join(n,t)},normalize(t){if(Ut(t),t.length===0)return".";if(this.isDataUrl(t)||this.isBlobUrl(t))return t;t=this.toPosix(t);let e="";const o=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const n=t.endsWith("/");return t=z4(t),t.length>0&&n&&(t+="/"),o?`/${t}`:e+t},isAbsolute(t){return Ut(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){if(t.length===0)return".";let e;for(let o=0;o<t.length;++o){const n=t[o];if(Ut(n),n.length>0)if(e===void 0)e=n;else{const i=t[o-1]??"";this.joinExtensions.includes(this.extname(i).toLowerCase())?e+=`/../${n}`:e+=`/${n}`}}return e===void 0?".":this.normalize(e)},dirname(t){if(Ut(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const o=e===47;let n=-1,i=!0;const r=this.getProtocol(t),s=t;t=t.slice(r.length);for(let l=t.length-1;l>=1;--l)if(e=t.charCodeAt(l),e===47){if(!i){n=l;break}}else i=!1;return n===-1?o?"/":this.isUrl(s)?r+t:r:o&&n===1?"//":r+t.slice(0,n)},rootname(t){Ut(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const o=t.indexOf("/",e.length);o!==-1?e=t.slice(0,o):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){Ut(t),e&&Ut(e),t=Zr(this.toPosix(t));let o=0,n=-1,i=!0,r;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let s=e.length-1,l=-1;for(r=t.length-1;r>=0;--r){const a=t.charCodeAt(r);if(a===47){if(!i){o=r+1;break}}else l===-1&&(i=!1,l=r+1),s>=0&&(a===e.charCodeAt(s)?--s===-1&&(n=r):(s=-1,n=l))}return o===n?n=l:n===-1&&(n=t.length),t.slice(o,n)}for(r=t.length-1;r>=0;--r)if(t.charCodeAt(r)===47){if(!i){o=r+1;break}}else n===-1&&(i=!1,n=r+1);return n===-1?"":t.slice(o,n)},extname(t){Ut(t),t=Zr(this.toPosix(t));let e=-1,o=0,n=-1,i=!0,r=0;for(let s=t.length-1;s>=0;--s){const l=t.charCodeAt(s);if(l===47){if(!i){o=s+1;break}continue}n===-1&&(i=!1,n=s+1),l===46?e===-1?e=s:r!==1&&(r=1):e!==-1&&(r=-1)}return e===-1||n===-1||r===0||r===1&&e===n-1&&e===o+1?"":t.slice(e,n)},parse(t){Ut(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=Zr(this.toPosix(t));let o=t.charCodeAt(0);const n=this.isAbsolute(t);let i;e.root=this.rootname(t),n||this.hasProtocol(t)?i=1:i=0;let r=-1,s=0,l=-1,a=!0,c=t.length-1,u=0;for(;c>=i;--c){if(o=t.charCodeAt(c),o===47){if(!a){s=c+1;break}continue}l===-1&&(a=!1,l=c+1),o===46?r===-1?r=c:u!==1&&(u=1):r!==-1&&(u=-1)}return r===-1||l===-1||u===0||u===1&&r===l-1&&r===s+1?l!==-1&&(s===0&&n?e.base=e.name=t.slice(1,l):e.base=e.name=t.slice(s,l)):(s===0&&n?(e.name=t.slice(1,r),e.base=t.slice(1,l)):(e.name=t.slice(s,r),e.base=t.slice(s,l)),e.ext=t.slice(r,l)),e.dir=this.dirname(t),e},sep:"/",delimiter:":",joinExtensions:[".html"]};function Bx(t,e,o,n,i){const r=e[o];for(let s=0;s<r.length;s++){const l=r[s];o<e.length-1?Bx(t.replace(n[o],l),e,o+1,n,i):i.push(t.replace(n[o],l))}}function S4(t){const e=/\{(.*?)\}/g,o=t.match(e),n=[];if(o){const i=[];o.forEach(r=>{const s=r.substring(1,r.length-1).split(",");i.push(s)}),Bx(t,i,0,o,n)}else n.push(t);return n}const ja=t=>!Array.isArray(t);class dr{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,o)=>`${e}${this._bundleIdConnector}${o}`,extractAssetIdFromBundle:(e,o)=>o.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(o=>{this._preferredOrder.push(o),o.priority||(o.priority=Object.keys(o.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const o=e;this._defaultSearchParams=Object.keys(o).map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(o[n])}`).join("&")}}getAlias(e){const{alias:o,src:n}=e;return Wt(o||n,r=>typeof r=="string"?r:Array.isArray(r)?r.map(s=>s?.src??s):r?.src?r.src:r,!0)}addManifest(e){this._manifest&&Ie("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(o=>{this.addBundle(o.name,o.assets)})}addBundle(e,o){const n=[];let i=o;Array.isArray(o)||(i=Object.entries(o).map(([r,s])=>typeof s=="string"||Array.isArray(s)?{alias:r,src:s}:{alias:r,...s})),i.forEach(r=>{const s=r.src,l=r.alias;let a;if(typeof l=="string"){const c=this._createBundleAssetId(e,l);n.push(c),a=[l,c]}else{const c=l.map(u=>this._createBundleAssetId(e,u));n.push(...c),a=[...l,...c]}this.add({...r,alias:a,src:s})}),this._bundles[e]=n}add(e){const o=[];Array.isArray(e)?o.push(...e):o.push(e);let n;n=r=>{this.hasKey(r)&&Ie(`[Resolver] already has key: ${r} overwriting`)},Wt(o).forEach(r=>{const{src:s}=r;let{data:l,format:a,loadParser:c}=r;const u=Wt(s).map(d=>typeof d=="string"?S4(d):Array.isArray(d)?d:[d]),p=this.getAlias(r);Array.isArray(p)?p.forEach(n):n(p);const y=[];u.forEach(d=>{d.forEach(g=>{let f={};if(typeof g!="object"){f.src=g;for(let b=0;b<this._parsers.length;b++){const h=this._parsers[b];if(h.test(g)){f=h.parse(g);break}}}else l=g.data??l,a=g.format??a,c=g.loadParser??c,f={...f,...g};if(!p)throw new Error(`[Resolver] alias is undefined for this asset: ${f.src}`);f=this._buildResolvedAsset(f,{aliases:p,data:l,format:a,loadParser:c}),y.push(f)})}),p.forEach(d=>{this._assetMap[d]=y})})}resolveBundle(e){const o=ja(e);e=Wt(e);const n={};return e.forEach(i=>{const r=this._bundles[i];if(r){const s=this.resolve(r),l={};for(const a in s){const c=s[a];l[this._extractAssetIdFromBundle(i,a)]=c}n[i]=l}}),o?n[e[0]]:n}resolveUrl(e){const o=this.resolve(e);if(typeof e!="string"){const n={};for(const i in o)n[i]=o[i].src;return n}return o.src}resolve(e){const o=ja(e);e=Wt(e);const n={};return e.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let r=this._assetMap[i];const s=this._getPreferredOrder(r);s?.priority.forEach(l=>{s.params[l].forEach(a=>{const c=r.filter(u=>u[l]?u[l]===a:!1);c.length&&(r=c)})}),this._resolverHash[i]=r[0]}else this._resolverHash[i]=this._buildResolvedAsset({alias:[i],src:i},{});n[i]=this._resolverHash[i]}),o?n[e[0]]:n}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let o=0;o<e.length;o++){const n=e[0],i=this._preferredOrder.find(r=>r.params.format.includes(n.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const o=/\?/.test(e)?"&":"?";return`${e}${o}${this._defaultSearchParams}`}_buildResolvedAsset(e,o){const{aliases:n,data:i,loadParser:r,format:s}=o;return(this._basePath||this._rootPath)&&(e.src=zt.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=n??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...i||{},...e.data},e.loadParser=r??e.loadParser,e.format=s??e.format??E4(e.src),e}}dr.RETINA_PREFIX=/@([0-9\.]+)x/;function E4(t){return t.split(".").pop().split("?").shift().split("#").shift()}const Kp=(t,e)=>{const o=e.split("?")[1];return o&&(t+=`?${o}`),t},Gx=class Nr{constructor(e,o){this.linkedSheets=[],this._texture=e instanceof q?e:null,this.textureSource=e.source,this.textures={},this.animations={},this.data=o;const n=parseFloat(o.meta.scale);n?(this.resolution=n,e.source.resolution=this.resolution):this.resolution=e.source._resolution,this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}parse(){return new Promise(e=>{this._callback=e,this._batchIndex=0,this._frameKeys.length<=Nr.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(e){let o=e;const n=Nr.BATCH_SIZE;for(;o-e<n&&o<this._frameKeys.length;){const i=this._frameKeys[o],r=this._frames[i],s=r.frame;if(s){let l=null,a=null;const c=r.trimmed!==!1&&r.sourceSize?r.sourceSize:r.frame,u=new Te(0,0,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution);r.rotated?l=new Te(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.h)/this.resolution,Math.floor(s.w)/this.resolution):l=new Te(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution),r.trimmed!==!1&&r.spriteSourceSize&&(a=new Te(Math.floor(r.spriteSourceSize.x)/this.resolution,Math.floor(r.spriteSourceSize.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution)),this.textures[i]=new q({source:this.textureSource,frame:l,orig:u,trim:a,rotate:r.rotated?2:0,defaultAnchor:r.anchor,defaultBorders:r.borders,label:i.toString()})}o++}}_processAnimations(){const e=this.data.animations||{};for(const o in e){this.animations[o]=[];for(let n=0;n<e[o].length;n++){const i=e[o][n];this.animations[o].push(this.textures[i])}}}_parseComplete(){const e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Nr.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*Nr.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(e=!1){for(const o in this.textures)this.textures[o].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&(this._texture?.destroy(),this.textureSource.destroy()),this._texture=null,this.textureSource=null,this.linkedSheets=[]}};Gx.BATCH_SIZE=1e3;let Qp=Gx;const _4=["jpg","png","jpeg","avif","webp","basis","etc2","bc7","bc6h","bc5","bc4","bc3","bc2","bc1","eac","astc"];function Ux(t,e,o){const n={};if(t.forEach(i=>{n[i]=e}),Object.keys(e.textures).forEach(i=>{n[i]=e.textures[i]}),!o){const i=zt.dirname(t[0]);e.linkedSheets.forEach((r,s)=>{const l=Ux([`${i}/${e.data.meta.related_multi_packs[s]}`],r,!0);Object.assign(n,l)})}return n}const C4={extension:N.Asset,cache:{test:t=>t instanceof Qp,getCacheableAssets:(t,e)=>Ux(t,e,!1)},resolver:{extension:{type:N.ResolveParser,name:"resolveSpritesheet"},test:t=>{const o=t.split("?")[0].split("."),n=o.pop(),i=o.pop();return n==="json"&&_4.includes(i)},parse:t=>{const e=t.split(".");return{resolution:parseFloat(dr.RETINA_PREFIX.exec(t)?.[1]??"1"),format:e[e.length-2],src:t}}},loader:{name:"spritesheetLoader",extension:{type:N.LoadParser,priority:gn.Normal,name:"spritesheetLoader"},async testParse(t,e){return zt.extname(e.src).toLowerCase()===".json"&&!!t.frames},async parse(t,e,o){const{texture:n,imageFilename:i}=e?.data??{};let r=zt.dirname(e.src);r&&r.lastIndexOf("/")!==r.length-1&&(r+="/");let s;if(n instanceof q)s=n;else{const c=Kp(r+(i??t.meta.image),e.src);s=(await o.load([c]))[c]}const l=new Qp(s.source,t);await l.parse();const a=t?.meta?.related_multi_packs;if(Array.isArray(a)){const c=[];for(const p of a){if(typeof p!="string")continue;let y=r+p;e.data?.ignoreMultiPack||(y=Kp(y,e.src),c.push(o.load({src:y,data:{ignoreMultiPack:!0}})))}const u=await Promise.all(c);l.linkedSheets=u,u.forEach(p=>{p.linkedSheets=[l].concat(l.linkedSheets.filter(y=>y!==p))})}return l},async unload(t,e,o){await o.unload(t.textureSource._sourceOrigin),t.destroy(!1)}}};ot.add(C4);const au=Object.create(null),ug=Object.create(null);function Nd(t,e){let o=ug[t];return o===void 0&&(au[e]===void 0&&(au[e]=1),ug[t]=o=au[e]++),o}let fl;function Nx(){return(!fl||fl?.isContextLost())&&(fl=Ee.get().createCanvas().getContext("webgl",{})),fl}let hl;function Z4(){if(!hl){hl="mediump";const t=Nx();t&&t.getShaderPrecisionFormat&&(hl=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision?"highp":"mediump")}return hl}function R4(t,e,o){return e?t:o?(t=t.replace("out vec4 finalColor;",""),`
        
        #ifdef GL_ES // This checks if it is WebGL1
        #define in varying
        #define finalColor gl_FragColor
        #define texture texture2D
        #endif
        ${t}
        `):`
        
        #ifdef GL_ES // This checks if it is WebGL1
        #define in attribute
        #define out varying
        #endif
        ${t}
        `}function A4(t,e,o){const n=o?e.maxSupportedFragmentPrecision:e.maxSupportedVertexPrecision;if(t.substring(0,9)!=="precision"){let i=o?e.requestedFragmentPrecision:e.requestedVertexPrecision;return i==="highp"&&n!=="highp"&&(i="mediump"),`precision ${i} float;
${t}`}else if(n!=="highp"&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}function P4(t,e){return e?`#version 300 es
${t}`:t}const T4={},j4={};function I4(t,{name:e="pixi-program"},o=!0){e=e.replace(/\s+/g,"-"),e+=o?"-fragment":"-vertex";const n=o?T4:j4;return n[e]?(n[e]++,e+=`-${n[e]}`):n[e]=1,t.indexOf("#define SHADER_NAME")!==-1?t:`${`#define SHADER_NAME ${e}`}
${t}`}function F4(t,e){return e?t.replace("#version 300 es",""):t}const cu={stripVersion:F4,ensurePrecision:A4,addProgramDefines:R4,setProgramName:I4,insertVersion:P4},uu=Object.create(null),Lx=class Jp{constructor(e){e={...Jp.defaultOptions,...e};const o=e.fragment.indexOf("#version 300 es")!==-1,n={stripVersion:o,ensurePrecision:{requestedFragmentPrecision:e.preferredFragmentPrecision,requestedVertexPrecision:e.preferredVertexPrecision,maxSupportedVertexPrecision:"highp",maxSupportedFragmentPrecision:Z4()},setProgramName:{name:e.name},addProgramDefines:o,insertVersion:o};let i=e.fragment,r=e.vertex;Object.keys(cu).forEach(s=>{const l=n[s];i=cu[s](i,l,!0),r=cu[s](r,l,!1)}),this.fragment=i,this.vertex=r,this._key=Nd(`${this.vertex}:${this.fragment}`,"gl-program")}destroy(){this.fragment=null,this.vertex=null,this._attributeData=null,this._uniformData=null,this._uniformBlockData=null,this.transformFeedbackVaryings=null}static from(e){const o=`${e.vertex}:${e.fragment}`;return uu[o]||(uu[o]=new Jp(e)),uu[o]}};Lx.defaultOptions={preferredVertexPrecision:"highp",preferredFragmentPrecision:"mediump"};let oe=Lx;const pg={uint8x2:{size:2,stride:2,normalised:!1},uint8x4:{size:4,stride:4,normalised:!1},sint8x2:{size:2,stride:2,normalised:!1},sint8x4:{size:4,stride:4,normalised:!1},unorm8x2:{size:2,stride:2,normalised:!0},unorm8x4:{size:4,stride:4,normalised:!0},snorm8x2:{size:2,stride:2,normalised:!0},snorm8x4:{size:4,stride:4,normalised:!0},uint16x2:{size:2,stride:4,normalised:!1},uint16x4:{size:4,stride:8,normalised:!1},sint16x2:{size:2,stride:4,normalised:!1},sint16x4:{size:4,stride:8,normalised:!1},unorm16x2:{size:2,stride:4,normalised:!0},unorm16x4:{size:4,stride:8,normalised:!0},snorm16x2:{size:2,stride:4,normalised:!0},snorm16x4:{size:4,stride:8,normalised:!0},float16x2:{size:2,stride:4,normalised:!1},float16x4:{size:4,stride:8,normalised:!1},float32:{size:1,stride:4,normalised:!1},float32x2:{size:2,stride:8,normalised:!1},float32x3:{size:3,stride:12,normalised:!1},float32x4:{size:4,stride:16,normalised:!1},uint32:{size:1,stride:4,normalised:!1},uint32x2:{size:2,stride:8,normalised:!1},uint32x3:{size:3,stride:12,normalised:!1},uint32x4:{size:4,stride:16,normalised:!1},sint32:{size:1,stride:4,normalised:!1},sint32x2:{size:2,stride:8,normalised:!1},sint32x3:{size:3,stride:12,normalised:!1},sint32x4:{size:4,stride:16,normalised:!1}};function M4(t){return pg[t]??pg.float32}const O4={f32:"float32","vec2<f32>":"float32x2","vec3<f32>":"float32x3","vec4<f32>":"float32x4",vec2f:"float32x2",vec3f:"float32x3",vec4f:"float32x4",i32:"sint32","vec2<i32>":"sint32x2","vec3<i32>":"sint32x3","vec4<i32>":"sint32x4",u32:"uint32","vec2<u32>":"uint32x2","vec3<u32>":"uint32x3","vec4<u32>":"uint32x4",bool:"uint32","vec2<bool>":"uint32x2","vec3<bool>":"uint32x3","vec4<bool>":"uint32x4"};function D4({source:t,entryPoint:e}){const o={},n=t.indexOf(`fn ${e}`);if(n!==-1){const i=t.indexOf("->",n);if(i!==-1){const r=t.substring(n,i),s=/@location\((\d+)\)\s+([a-zA-Z0-9_]+)\s*:\s*([a-zA-Z0-9_<>]+)(?:,|\s|$)/g;let l;for(;(l=s.exec(r))!==null;){const a=O4[l[3]]??"float32";o[l[2]]={location:parseInt(l[1],10),format:a,stride:M4(a).stride,offset:0,instance:!1,start:0}}}}return o}function pu(t){const e=/(^|[^/])@(group|binding)\(\d+\)[^;]+;/g,o=/@group\((\d+)\)/,n=/@binding\((\d+)\)/,i=/var(<[^>]+>)? (\w+)/,r=/:\s*(\w+)/,s=/struct\s+(\w+)\s*{([^}]+)}/g,l=/(\w+)\s*:\s*([\w\<\>]+)/g,a=/struct\s+(\w+)/,c=t.match(e)?.map(p=>({group:parseInt(p.match(o)[1],10),binding:parseInt(p.match(n)[1],10),name:p.match(i)[2],isUniform:p.match(i)[1]==="<uniform>",type:p.match(r)[1]}));if(!c)return{groups:[],structs:[]};const u=t.match(s)?.map(p=>{const y=p.match(a)[1],d=p.match(l).reduce((g,f)=>{const[b,h]=f.split(":");return g[b.trim()]=h.trim(),g},{});return d?{name:y,members:d}:null}).filter(({name:p})=>c.some(y=>y.type===p))??[];return{groups:c,structs:u}}var Lr=(t=>(t[t.VERTEX=1]="VERTEX",t[t.FRAGMENT=2]="FRAGMENT",t[t.COMPUTE=4]="COMPUTE",t))(Lr||{});function B4({groups:t}){const e=[];for(let o=0;o<t.length;o++){const n=t[o];e[n.group]||(e[n.group]=[]),n.isUniform?e[n.group].push({binding:n.binding,visibility:Lr.VERTEX|Lr.FRAGMENT,buffer:{type:"uniform"}}):n.type==="sampler"?e[n.group].push({binding:n.binding,visibility:Lr.FRAGMENT,sampler:{type:"filtering"}}):n.type==="texture_2d"&&e[n.group].push({binding:n.binding,visibility:Lr.FRAGMENT,texture:{sampleType:"float",viewDimension:"2d",multisampled:!1}})}return e}function G4({groups:t}){const e=[];for(let o=0;o<t.length;o++){const n=t[o];e[n.group]||(e[n.group]={}),e[n.group][n.name]=n.binding}return e}function U4(t,e){const o=new Set,n=new Set,i=[...t.structs,...e.structs].filter(s=>o.has(s.name)?!1:(o.add(s.name),!0)),r=[...t.groups,...e.groups].filter(s=>{const l=`${s.name}-${s.binding}`;return n.has(l)?!1:(n.add(l),!0)});return{structs:i,groups:r}}const yu=Object.create(null);class te{constructor(e){this._layoutKey=0,this._attributeLocationsKey=0;const{fragment:o,vertex:n,layout:i,gpuLayout:r,name:s}=e;if(this.name=s,this.fragment=o,this.vertex=n,o.source===n.source){const l=pu(o.source);this.structsAndGroups=l}else{const l=pu(n.source),a=pu(o.source);this.structsAndGroups=U4(l,a)}this.layout=i??G4(this.structsAndGroups),this.gpuLayout=r??B4(this.structsAndGroups),this.autoAssignGlobalUniforms=this.layout[0]?.globalUniforms!==void 0,this.autoAssignLocalUniforms=this.layout[1]?.localUniforms!==void 0,this._generateProgramKey()}_generateProgramKey(){const{vertex:e,fragment:o}=this,n=e.source+o.source+e.entryPoint+o.entryPoint;this._layoutKey=Nd(n,"program")}get attributeData(){return this._attributeData??(this._attributeData=D4(this.vertex)),this._attributeData}destroy(){this.gpuLayout=null,this.layout=null,this.structsAndGroups=null,this.fragment=null,this.vertex=null}static from(e){const o=`${e.vertex.source}:${e.fragment.source}:${e.fragment.entryPoint}:${e.vertex.entryPoint}`;return yu[o]||(yu[o]=new te(e)),yu[o]}}const $x=["f32","i32","vec2<f32>","vec3<f32>","vec4<f32>","mat2x2<f32>","mat3x3<f32>","mat4x4<f32>","mat3x2<f32>","mat4x2<f32>","mat2x3<f32>","mat4x3<f32>","mat2x4<f32>","mat3x4<f32>"],N4=$x.reduce((t,e)=>(t[e]=!0,t),{});function L4(t,e){switch(t){case"f32":return 0;case"vec2<f32>":return new Float32Array(2*e);case"vec3<f32>":return new Float32Array(3*e);case"vec4<f32>":return new Float32Array(4*e);case"mat2x2<f32>":return new Float32Array([1,0,0,1]);case"mat3x3<f32>":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4x4<f32>":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const Wx=class Hx{constructor(e,o){this._touched=0,this.uid=je("uniform"),this._resourceType="uniformGroup",this._resourceId=je("resource"),this.isUniformGroup=!0,this._dirtyId=0,this.destroyed=!1,o={...Hx.defaultOptions,...o},this.uniformStructures=e;const n={};for(const i in e){const r=e[i];if(r.name=i,r.size=r.size??1,!N4[r.type])throw new Error(`Uniform type ${r.type} is not supported. Supported uniform types are: ${$x.join(", ")}`);r.value??(r.value=L4(r.type,r.size)),n[i]=r.value}this.uniforms=n,this._dirtyId=1,this.ubo=o.ubo,this.isStatic=o.isStatic,this._signature=Nd(Object.keys(n).map(i=>`${i}-${e[i].type}`).join("-"),"uniform-group")}update(){this._dirtyId++}};Wx.defaultOptions={ubo:!1,isStatic:!1};let Ld=Wx;class Vl{constructor(e){this.resources=Object.create(null),this._dirty=!0;let o=0;for(const n in e){const i=e[n];this.setResource(i,o++)}this._updateKey()}_updateKey(){if(!this._dirty)return;this._dirty=!1;const e=[];let o=0;for(const n in this.resources)e[o++]=this.resources[n]._resourceId;this._key=e.join("|")}setResource(e,o){const n=this.resources[o];e!==n&&(n&&e.off?.("change",this.onResourceChange,this),e.on?.("change",this.onResourceChange,this),this.resources[o]=e,this._dirty=!0)}getResource(e){return this.resources[e]}_touch(e){const o=this.resources;for(const n in o)o[n]._touched=e}destroy(){const e=this.resources;for(const o in e)e[o].off?.("change",this.onResourceChange,this);this.resources=null}onResourceChange(e){if(this._dirty=!0,e.destroyed){const o=this.resources;for(const n in o)o[n]===e&&(o[n]=null)}else this._updateKey()}}var Ia=(t=>(t[t.WEBGL=1]="WEBGL",t[t.WEBGPU=2]="WEBGPU",t[t.BOTH=3]="BOTH",t))(Ia||{});class ac extends Qt{constructor(e){super(),this._uniformBindMap=Object.create(null),this._ownedBindGroups=[];let{gpuProgram:o,glProgram:n,groups:i,resources:r,compatibleRenderers:s,groupMap:l}=e;this.gpuProgram=o,this.glProgram=n,s===void 0&&(s=0,o&&(s|=Ia.WEBGPU),n&&(s|=Ia.WEBGL)),this.compatibleRenderers=s;const a={};if(!r&&!i&&(r={}),r&&i)throw new Error("[Shader] Cannot have both resources and groups");if(!o&&i&&!l)throw new Error("[Shader] No group map or WebGPU shader provided - consider using resources instead.");if(!o&&i&&l)for(const c in l)for(const u in l[c]){const p=l[c][u];a[p]={group:c,binding:u,name:p}}else if(o&&i&&!l){const c=o.structsAndGroups.groups;l={},c.forEach(u=>{l[u.group]=l[u.group]||{},l[u.group][u.binding]=u.name,a[u.name]=u})}else if(r){i={},l={},o&&o.structsAndGroups.groups.forEach(p=>{l[p.group]=l[p.group]||{},l[p.group][p.binding]=p.name,a[p.name]=p});let c=0;for(const u in r)a[u]||(i[99]||(i[99]=new Vl,this._ownedBindGroups.push(i[99])),a[u]={group:99,binding:c,name:u},l[99]=l[99]||{},l[99][c]=u,c++);for(const u in r){const p=u;let y=r[u];!y.source&&!y._resourceType&&(y=new Ld(y));const d=a[p];d&&(i[d.group]||(i[d.group]=new Vl,this._ownedBindGroups.push(i[d.group])),i[d.group].setResource(y,d.binding))}}this.groups=i,this._uniformBindMap=l,this.resources=this._buildResourceAccessor(i,a)}addResource(e,o,n){var i,r;(i=this._uniformBindMap)[o]||(i[o]={}),(r=this._uniformBindMap[o])[n]||(r[n]=e),this.groups[o]||(this.groups[o]=new Vl,this._ownedBindGroups.push(this.groups[o]))}_buildResourceAccessor(e,o){const n={};for(const i in o){const r=o[i];Object.defineProperty(n,r.name,{get(){return e[r.group].getResource(r.binding)},set(s){e[r.group].setResource(s,r.binding)}})}return n}destroy(e=!1){this.emit("destroy",this),e&&(this.gpuProgram?.destroy(),this.glProgram?.destroy()),this.gpuProgram=null,this.glProgram=null,this.removeAllListeners(),this._uniformBindMap=null,this._ownedBindGroups.forEach(o=>{o.destroy()}),this._ownedBindGroups=null,this.resources=null,this.groups=null}static from(e){const{gpu:o,gl:n,...i}=e;let r,s;return o&&(r=te.from(o)),n&&(s=oe.from(n)),new ac({gpuProgram:r,glProgram:s,...i})}}const $4={normal:0,add:1,multiply:2,screen:3,overlay:4,erase:5,"normal-npm":6,"add-npm":7,"screen-npm":8,min:9,max:10},du=0,fu=1,hu=2,gu=3,mu=4,bu=5,ey=class Xx{constructor(){this.data=0,this.blendMode="normal",this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<du)}set blend(e){!!(this.data&1<<du)!==e&&(this.data^=1<<du)}get offsets(){return!!(this.data&1<<fu)}set offsets(e){!!(this.data&1<<fu)!==e&&(this.data^=1<<fu)}set cullMode(e){if(e==="none"){this.culling=!1;return}this.culling=!0,this.clockwiseFrontFace=e==="front"}get cullMode(){return this.culling?this.clockwiseFrontFace?"front":"back":"none"}get culling(){return!!(this.data&1<<hu)}set culling(e){!!(this.data&1<<hu)!==e&&(this.data^=1<<hu)}get depthTest(){return!!(this.data&1<<gu)}set depthTest(e){!!(this.data&1<<gu)!==e&&(this.data^=1<<gu)}get depthMask(){return!!(this.data&1<<bu)}set depthMask(e){!!(this.data&1<<bu)!==e&&(this.data^=1<<bu)}get clockwiseFrontFace(){return!!(this.data&1<<mu)}set clockwiseFrontFace(e){!!(this.data&1<<mu)!==e&&(this.data^=1<<mu)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!=="none",this._blendMode=e,this._blendModeId=$4[e]||0}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}toString(){return`[pixi.js/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const e=new Xx;return e.depthTest=!1,e.blend=!0,e}};ey.default2d=ey.for2d();let W4=ey;const Vx=class ty extends ac{constructor(e){e={...ty.defaultOptions,...e},super(e),this.enabled=!0,this._state=W4.for2d(),this.blendMode=e.blendMode,this.padding=e.padding,typeof e.antialias=="boolean"?this.antialias=e.antialias?"on":"off":this.antialias=e.antialias,this.resolution=e.resolution,this.blendRequired=e.blendRequired,this.addResource("uTexture",0,1)}apply(e,o,n,i){e.applyFilter(this,o,n,i)}get blendMode(){return this._state.blendMode}set blendMode(e){this._state.blendMode=e}static from(e){const{gpu:o,gl:n,...i}=e;let r,s;return o&&(r=te.from(o)),n&&(s=oe.from(n)),new ty({gpuProgram:r,glProgram:s,...i})}};Vx.defaultOptions={blendMode:"normal",resolution:1,padding:0,antialias:"off",blendRequired:!1};let ie=Vx;const oy=[];ot.handleByNamedList(N.Environment,oy);async function H4(t){if(!t)for(let e=0;e<oy.length;e++){const o=oy[e];if(o.value.test()){await o.value.load();return}}}let Rr;function X4(){if(typeof Rr=="boolean")return Rr;try{Rr=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{Rr=!1}return Rr}var $d={exports:{}};$d.exports=cc;$d.exports.default=cc;function cc(t,e,o){o=o||2;var n=e&&e.length,i=n?e[0]*o:t.length,r=qx(t,0,i,o,!0),s=[];if(!r||r.next===r.prev)return s;var l,a,c,u,p,y,d;if(n&&(r=Q4(t,e,r,o)),t.length>80*o){l=c=t[0],a=u=t[1];for(var g=o;g<i;g+=o)p=t[g],y=t[g+1],p<l&&(l=p),y<a&&(a=y),p>c&&(c=p),y>u&&(u=y);d=Math.max(c-l,u-a),d=d!==0?32767/d:0}return Ss(r,s,o,l,a,d,0),s}function qx(t,e,o,n,i){var r,s;if(i===ry(t,e,o,n)>0)for(r=e;r<o;r+=n)s=yg(r,t[r],t[r+1],s);else for(r=o-n;r>=e;r-=n)s=yg(r,t[r],t[r+1],s);return s&&uc(s,s.next)&&(_s(s),s=s.next),s}function qn(t,e){if(!t)return t;e||(e=t);var o=t,n;do if(n=!1,!o.steiner&&(uc(o,o.next)||ze(o.prev,o,o.next)===0)){if(_s(o),o=e=o.prev,o===o.next)break;n=!0}else o=o.next;while(n||o!==e);return e}function Ss(t,e,o,n,i,r,s){if(t){!s&&r&&nS(t,n,i,r);for(var l=t,a,c;t.prev!==t.next;){if(a=t.prev,c=t.next,r?q4(t,n,i,r):V4(t)){e.push(a.i/o|0),e.push(t.i/o|0),e.push(c.i/o|0),_s(t),t=c.next,l=c.next;continue}if(t=c,t===l){s?s===1?(t=Y4(qn(t),e,o),Ss(t,e,o,n,i,r,2)):s===2&&K4(t,e,o,n,i,r):Ss(qn(t),e,o,n,i,r,1);break}}}}function V4(t){var e=t.prev,o=t,n=t.next;if(ze(e,o,n)>=0)return!1;for(var i=e.x,r=o.x,s=n.x,l=e.y,a=o.y,c=n.y,u=i<r?i<s?i:s:r<s?r:s,p=l<a?l<c?l:c:a<c?a:c,y=i>r?i>s?i:s:r>s?r:s,d=l>a?l>c?l:c:a>c?a:c,g=n.next;g!==e;){if(g.x>=u&&g.x<=y&&g.y>=p&&g.y<=d&&Oi(i,l,r,a,s,c,g.x,g.y)&&ze(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}function q4(t,e,o,n){var i=t.prev,r=t,s=t.next;if(ze(i,r,s)>=0)return!1;for(var l=i.x,a=r.x,c=s.x,u=i.y,p=r.y,y=s.y,d=l<a?l<c?l:c:a<c?a:c,g=u<p?u<y?u:y:p<y?p:y,f=l>a?l>c?l:c:a>c?a:c,b=u>p?u>y?u:y:p>y?p:y,h=ny(d,g,e,o,n),m=ny(f,b,e,o,n),k=t.prevZ,w=t.nextZ;k&&k.z>=h&&w&&w.z<=m;){if(k.x>=d&&k.x<=f&&k.y>=g&&k.y<=b&&k!==i&&k!==s&&Oi(l,u,a,p,c,y,k.x,k.y)&&ze(k.prev,k,k.next)>=0||(k=k.prevZ,w.x>=d&&w.x<=f&&w.y>=g&&w.y<=b&&w!==i&&w!==s&&Oi(l,u,a,p,c,y,w.x,w.y)&&ze(w.prev,w,w.next)>=0))return!1;w=w.nextZ}for(;k&&k.z>=h;){if(k.x>=d&&k.x<=f&&k.y>=g&&k.y<=b&&k!==i&&k!==s&&Oi(l,u,a,p,c,y,k.x,k.y)&&ze(k.prev,k,k.next)>=0)return!1;k=k.prevZ}for(;w&&w.z<=m;){if(w.x>=d&&w.x<=f&&w.y>=g&&w.y<=b&&w!==i&&w!==s&&Oi(l,u,a,p,c,y,w.x,w.y)&&ze(w.prev,w,w.next)>=0)return!1;w=w.nextZ}return!0}function Y4(t,e,o){var n=t;do{var i=n.prev,r=n.next.next;!uc(i,r)&&Yx(i,n,n.next,r)&&Es(i,r)&&Es(r,i)&&(e.push(i.i/o|0),e.push(n.i/o|0),e.push(r.i/o|0),_s(n),_s(n.next),n=t=r),n=n.next}while(n!==t);return qn(n)}function K4(t,e,o,n,i,r){var s=t;do{for(var l=s.next.next;l!==s.prev;){if(s.i!==l.i&&sS(s,l)){var a=Kx(s,l);s=qn(s,s.next),a=qn(a,a.next),Ss(s,e,o,n,i,r,0),Ss(a,e,o,n,i,r,0);return}l=l.next}s=s.next}while(s!==t)}function Q4(t,e,o,n){var i=[],r,s,l,a,c;for(r=0,s=e.length;r<s;r++)l=e[r]*n,a=r<s-1?e[r+1]*n:t.length,c=qx(t,l,a,n,!1),c===c.next&&(c.steiner=!0),i.push(rS(c));for(i.sort(J4),r=0;r<i.length;r++)o=eS(i[r],o);return o}function J4(t,e){return t.x-e.x}function eS(t,e){var o=tS(t,e);if(!o)return e;var n=Kx(o,t);return qn(n,n.next),qn(o,o.next)}function tS(t,e){var o=e,n=t.x,i=t.y,r=-1/0,s;do{if(i<=o.y&&i>=o.next.y&&o.next.y!==o.y){var l=o.x+(i-o.y)*(o.next.x-o.x)/(o.next.y-o.y);if(l<=n&&l>r&&(r=l,s=o.x<o.next.x?o:o.next,l===n))return s}o=o.next}while(o!==e);if(!s)return null;var a=s,c=s.x,u=s.y,p=1/0,y;o=s;do n>=o.x&&o.x>=c&&n!==o.x&&Oi(i<u?n:r,i,c,u,i<u?r:n,i,o.x,o.y)&&(y=Math.abs(i-o.y)/(n-o.x),Es(o,t)&&(y<p||y===p&&(o.x>s.x||o.x===s.x&&oS(s,o)))&&(s=o,p=y)),o=o.next;while(o!==a);return s}function oS(t,e){return ze(t.prev,t,e.prev)<0&&ze(e.next,t,t.next)<0}function nS(t,e,o,n){var i=t;do i.z===0&&(i.z=ny(i.x,i.y,e,o,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,iS(i)}function iS(t){var e,o,n,i,r,s,l,a,c=1;do{for(o=t,t=null,r=null,s=0;o;){for(s++,n=o,l=0,e=0;e<c&&(l++,n=n.nextZ,!!n);e++);for(a=c;l>0||a>0&&n;)l!==0&&(a===0||!n||o.z<=n.z)?(i=o,o=o.nextZ,l--):(i=n,n=n.nextZ,a--),r?r.nextZ=i:t=i,i.prevZ=r,r=i;o=n}r.nextZ=null,c*=2}while(s>1);return t}function ny(t,e,o,n,i){return t=(t-o)*i|0,e=(e-n)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function rS(t){var e=t,o=t;do(e.x<o.x||e.x===o.x&&e.y<o.y)&&(o=e),e=e.next;while(e!==t);return o}function Oi(t,e,o,n,i,r,s,l){return(i-s)*(e-l)>=(t-s)*(r-l)&&(t-s)*(n-l)>=(o-s)*(e-l)&&(o-s)*(r-l)>=(i-s)*(n-l)}function sS(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!lS(t,e)&&(Es(t,e)&&Es(e,t)&&aS(t,e)&&(ze(t.prev,t,e.prev)||ze(t,e.prev,e))||uc(t,e)&&ze(t.prev,t,t.next)>0&&ze(e.prev,e,e.next)>0)}function ze(t,e,o){return(e.y-t.y)*(o.x-e.x)-(e.x-t.x)*(o.y-e.y)}function uc(t,e){return t.x===e.x&&t.y===e.y}function Yx(t,e,o,n){var i=ml(ze(t,e,o)),r=ml(ze(t,e,n)),s=ml(ze(o,n,t)),l=ml(ze(o,n,e));return!!(i!==r&&s!==l||i===0&&gl(t,o,e)||r===0&&gl(t,n,e)||s===0&&gl(o,t,n)||l===0&&gl(o,e,n))}function gl(t,e,o){return e.x<=Math.max(t.x,o.x)&&e.x>=Math.min(t.x,o.x)&&e.y<=Math.max(t.y,o.y)&&e.y>=Math.min(t.y,o.y)}function ml(t){return t>0?1:t<0?-1:0}function lS(t,e){var o=t;do{if(o.i!==t.i&&o.next.i!==t.i&&o.i!==e.i&&o.next.i!==e.i&&Yx(o,o.next,t,e))return!0;o=o.next}while(o!==t);return!1}function Es(t,e){return ze(t.prev,t,t.next)<0?ze(t,e,t.next)>=0&&ze(t,t.prev,e)>=0:ze(t,e,t.prev)<0||ze(t,t.next,e)<0}function aS(t,e){var o=t,n=!1,i=(t.x+e.x)/2,r=(t.y+e.y)/2;do o.y>r!=o.next.y>r&&o.next.y!==o.y&&i<(o.next.x-o.x)*(r-o.y)/(o.next.y-o.y)+o.x&&(n=!n),o=o.next;while(o!==t);return n}function Kx(t,e){var o=new iy(t.i,t.x,t.y),n=new iy(e.i,e.x,e.y),i=t.next,r=e.prev;return t.next=e,e.prev=t,o.next=i,i.prev=o,n.next=o,o.prev=n,r.next=n,n.prev=r,n}function yg(t,e,o,n){var i=new iy(t,e,o);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function _s(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function iy(t,e,o){this.i=t,this.x=e,this.y=o,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}cc.deviation=function(t,e,o,n){var i=e&&e.length,r=i?e[0]*o:t.length,s=Math.abs(ry(t,0,r,o));if(i)for(var l=0,a=e.length;l<a;l++){var c=e[l]*o,u=l<a-1?e[l+1]*o:t.length;s-=Math.abs(ry(t,c,u,o))}var p=0;for(l=0;l<n.length;l+=3){var y=n[l]*o,d=n[l+1]*o,g=n[l+2]*o;p+=Math.abs((t[y]-t[g])*(t[d+1]-t[y+1])-(t[y]-t[d])*(t[g+1]-t[y+1]))}return s===0&&p===0?0:Math.abs((p-s)/s)};function ry(t,e,o,n){for(var i=0,r=e,s=o-n;r<o;r+=n)i+=(t[s]-t[r])*(t[r+1]+t[s+1]),s=r;return i}cc.flatten=function(t){for(var e=t[0][0].length,o={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var r=0;r<t[i].length;r++)for(var s=0;s<e;s++)o.vertices.push(t[i][r][s]);i>0&&(n+=t[i-1].length,o.holes.push(n))}return o};var cS=$d.exports;const uS=ni(cS);var Qx=(t=>(t[t.NONE=0]="NONE",t[t.COLOR=16384]="COLOR",t[t.STENCIL=1024]="STENCIL",t[t.DEPTH=256]="DEPTH",t[t.COLOR_DEPTH=16640]="COLOR_DEPTH",t[t.COLOR_STENCIL=17408]="COLOR_STENCIL",t[t.DEPTH_STENCIL=1280]="DEPTH_STENCIL",t[t.ALL=17664]="ALL",t))(Qx||{});class pS{constructor(e){this.items=[],this._name=e}emit(e,o,n,i,r,s,l,a){const{name:c,items:u}=this;for(let p=0,y=u.length;p<y;p++)u[p][c](e,o,n,i,r,s,l,a);return this}add(e){return e[this._name]&&(this.remove(e),this.items.push(e)),this}remove(e){const o=this.items.indexOf(e);return o!==-1&&this.items.splice(o,1),this}contains(e){return this.items.indexOf(e)!==-1}removeAll(){return this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}const yS=["init","destroy","contextChange","resolutionChange","reset","renderEnd","renderStart","render","update","postrender","prerender"],Jx=class e1 extends Qt{constructor(e){super(),this.runners=Object.create(null),this.renderPipes=Object.create(null),this._initOptions={},this._systemsHash=Object.create(null),this.type=e.type,this.name=e.name,this.config=e;const o=[...yS,...this.config.runners??[]];this._addRunners(...o),this._unsafeEvalCheck()}async init(e={}){const o=e.skipExtensionImports===!0?!0:e.manageImports===!1;await H4(o),this._addSystems(this.config.systems),this._addPipes(this.config.renderPipes,this.config.renderPipeAdaptors);for(const n in this._systemsHash)e={...this._systemsHash[n].constructor.defaultOptions,...e};e={...e1.defaultOptions,...e},this._roundPixels=e.roundPixels?1:0;for(let n=0;n<this.runners.init.items.length;n++)await this.runners.init.items[n].init(e);this._initOptions=e}render(e,o){let n=e;if(n instanceof pe&&(n={container:n},o&&($(ue,"passing a second argument is deprecated, please use render options instead"),n.target=o.renderTexture)),n.target||(n.target=this.view.renderTarget),n.target===this.view.renderTarget&&(this._lastObjectRendered=n.container,n.clearColor=this.background.colorRgba),n.clearColor){const i=Array.isArray(n.clearColor)&&n.clearColor.length===4;n.clearColor=i?n.clearColor:K.shared.setValue(n.clearColor).toArray()}n.transform||(n.container.updateLocalTransform(),n.transform=n.container.localTransform),this.runners.prerender.emit(n),this.runners.renderStart.emit(n),this.runners.render.emit(n),this.runners.renderEnd.emit(n),this.runners.postrender.emit(n)}resize(e,o,n){const i=this.view.resolution;this.view.resize(e,o,n),this.emit("resize",this.view.screen.width,this.view.screen.height,this.view.resolution),n!==void 0&&n!==i&&this.runners.resolutionChange.emit(n)}clear(e={}){const o=this;e.target||(e.target=o.renderTarget.renderTarget),e.clearColor||(e.clearColor=this.background.colorRgba),e.clear??(e.clear=Qx.ALL);const{clear:n,clearColor:i,target:r}=e;K.shared.setValue(i??this.background.colorRgba),o.renderTarget.clear(r,n,K.shared.toArray())}get resolution(){return this.view.resolution}set resolution(e){this.view.resolution=e,this.runners.resolutionChange.emit(e)}get width(){return this.view.texture.frame.width}get height(){return this.view.texture.frame.height}get canvas(){return this.view.canvas}get lastObjectRendered(){return this._lastObjectRendered}get renderingToScreen(){return this.renderTarget.renderingToScreen}get screen(){return this.view.screen}_addRunners(...e){e.forEach(o=>{this.runners[o]=new pS(o)})}_addSystems(e){let o;for(o in e){const n=e[o];this._addSystem(n.value,n.name)}}_addSystem(e,o){const n=new e(this);if(this[o])throw new Error(`Whoops! The name "${o}" is already in use`);this[o]=n,this._systemsHash[o]=n;for(const i in this.runners)this.runners[i].add(n);return this}_addPipes(e,o){const n=o.reduce((i,r)=>(i[r.name]=r.value,i),{});e.forEach(i=>{const r=i.value,s=i.name,l=n[s];this.renderPipes[s]=new r(this,l?new l:null)})}destroy(e=!1){this.runners.destroy.items.reverse(),this.runners.destroy.emit(e),Object.values(this.runners).forEach(o=>{o.destroy()}),this._systemsHash=null,this.renderPipes=null}generateTexture(e){return this.textureGenerator.generateTexture(e)}get roundPixels(){return!!this._roundPixels}_unsafeEvalCheck(){if(!X4())throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}};Jx.defaultOptions={resolution:1,failIfMajorPerformanceCaveat:!1,roundPixels:!1};let t1=Jx,bl;function dS(t){return bl!==void 0||(bl=(()=>{const e={stencil:!0,failIfMajorPerformanceCaveat:t??t1.defaultOptions.failIfMajorPerformanceCaveat};try{if(!Ee.get().getWebGLRenderingContext())return!1;let n=Ee.get().createCanvas().getContext("webgl",e);const i=!!n?.getContextAttributes()?.stencil;if(n){const r=n.getExtension("WEBGL_lose_context");r&&r.loseContext()}return n=null,i}catch{return!1}})()),bl}let xl;async function fS(t={}){return xl!==void 0||(xl=await(async()=>{const e=Ee.get().getNavigator().gpu;if(!e)return!1;try{return await(await e.requestAdapter(t)).requestDevice(),!0}catch{return!1}})()),xl}const dg=["webgl","webgpu","canvas"];async function hS(t){let e=[];t.preference?(e.push(t.preference),dg.forEach(r=>{r!==t.preference&&e.push(r)})):e=dg.slice();let o,n={};for(let r=0;r<e.length;r++){const s=e[r];if(s==="webgpu"&&await fS()){const{WebGPURenderer:l}=await Ra(async()=>{const{WebGPURenderer:a}=await import("./WebGPURenderer-DOZtYCQy.js");return{WebGPURenderer:a}},__vite__mapDeps([3,2,4]));o=l,n={...t,...t.webgpu};break}else if(s==="webgl"&&dS(t.failIfMajorPerformanceCaveat??t1.defaultOptions.failIfMajorPerformanceCaveat)){const{WebGLRenderer:l}=await Ra(async()=>{const{WebGLRenderer:a}=await import("./WebGLRenderer-CTQUxuwq.js");return{WebGLRenderer:a}},__vite__mapDeps([5,2,4]));o=l,n={...t,...t.webgl};break}else if(s==="canvas")throw n={...t},new Error("CanvasRenderer is not yet implemented")}if(delete n.webgpu,delete n.webgl,!o)throw new Error("No available renderer for the current environment");const i=new o;return await i.init(n),i}const o1="8.4.1";class n1{static init(){globalThis.__PIXI_APP_INIT__?.(this,o1)}static destroy(){}}n1.extension=N.Application;class gS{constructor(e){this._renderer=e}init(){globalThis.__PIXI_RENDERER_INIT__?.(this._renderer,o1)}destroy(){this._renderer=null}}gS.extension={type:[N.WebGLSystem,N.WebGPUSystem],name:"initHook",priority:-10};const i1=class sy{constructor(...e){this.stage=new pe,e[0]!==void 0&&$(ue,"Application constructor options are deprecated, please use Application.init() instead.")}async init(e){e={...e},this.renderer=await hS(e),sy._plugins.forEach(o=>{o.init.call(this,e)})}render(){this.renderer.render({container:this.stage})}get canvas(){return this.renderer.canvas}get view(){return $(ue,"Application.view is deprecated, please use Application.canvas instead."),this.renderer.canvas}get screen(){return this.renderer.screen}destroy(e=!1,o=!1){const n=sy._plugins.slice(0);n.reverse(),n.forEach(i=>{i.destroy.call(this)}),this.stage.destroy(o),this.stage=null,this.renderer.destroy(e),this.renderer=null}};i1._plugins=[];let r1=i1;ot.handleByList(N.Application,r1._plugins);ot.add(n1);class s1 extends Qt{constructor(){super(...arguments),this.chars=Object.create(null),this.lineHeight=0,this.fontFamily="",this.fontMetrics={fontSize:0,ascent:0,descent:0},this.baseLineOffset=0,this.distanceField={type:"none",range:0},this.pages=[],this.applyFillAsTint=!0,this.baseMeasurementFontSize=100,this.baseRenderedFontSize=100}get font(){return $(ue,"BitmapFont.font is deprecated, please use BitmapFont.fontFamily instead."),this.fontFamily}get pageTextures(){return $(ue,"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}get size(){return $(ue,"BitmapFont.size is deprecated, please use BitmapFont.fontMetrics.fontSize instead."),this.fontMetrics.fontSize}get distanceFieldRange(){return $(ue,"BitmapFont.distanceFieldRange is deprecated, please use BitmapFont.distanceField.range instead."),this.distanceField.range}get distanceFieldType(){return $(ue,"BitmapFont.distanceFieldType is deprecated, please use BitmapFont.distanceField.type instead."),this.distanceField.type}destroy(e=!1){this.emit("destroy",this),this.removeAllListeners();for(const o in this.chars)this.chars[o].texture?.destroy();this.chars=null,e&&(this.pages.forEach(o=>o.texture.destroy(!0)),this.pages=null)}}const l1=class ly{constructor(e,o,n,i){this.uid=je("fillGradient"),this.type="linear",this.gradientStops=[],this._styleKey=null,this.x0=e,this.y0=o,this.x1=n,this.y1=i}addColorStop(e,o){return this.gradientStops.push({offset:e,color:K.shared.setValue(o).toHexa()}),this._styleKey=null,this}buildLinearGradient(){const e=ly.defaultTextureSize,{gradientStops:o}=this,n=Ee.get().createCanvas();n.width=e,n.height=e;const i=n.getContext("2d"),r=i.createLinearGradient(0,0,ly.defaultTextureSize,1);for(let f=0;f<o.length;f++){const b=o[f];r.addColorStop(b.offset,b.color)}i.fillStyle=r,i.fillRect(0,0,e,e),this.texture=new q({source:new si({resource:n,addressModeU:"clamp-to-edge",addressModeV:"repeat"})});const{x0:s,y0:l,x1:a,y1:c}=this,u=new le,p=a-s,y=c-l,d=Math.sqrt(p*p+y*y),g=Math.atan2(y,p);u.translate(-s,-l),u.scale(1/e,1/e),u.rotate(-g),u.scale(256/d,1),this.transform=u,this._styleKey=null}get styleKey(){if(this._styleKey)return this._styleKey;const e=this.gradientStops.map(i=>`${i.offset}-${i.color}`).join("-"),o=this.texture.uid,n=this.transform.toArray().join("-");return`fill-gradient-${this.uid}-${e}-${o}-${n}-${this.x0}-${this.y0}-${this.x1}-${this.y1}`}};l1.defaultTextureSize=256;let Cs=l1;const fg={repeat:{addressModeU:"repeat",addressModeV:"repeat"},"repeat-x":{addressModeU:"repeat",addressModeV:"clamp-to-edge"},"repeat-y":{addressModeU:"clamp-to-edge",addressModeV:"repeat"},"no-repeat":{addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}};class pc{constructor(e,o){this.uid=je("fillPattern"),this.transform=new le,this._styleKey=null,this.texture=e,this.transform.scale(1/e.frame.width,1/e.frame.height),o&&(e.source.style.addressModeU=fg[o].addressModeU,e.source.style.addressModeV=fg[o].addressModeV)}setTransform(e){const o=this.texture;this.transform.copyFrom(e),this.transform.invert(),this.transform.scale(1/o.frame.width,1/o.frame.height),this._styleKey=null}get styleKey(){return this._styleKey?this._styleKey:(this._styleKey=`fill-pattern-${this.uid}-${this.texture.uid}-${this.transform.toArray().join("-")}`,this._styleKey)}}var mS=xS,xu={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},bS=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function xS(t){var e=[];return t.replace(bS,function(o,n,i){var r=n.toLowerCase();for(i=wS(i),r=="m"&&i.length>2&&(e.push([n].concat(i.splice(0,2))),r="l",n=n=="m"?"l":"L");;){if(i.length==xu[r])return i.unshift(n),e.push(i);if(i.length<xu[r])throw new Error("malformed path data");e.push([n].concat(i.splice(0,xu[r])))}}),e}var kS=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function wS(t){var e=t.match(kS);return e?e.map(Number):[]}const vS=ni(mS);function zS(t,e){const o=vS(t),n=[];let i=null,r=0,s=0;for(let l=0;l<o.length;l++){const a=o[l],c=a[0],u=a;switch(c){case"M":r=u[1],s=u[2],e.moveTo(r,s);break;case"m":r+=u[1],s+=u[2],e.moveTo(r,s);break;case"H":r=u[1],e.lineTo(r,s);break;case"h":r+=u[1],e.lineTo(r,s);break;case"V":s=u[1],e.lineTo(r,s);break;case"v":s+=u[1],e.lineTo(r,s);break;case"L":r=u[1],s=u[2],e.lineTo(r,s);break;case"l":r+=u[1],s+=u[2],e.lineTo(r,s);break;case"C":r=u[5],s=u[6],e.bezierCurveTo(u[1],u[2],u[3],u[4],r,s);break;case"c":e.bezierCurveTo(r+u[1],s+u[2],r+u[3],s+u[4],r+u[5],s+u[6]),r+=u[5],s+=u[6];break;case"S":r=u[3],s=u[4],e.bezierCurveToShort(u[1],u[2],r,s);break;case"s":e.bezierCurveToShort(r+u[1],s+u[2],r+u[3],s+u[4]),r+=u[3],s+=u[4];break;case"Q":r=u[3],s=u[4],e.quadraticCurveTo(u[1],u[2],r,s);break;case"q":e.quadraticCurveTo(r+u[1],s+u[2],r+u[3],s+u[4]),r+=u[3],s+=u[4];break;case"T":r=u[1],s=u[2],e.quadraticCurveToShort(r,s);break;case"t":r+=u[1],s+=u[2],e.quadraticCurveToShort(r,s);break;case"A":r=u[6],s=u[7],e.arcToSvg(u[1],u[2],u[3],u[4],u[5],r,s);break;case"a":r+=u[6],s+=u[7],e.arcToSvg(u[1],u[2],u[3],u[4],u[5],r,s);break;case"Z":case"z":e.closePath(),n.length>0&&(i=n.pop(),i?(r=i.startX,s=i.startY):(r=0,s=0)),i=null;break;default:Ie(`Unknown SVG path command: ${c}`)}c!=="Z"&&c!=="z"&&i===null&&(i={startX:r,startY:s},n.push(i))}return e}class Wd{constructor(e=0,o=0,n=0){this.type="circle",this.x=e,this.y=o,this.radius=n}clone(){return new Wd(this.x,this.y,this.radius)}contains(e,o){if(this.radius<=0)return!1;const n=this.radius*this.radius;let i=this.x-e,r=this.y-o;return i*=i,r*=r,i+r<=n}strokeContains(e,o,n){if(this.radius===0)return!1;const i=this.x-e,r=this.y-o,s=this.radius,l=n/2,a=Math.sqrt(i*i+r*r);return a<s+l&&a>s-l}getBounds(e){return e=e||new Te,e.x=this.x-this.radius,e.y=this.y-this.radius,e.width=this.radius*2,e.height=this.radius*2,e}copyFrom(e){return this.x=e.x,this.y=e.y,this.radius=e.radius,this}copyTo(e){return e.copyFrom(this),e}toString(){return`[pixi.js/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class Hd{constructor(e=0,o=0,n=0,i=0){this.type="ellipse",this.x=e,this.y=o,this.halfWidth=n,this.halfHeight=i}clone(){return new Hd(this.x,this.y,this.halfWidth,this.halfHeight)}contains(e,o){if(this.halfWidth<=0||this.halfHeight<=0)return!1;let n=(e-this.x)/this.halfWidth,i=(o-this.y)/this.halfHeight;return n*=n,i*=i,n+i<=1}strokeContains(e,o,n){const{halfWidth:i,halfHeight:r}=this;if(i<=0||r<=0)return!1;const s=n/2,l=i-s,a=r-s,c=i+s,u=r+s,p=e-this.x,y=o-this.y,d=p*p/(l*l)+y*y/(a*a),g=p*p/(c*c)+y*y/(u*u);return d>1&&g<=1}getBounds(e){return e=e||new Te,e.x=this.x-this.halfWidth,e.y=this.y-this.halfHeight,e.width=this.halfWidth*2,e.height=this.halfHeight*2,e}copyFrom(e){return this.x=e.x,this.y=e.y,this.halfWidth=e.halfWidth,this.halfHeight=e.halfHeight,this}copyTo(e){return e.copyFrom(this),e}toString(){return`[pixi.js/math:Ellipse x=${this.x} y=${this.y} halfWidth=${this.halfWidth} halfHeight=${this.halfHeight}]`}}function SS(t,e,o,n,i,r){const s=t-o,l=e-n,a=i-o,c=r-n,u=s*a+l*c,p=a*a+c*c;let y=-1;p!==0&&(y=u/p);let d,g;y<0?(d=o,g=n):y>1?(d=i,g=r):(d=o+y*a,g=n+y*c);const f=t-d,b=e-g;return f*f+b*b}class ns{constructor(...e){this.type="polygon";let o=Array.isArray(e[0])?e[0]:e;if(typeof o[0]!="number"){const n=[];for(let i=0,r=o.length;i<r;i++)n.push(o[i].x,o[i].y);o=n}this.points=o,this.closePath=!0}clone(){const e=this.points.slice(),o=new ns(e);return o.closePath=this.closePath,o}contains(e,o){let n=!1;const i=this.points.length/2;for(let r=0,s=i-1;r<i;s=r++){const l=this.points[r*2],a=this.points[r*2+1],c=this.points[s*2],u=this.points[s*2+1];a>o!=u>o&&e<(c-l)*((o-a)/(u-a))+l&&(n=!n)}return n}strokeContains(e,o,n){const i=n/2,r=i*i,{points:s}=this,l=s.length-(this.closePath?0:2);for(let a=0;a<l;a+=2){const c=s[a],u=s[a+1],p=s[(a+2)%s.length],y=s[(a+3)%s.length];if(SS(e,o,c,u,p,y)<=r)return!0}return!1}getBounds(e){e=e||new Te;const o=this.points;let n=1/0,i=-1/0,r=1/0,s=-1/0;for(let l=0,a=o.length;l<a;l+=2){const c=o[l],u=o[l+1];n=c<n?c:n,i=c>i?c:i,r=u<r?u:r,s=u>s?u:s}return e.x=n,e.width=i-n,e.y=r,e.height=s-r,e}copyFrom(e){return this.points=e.points.slice(),this.closePath=e.closePath,this}copyTo(e){return e.copyFrom(this),e}toString(){return`[pixi.js/math:PolygoncloseStroke=${this.closePath}points=${this.points.reduce((e,o)=>`${e}, ${o}`,"")}]`}get lastX(){return this.points[this.points.length-2]}get lastY(){return this.points[this.points.length-1]}get x(){return this.points[this.points.length-2]}get y(){return this.points[this.points.length-1]}}const kl=(t,e,o,n,i,r)=>{const s=t-o,l=e-n,a=Math.sqrt(s*s+l*l);return a>=i-r&&a<=i+r};class Xd{constructor(e=0,o=0,n=0,i=0,r=20){this.type="roundedRectangle",this.x=e,this.y=o,this.width=n,this.height=i,this.radius=r}getBounds(e){return e=e||new Te,e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}clone(){return new Xd(this.x,this.y,this.width,this.height,this.radius)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.copyFrom(this),e}contains(e,o){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&o>=this.y&&o<=this.y+this.height){const n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(o>=this.y+n&&o<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;let i=e-(this.x+n),r=o-(this.y+n);const s=n*n;if(i*i+r*r<=s||(i=e-(this.x+this.width-n),i*i+r*r<=s)||(r=o-(this.y+this.height-n),i*i+r*r<=s)||(i=e-(this.x+n),i*i+r*r<=s))return!0}return!1}strokeContains(e,o,n){const{x:i,y:r,width:s,height:l,radius:a}=this,c=n/2,u=i+a,p=r+a,y=s-a*2,d=l-a*2,g=i+s,f=r+l;return(e>=i-c&&e<=i+c||e>=g-c&&e<=g+c)&&o>=p&&o<=p+d||(o>=r-c&&o<=r+c||o>=f-c&&o<=f+c)&&e>=u&&e<=u+y?!0:e<u&&o<p&&kl(e,o,u,p,a,c)||e>g-a&&o<p&&kl(e,o,g-a,p,a,c)||e>g-a&&o>f-a&&kl(e,o,g-a,f-a,a,c)||e<u&&o>f-a&&kl(e,o,u,f-a,a,c)}toString(){return`[pixi.js/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}const ES=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function _S(t){let e="";for(let o=0;o<t;++o)o>0&&(e+=`
else `),o<t-1&&(e+=`if(test == ${o}.0){}`);return e}function CS(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const o=e.createShader(e.FRAGMENT_SHADER);try{for(;;){const n=ES.replace(/%forloop%/gi,_S(t));if(e.shaderSource(o,n),e.compileShader(o),!e.getShaderParameter(o,e.COMPILE_STATUS))t=t/2|0;else break}}finally{e.deleteShader(o)}return t}let pi=null;function a1(){if(pi)return pi;const t=Nx();return pi=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),pi=CS(pi,t),t.getExtension("WEBGL_lose_context")?.loseContext(),pi}const c1={};function ZS(t,e){let o=2166136261;for(let n=0;n<e;n++)o^=t[n].uid,o=Math.imul(o,16777619),o>>>=0;return c1[o]||RS(t,e,o)}let ku=0;function RS(t,e,o){const n={};let i=0;ku||(ku=a1());for(let s=0;s<ku;s++){const l=s<e?t[s]:q.EMPTY.source;n[i++]=l.source,n[i++]=l.style}const r=new Vl(n);return c1[o]=r,r}class hg{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData),this.size=this.rawBinaryData.byteLength}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}get float64View(){return this._float64Array||(this._float64Array=new Float64Array(this.rawBinaryData)),this._float64Array}get bigUint64View(){return this._bigUint64Array||(this._bigUint64Array=new BigUint64Array(this.rawBinaryData)),this._bigUint64Array}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this.uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}function gg(t,e){const o=t.byteLength/8|0,n=new Float64Array(t,0,o);new Float64Array(e,0,o).set(n);const r=t.byteLength-o*8;if(r>0){const s=new Uint8Array(t,o*8,r);new Uint8Array(e,o*8,r).set(s)}}const AS={normal:"normal-npm",add:"add-npm",screen:"screen-npm"};var PS=(t=>(t[t.DISABLED=0]="DISABLED",t[t.RENDERING_MASK_ADD=1]="RENDERING_MASK_ADD",t[t.MASK_ACTIVE=2]="MASK_ACTIVE",t[t.RENDERING_MASK_REMOVE=3]="RENDERING_MASK_REMOVE",t[t.NONE=4]="NONE",t))(PS||{});function mg(t,e){return e.alphaMode==="no-premultiply-alpha"&&AS[t]||t}class TS{constructor(){this.ids=Object.create(null),this.textures=[],this.count=0}clear(){for(let e=0;e<this.count;e++){const o=this.textures[e];this.textures[e]=null,this.ids[o.uid]=null}this.count=0}}class jS{constructor(){this.renderPipeId="batch",this.action="startBatch",this.start=0,this.size=0,this.textures=new TS,this.blendMode="normal",this.canBundle=!0}destroy(){this.textures=null,this.gpuBindGroup=null,this.bindGroup=null,this.batcher=null}}const u1=[];let ay=0;function bg(){return ay>0?u1[--ay]:new jS}function xg(t){u1[ay++]=t}let Ar=0;const p1=class ql{constructor(e={}){this.uid=je("batcher"),this.dirty=!0,this.batchIndex=0,this.batches=[],this._elements=[],ql.defaultOptions.maxTextures=ql.defaultOptions.maxTextures??a1(),e={...ql.defaultOptions,...e};const{maxTextures:o,attributesInitialSize:n,indicesInitialSize:i}=e;this.attributeBuffer=new hg(n*4),this.indexBuffer=new Uint16Array(i),this.maxTextures=o}begin(){this.elementSize=0,this.elementStart=0,this.indexSize=0,this.attributeSize=0;for(let e=0;e<this.batchIndex;e++)xg(this.batches[e]);this.batchIndex=0,this._batchIndexStart=0,this._batchIndexSize=0,this.dirty=!0}add(e){this._elements[this.elementSize++]=e,e._indexStart=this.indexSize,e._attributeStart=this.attributeSize,e._batcher=this,this.indexSize+=e.indexSize,this.attributeSize+=e.attributeSize*this.vertexSize}checkAndUpdateTexture(e,o){const n=e._batch.textures.ids[o._source.uid];return!n&&n!==0?!1:(e._textureId=n,e.texture=o,!0)}updateElement(e){this.dirty=!0;const o=this.attributeBuffer;e.packAsQuad?this.packQuadAttributes(e,o.float32View,o.uint32View,e._attributeStart,e._textureId):this.packAttributes(e,o.float32View,o.uint32View,e._attributeStart,e._textureId)}break(e){const o=this._elements;if(!o[this.elementStart])return;let n=bg(),i=n.textures;i.clear();const r=o[this.elementStart];let s=mg(r.blendMode,r.texture._source);this.attributeSize*4>this.attributeBuffer.size&&this._resizeAttributeBuffer(this.attributeSize*4),this.indexSize>this.indexBuffer.length&&this._resizeIndexBuffer(this.indexSize);const l=this.attributeBuffer.float32View,a=this.attributeBuffer.uint32View,c=this.indexBuffer;let u=this._batchIndexSize,p=this._batchIndexStart,y="startBatch";const d=this.maxTextures;for(let g=this.elementStart;g<this.elementSize;++g){const f=o[g];o[g]=null;const h=f.texture._source,m=mg(f.blendMode,h),k=s!==m;if(h._batchTick===Ar&&!k){f._textureId=h._textureBindLocation,u+=f.indexSize,f.packAsQuad?(this.packQuadAttributes(f,l,a,f._attributeStart,f._textureId),this.packQuadIndex(c,f._indexStart,f._attributeStart/this.vertexSize)):(this.packAttributes(f,l,a,f._attributeStart,f._textureId),this.packIndex(f,c,f._indexStart,f._attributeStart/this.vertexSize)),f._batch=n;continue}h._batchTick=Ar,(i.count>=d||k)&&(this._finishBatch(n,p,u-p,i,s,e,y),y="renderBatch",p=u,s=m,n=bg(),i=n.textures,i.clear(),++Ar),f._textureId=h._textureBindLocation=i.count,i.ids[h.uid]=i.count,i.textures[i.count++]=h,f._batch=n,u+=f.indexSize,f.packAsQuad?(this.packQuadAttributes(f,l,a,f._attributeStart,f._textureId),this.packQuadIndex(c,f._indexStart,f._attributeStart/this.vertexSize)):(this.packAttributes(f,l,a,f._attributeStart,f._textureId),this.packIndex(f,c,f._indexStart,f._attributeStart/this.vertexSize))}i.count>0&&(this._finishBatch(n,p,u-p,i,s,e,y),p=u,++Ar),this.elementStart=this.elementSize,this._batchIndexStart=p,this._batchIndexSize=u}_finishBatch(e,o,n,i,r,s,l){e.gpuBindGroup=null,e.bindGroup=null,e.action=l,e.batcher=this,e.textures=i,e.blendMode=r,e.start=o,e.size=n,++Ar,this.batches[this.batchIndex++]=e,s.add(e)}finish(e){this.break(e)}ensureAttributeBuffer(e){e*4<=this.attributeBuffer.size||this._resizeAttributeBuffer(e*4)}ensureIndexBuffer(e){e<=this.indexBuffer.length||this._resizeIndexBuffer(e)}_resizeAttributeBuffer(e){const o=Math.max(e,this.attributeBuffer.size*2),n=new hg(o);gg(this.attributeBuffer.rawBinaryData,n.rawBinaryData),this.attributeBuffer=n}_resizeIndexBuffer(e){const o=this.indexBuffer;let n=Math.max(e,o.length*1.5);n+=n%2;const i=n>65535?new Uint32Array(n):new Uint16Array(n);if(i.BYTES_PER_ELEMENT!==o.BYTES_PER_ELEMENT)for(let r=0;r<o.length;r++)i[r]=o[r];else gg(o.buffer,i.buffer);this.indexBuffer=i}packQuadIndex(e,o,n){e[o]=n+0,e[o+1]=n+1,e[o+2]=n+2,e[o+3]=n+0,e[o+4]=n+2,e[o+5]=n+3}packIndex(e,o,n,i){const r=e.indices,s=e.indexSize,l=e.indexOffset,a=e.attributeOffset;for(let c=0;c<s;c++)o[n++]=i+r[c+l]-a}destroy(){for(let e=0;e<this.batches.length;e++)xg(this.batches[e]);this.batches=null;for(let e=0;e<this._elements.length;e++)this._elements[e]._batch=null;this._elements=null,this.indexBuffer=null,this.attributeBuffer.destroy(),this.attributeBuffer=null}};p1.defaultOptions={maxTextures:null,attributesInitialSize:4,indicesInitialSize:6};let IS=p1;var ct=(t=>(t[t.MAP_READ=1]="MAP_READ",t[t.MAP_WRITE=2]="MAP_WRITE",t[t.COPY_SRC=4]="COPY_SRC",t[t.COPY_DST=8]="COPY_DST",t[t.INDEX=16]="INDEX",t[t.VERTEX=32]="VERTEX",t[t.UNIFORM=64]="UNIFORM",t[t.STORAGE=128]="STORAGE",t[t.INDIRECT=256]="INDIRECT",t[t.QUERY_RESOLVE=512]="QUERY_RESOLVE",t[t.STATIC=1024]="STATIC",t))(ct||{});class Zs extends Qt{constructor(e){let{data:o,size:n}=e;const{usage:i,label:r,shrinkToFit:s}=e;super(),this.uid=je("buffer"),this._resourceType="buffer",this._resourceId=je("resource"),this._touched=0,this._updateID=1,this.shrinkToFit=!0,this.destroyed=!1,o instanceof Array&&(o=new Float32Array(o)),this._data=o,n=n??o?.byteLength;const l=!!o;this.descriptor={size:n,usage:i,mappedAtCreation:l,label:r},this.shrinkToFit=s??!0}get data(){return this._data}set data(e){this.setDataWithSize(e,e.length,!0)}get static(){return!!(this.descriptor.usage&ct.STATIC)}set static(e){e?this.descriptor.usage|=ct.STATIC:this.descriptor.usage&=~ct.STATIC}setDataWithSize(e,o,n){if(this._updateID++,this._updateSize=o*e.BYTES_PER_ELEMENT,this._data===e){n&&this.emit("update",this);return}const i=this._data;if(this._data=e,i.length!==e.length){!this.shrinkToFit&&e.byteLength<i.byteLength?n&&this.emit("update",this):(this.descriptor.size=e.byteLength,this._resourceId=je("resource"),this.emit("change",this));return}n&&this.emit("update",this)}update(e){this._updateSize=e??this._updateSize,this._updateID++,this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._data=null,this.descriptor=null,this.removeAllListeners()}}function y1(t,e){if(!(t instanceof Zs)){let o=e?ct.INDEX:ct.VERTEX;t instanceof Array&&(e?(t=new Uint32Array(t),o=ct.INDEX|ct.COPY_DST):(t=new Float32Array(t),o=ct.VERTEX|ct.COPY_DST)),t=new Zs({data:t,label:e?"index-mesh-buffer":"vertex-mesh-buffer",usage:o})}return t}function FS(t,e,o){const n=t.getAttribute(e);if(!n)return o.minX=0,o.minY=0,o.maxX=0,o.maxY=0,o;const i=n.buffer.data;let r=1/0,s=1/0,l=-1/0,a=-1/0;const c=i.BYTES_PER_ELEMENT,u=(n.offset||0)/c,p=(n.stride||2*4)/c;for(let y=u;y<i.length;y+=p){const d=i[y],g=i[y+1];d>l&&(l=d),g>a&&(a=g),d<r&&(r=d),g<s&&(s=g)}return o.minX=r,o.minY=s,o.maxX=l,o.maxY=a,o}function MS(t){return(t instanceof Zs||Array.isArray(t)||t.BYTES_PER_ELEMENT)&&(t={buffer:t}),t.buffer=y1(t.buffer,!1),t}class OS extends Qt{constructor(e){const{attributes:o,indexBuffer:n,topology:i}=e;super(),this.uid=je("geometry"),this._layoutKey=0,this.instanceCount=1,this._bounds=new uo,this._boundsDirty=!0,this.attributes=o,this.buffers=[],this.instanceCount=e.instanceCount||1;for(const r in o){const s=o[r]=MS(o[r]);this.buffers.indexOf(s.buffer)===-1&&(this.buffers.push(s.buffer),s.buffer.on("update",this.onBufferUpdate,this),s.buffer.on("change",this.onBufferUpdate,this))}n&&(this.indexBuffer=y1(n,!0),this.buffers.push(this.indexBuffer)),this.topology=i||"triangle-list"}onBufferUpdate(){this._boundsDirty=!0,this.emit("update",this)}getAttribute(e){return this.attributes[e]}getIndex(){return this.indexBuffer}getBuffer(e){return this.getAttribute(e).buffer}getSize(){for(const e in this.attributes){const o=this.attributes[e];return o.buffer.data.length/(o.stride/4||o.size)}return 0}get bounds(){return this._boundsDirty?(this._boundsDirty=!1,FS(this,"aPosition",this._bounds)):this._bounds}destroy(e=!1){this.emit("destroy",this),this.removeAllListeners(),e&&this.buffers.forEach(o=>o.destroy()),this.attributes=null,this.buffers=null,this.indexBuffer=null,this._bounds=null}}const DS=new Float32Array(1),BS=new Uint32Array(1);class GS extends OS{constructor(){const o=new Zs({data:DS,label:"attribute-batch-buffer",usage:ct.VERTEX|ct.COPY_DST,shrinkToFit:!1}),n=new Zs({data:BS,label:"index-batch-buffer",usage:ct.INDEX|ct.COPY_DST,shrinkToFit:!1}),i=6*4;super({attributes:{aPosition:{buffer:o,format:"float32x2",stride:i,offset:0},aUV:{buffer:o,format:"float32x2",stride:i,offset:2*4},aColor:{buffer:o,format:"unorm8x4",stride:i,offset:4*4},aTextureIdAndRound:{buffer:o,format:"uint16x2",stride:i,offset:5*4}},indexBuffer:n})}}function kg(t,e,o){if(t)for(const n in t){const i=n.toLocaleLowerCase(),r=e[i];if(r){let s=t[n];n==="header"&&(s=s.replace(/@in\s+[^;]+;\s*/g,"").replace(/@out\s+[^;]+;\s*/g,"")),o&&r.push(`//----${o}----//`),r.push(s)}else Ie(`${n} placement hook does not exist in shader`)}}const US=/\{\{(.*?)\}\}/g;function wg(t){const e={};return(t.match(US)?.map(n=>n.replace(/[{()}]/g,""))??[]).forEach(n=>{e[n]=[]}),e}function vg(t,e){let o;const n=/@in\s+([^;]+);/g;for(;(o=n.exec(t))!==null;)e.push(o[1])}function zg(t,e,o=!1){const n=[];vg(e,n),t.forEach(l=>{l.header&&vg(l.header,n)});const i=n;o&&i.sort();const r=i.map((l,a)=>`       @location(${a}) ${l},`).join(`
`);let s=e.replace(/@in\s+[^;]+;\s*/g,"");return s=s.replace("{{in}}",`
${r}
`),s}function Sg(t,e){let o;const n=/@out\s+([^;]+);/g;for(;(o=n.exec(t))!==null;)e.push(o[1])}function NS(t){const o=/\b(\w+)\s*:/g.exec(t);return o?o[1]:""}function LS(t){const e=/@.*?\s+/g;return t.replace(e,"")}function $S(t,e){const o=[];Sg(e,o),t.forEach(a=>{a.header&&Sg(a.header,o)});let n=0;const i=o.sort().map(a=>a.indexOf("builtin")>-1?a:`@location(${n++}) ${a}`).join(`,
`),r=o.sort().map(a=>`       var ${LS(a)};`).join(`
`),s=`return VSOutput(
                ${o.sort().map(a=>` ${NS(a)}`).join(`,
`)});`;let l=e.replace(/@out\s+[^;]+;\s*/g,"");return l=l.replace("{{struct}}",`
${i}
`),l=l.replace("{{start}}",`
${r}
`),l=l.replace("{{return}}",`
${s}
`),l}function Eg(t,e){let o=t;for(const n in e){const i=e[n];i.join(`
`).length?o=o.replace(`{{${n}}}`,`//-----${n} START-----//
${i.join(`
`)}
//----${n} FINISH----//`):o=o.replace(`{{${n}}}`,"")}return o}const qo=Object.create(null),wu=new Map;let WS=0;function HS({template:t,bits:e}){const o=d1(t,e);if(qo[o])return qo[o];const{vertex:n,fragment:i}=VS(t,e);return qo[o]=f1(n,i,e),qo[o]}function XS({template:t,bits:e}){const o=d1(t,e);return qo[o]||(qo[o]=f1(t.vertex,t.fragment,e)),qo[o]}function VS(t,e){const o=e.map(s=>s.vertex).filter(s=>!!s),n=e.map(s=>s.fragment).filter(s=>!!s);let i=zg(o,t.vertex,!0);i=$S(o,i);const r=zg(n,t.fragment,!0);return{vertex:i,fragment:r}}function d1(t,e){return e.map(o=>(wu.has(o)||wu.set(o,WS++),wu.get(o))).sort((o,n)=>o-n).join("-")+t.vertex+t.fragment}function f1(t,e,o){const n=wg(t),i=wg(e);return o.forEach(r=>{kg(r.vertex,n,r.name),kg(r.fragment,i,r.name)}),{vertex:Eg(t,n),fragment:Eg(e,i)}}const qS=`
    @in aPosition: vec2<f32>;
    @in aUV: vec2<f32>;

    @out @builtin(position) vPosition: vec4<f32>;
    @out vUV : vec2<f32>;
    @out vColor : vec4<f32>;

    {{header}}

    struct VSOutput {
        {{struct}}
    };

    @vertex
    fn main( {{in}} ) -> VSOutput {

        var worldTransformMatrix = globalUniforms.uWorldTransformMatrix;
        var modelMatrix = mat3x3<f32>(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        var position = aPosition;
        var uv = aUV;

        {{start}}
        
        vColor = vec4<f32>(1., 1., 1., 1.);

        {{main}}

        vUV = uv;

        var modelViewProjectionMatrix = globalUniforms.uProjectionMatrix * worldTransformMatrix * modelMatrix;

        vPosition =  vec4<f32>((modelViewProjectionMatrix *  vec3<f32>(position, 1.0)).xy, 0.0, 1.0);
       
        vColor *= globalUniforms.uWorldColorAlpha;

        {{end}}

        {{return}}
    };
`,YS=`
    @in vUV : vec2<f32>;
    @in vColor : vec4<f32>;
   
    {{header}}

    @fragment
    fn main(
        {{in}}
      ) -> @location(0) vec4<f32> {
        
        {{start}}

        var outColor:vec4<f32>;
      
        {{main}}
        
        var finalColor:vec4<f32> = outColor * vColor;

        {{end}}

        return finalColor;
      };
`,KS=`
    in vec2 aPosition;
    in vec2 aUV;

    out vec4 vColor;
    out vec2 vUV;

    {{header}}

    void main(void){

        mat3 worldTransformMatrix = uWorldTransformMatrix;
        mat3 modelMatrix = mat3(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        vec2 position = aPosition;
        vec2 uv = aUV;
        
        {{start}}
        
        vColor = vec4(1.);
        
        {{main}}
        
        vUV = uv;
        
        mat3 modelViewProjectionMatrix = uProjectionMatrix * worldTransformMatrix * modelMatrix;

        gl_Position = vec4((modelViewProjectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);

        vColor *= uWorldColorAlpha;

        {{end}}
    }
`,QS=`
   
    in vec4 vColor;
    in vec2 vUV;

    out vec4 finalColor;

    {{header}}

    void main(void) {
        
        {{start}}

        vec4 outColor;
      
        {{main}}
        
        finalColor = outColor * vColor;
        
        {{end}}
    }
`,JS={name:"global-uniforms-bit",vertex:{header:`
        struct GlobalUniforms {
            uProjectionMatrix:mat3x3<f32>,
            uWorldTransformMatrix:mat3x3<f32>,
            uWorldColorAlpha: vec4<f32>,
            uResolution: vec2<f32>,
        }

        @group(0) @binding(0) var<uniform> globalUniforms : GlobalUniforms;
        `}},eE={name:"global-uniforms-bit",vertex:{header:`
          uniform mat3 uProjectionMatrix;
          uniform mat3 uWorldTransformMatrix;
          uniform vec4 uWorldColorAlpha;
          uniform vec2 uResolution;
        `}};function tE({bits:t,name:e}){const o=HS({template:{fragment:YS,vertex:qS},bits:[JS,...t]});return te.from({name:e,vertex:{source:o.vertex,entryPoint:"main"},fragment:{source:o.fragment,entryPoint:"main"}})}function oE({bits:t,name:e}){return new oe({name:e,...XS({template:{vertex:KS,fragment:QS},bits:[eE,...t]})})}const nE={name:"color-bit",vertex:{header:`
            @in aColor: vec4<f32>;
        `,main:`
            vColor *= vec4<f32>(aColor.rgb * aColor.a, aColor.a);
        `}},iE={name:"color-bit",vertex:{header:`
            in vec4 aColor;
        `,main:`
            vColor *= vec4(aColor.rgb * aColor.a, aColor.a);
        `}},vu={};function rE(t){const e=[];if(t===1)e.push("@group(1) @binding(0) var textureSource1: texture_2d<f32>;"),e.push("@group(1) @binding(1) var textureSampler1: sampler;");else{let o=0;for(let n=0;n<t;n++)e.push(`@group(1) @binding(${o++}) var textureSource${n+1}: texture_2d<f32>;`),e.push(`@group(1) @binding(${o++}) var textureSampler${n+1}: sampler;`)}return e.join(`
`)}function sE(t){const e=[];if(t===1)e.push("outColor = textureSampleGrad(textureSource1, textureSampler1, vUV, uvDx, uvDy);");else{e.push("switch vTextureId {");for(let o=0;o<t;o++)o===t-1?e.push("  default:{"):e.push(`  case ${o}:{`),e.push(`      outColor = textureSampleGrad(textureSource${o+1}, textureSampler${o+1}, vUV, uvDx, uvDy);`),e.push("      break;}");e.push("}")}return e.join(`
`)}function lE(t){return vu[t]||(vu[t]={name:"texture-batch-bit",vertex:{header:`
                @in aTextureIdAndRound: vec2<u32>;
                @out @interpolate(flat) vTextureId : u32;
            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1)
                {
                    vPosition = vec4<f32>(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
                }
            `},fragment:{header:`
                @in @interpolate(flat) vTextureId: u32;

                ${rE(t)}
            `,main:`
                var uvDx = dpdx(vUV);
                var uvDy = dpdy(vUV);

                ${sE(t)}
            `}}),vu[t]}const zu={};function aE(t){const e=[];for(let o=0;o<t;o++)o>0&&e.push("else"),o<t-1&&e.push(`if(vTextureId < ${o}.5)`),e.push("{"),e.push(`	outColor = texture(uTextures[${o}], vUV);`),e.push("}");return e.join(`
`)}function cE(t){return zu[t]||(zu[t]={name:"texture-batch-bit",vertex:{header:`
                in vec2 aTextureIdAndRound;
                out float vTextureId;

            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1.)
                {
                    gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
                }
            `},fragment:{header:`
                in float vTextureId;

                uniform sampler2D uTextures[${t}];

            `,main:`

                ${aE(t)}
            `}}),zu[t]}const uE={name:"round-pixels-bit",vertex:{header:`
            fn roundPixels(position: vec2<f32>, targetSize: vec2<f32>) -> vec2<f32> 
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},pE={name:"round-pixels-bit",vertex:{header:`   
            vec2 roundPixels(vec2 position, vec2 targetSize)
            {       
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},_g={};function yE(t){let e=_g[t];if(e)return e;const o=new Int32Array(t);for(let n=0;n<t;n++)o[n]=n;return e=_g[t]=new Ld({uTextures:{value:o,type:"i32",size:t}},{isStatic:!0}),e}class dE extends ac{constructor(e){const o=oE({name:"batch",bits:[iE,cE(e),pE]}),n=tE({name:"batch",bits:[nE,lE(e),uE]});super({glProgram:o,gpuProgram:n,resources:{batchSamplers:yE(e)}})}}let Cg=null;const h1=class g1 extends IS{constructor(){super(...arguments),this.geometry=new GS,this.shader=Cg||(Cg=new dE(this.maxTextures)),this.name=g1.extension.name,this.vertexSize=6}packAttributes(e,o,n,i,r){const s=r<<16|e.roundPixels&65535,l=e.transform,a=l.a,c=l.b,u=l.c,p=l.d,y=l.tx,d=l.ty,{positions:g,uvs:f}=e,b=e.color,h=e.attributeOffset,m=h+e.attributeSize;for(let k=h;k<m;k++){const w=k*2,v=g[w],E=g[w+1];o[i++]=a*v+u*E+y,o[i++]=p*E+c*v+d,o[i++]=f[w],o[i++]=f[w+1],n[i++]=b,n[i++]=s}}packQuadAttributes(e,o,n,i,r){const s=e.texture,l=e.transform,a=l.a,c=l.b,u=l.c,p=l.d,y=l.tx,d=l.ty,g=e.bounds,f=g.maxX,b=g.minX,h=g.maxY,m=g.minY,k=s.uvs,w=e.color,v=r<<16|e.roundPixels&65535;o[i+0]=a*b+u*m+y,o[i+1]=p*m+c*b+d,o[i+2]=k.x0,o[i+3]=k.y0,n[i+4]=w,n[i+5]=v,o[i+6]=a*f+u*m+y,o[i+7]=p*m+c*f+d,o[i+8]=k.x1,o[i+9]=k.y1,n[i+10]=w,n[i+11]=v,o[i+12]=a*f+u*h+y,o[i+13]=p*h+c*f+d,o[i+14]=k.x2,o[i+15]=k.y2,n[i+16]=w,n[i+17]=v,o[i+18]=a*b+u*h+y,o[i+19]=p*h+c*b+d,o[i+20]=k.x3,o[i+21]=k.y3,n[i+22]=w,n[i+23]=v}};h1.extension={type:[N.Batcher],name:"default"};let fE=h1;function hE(t,e,o,n,i,r,s,l=null){let a=0;o*=e,i*=r;const c=l.a,u=l.b,p=l.c,y=l.d,d=l.tx,g=l.ty;for(;a<s;){const f=t[o],b=t[o+1];n[i]=c*f+p*b+d,n[i+1]=u*f+y*b+g,i+=r,o+=e,a++}}function gE(t,e,o,n){let i=0;for(e*=o;i<n;)t[e]=0,t[e+1]=0,e+=o,i++}function m1(t,e,o,n,i){const r=e.a,s=e.b,l=e.c,a=e.d,c=e.tx,u=e.ty;o=o||0,n=n||2,i=i||t.length/n-o;let p=o*n;for(let y=0;y<i;y++){const d=t[p],g=t[p+1];t[p]=r*d+l*g+c,t[p+1]=s*d+a*g+u,p+=n}}function mE(t,e){if(t===16777215||!e)return e;if(e===16777215||!t)return t;const o=t>>16&255,n=t>>8&255,i=t&255,r=e>>16&255,s=e>>8&255,l=e&255,a=o*r/255,c=n*s/255,u=i*l/255;return(a<<16)+(c<<8)+u}const bE=new le;class b1{constructor(){this.packAsQuad=!1,this.batcherName="default",this.applyTransform=!0,this.roundPixels=0,this._batcher=null,this._batch=null}get uvs(){return this.geometryData.uvs}get positions(){return this.geometryData.vertices}get indices(){return this.geometryData.indices}get blendMode(){return this.applyTransform?this.renderable.groupBlendMode:"normal"}get color(){const e=this.baseColor,o=e>>16|e&65280|(e&255)<<16,n=this.renderable;return n?mE(o,n.groupColor)+(this.alpha*n.groupAlpha*255<<24):o+(this.alpha*255<<24)}get transform(){return this.renderable?.groupTransform||bE}copyTo(e){e.indexOffset=this.indexOffset,e.indexSize=this.indexSize,e.attributeOffset=this.attributeOffset,e.attributeSize=this.attributeSize,e.baseColor=this.baseColor,e.alpha=this.alpha,e.texture=this.texture,e.geometryData=this.geometryData}reset(){this.applyTransform=!0,this.renderable=null}}const Rs={extension:{type:N.ShapeBuilder,name:"circle"},build(t,e){let o,n,i,r,s,l;if(t.type==="circle"){const w=t;o=w.x,n=w.y,s=l=w.radius,i=r=0}else if(t.type==="ellipse"){const w=t;o=w.x,n=w.y,s=w.halfWidth,l=w.halfHeight,i=r=0}else{const w=t,v=w.width/2,E=w.height/2;o=w.x+v,n=w.y+E,s=l=Math.max(0,Math.min(w.radius,Math.min(v,E))),i=v-s,r=E-l}if(!(s>=0&&l>=0&&i>=0&&r>=0))return e;const a=Math.ceil(2.3*Math.sqrt(s+l)),c=a*8+(i?4:0)+(r?4:0);if(c===0)return e;if(a===0)return e[0]=e[6]=o+i,e[1]=e[3]=n+r,e[2]=e[4]=o-i,e[5]=e[7]=n-r,e;let u=0,p=a*4+(i?2:0)+2,y=p,d=c,g=i+s,f=r,b=o+g,h=o-g,m=n+f;if(e[u++]=b,e[u++]=m,e[--p]=m,e[--p]=h,r){const w=n-f;e[y++]=h,e[y++]=w,e[--d]=w,e[--d]=b}for(let w=1;w<a;w++){const v=Math.PI/2*(w/a),E=i+Math.cos(v)*s,z=r+Math.sin(v)*l,S=o+E,C=o-E,_=n+z,D=n-z;e[u++]=S,e[u++]=_,e[--p]=_,e[--p]=C,e[y++]=C,e[y++]=D,e[--d]=D,e[--d]=S}g=i,f=r+l,b=o+g,h=o-g,m=n+f;const k=n-f;return e[u++]=b,e[u++]=m,e[--d]=k,e[--d]=b,i&&(e[u++]=h,e[u++]=m,e[--d]=k,e[--d]=h),e},triangulate(t,e,o,n,i,r){if(t.length===0)return;let s=0,l=0;for(let u=0;u<t.length;u+=2)s+=t[u],l+=t[u+1];s/=t.length/2,l/=t.length/2;let a=n;e[a*o]=s,e[a*o+1]=l;const c=a++;for(let u=0;u<t.length;u+=2)e[a*o]=t[u],e[a*o+1]=t[u+1],u>0&&(i[r++]=a,i[r++]=c,i[r++]=a-1),a++;i[r++]=c+1,i[r++]=c,i[r++]=a-1}},xE={...Rs,extension:{...Rs.extension,name:"ellipse"}},kE={...Rs,extension:{...Rs.extension,name:"roundedRectangle"}},wE=1e-4,Zg=1e-4;function vE(t){const e=t.length;if(e<6)return 1;let o=0;for(let n=0,i=t[e-2],r=t[e-1];n<e;n+=2){const s=t[n],l=t[n+1];o+=(s-i)*(l+r),i=s,r=l}return o<0?-1:1}function Rg(t,e,o,n,i,r,s,l){const a=t-o*i,c=e-n*i,u=t+o*r,p=e+n*r;let y,d;s?(y=n,d=-o):(y=-n,d=o);const g=a+y,f=c+d,b=u+y,h=p+d;return l.push(g,f),l.push(b,h),2}function vn(t,e,o,n,i,r,s,l){const a=o-t,c=n-e;let u=Math.atan2(a,c),p=Math.atan2(i-t,r-e);l&&u<p?u+=Math.PI*2:!l&&u>p&&(p+=Math.PI*2);let y=u;const d=p-u,g=Math.abs(d),f=Math.sqrt(a*a+c*c),b=(15*g*Math.sqrt(f)/Math.PI>>0)+1,h=d/b;if(y+=h,l){s.push(t,e),s.push(o,n);for(let m=1,k=y;m<b;m++,k+=h)s.push(t,e),s.push(t+Math.sin(k)*f,e+Math.cos(k)*f);s.push(t,e),s.push(i,r)}else{s.push(o,n),s.push(t,e);for(let m=1,k=y;m<b;m++,k+=h)s.push(t+Math.sin(k)*f,e+Math.cos(k)*f),s.push(t,e);s.push(i,r),s.push(t,e)}return b*2}function zE(t,e,o,n,i,r,s,l,a){const c=wE;if(t.length===0)return;const u=e;let p=u.alignment;if(e.alignment!==.5){let R=vE(t);p=(p-.5)*R+.5}const y=new Ye(t[0],t[1]),d=new Ye(t[t.length-2],t[t.length-1]),g=n,f=Math.abs(y.x-d.x)<c&&Math.abs(y.y-d.y)<c;if(g){t=t.slice(),f&&(t.pop(),t.pop(),d.set(t[t.length-2],t[t.length-1]));const R=(y.x+d.x)*.5,L=(d.y+y.y)*.5;t.unshift(R,L),t.push(R,L)}const b=i,h=t.length/2;let m=t.length;const k=b.length/2,w=u.width/2,v=w*w,E=u.miterLimit*u.miterLimit;let z=t[0],S=t[1],C=t[2],_=t[3],D=0,B=0,M=-(S-_),j=z-C,W=0,H=0,F=Math.sqrt(M*M+j*j);M/=F,j/=F,M*=w,j*=w;const Z=p,A=(1-Z)*2,T=Z*2;g||(u.cap==="round"?m+=vn(z-M*(A-T)*.5,S-j*(A-T)*.5,z-M*A,S-j*A,z+M*T,S+j*T,b,!0)+2:u.cap==="square"&&(m+=Rg(z,S,M,j,A,T,!0,b))),b.push(z-M*A,S-j*A),b.push(z+M*T,S+j*T);for(let R=1;R<h-1;++R){z=t[(R-1)*2],S=t[(R-1)*2+1],C=t[R*2],_=t[R*2+1],D=t[(R+1)*2],B=t[(R+1)*2+1],M=-(S-_),j=z-C,F=Math.sqrt(M*M+j*j),M/=F,j/=F,M*=w,j*=w,W=-(_-B),H=C-D,F=Math.sqrt(W*W+H*H),W/=F,H/=F,W*=w,H*=w;const L=C-z,X=S-_,G=C-D,J=B-_,re=L*G+X*J,Re=X*G-J*L,Je=Re<0;if(Math.abs(Re)<.001*Math.abs(re)){b.push(C-M*A,_-j*A),b.push(C+M*T,_+j*T),re>=0&&(u.join==="round"?m+=vn(C,_,C-M*A,_-j*A,C-W*A,_-H*A,b,!1)+4:m+=2,b.push(C-W*T,_-H*T),b.push(C+W*A,_+H*A));continue}const fo=(-M+z)*(-j+_)-(-M+C)*(-j+S),Hs=(-W+D)*(-H+_)-(-W+C)*(-H+B),ci=(L*Hs-G*fo)/Re,ho=(J*fo-X*Hs)/Re,zc=(ci-C)*(ci-C)+(ho-_)*(ho-_),bn=C+(ci-C)*A,xn=_+(ho-_)*A,kn=C-(ci-C)*T,wn=_-(ho-_)*T,Jv=Math.min(L*L+X*X,G*G+J*J),Of=Je?A:T,e2=Jv+Of*Of*v;zc<=e2?u.join==="bevel"||zc/v>E?(Je?(b.push(bn,xn),b.push(C+M*T,_+j*T),b.push(bn,xn),b.push(C+W*T,_+H*T)):(b.push(C-M*A,_-j*A),b.push(kn,wn),b.push(C-W*A,_-H*A),b.push(kn,wn)),m+=2):u.join==="round"?Je?(b.push(bn,xn),b.push(C+M*T,_+j*T),m+=vn(C,_,C+M*T,_+j*T,C+W*T,_+H*T,b,!0)+4,b.push(bn,xn),b.push(C+W*T,_+H*T)):(b.push(C-M*A,_-j*A),b.push(kn,wn),m+=vn(C,_,C-M*A,_-j*A,C-W*A,_-H*A,b,!1)+4,b.push(C-W*A,_-H*A),b.push(kn,wn)):(b.push(bn,xn),b.push(kn,wn)):(b.push(C-M*A,_-j*A),b.push(C+M*T,_+j*T),u.join==="round"?Je?m+=vn(C,_,C+M*T,_+j*T,C+W*T,_+H*T,b,!0)+2:m+=vn(C,_,C-M*A,_-j*A,C-W*A,_-H*A,b,!1)+2:u.join==="miter"&&zc/v<=E&&(Je?(b.push(kn,wn),b.push(kn,wn)):(b.push(bn,xn),b.push(bn,xn)),m+=2),b.push(C-W*A,_-H*A),b.push(C+W*T,_+H*T),m+=2)}z=t[(h-2)*2],S=t[(h-2)*2+1],C=t[(h-1)*2],_=t[(h-1)*2+1],M=-(S-_),j=z-C,F=Math.sqrt(M*M+j*j),M/=F,j/=F,M*=w,j*=w,b.push(C-M*A,_-j*A),b.push(C+M*T,_+j*T),g||(u.cap==="round"?m+=vn(C-M*(A-T)*.5,_-j*(A-T)*.5,C-M*A,_-j*A,C+M*T,_+j*T,b,!1)+2:u.cap==="square"&&(m+=Rg(C,_,M,j,A,T,!1,b)));const Q=Zg*Zg;for(let R=k;R<m+k-2;++R)z=b[R*2],S=b[R*2+1],C=b[(R+1)*2],_=b[(R+1)*2+1],D=b[(R+2)*2],B=b[(R+2)*2+1],!(Math.abs(z*(_-B)+C*(B-S)+D*(S-_))<Q)&&l.push(R,R+1,R+2)}function x1(t,e,o,n,i,r,s){const l=uS(t,e,2);if(!l)return;for(let c=0;c<l.length;c+=3)r[s++]=l[c]+i,r[s++]=l[c+1]+i,r[s++]=l[c+2]+i;let a=i*n;for(let c=0;c<t.length;c+=2)o[a]=t[c],o[a+1]=t[c+1],a+=n}const SE=[],EE={extension:{type:N.ShapeBuilder,name:"polygon"},build(t,e){for(let o=0;o<t.points.length;o++)e[o]=t.points[o];return e},triangulate(t,e,o,n,i,r){x1(t,SE,e,o,n,i,r)}},_E={extension:{type:N.ShapeBuilder,name:"rectangle"},build(t,e){const o=t,n=o.x,i=o.y,r=o.width,s=o.height;return r>=0&&s>=0&&(e[0]=n,e[1]=i,e[2]=n+r,e[3]=i,e[4]=n+r,e[5]=i+s,e[6]=n,e[7]=i+s),e},triangulate(t,e,o,n,i,r){let s=0;n*=o,e[n+s]=t[0],e[n+s+1]=t[1],s+=o,e[n+s]=t[2],e[n+s+1]=t[3],s+=o,e[n+s]=t[6],e[n+s+1]=t[7],s+=o,e[n+s]=t[4],e[n+s+1]=t[5],s+=o;const l=n/o;i[r++]=l,i[r++]=l+1,i[r++]=l+2,i[r++]=l+1,i[r++]=l+3,i[r++]=l+2}},CE={extension:{type:N.ShapeBuilder,name:"triangle"},build(t,e){return e[0]=t.x,e[1]=t.y,e[2]=t.x2,e[3]=t.y2,e[4]=t.x3,e[5]=t.y3,e},triangulate(t,e,o,n,i,r){let s=0;n*=o,e[n+s]=t[0],e[n+s+1]=t[1],s+=o,e[n+s]=t[2],e[n+s+1]=t[3],s+=o,e[n+s]=t[4],e[n+s+1]=t[5];const l=n/o;i[r++]=l,i[r++]=l+1,i[r++]=l+2}},yc={};ot.handleByMap(N.ShapeBuilder,yc);ot.add(_E,EE,CE,Rs,xE,kE);const ZE=new Te;function RE(t,e){const{geometryData:o,batches:n}=e;n.length=0,o.indices.length=0,o.vertices.length=0,o.uvs.length=0;for(let i=0;i<t.instructions.length;i++){const r=t.instructions[i];if(r.action==="texture")AE(r.data,n,o);else if(r.action==="fill"||r.action==="stroke"){const s=r.action==="stroke",l=r.data.path.shapePath,a=r.data.style,c=r.data.hole;s&&c&&Ag(c.shapePath,a,null,!0,n,o),Ag(l,a,c,s,n,o)}}}function AE(t,e,o){const{vertices:n,uvs:i,indices:r}=o,s=r.length,l=n.length/2,a=[],c=yc.rectangle,u=ZE,p=t.image;u.x=t.dx,u.y=t.dy,u.width=t.dw,u.height=t.dh;const y=t.transform;c.build(u,a),y&&m1(a,y),c.triangulate(a,n,2,l,r,s);const d=p.uvs;i.push(d.x0,d.y0,d.x1,d.y1,d.x3,d.y3,d.x2,d.y2);const g=_o.get(b1);g.indexOffset=s,g.indexSize=r.length-s,g.attributeOffset=l,g.attributeSize=n.length/2-l,g.baseColor=t.style,g.alpha=t.alpha,g.texture=p,g.geometryData=o,e.push(g)}function Ag(t,e,o,n,i,r){const{vertices:s,uvs:l,indices:a}=r,c=t.shapePrimitives.length-1;t.shapePrimitives.forEach(({shape:u,transform:p},y)=>{const d=a.length,g=s.length/2,f=[],b=yc[u.type];if(b.build(u,f),p&&m1(f,p),n){const w=u.closePath??!0;zE(f,e,!1,w,s,2,g,a)}else if(o&&c===y){c!==0&&console.warn("[Pixi Graphics] only the last shape have be cut out");const w=[],v=f.slice();PE(o.shapePath).forEach(z=>{w.push(v.length/2),v.push(...z)}),x1(v,w,s,2,g,a,d)}else b.triangulate(f,s,2,g,a,d);const h=l.length/2,m=e.texture;if(m!==q.WHITE){const w=e.matrix;w&&(p&&w.append(p.clone().invert()),hE(s,2,g,l,h,2,s.length/2-g,w))}else gE(l,h,2,s.length/2-g);const k=_o.get(b1);k.indexOffset=d,k.indexSize=a.length-d,k.attributeOffset=g,k.attributeSize=s.length/2-g,k.baseColor=e.color,k.alpha=e.alpha,k.texture=m,k.geometryData=r,i.push(k)})}function PE(t){if(!t)return[];const e=t.shapePrimitives,o=[];for(let n=0;n<e.length;n++){const i=e[n].shape,r=[];yc[i.type].build(i,r),o.push(r)}return o}class TE{constructor(){this.batches=[],this.geometryData={vertices:[],uvs:[],indices:[]}}}class jE{constructor(){this.batcher=new fE,this.instructions=new Cx}init(){this.instructions.reset()}get geometry(){return $(Dz,"GraphicsContextRenderData#geometry is deprecated, please use batcher.geometry instead."),this.batcher.geometry}}const Vd=class cy{constructor(){this._gpuContextHash={},this._graphicsDataContextHash=Object.create(null)}init(e){cy.defaultOptions.bezierSmoothness=e?.bezierSmoothness??cy.defaultOptions.bezierSmoothness}getContextRenderData(e){return this._graphicsDataContextHash[e.uid]||this._initContextRenderData(e)}updateGpuContext(e){let o=this._gpuContextHash[e.uid]||this._initContext(e);if(e.dirty){o?this._cleanGraphicsContextData(e):o=this._initContext(e),RE(e,o);const n=e.batchMode;e.customShader||n==="no-batch"?o.isBatchable=!1:n==="auto"&&(o.isBatchable=o.geometryData.vertices.length<400),e.dirty=!1}return o}getGpuContext(e){return this._gpuContextHash[e.uid]||this._initContext(e)}_initContextRenderData(e){const o=_o.get(jE),{batches:n,geometryData:i}=this._gpuContextHash[e.uid],r=i.vertices.length,s=i.indices.length;for(let u=0;u<n.length;u++)n[u].applyTransform=!1;const l=o.batcher;l.ensureAttributeBuffer(r),l.ensureIndexBuffer(s),l.begin();for(let u=0;u<n.length;u++){const p=n[u];l.add(p)}l.finish(o.instructions);const a=l.geometry;a.indexBuffer.setDataWithSize(l.indexBuffer,l.indexSize,!0),a.buffers[0].setDataWithSize(l.attributeBuffer.float32View,l.attributeSize,!0);const c=l.batches;for(let u=0;u<c.length;u++){const p=c[u];p.bindGroup=ZS(p.textures.textures,p.textures.count)}return this._graphicsDataContextHash[e.uid]=o,o}_initContext(e){const o=new TE;return o.context=e,this._gpuContextHash[e.uid]=o,e.on("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[e.uid]}onGraphicsContextDestroy(e){this._cleanGraphicsContextData(e),e.off("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[e.uid]=null}_cleanGraphicsContextData(e){const o=this._gpuContextHash[e.uid];o.isBatchable||this._graphicsDataContextHash[e.uid]&&(_o.return(this.getContextRenderData(e)),this._graphicsDataContextHash[e.uid]=null),o.batches&&o.batches.forEach(n=>{_o.return(n)})}destroy(){for(const e in this._gpuContextHash)this._gpuContextHash[e]&&this.onGraphicsContextDestroy(this._gpuContextHash[e].context)}};Vd.extension={type:[N.WebGLSystem,N.WebGPUSystem,N.CanvasSystem],name:"graphicsContext"};Vd.defaultOptions={bezierSmoothness:.5};let k1=Vd;const IE=8,wl=11920929e-14,FE=1;function w1(t,e,o,n,i,r,s,l,a,c){const p=Math.min(.99,Math.max(0,c??k1.defaultOptions.bezierSmoothness));let y=(FE-p)/1;return y*=y,ME(e,o,n,i,r,s,l,a,t,y),t}function ME(t,e,o,n,i,r,s,l,a,c){uy(t,e,o,n,i,r,s,l,a,c,0),a.push(s,l)}function uy(t,e,o,n,i,r,s,l,a,c,u){if(u>IE)return;const p=(t+o)/2,y=(e+n)/2,d=(o+i)/2,g=(n+r)/2,f=(i+s)/2,b=(r+l)/2,h=(p+d)/2,m=(y+g)/2,k=(d+f)/2,w=(g+b)/2,v=(h+k)/2,E=(m+w)/2;if(u>0){let z=s-t,S=l-e;const C=Math.abs((o-s)*S-(n-l)*z),_=Math.abs((i-s)*S-(r-l)*z);if(C>wl&&_>wl){if((C+_)*(C+_)<=c*(z*z+S*S)){a.push(v,E);return}}else if(C>wl){if(C*C<=c*(z*z+S*S)){a.push(v,E);return}}else if(_>wl){if(_*_<=c*(z*z+S*S)){a.push(v,E);return}}else if(z=v-(t+s)/2,S=E-(e+l)/2,z*z+S*S<=c){a.push(v,E);return}}uy(t,e,p,y,h,m,v,E,a,c,u+1),uy(v,E,k,w,f,b,s,l,a,c,u+1)}const OE=8,DE=11920929e-14,BE=1;function GE(t,e,o,n,i,r,s,l){const c=Math.min(.99,Math.max(0,l??k1.defaultOptions.bezierSmoothness));let u=(BE-c)/1;return u*=u,UE(e,o,n,i,r,s,t,u),t}function UE(t,e,o,n,i,r,s,l){py(s,t,e,o,n,i,r,l,0),s.push(i,r)}function py(t,e,o,n,i,r,s,l,a){if(a>OE)return;const c=(e+n)/2,u=(o+i)/2,p=(n+r)/2,y=(i+s)/2,d=(c+p)/2,g=(u+y)/2;let f=r-e,b=s-o;const h=Math.abs((n-r)*b-(i-s)*f);if(h>DE){if(h*h<=l*(f*f+b*b)){t.push(d,g);return}}else if(f=d-(e+r)/2,b=g-(o+s)/2,f*f+b*b<=l){t.push(d,g);return}py(t,e,o,c,u,d,g,l,a+1),py(t,d,g,p,y,r,s,l,a+1)}function v1(t,e,o,n,i,r,s,l){let a=Math.abs(i-r);(!s&&i>r||s&&r>i)&&(a=2*Math.PI-a),l=l||Math.max(6,Math.floor(6*Math.pow(n,1/3)*(a/Math.PI))),l=Math.max(l,3);let c=a/l,u=i;c*=s?-1:1;for(let p=0;p<l+1;p++){const y=Math.cos(u),d=Math.sin(u),g=e+y*n,f=o+d*n;t.push(g,f),u+=c}}function NE(t,e,o,n,i,r){const s=t[t.length-2],a=t[t.length-1]-o,c=s-e,u=i-o,p=n-e,y=Math.abs(a*p-c*u);if(y<1e-8||r===0){(t[t.length-2]!==e||t[t.length-1]!==o)&&t.push(e,o);return}const d=a*a+c*c,g=u*u+p*p,f=a*u+c*p,b=r*Math.sqrt(d)/y,h=r*Math.sqrt(g)/y,m=b*f/d,k=h*f/g,w=b*p+h*c,v=b*u+h*a,E=c*(h+m),z=a*(h+m),S=p*(b+k),C=u*(b+k),_=Math.atan2(z-v,E-w),D=Math.atan2(C-v,S-w);v1(t,w+e,v+o,r,_,D,c*u>p*a)}const is=Math.PI*2,Su={centerX:0,centerY:0,ang1:0,ang2:0},Eu=({x:t,y:e},o,n,i,r,s,l,a)=>{t*=o,e*=n;const c=i*t-r*e,u=r*t+i*e;return a.x=c+s,a.y=u+l,a};function LE(t,e){const o=e===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(e/4),n=e===1.5707963267948966?.551915024494:o,i=Math.cos(t),r=Math.sin(t),s=Math.cos(t+e),l=Math.sin(t+e);return[{x:i-r*n,y:r+i*n},{x:s+l*n,y:l-s*n},{x:s,y:l}]}const Pg=(t,e,o,n)=>{const i=t*n-e*o<0?-1:1;let r=t*o+e*n;return r>1&&(r=1),r<-1&&(r=-1),i*Math.acos(r)},$E=(t,e,o,n,i,r,s,l,a,c,u,p,y)=>{const d=Math.pow(i,2),g=Math.pow(r,2),f=Math.pow(u,2),b=Math.pow(p,2);let h=d*g-d*b-g*f;h<0&&(h=0),h/=d*b+g*f,h=Math.sqrt(h)*(s===l?-1:1);const m=h*i/r*p,k=h*-r/i*u,w=c*m-a*k+(t+o)/2,v=a*m+c*k+(e+n)/2,E=(u-m)/i,z=(p-k)/r,S=(-u-m)/i,C=(-p-k)/r,_=Pg(1,0,E,z);let D=Pg(E,z,S,C);l===0&&D>0&&(D-=is),l===1&&D<0&&(D+=is),y.centerX=w,y.centerY=v,y.ang1=_,y.ang2=D};function WE(t,e,o,n,i,r,s,l=0,a=0,c=0){if(r===0||s===0)return;const u=Math.sin(l*is/360),p=Math.cos(l*is/360),y=p*(e-n)/2+u*(o-i)/2,d=-u*(e-n)/2+p*(o-i)/2;if(y===0&&d===0)return;r=Math.abs(r),s=Math.abs(s);const g=Math.pow(y,2)/Math.pow(r,2)+Math.pow(d,2)/Math.pow(s,2);g>1&&(r*=Math.sqrt(g),s*=Math.sqrt(g)),$E(e,o,n,i,r,s,a,c,u,p,y,d,Su);let{ang1:f,ang2:b}=Su;const{centerX:h,centerY:m}=Su;let k=Math.abs(b)/(is/4);Math.abs(1-k)<1e-7&&(k=1);const w=Math.max(Math.ceil(k),1);b/=w;let v=t[t.length-2],E=t[t.length-1];const z={x:0,y:0};for(let S=0;S<w;S++){const C=LE(f,b),{x:_,y:D}=Eu(C[0],r,s,p,u,h,m,z),{x:B,y:M}=Eu(C[1],r,s,p,u,h,m,z),{x:j,y:W}=Eu(C[2],r,s,p,u,h,m,z);w1(t,v,E,_,D,B,M,j,W),v=j,E=W,f+=b}}function HE(t,e,o){const n=(s,l)=>{const a=l.x-s.x,c=l.y-s.y,u=Math.sqrt(a*a+c*c),p=a/u,y=c/u;return{len:u,nx:p,ny:y}},i=(s,l)=>{s===0?t.moveTo(l.x,l.y):t.lineTo(l.x,l.y)};let r=e[e.length-1];for(let s=0;s<e.length;s++){const l=e[s%e.length],a=l.radius??o;if(a<=0){i(s,l),r=l;continue}const c=e[(s+1)%e.length],u=n(l,r),p=n(l,c);if(u.len<1e-4||p.len<1e-4){i(s,l),r=l;continue}let y=Math.asin(u.nx*p.ny-u.ny*p.nx),d=1,g=!1;u.nx*p.nx-u.ny*-p.ny<0?y<0?y=Math.PI+y:(y=Math.PI-y,d=-1,g=!0):y>0&&(d=-1,g=!0);const f=y/2;let b,h=Math.abs(Math.cos(f)*a/Math.sin(f));h>Math.min(u.len/2,p.len/2)?(h=Math.min(u.len/2,p.len/2),b=Math.abs(h*Math.sin(f)/Math.cos(f))):b=a;const m=l.x+p.nx*h+-p.ny*b*d,k=l.y+p.ny*h+p.nx*b*d,w=Math.atan2(u.ny,u.nx)+Math.PI/2*d,v=Math.atan2(p.ny,p.nx)-Math.PI/2*d;s===0&&t.moveTo(m+Math.cos(w)*b,k+Math.sin(w)*b),t.arc(m,k,b,w,v,g),r=l}}function XE(t,e,o,n){const i=(l,a)=>Math.sqrt((l.x-a.x)**2+(l.y-a.y)**2),r=(l,a,c)=>({x:l.x+(a.x-l.x)*c,y:l.y+(a.y-l.y)*c}),s=e.length;for(let l=0;l<s;l++){const a=e[(l+1)%s],c=a.radius??o;if(c<=0){l===0?t.moveTo(a.x,a.y):t.lineTo(a.x,a.y);continue}const u=e[l],p=e[(l+2)%s],y=i(u,a);let d;if(y<1e-4)d=a;else{const b=Math.min(y/2,c);d=r(a,u,b/y)}const g=i(p,a);let f;if(g<1e-4)f=a;else{const b=Math.min(g/2,c);f=r(a,p,b/g)}l===0?t.moveTo(d.x,d.y):t.lineTo(d.x,d.y),t.quadraticCurveTo(a.x,a.y,f.x,f.y,n)}}const VE=new Te;class qE{constructor(e){this.shapePrimitives=[],this._currentPoly=null,this._bounds=new uo,this._graphicsPath2D=e}moveTo(e,o){return this.startPoly(e,o),this}lineTo(e,o){this._ensurePoly();const n=this._currentPoly.points,i=n[n.length-2],r=n[n.length-1];return(i!==e||r!==o)&&n.push(e,o),this}arc(e,o,n,i,r,s){this._ensurePoly(!1);const l=this._currentPoly.points;return v1(l,e,o,n,i,r,s),this}arcTo(e,o,n,i,r){this._ensurePoly();const s=this._currentPoly.points;return NE(s,e,o,n,i,r),this}arcToSvg(e,o,n,i,r,s,l){const a=this._currentPoly.points;return WE(a,this._currentPoly.lastX,this._currentPoly.lastY,s,l,e,o,n,i,r),this}bezierCurveTo(e,o,n,i,r,s,l){this._ensurePoly();const a=this._currentPoly;return w1(this._currentPoly.points,a.lastX,a.lastY,e,o,n,i,r,s,l),this}quadraticCurveTo(e,o,n,i,r){this._ensurePoly();const s=this._currentPoly;return GE(this._currentPoly.points,s.lastX,s.lastY,e,o,n,i,r),this}closePath(){return this.endPoly(!0),this}addPath(e,o){this.endPoly(),o&&!o.isIdentity()&&(e=e.clone(!0),e.transform(o));for(let n=0;n<e.instructions.length;n++){const i=e.instructions[n];this[i.action](...i.data)}return this}finish(e=!1){this.endPoly(e)}rect(e,o,n,i,r){return this.drawShape(new Te(e,o,n,i),r),this}circle(e,o,n,i){return this.drawShape(new Wd(e,o,n),i),this}poly(e,o,n){const i=new ns(e);return i.closePath=o,this.drawShape(i,n),this}regularPoly(e,o,n,i,r=0,s){i=Math.max(i|0,3);const l=-1*Math.PI/2+r,a=Math.PI*2/i,c=[];for(let u=0;u<i;u++){const p=u*a+l;c.push(e+n*Math.cos(p),o+n*Math.sin(p))}return this.poly(c,!0,s),this}roundPoly(e,o,n,i,r,s=0,l){if(i=Math.max(i|0,3),r<=0)return this.regularPoly(e,o,n,i,s);const a=n*Math.sin(Math.PI/i)-.001;r=Math.min(r,a);const c=-1*Math.PI/2+s,u=Math.PI*2/i,p=(i-2)*Math.PI/i/2;for(let y=0;y<i;y++){const d=y*u+c,g=e+n*Math.cos(d),f=o+n*Math.sin(d),b=d+Math.PI+p,h=d-Math.PI-p,m=g+r*Math.cos(b),k=f+r*Math.sin(b),w=g+r*Math.cos(h),v=f+r*Math.sin(h);y===0?this.moveTo(m,k):this.lineTo(m,k),this.quadraticCurveTo(g,f,w,v,l)}return this.closePath()}roundShape(e,o,n=!1,i){return e.length<3?this:(n?XE(this,e,o,i):HE(this,e,o),this.closePath())}filletRect(e,o,n,i,r){if(r===0)return this.rect(e,o,n,i);const s=Math.min(n,i)/2,l=Math.min(s,Math.max(-s,r)),a=e+n,c=o+i,u=l<0?-l:0,p=Math.abs(l);return this.moveTo(e,o+p).arcTo(e+u,o+u,e+p,o,p).lineTo(a-p,o).arcTo(a-u,o+u,a,o+p,p).lineTo(a,c-p).arcTo(a-u,c-u,e+n-p,c,p).lineTo(e+p,c).arcTo(e+u,c-u,e,c-p,p).closePath()}chamferRect(e,o,n,i,r,s){if(r<=0)return this.rect(e,o,n,i);const l=Math.min(r,Math.min(n,i)/2),a=e+n,c=o+i,u=[e+l,o,a-l,o,a,o+l,a,c-l,a-l,c,e+l,c,e,c-l,e,o+l];for(let p=u.length-1;p>=2;p-=2)u[p]===u[p-2]&&u[p-1]===u[p-3]&&u.splice(p-1,2);return this.poly(u,!0,s)}ellipse(e,o,n,i,r){return this.drawShape(new Hd(e,o,n,i),r),this}roundRect(e,o,n,i,r,s){return this.drawShape(new Xd(e,o,n,i,r),s),this}drawShape(e,o){return this.endPoly(),this.shapePrimitives.push({shape:e,transform:o}),this}startPoly(e,o){let n=this._currentPoly;return n&&this.endPoly(),n=new ns,n.points.push(e,o),this._currentPoly=n,this}endPoly(e=!1){const o=this._currentPoly;return o&&o.points.length>2&&(o.closePath=e,this.shapePrimitives.push({shape:o})),this._currentPoly=null,this}_ensurePoly(e=!0){if(!this._currentPoly&&(this._currentPoly=new ns,e)){const o=this.shapePrimitives[this.shapePrimitives.length-1];if(o){let n=o.shape.x,i=o.shape.y;if(o.transform&&!o.transform.isIdentity()){const r=o.transform,s=n;n=r.a*n+r.c*i+r.tx,i=r.b*s+r.d*i+r.ty}this._currentPoly.points.push(n,i)}else this._currentPoly.points.push(0,0)}}buildPath(){const e=this._graphicsPath2D;this.shapePrimitives.length=0,this._currentPoly=null;for(let o=0;o<e.instructions.length;o++){const n=e.instructions[o];this[n.action](...n.data)}this.finish()}get bounds(){const e=this._bounds;e.clear();const o=this.shapePrimitives;for(let n=0;n<o.length;n++){const i=o[n],r=i.shape.getBounds(VE);i.transform?e.addRect(r,i.transform):e.addRect(r)}return e}}class sr{constructor(e){this.instructions=[],this.uid=je("graphicsPath"),this._dirty=!0,typeof e=="string"?zS(e,this):this.instructions=e?.slice()??[]}get shapePath(){return this._shapePath||(this._shapePath=new qE(this)),this._dirty&&(this._dirty=!1,this._shapePath.buildPath()),this._shapePath}addPath(e,o){return e=e.clone(),this.instructions.push({action:"addPath",data:[e,o]}),this._dirty=!0,this}arc(...e){return this.instructions.push({action:"arc",data:e}),this._dirty=!0,this}arcTo(...e){return this.instructions.push({action:"arcTo",data:e}),this._dirty=!0,this}arcToSvg(...e){return this.instructions.push({action:"arcToSvg",data:e}),this._dirty=!0,this}bezierCurveTo(...e){return this.instructions.push({action:"bezierCurveTo",data:e}),this._dirty=!0,this}bezierCurveToShort(e,o,n,i,r){const s=this.instructions[this.instructions.length-1],l=this.getLastPoint(Ye.shared);let a=0,c=0;if(!s||s.action!=="bezierCurveTo")a=l.x,c=l.y;else{a=s.data[2],c=s.data[3];const u=l.x,p=l.y;a=u+(u-a),c=p+(p-c)}return this.instructions.push({action:"bezierCurveTo",data:[a,c,e,o,n,i,r]}),this._dirty=!0,this}closePath(){return this.instructions.push({action:"closePath",data:[]}),this._dirty=!0,this}ellipse(...e){return this.instructions.push({action:"ellipse",data:e}),this._dirty=!0,this}lineTo(...e){return this.instructions.push({action:"lineTo",data:e}),this._dirty=!0,this}moveTo(...e){return this.instructions.push({action:"moveTo",data:e}),this}quadraticCurveTo(...e){return this.instructions.push({action:"quadraticCurveTo",data:e}),this._dirty=!0,this}quadraticCurveToShort(e,o,n){const i=this.instructions[this.instructions.length-1],r=this.getLastPoint(Ye.shared);let s=0,l=0;if(!i||i.action!=="quadraticCurveTo")s=r.x,l=r.y;else{s=i.data[0],l=i.data[1];const a=r.x,c=r.y;s=a+(a-s),l=c+(c-l)}return this.instructions.push({action:"quadraticCurveTo",data:[s,l,e,o,n]}),this._dirty=!0,this}rect(e,o,n,i,r){return this.instructions.push({action:"rect",data:[e,o,n,i,r]}),this._dirty=!0,this}circle(e,o,n,i){return this.instructions.push({action:"circle",data:[e,o,n,i]}),this._dirty=!0,this}roundRect(...e){return this.instructions.push({action:"roundRect",data:e}),this._dirty=!0,this}poly(...e){return this.instructions.push({action:"poly",data:e}),this._dirty=!0,this}regularPoly(...e){return this.instructions.push({action:"regularPoly",data:e}),this._dirty=!0,this}roundPoly(...e){return this.instructions.push({action:"roundPoly",data:e}),this._dirty=!0,this}roundShape(...e){return this.instructions.push({action:"roundShape",data:e}),this._dirty=!0,this}filletRect(...e){return this.instructions.push({action:"filletRect",data:e}),this._dirty=!0,this}chamferRect(...e){return this.instructions.push({action:"chamferRect",data:e}),this._dirty=!0,this}star(e,o,n,i,r,s,l){r=r||i/2;const a=-1*Math.PI/2+s,c=n*2,u=Math.PI*2/c,p=[];for(let y=0;y<c;y++){const d=y%2?r:i,g=y*u+a;p.push(e+d*Math.cos(g),o+d*Math.sin(g))}return this.poly(p,!0,l),this}clone(e=!1){const o=new sr;if(!e)o.instructions=this.instructions.slice();else for(let n=0;n<this.instructions.length;n++){const i=this.instructions[n];o.instructions.push({action:i.action,data:i.data.slice()})}return o}clear(){return this.instructions.length=0,this._dirty=!0,this}transform(e){if(e.isIdentity())return this;const o=e.a,n=e.b,i=e.c,r=e.d,s=e.tx,l=e.ty;let a=0,c=0,u=0,p=0,y=0,d=0,g=0,f=0;for(let b=0;b<this.instructions.length;b++){const h=this.instructions[b],m=h.data;switch(h.action){case"moveTo":case"lineTo":a=m[0],c=m[1],m[0]=o*a+i*c+s,m[1]=n*a+r*c+l;break;case"bezierCurveTo":u=m[0],p=m[1],y=m[2],d=m[3],a=m[4],c=m[5],m[0]=o*u+i*p+s,m[1]=n*u+r*p+l,m[2]=o*y+i*d+s,m[3]=n*y+r*d+l,m[4]=o*a+i*c+s,m[5]=n*a+r*c+l;break;case"quadraticCurveTo":u=m[0],p=m[1],a=m[2],c=m[3],m[0]=o*u+i*p+s,m[1]=n*u+r*p+l,m[2]=o*a+i*c+s,m[3]=n*a+r*c+l;break;case"arcToSvg":a=m[5],c=m[6],g=m[0],f=m[1],m[0]=o*g+i*f,m[1]=n*g+r*f,m[5]=o*a+i*c+s,m[6]=n*a+r*c+l;break;case"circle":m[4]=Pr(m[3],e);break;case"rect":m[4]=Pr(m[4],e);break;case"ellipse":m[8]=Pr(m[8],e);break;case"roundRect":m[5]=Pr(m[5],e);break;case"addPath":m[0].transform(e);break;case"poly":m[2]=Pr(m[2],e);break;default:Ie("unknown transform action",h.action);break}}return this._dirty=!0,this}get bounds(){return this.shapePath.bounds}getLastPoint(e){let o=this.instructions.length-1,n=this.instructions[o];if(!n)return e.x=0,e.y=0,e;for(;n.action==="closePath";){if(o--,o<0)return e.x=0,e.y=0,e;n=this.instructions[o]}switch(n.action){case"moveTo":case"lineTo":e.x=n.data[0],e.y=n.data[1];break;case"quadraticCurveTo":e.x=n.data[2],e.y=n.data[3];break;case"bezierCurveTo":e.x=n.data[4],e.y=n.data[5];break;case"arc":case"arcToSvg":e.x=n.data[5],e.y=n.data[6];break;case"addPath":n.data[0].getLastPoint(e);break}return e}}function Pr(t,e){return t?t.prepend(e):e.clone()}function YE(t,e){if(typeof t=="string"){const n=document.createElement("div");n.innerHTML=t.trim(),t=n.querySelector("svg")}const o={context:e,path:new sr};return z1(t,o,null,null),e}function z1(t,e,o,n){const i=t.children,{fillStyle:r,strokeStyle:s}=KE(t);r&&o?o={...o,...r}:r&&(o=r),s&&n?n={...n,...s}:s&&(n=s),e.context.fillStyle=o,e.context.strokeStyle=n;let l,a,c,u,p,y,d,g,f,b,h,m,k,w,v,E,z;switch(t.nodeName.toLowerCase()){case"path":w=t.getAttribute("d"),v=new sr(w),e.context.path(v),o&&e.context.fill(),n&&e.context.stroke();break;case"circle":d=Oe(t,"cx",0),g=Oe(t,"cy",0),f=Oe(t,"r",0),e.context.ellipse(d,g,f,f),o&&e.context.fill(),n&&e.context.stroke();break;case"rect":l=Oe(t,"x",0),a=Oe(t,"y",0),E=Oe(t,"width",0),z=Oe(t,"height",0),b=Oe(t,"rx",0),h=Oe(t,"ry",0),b||h?e.context.roundRect(l,a,E,z,b||h):e.context.rect(l,a,E,z),o&&e.context.fill(),n&&e.context.stroke();break;case"ellipse":d=Oe(t,"cx",0),g=Oe(t,"cy",0),b=Oe(t,"rx",0),h=Oe(t,"ry",0),e.context.beginPath(),e.context.ellipse(d,g,b,h),o&&e.context.fill(),n&&e.context.stroke();break;case"line":c=Oe(t,"x1",0),u=Oe(t,"y1",0),p=Oe(t,"x2",0),y=Oe(t,"y2",0),e.context.beginPath(),e.context.moveTo(c,u),e.context.lineTo(p,y),n&&e.context.stroke();break;case"polygon":k=t.getAttribute("points"),m=k.match(/\d+/g).map(S=>parseInt(S,10)),e.context.poly(m,!0),o&&e.context.fill(),n&&e.context.stroke();break;case"polyline":k=t.getAttribute("points"),m=k.match(/\d+/g).map(S=>parseInt(S,10)),e.context.poly(m,!1),n&&e.context.stroke();break;case"g":case"svg":break;default:{console.info(`[SVG parser] <${t.nodeName}> elements unsupported`);break}}for(let S=0;S<i.length;S++)z1(i[S],e,o,n)}function Oe(t,e,o){const n=t.getAttribute(e);return n?Number(n):o}function KE(t){const e=t.getAttribute("style"),o={},n={};let i=!1,r=!1;if(e){const s=e.split(";");for(let l=0;l<s.length;l++){const a=s[l],[c,u]=a.split(":");switch(c){case"stroke":u!=="none"&&(o.color=K.shared.setValue(u).toNumber(),r=!0);break;case"stroke-width":o.width=Number(u);break;case"fill":u!=="none"&&(i=!0,n.color=K.shared.setValue(u).toNumber());break;case"fill-opacity":n.alpha=Number(u);break;case"stroke-opacity":o.alpha=Number(u);break;case"opacity":n.alpha=Number(u),o.alpha=Number(u);break}}}else{const s=t.getAttribute("stroke");s&&s!=="none"&&(r=!0,o.color=K.shared.setValue(s).toNumber(),o.width=Oe(t,"stroke-width",1));const l=t.getAttribute("fill");l&&l!=="none"&&(i=!0,n.color=K.shared.setValue(l).toNumber())}return{strokeStyle:r?o:null,fillStyle:i?n:null}}function QE(t){return K.isColorLike(t)}function Tg(t){return t instanceof pc}function jg(t){return t instanceof Cs}function JE(t,e,o){const n=K.shared.setValue(e??0);return t.color=n.toNumber(),t.alpha=n.alpha===1?o.alpha:n.alpha,t.texture=q.WHITE,{...o,...t}}function Ig(t,e,o){return t.fill=e,t.color=16777215,t.texture=e.texture,t.matrix=e.transform,{...o,...t}}function Fg(t,e,o){return e.buildLinearGradient(),t.fill=e,t.color=16777215,t.texture=e.texture,t.matrix=e.transform,{...o,...t}}function e_(t,e){const o={...e,...t};if(o.texture){if(o.texture!==q.WHITE){const r=o.matrix?.invert()||new le;r.translate(o.texture.frame.x,o.texture.frame.y),r.scale(1/o.texture.source.width,1/o.texture.source.height),o.matrix=r}const i=o.texture.source.style;i.addressMode==="clamp-to-edge"&&(i.addressMode="repeat",i.update())}const n=K.shared.setValue(o.color);return o.alpha*=n.alpha,o.color=n.toNumber(),o.matrix=o.matrix?o.matrix.clone():null,o}function Dn(t,e){if(t==null)return null;const o={},n=t;return QE(t)?JE(o,t,e):Tg(t)?Ig(o,t,e):jg(t)?Fg(o,t,e):n.fill&&Tg(n.fill)?Ig(n,n.fill,e):n.fill&&jg(n.fill)?Fg(n,n.fill,e):e_(n,e)}function Fa(t,e){const{width:o,alignment:n,miterLimit:i,cap:r,join:s,...l}=e,a=Dn(t,l);return a?{width:o,alignment:n,miterLimit:i,cap:r,join:s,...a}:null}const t_=new Ye,Mg=new le,qd=class no extends Qt{constructor(){super(...arguments),this.uid=je("graphicsContext"),this.dirty=!0,this.batchMode="auto",this.instructions=[],this._activePath=new sr,this._transform=new le,this._fillStyle={...no.defaultFillStyle},this._strokeStyle={...no.defaultStrokeStyle},this._stateStack=[],this._tick=0,this._bounds=new uo,this._boundsDirty=!0}clone(){const e=new no;return e.batchMode=this.batchMode,e.instructions=this.instructions.slice(),e._activePath=this._activePath.clone(),e._transform=this._transform.clone(),e._fillStyle={...this._fillStyle},e._strokeStyle={...this._strokeStyle},e._stateStack=this._stateStack.slice(),e._bounds=this._bounds.clone(),e._boundsDirty=!0,e}get fillStyle(){return this._fillStyle}set fillStyle(e){this._fillStyle=Dn(e,no.defaultFillStyle)}get strokeStyle(){return this._strokeStyle}set strokeStyle(e){this._strokeStyle=Fa(e,no.defaultStrokeStyle)}setFillStyle(e){return this._fillStyle=Dn(e,no.defaultFillStyle),this}setStrokeStyle(e){return this._strokeStyle=Dn(e,no.defaultStrokeStyle),this}texture(e,o,n,i,r,s){return this.instructions.push({action:"texture",data:{image:e,dx:n||0,dy:i||0,dw:r||e.frame.width,dh:s||e.frame.height,transform:this._transform.clone(),alpha:this._fillStyle.alpha,style:o?K.shared.setValue(o).toNumber():16777215}}),this.onUpdate(),this}beginPath(){return this._activePath=new sr,this}fill(e,o){let n;const i=this.instructions[this.instructions.length-1];return this._tick===0&&i&&i.action==="stroke"?n=i.data.path:n=this._activePath.clone(),n?(e!=null&&(o!==void 0&&typeof e=="number"&&($(ue,"GraphicsContext.fill(color, alpha) is deprecated, use GraphicsContext.fill({ color, alpha }) instead"),e={color:e,alpha:o}),this._fillStyle=Dn(e,no.defaultFillStyle)),this.instructions.push({action:"fill",data:{style:this.fillStyle,path:n}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}_initNextPathLocation(){const{x:e,y:o}=this._activePath.getLastPoint(Ye.shared);this._activePath.clear(),this._activePath.moveTo(e,o)}stroke(e){let o;const n=this.instructions[this.instructions.length-1];return this._tick===0&&n&&n.action==="fill"?o=n.data.path:o=this._activePath.clone(),o?(e!=null&&(this._strokeStyle=Fa(e,no.defaultStrokeStyle)),this.instructions.push({action:"stroke",data:{style:this.strokeStyle,path:o}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}cut(){for(let e=0;e<2;e++){const o=this.instructions[this.instructions.length-1-e],n=this._activePath.clone();if(o&&(o.action==="stroke"||o.action==="fill"))if(o.data.hole)o.data.hole.addPath(n);else{o.data.hole=n;break}}return this._initNextPathLocation(),this}arc(e,o,n,i,r,s){this._tick++;const l=this._transform;return this._activePath.arc(l.a*e+l.c*o+l.tx,l.b*e+l.d*o+l.ty,n,i,r,s),this}arcTo(e,o,n,i,r){this._tick++;const s=this._transform;return this._activePath.arcTo(s.a*e+s.c*o+s.tx,s.b*e+s.d*o+s.ty,s.a*n+s.c*i+s.tx,s.b*n+s.d*i+s.ty,r),this}arcToSvg(e,o,n,i,r,s,l){this._tick++;const a=this._transform;return this._activePath.arcToSvg(e,o,n,i,r,a.a*s+a.c*l+a.tx,a.b*s+a.d*l+a.ty),this}bezierCurveTo(e,o,n,i,r,s,l){this._tick++;const a=this._transform;return this._activePath.bezierCurveTo(a.a*e+a.c*o+a.tx,a.b*e+a.d*o+a.ty,a.a*n+a.c*i+a.tx,a.b*n+a.d*i+a.ty,a.a*r+a.c*s+a.tx,a.b*r+a.d*s+a.ty,l),this}closePath(){return this._tick++,this._activePath?.closePath(),this}ellipse(e,o,n,i){return this._tick++,this._activePath.ellipse(e,o,n,i,this._transform.clone()),this}circle(e,o,n){return this._tick++,this._activePath.circle(e,o,n,this._transform.clone()),this}path(e){return this._tick++,this._activePath.addPath(e,this._transform.clone()),this}lineTo(e,o){this._tick++;const n=this._transform;return this._activePath.lineTo(n.a*e+n.c*o+n.tx,n.b*e+n.d*o+n.ty),this}moveTo(e,o){this._tick++;const n=this._transform,i=this._activePath.instructions,r=n.a*e+n.c*o+n.tx,s=n.b*e+n.d*o+n.ty;return i.length===1&&i[0].action==="moveTo"?(i[0].data[0]=r,i[0].data[1]=s,this):(this._activePath.moveTo(r,s),this)}quadraticCurveTo(e,o,n,i,r){this._tick++;const s=this._transform;return this._activePath.quadraticCurveTo(s.a*e+s.c*o+s.tx,s.b*e+s.d*o+s.ty,s.a*n+s.c*i+s.tx,s.b*n+s.d*i+s.ty,r),this}rect(e,o,n,i){return this._tick++,this._activePath.rect(e,o,n,i,this._transform.clone()),this}roundRect(e,o,n,i,r){return this._tick++,this._activePath.roundRect(e,o,n,i,r,this._transform.clone()),this}poly(e,o){return this._tick++,this._activePath.poly(e,o,this._transform.clone()),this}regularPoly(e,o,n,i,r=0,s){return this._tick++,this._activePath.regularPoly(e,o,n,i,r,s),this}roundPoly(e,o,n,i,r,s){return this._tick++,this._activePath.roundPoly(e,o,n,i,r,s),this}roundShape(e,o,n,i){return this._tick++,this._activePath.roundShape(e,o,n,i),this}filletRect(e,o,n,i,r){return this._tick++,this._activePath.filletRect(e,o,n,i,r),this}chamferRect(e,o,n,i,r,s){return this._tick++,this._activePath.chamferRect(e,o,n,i,r,s),this}star(e,o,n,i,r=0,s=0){return this._tick++,this._activePath.star(e,o,n,i,r,s,this._transform.clone()),this}svg(e){return this._tick++,YE(e,this),this}restore(){const e=this._stateStack.pop();return e&&(this._transform=e.transform,this._fillStyle=e.fillStyle,this._strokeStyle=e.strokeStyle),this}save(){return this._stateStack.push({transform:this._transform.clone(),fillStyle:{...this._fillStyle},strokeStyle:{...this._strokeStyle}}),this}getTransform(){return this._transform}resetTransform(){return this._transform.identity(),this}rotate(e){return this._transform.rotate(e),this}scale(e,o=e){return this._transform.scale(e,o),this}setTransform(e,o,n,i,r,s){return e instanceof le?(this._transform.set(e.a,e.b,e.c,e.d,e.tx,e.ty),this):(this._transform.set(e,o,n,i,r,s),this)}transform(e,o,n,i,r,s){return e instanceof le?(this._transform.append(e),this):(Mg.set(e,o,n,i,r,s),this._transform.append(Mg),this)}translate(e,o=e){return this._transform.translate(e,o),this}clear(){return this._activePath.clear(),this.instructions.length=0,this.resetTransform(),this.onUpdate(),this}onUpdate(){this.dirty||(this.emit("update",this,16),this.dirty=!0,this._boundsDirty=!0)}get bounds(){if(!this._boundsDirty)return this._bounds;const e=this._bounds;e.clear();for(let o=0;o<this.instructions.length;o++){const n=this.instructions[o],i=n.action;if(i==="fill"){const r=n.data;e.addBounds(r.path.bounds)}else if(i==="texture"){const r=n.data;e.addFrame(r.dx,r.dy,r.dx+r.dw,r.dy+r.dh,r.transform)}if(i==="stroke"){const r=n.data,s=r.style.width/2,l=r.path.bounds;e.addFrame(l.minX-s,l.minY-s,l.maxX+s,l.maxY+s)}}return e}containsPoint(e){if(!this.bounds.containsPoint(e.x,e.y))return!1;const o=this.instructions;let n=!1;for(let i=0;i<o.length;i++){const r=o[i],s=r.data,l=s.path;if(!r.action||!l)continue;const a=s.style,c=l.shapePath.shapePrimitives;for(let u=0;u<c.length;u++){const p=c[u].shape;if(!a||!p)continue;const y=c[u].transform,d=y?y.applyInverse(e,t_):e;r.action==="fill"?n=p.contains(d.x,d.y):n=p.strokeContains(d.x,d.y,a.width);const g=s.hole;if(g){const f=g.shapePath?.shapePrimitives;if(f)for(let b=0;b<f.length;b++)f[b].shape.contains(d.x,d.y)&&(n=!1)}if(n)return!0}}return n}destroy(e=!1){if(this._stateStack.length=0,this._transform=null,this.emit("destroy",this),this.removeAllListeners(),typeof e=="boolean"?e:e?.texture){const n=typeof e=="boolean"?e:e?.textureSource;this._fillStyle.texture&&this._fillStyle.texture.destroy(n),this._strokeStyle.texture&&this._strokeStyle.texture.destroy(n)}this._fillStyle=null,this._strokeStyle=null,this.instructions=null,this._activePath=null,this._bounds=null,this._stateStack=null,this.customShader=null,this._transform=null}};qd.defaultFillStyle={color:16777215,alpha:1,texture:q.WHITE,matrix:null,fill:null};qd.defaultStrokeStyle={width:1,color:16777215,alpha:1,alignment:.5,miterLimit:10,cap:"butt",join:"miter",texture:q.WHITE,matrix:null,fill:null};let At=qd;const Og=["align","breakWords","cssOverrides","fontVariant","fontWeight","leading","letterSpacing","lineHeight","padding","textBaseline","trim","whiteSpace","wordWrap","wordWrapWidth","fontFamily","fontStyle","fontSize"];function o_(t){const e=[];let o=0;for(let n=0;n<Og.length;n++){const i=`_${Og[n]}`;e[o++]=t[i]}return o=S1(t._fill,e,o),o=n_(t._stroke,e,o),o=i_(t.dropShadow,e,o),e.join("-")}function S1(t,e,o){return t&&(e[o++]=t.color,e[o++]=t.alpha,e[o++]=t.fill?.styleKey),o}function n_(t,e,o){return t&&(o=S1(t,e,o),e[o++]=t.width,e[o++]=t.alignment,e[o++]=t.cap,e[o++]=t.join,e[o++]=t.miterLimit),o}function i_(t,e,o){return t&&(e[o++]=t.alpha,e[o++]=t.angle,e[o++]=t.blur,e[o++]=t.distance,e[o++]=K.shared.setValue(t.color).toNumber()),o}const Yd=class xi extends Qt{constructor(e={}){super(),r_(e);const o={...xi.defaultTextStyle,...e};for(const n in o){const i=n;this[i]=o[n]}this.update()}get align(){return this._align}set align(e){this._align=e,this.update()}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords=e,this.update()}get dropShadow(){return this._dropShadow}set dropShadow(e){e!==null&&typeof e=="object"?this._dropShadow=this._createProxy({...xi.defaultDropShadow,...e}):this._dropShadow=e?this._createProxy({...xi.defaultDropShadow}):null,this.update()}get fontFamily(){return this._fontFamily}set fontFamily(e){this._fontFamily=e,this.update()}get fontSize(){return this._fontSize}set fontSize(e){typeof e=="string"?this._fontSize=parseInt(e,10):this._fontSize=e,this.update()}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle=e,this.update()}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant=e,this.update()}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight=e,this.update()}get leading(){return this._leading}set leading(e){this._leading=e,this.update()}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing=e,this.update()}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight=e,this.update()}get padding(){return this._padding}set padding(e){this._padding=e,this.update()}get trim(){return this._trim}set trim(e){this._trim=e,this.update()}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline=e,this.update()}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace=e,this.update()}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap=e,this.update()}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth=e,this.update()}get fill(){return this._originalFill}set fill(e){e!==this._originalFill&&(this._originalFill=e,this._isFillStyle(e)&&(this._originalFill=this._createProxy({...At.defaultFillStyle,...e},()=>{this._fill=Dn({...this._originalFill},At.defaultFillStyle)})),this._fill=Dn(e===0?"black":e,At.defaultFillStyle),this.update())}get stroke(){return this._originalStroke}set stroke(e){e!==this._originalStroke&&(this._originalStroke=e,this._isFillStyle(e)&&(this._originalStroke=this._createProxy({...At.defaultStrokeStyle,...e},()=>{this._stroke=Fa({...this._originalStroke},At.defaultStrokeStyle)})),this._stroke=Fa(e,At.defaultStrokeStyle),this.update())}_generateKey(){return this._styleKey=o_(this),this._styleKey}update(){this._styleKey=null,this.emit("update",this)}reset(){const e=xi.defaultTextStyle;for(const o in e)this[o]=e[o]}get styleKey(){return this._styleKey||this._generateKey()}clone(){return new xi({align:this.align,breakWords:this.breakWords,dropShadow:this._dropShadow?{...this._dropShadow}:null,fill:this._fill,fontFamily:this.fontFamily,fontSize:this.fontSize,fontStyle:this.fontStyle,fontVariant:this.fontVariant,fontWeight:this.fontWeight,leading:this.leading,letterSpacing:this.letterSpacing,lineHeight:this.lineHeight,padding:this.padding,stroke:this._stroke,textBaseline:this.textBaseline,whiteSpace:this.whiteSpace,wordWrap:this.wordWrap,wordWrapWidth:this.wordWrapWidth})}destroy(e=!1){if(this.removeAllListeners(),typeof e=="boolean"?e:e?.texture){const n=typeof e=="boolean"?e:e?.textureSource;this._fill?.texture&&this._fill.texture.destroy(n),this._originalFill?.texture&&this._originalFill.texture.destroy(n),this._stroke?.texture&&this._stroke.texture.destroy(n),this._originalStroke?.texture&&this._originalStroke.texture.destroy(n)}this._fill=null,this._stroke=null,this.dropShadow=null,this._originalStroke=null,this._originalFill=null}_createProxy(e,o){return new Proxy(e,{set:(n,i,r)=>(n[i]=r,o?.(i,r),this.update(),!0)})}_isFillStyle(e){return(e??null)!==null&&!(K.isColorLike(e)||e instanceof Cs||e instanceof pc)}};Yd.defaultDropShadow={alpha:1,angle:Math.PI/6,blur:0,color:"black",distance:5};Yd.defaultTextStyle={align:"left",breakWords:!1,dropShadow:null,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,padding:0,stroke:null,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let As=Yd;function r_(t){const e=t;if(typeof e.dropShadow=="boolean"&&e.dropShadow){const o=As.defaultDropShadow;t.dropShadow={alpha:e.dropShadowAlpha??o.alpha,angle:e.dropShadowAngle??o.angle,blur:e.dropShadowBlur??o.blur,color:e.dropShadowColor??o.color,distance:e.dropShadowDistance??o.distance}}if(e.strokeThickness!==void 0){$(ue,"strokeThickness is now a part of stroke");const o=e.stroke;let n={};if(K.isColorLike(o))n.color=o;else if(o instanceof Cs||o instanceof pc)n.fill=o;else if(Object.hasOwnProperty.call(o,"color")||Object.hasOwnProperty.call(o,"fill"))n=o;else throw new Error("Invalid stroke value.");t.stroke={...n,width:e.strokeThickness}}if(Array.isArray(e.fillGradientStops)){$(ue,"gradient fill is now a fill pattern: `new FillGradient(...)`");let o;t.fontSize==null?t.fontSize=As.defaultTextStyle.fontSize:typeof t.fontSize=="string"?o=parseInt(t.fontSize,10):o=t.fontSize;const n=new Cs(0,0,0,o*1.7),i=e.fillGradientStops.map(r=>K.shared.setValue(r).toNumber());i.forEach((r,s)=>{const l=s/(i.length-1);n.addColorStop(l,r)}),t.fill={fill:n}}}class s_{constructor(e){this._canvasPool=Object.create(null),this.canvasOptions=e||{},this.enableFullScreen=!1}_createCanvasAndContext(e,o){const n=Ee.get().createCanvas();n.width=e,n.height=o;const i=n.getContext("2d");return{canvas:n,context:i}}getOptimalCanvasAndContext(e,o,n=1){e=Math.ceil(e*n-1e-6),o=Math.ceil(o*n-1e-6),e=Aa(e),o=Aa(o);const i=(e<<17)+(o<<1);this._canvasPool[i]||(this._canvasPool[i]=[]);let r=this._canvasPool[i].pop();return r||(r=this._createCanvasAndContext(e,o)),r}returnCanvasAndContext(e){const o=e.canvas,{width:n,height:i}=o,r=(n<<17)+(i<<1);this._canvasPool[r].push(e)}clear(){this._canvasPool={}}}const Dg=new s_,l_=["serif","sans-serif","monospace","cursive","fantasy","system-ui"];function yy(t){const e=typeof t.fontSize=="number"?`${t.fontSize}px`:t.fontSize;let o=t.fontFamily;Array.isArray(t.fontFamily)||(o=t.fontFamily.split(","));for(let n=o.length-1;n>=0;n--){let i=o[n].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&!l_.includes(i)&&(i=`"${i}"`),o[n]=i}return`${t.fontStyle} ${t.fontVariant} ${t.fontWeight} ${e} ${o.join(",")}`}const _u={willReadFrequently:!0},Jt=class U{static get experimentalLetterSpacingSupported(){let e=U._experimentalLetterSpacingSupported;if(e!==void 0){const o=Ee.get().getCanvasRenderingContext2D().prototype;e=U._experimentalLetterSpacingSupported="letterSpacing"in o||"textLetterSpacing"in o}return e}constructor(e,o,n,i,r,s,l,a,c){this.text=e,this.style=o,this.width=n,this.height=i,this.lines=r,this.lineWidths=s,this.lineHeight=l,this.maxLineWidth=a,this.fontProperties=c}static measureText(e=" ",o,n=U._canvas,i=o.wordWrap){const r=`${e}:${o.styleKey}`;if(U._measurementCache[r])return U._measurementCache[r];const s=yy(o),l=U.measureFont(s);l.fontSize===0&&(l.fontSize=o.fontSize,l.ascent=o.fontSize);const a=U.__context;a.font=s;const u=(i?U._wordWrap(e,o,n):e).split(/(?:\r\n|\r|\n)/),p=new Array(u.length);let y=0;for(let m=0;m<u.length;m++){const k=U._measureText(u[m],o.letterSpacing,a);p[m]=k,y=Math.max(y,k)}const d=o._stroke?.width||0;let g=y+d;o.dropShadow&&(g+=o.dropShadow.distance);const f=o.lineHeight||l.fontSize;let b=Math.max(f,l.fontSize+d)+(u.length-1)*(f+o.leading);return o.dropShadow&&(b+=o.dropShadow.distance),new U(e,o,g,b,u,p,f+o.leading,y,l)}static _measureText(e,o,n){let i=!1;U.experimentalLetterSpacingSupported&&(U.experimentalLetterSpacing?(n.letterSpacing=`${o}px`,n.textLetterSpacing=`${o}px`,i=!0):(n.letterSpacing="0px",n.textLetterSpacing="0px"));let r=n.measureText(e).width;return r>0&&(i?r-=o:r+=(U.graphemeSegmenter(e).length-1)*o),r}static _wordWrap(e,o,n=U._canvas){const i=n.getContext("2d",_u);let r=0,s="",l="";const a=Object.create(null),{letterSpacing:c,whiteSpace:u}=o,p=U._collapseSpaces(u),y=U._collapseNewlines(u);let d=!p;const g=o.wordWrapWidth+c,f=U._tokenize(e);for(let b=0;b<f.length;b++){let h=f[b];if(U._isNewline(h)){if(!y){l+=U._addLine(s),d=!p,s="",r=0;continue}h=" "}if(p){const k=U.isBreakingSpace(h),w=U.isBreakingSpace(s[s.length-1]);if(k&&w)continue}const m=U._getFromCache(h,c,a,i);if(m>g)if(s!==""&&(l+=U._addLine(s),s="",r=0),U.canBreakWords(h,o.breakWords)){const k=U.wordWrapSplit(h);for(let w=0;w<k.length;w++){let v=k[w],E=v,z=1;for(;k[w+z];){const C=k[w+z];if(!U.canBreakChars(E,C,h,w,o.breakWords))v+=C;else break;E=C,z++}w+=z-1;const S=U._getFromCache(v,c,a,i);S+r>g&&(l+=U._addLine(s),d=!1,s="",r=0),s+=v,r+=S}}else{s.length>0&&(l+=U._addLine(s),s="",r=0);const k=b===f.length-1;l+=U._addLine(h,!k),d=!1,s="",r=0}else m+r>g&&(d=!1,l+=U._addLine(s),s="",r=0),(s.length>0||!U.isBreakingSpace(h)||d)&&(s+=h,r+=m)}return l+=U._addLine(s,!1),l}static _addLine(e,o=!0){return e=U._trimRight(e),e=o?`${e}
`:e,e}static _getFromCache(e,o,n,i){let r=n[e];return typeof r!="number"&&(r=U._measureText(e,o,i)+o,n[e]=r),r}static _collapseSpaces(e){return e==="normal"||e==="pre-line"}static _collapseNewlines(e){return e==="normal"}static _trimRight(e){if(typeof e!="string")return"";for(let o=e.length-1;o>=0;o--){const n=e[o];if(!U.isBreakingSpace(n))break;e=e.slice(0,-1)}return e}static _isNewline(e){return typeof e!="string"?!1:U._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,o){return typeof e!="string"?!1:U._breakingSpaces.includes(e.charCodeAt(0))}static _tokenize(e){const o=[];let n="";if(typeof e!="string")return o;for(let i=0;i<e.length;i++){const r=e[i],s=e[i+1];if(U.isBreakingSpace(r,s)||U._isNewline(r)){n!==""&&(o.push(n),n=""),o.push(r);continue}n+=r}return n!==""&&o.push(n),o}static canBreakWords(e,o){return o}static canBreakChars(e,o,n,i,r){return!0}static wordWrapSplit(e){return U.graphemeSegmenter(e)}static measureFont(e){if(U._fonts[e])return U._fonts[e];const o=U._context;o.font=e;const n=o.measureText(U.METRICS_STRING+U.BASELINE_SYMBOL),i={ascent:n.actualBoundingBoxAscent,descent:n.actualBoundingBoxDescent,fontSize:n.actualBoundingBoxAscent+n.actualBoundingBoxDescent};return U._fonts[e]=i,i}static clearMetrics(e=""){e?delete U._fonts[e]:U._fonts={}}static get _canvas(){if(!U.__canvas){let e;try{const o=new OffscreenCanvas(0,0);if(o.getContext("2d",_u)?.measureText)return U.__canvas=o,o;e=Ee.get().createCanvas()}catch{e=Ee.get().createCanvas()}e.width=e.height=10,U.__canvas=e}return U.__canvas}static get _context(){return U.__context||(U.__context=U._canvas.getContext("2d",_u)),U.__context}};Jt.METRICS_STRING="|q";Jt.BASELINE_SYMBOL="M";Jt.BASELINE_MULTIPLIER=1.4;Jt.HEIGHT_MULTIPLIER=2;Jt.graphemeSegmenter=(()=>{if(typeof Intl?.Segmenter=="function"){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map(o=>o.segment)}return t=>[...t]})();Jt.experimentalLetterSpacing=!1;Jt._fonts={};Jt._newlines=[10,13];Jt._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];Jt._measurementCache={};let Bg=Jt;function Gg(t,e){if(t.texture===q.WHITE&&!t.fill)return K.shared.setValue(t.color).setAlpha(t.alpha??1).toHexa();if(t.fill){if(t.fill instanceof pc){const o=t.fill,n=e.createPattern(o.texture.source.resource,"repeat"),i=o.transform.copyTo(le.shared);return i.scale(o.texture.frame.width,o.texture.frame.height),n.setTransform(i),n}else if(t.fill instanceof Cs){const o=t.fill;if(o.type==="linear"){const n=e.createLinearGradient(o.x0,o.y0,o.x1,o.y1);return o.gradientStops.forEach(i=>{n.addColorStop(i.offset,K.shared.setValue(i.color).toHex())}),n}}}else{const o=e.createPattern(t.texture.source.resource,"repeat"),n=t.matrix.copyTo(le.shared);return n.scale(t.texture.frame.width,t.texture.frame.height),o.setTransform(n),o}return Ie("FillStyle not recognised",t),"red"}function E1(t){if(t==="")return[];typeof t=="string"&&(t=[t]);const e=[];for(let o=0,n=t.length;o<n;o++){const i=t[o];if(Array.isArray(i)){if(i.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);if(i[0].length===0||i[1].length===0)throw new Error("[BitmapFont]: Invalid character delimiter.");const r=i[0].charCodeAt(0),s=i[1].charCodeAt(0);if(s<r)throw new Error("[BitmapFont]: Invalid character range.");for(let l=r,a=s;l<=a;l++)e.push(String.fromCharCode(l))}else e.push(...Array.from(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const _1=class C1 extends s1{constructor(e){super(),this.resolution=1,this.pages=[],this._padding=0,this._measureCache=Object.create(null),this._currentChars=[],this._currentX=0,this._currentY=0,this._currentPageIndex=-1,this._skipKerning=!1;const o={...C1.defaultOptions,...e};this._textureSize=o.textureSize,this._mipmap=o.mipmap;const n=o.style.clone();o.overrideFill&&(n._fill.color=16777215,n._fill.alpha=1,n._fill.texture=q.WHITE,n._fill.fill=null),this.applyFillAsTint=o.overrideFill;const i=n.fontSize;n.fontSize=this.baseMeasurementFontSize;const r=yy(n);o.overrideSize?n._stroke&&(n._stroke.width*=this.baseRenderedFontSize/i):n.fontSize=this.baseRenderedFontSize=i,this._style=n,this._skipKerning=o.skipKerning??!1,this.resolution=o.resolution??1,this._padding=o.padding??4,this.fontMetrics=Bg.measureFont(r),this.lineHeight=n.lineHeight||this.fontMetrics.fontSize||n.fontSize}ensureCharacters(e){const o=E1(e).filter(f=>!this._currentChars.includes(f)).filter((f,b,h)=>h.indexOf(f)===b);if(!o.length)return;this._currentChars=[...this._currentChars,...o];let n;this._currentPageIndex===-1?n=this._nextPage():n=this.pages[this._currentPageIndex];let{canvas:i,context:r}=n.canvasAndContext,s=n.texture.source;const l=this._style;let a=this._currentX,c=this._currentY;const u=this.baseRenderedFontSize/this.baseMeasurementFontSize,p=this._padding*u,y=l.fontStyle==="italic"?2:1;let d=0,g=!1;for(let f=0;f<o.length;f++){const b=o[f],h=Bg.measureText(b,l,i,!1);h.lineHeight=h.height;const m=y*h.width*u,k=h.height*u,w=m+p*2,v=k+p*2;if(g=!1,b!==`
`&&b!=="\r"&&b!=="	"&&b!==" "&&(g=!0,d=Math.ceil(Math.max(v,d))),a+w>this._textureSize&&(c+=d,d=v,a=0,c+d>this._textureSize)){s.update();const z=this._nextPage();i=z.canvasAndContext.canvas,r=z.canvasAndContext.context,s=z.texture.source,c=0}const E=m/u-(l.dropShadow?.distance??0)-(l._stroke?.width??0);if(this.chars[b]={id:b.codePointAt(0),xOffset:-this._padding,yOffset:-this._padding,xAdvance:E,kerning:{}},g){this._drawGlyph(r,h,a+p,c+p,u,l);const z=s.width*u,S=s.height*u,C=new Te(a/z*s.width,c/S*s.height,w/z*s.width,v/S*s.height);this.chars[b].texture=new q({source:s,frame:C}),a+=Math.ceil(w)}}s.update(),this._currentX=a,this._currentY=c,this._skipKerning&&this._applyKerning(o,r)}get pageTextures(){return $(ue,"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}_applyKerning(e,o){const n=this._measureCache;for(let i=0;i<e.length;i++){const r=e[i];for(let s=0;s<this._currentChars.length;s++){const l=this._currentChars[s];let a=n[r];a||(a=n[r]=o.measureText(r).width);let c=n[l];c||(c=n[l]=o.measureText(l).width);let u=o.measureText(r+l).width,p=u-(a+c);p&&(this.chars[r].kerning[l]=p),u=o.measureText(r+l).width,p=u-(a+c),p&&(this.chars[l].kerning[r]=p)}}}_nextPage(){this._currentPageIndex++;const e=this.resolution,o=Dg.getOptimalCanvasAndContext(this._textureSize,this._textureSize,e);this._setupContext(o.context,this._style,e);const n=e*(this.baseRenderedFontSize/this.baseMeasurementFontSize),i=new q({source:new si({resource:o.canvas,resolution:n,alphaMode:"premultiply-alpha-on-upload",autoGenerateMipmaps:this._mipmap})}),r={canvasAndContext:o,texture:i};return this.pages[this._currentPageIndex]=r,r}_setupContext(e,o,n){o.fontSize=this.baseRenderedFontSize,e.scale(n,n),e.font=yy(o),o.fontSize=this.baseMeasurementFontSize,e.textBaseline=o.textBaseline;const i=o._stroke,r=i?.width??0;if(i&&(e.lineWidth=r,e.lineJoin=i.join,e.miterLimit=i.miterLimit,e.strokeStyle=Gg(i,e)),o._fill&&(e.fillStyle=Gg(o._fill,e)),o.dropShadow){const s=o.dropShadow,l=K.shared.setValue(s.color).toArray(),a=s.blur*n,c=s.distance*n;e.shadowColor=`rgba(${l[0]*255},${l[1]*255},${l[2]*255},${s.alpha})`,e.shadowBlur=a,e.shadowOffsetX=Math.cos(s.angle)*c,e.shadowOffsetY=Math.sin(s.angle)*c}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0}_drawGlyph(e,o,n,i,r,s){const l=o.text,a=o.fontProperties,u=(s._stroke?.width??0)*r,p=n+u/2,y=i-u/2,d=a.descent*r,g=o.lineHeight*r;s.stroke&&u&&e.strokeText(l,p,y+g-d),s._fill&&e.fillText(l,p,y+g-d)}destroy(){super.destroy();for(let e=0;e<this.pages.length;e++){const{canvasAndContext:o,texture:n}=this.pages[e];o.canvas.width=o.canvas.width,Dg.returnCanvasAndContext(o),n.destroy(!0)}this.pages=null}};_1.defaultOptions={textureSize:512,style:new As,mipmap:!0};let Ug=_1;function a_(t,e,o,n){const i={width:0,height:0,offsetY:0,scale:e.fontSize/o.baseMeasurementFontSize,lines:[{width:0,charPositions:[],spaceWidth:0,spacesIndex:[],chars:[]}]};i.offsetY=o.baseLineOffset;let r=i.lines[0],s=null,l=!0;const a={spaceWord:!1,width:0,start:0,index:0,positions:[],chars:[]},c=g=>{const f=r.width;for(let b=0;b<a.index;b++){const h=g.positions[b];r.chars.push(g.chars[b]),r.charPositions.push(h+f)}r.width+=g.width,l=!1,a.width=0,a.index=0,a.chars.length=0},u=()=>{let g=r.chars.length-1;if(n){let f=r.chars[g];for(;f===" ";)r.width-=o.chars[f].xAdvance,f=r.chars[--g]}i.width=Math.max(i.width,r.width),r={width:0,charPositions:[],chars:[],spaceWidth:0,spacesIndex:[]},l=!0,i.lines.push(r),i.height+=o.lineHeight},p=o.baseMeasurementFontSize/e.fontSize,y=e.letterSpacing*p,d=e.wordWrapWidth*p;for(let g=0;g<t.length+1;g++){let f;const b=g===t.length;b||(f=t[g]);const h=o.chars[f]||o.chars[" "];if(/(?:\s)/.test(f)||f==="\r"||f===`
`||b){if(!l&&e.wordWrap&&r.width+a.width-y>d?(u(),c(a),b||r.charPositions.push(0)):(a.start=r.width,c(a),b||r.charPositions.push(0)),f==="\r"||f===`
`)r.width!==0&&u();else if(!b){const v=h.xAdvance+(h.kerning[s]||0)+y;r.width+=v,r.spaceWidth=v,r.spacesIndex.push(r.charPositions.length),r.chars.push(f)}}else{const w=h.kerning[s]||0,v=h.xAdvance+w+y;a.positions[a.index++]=a.width+w,a.chars.push(f),a.width+=v}s=f}return u(),e.align==="center"?c_(i):e.align==="right"?u_(i):e.align==="justify"&&p_(i),i}function c_(t){for(let e=0;e<t.lines.length;e++){const o=t.lines[e],n=t.width/2-o.width/2;for(let i=0;i<o.charPositions.length;i++)o.charPositions[i]+=n}}function u_(t){for(let e=0;e<t.lines.length;e++){const o=t.lines[e],n=t.width-o.width;for(let i=0;i<o.charPositions.length;i++)o.charPositions[i]+=n}}function p_(t){const e=t.width;for(let o=0;o<t.lines.length;o++){const n=t.lines[o];let i=0,r=n.spacesIndex[i++],s=0;const l=n.spacesIndex.length,c=(e-n.width)/l;for(let u=0;u<n.charPositions.length;u++)u===r&&(r=n.spacesIndex[i++],s+=c),n.charPositions[u]+=s}}let vl=0;class y_{constructor(){this.ALPHA=[["a","z"],["A","Z"]," "],this.NUMERIC=[["0","9"]],this.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],this.ASCII=[[" ","~"]],this.defaultOptions={chars:this.ALPHANUMERIC,resolution:1,padding:4,skipKerning:!1}}getFont(e,o){let n=`${o.fontFamily}-bitmap`,i=!0;if(o._fill.fill&&!o._stroke)n+=o._fill.fill.styleKey,i=!1;else if(o._stroke||o.dropShadow){let s=o.styleKey;s=s.substring(0,s.lastIndexOf("-")),n=`${s}-bitmap`,i=!1}if(!ve.has(n)){const s=new Ug({style:o,overrideFill:i,overrideSize:!0,...this.defaultOptions});vl++,vl>50&&Ie("BitmapText",`You have dynamically created ${vl} bitmap fonts, this can be inefficient. Try pre installing your font styles using \`BitmapFont.install({name:"style1", style})\``),s.once("destroy",()=>{vl--,ve.remove(n)}),ve.set(n,s)}const r=ve.get(n);return r.ensureCharacters?.(e),r}getLayout(e,o,n=!0){const i=this.getFont(e,o);return a_([...e],o,i,n)}measureText(e,o,n=!0){return this.getLayout(e,o,n)}install(...e){let o=e[0];typeof o=="string"&&(o={name:o,style:e[1],chars:e[2]?.chars,resolution:e[2]?.resolution,padding:e[2]?.padding,skipKerning:e[2]?.skipKerning},$(ue,"BitmapFontManager.install(name, style, options) is deprecated, use BitmapFontManager.install({name, style, ...options})"));const n=o?.name;if(!n)throw new Error("[BitmapFontManager] Property `name` is required.");o={...this.defaultOptions,...o};const i=o.style,r=i instanceof As?i:new As(i),s=r._fill.fill!==null&&r._fill.fill!==void 0,l=new Ug({style:r,overrideFill:s,skipKerning:o.skipKerning,padding:o.padding,resolution:o.resolution,overrideSize:!1}),a=E1(o.chars);return l.ensureCharacters(a.join("")),ve.set(`${n}-bitmap`,l),l.once("destroy",()=>ve.remove(`${n}-bitmap`)),l}uninstall(e){const o=`${e}-bitmap`,n=ve.get(o);n&&(ve.remove(o),n.destroy())}}const Ng=new y_;class Z1 extends s1{constructor(e,o){super();const{textures:n,data:i}=e;Object.keys(i.pages).forEach(r=>{const s=i.pages[parseInt(r,10)],l=n[s.id];this.pages.push({texture:l})}),Object.keys(i.chars).forEach(r=>{const s=i.chars[r],{frame:l,source:a}=n[s.page],c=new Te(s.x+l.x,s.y+l.y,s.width,s.height),u=new q({source:a,frame:c});this.chars[r]={id:r.codePointAt(0),xOffset:s.xOffset,yOffset:s.yOffset,xAdvance:s.xAdvance,kerning:s.kerning??{},texture:u}}),this.baseRenderedFontSize=i.fontSize,this.baseMeasurementFontSize=i.fontSize,this.fontMetrics={ascent:0,descent:0,fontSize:i.fontSize},this.baseLineOffset=i.baseLineOffset,this.lineHeight=i.lineHeight,this.fontFamily=i.fontFamily,this.distanceField=i.distanceField??{type:"none",range:0},this.url=o}destroy(){super.destroy();for(let e=0;e<this.pages.length;e++){const{texture:o}=this.pages[e];o.destroy(!0)}this.pages=null}static install(e){Ng.install(e)}static uninstall(e){Ng.uninstall(e)}}const Cu={test(t){return typeof t=="string"&&t.startsWith("info face=")},parse(t){const e=t.match(/^[a-z]+\s+.+$/gm),o={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const p in e){const y=e[p].match(/^[a-z]+/gm)[0],d=e[p].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),g={};for(const f in d){const b=d[f].split("="),h=b[0],m=b[1].replace(/"/gm,""),k=parseFloat(m),w=isNaN(k)?m:k;g[h]=w}o[y].push(g)}const n={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},[i]=o.info,[r]=o.common,[s]=o.distanceField??[];s&&(n.distanceField={range:parseInt(s.distanceRange,10),type:s.fieldType}),n.fontSize=parseInt(i.size,10),n.fontFamily=i.face,n.lineHeight=parseInt(r.lineHeight,10);const l=o.page;for(let p=0;p<l.length;p++)n.pages.push({id:parseInt(l[p].id,10)||0,file:l[p].file});const a={};n.baseLineOffset=n.lineHeight-parseInt(r.base,10);const c=o.char;for(let p=0;p<c.length;p++){const y=c[p],d=parseInt(y.id,10);let g=y.letter??y.char??String.fromCharCode(d);g==="space"&&(g=" "),a[d]=g,n.chars[g]={id:d,page:parseInt(y.page,10)||0,x:parseInt(y.x,10),y:parseInt(y.y,10),width:parseInt(y.width,10),height:parseInt(y.height,10),xOffset:parseInt(y.xoffset,10),yOffset:parseInt(y.yoffset,10),xAdvance:parseInt(y.xadvance,10),kerning:{}}}const u=o.kerning||[];for(let p=0;p<u.length;p++){const y=parseInt(u[p].first,10),d=parseInt(u[p].second,10),g=parseInt(u[p].amount,10);n.chars[a[d]].kerning[a[y]]=g}return n}},Lg={test(t){const e=t;return typeof e!="string"&&"getElementsByTagName"in e&&e.getElementsByTagName("page").length&&e.getElementsByTagName("info")[0].getAttribute("face")!==null},parse(t){const e={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},o=t.getElementsByTagName("info")[0],n=t.getElementsByTagName("common")[0],i=t.getElementsByTagName("distanceField")[0];i&&(e.distanceField={type:i.getAttribute("fieldType"),range:parseInt(i.getAttribute("distanceRange"),10)});const r=t.getElementsByTagName("page"),s=t.getElementsByTagName("char"),l=t.getElementsByTagName("kerning");e.fontSize=parseInt(o.getAttribute("size"),10),e.fontFamily=o.getAttribute("face"),e.lineHeight=parseInt(n.getAttribute("lineHeight"),10);for(let c=0;c<r.length;c++)e.pages.push({id:parseInt(r[c].getAttribute("id"),10)||0,file:r[c].getAttribute("file")});const a={};e.baseLineOffset=e.lineHeight-parseInt(n.getAttribute("base"),10);for(let c=0;c<s.length;c++){const u=s[c],p=parseInt(u.getAttribute("id"),10);let y=u.getAttribute("letter")??u.getAttribute("char")??String.fromCharCode(p);y==="space"&&(y=" "),a[p]=y,e.chars[y]={id:p,page:parseInt(u.getAttribute("page"),10)||0,x:parseInt(u.getAttribute("x"),10),y:parseInt(u.getAttribute("y"),10),width:parseInt(u.getAttribute("width"),10),height:parseInt(u.getAttribute("height"),10),xOffset:parseInt(u.getAttribute("xoffset"),10),yOffset:parseInt(u.getAttribute("yoffset"),10),xAdvance:parseInt(u.getAttribute("xadvance"),10),kerning:{}}}for(let c=0;c<l.length;c++){const u=parseInt(l[c].getAttribute("first"),10),p=parseInt(l[c].getAttribute("second"),10),y=parseInt(l[c].getAttribute("amount"),10);e.chars[a[p]].kerning[a[u]]=y}return e}},$g={test(t){return typeof t=="string"&&t.includes("<font>")?Lg.test(Ee.get().parseXML(t)):!1},parse(t){return Lg.parse(Ee.get().parseXML(t))}},d_=[".xml",".fnt"],f_={extension:{type:N.CacheParser,name:"cacheBitmapFont"},test:t=>t instanceof Z1,getCacheableAssets(t,e){const o={};return t.forEach(n=>{o[n]=e,o[`${n}-bitmap`]=e}),o[`${e.fontFamily}-bitmap`]=e,o}},h_={extension:{type:N.LoadParser,priority:gn.Normal},name:"loadBitmapFont",test(t){return d_.includes(zt.extname(t).toLowerCase())},async testParse(t){return Cu.test(t)||$g.test(t)},async parse(t,e,o){const n=Cu.test(t)?Cu.parse(t):$g.parse(t),{src:i}=e,{pages:r}=n,s=[],l=n.distanceField?{scaleMode:"linear",alphaMode:"premultiply-alpha-on-upload",autoGenerateMipmaps:!1,resolution:1}:{};for(let p=0;p<r.length;++p){const y=r[p].file;let d=zt.join(zt.dirname(i),y);d=Kp(d,i),s.push({src:d,data:l})}const a=await o.load(s),c=s.map(p=>a[p.src]);return new Z1({data:n,textures:c},i)},async load(t,e){return await(await Ee.get().fetch(t)).text()},async unload(t,e,o){await Promise.all(t.pages.map(n=>o.unload(n.texture.source._sourceOrigin))),t.destroy()}};class g_{constructor(e,o=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=o}add(e){e.forEach(o=>{this._assetList.push(o)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],o=Math.min(this._assetList.length,this._maxConcurrent);for(let n=0;n<o;n++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}const m_={extension:{type:N.CacheParser,name:"cacheTextureArray"},test:t=>Array.isArray(t)&&t.every(e=>e instanceof q),getCacheableAssets:(t,e)=>{const o={};return t.forEach(n=>{e.forEach((i,r)=>{o[n+(r===0?"":r+1)]=i})}),o}};async function R1(t){if("Image"in globalThis)return new Promise(e=>{const o=new Image;o.onload=()=>{e(!0)},o.onerror=()=>{e(!1)},o.src=t});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const e=await(await fetch(t)).blob();await createImageBitmap(e)}catch{return!1}return!0}return!1}const b_={extension:{type:N.DetectionParser,priority:1},test:async()=>R1("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")},Wg=["png","jpg","jpeg"],x_={extension:{type:N.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...Wg],remove:async t=>t.filter(e=>!Wg.includes(e))},k_="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function Kd(t){return k_?!1:document.createElement("video").canPlayType(t)!==""}const w_={extension:{type:N.DetectionParser,priority:0},test:async()=>Kd("video/mp4"),add:async t=>[...t,"mp4","m4v"],remove:async t=>t.filter(e=>e!=="mp4"&&e!=="m4v")},v_={extension:{type:N.DetectionParser,priority:0},test:async()=>Kd("video/ogg"),add:async t=>[...t,"ogv"],remove:async t=>t.filter(e=>e!=="ogv")},z_={extension:{type:N.DetectionParser,priority:0},test:async()=>Kd("video/webm"),add:async t=>[...t,"webm"],remove:async t=>t.filter(e=>e!=="webm")},S_={extension:{type:N.DetectionParser,priority:0},test:async()=>R1("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};class E_{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,o,n)=>(this._parsersValidated=!1,e[o]=n,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,o){const n={promise:null,parser:null};return n.promise=(async()=>{let i=null,r=null;if(o.loadParser&&(r=this._parserHash[o.loadParser],r||Ie(`[Assets] specified load parser "${o.loadParser}" not found while loading ${e}`)),!r){for(let s=0;s<this.parsers.length;s++){const l=this.parsers[s];if(l.load&&l.test?.(e,o,this)){r=l;break}}if(!r)return Ie(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}i=await r.load(e,o,this),n.parser=r;for(let s=0;s<this.parsers.length;s++){const l=this.parsers[s];l.parse&&l.parse&&await l.testParse?.(i,o,this)&&(i=await l.parse(i,o,this)||i,n.parser=l)}return i})(),n}async load(e,o){this._parsersValidated||this._validateParsers();let n=0;const i={},r=ja(e),s=Wt(e,c=>({alias:[c],src:c,data:{}})),l=s.length,a=s.map(async c=>{const u=zt.toAbsolute(c.src);if(!i[c.src])try{this.promiseCache[u]||(this.promiseCache[u]=this._getLoadPromiseAndParser(u,c)),i[c.src]=await this.promiseCache[u].promise,o&&o(++n/l)}catch(p){throw delete this.promiseCache[u],delete i[c.src],new Error(`[Loader.load] Failed to load ${u}.
${p}`)}});return await Promise.all(a),r?i[s[0].src]:i}async unload(e){const n=Wt(e,i=>({alias:[i],src:i})).map(async i=>{const r=zt.toAbsolute(i.src),s=this.promiseCache[r];if(s){const l=await s.promise;delete this.promiseCache[r],await s.parser?.unload?.(l,i,this)}});await Promise.all(n)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,o)=>(o.name?e[o.name]&&Ie(`[Assets] loadParser name conflict "${o.name}"`):Ie("[Assets] loadParser should have a name"),{...e,[o.name]:o}),{})}}function fr(t,e){if(Array.isArray(e)){for(const o of e)if(t.startsWith(`data:${o}`))return!0;return!1}return t.startsWith(`data:${e}`)}function hr(t,e){const o=t.split("?")[0],n=zt.extname(o).toLowerCase();return Array.isArray(e)?e.includes(n):n===e}const __=".json",C_="application/json",Z_={extension:{type:N.LoadParser,priority:gn.Low},name:"loadJson",test(t){return fr(t,C_)||hr(t,__)},async load(t){return await(await Ee.get().fetch(t)).json()}},R_=".txt",A_="text/plain",P_={name:"loadTxt",extension:{type:N.LoadParser,priority:gn.Low,name:"loadTxt"},test(t){return fr(t,A_)||hr(t,R_)},async load(t){return await(await Ee.get().fetch(t)).text()}},T_=["normal","bold","100","200","300","400","500","600","700","800","900"],j_=[".ttf",".otf",".woff",".woff2"],I_=["font/ttf","font/otf","font/woff","font/woff2"],F_=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function M_(t){const e=zt.extname(t),i=zt.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(l=>l.charAt(0).toUpperCase()+l.slice(1));let r=i.length>0;for(const l of i)if(!l.match(F_)){r=!1;break}let s=i.join(" ");return r||(s=`"${s.replace(/[\\"]/g,"\\$&")}"`),s}const O_=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function D_(t){return O_.test(t)?t:encodeURI(t)}const B_={extension:{type:N.LoadParser,priority:gn.Low},name:"loadWebFont",test(t){return fr(t,I_)||hr(t,j_)},async load(t,e){const o=Ee.get().getFontFaceSet();if(o){const n=[],i=e.data?.family??M_(t),r=e.data?.weights?.filter(l=>T_.includes(l))??["normal"],s=e.data??{};for(let l=0;l<r.length;l++){const a=r[l],c=new FontFace(i,`url(${D_(t)})`,{...s,weight:a});await c.load(),o.add(c),n.push(c)}return ve.set(`${i}-and-url`,{url:t,fontFaces:n}),n.length===1?n[0]:n}return Ie("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach(e=>{ve.remove(e.family),Ee.get().getFontFaceSet().delete(e)})}};function Qd(t,e=1){const o=dr.RETINA_PREFIX?.exec(t);return o?parseFloat(o[1]):e}function Jd(t,e,o){t.label=o,t._sourceOrigin=o;const n=new q({source:t,label:o}),i=()=>{delete e.promiseCache[o],ve.has(o)&&ve.remove(o)};return n.source.once("destroy",()=>{e.promiseCache[o]&&(Ie("[Assets] A TextureSource managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the TextureSource."),i())}),n.once("destroy",()=>{t.destroyed||(Ie("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),i())}),n}const G_=".svg",U_="image/svg+xml",N_={extension:{type:N.LoadParser,priority:gn.Low,name:"loadSVG"},name:"loadSVG",config:{crossOrigin:"anonymous",parseAsGraphicsContext:!1},test(t){return fr(t,U_)||hr(t,G_)},async load(t,e,o){return e.data.parseAsGraphicsContext??this.config.parseAsGraphicsContext?$_(t):L_(t,e,o,this.config.crossOrigin)},unload(t){t.destroy(!0)}};async function L_(t,e,o,n){const r=await(await Ee.get().fetch(t)).blob(),s=URL.createObjectURL(r),l=new Image;l.src=s,l.crossOrigin=n,await l.decode(),URL.revokeObjectURL(s);const a=document.createElement("canvas"),c=a.getContext("2d"),u=e.data?.resolution||Qd(t),p=e.data?.width??l.width,y=e.data?.height??l.height;a.width=p*u,a.height=y*u,c.drawImage(l,0,0,p*u,y*u);const{parseAsGraphicsContext:d,...g}=e.data,f=new si({resource:a,alphaMode:"premultiply-alpha-on-upload",resolution:u,...g});return Jd(f,o,t)}async function $_(t){const o=await(await Ee.get().fetch(t)).text(),n=new At;return n.svg(o),n}const W_=`(function () {
    'use strict';

    const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
    async function checkImageBitmap() {
      try {
        if (typeof createImageBitmap !== "function")
          return false;
        const response = await fetch(WHITE_PNG);
        const imageBlob = await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);
        return imageBitmap.width === 1 && imageBitmap.height === 1;
      } catch (e) {
        return false;
      }
    }
    void checkImageBitmap().then((result) => {
      self.postMessage(result);
    });

})();
`;let $i=null,dy=class{constructor(){$i||($i=URL.createObjectURL(new Blob([W_],{type:"application/javascript"}))),this.worker=new Worker($i)}};dy.revokeObjectURL=function(){$i&&(URL.revokeObjectURL($i),$i=null)};const H_=`(function () {
    'use strict';

    async function loadImageBitmap(url, alphaMode) {
      const response = await fetch(url);
      if (!response.ok) {
        throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
      }
      const imageBlob = await response.blob();
      return alphaMode === "premultiplied-alpha" ? createImageBitmap(imageBlob, { premultiplyAlpha: "none" }) : createImageBitmap(imageBlob);
    }
    self.onmessage = async (event) => {
      try {
        const imageBitmap = await loadImageBitmap(event.data.data[0], event.data.data[1]);
        self.postMessage({
          data: imageBitmap,
          uuid: event.data.uuid,
          id: event.data.id
        }, [imageBitmap]);
      } catch (e) {
        self.postMessage({
          error: e,
          uuid: event.data.uuid,
          id: event.data.id
        });
      }
    };

})();
`;let Wi=null;class A1{constructor(){Wi||(Wi=URL.createObjectURL(new Blob([H_],{type:"application/javascript"}))),this.worker=new Worker(Wi)}}A1.revokeObjectURL=function(){Wi&&(URL.revokeObjectURL(Wi),Wi=null)};let Hg=0,Zu;class X_{constructor(){this._initialized=!1,this._createdWorkers=0,this._workerPool=[],this._queue=[],this._resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const{worker:o}=new dy;o.addEventListener("message",n=>{o.terminate(),dy.revokeObjectURL(),e(n.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e,o){return this._run("loadImageBitmap",[e,o?.data?.alphaMode])}async _initWorkers(){this._initialized||(this._initialized=!0)}_getWorker(){Zu===void 0&&(Zu=navigator.hardwareConcurrency||4);let e=this._workerPool.pop();return!e&&this._createdWorkers<Zu&&(this._createdWorkers++,e=new A1().worker,e.addEventListener("message",o=>{this._complete(o.data),this._returnWorker(o.target),this._next()})),e}_returnWorker(e){this._workerPool.push(e)}_complete(e){e.error!==void 0?this._resolveHash[e.uuid].reject(e.error):this._resolveHash[e.uuid].resolve(e.data),this._resolveHash[e.uuid]=null}async _run(e,o){await this._initWorkers();const n=new Promise((i,r)=>{this._queue.push({id:e,arguments:o,resolve:i,reject:r})});return this._next(),n}_next(){if(!this._queue.length)return;const e=this._getWorker();if(!e)return;const o=this._queue.pop(),n=o.id;this._resolveHash[Hg]={resolve:o.resolve,reject:o.reject},e.postMessage({data:o.arguments,uuid:Hg++,id:n})}}const Xg=new X_,V_=[".jpeg",".jpg",".png",".webp",".avif"],q_=["image/jpeg","image/png","image/webp","image/avif"];async function Y_(t,e){const o=await Ee.get().fetch(t);if(!o.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${o.status} ${o.statusText}`);const n=await o.blob();return e?.data?.alphaMode==="premultiplied-alpha"?createImageBitmap(n,{premultiplyAlpha:"none"}):createImageBitmap(n)}const P1={name:"loadTextures",extension:{type:N.LoadParser,priority:gn.High,name:"loadTextures"},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(t){return fr(t,q_)||hr(t,V_)},async load(t,e,o){let n=null;globalThis.createImageBitmap&&this.config.preferCreateImageBitmap?this.config.preferWorkers&&await Xg.isImageBitmapSupported()?n=await Xg.loadImageBitmap(t,e):n=await Y_(t,e):n=await new Promise(r=>{n=new Image,n.crossOrigin=this.config.crossOrigin,n.src=t,n.complete?r(n):n.onload=()=>{r(n)}});const i=new si({resource:n,alphaMode:"premultiply-alpha-on-upload",resolution:e.data?.resolution||Qd(t),...e.data});return Jd(i,o,t)},unload(t){t.destroy(!0)}},T1=[".mp4",".m4v",".webm",".ogg",".ogv",".h264",".avi",".mov"],K_=T1.map(t=>`video/${t.substring(1)}`);function Q_(t,e,o){o===void 0&&!e.startsWith("data:")?t.crossOrigin=e5(e):o!==!1&&(t.crossOrigin=typeof o=="string"?o:"anonymous")}function J_(t){return new Promise((e,o)=>{t.addEventListener("canplaythrough",n),t.addEventListener("error",i),t.load();function n(){r(),e()}function i(s){r(),o(s)}function r(){t.removeEventListener("canplaythrough",n),t.removeEventListener("error",i)}})}function e5(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location;const o=new URL(t,document.baseURI);return o.hostname!==e.hostname||o.port!==e.port||o.protocol!==e.protocol?"anonymous":""}const t5={name:"loadVideo",extension:{type:N.LoadParser,name:"loadVideo"},test(t){const e=fr(t,K_),o=hr(t,T1);return e||o},async load(t,e,o){const n={...Xl.defaultOptions,resolution:e.data?.resolution||Qd(t),alphaMode:e.data?.alphaMode||await Mx(),...e.data},i=document.createElement("video"),r={preload:n.autoLoad!==!1?"auto":void 0,"webkit-playsinline":n.playsinline!==!1?"":void 0,playsinline:n.playsinline!==!1?"":void 0,muted:n.muted===!0?"":void 0,loop:n.loop===!0?"":void 0,autoplay:n.autoPlay!==!1?"":void 0};Object.keys(r).forEach(a=>{const c=r[a];c!==void 0&&i.setAttribute(a,c)}),n.muted===!0&&(i.muted=!0),Q_(i,t,n.crossorigin);const s=document.createElement("source");let l;if(t.startsWith("data:"))l=t.slice(5,t.indexOf(";"));else if(!t.startsWith("blob:")){const a=t.split("?")[0].slice(t.lastIndexOf(".")+1).toLowerCase();l=Xl.MIME_TYPES[a]||`video/${a}`}return s.src=t,l&&(s.type=l),new Promise(a=>{const c=async()=>{const u=new Xl({...n,resource:i});i.removeEventListener("canplay",c),e.data.preload&&await J_(i),a(Jd(u,o,t))};i.addEventListener("canplay",c),i.appendChild(s)})},unload(t){t.destroy(!0)}},j1={extension:{type:N.ResolveParser,name:"resolveTexture"},test:P1.test,parse:t=>({resolution:parseFloat(dr.RETINA_PREFIX.exec(t)?.[1]??"1"),format:t.split(".").pop(),src:t})},o5={extension:{type:N.ResolveParser,priority:-2,name:"resolveJson"},test:t=>dr.RETINA_PREFIX.test(t)&&t.endsWith(".json"),parse:j1.parse};class n5{constructor(){this._detections=[],this._initialized=!1,this.resolver=new dr,this.loader=new E_,this.cache=ve,this._backgroundLoader=new g_(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){if(this._initialized){Ie("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let r=e.manifest;typeof r=="string"&&(r=await this.load(r)),this.resolver.addManifest(r)}const o=e.texturePreference?.resolution??1,n=typeof o=="number"?[o]:o,i=await this._detectFormats({preferredFormats:e.texturePreference?.format,skipDetections:e.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:i,resolution:n}}),e.preferences&&this.setPreferences(e.preferences)}add(e){this.resolver.add(e)}async load(e,o){this._initialized||await this.init();const n=ja(e),i=Wt(e).map(l=>{if(typeof l!="string"){const a=this.resolver.getAlias(l);return a.some(c=>!this.resolver.hasKey(c))&&this.add(l),Array.isArray(a)?a[0]:a}return this.resolver.hasKey(l)||this.add({alias:l,src:l}),l}),r=this.resolver.resolve(i),s=await this._mapLoadToResolve(r,o);return n?s[i[0]]:s}addBundle(e,o){this.resolver.addBundle(e,o)}async loadBundle(e,o){this._initialized||await this.init();let n=!1;typeof e=="string"&&(n=!0,e=[e]);const i=this.resolver.resolveBundle(e),r={},s=Object.keys(i);let l=0,a=0;const c=()=>{o?.(++l/a)},u=s.map(p=>{const y=i[p];return a+=Object.keys(y).length,this._mapLoadToResolve(y,c).then(d=>{r[p]=d})});return await Promise.all(u),n?r[e[0]]:r}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const o=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(o))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const o=this.resolver.resolveBundle(e);Object.values(o).forEach(n=>{this._backgroundLoader.add(Object.values(n))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return ve.get(e);const o={};for(let n=0;n<e.length;n++)o[n]=ve.get(e[n]);return o}async _mapLoadToResolve(e,o){const n=[...new Set(Object.values(e))];this._backgroundLoader.active=!1;const i=await this.loader.load(n,o);this._backgroundLoader.active=!0;const r={};return n.forEach(s=>{const l=i[s.src],a=[s.src];s.alias&&a.push(...s.alias),a.forEach(c=>{r[c]=l}),ve.set(a,l)}),r}async unload(e){this._initialized||await this.init();const o=Wt(e).map(i=>typeof i!="string"?i.src:i),n=this.resolver.resolve(o);await this._unloadFromResolved(n)}async unloadBundle(e){this._initialized||await this.init(),e=Wt(e);const o=this.resolver.resolveBundle(e),n=Object.keys(o).map(i=>this._unloadFromResolved(o[i]));await Promise.all(n)}async _unloadFromResolved(e){const o=Object.values(e);o.forEach(n=>{ve.remove(n.src)}),await this.loader.unload(o)}async _detectFormats(e){let o=[];e.preferredFormats&&(o=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]);for(const n of e.detections)e.skipDetections||await n.test()?o=await n.add(o):e.skipDetections||(o=await n.remove(o));return o=o.filter((n,i)=>o.indexOf(n)===i),o}get detections(){return this._detections}setPreferences(e){this.loader.parsers.forEach(o=>{o.config&&Object.keys(o.config).filter(n=>n in e).forEach(n=>{o.config[n]=e[n]})})}}const $r=new n5;ot.handleByList(N.LoadParser,$r.loader.parsers).handleByList(N.ResolveParser,$r.resolver.parsers).handleByList(N.CacheParser,$r.cache.parsers).handleByList(N.DetectionParser,$r.detections);ot.add(m_,x_,b_,S_,w_,v_,z_,Z_,P_,B_,N_,P1,t5,h_,f_,j1,o5);const Vg={loader:N.LoadParser,resolver:N.ResolveParser,cache:N.CacheParser,detection:N.DetectionParser};ot.handle(N.Asset,t=>{const e=t.ref;Object.entries(Vg).filter(([o])=>!!e[o]).forEach(([o,n])=>ot.add(Object.assign(e[o],{extension:e[o].extension??n})))},t=>{const e=t.ref;Object.keys(Vg).filter(o=>!!e[o]).forEach(o=>ot.remove(e[o]))});var i5=`in vec2 aPosition;
out vec2 vTextureCoord;

uniform vec4 uInputSize;
uniform vec4 uOutputFrame;
uniform vec4 uOutputTexture;

vec4 filterVertexPosition( void )
{
    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;
    
    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aPosition * (uOutputFrame.zw * uInputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,r5=`
in vec2 vTextureCoord;

out vec4 finalColor;

uniform float uAlpha;
uniform sampler2D uTexture;

void main()
{
    finalColor =  texture(uTexture, vTextureCoord) * uAlpha;
}
`,qg=`struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

struct AlphaUniforms {
  uAlpha:f32,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler : sampler;

@group(1) @binding(0) var<uniform> alphaUniforms : AlphaUniforms;

struct VSOutput {
    @builtin(position) position: vec4<f32>,
    @location(0) uv : vec2<f32>
  };

fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

fn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  
}

fn getSize() -> vec2<f32>
{
  return gfu.uGlobalFrame.zw;
}
  
@vertex
fn mainVertex(
  @location(0) aPosition : vec2<f32>, 
) -> VSOutput {
  return VSOutput(
   filterVertexPosition(aPosition),
   filterTextureCoord(aPosition)
  );
}

@fragment
fn mainFragment(
  @location(0) uv: vec2<f32>,
  @builtin(position) position: vec4<f32>
) -> @location(0) vec4<f32> {
 
    var sample = textureSample(uTexture, uSampler, uv);
    
    return sample * alphaUniforms.uAlpha;
}`;const I1=class F1 extends ie{constructor(e){e={...F1.defaultOptions,...e};const o=te.from({vertex:{source:qg,entryPoint:"mainVertex"},fragment:{source:qg,entryPoint:"mainFragment"}}),n=oe.from({vertex:i5,fragment:r5,name:"alpha-filter"}),{alpha:i,...r}=e,s=new Ld({uAlpha:{value:i,type:"f32"}});super({...r,gpuProgram:o,glProgram:n,resources:{alphaUniforms:s}})}get alpha(){return this.resources.alphaUniforms.uniforms.uAlpha}set alpha(e){this.resources.alphaUniforms.uniforms.uAlpha=e}};I1.defaultOptions={alpha:1};let s5=I1,l5=0;class a5{constructor(e){this._poolKeyHash=Object.create(null),this._texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1}createTexture(e,o,n){const i=new ft({...this.textureOptions,width:e,height:o,resolution:1,antialias:n,autoGarbageCollect:!0});return new q({source:i,label:`texturePool_${l5++}`})}getOptimalTexture(e,o,n=1,i){let r=Math.ceil(e*n-1e-6),s=Math.ceil(o*n-1e-6);r=Aa(r),s=Aa(s);const l=(r<<17)+(s<<1)+(i?1:0);this._texturePool[l]||(this._texturePool[l]=[]);let a=this._texturePool[l].pop();return a||(a=this.createTexture(r,s,i)),a.source._resolution=n,a.source.width=r/n,a.source.height=s/n,a.source.pixelWidth=r,a.source.pixelHeight=s,a.frame.x=0,a.frame.y=0,a.frame.width=e,a.frame.height=o,a.updateUvs(),this._poolKeyHash[a.uid]=l,a}getSameSizeTexture(e,o=!1){const n=e.source;return this.getOptimalTexture(e.width,e.height,n._resolution,o)}returnTexture(e){const o=this._poolKeyHash[e.uid];this._texturePool[o].push(e)}clear(e){if(e=e!==!1,e)for(const o in this._texturePool){const n=this._texturePool[o];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0)}this._texturePool={}}}const jt=new a5,M1={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},c5=["in vec2 vBlurTexCoords[%size%];","uniform sampler2D uTexture;","out vec4 finalColor;","void main(void)","{","    finalColor = vec4(0.0);","    %blur%","}"].join(`
`);function u5(t){const e=M1[t],o=e.length;let n=c5,i="";const r="finalColor += texture(uTexture, vBlurTexCoords[%index%]) * %value%;";let s;for(let l=0;l<t;l++){let a=r.replace("%index%",l.toString());s=l,l>=o&&(s=t-l-1),a=a.replace("%value%",e[s].toString()),i+=a,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}const p5=`
    in vec2 aPosition;

    uniform float uStrength;

    out vec2 vBlurTexCoords[%size%];

    uniform vec4 uInputSize;
    uniform vec4 uOutputFrame;
    uniform vec4 uOutputTexture;

    vec4 filterVertexPosition( void )
{
    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;
    
    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

    vec2 filterTextureCoord( void )
    {
        return aPosition * (uOutputFrame.zw * uInputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        float pixelStrength = uInputSize.%dimension% * uStrength;

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function y5(t,e){const o=Math.ceil(t/2);let n=p5,i="",r;e?r="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * pixelStrength, 0.0);":r="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * pixelStrength);";for(let s=0;s<t;s++){let l=r.replace("%index%",s.toString());l=l.replace("%sampleIndex%",`${s-(o-1)}.0`),i+=l,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n=n.replace("%dimension%",e?"z":"w"),n}function d5(t,e){const o=y5(e,t),n=u5(e);return oe.from({vertex:o,fragment:n,name:`blur-${t?"horizontal":"vertical"}-pass-filter`})}var f5=`

struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

struct BlurUniforms {
  uStrength:f32,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler : sampler;

@group(1) @binding(0) var<uniform> blurUniforms : BlurUniforms;


struct VSOutput {
    @builtin(position) position: vec4<f32>,
    %blur-struct%
  };

fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

fn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  
}

fn getSize() -> vec2<f32>
{
  return gfu.uGlobalFrame.zw;
}


@vertex
fn mainVertex(
  @location(0) aPosition : vec2<f32>, 
) -> VSOutput {

  let filteredCord = filterTextureCoord(aPosition);

  let pixelStrength = gfu.uInputSize.%dimension% * blurUniforms.uStrength;

  return VSOutput(
   filterVertexPosition(aPosition),
    %blur-vertex-out%
  );
}

@fragment
fn mainFragment(
  @builtin(position) position: vec4<f32>,
  %blur-fragment-in%
) -> @location(0) vec4<f32> {

    var   finalColor = vec4(0.0);

    %blur-sampling%

    return finalColor;
}`;function h5(t,e){const o=M1[e],n=o.length,i=[],r=[],s=[];for(let p=0;p<e;p++){i[p]=`@location(${p}) offset${p}: vec2<f32>,`,t?r[p]=`filteredCord + vec2(${p-n+1} * pixelStrength, 0.0),`:r[p]=`filteredCord + vec2(0.0, ${p-n+1} * pixelStrength),`;const y=p<n?p:e-p-1,d=o[y].toString();s[p]=`finalColor += textureSample(uTexture, uSampler, offset${p}) * ${d};`}const l=i.join(`
`),a=r.join(`
`),c=s.join(`
`),u=f5.replace("%blur-struct%",l).replace("%blur-vertex-out%",a).replace("%blur-fragment-in%",l).replace("%blur-sampling%",c).replace("%dimension%",t?"z":"w");return te.from({vertex:{source:u,entryPoint:"mainVertex"},fragment:{source:u,entryPoint:"mainFragment"}})}const O1=class D1 extends ie{constructor(e){e={...D1.defaultOptions,...e};const o=d5(e.horizontal,e.kernelSize),n=h5(e.horizontal,e.kernelSize);super({glProgram:o,gpuProgram:n,resources:{blurUniforms:{uStrength:{value:0,type:"f32"}}},...e}),this.horizontal=e.horizontal,this._quality=0,this.quality=e.quality,this.blur=e.strength,this._uniforms=this.resources.blurUniforms.uniforms}apply(e,o,n,i){if(this._uniforms.uStrength=this.strength/this.passes,this.passes===1)e.applyFilter(this,o,n,i);else{const r=jt.getSameSizeTexture(o);let s=o,l=r;this._state.blend=!1;const a=e.renderer.type===Ia.WEBGPU;for(let c=0;c<this.passes-1;c++){e.applyFilter(this,s,l,c===0?!0:a);const u=l;l=s,s=u}this._state.blend=!0,e.applyFilter(this,s,n,i),jt.returnTexture(r)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}};O1.defaultOptions={strength:8,quality:4,kernelSize:5};let Yg=O1;class Yn extends Zx{constructor(e){e instanceof At&&(e={context:e});const{context:o,roundPixels:n,...i}=e||{};super({label:"Graphics",...i}),this.renderPipeId="graphics",o?this._context=o:this._context=this._ownedContext=new At,this._context.on("update",this.onViewUpdate,this),this.allowChildren=!1,this.roundPixels=n??!1}set context(e){e!==this._context&&(this._context.off("update",this.onViewUpdate,this),this._context=e,this._context.on("update",this.onViewUpdate,this),this.onViewUpdate())}get context(){return this._context}get bounds(){return this._context.bounds}addBounds(e){e.addBounds(this._context.bounds)}containsPoint(e){return this._context.containsPoint(e)}onViewUpdate(){if(this._didViewChangeTick++,this._didGraphicsUpdate=!0,this.didViewUpdate)return;this.didViewUpdate=!0;const e=this.renderGroup||this.parentRenderGroup;e&&e.onChildViewUpdate(this)}destroy(e){this._ownedContext&&!e?this._ownedContext.destroy(e):(e===!0||e?.context===!0)&&this._context.destroy(e),this._ownedContext=null,this._context=null,super.destroy(e)}_callContextMethod(e,o){return this.context[e](...o),this}setFillStyle(...e){return this._callContextMethod("setFillStyle",e)}setStrokeStyle(...e){return this._callContextMethod("setStrokeStyle",e)}fill(...e){return this._callContextMethod("fill",e)}stroke(...e){return this._callContextMethod("stroke",e)}texture(...e){return this._callContextMethod("texture",e)}beginPath(){return this._callContextMethod("beginPath",[])}cut(){return this._callContextMethod("cut",[])}arc(...e){return this._callContextMethod("arc",e)}arcTo(...e){return this._callContextMethod("arcTo",e)}arcToSvg(...e){return this._callContextMethod("arcToSvg",e)}bezierCurveTo(...e){return this._callContextMethod("bezierCurveTo",e)}closePath(){return this._callContextMethod("closePath",[])}ellipse(...e){return this._callContextMethod("ellipse",e)}circle(...e){return this._callContextMethod("circle",e)}path(...e){return this._callContextMethod("path",e)}lineTo(...e){return this._callContextMethod("lineTo",e)}moveTo(...e){return this._callContextMethod("moveTo",e)}quadraticCurveTo(...e){return this._callContextMethod("quadraticCurveTo",e)}rect(...e){return this._callContextMethod("rect",e)}roundRect(...e){return this._callContextMethod("roundRect",e)}poly(...e){return this._callContextMethod("poly",e)}regularPoly(...e){return this._callContextMethod("regularPoly",e)}roundPoly(...e){return this._callContextMethod("roundPoly",e)}roundShape(...e){return this._callContextMethod("roundShape",e)}filletRect(...e){return this._callContextMethod("filletRect",e)}chamferRect(...e){return this._callContextMethod("chamferRect",e)}star(...e){return this._callContextMethod("star",e)}svg(...e){return this._callContextMethod("svg",e)}restore(...e){return this._callContextMethod("restore",e)}save(){return this._callContextMethod("save",[])}getTransform(){return this.context.getTransform()}resetTransform(){return this._callContextMethod("resetTransform",[])}rotateTransform(...e){return this._callContextMethod("rotate",e)}scaleTransform(...e){return this._callContextMethod("scale",e)}setTransform(...e){return this._callContextMethod("setTransform",e)}transform(...e){return this._callContextMethod("transform",e)}translateTransform(...e){return this._callContextMethod("translate",e)}clear(){return this._callContextMethod("clear",[])}get fillStyle(){return this._context.fillStyle}set fillStyle(e){this._context.fillStyle=e}get strokeStyle(){return this._context.strokeStyle}set strokeStyle(e){this._context.strokeStyle=e}clone(e=!1){return e?new Yn(this._context.clone()):(this._ownedContext=null,new Yn(this._context))}lineStyle(e,o,n){$(ue,"Graphics#lineStyle is no longer needed. Use Graphics#setStrokeStyle to set the stroke style.");const i={};return e&&(i.width=e),o&&(i.color=o),n&&(i.alpha=n),this.context.strokeStyle=i,this}beginFill(e,o){$(ue,"Graphics#beginFill is no longer needed. Use Graphics#fill to fill the shape with the desired style.");const n={};return e&&(n.color=e),o&&(n.alpha=o),this.context.fillStyle=n,this}endFill(){$(ue,"Graphics#endFill is no longer needed. Use Graphics#fill to fill the shape with the desired style."),this.context.fill();const e=this.context.strokeStyle;return(e.width!==At.defaultStrokeStyle.width||e.color!==At.defaultStrokeStyle.color||e.alpha!==At.defaultStrokeStyle.alpha)&&this.context.stroke(),this}drawCircle(...e){return $(ue,"Graphics#drawCircle has been renamed to Graphics#circle"),this._callContextMethod("circle",e)}drawEllipse(...e){return $(ue,"Graphics#drawEllipse has been renamed to Graphics#ellipse"),this._callContextMethod("ellipse",e)}drawPolygon(...e){return $(ue,"Graphics#drawPolygon has been renamed to Graphics#poly"),this._callContextMethod("poly",e)}drawRect(...e){return $(ue,"Graphics#drawRect has been renamed to Graphics#rect"),this._callContextMethod("rect",e)}drawRoundedRect(...e){return $(ue,"Graphics#drawRoundedRect has been renamed to Graphics#roundRect"),this._callContextMethod("roundRect",e)}drawStar(...e){return $(ue,"Graphics#drawStar has been renamed to Graphics#star"),this._callContextMethod("star",e)}}class Ma extends Vn{constructor(...e){let o=e[0];Array.isArray(e[0])&&(o={textures:e[0],autoUpdate:e[1]});const{textures:n,autoUpdate:i,...r}=o,[s]=n;super({...r,texture:s instanceof q?s:s.texture}),this._textures=null,this._durations=null,this._autoUpdate=i??!0,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=n}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Vo.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Vo.shared.add(this.update,this,Ta.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const o=e.deltaTime,n=this.animationSpeed*o,i=this.currentFrame;if(this._durations!==null){let r=this._currentTime%1*this._durations[this.currentFrame];for(r+=n/60*1e3;r<0;)this._currentTime--,r+=this._durations[this.currentFrame];const s=Math.sign(this.animationSpeed*o);for(this._currentTime=Math.floor(this._currentTime);r>=this._durations[this.currentFrame];)r-=this._durations[this.currentFrame]*s,this._currentTime+=s;this._currentTime+=r/this._durations[this.currentFrame]}else this._currentTime+=n;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):i!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<i||this.animationSpeed<0&&this.currentFrame>i)&&this.onLoop(),this._updateTexture())}_updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this.texture=this._textures[e],this.updateAnchor&&this.anchor.copyFrom(this.texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(){this.stop(),super.destroy(),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const o=[];for(let n=0;n<e.length;++n)o.push(q.from(e[n]));return new Ma(o)}static fromImages(e){const o=[];for(let n=0;n<e.length;++n)o.push(q.from(e[n]));return new Ma(o)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof q)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let o=0;o<e.length;o++)this._textures.push(e[o].texture),this._durations.push(e[o].time)}this._previousFrame=null,this.gotoAndStop(0),this._updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const o=this.currentFrame;this._currentTime=e,o!==this.currentFrame&&this._updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(Vo.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Vo.shared.add(this.update,this),this._isConnectedToTicker=!0))}}const Tr=new Map;function g5(t,e){if(!Tr.has(t)){const o=new q({source:new Ud({resource:t,...e})}),n=()=>{Tr.get(t)===o&&Tr.delete(t)};o.once("destroy",n),o.source.once("destroy",n),Tr.set(t,o)}return Tr.get(t)}const B1=class G1{constructor(e={}){if(this.uid=je("renderTarget"),this.colorTextures=[],this.dirtyId=0,this.isRoot=!1,this._size=new Float32Array(2),this._managedColorTextures=!1,e={...G1.defaultOptions,...e},this.stencil=e.stencil,this.depth=e.depth,this.isRoot=e.isRoot,typeof e.colorTextures=="number"){this._managedColorTextures=!0;for(let o=0;o<e.colorTextures;o++)this.colorTextures.push(new ft({width:e.width,height:e.height,resolution:e.resolution,antialias:e.antialias}))}else{this.colorTextures=[...e.colorTextures.map(n=>n.source)];const o=this.colorTexture.source;this.resize(o.width,o.height,o._resolution)}this.colorTexture.source.on("resize",this.onSourceResize,this),(e.depthStencilTexture||this.stencil)&&(e.depthStencilTexture instanceof q||e.depthStencilTexture instanceof ft?this.depthStencilTexture=e.depthStencilTexture.source:this.ensureDepthStencilTexture())}get size(){const e=this._size;return e[0]=this.pixelWidth,e[1]=this.pixelHeight,e}get width(){return this.colorTexture.source.width}get height(){return this.colorTexture.source.height}get pixelWidth(){return this.colorTexture.source.pixelWidth}get pixelHeight(){return this.colorTexture.source.pixelHeight}get resolution(){return this.colorTexture.source._resolution}get colorTexture(){return this.colorTextures[0]}onSourceResize(e){this.resize(e.width,e.height,e._resolution,!0)}ensureDepthStencilTexture(){this.depthStencilTexture||(this.depthStencilTexture=new ft({width:this.width,height:this.height,resolution:this.resolution,format:"depth24plus-stencil8",autoGenerateMipmaps:!1,antialias:!1,mipLevelCount:1}))}resize(e,o,n=this.resolution,i=!1){this.dirtyId++,this.colorTextures.forEach((r,s)=>{i&&s===0||r.source.resize(e,o,n)}),this.depthStencilTexture&&this.depthStencilTexture.source.resize(e,o,n)}destroy(){this.colorTexture.source.off("resize",this.onSourceResize,this),this._managedColorTextures&&this.colorTextures.forEach(e=>{e.destroy()}),this.depthStencilTexture&&(this.depthStencilTexture.destroy(),delete this.depthStencilTexture)}};B1.defaultOptions={width:0,height:0,resolution:1,colorTextures:1,stencil:!1,depth:!1,antialias:!1,isRoot:!1};let m5=B1;const ef=class U1{get autoDensity(){return this.texture.source.autoDensity}set autoDensity(e){this.texture.source.autoDensity=e}get resolution(){return this.texture.source._resolution}set resolution(e){this.texture.source.resize(this.texture.source.width,this.texture.source.height,e)}init(e){e={...U1.defaultOptions,...e},e.view&&($(ue,"ViewSystem.view has been renamed to ViewSystem.canvas"),e.canvas=e.view),this.screen=new Te(0,0,e.width,e.height),this.canvas=e.canvas||Ee.get().createCanvas(),this.antialias=!!e.antialias,this.texture=g5(this.canvas,e),this.renderTarget=new m5({colorTextures:[this.texture],depth:!!e.depth,isRoot:!0}),this.texture.source.transparent=e.backgroundAlpha<1,this.resolution=e.resolution}resize(e,o,n){this.texture.source.resize(e,o,n),this.screen.width=this.texture.frame.width,this.screen.height=this.texture.frame.height}destroy(e=!1){(typeof e=="boolean"?e:!!e?.removeView)&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)}};ef.extension={type:[N.WebGLSystem,N.WebGPUSystem,N.CanvasSystem],name:"view",priority:0};ef.defaultOptions={width:800,height:600,autoDensity:!1,antialias:!1};let b5=ef;ot.add(Az,Pz);const dc=t=>t.characterRooms[t.currentCharacterName],Oa=t=>t.type==="head"||t.type==="heels",Da=t=>e=>e.type===t,N1=["head","heels","pickup","portable-block","baddie","spring"];function L1(t){return t.falls}function x5(t){if(t.renderContainer===void 0)throw new Error("Item does not have a render container")}function k5(t){if(t.positionContainer===void 0)throw new Error("Item does not have a position container")}const It={renders:!0,renderPositionDirty:!1,renderingDirty:!1,falls:!1,onTouch:"nonIntersect"},$1=Object.entries,w5=Object.fromEntries,v5="/assets/sprites-DNGkikvI.png",yi=(t,{x:e,y:o},n)=>{function*i(){yield[`${t}.left`,{frame:{x:e,y:o,...n}}],yield[`${t}.away`,{frame:{x:e+n.w+2,y:o,...n}}],yield[`${t}.towards`,{frame:{x:e,y:o+n.h+2,...n}}],yield[`${t}.right`,{frame:{x:e+n.w+2,y:o+n.h+2,...n}}]}return Object.fromEntries(i())},be=(t,e,{x:o,y:n},i)=>{function*r(){for(let s=0;s<e;s++)yield[`${t}.${s+1}`,{frame:{x:o+s*(i.w+1),y:n,...i}}]}return Object.fromEntries(r())},Yl={w:32,h:16},so={w:16,h:55},Mo={w:24,h:56},st={w:32,h:28},V={w:24,h:24},tf=["away","towards","left","right"],Wr={away:{x:0,y:1,z:0},left:{x:1,y:0,z:0},right:{x:-1,y:0,z:0},towards:{x:0,y:-1,z:0},down:{x:0,y:0,z:-1},up:{x:0,y:0,z:1}},z5=t=>t==="x"?"y":"x",S5=(t,...e)=>e.reduce((o,n)=>({x:o.x+(n.x??0),y:o.y+(n.y??0)}),t),Hr=(t,e)=>({x:t.x*e,y:t.y*e,z:t.z*e}),Ht=(t,...e)=>e.reduce((o,n)=>({x:o.x+(n.x??0),y:o.y+(n.y??0),z:o.z+(n.z??0)}),t),E5=(t,...e)=>e.reduce((o,n)=>({x:o.x-(n.x??0),y:o.y-(n.y??0),z:o.z-(n.z??0)}),t),_5=({x:t,y:e,z:o},{x:n,y:i,z:r})=>t===n&&e===i&&o===r,fc={x:0,y:0,z:0},of=["x","y","z"],di=["yellow","green","cyan","magenta","white"],W1=25,C5=1e3/W1,fy={width:256,height:192};function Kg(t){function*e(o,n){yield`${o}.walking.${n}.1`,yield`${o}.walking.${n}.2`,yield`${o}.walking.${n}.3`,yield`${o}.walking.${n}.2`}return tf.reduce((o,n)=>({...o,[`${t}.walking.${n}`]:[...e(t,n)]}),{})}const Z5={...be("head.walking.towards",3,{x:4,y:266},V),...be("head.walking.right",3,{x:80,y:266},V),...be("head.walking.left",3,{x:4,y:240},V),...be("head.walking.away",3,{x:80,y:240},V),...be("head.idle.towards",2,{x:4,y:304},V),...be("head.idle.right",2,{x:4,y:329},V),"head.falling.towards":{frame:{x:54,y:304,...V}},"head.falling.right":{frame:{x:79,y:304,...V}},...be("bubbles.head",6,{x:4,y:215},V),...be("heels.walking.towards",3,{x:159,y:266},V),...be("heels.walking.right",3,{x:235,y:266},V),...be("heels.walking.left",3,{x:159,y:240},V),...be("heels.walking.away",3,{x:235,y:240},V),...be("bubbles.heels",6,{x:159,y:215},V)},R5=5e3,Qg=Math.round(R5/(W1*4))-3,H1={frames:Z5,animations:{...Kg("head"),...Kg("heels"),"head.idle.right":[...new Array(Qg).fill("head.idle.right.1"),"head.idle.right.2","head.idle.right.1","head.idle.right.2"],"head.idle.towards":[...new Array(Qg).fill("head.idle.towards.1"),"head.idle.towards.2","head.idle.towards.1","head.idle.towards.2"],"head.teleport":["bubbles.head.1","bubbles.head.2","bubbles.head.4","bubbles.head.3","bubbles.head.4","bubbles.head.6","bubbles.head.5","bubbles.head.6","bubbles.head.5"],"heels.teleport":["bubbles.heels.1","bubbles.heels.2","bubbles.heels.4","bubbles.heels.3","bubbles.heels.4","bubbles.heels.6","bubbles.heels.5","bubbles.heels.6","bubbles.heels.5"]}},nf={jail:{walls:["bars"]},blacktooth:{walls:["armour","shield","plain"]},bookworld:{walls:["person","book"]},egyptus:{walls:["sarcophagus","hieroglyphics"]},market:{walls:["passage","fruits","more-fruits"]},moonbase:{walls:["window1","window2","window3","coil"]},penitentiary:{walls:["loop","skeleton"]},safari:{walls:["window","shield","wall"]}},mo=Object.keys(nf),Oo=(t,e,o)=>{function*n(i,r,s){const{walls:l}=nf[i],{w:a,h:c}=so,u=a>>1,p=l.length;let y=0;for(;y<l.length;y++)yield[`${i}.wall.${l[y]}.left`,{frame:{x:r+a*y,y:s-u*y,...so}}],yield[`${i}.wall.${l[y]}.away`,{frame:{x:r+a*((p<<1)-y-1),y:s-u*y,...so}}];const d=y-1;yield[`${i}.floor`,{frame:{x:r+d*a,y:s-d*u+c+1,...Yl}}]}return Object.fromEntries(n(t,e,o))},A5={...Oo("blacktooth",487,335),...Oo("bookworld",356,23),...Oo("egyptus",435,23),...Oo("jail",455,351),...Oo("market",378,244),...Oo("moonbase",384,141),...Oo("penitentiary",513,23),...Oo("safari",482,244)},P5={frames:A5,animations:{}},de={w:16,d:16,h:12},T5={near:{x:{x:16,y:56},y:{x:8,y:56}},far:{x:{x:8,y:52},y:{x:16,y:52}}},j5={x:{x:8,y:24},y:{x:6,y:22}},I5=await $r.load(v5),F5={"generic.edge.right":{frame:{x:536,y:392,w:8,h:9}},"generic.edge.towards":{frame:{x:527,y:392,w:8,h:9}},"generic.wall.overdraw":{frame:{x:210,y:37,w:so.w,h:Yl.h*2}},"generic.wall.overdraw.debug":{frame:{x:210,y:4,w:so.w,h:Yl.h*2}},"generic.floor.deadly":{frame:{x:379,y:444,...Yl}},"generic.door.legs.base":{frame:{x:314,y:60,w:so.w,h:9}},"generic.door.legs.pillar":{frame:{x:314,y:48,w:so.w,h:12}},"generic.door.front.y":{frame:{x:227,y:13,...Mo}},"generic.door.back.y":{frame:{x:243,y:5,...Mo}},"generic.door.legs.threshold.y":{frame:{x:331,y:30,w:so.w,h:18}},"generic.door.threshold.x":{frame:{x:270,y:70,w:26,h:19}},"generic.door.threshold.y":{frame:{x:241,y:70,w:26,h:19}},"generic.door.platform.towards":{frame:{x:270,y:144,w:32,h:32}},"generic.door.front.x":{frame:{x:286,y:13,...Mo}},"generic.door.back.x":{frame:{x:270,y:5,...Mo}},"generic.door.legs.threshold.x":{frame:{x:314,y:30,w:so.w,h:18}},"generic.door.platform.left":{frame:{x:235,y:114,w:32,h:28}},"moonbase.door.front.y":{frame:{x:344,y:161,...Mo}},"moonbase.door.back.y":{frame:{x:360,y:153,...Mo}},"moonbase.door.front.x":{frame:{x:528,y:161,...Mo}},"moonbase.door.back.x":{frame:{x:512,y:153,...Mo}},teleporter:{frame:{x:4,y:450,...st}},...be("teleporter.flashing",2,{x:37,y:450},st),"barrier.x":{frame:{x:313,y:389,w:24,h:24}},"barrier.y":{frame:{x:313,y:414,w:24,h:24}},"block.organic":{frame:{x:172,y:388,...st}},"block.artificial":{frame:{x:138,y:388,...st}},"block.tower":{frame:{x:286,y:414,...V}},volcano:{frame:{x:344,y:414,...st}},toaster:{frame:{x:111,y:423,...st}},spikes:{frame:{x:379,y:414,...st}},"conveyor.x":{frame:{x:259,y:440,...st}},"conveyor.y":{frame:{x:292,y:440,...st}},bunny:{frame:{x:340,y:358,...V}},donuts:{frame:{x:313,y:358,...V}},crown:{frame:{x:367,y:358,...V}},hooter:{frame:{x:286,y:358,...V}},bag:{frame:{x:259,y:358,...V}},...be("fish",2,{x:259,y:388},V),"spring.compressed":{frame:{x:4,y:421,...V}},"spring.released":{frame:{x:29,y:421,...V}},...be("lift",4,{x:259,y:474},V),"lift.static":{frame:{x:359,y:474,...V}},...be("dalek",2,{x:4,y:4},V),"headless-base":{frame:{x:57,y:4,...V}},joystick:{frame:{x:259,y:414,...V}},anvil:{frame:{x:144,y:423,...st}},"book.x":{frame:{x:184,y:450,...st}},"book.y":{frame:{x:222,y:450,...st}},sandwich:{frame:{x:4,y:356,...st}},sticks:{frame:{x:4,y:391,...V}},cube:{frame:{x:31,y:391,...V}},drum:{frame:{x:58,y:391,...V}},"switch.off":{frame:{x:111,y:454,...V}},"switch.on":{frame:{x:136,y:454,...V}},...yi("american-football-head",{x:4,y:34},{w:24,h:32}),...yi("charles",{x:118,y:34},V),...yi("cyberman",{x:61,y:34},V),...yi("monkey",{x:118,y:90},V),...yi("elephant",{x:118,y:146},V),...yi("computer-bot",{x:173,y:146},V),...be("bubbles",3,{x:4,y:107},V),...be("bubbles.cold",2,{x:109,y:4},V),...be("bubbles.pickup",3,{x:288,y:333},V),...be("turtle.left",2,{x:4,y:137},V),...be("turtle.away",2,{x:55,y:137},V),...be("turtle.towards",2,{x:4,y:163},V),...be("turtle.right",2,{x:55,y:163},V),...be("helicopter-bug",4,{x:4,y:188},V),"hush-puppy":{frame:{x:163,y:300,...st}},ball:{frame:{x:84,y:4,...V}},puck:{frame:{x:111,y:367,...V}},"puck.deadly":{frame:{x:111,y:392,...V}},...H1.frames,...P5.frames},M5={frames:F5,animations:{"teleporter.flashing":["teleporter.flashing.1","teleporter.flashing.2"],fish:["fish.1","fish.2"],lift:["lift.1","lift.2","lift.3","lift.4"],dalek:["dalek.1","dalek.2"],"turtle.left":["turtle.left.1","turtle.left.2"],"turtle.away":["turtle.away.1","turtle.away.2"],"turtle.towards":["turtle.towards.1","turtle.towards.2"],"turtle.right":["turtle.right.1","turtle.right.2"],"helicopter-bug":["helicopter-bug.1","helicopter-bug.2","helicopter-bug.3","helicopter-bug.4"],bubbles:["bubbles.1","bubbles.2"],"bubbles.cold":["bubbles.cold.1","bubbles.cold.2"],"bubbles.pickup":["bubbles.pickup.1","bubbles.pickup.2","bubbles.pickup.3"],...H1.animations},meta:{scale:1}},Ve=new Qp(I5,M5);await Ve.parse();Ve.textureSource.scaleMode="nearest";const Ru=(t,e)=>{const o=Yo(t);return e.x=o.x,e.y=o.y,e},Jg=({x:t=0,y:e=0,z:o=0})=>-(t+e)/2-o,Ae=({x:t=0,y:e=0,z:o=0})=>({x:e-t,y:-(t+e)/2-o}),kt=({x:t=0,y:e=0,z:o=0})=>({x:t*de.w,y:e*de.d,z:o*de.h}),Yo=t=>Ae(kt(t)),zl={x:12,y:12,z:de.h},e0={x:14,y:14,z:de.h},Sl={x:16,y:16,z:de.h},X1=50,rf={x:de.w,y:0,z:999},V1={...rf,z:X1},sf={x:0,y:de.d,z:999},q1={...sf,z:X1},Ba=t=>{switch(t.type){case"spring":case"portable-block":case"lift":case"player":case"pickup":return{aabb:zl};case"ball":case"switch":case"fish":return{aabb:e0};case"block":switch(t.config.style){case"artificial":case"organic":return{aabb:Sl};case"tower":return{aabb:{x:11,y:11,z:de.h}};default:throw new Error("unknown block style")}case"baddie":switch(t.config.which){case"american-football-head":case"bubble-robot":return{aabb:{...zl,z:de.h*2}};case"helicopter-bug":return{aabb:zl};default:return{aabb:Sl}}case"deadly-block":switch(t.config.style){case"puck":return{aabb:zl};default:return{aabb:Sl}}case"book":case"conveyor":case"hush-puppy":case"teleporter":return{aabb:Sl};case"barrier":return{aabb:t.config.axis==="y"?{x:3,y:15,z:de.h}:{x:15,y:3,z:de.h}};case"wall":return t.config.side==="left"||t.config.side==="right"?{aabb:sf,renderAabb:q1}:{aabb:rf,renderAabb:V1};default:return console.warn("giving default aabb for item",t),{aabb:e0}}};function*O5(t){for(let e=t.size.y-1;e>=0;e--){const o=t.walls.left[e];o!=="none"&&(yield{...It,type:"wall",id:`wall-left-${e}`,config:{side:"left",style:o},state:{position:kt({x:t.size.x,y:e,z:0})},aabb:sf,renderAabb:q1}),Object.values(t.items).find(i=>i.type==="door"&&i.config.axis==="y"&&i.position.x===0&&(i.position.y===e||i.position.y+1===e))!==void 0||(yield{...It,type:"wall",id:`wall-right-${e}`,config:{side:"left",style:"none"},state:{position:kt({x:0,y:e,z:0})},aabb:{x:0,y:de.d,z:999},renders:!1})}for(let e=t.size.x-1;e>=0;e--){const o=t.walls.away[e];o!=="none"&&(yield{...It,type:"wall",id:`wall-away-${e}`,config:{side:"away",style:o},state:{position:kt({x:e,y:t.size.y,z:0})},aabb:rf,renderAabb:V1}),Object.values(t.items).find(i=>i.type==="door"&&i.config.axis==="x"&&(i.position.x===e||i.position.x+1===e)&&i.position.y===0)!==void 0||(yield{...It,type:"wall",id:`wall-towards-${e}`,config:{side:"towards",style:"none"},state:{position:kt({x:e,y:0,z:0})},aabb:{x:de.w,y:0,z:999},renders:!1})}}const t0=24,o0=48;function*D5(t,e){const{config:{axis:o},position:n}=t,i=o==="x"?"y":"x",r=o==="x"&&t.position.y===0||o==="y"&&t.position.x===0,s={...fc,[i]:r?-.5:0};yield{...t,...It,id:`${e}/far`,config:{...t.config,inHiddenWall:r},type:"doorFar",state:{position:kt(Ht(n,{[o]:1.5},s))},aabb:{x:8,y:8,z:o0}};const l=kt(Ht(n,s));yield{...t,...It,id:`${e}/near`,config:{...t.config,inHiddenWall:r},type:"doorNear",state:{position:l},aabb:{x:8,y:8,z:o0}},yield{...t,...It,id:`${e}/portal`,config:{...t.config,inHiddenWall:r,relativePoint:l},type:"portal",renders:!1,onTouch:"portal",state:{position:kt(Ht(n,{[o]:.5},{[i]:r?-.5:.5}))},aabb:{[o]:de.w,[i]:0,z:t0}},yield{...t,...It,id:`${e}/wall`,config:{style:"none",side:"away"},renders:!1,type:"wall",state:{position:{...kt(Ht(n,s)),z:t0}},aabb:{...kt({[o]:2,[i]:.5}),z:999}}}const hy=t=>{const e=kt(t.position),{aabb:o}=Ba(t);if(o===void 0)throw new Error(`item type= ${t.type} config=${JSON.stringify(t.config)} has no bounding box`);return t.type==="wall"?e:Ht(e,{x:(de.w-o.x)/2,y:(de.d-o.y)/2})},B5=t=>t.config.which==="head"?{type:"head",config:{},...It,...Ba(t),id:"head",state:{facing:"towards",movement:"idle",jumpRemaining:0,jumped:!1,jumpRoundingError:0,hasHooter:!1,fast:0,shield:0,standingOn:null,lives:8,donuts:0,autoWalkDistance:0,teleporting:null,position:hy(t),fallRoundingError:0},falls:!0}:{type:"heels",config:{},...It,...Ba(t),id:"heels",state:{facing:"towards",movement:"idle",jumpRemaining:0,jumpRoundingError:0,carrying:null,hasBag:!1,jumps:0,shield:0,standingOn:null,lives:8,autoWalkDistance:0,jumped:!1,teleporting:null,position:hy(t),fallRoundingError:0},falls:!0};function*G5(t,e){switch(e.type){case"door":return yield*D5(e,t);case"player":{yield B5(e);return}default:{const o=N1.includes(e.type);yield{...e,...It,...Ba(e),onTouch:e.type==="pickup"?"pickup":e.type==="baddie"||e.type==="deadly-block"?"deadly":e.type==="spring"||e.type==="portable-block"||e.type==="movable-block"?"push":"nonIntersect",id:t,renderingDirty:!1,renderPositionDirty:!1,state:U5(e),falls:o}}}}const U5=t=>{const e=N1.includes(t.type);return{position:hy(t),...e?{standingOn:null,fallRoundingError:0}:{},...t.type==="teleporter"?{flashing:!1}:{}}},N5=({aabb:t,state:{position:e}},{aabb:o,state:{position:n}})=>{for(const i of of)if(e[i]+t[i]<=n[i]||e[i]>=n[i]+o[i])return!1;return!0},lf=(t,e)=>e.filter(o=>t.id!==o.id&&N5(t,o));function*L5(t){const e=$1(t);for(const[o,n]of e)yield*G5(o,n)}const $5=t=>({...It,type:"floor",id:"floor",config:{},aabb:{...kt(S5(t.size,{x:2,y:2})),z:0},state:{position:kt({x:-1,y:-1,z:0})},renders:!1}),Y1=({state:{position:t},aabb:e,id:o},n)=>{const i=Ht(t,{z:-1}),r=lf({state:{position:i},aabb:e,id:o},n);for(const s of r)if(s.state.position.z+s.aabb.z===t.z)return console.log(o,"is standing on",s),s;return null},W5=t=>{for(const e of t)L1(e)&&(e.state.standingOn=Y1(e,t))},gy=t=>{const e=[$5(t),...O5(t),...L5(t.items)];return W5(e),{...t,items:e}},af=(t,e,o=fc)=>{const{currentCharacterName:n}=t,i=t.characterRooms[n];if(e===i.id)throw new Error(`Can't move to the same room ${e}`);const r=n==="head"?"heels":"head",s=t.characterRooms[r],l=s.id===e?s:gy(t.campaign.rooms[e]),a=i.items.find(Da(n));if(a===void 0)throw new Error(`Couldn't find character ${n} in room ${i.id} - can't move them to new room ${e}`);i.items=i.items.filter(u=>u!==a);const c=l.items.find(u=>Da("portal")(u)&&u.config.toRoom===i.id);c!==void 0&&(a.state.position=Ht(c.config.relativePoint,o)),l.items=l.items.filter(({type:u})=>u!==a.type),l.items.push(a),a.state.standingOn=Y1(a,l.items),t.characterRooms[n]=l,t.events.emit("roomChange",e)};function H5(t){return{all:t=t||new Map,on:function(e,o){var n=t.get(e);n?n.push(o):t.set(e,[o])},off:function(e,o){var n=t.get(e);n&&(o?n.splice(n.indexOf(o)>>>0,1):t.set(e,[]))},emit:function(e,o){var n=t.get(e);n&&n.slice().map(function(i){i(o)}),(n=t.get("*"))&&n.slice().map(function(i){i(e,o)})}}}const X5=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","","","","0","1","2","3","4","5","6","7","8","9","!","@","#","$","%","^","&","*","(",")","-","_","=","+","[","]","{","}",";",":","'",'"',",",".","/","<",">","?","\\","|"," ","Enter","Shift","Control","`","~","Tab","Backspace","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Numpad0","Numpad1","Numpad2","Numpad3","Numpad4","Numpad5","Numpad6","Numpad7","Numpad8","Numpad9","NumpadAdd","NumpadSubtract","NumpadMultiply","NumpadDivide","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12"],n0=t=>X5.includes(t),V5=[...tf,"jump","fire","carry","swop","pause"],bo={right:["P"],towards:["A"],left:["O"],away:["Q"],jump:[" ","M"],carry:["C","M"],fire:["N"],swop:["Enter","S"],pause:["H"]},q5={right:["ArrowRight",...bo.right],towards:["ArrowDown",...bo.towards],left:["ArrowLeft",...bo.left],away:["ArrowUp",...bo.away],jump:bo.jump,carry:["Shift",...bo.carry],fire:["Control",...bo.fire],swop:bo.swop,pause:["F8",...bo.pause]};function*i0(t,e){for(const[o,n]of $1(t))n.includes(e)&&(yield o)}const r0=t=>t.length===1?t.toUpperCase():t,Y5=({keyAssignment:t,inputState:e})=>{const o=({key:i})=>{const r=r0(i);if(!n0(r)){console.log("do not recognise key: ",r);return}for(const s of i0(t,r))e[s]=!0},n=({key:i})=>{const r=r0(i);if(n0(r))for(const s of i0(t,r))e[s]=!1};return window.addEventListener("keydown",o,!1),window.addEventListener("keyup",n,!1),()=>{console.log("removing listeners on keys"),window.removeEventListener("keydown",o,!1),window.removeEventListener("keyup",n,!1)}},K5=t=>{const e={};for(const o of Object.values(t.rooms))for(const n of Object.values(o.items))if(n.type==="player"){const{which:i}=n.config;e[i]=o.id}if(e.head===void 0)throw new Error("couldn't find head in campaign");if(e.heels===void 0)throw new Error("couldn't find heels in campaign");return e},Q5=(t,e,o)=>{const n=K5(t),i=gy(t.rooms[n.head]),r=gy(t.rooms[n.heels]);return{keyAssignment:q5,currentCharacterName:"head",characterRooms:{head:i,heels:r},inputState:w5(V5.map(s=>[s,!1])),renderOptions:e,campaign:t,events:o}},J5=async(t,e)=>{const o=()=>{if(t.renderer.width===0||t.renderer.height===0)return;const n=Math.floor(Math.min(t.renderer.width/fy.width,t.renderer.height/fy.height));console.log("scale factor is:",n),t.stage.scale=n,e.x=t.renderer.width/n/2};t.renderer.on("resize",()=>o()),o()},eC={x:.5,y:1},tC=t=>typeof t!="string"&&Object.hasOwn(t,"frames"),oC=.5,Y=t=>{if(typeof t=="string")return Y({texture:t});{const{anchor:e,flipX:o,pivot:n,x:i,y:r}=t;let s;return tC(t)?s=nC(t):s=new Vn(Ve.textures[t.texture]),e===void 0&&n===void 0?s.anchor=eC:(e!==void 0&&(s.anchor=e),n!==void 0&&(s.pivot=n)),i!==void 0&&(s.x=i),r!==void 0&&(s.y=r),s.eventMode="static",o===!0&&(s.scale.x=-1),s}};function nC(t){const e=new Ma(t.frames.map(o=>({texture:o,time:C5})));return e.animationSpeed=t.animationSpeed||oC,e.play(),t.playOnce&&(e.loop=!1,e.onComplete=()=>{e.stop(),e.visible=!1}),e}const iC=(t,e,o)=>`${t}.wall.${e}.${o}`,rC=(t,e,o)=>{const n=Ve.textures[`${t.planet}.door.front.${e}`]!==void 0;return o=="near"?n?`${t.planet}.door.front.${e}`:`generic.door.front.${e}`:n?`${t.planet}.door.back.${e}`:`generic.door.back.${e}`},Au={basic:new K("rgb(210, 210, 210)"),dimmed:new K("rgb(120, 120, 120)")},Pu={basic:new K("hsl(50,58%,70%)"),dimmed:new K("hsl(30,20%,40%)")},s0={basic:new K("hsl(290,25%,60%)"),dimmed:new K("hsl(290,25%,40%)")},El={basic:new K("hsl(183, 28%, 50%)"),dimmed:new K("hsl(183, 28%,30%)")},Tu={basic:new K("hsl(73,35%,48%)"),dimmed:new K("hsl(73,35%,30%)")},K1={white:{main:Au,edges:{towards:El,right:Pu}},yellow:{main:Pu,edges:{towards:Tu,right:Au}},magenta:{main:s0,edges:{towards:Tu,right:El}},cyan:{main:El,edges:{towards:s0,right:Au}},green:{main:Tu,edges:{towards:El,right:Pu}}};var ae=`in vec2 aPosition;
out vec2 vTextureCoord;

uniform vec4 uInputSize;
uniform vec4 uOutputFrame;
uniform vec4 uOutputTexture;

vec4 filterVertexPosition( void )
{
    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;
    
    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aPosition * (uOutputFrame.zw * uInputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,ce=`struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;

struct VSOutput {
    @builtin(position) position: vec4<f32>,
    @location(0) uv : vec2<f32>
  };

fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

fn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  
}

fn getSize() -> vec2<f32>
{
  return gfu.uGlobalFrame.zw;
}
  
@vertex
fn mainVertex(
  @location(0) aPosition : vec2<f32>, 
) -> VSOutput {
  return VSOutput(
   filterVertexPosition(aPosition),
   filterTextureCoord(aPosition)
  );
}`,sC=`in vec2 vTextureCoord;
out vec4 finalColor;

uniform sampler2D uTexture;
uniform float uGamma;
uniform float uContrast;
uniform float uSaturation;
uniform float uBrightness;
uniform vec4 uColor;

void main()
{
    vec4 c = texture(uTexture, vTextureCoord);

    if (c.a > 0.0) {
        c.rgb /= c.a;

        vec3 rgb = pow(c.rgb, vec3(1. / uGamma));
        rgb = mix(vec3(.5), mix(vec3(dot(vec3(.2125, .7154, .0721), rgb)), rgb, uSaturation), uContrast);
        rgb.r *= uColor.r;
        rgb.g *= uColor.g;
        rgb.b *= uColor.b;
        c.rgb = rgb * uBrightness;

        c.rgb *= c.a;
    }

    finalColor = c * uColor.a;
}
`,lC=`struct AdjustmentUniforms {
  uGamma: f32,
  uContrast: f32,
  uSaturation: f32,
  uBrightness: f32,
  uColor: vec4<f32>,
};

@group(0) @binding(1) var uTexture: texture_2d<f32>; 
@group(0) @binding(2) var uSampler: sampler;
@group(1) @binding(0) var<uniform> adjustmentUniforms : AdjustmentUniforms;

@fragment
fn mainFragment(
  @location(0) uv: vec2<f32>,
  @builtin(position) position: vec4<f32>
) -> @location(0) vec4<f32> {
  var sample = textureSample(uTexture, uSampler, uv);
  let color = adjustmentUniforms.uColor;

  if (sample.a > 0.0) 
  {
    sample = vec4<f32>(sample.rgb / sample.a, sample.a);
    var rgb: vec3<f32> = pow(sample.rgb, vec3<f32>(1. / adjustmentUniforms.uGamma));
    rgb = mix(vec3<f32>(.5), mix(vec3<f32>(dot(vec3<f32>(.2125, .7154, .0721), rgb)), rgb, adjustmentUniforms.uSaturation), adjustmentUniforms.uContrast);
    rgb.r *= color.r;
    rgb.g *= color.g;
    rgb.b *= color.b;
    sample = vec4<f32>(rgb.rgb * adjustmentUniforms.uBrightness, sample.a);
    sample = vec4<f32>(sample.rgb * sample.a, sample.a);
  }

  return sample * color.a;
}`,aC=Object.defineProperty,cC=(t,e,o)=>e in t?aC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,Q1=(t,e,o)=>(cC(t,typeof e!="symbol"?e+"":e,o),o);const uC=class J1 extends ie{constructor(e){e={...J1.DEFAULT_OPTIONS,...e};const o=te.from({vertex:{source:ce,entryPoint:"mainVertex"},fragment:{source:lC,entryPoint:"mainFragment"}}),n=oe.from({vertex:ae,fragment:sC,name:"adjustment-filter"});super({gpuProgram:o,glProgram:n,resources:{adjustmentUniforms:{uGamma:{value:e.gamma,type:"f32"},uContrast:{value:e.contrast,type:"f32"},uSaturation:{value:e.saturation,type:"f32"},uBrightness:{value:e.brightness,type:"f32"},uColor:{value:[e.red,e.green,e.blue,e.alpha],type:"vec4<f32>"}}}}),Q1(this,"uniforms"),this.uniforms=this.resources.adjustmentUniforms.uniforms}get gamma(){return this.uniforms.uGamma}set gamma(e){this.uniforms.uGamma=e}get contrast(){return this.uniforms.uContrast}set contrast(e){this.uniforms.uContrast=e}get saturation(){return this.uniforms.uSaturation}set saturation(e){this.uniforms.uSaturation=e}get brightness(){return this.uniforms.uBrightness}set brightness(e){this.uniforms.uBrightness=e}get red(){return this.uniforms.uColor[0]}set red(e){this.uniforms.uColor[0]=e}get green(){return this.uniforms.uColor[1]}set green(e){this.uniforms.uColor[1]=e}get blue(){return this.uniforms.uColor[2]}set blue(e){this.uniforms.uColor[2]=e}get alpha(){return this.uniforms.uColor[3]}set alpha(e){this.uniforms.uColor[3]=e}};Q1(uC,"DEFAULT_OPTIONS",{gamma:1,contrast:1,saturation:1,brightness:1,red:1,green:1,blue:1,alpha:1});var pC=`
in vec2 vTextureCoord;
out vec4 finalColor;

uniform sampler2D uTexture;
uniform vec2 uOffset;

void main(void)
{
    vec4 color = vec4(0.0);

    // Sample top left pixel
    color += texture(uTexture, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y));

    // Sample top right pixel
    color += texture(uTexture, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y));

    // Sample bottom right pixel
    color += texture(uTexture, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y));

    // Sample bottom left pixel
    color += texture(uTexture, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y));

    // Average
    color *= 0.25;

    finalColor = color;
}`,yC=`struct KawaseBlurUniforms {
  uOffset:vec2<f32>,
};

@group(0) @binding(1) var uTexture: texture_2d<f32>; 
@group(0) @binding(2) var uSampler: sampler;
@group(1) @binding(0) var<uniform> kawaseBlurUniforms : KawaseBlurUniforms;

@fragment
fn mainFragment(
  @builtin(position) position: vec4<f32>,
  @location(0) uv : vec2<f32>
) -> @location(0) vec4<f32> {
  let uOffset = kawaseBlurUniforms.uOffset;
  var color: vec4<f32> = vec4<f32>(0.0);

  // Sample top left pixel
  color += textureSample(uTexture, uSampler, vec2<f32>(uv.x - uOffset.x, uv.y + uOffset.y));
  // Sample top right pixel
  color += textureSample(uTexture, uSampler, vec2<f32>(uv.x + uOffset.x, uv.y + uOffset.y));
  // Sample bottom right pixel
  color += textureSample(uTexture, uSampler, vec2<f32>(uv.x + uOffset.x, uv.y - uOffset.y));
  // Sample bottom left pixel
  color += textureSample(uTexture, uSampler, vec2<f32>(uv.x - uOffset.x, uv.y - uOffset.y));
  // Average
  color *= 0.25;

  return color;
}`,dC=`
precision highp float;
in vec2 vTextureCoord;
out vec4 finalColor;

uniform sampler2D uTexture;
uniform vec2 uOffset;

uniform vec4 uInputClamp;

void main(void)
{
    vec4 color = vec4(0.0);

    // Sample top left pixel
    color += texture(uTexture, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y), uInputClamp.xy, uInputClamp.zw));

    // Sample top right pixel
    color += texture(uTexture, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y), uInputClamp.xy, uInputClamp.zw));

    // Sample bottom right pixel
    color += texture(uTexture, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y), uInputClamp.xy, uInputClamp.zw));

    // Sample bottom left pixel
    color += texture(uTexture, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y), uInputClamp.xy, uInputClamp.zw));

    // Average
    color *= 0.25;

    finalColor = color;
}
`,fC=`struct KawaseBlurUniforms {
  uOffset:vec2<f32>,
};

struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;

@group(0) @binding(1) var uTexture: texture_2d<f32>; 
@group(0) @binding(2) var uSampler: sampler;
@group(1) @binding(0) var<uniform> kawaseBlurUniforms : KawaseBlurUniforms;

@fragment
fn mainFragment(
  @builtin(position) position: vec4<f32>,
  @location(0) uv : vec2<f32>
) -> @location(0) vec4<f32> {
  let uOffset = kawaseBlurUniforms.uOffset;
  var color: vec4<f32> = vec4(0.0);

  // Sample top left pixel
  color += textureSample(uTexture, uSampler, clamp(vec2<f32>(uv.x - uOffset.x, uv.y + uOffset.y), gfu.uInputClamp.xy, gfu.uInputClamp.zw));
  // Sample top right pixel
  color += textureSample(uTexture, uSampler, clamp(vec2<f32>(uv.x + uOffset.x, uv.y + uOffset.y), gfu.uInputClamp.xy, gfu.uInputClamp.zw));
  // Sample bottom right pixel
  color += textureSample(uTexture, uSampler, clamp(vec2<f32>(uv.x + uOffset.x, uv.y - uOffset.y), gfu.uInputClamp.xy, gfu.uInputClamp.zw));
  // Sample bottom left pixel
  color += textureSample(uTexture, uSampler, clamp(vec2<f32>(uv.x - uOffset.x, uv.y - uOffset.y), gfu.uInputClamp.xy, gfu.uInputClamp.zw));
  // Average
  color *= 0.25;
    
  return color;
}`,hC=Object.defineProperty,gC=(t,e,o)=>e in t?hC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,Rn=(t,e,o)=>(gC(t,typeof e!="symbol"?e+"":e,o),o);const ek=class tk extends ie{constructor(...e){let o=e[0]??{};(typeof o=="number"||Array.isArray(o))&&($("6.0.0","KawaseBlurFilter constructor params are now options object. See params: { strength, quality, clamp, pixelSize }"),o={strength:o},e[1]!==void 0&&(o.quality=e[1]),e[2]!==void 0&&(o.clamp=e[2])),o={...tk.DEFAULT_OPTIONS,...o};const n=te.from({vertex:{source:ce,entryPoint:"mainVertex"},fragment:{source:o?.clamp?fC:yC,entryPoint:"mainFragment"}}),i=oe.from({vertex:ae,fragment:o?.clamp?dC:pC,name:"kawase-blur-filter"});super({gpuProgram:n,glProgram:i,resources:{kawaseBlurUniforms:{uOffset:{value:new Float32Array(2),type:"vec2<f32>"}}}}),Rn(this,"uniforms"),Rn(this,"_pixelSize",{x:0,y:0}),Rn(this,"_clamp"),Rn(this,"_kernels",[]),Rn(this,"_blur"),Rn(this,"_quality"),this.uniforms=this.resources.kawaseBlurUniforms.uniforms,this.pixelSize=o.pixelSize??{x:1,y:1},Array.isArray(o.strength)?this.kernels=o.strength:typeof o.strength=="number"&&(this._blur=o.strength,this.quality=o.quality??3),this._clamp=!!o.clamp}apply(e,o,n,i){const r=this.pixelSizeX/o.source.width,s=this.pixelSizeY/o.source.height;let l;if(this._quality===1||this._blur===0)l=this._kernels[0]+.5,this.uniforms.uOffset[0]=l*r,this.uniforms.uOffset[1]=l*s,e.applyFilter(this,o,n,i);else{const a=jt.getSameSizeTexture(o);let c=o,u=a,p;const y=this._quality-1;for(let d=0;d<y;d++)l=this._kernels[d]+.5,this.uniforms.uOffset[0]=l*r,this.uniforms.uOffset[1]=l*s,e.applyFilter(this,c,u,!0),p=c,c=u,u=p;l=this._kernels[y]+.5,this.uniforms.uOffset[0]=l*r,this.uniforms.uOffset[1]=l*s,e.applyFilter(this,c,n,i),jt.returnTexture(a)}}get strength(){return this._blur}set strength(e){this._blur=e,this._generateKernels()}get quality(){return this._quality}set quality(e){this._quality=Math.max(1,Math.round(e)),this._generateKernels()}get kernels(){return this._kernels}set kernels(e){Array.isArray(e)&&e.length>0?(this._kernels=e,this._quality=e.length,this._blur=Math.max(...e)):(this._kernels=[0],this._quality=1)}get pixelSize(){return this._pixelSize}set pixelSize(e){if(typeof e=="number"){this.pixelSizeX=this.pixelSizeY=e;return}if(Array.isArray(e)){this.pixelSizeX=e[0],this.pixelSizeY=e[1];return}this._pixelSize=e}get pixelSizeX(){return this.pixelSize.x}set pixelSizeX(e){this.pixelSize.x=e}get pixelSizeY(){return this.pixelSize.y}set pixelSizeY(e){this.pixelSize.y=e}get clamp(){return this._clamp}_updatePadding(){this.padding=Math.ceil(this._kernels.reduce((e,o)=>e+o+.5,0))}_generateKernels(){const e=this._blur,o=this._quality,n=[e];if(e>0){let i=e;const r=e/o;for(let s=1;s<o;s++)i-=r,n.push(i)}this._kernels=n,this._updatePadding()}};Rn(ek,"DEFAULT_OPTIONS",{strength:4,quality:3,clamp:!1,pixelSize:{x:1,y:1}});let ok=ek;var mC=`in vec2 vTextureCoord;
out vec4 finalColor;

uniform sampler2D uTexture;
uniform sampler2D uMapTexture;
uniform float uBloomScale;
uniform float uBrightness;

void main() {
    vec4 color = texture(uTexture, vTextureCoord);
    color.rgb *= uBrightness;
    vec4 bloomColor = vec4(texture(uMapTexture, vTextureCoord).rgb, 0.0);
    bloomColor.rgb *= uBloomScale;
    finalColor = color + bloomColor;
}
`,bC=`struct AdvancedBloomUniforms {
  uBloomScale: f32,
  uBrightness: f32,
};

@group(0) @binding(1) var uTexture: texture_2d<f32>; 
@group(0) @binding(2) var uSampler: sampler;
@group(1) @binding(0) var<uniform> advancedBloomUniforms : AdvancedBloomUniforms;
@group(1) @binding(1) var uMapTexture: texture_2d<f32>;

@fragment
fn mainFragment(
  @builtin(position) position: vec4<f32>,
  @location(0) uv : vec2<f32>
) -> @location(0) vec4<f32> {
  var color = textureSample(uTexture, uSampler, uv);
  color = vec4<f32>(color.rgb * advancedBloomUniforms.uBrightness, color.a);

  var bloomColor = vec4<f32>(textureSample(uMapTexture, uSampler, uv).rgb, 0.0);
  bloomColor = vec4<f32>(bloomColor.rgb * advancedBloomUniforms.uBloomScale, bloomColor.a);
  
  return color + bloomColor;
}
`,xC=`
in vec2 vTextureCoord;
out vec4 finalColor;

uniform sampler2D uTexture;
uniform float uThreshold;

void main() {
    vec4 color = texture(uTexture, vTextureCoord);

    // A simple & fast algorithm for getting brightness.
    // It's inaccuracy , but good enought for this feature.
    float _max = max(max(color.r, color.g), color.b);
    float _min = min(min(color.r, color.g), color.b);
    float brightness = (_max + _min) * 0.5;

    if(brightness > uThreshold) {
        finalColor = color;
    } else {
        finalColor = vec4(0.0, 0.0, 0.0, 0.0);
    }
}
`,kC=`struct ExtractBrightnessUniforms {
  uThreshold: f32,
};

@group(0) @binding(1) var uTexture: texture_2d<f32>; 
@group(0) @binding(2) var uSampler: sampler;
@group(1) @binding(0) var<uniform> extractBrightnessUniforms : ExtractBrightnessUniforms;

@fragment
fn mainFragment(
  @builtin(position) position: vec4<f32>,
  @location(0) uv : vec2<f32>
) -> @location(0) vec4<f32> {
  let color: vec4<f32> = textureSample(uTexture, uSampler, uv);

  // A simple & fast algorithm for getting brightness.
  // It's inaccurate, but good enough for this feature.
  let max: f32 = max(max(color.r, color.g), color.b);
  let min: f32 = min(min(color.r, color.g), color.b);
  let brightness: f32 = (max + min) * 0.5;

  return select(vec4<f32>(0.), color, brightness > extractBrightnessUniforms.uThreshold);
}
`,wC=Object.defineProperty,vC=(t,e,o)=>e in t?wC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,nk=(t,e,o)=>(vC(t,typeof e!="symbol"?e+"":e,o),o);const ik=class rk extends ie{constructor(e){e={...rk.DEFAULT_OPTIONS,...e};const o=te.from({vertex:{source:ce,entryPoint:"mainVertex"},fragment:{source:kC,entryPoint:"mainFragment"}}),n=oe.from({vertex:ae,fragment:xC,name:"extract-brightness-filter"});super({gpuProgram:o,glProgram:n,resources:{extractBrightnessUniforms:{uThreshold:{value:e.threshold,type:"f32"}}}}),nk(this,"uniforms"),this.uniforms=this.resources.extractBrightnessUniforms.uniforms}get threshold(){return this.uniforms.uThreshold}set threshold(e){this.uniforms.uThreshold=e}};nk(ik,"DEFAULT_OPTIONS",{threshold:.5});let zC=ik;var SC=Object.defineProperty,EC=(t,e,o)=>e in t?SC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,ki=(t,e,o)=>(EC(t,typeof e!="symbol"?e+"":e,o),o);const _C=class sk extends ie{constructor(e){e={...sk.DEFAULT_OPTIONS,...e};const o=te.from({vertex:{source:ce,entryPoint:"mainVertex"},fragment:{source:bC,entryPoint:"mainFragment"}}),n=oe.from({vertex:ae,fragment:mC,name:"advanced-bloom-filter"});super({gpuProgram:o,glProgram:n,resources:{advancedBloomUniforms:{uBloomScale:{value:e.bloomScale,type:"f32"},uBrightness:{value:e.brightness,type:"f32"}},uMapTexture:q.WHITE}}),ki(this,"uniforms"),ki(this,"bloomScale",1),ki(this,"brightness",1),ki(this,"_extractFilter"),ki(this,"_blurFilter"),this.uniforms=this.resources.advancedBloomUniforms.uniforms,this._extractFilter=new zC({threshold:e.threshold}),this._blurFilter=new ok({strength:e.kernels??e.blur,quality:e.kernels?void 0:e.quality}),Object.assign(this,e)}apply(e,o,n,i){const r=jt.getSameSizeTexture(o);this._extractFilter.apply(e,o,r,!0);const s=jt.getSameSizeTexture(o);this._blurFilter.apply(e,r,s,!0),this.uniforms.uBloomScale=this.bloomScale,this.uniforms.uBrightness=this.brightness,this.resources.uMapTexture=s.source,e.applyFilter(this,o,n,i),jt.returnTexture(s),jt.returnTexture(r)}get threshold(){return this._extractFilter.threshold}set threshold(e){this._extractFilter.threshold=e}get kernels(){return this._blurFilter.kernels}set kernels(e){this._blurFilter.kernels=e}get blur(){return this._blurFilter.strength}set blur(e){this._blurFilter.strength=e}get quality(){return this._blurFilter.quality}set quality(e){this._blurFilter.quality=e}get pixelSize(){return this._blurFilter.pixelSize}set pixelSize(e){typeof e=="number"&&(e={x:e,y:e}),Array.isArray(e)&&(e={x:e[0],y:e[1]}),this._blurFilter.pixelSize=e}get pixelSizeX(){return this._blurFilter.pixelSizeX}set pixelSizeX(e){this._blurFilter.pixelSizeX=e}get pixelSizeY(){return this._blurFilter.pixelSizeY}set pixelSizeY(e){this._blurFilter.pixelSizeY=e}};ki(_C,"DEFAULT_OPTIONS",{threshold:.5,bloomScale:1,brightness:1,blur:8,quality:4,pixelSize:{x:1,y:1}});var CC=`precision highp float;
in vec2 vTextureCoord;
out vec4 finalColor;

uniform sampler2D uTexture;
uniform float uSize;
uniform vec3 uColor;
uniform float uReplaceColor;

uniform vec4 uInputSize;

vec2 mapCoord( vec2 coord )
{
    coord *= uInputSize.xy;
    coord += uInputSize.zw;

    return coord;
}

vec2 unmapCoord( vec2 coord )
{
    coord -= uInputSize.zw;
    coord /= uInputSize.xy;

    return coord;
}

vec2 pixelate(vec2 coord, vec2 size)
{
    return floor(coord / size) * size;
}

vec2 getMod(vec2 coord, vec2 size)
{
    return mod(coord, size) / size;
}

float character(float n, vec2 p)
{
    p = floor(p*vec2(4.0, 4.0) + 2.5);

    if (clamp(p.x, 0.0, 4.0) == p.x)
    {
        if (clamp(p.y, 0.0, 4.0) == p.y)
        {
            if (int(mod(n/exp2(p.x + 5.0*p.y), 2.0)) == 1) return 1.0;
        }
    }
    return 0.0;
}

void main()
{
    vec2 coord = mapCoord(vTextureCoord);

    // get the grid position
    vec2 pixCoord = pixelate(coord, vec2(uSize));
    pixCoord = unmapCoord(pixCoord);

    // sample the color at grid position
    vec4 color = texture(uTexture, pixCoord);

    // brightness of the color as it's perceived by the human eye
    float gray = 0.3 * color.r + 0.59 * color.g + 0.11 * color.b;

    // determine the character to use
    float n =  65536.0;             // .
    if (gray > 0.2) n = 65600.0;    // :
    if (gray > 0.3) n = 332772.0;   // *
    if (gray > 0.4) n = 15255086.0; // o
    if (gray > 0.5) n = 23385164.0; // &
    if (gray > 0.6) n = 15252014.0; // 8
    if (gray > 0.7) n = 13199452.0; // @
    if (gray > 0.8) n = 11512810.0; // #

    // get the mod..
    vec2 modd = getMod(coord, vec2(uSize));

    finalColor = (uReplaceColor > 0.5 ? vec4(uColor, 1.) : color) * character( n, vec2(-1.0) + modd * 2.0);
}
`,ZC=`struct AsciiUniforms {
    uSize: f32,
    uColor: vec3<f32>,
    uReplaceColor: f32,
};

struct GlobalFilterUniforms {
    uInputSize:vec4<f32>,
    uInputPixel:vec4<f32>,
    uInputClamp:vec4<f32>,
    uOutputFrame:vec4<f32>,
    uGlobalFrame:vec4<f32>,
    uOutputTexture:vec4<f32>,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;

@group(0) @binding(1) var uTexture: texture_2d<f32>; 
@group(0) @binding(2) var uSampler: sampler;
@group(1) @binding(0) var<uniform> asciiUniforms : AsciiUniforms;

@fragment
fn mainFragment(
    @location(0) uv: vec2<f32>,
    @builtin(position) position: vec4<f32>
) -> @location(0) vec4<f32> {
    let pixelSize: f32 = asciiUniforms.uSize;
    let coord: vec2<f32> = mapCoord(uv);

    // get the rounded color..
    var pixCoord: vec2<f32> = pixelate(coord, vec2<f32>(pixelSize));
    pixCoord = unmapCoord(pixCoord);

    var color = textureSample(uTexture, uSampler, pixCoord);

    // determine the character to use
    let gray: f32 = 0.3 * color.r + 0.59 * color.g + 0.11 * color.b;
    
    var n: f32 = 65536.0; // .
    if (gray > 0.2) {
        n = 65600.0;    // :
    }
    if (gray > 0.3) {
        n = 332772.0;   // *
    }
    if (gray > 0.4) {
        n = 15255086.0; // o
    }
    if (gray > 0.5) {
        n = 23385164.0; // &
    }
    if (gray > 0.6) {
        n = 15252014.0; // 8
    }
    if (gray > 0.7) {
        n = 13199452.0; // @
    }
    if (gray > 0.8) {
        n = 11512810.0; // #
    }

    // get the mod..
    let modd: vec2<f32> = getMod(coord, vec2<f32>(pixelSize));
    return select(color, vec4<f32>(asciiUniforms.uColor, 1.), asciiUniforms.uReplaceColor > 0.5) * character(n, vec2<f32>(-1.0) + modd * 2.0);
}

fn pixelate(coord: vec2<f32>, size: vec2<f32>) -> vec2<f32>
{
    return floor( coord / size ) * size;
}

fn getMod(coord: vec2<f32>, size: vec2<f32>) -> vec2<f32>
{
    return moduloVec2( coord , size) / size;
}

fn character(n: f32, p: vec2<f32>) -> f32
{
    var q: vec2<f32> = floor(p*vec2<f32>(4.0, 4.0) + 2.5);

    if (clamp(q.x, 0.0, 4.0) == q.x)
    {
        if (clamp(q.y, 0.0, 4.0) == q.y)
        {
        if (i32(modulo(n/exp2(q.x + 5.0*q.y), 2.0)) == 1)
        {
            return 1.0;
        }
        }
    }

    return 0.0;
}

fn modulo(x: f32, y: f32) -> f32
{
  return x - y * floor(x/y);
}

fn moduloVec2(x: vec2<f32>, y: vec2<f32>) -> vec2<f32>
{
  return x - y * floor(x/y);
}

fn mapCoord(coord: vec2<f32> ) -> vec2<f32>
{
    var mappedCoord: vec2<f32> = coord;
    mappedCoord *= gfu.uInputSize.xy;
    mappedCoord += gfu.uOutputFrame.xy;
    return mappedCoord;
}

fn unmapCoord(coord: vec2<f32> ) -> vec2<f32>
{
    var mappedCoord: vec2<f32> = coord;
    mappedCoord -= gfu.uOutputFrame.xy;
    mappedCoord /= gfu.uInputSize.xy;
    return mappedCoord;
}`,RC=Object.defineProperty,AC=(t,e,o)=>e in t?RC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,my=(t,e,o)=>(AC(t,typeof e!="symbol"?e+"":e,o),o);const PC=class lk extends ie{constructor(...e){let o=e[0]??{};typeof o=="number"&&($("6.0.0","AsciiFilter constructor params are now options object. See params: { size, color, replaceColor }"),o={size:o});const n=o?.color&&o.replaceColor!==!1;o={...lk.DEFAULT_OPTIONS,...o};const i=te.from({vertex:{source:ce,entryPoint:"mainVertex"},fragment:{source:ZC,entryPoint:"mainFragment"}}),r=oe.from({vertex:ae,fragment:CC,name:"ascii-filter"});super({gpuProgram:i,glProgram:r,resources:{asciiUniforms:{uSize:{value:o.size,type:"f32"},uColor:{value:new Float32Array(3),type:"vec3<f32>"},uReplaceColor:{value:Number(n),type:"f32"}}}}),my(this,"uniforms"),my(this,"_color"),this.uniforms=this.resources.asciiUniforms.uniforms,this._color=new K,this.color=o.color??16777215}get size(){return this.uniforms.uSize}set size(e){this.uniforms.uSize=e}get color(){return this._color.value}set color(e){this._color.setValue(e);const[o,n,i]=this._color.toArray();this.uniforms.uColor[0]=o,this.uniforms.uColor[1]=n,this.uniforms.uColor[2]=i}get replaceColor(){return this.uniforms.uReplaceColor>.5}set replaceColor(e){this.uniforms.uReplaceColor=e?1:0}};my(PC,"DEFAULT_OPTIONS",{size:8,color:16777215,replaceColor:!1});var TC=`precision highp float;
in vec2 vTextureCoord;
out vec4 finalColor;

uniform sampler2D uTexture;
uniform vec2 uTransform;
uniform vec3 uLightColor;
uniform float uLightAlpha;
uniform vec3 uShadowColor;
uniform float uShadowAlpha;

uniform vec4 uInputSize;

void main(void) {
    vec2 transform = vec2(1.0 / uInputSize) * vec2(uTransform.x, uTransform.y);
    vec4 color = texture(uTexture, vTextureCoord);
    float light = texture(uTexture, vTextureCoord - transform).a;
    float shadow = texture(uTexture, vTextureCoord + transform).a;

    color.rgb = mix(color.rgb, uLightColor, clamp((color.a - light) * uLightAlpha, 0.0, 1.0));
    color.rgb = mix(color.rgb, uShadowColor, clamp((color.a - shadow) * uShadowAlpha, 0.0, 1.0));
    finalColor = vec4(color.rgb * color.a, color.a);
}
`,jC=`struct BevelUniforms {
  uLightColor: vec3<f32>,
  uLightAlpha: f32,
  uShadowColor: vec3<f32>,
  uShadowAlpha: f32,
  uTransform: vec2<f32>,
};

struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;

@group(0) @binding(1) var uTexture: texture_2d<f32>; 
@group(0) @binding(2) var uSampler: sampler;
@group(1) @binding(0) var<uniform> bevelUniforms : BevelUniforms;

@fragment
fn mainFragment(
  @builtin(position) position: vec4<f32>,
  @location(0) uv : vec2<f32>
) -> @location(0) vec4<f32> {
  let transform = vec2<f32>(1.0 / gfu.uInputSize.xy) * vec2<f32>(bevelUniforms.uTransform.x, bevelUniforms.uTransform.y);
  var color: vec4<f32> = textureSample(uTexture, uSampler, uv);
  let lightSample: f32 = textureSample(uTexture, uSampler, uv - transform).a;
  let shadowSample: f32 = textureSample(uTexture, uSampler, uv + transform).a;

  let light = vec4<f32>(bevelUniforms.uLightColor, bevelUniforms.uLightAlpha);
  let shadow = vec4<f32>(bevelUniforms.uShadowColor, bevelUniforms.uShadowAlpha);

  color = vec4<f32>(mix(color.rgb, light.rgb, clamp((color.a - lightSample) * light.a, 0.0, 1.0)), color.a);
  color = vec4<f32>(mix(color.rgb, shadow.rgb, clamp((color.a - shadowSample) * shadow.a, 0.0, 1.0)), color.a);
  
  return vec4<f32>(color.rgb * color.a, color.a);
}`,IC=Object.defineProperty,FC=(t,e,o)=>e in t?IC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,wi=(t,e,o)=>(FC(t,typeof e!="symbol"?e+"":e,o),o);const MC=class ak extends ie{constructor(e){e={...ak.DEFAULT_OPTIONS,...e};const o=te.from({vertex:{source:ce,entryPoint:"mainVertex"},fragment:{source:jC,entryPoint:"mainFragment"}}),n=oe.from({vertex:ae,fragment:TC,name:"bevel-filter"});super({gpuProgram:o,glProgram:n,resources:{bevelUniforms:{uLightColor:{value:new Float32Array(3),type:"vec3<f32>"},uLightAlpha:{value:e.lightAlpha,type:"f32"},uShadowColor:{value:new Float32Array(3),type:"vec3<f32>"},uShadowAlpha:{value:e.shadowAlpha,type:"f32"},uTransform:{value:new Float32Array(2),type:"vec2<f32>"}}},padding:1}),wi(this,"uniforms"),wi(this,"_thickness"),wi(this,"_rotation"),wi(this,"_lightColor"),wi(this,"_shadowColor"),this.uniforms=this.resources.bevelUniforms.uniforms,this._lightColor=new K,this._shadowColor=new K,this.lightColor=e.lightColor??16777215,this.shadowColor=e.shadowColor??0,Object.assign(this,e)}get rotation(){return this._rotation/nr}set rotation(e){this._rotation=e*nr,this._updateTransform()}get thickness(){return this._thickness}set thickness(e){this._thickness=e,this._updateTransform()}get lightColor(){return this._lightColor.value}set lightColor(e){this._lightColor.setValue(e);const[o,n,i]=this._lightColor.toArray();this.uniforms.uLightColor[0]=o,this.uniforms.uLightColor[1]=n,this.uniforms.uLightColor[2]=i}get lightAlpha(){return this.uniforms.uLightAlpha}set lightAlpha(e){this.uniforms.uLightAlpha=e}get shadowColor(){return this._shadowColor.value}set shadowColor(e){this._shadowColor.setValue(e);const[o,n,i]=this._shadowColor.toArray();this.uniforms.uShadowColor[0]=o,this.uniforms.uShadowColor[1]=n,this.uniforms.uShadowColor[2]=i}get shadowAlpha(){return this.uniforms.uShadowAlpha}set shadowAlpha(e){this.uniforms.uShadowAlpha=e}_updateTransform(){this.uniforms.uTransform[0]=this.thickness*Math.cos(this._rotation),this.uniforms.uTransform[1]=this.thickness*Math.sin(this._rotation)}};wi(MC,"DEFAULT_OPTIONS",{rotation:45,thickness:2,lightColor:16777215,lightAlpha:.7,shadowColor:0,shadowAlpha:.7});var OC=Object.defineProperty,DC=(t,e,o)=>e in t?OC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,Kl=(t,e,o)=>(DC(t,typeof e!="symbol"?e+"":e,o),o);const BC=class ck extends s5{constructor(...e){let o=e[0]??{};if(typeof o=="number"||Array.isArray(o)||"x"in o&&"y"in o){$("6.0.0","BloomFilter constructor params are now options object. See params: { strength, quality, resolution, kernelSize }");let n=o;Array.isArray(n)&&(n={x:n[0],y:n[1]}),o={strength:n},e[1]!==void 0&&(o.quality=e[1]),e[2]!==void 0&&(o.resolution=e[2]),e[3]!==void 0&&(o.kernelSize=e[3])}o={...ck.DEFAULT_OPTIONS,...o},super(),Kl(this,"_blurXFilter"),Kl(this,"_blurYFilter"),Kl(this,"_strength"),this._strength={x:2,y:2},o.strength&&(typeof o.strength=="number"?(this._strength.x=o.strength,this._strength.y=o.strength):(this._strength.x=o.strength.x,this._strength.y=o.strength.y)),this._blurXFilter=new Yg({...o,horizontal:!0,strength:this.strengthX}),this._blurYFilter=new Yg({...o,horizontal:!1,strength:this.strengthY}),this._blurYFilter.blendMode="screen",Object.assign(this,o)}apply(e,o,n,i){const r=jt.getSameSizeTexture(o);e.applyFilter(this,o,n,i),this._blurXFilter.apply(e,o,r,!0),this._blurYFilter.apply(e,r,n,!1),jt.returnTexture(r)}get strength(){return this._strength}set strength(e){this._strength=typeof e=="number"?{x:e,y:e}:e,this._updateStrength()}get strengthX(){return this.strength.x}set strengthX(e){this.strength.x=e,this._updateStrength()}get strengthY(){return this.strength.y}set strengthY(e){this.strength.y=e,this._updateStrength()}_updateStrength(){this._blurXFilter.blur=this.strengthX,this._blurYFilter.blur=this.strengthY}get blur(){return $("6.0.0","BloomFilter.blur is deprecated, please use BloomFilter.strength instead"),this.strengthX}set blur(e){$("6.0.0","BloomFilter.blur is deprecated, please use BloomFilter.strength instead"),this.strength=e}get blurX(){return $("6.0.0","BloomFilter.blurX is deprecated, please use BloomFilter.strengthX instead"),this.strengthX}set blurX(e){$("6.0.0","BloomFilter.blurX is deprecated, please use BloomFilter.strengthX instead"),this.strengthX=e}get blurY(){return $("6.0.0","BloomFilter.blurY is deprecated, please use BloomFilter.strengthY instead"),this.strengthY}set blurY(e){$("6.0.0","BloomFilter.blurY is deprecated, please use BloomFilter.strengthY instead"),this.strengthY=e}};Kl(BC,"DEFAULT_OPTIONS",{strength:{x:2,y:2},quality:4,resolution:1,kernelSize:5});var GC=`precision highp float;
in vec2 vTextureCoord;
out vec4 finalColor;

uniform sampler2D uTexture;
uniform vec2 uDimensions;
uniform vec2 uCenter;
uniform float uRadius;
uniform float uStrength;

uniform vec4 uInputSize;
uniform vec4 uInputClamp;

void main()
{
    vec2 coord = vTextureCoord * uInputSize.xy;
    coord -= uCenter * uDimensions.xy;
    float distance = length(coord);

    if (distance < uRadius) {
        float percent = distance / uRadius;
        if (uStrength > 0.0) {
            coord *= mix(1.0, smoothstep(0.0, uRadius / distance, percent), uStrength * 0.75);
        } else {
            coord *= mix(1.0, pow(percent, 1.0 + uStrength * 0.75) * uRadius / distance, 1.0 - percent);
        }
    }

    coord += uCenter * uDimensions.xy;
    coord /= uInputSize.xy;
    vec2 clampedCoord = clamp(coord, uInputClamp.xy, uInputClamp.zw);
    vec4 color = texture(uTexture, clampedCoord);

    if (coord != clampedCoord) {
        color *= max(0.0, 1.0 - length(coord - clampedCoord));
    }

    finalColor = color;
}
`,UC=`struct BulgePinchUniforms {
  uDimensions: vec2<f32>,
  uCenter: vec2<f32>,
  uRadius: f32,
  uStrength: f32,
};

struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;

@group(0) @binding(1) var uTexture: texture_2d<f32>; 
@group(0) @binding(2) var uSampler: sampler;
@group(1) @binding(0) var<uniform> bulgePinchUniforms : BulgePinchUniforms;

@fragment
fn mainFragment(
  @builtin(position) position: vec4<f32>,
  @location(0) uv : vec2<f32>
) -> @location(0) vec4<f32> {
  let dimensions: vec2<f32> = bulgePinchUniforms.uDimensions;
  let center: vec2<f32> = bulgePinchUniforms.uCenter;
  let radius: f32 = bulgePinchUniforms.uRadius;
  let strength: f32 = bulgePinchUniforms.uStrength;
  var coord: vec2<f32> = (uv * gfu.uInputSize.xy) - center * dimensions.xy;

  let distance: f32 = length(coord);

  if (distance < radius) {
      let percent: f32 = distance / radius;
      if (strength > 0.0) {
          coord *= mix(1.0, smoothstep(0.0, radius / distance, percent), strength * 0.75);
      } else {
          coord *= mix(1.0, pow(percent, 1.0 + strength * 0.75) * radius / distance, 1.0 - percent);
      }
  }
    coord += (center * dimensions.xy);
    coord /= gfu.uInputSize.xy;

    let clampedCoord: vec2<f32> = clamp(coord, gfu.uInputClamp.xy, gfu.uInputClamp.zw);
    var color: vec4<f32> = textureSample(uTexture, uSampler, clampedCoord);
    if (coord.x != clampedCoord.x && coord.y != clampedCoord.y) {
        color *= max(0.0, 1.0 - length(coord - clampedCoord));
    }

    return color;
}

fn compareVec2(x: vec2<f32>, y: vec2<f32>) -> bool
{
  if (x.x == y.x && x.y == y.y)
  {
    return true;
  }

  return false;
}`,NC=Object.defineProperty,LC=(t,e,o)=>e in t?NC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,uk=(t,e,o)=>(LC(t,typeof e!="symbol"?e+"":e,o),o);const $C=class pk extends ie{constructor(e){e={...pk.DEFAULT_OPTIONS,...e};const o=te.from({vertex:{source:ce,entryPoint:"mainVertex"},fragment:{source:UC,entryPoint:"mainFragment"}}),n=oe.from({vertex:ae,fragment:GC,name:"bulge-pinch-filter"});super({gpuProgram:o,glProgram:n,resources:{bulgePinchUniforms:{uDimensions:{value:[0,0],type:"vec2<f32>"},uCenter:{value:e.center,type:"vec2<f32>"},uRadius:{value:e.radius,type:"f32"},uStrength:{value:e.strength,type:"f32"}}}}),uk(this,"uniforms"),this.uniforms=this.resources.bulgePinchUniforms.uniforms,Object.assign(this,e)}apply(e,o,n,i){this.uniforms.uDimensions[0]=o.frame.width,this.uniforms.uDimensions[1]=o.frame.height,e.applyFilter(this,o,n,i)}get center(){return this.uniforms.uCenter}set center(e){typeof e=="number"&&(e={x:e,y:e}),Array.isArray(e)&&(e={x:e[0],y:e[1]}),this.uniforms.uCenter=e}get centerX(){return this.uniforms.uCenter.x}set centerX(e){this.uniforms.uCenter.x=e}get centerY(){return this.uniforms.uCenter.y}set centerY(e){this.uniforms.uCenter.y=e}get radius(){return this.uniforms.uRadius}set radius(e){this.uniforms.uRadius=e}get strength(){return this.uniforms.uStrength}set strength(e){this.uniforms.uStrength=e}};uk($C,"DEFAULT_OPTIONS",{center:{x:.5,y:.5},radius:100,strength:1});var WC=`precision highp float;
in vec2 vTextureCoord;
in vec2 vFilterCoord;
out vec4 finalColor;

const int TYPE_LINEAR = 0;
const int TYPE_RADIAL = 1;
const int TYPE_CONIC = 2;
const int MAX_STOPS = 32;

uniform sampler2D uTexture;
uniform vec4 uOptions;
uniform vec2 uCounts;
uniform vec3 uColors[MAX_STOPS];
uniform vec4 uStops[MAX_STOPS];

const float PI = 3.1415926538;
const float PI_2 = PI*2.;

struct ColorStop {
    float offset;
    vec3 color;
    float alpha;
};

mat2 rotate2d(float angle){
    return mat2(cos(angle), -sin(angle),
    sin(angle), cos(angle));
}

float projectLinearPosition(vec2 pos, float angle){
    vec2 center = vec2(0.5);
    vec2 result = pos - center;
    result = rotate2d(angle) * result;
    result = result + center;
    return clamp(result.x, 0., 1.);
}

float projectRadialPosition(vec2 pos) {
    float r = distance(pos, vec2(0.5));
    return clamp(2.*r, 0., 1.);
}

float projectAnglePosition(vec2 pos, float angle) {
    vec2 center = pos - vec2(0.5);
    float polarAngle=atan(-center.y, center.x);
    return mod(polarAngle + angle, PI_2) / PI_2;
}

float projectPosition(vec2 pos, int type, float angle) {
    if (type == TYPE_LINEAR) {
        return projectLinearPosition(pos, angle);
    } else if (type == TYPE_RADIAL) {
        return projectRadialPosition(pos);
    } else if (type == TYPE_CONIC) {
        return projectAnglePosition(pos, angle);
    }

    return pos.y;
}

void main(void) {
    int uType = int(uOptions[0]);
    float uAngle = uOptions[1];
    float uAlpha = uOptions[2];
    float uReplace = uOptions[3];

    int uNumStops = int(uCounts[0]);
    float uMaxColors = uCounts[1];

    // current/original color
    vec4 currentColor = texture(uTexture, vTextureCoord);

    // skip calculations if gradient alpha is 0
    if (0.0 == uAlpha) {
        finalColor = currentColor;
        return;
    }

    // project position
    float y = projectPosition(vFilterCoord, int(uType), radians(uAngle));

    // check gradient bounds
    float offsetMin = uStops[0][0];
    float offsetMax = 0.0;

    int numStops = int(uNumStops);

    for (int i = 0; i < MAX_STOPS; i++) {
        if (i == numStops-1){ // last index
            offsetMax = uStops[i][0];
        }
    }

    if (y  < offsetMin || y > offsetMax) {
        finalColor = currentColor;
        return;
    }

    // limit colors
    if (uMaxColors > 0.) {
        float stepSize = 1./uMaxColors;
        float stepNumber = float(floor(y/stepSize));
        y = stepSize * (stepNumber + 0.5);// offset by 0.5 to use color from middle of segment
    }

    // find color stops
    ColorStop from;
    ColorStop to;

    for (int i = 0; i < MAX_STOPS; i++) {
        if (y >= uStops[i][0]) {
            from = ColorStop(uStops[i][0], uColors[i], uStops[i][1]);
            to = ColorStop(uStops[i+1][0], uColors[i+1], uStops[i+1][1]);
        }

        if (i == numStops-1){ // last index
            break;
        }
    }

    // mix colors from stops
    vec4 colorFrom = vec4(from.color * from.alpha, from.alpha);
    vec4 colorTo = vec4(to.color * to.alpha, to.alpha);

    float segmentHeight = to.offset - from.offset;
    float relativePos = y - from.offset;// position from 0 to [segmentHeight]
    float relativePercent = relativePos / segmentHeight;// position in percent between [from.offset] and [to.offset].

    float gradientAlpha = uAlpha * currentColor.a;
    vec4 gradientColor = mix(colorFrom, colorTo, relativePercent) * gradientAlpha;

    if (uReplace < 0.5) {
        // mix resulting color with current color
        finalColor = gradientColor + currentColor*(1.-gradientColor.a);
    } else {
        // replace with gradient color
        finalColor = gradientColor;
    }
}
`,HC=`in vec2 aPosition;
out vec2 vTextureCoord;
out vec2 vFilterCoord;

uniform vec4 uInputSize;
uniform vec4 uOutputFrame;
uniform vec4 uOutputTexture;

vec4 filterVertexPosition( void )
{
    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;
    
    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aPosition * (uOutputFrame.zw * uInputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
    vFilterCoord = vTextureCoord * uInputSize.xy / uOutputFrame.zw;
}
`,l0=`struct BaseUniforms {
  uOptions: vec4<f32>,
  uCounts: vec2<f32>,
};

struct StopsUniforms {
  uColors: array<vec3<f32>, MAX_STOPS>,
  uStops: array<vec4<f32>, MAX_STOPS>,
};

struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;

@group(0) @binding(1) var uTexture: texture_2d<f32>; 
@group(0) @binding(2) var uSampler: sampler;
@group(1) @binding(0) var<uniform> baseUniforms : BaseUniforms;
@group(1) @binding(1) var<uniform> stopsUniforms : StopsUniforms;

struct VSOutput {
  @builtin(position) position: vec4<f32>,
  @location(0) uv : vec2<f32>,
  @location(1) coord : vec2<f32>
};

fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

fn filterCoord( vTextureCoord:vec2<f32> ) -> vec2<f32>
{
    return vTextureCoord * gfu.uInputSize.xy / gfu.uOutputFrame.zw;
}

fn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  
}

fn getSize() -> vec2<f32>
{
  return gfu.uGlobalFrame.zw;
}
  
@vertex
fn mainVertex(
  @location(0) aPosition : vec2<f32>, 
) -> VSOutput {
  let vTextureCoord: vec2<f32> = filterTextureCoord(aPosition);
  return VSOutput(
   filterVertexPosition(aPosition),
   vTextureCoord,
   filterCoord(vTextureCoord),
  );
}

struct ColorStop {
  offset: f32,
  color: vec3<f32>,
  alpha: f32,
};

fn rotate2d(angle: f32) -> mat2x2<f32>{
  return mat2x2(cos(angle), -sin(angle),
  sin(angle), cos(angle));
}

fn projectLinearPosition(pos: vec2<f32>, angle: f32) -> f32 {
  var center: vec2<f32> = vec2<f32>(0.5);
  var result: vec2<f32> = pos - center;
  result = rotate2d(angle) * result;
  result = result + center;
  return clamp(result.x, 0.0, 1.0);
}

fn projectRadialPosition(pos: vec2<f32>) -> f32 {
  var r: f32 = distance(pos, vec2<f32>(0.5));
  return clamp(2.0 * r, 0.0, 1.0);
}

fn projectAnglePosition(pos: vec2<f32>, angle: f32) -> f32 {
  var center: vec2<f32> = pos - vec2<f32>(0.5, 0.5);
  var polarAngle: f32 = atan2(-center.y, center.x);
  return ((polarAngle + angle) % PI_2) / PI_2;
}

fn projectPosition(pos: vec2<f32>, gradientType: i32, angle: f32) -> f32 {
  if (gradientType == TYPE_LINEAR) {
      return projectLinearPosition(pos, angle);
  } else if (gradientType == TYPE_RADIAL) {
      return projectRadialPosition(pos);
  } else if (gradientType == TYPE_CONIC) {
      return projectAnglePosition(pos, angle);
  }

  return pos.y;
}

@fragment
fn mainFragment(
  @builtin(position) position: vec4<f32>,
  @location(0) uv : vec2<f32>,
  @location(1) coord : vec2<f32>
) -> @location(0) vec4<f32> {
  let uType: i32 = i32(baseUniforms.uOptions[0]);
  let uAngle: f32 = baseUniforms.uOptions[1];
  let uAlpha: f32 = baseUniforms.uOptions[2];
  let uReplace: f32 = baseUniforms.uOptions[3];

  let uNumStops: i32 = i32(baseUniforms.uCounts[0]);
  let uMaxColors: f32 = baseUniforms.uCounts[1];

  // current/original color
  var currentColor: vec4<f32> = textureSample(uTexture, uSampler, uv);

  // skip calculations if gradient alpha is 0
  if (uAlpha == 0.0) { return currentColor; }

  // project position
  var y: f32 = projectPosition(coord, uType, radians(uAngle));

  // check gradient bounds
  var offsetMin: f32 = stopsUniforms.uStops[0][0];
  var offsetMax: f32 = 0.0;

  let numStops: i32 = uNumStops;

  for (var i: i32 = 0; i < MAX_STOPS; i = i + 1) {
      if (i == numStops - 1) { // last index
          offsetMax = stopsUniforms.uStops[i][0];
      }
  }

  if (y  < offsetMin || y > offsetMax) { return currentColor; }

  // limit colors
  if (uMaxColors > 0.0) {
      var stepSize: f32 = 1.0 / uMaxColors;
      var stepNumber: f32 = floor(y / stepSize);
      y = stepSize * (stepNumber + 0.5); // offset by 0.5 to use color from middle of segment
  }

  // find color stops
  var stopFrom: ColorStop;
  var stopTo: ColorStop;

  for (var i: i32 = 0; i < MAX_STOPS; i = i + 1) {
      if (y >= stopsUniforms.uStops[i][0]) {
          stopFrom = ColorStop(stopsUniforms.uStops[i][0], stopsUniforms.uColors[i], stopsUniforms.uStops[i][1]);
          stopTo = ColorStop(stopsUniforms.uStops[i + 1][0], stopsUniforms.uColors[i + 1], stopsUniforms.uStops[i + 1][1]);
      }

      if (i == numStops - 1) { // last index
          break;
      }
  }

  // mix colors from stops
  var colorFrom: vec4<f32> = vec4<f32>(stopFrom.color * stopFrom.alpha, stopFrom.alpha);
  var colorTo: vec4<f32> = vec4<f32>(stopTo.color * stopTo.alpha, stopTo.alpha);

  var segmentHeight: f32 = stopTo.offset - stopFrom.offset;
  var relativePos: f32 = y - stopFrom.offset; // position from 0 to [segmentHeight]
  var relativePercent: f32 = relativePos / segmentHeight; // position in percent between [from.offset] and [to.offset].

  var gradientAlpha: f32 = uAlpha * currentColor.a;
  var gradientColor: vec4<f32> = mix(colorFrom, colorTo, relativePercent) * gradientAlpha;

  if (uReplace < 0.5) {
      // mix resulting color with current color
      return gradientColor + currentColor * (1.0 - gradientColor.a);
  } else {
      // replace with gradient color
      return gradientColor;
  }
}

const PI: f32 = 3.14159265358979323846264;
const PI_2: f32 = PI * 2.0;

const TYPE_LINEAR: i32 = 0;
const TYPE_RADIAL: i32 = 1;
const TYPE_CONIC: i32 = 2;
const MAX_STOPS: i32 = 32;`,li=li||{};li.stringify=function(){var t={"visit_linear-gradient":function(e){return t.visit_gradient(e)},"visit_repeating-linear-gradient":function(e){return t.visit_gradient(e)},"visit_radial-gradient":function(e){return t.visit_gradient(e)},"visit_repeating-radial-gradient":function(e){return t.visit_gradient(e)},visit_gradient:function(e){var o=t.visit(e.orientation);return o&&(o+=", "),e.type+"("+o+t.visit(e.colorStops)+")"},visit_shape:function(e){var o=e.value,n=t.visit(e.at),i=t.visit(e.style);return i&&(o+=" "+i),n&&(o+=" at "+n),o},"visit_default-radial":function(e){var o="",n=t.visit(e.at);return n&&(o+=n),o},"visit_extent-keyword":function(e){var o=e.value,n=t.visit(e.at);return n&&(o+=" at "+n),o},"visit_position-keyword":function(e){return e.value},visit_position:function(e){return t.visit(e.value.x)+" "+t.visit(e.value.y)},"visit_%":function(e){return e.value+"%"},visit_em:function(e){return e.value+"em"},visit_px:function(e){return e.value+"px"},visit_literal:function(e){return t.visit_color(e.value,e)},visit_hex:function(e){return t.visit_color("#"+e.value,e)},visit_rgb:function(e){return t.visit_color("rgb("+e.value.join(", ")+")",e)},visit_rgba:function(e){return t.visit_color("rgba("+e.value.join(", ")+")",e)},visit_color:function(e,o){var n=e,i=t.visit(o.length);return i&&(n+=" "+i),n},visit_angular:function(e){return e.value+"deg"},visit_directional:function(e){return"to "+e.value},visit_array:function(e){var o="",n=e.length;return e.forEach(function(i,r){o+=t.visit(i),r<n-1&&(o+=", ")}),o},visit:function(e){if(!e)return"";var o="";if(e instanceof Array)return t.visit_array(e,o);if(e.type){var n=t["visit_"+e.type];if(n)return n(e);throw Error("Missing visitor visit_"+e.type)}else throw Error("Invalid node.")}};return function(e){return t.visit(e)}}();var li=li||{};li.parse=function(){var t={linearGradient:/^(\-(webkit|o|ms|moz)\-)?(linear\-gradient)/i,repeatingLinearGradient:/^(\-(webkit|o|ms|moz)\-)?(repeating\-linear\-gradient)/i,radialGradient:/^(\-(webkit|o|ms|moz)\-)?(radial\-gradient)/i,repeatingRadialGradient:/^(\-(webkit|o|ms|moz)\-)?(repeating\-radial\-gradient)/i,sideOrCorner:/^to (left (top|bottom)|right (top|bottom)|left|right|top|bottom)/i,extentKeywords:/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,positionKeywords:/^(left|center|right|top|bottom)/i,pixelValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,percentageValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,emValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,angleValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,startCall:/^\(/,endCall:/^\)/,comma:/^,/,hexColor:/^\#([0-9a-fA-F]+)/,literalColor:/^([a-zA-Z]+)/,rgbColor:/^rgb/i,rgbaColor:/^rgba/i,number:/^(([0-9]*\.[0-9]+)|([0-9]+\.?))/},e="";function o(F){var Z=new Error(e+": "+F);throw Z.source=e,Z}function n(){var F=i();return e.length>0&&o("Invalid input not EOF"),F}function i(){return k(r)}function r(){return s("linear-gradient",t.linearGradient,a)||s("repeating-linear-gradient",t.repeatingLinearGradient,a)||s("radial-gradient",t.radialGradient,p)||s("repeating-radial-gradient",t.repeatingRadialGradient,p)}function s(F,Z,A){return l(Z,function(T){var Q=A();return Q&&(W(t.comma)||o("Missing comma before color stops")),{type:F,orientation:Q,colorStops:k(w)}})}function l(F,Z){var A=W(F);if(A){W(t.startCall)||o("Missing (");var T=Z(A);return W(t.endCall)||o("Missing )"),T}}function a(){return c()||u()}function c(){return j("directional",t.sideOrCorner,1)}function u(){return j("angular",t.angleValue,1)}function p(){var F,Z=y(),A;return Z&&(F=[],F.push(Z),A=e,W(t.comma)&&(Z=y(),Z?F.push(Z):e=A)),F}function y(){var F=d()||g();if(F)F.at=b();else{var Z=f();if(Z){F=Z;var A=b();A&&(F.at=A)}else{var T=h();T&&(F={type:"default-radial",at:T})}}return F}function d(){var F=j("shape",/^(circle)/i,0);return F&&(F.style=M()||f()),F}function g(){var F=j("shape",/^(ellipse)/i,0);return F&&(F.style=D()||f()),F}function f(){return j("extent-keyword",t.extentKeywords,1)}function b(){if(j("position",/^at/,0)){var F=h();return F||o("Missing positioning value"),F}}function h(){var F=m();if(F.x||F.y)return{type:"position",value:F}}function m(){return{x:D(),y:D()}}function k(F){var Z=F(),A=[];if(Z)for(A.push(Z);W(t.comma);)Z=F(),Z?A.push(Z):o("One extra comma");return A}function w(){var F=v();return F||o("Expected color definition"),F.length=D(),F}function v(){return z()||C()||S()||E()}function E(){return j("literal",t.literalColor,0)}function z(){return j("hex",t.hexColor,1)}function S(){return l(t.rgbColor,function(){return{type:"rgb",value:k(_)}})}function C(){return l(t.rgbaColor,function(){return{type:"rgba",value:k(_)}})}function _(){return W(t.number)[1]}function D(){return j("%",t.percentageValue,1)||B()||M()}function B(){return j("position-keyword",t.positionKeywords,1)}function M(){return j("px",t.pixelValue,1)||j("em",t.emValue,1)}function j(F,Z,A){var T=W(Z);if(T)return{type:F,value:T[A]}}function W(F){var Z,A;return A=/^[\n\r\t\s]+/.exec(e),A&&H(A[0].length),Z=F.exec(e),Z&&H(Z[0].length),Z}function H(F){e=e.substr(F)}return function(F){return e=F.toString(),n()}}();var XC=li.parse;li.stringify;function VC(t){const e=XC(o7(t));if(e.length===0)throw new Error("Invalid CSS gradient.");if(e.length!==1)throw new Error("Unsupported CSS gradient (multiple gradients is not supported).");const o=e[0],n=qC(o.type),i=YC(o.colorStops),r=e7(o.orientation);return{type:n,stops:i,angle:r}}function qC(t){const e={"linear-gradient":0,"radial-gradient":1};if(!(t in e))throw new Error(`Unsupported gradient type "${t}"`);return e[t]}function YC(t){const e=QC(t),o=[],n=new K;for(let i=0;i<t.length;i++){const r=KC(t[i]),s=n.setValue(r).toArray();o.push({offset:e[i],color:s.slice(0,3),alpha:s[3]})}return o}function KC(t){switch(t.type){case"hex":return`#${t.value}`;case"literal":return t.value;default:return`${t.type}(${t.value.join(",")})`}}function QC(t){const e=[];for(let r=0;r<t.length;r++){const s=t[r];let l=-1;s.type==="literal"&&s.length&&"type"in s.length&&s.length.type==="%"&&"value"in s.length&&(l=parseFloat(s.length.value)/100),e.push(l)}const n=r=>{for(let s=r;s<e.length;s++)if(e[s]!==-1)return{indexDelta:s-r,offset:e[s]};return{indexDelta:e.length-1-r,offset:1}};let i=0;for(let r=0;r<e.length;r++){const s=e[r];if(s!==-1)i=s;else if(r===0)e[r]=0;else if(r+1===e.length)e[r]=1;else{const l=n(r),c=(l.offset-i)/(1+l.indexDelta);for(let u=0;u<=l.indexDelta;u++)e[r+u]=i+(u+1)*c;r+=l.indexDelta,i=e[r]}}return e.map(JC)}function JC(t){return t.toString().length>6?parseFloat(t.toString().substring(0,6)):t}function e7(t){if(typeof t>"u")return 0;if("type"in t&&"value"in t)switch(t.type){case"angular":return parseFloat(t.value);case"directional":return t7(t.value)}return 0}function t7(t){const e={left:270,top:0,bottom:180,right:90,"left top":315,"top left":315,"left bottom":225,"bottom left":225,"right top":45,"top right":45,"right bottom":135,"bottom right":135};if(!(t in e))throw new Error(`Unsupported directional value "${t}"`);return e[t]}function o7(t){let e=t.replace(/\s{2,}/gu," ");return e=e.replace(/;/g,""),e=e.replace(/ ,/g,","),e=e.replace(/\( /g,"("),e=e.replace(/ \)/g,")"),e.trim()}var n7=Object.defineProperty,i7=(t,e,o)=>e in t?n7(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,Nn=(t,e,o)=>(i7(t,typeof e!="symbol"?e+"":e,o),o);const ju=90;function r7(t){return[...t].sort((e,o)=>e.offset-o.offset)}const Ps=class Ql extends ie{constructor(e){if(e&&"css"in e?e={...VC(e.css||""),alpha:e.alpha??Ql.defaults.alpha,maxColors:e.maxColors??Ql.defaults.maxColors}:e={...Ql.defaults,...e},!e.stops||e.stops.length<2)throw new Error("ColorGradientFilter requires at least 2 color stops.");const o=te.from({vertex:{source:l0,entryPoint:"mainVertex"},fragment:{source:l0,entryPoint:"mainFragment"}}),n=oe.from({vertex:HC,fragment:WC,name:"color-gradient-filter"}),i=32;super({gpuProgram:o,glProgram:n,resources:{baseUniforms:{uOptions:{value:[e.type,e.angle??ju,e.alpha,e.replace?1:0],type:"vec4<f32>"},uCounts:{value:[e.stops.length,e.maxColors],type:"vec2<f32>"}},stopsUniforms:{uColors:{value:new Float32Array(i*3),type:"vec3<f32>",size:i},uStops:{value:new Float32Array(i*4),type:"vec4<f32>",size:i}}}}),Nn(this,"baseUniforms"),Nn(this,"stopsUniforms"),Nn(this,"_stops",[]),this.baseUniforms=this.resources.baseUniforms.uniforms,this.stopsUniforms=this.resources.stopsUniforms.uniforms,Object.assign(this,e)}get stops(){return this._stops}set stops(e){const o=r7(e),n=new K;let i,r,s;for(let l=0;l<o.length;l++){n.setValue(o[l].color);const a=l*3;[i,r,s]=n.toArray(),this.stopsUniforms.uColors[a]=i,this.stopsUniforms.uColors[a+1]=r,this.stopsUniforms.uColors[a+2]=s,this.stopsUniforms.uStops[l*4]=o[l].offset,this.stopsUniforms.uStops[l*4+1]=o[l].alpha}this.baseUniforms.uCounts[0]=o.length,this._stops=o}get type(){return this.baseUniforms.uOptions[0]}set type(e){this.baseUniforms.uOptions[0]=e}get angle(){return this.baseUniforms.uOptions[1]+ju}set angle(e){this.baseUniforms.uOptions[1]=e-ju}get alpha(){return this.baseUniforms.uOptions[2]}set alpha(e){this.baseUniforms.uOptions[2]=e}get maxColors(){return this.baseUniforms.uCounts[1]}set maxColors(e){this.baseUniforms.uCounts[1]=e}get replace(){return this.baseUniforms.uOptions[3]>.5}set replace(e){this.baseUniforms.uOptions[3]=e?1:0}};Nn(Ps,"LINEAR",0);Nn(Ps,"RADIAL",1);Nn(Ps,"CONIC",2);Nn(Ps,"defaults",{type:Ps.LINEAR,stops:[{offset:0,color:16711680,alpha:1},{offset:1,color:255,alpha:1}],alpha:1,angle:90,maxColors:0,replace:!1});var s7=`in vec2 vTextureCoord;
out vec4 finalColor;

uniform sampler2D uTexture;
uniform sampler2D uMapTexture;
uniform float uMix;
uniform float uSize;
uniform float uSliceSize;
uniform float uSlicePixelSize;
uniform float uSliceInnerSize;

void main() {
    vec4 color = texture(uTexture, vTextureCoord.xy);
    vec4 adjusted;

    if (color.a > 0.0) {
        color.rgb /= color.a;
        float innerWidth = uSize - 1.0;
        float zSlice0 = min(floor(color.b * innerWidth), innerWidth);
        float zSlice1 = min(zSlice0 + 1.0, innerWidth);
        float xOffset = uSlicePixelSize * 0.5 + color.r * uSliceInnerSize;
        float s0 = xOffset + (zSlice0 * uSliceSize);
        float s1 = xOffset + (zSlice1 * uSliceSize);
        float yOffset = uSliceSize * 0.5 + color.g * (1.0 - uSliceSize);
        vec4 slice0Color = texture(uMapTexture, vec2(s0,yOffset));
        vec4 slice1Color = texture(uMapTexture, vec2(s1,yOffset));
        float zOffset = fract(color.b * innerWidth);
        adjusted = mix(slice0Color, slice1Color, zOffset);

        color.rgb *= color.a;
    }

    finalColor = vec4(mix(color, adjusted, uMix).rgb, color.a);

}`,l7=`struct ColorMapUniforms {
  uMix: f32,
  uSize: f32,
  uSliceSize: f32,
  uSlicePixelSize: f32,
  uSliceInnerSize: f32,
};

@group(0) @binding(1) var uTexture: texture_2d<f32>; 
@group(0) @binding(2) var uSampler: sampler;
@group(1) @binding(0) var<uniform> colorMapUniforms : ColorMapUniforms;
@group(1) @binding(1) var uMapTexture: texture_2d<f32>;
@group(1) @binding(2) var uMapSampler: sampler;

@fragment
fn mainFragment(
  @builtin(position) position: vec4<f32>,
  @location(0) uv : vec2<f32>
) -> @location(0) vec4<f32> {
  var color:vec4<f32> = textureSample(uTexture, uSampler, uv);

  var adjusted: vec4<f32>;

  var altColor: vec4<f32> = vec4<f32>(color.rgb / color.a, color.a);
  let innerWidth: f32 = colorMapUniforms.uSize - 1.0;
  let zSlice0: f32 = min(floor(color.b * innerWidth), innerWidth);
  let zSlice1: f32 = min(zSlice0 + 1.0, innerWidth);
  let xOffset: f32 = colorMapUniforms.uSlicePixelSize * 0.5 + color.r * colorMapUniforms.uSliceInnerSize;
  let s0: f32 = xOffset + (zSlice0 * colorMapUniforms.uSliceSize);
  let s1: f32 = xOffset + (zSlice1 * colorMapUniforms.uSliceSize);
  let yOffset: f32 = colorMapUniforms.uSliceSize * 0.5 + color.g * (1.0 - colorMapUniforms.uSliceSize);
  let slice0Color: vec4<f32> = textureSample(uMapTexture, uMapSampler, vec2(s0,yOffset));
  let slice1Color: vec4<f32> = textureSample(uMapTexture, uMapSampler, vec2(s1,yOffset));
  let zOffset: f32 = fract(color.b * innerWidth);
  adjusted = mix(slice0Color, slice1Color, zOffset);
  altColor = vec4<f32>(color.rgb * color.a, color.a);

  let realColor: vec4<f32> = select(color, altColor, color.a > 0.0);

  return vec4<f32>(mix(realColor, adjusted, colorMapUniforms.uMix).rgb, realColor.a);
}`,a7=Object.defineProperty,c7=(t,e,o)=>e in t?a7(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,ko=(t,e,o)=>(c7(t,typeof e!="symbol"?e+"":e,o),o);const u7=class yk extends ie{constructor(...e){let o=e[0]??{};if((o instanceof q||o instanceof ft)&&($("6.0.0","ColorMapFilter constructor params are now options object. See params: { colorMap, nearest, mix }"),o={colorMap:o},e[1]!==void 0&&(o.nearest=e[1]),e[2]!==void 0&&(o.mix=e[2])),o={...yk.DEFAULT_OPTIONS,...o},!o.colorMap)throw Error("No color map texture source was provided to ColorMapFilter");const n=te.from({vertex:{source:ce,entryPoint:"mainVertex"},fragment:{source:l7,entryPoint:"mainFragment"}}),i=oe.from({vertex:ae,fragment:s7,name:"color-map-filter"});super({gpuProgram:n,glProgram:i,resources:{colorMapUniforms:{uMix:{value:o.mix,type:"f32"},uSize:{value:0,type:"f32"},uSliceSize:{value:0,type:"f32"},uSlicePixelSize:{value:0,type:"f32"},uSliceInnerSize:{value:0,type:"f32"}},uMapTexture:o.colorMap.source,uMapSampler:o.colorMap.source.style}}),ko(this,"uniforms"),ko(this,"_size",0),ko(this,"_sliceSize",0),ko(this,"_slicePixelSize",0),ko(this,"_sliceInnerSize",0),ko(this,"_nearest",!1),ko(this,"_scaleMode","linear"),ko(this,"_colorMap"),this.uniforms=this.resources.colorMapUniforms.uniforms,Object.assign(this,o)}get mix(){return this.uniforms.uMix}set mix(e){this.uniforms.uMix=e}get colorSize(){return this._size}get colorMap(){return this._colorMap}set colorMap(e){if(!e||e===this.colorMap)return;const o=e instanceof q?e.source:e;o.style.scaleMode=this._scaleMode,o.autoGenerateMipmaps=!1,this._size=o.height,this._sliceSize=1/this._size,this._slicePixelSize=this._sliceSize/this._size,this._sliceInnerSize=this._slicePixelSize*(this._size-1),this.uniforms.uSize=this._size,this.uniforms.uSliceSize=this._sliceSize,this.uniforms.uSlicePixelSize=this._slicePixelSize,this.uniforms.uSliceInnerSize=this._sliceInnerSize,this.resources.uMapTexture=o,this._colorMap=e}get nearest(){return this._nearest}set nearest(e){this._nearest=e,this._scaleMode=e?"nearest":"linear";const o=this._colorMap;o&&o.source&&(o.source.scaleMode=this._scaleMode,o.source.autoGenerateMipmaps=!1,o.source.style.update(),o.source.update())}updateColorMap(){const e=this._colorMap;e?.source&&(e.source.update(),this.colorMap=e)}destroy(){this._colorMap?.destroy(),super.destroy()}};ko(u7,"DEFAULT_OPTIONS",{colorMap:q.WHITE,nearest:!1,mix:1});var p7=`in vec2 vTextureCoord;
out vec4 finalColor;

uniform sampler2D uTexture;
uniform vec3 uColor;
uniform float uAlpha;

void main(void) {
    vec4 c = texture(uTexture, vTextureCoord);
    finalColor = vec4(mix(c.rgb, uColor.rgb, c.a * uAlpha), c.a);
}
`,y7=`struct ColorOverlayUniforms {
    uColor: vec3<f32>,
    uAlpha: f32,
};

@group(0) @binding(1) var uTexture: texture_2d<f32>; 
@group(0) @binding(2) var uSampler: sampler;
@group(1) @binding(0) var<uniform> colorOverlayUniforms : ColorOverlayUniforms;

@fragment
fn mainFragment(
    @builtin(position) position: vec4<f32>,
    @location(0) uv : vec2<f32>
) -> @location(0) vec4<f32> {
    let c = textureSample(uTexture, uSampler, uv);
    return vec4<f32>(mix(c.rgb, colorOverlayUniforms.uColor.rgb, c.a * colorOverlayUniforms.uAlpha), c.a);
}
`,d7=Object.defineProperty,f7=(t,e,o)=>e in t?d7(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,by=(t,e,o)=>(f7(t,typeof e!="symbol"?e+"":e,o),o);const h7=class dk extends ie{constructor(...e){let o=e[0]??{};(typeof o=="number"||Array.isArray(o)||o instanceof Float32Array)&&($("6.0.0","ColorOverlayFilter constructor params are now options object. See params: { color, alpha }"),o={color:o},e[1]!==void 0&&(o.alpha=e[1])),o={...dk.DEFAULT_OPTIONS,...o};const n=te.from({vertex:{source:ce,entryPoint:"mainVertex"},fragment:{source:y7,entryPoint:"mainFragment"}}),i=oe.from({vertex:ae,fragment:p7,name:"color-overlay-filter"});super({gpuProgram:n,glProgram:i,resources:{colorOverlayUniforms:{uColor:{value:new Float32Array(3),type:"vec3<f32>"},uAlpha:{value:o.alpha,type:"f32"}}}}),by(this,"uniforms"),by(this,"_color"),this.uniforms=this.resources.colorOverlayUniforms.uniforms,this._color=new K,this.color=o.color??0}get color(){return this._color.value}set color(e){this._color.setValue(e);const[o,n,i]=this._color.toArray();this.uniforms.uColor[0]=o,this.uniforms.uColor[1]=n,this.uniforms.uColor[2]=i}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}};by(h7,"DEFAULT_OPTIONS",{color:0,alpha:1});var g7=`in vec2 vTextureCoord;
out vec4 finalColor;

uniform sampler2D uTexture;
uniform vec3 uOriginalColor;
uniform vec3 uTargetColor;
uniform float uTolerance;

void main(void) {
    vec4 c = texture(uTexture, vTextureCoord);
    vec3 colorDiff = uOriginalColor - (c.rgb / max(c.a, 0.0000000001));
    float colorDistance = length(colorDiff);
    float doReplace = step(colorDistance, uTolerance);
    finalColor = vec4(mix(c.rgb, (uTargetColor + colorDiff) * c.a, doReplace), c.a);
}
`,m7=`struct ColorReplaceUniforms {
  uOriginalColor: vec3<f32>,
  uTargetColor: vec3<f32>,
  uTolerance: f32,
};

@group(0) @binding(1) var uTexture: texture_2d<f32>; 
@group(0) @binding(2) var uSampler: sampler;
@group(1) @binding(0) var<uniform> colorReplaceUniforms : ColorReplaceUniforms;

@fragment
fn mainFragment(
   @builtin(position) position: vec4<f32>,
    @location(0) uv : vec2<f32>
) -> @location(0) vec4<f32> {
  let sample: vec4<f32> = textureSample(uTexture, uSampler, uv);

  let colorDiff: vec3<f32> = colorReplaceUniforms.uOriginalColor - (sample.rgb / max(sample.a, 0.0000000001));
  let colorDistance: f32 = length(colorDiff);
  let doReplace: f32 = step(colorDistance, colorReplaceUniforms.uTolerance);

  return vec4<f32>(mix(sample.rgb, (colorReplaceUniforms.uTargetColor + colorDiff) * sample.a, doReplace), sample.a);
}`,b7=Object.defineProperty,x7=(t,e,o)=>e in t?b7(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,Jl=(t,e,o)=>(x7(t,typeof e!="symbol"?e+"":e,o),o);const fk=class hk extends ie{constructor(...e){let o=e[0]??{};(typeof o=="number"||Array.isArray(o)||o instanceof Float32Array)&&($("6.0.0","ColorReplaceFilter constructor params are now options object. See params: { originalColor, targetColor, tolerance }"),o={originalColor:o},e[1]!==void 0&&(o.targetColor=e[1]),e[2]!==void 0&&(o.tolerance=e[2])),o={...hk.DEFAULT_OPTIONS,...o};const n=te.from({vertex:{source:ce,entryPoint:"mainVertex"},fragment:{source:m7,entryPoint:"mainFragment"}}),i=oe.from({vertex:ae,fragment:g7,name:"color-replace-filter"});super({gpuProgram:n,glProgram:i,resources:{colorReplaceUniforms:{uOriginalColor:{value:new Float32Array(3),type:"vec3<f32>"},uTargetColor:{value:new Float32Array(3),type:"vec3<f32>"},uTolerance:{value:o.tolerance,type:"f32"}}}}),Jl(this,"uniforms"),Jl(this,"_originalColor"),Jl(this,"_targetColor"),this.uniforms=this.resources.colorReplaceUniforms.uniforms,this._originalColor=new K,this._targetColor=new K,this.originalColor=o.originalColor??16711680,this.targetColor=o.targetColor??0,Object.assign(this,o)}get originalColor(){return this._originalColor.value}set originalColor(e){this._originalColor.setValue(e);const[o,n,i]=this._originalColor.toArray();this.uniforms.uOriginalColor[0]=o,this.uniforms.uOriginalColor[1]=n,this.uniforms.uOriginalColor[2]=i}get targetColor(){return this._targetColor.value}set targetColor(e){this._targetColor.setValue(e);const[o,n,i]=this._targetColor.toArray();this.uniforms.uTargetColor[0]=o,this.uniforms.uTargetColor[1]=n,this.uniforms.uTargetColor[2]=i}get tolerance(){return this.uniforms.uTolerance}set tolerance(e){this.uniforms.uTolerance=e}set newColor(e){$("6.0.0","ColorReplaceFilter.newColor is deprecated, please use ColorReplaceFilter.targetColor instead"),this.targetColor=e}get newColor(){return $("6.0.0","ColorReplaceFilter.newColor is deprecated, please use ColorReplaceFilter.targetColor instead"),this.targetColor}set epsilon(e){$("6.0.0","ColorReplaceFilter.epsilon is deprecated, please use ColorReplaceFilter.tolerance instead"),this.tolerance=e}get epsilon(){return $("6.0.0","ColorReplaceFilter.epsilon is deprecated, please use ColorReplaceFilter.tolerance instead"),this.tolerance}};Jl(fk,"DEFAULT_OPTIONS",{originalColor:16711680,targetColor:0,tolerance:.4});let a0=fk;var k7=`in vec2 vTextureCoord;
out vec4 finalColor;

uniform sampler2D uTexture;
uniform vec2 uTexelSize;
uniform mat3 uMatrix;

void main(void)
{
    vec4 c11 = texture(uTexture, vTextureCoord - uTexelSize); // top left
    vec4 c12 = texture(uTexture, vec2(vTextureCoord.x, vTextureCoord.y - uTexelSize.y)); // top center
    vec4 c13 = texture(uTexture, vec2(vTextureCoord.x + uTexelSize.x, vTextureCoord.y - uTexelSize.y)); // top right

    vec4 c21 = texture(uTexture, vec2(vTextureCoord.x - uTexelSize.x, vTextureCoord.y)); // mid left
    vec4 c22 = texture(uTexture, vTextureCoord); // mid center
    vec4 c23 = texture(uTexture, vec2(vTextureCoord.x + uTexelSize.x, vTextureCoord.y)); // mid right

    vec4 c31 = texture(uTexture, vec2(vTextureCoord.x - uTexelSize.x, vTextureCoord.y + uTexelSize.y)); // bottom left
    vec4 c32 = texture(uTexture, vec2(vTextureCoord.x, vTextureCoord.y + uTexelSize.y)); // bottom center
    vec4 c33 = texture(uTexture, vTextureCoord + uTexelSize); // bottom right

    finalColor =
        c11 * uMatrix[0][0] + c12 * uMatrix[0][1] + c13 * uMatrix[0][2] +
        c21 * uMatrix[1][0] + c22 * uMatrix[1][1] + c23 * uMatrix[1][2] +
        c31 * uMatrix[2][0] + c32 * uMatrix[2][1] + c33 * uMatrix[2][2];

    finalColor.a = c22.a;
}`,w7=`struct ConvolutionUniforms {
    uMatrix: mat3x3<f32>,
    uTexelSize: vec2<f32>,
};

@group(0) @binding(1) var uTexture: texture_2d<f32>; 
@group(0) @binding(2) var uSampler: sampler;
@group(1) @binding(0) var<uniform> convolutionUniforms : ConvolutionUniforms;

@fragment
fn mainFragment(
    @location(0) uv: vec2<f32>,
    @builtin(position) position: vec4<f32>
) -> @location(0) vec4<f32> {
    let texelSize = convolutionUniforms.uTexelSize;
    let matrix = convolutionUniforms.uMatrix;

    let c11: vec4<f32> = textureSample(uTexture, uSampler, uv - texelSize); // top left
    let c12: vec4<f32> = textureSample(uTexture, uSampler, vec2<f32>(uv.x, uv.y - texelSize.y)); // top center
    let c13: vec4<f32> = textureSample(uTexture, uSampler, vec2<f32>(uv.x + texelSize.x, uv.y - texelSize.y)); // top right

    let c21: vec4<f32> = textureSample(uTexture, uSampler, vec2<f32>(uv.x - texelSize.x, uv.y)); // mid left
    let c22: vec4<f32> = textureSample(uTexture, uSampler, uv); // mid center
    let c23: vec4<f32> = textureSample(uTexture, uSampler, vec2<f32>(uv.x + texelSize.x, uv.y)); // mid right

    let c31: vec4<f32> = textureSample(uTexture, uSampler, vec2<f32>(uv.x - texelSize.x, uv.y + texelSize.y)); // bottom left
    let c32: vec4<f32> = textureSample(uTexture, uSampler, vec2<f32>(uv.x, uv.y + texelSize.y)); // bottom center
    let c33: vec4<f32> = textureSample(uTexture, uSampler, uv + texelSize); // bottom right

    var finalColor: vec4<f32> = vec4<f32>(
        c11 * matrix[0][0] + c12 * matrix[0][1] + c13 * matrix[0][2] +
        c21 * matrix[1][0] + c22 * matrix[1][1] + c23 * matrix[1][2] +
        c31 * matrix[2][0] + c32 * matrix[2][1] + c33 * matrix[2][2]
    );

    finalColor.a = c22.a;

    return finalColor;
}`,v7=Object.defineProperty,z7=(t,e,o)=>e in t?v7(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,gk=(t,e,o)=>(z7(t,typeof e!="symbol"?e+"":e,o),o);const S7=class mk extends ie{constructor(...e){let o=e[0]??{};Array.isArray(o)&&($("6.0.0","ConvolutionFilter constructor params are now options object. See params: { matrix, width, height }"),o={matrix:o},e[1]!==void 0&&(o.width=e[1]),e[2]!==void 0&&(o.height=e[2])),o={...mk.DEFAULT_OPTIONS,...o};const n=o.width??200,i=o.height??200,r=te.from({vertex:{source:ce,entryPoint:"mainVertex"},fragment:{source:w7,entryPoint:"mainFragment"}}),s=oe.from({vertex:ae,fragment:k7,name:"convolution-filter"});super({gpuProgram:r,glProgram:s,resources:{convolutionUniforms:{uMatrix:{value:o.matrix,type:"mat3x3<f32>"},uTexelSize:{value:{x:1/n,y:1/i},type:"vec2<f32>"}}}}),gk(this,"uniforms"),this.uniforms=this.resources.convolutionUniforms.uniforms,this.width=n,this.height=i}get matrix(){return this.uniforms.uMatrix}set matrix(e){e.forEach((o,n)=>{this.uniforms.uMatrix[n]=o})}get width(){return 1/this.uniforms.uTexelSize.x}set width(e){this.uniforms.uTexelSize.x=1/e}get height(){return 1/this.uniforms.uTexelSize.y}set height(e){this.uniforms.uTexelSize.y=1/e}};gk(S7,"DEFAULT_OPTIONS",{matrix:new Float32Array(9),width:200,height:200});var E7=`precision highp float;
in vec2 vTextureCoord;
out vec4 finalColor;

uniform sampler2D uTexture;
uniform vec4 uLine;
uniform vec2 uNoise;
uniform vec3 uVignette;
uniform float uSeed;
uniform float uTime;
uniform vec2 uDimensions;

uniform vec4 uInputSize;

const float SQRT_2 = 1.414213;

float rand(vec2 co) {
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

float vignette(vec3 co, vec2 coord)
{
    float outter = SQRT_2 - uVignette[0] * SQRT_2;
    vec2 dir = vec2(0.5) - coord;
    dir.y *= uDimensions.y / uDimensions.x;
    float darker = clamp((outter - length(dir) * SQRT_2) / ( 0.00001 + uVignette[2] * SQRT_2), 0.0, 1.0);
    return darker + (1.0 - darker) * (1.0 - uVignette[1]);
}

float noise(vec2 coord)
{
    vec2 pixelCoord = coord * uInputSize.xy;
    pixelCoord.x = floor(pixelCoord.x / uNoise[1]);
    pixelCoord.y = floor(pixelCoord.y / uNoise[1]);
    return (rand(pixelCoord * uNoise[1] * uSeed) - 0.5) * uNoise[0];
}

vec3 interlaceLines(vec3 co, vec2 coord)
{
    vec3 color = co;

    float curvature = uLine[0];
    float lineWidth = uLine[1];
    float lineContrast = uLine[2];
    float verticalLine = uLine[3];

    vec2 dir = vec2(coord * uInputSize.xy / uDimensions - 0.5);

    float _c = curvature > 0. ? curvature : 1.;
    float k = curvature > 0. ? (length(dir * dir) * 0.25 * _c * _c + 0.935 * _c) : 1.;
    vec2 uv = dir * k;
    float v = verticalLine > 0.5 ? uv.x * uDimensions.x : uv.y * uDimensions.y;
    v *= min(1.0, 2.0 / lineWidth ) / _c;
    float j = 1. + cos(v * 1.2 - uTime) * 0.5 * lineContrast;
    color *= j;

    float segment = verticalLine > 0.5 ? mod((dir.x + .5) * uDimensions.x, 4.) : mod((dir.y + .5) * uDimensions.y, 4.);
    color *= 0.99 + ceil(segment) * 0.015;

    return color;
}

void main(void)
{
    finalColor = texture(uTexture, vTextureCoord);
    vec2 coord = vTextureCoord * uInputSize.xy / uDimensions;

    if (uNoise[0] > 0.0 && uNoise[1] > 0.0)
    {
        float n = noise(vTextureCoord);
        finalColor += vec4(n, n, n, finalColor.a);
    }

    if (uVignette[0] > 0.)
    {
        float v = vignette(finalColor.rgb, coord);
        finalColor *= vec4(v, v, v, finalColor.a);
    }

    if (uLine[1] > 0.0)
    {
        finalColor = vec4(interlaceLines(finalColor.rgb, vTextureCoord), finalColor.a);  
    }
}
`,_7=`struct CRTUniforms {
    uLine: vec4<f32>,
    uNoise: vec2<f32>,
    uVignette: vec3<f32>,
    uSeed: f32,
    uTime: f32,
    uDimensions: vec2<f32>,
};

struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;

@group(0) @binding(1) var uTexture: texture_2d<f32>; 
@group(0) @binding(2) var uSampler: sampler;
@group(1) @binding(0) var<uniform> crtUniforms : CRTUniforms;

@fragment
fn mainFragment(
  @builtin(position) position: vec4<f32>,
  @location(0) uv : vec2<f32>
) -> @location(0) vec4<f32> {
    
  var color: vec4<f32> = textureSample(uTexture, uSampler, uv);
  let coord: vec2<f32> = uv * gfu.uInputSize.xy / crtUniforms.uDimensions;

  let uNoise = crtUniforms.uNoise;

  if (uNoise[0] > 0.0 && uNoise[1] > 0.0)
  {
    color += vec4<f32>(vec3<f32>(noise(uv)), color.a);
  }

  if (crtUniforms.uVignette[0] > 0.)
  {
    color *= vec4<f32>(vec3<f32>(vignette(color.rgb, coord)), color.a);
  }

  if (crtUniforms.uLine[1] > 0.0)
  {
    color = vec4<f32>(vec3<f32>(interlaceLines(color.rgb, uv)), color.a);  
  }

  return color;
}

const SQRT_2: f32 = 1.414213;

fn modulo(x: f32, y: f32) -> f32
{
  return x - y * floor(x/y);
}

fn rand(co: vec2<f32>) -> f32
{
  return fract(sin(dot(co, vec2<f32>(12.9898, 78.233))) * 43758.5453);
}

fn vignette(co: vec3<f32>, coord: vec2<f32>) -> f32
{
  let uVignette = crtUniforms.uVignette;
  let uDimensions = crtUniforms.uDimensions;
  
  let outter: f32 = SQRT_2 - uVignette[0] * SQRT_2;
  var dir: vec2<f32> = vec2<f32>(0.5) - coord;
  dir.y *= uDimensions.y / uDimensions.x;
  let darker: f32 = clamp((outter - length(dir) * SQRT_2) / ( 0.00001 + uVignette[2] * SQRT_2), 0.0, 1.0);
  return darker + (1.0 - darker) * (1.0 - uVignette[1]);
}

fn noise(coord: vec2<f32>) -> f32
{
  let uNoise = crtUniforms.uNoise;
  let uSeed = crtUniforms.uSeed;

  var pixelCoord: vec2<f32> = coord * gfu.uInputSize.xy;
  pixelCoord.x = floor(pixelCoord.x / uNoise[1]);
  pixelCoord.y = floor(pixelCoord.y / uNoise[1]);
  return (rand(pixelCoord * uNoise[1] * uSeed) - 0.5) * uNoise[0];
}

fn interlaceLines(co: vec3<f32>, coord: vec2<f32>) -> vec3<f32>
{
  var color = co;

  let uDimensions = crtUniforms.uDimensions;

  let curvature: f32 = crtUniforms.uLine[0];
  let lineWidth: f32 = crtUniforms.uLine[1];
  let lineContrast: f32 = crtUniforms.uLine[2];
  let verticalLine: f32 = crtUniforms.uLine[3];

  let dir: vec2<f32> = vec2<f32>(coord * gfu.uInputSize.xy / uDimensions - 0.5);

  let _c: f32 = select(1., curvature, curvature > 0.);
  let k: f32 = select(1., (length(dir * dir) * 0.25 * _c * _c + 0.935 * _c), curvature > 0.);
  let uv: vec2<f32> = dir * k;
  let v: f32 = select(uv.y * uDimensions.y, uv.x * uDimensions.x, verticalLine > 0.5) * min(1.0, 2.0 / lineWidth ) / _c;
  let j: f32 = 1. + cos(v * 1.2 - crtUniforms.uTime) * 0.5 * lineContrast;
  color *= j;

  let segment: f32 = select(modulo((dir.y + .5) * uDimensions.y, 4.), modulo((dir.x + .5) * uDimensions.x, 4.), verticalLine > 0.5);
  color *= 0.99 + ceil(segment) * 0.015;

  return color;
}`,C7=Object.defineProperty,Z7=(t,e,o)=>e in t?C7(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,ea=(t,e,o)=>(Z7(t,typeof e!="symbol"?e+"":e,o),o);const R7=class bk extends ie{constructor(e){e={...bk.DEFAULT_OPTIONS,...e};const o=te.from({vertex:{source:ce,entryPoint:"mainVertex"},fragment:{source:_7,entryPoint:"mainFragment"}}),n=oe.from({vertex:ae,fragment:E7,name:"crt-filter"});super({gpuProgram:o,glProgram:n,resources:{crtUniforms:{uLine:{value:new Float32Array(4),type:"vec4<f32>"},uNoise:{value:new Float32Array(2),type:"vec2<f32>"},uVignette:{value:new Float32Array(3),type:"vec3<f32>"},uSeed:{value:e.seed,type:"f32"},uTime:{value:e.time,type:"f32"},uDimensions:{value:new Float32Array(2),type:"vec2<f32>"}}}}),ea(this,"uniforms"),ea(this,"seed"),ea(this,"time"),this.uniforms=this.resources.crtUniforms.uniforms,Object.assign(this,e)}apply(e,o,n,i){this.uniforms.uDimensions[0]=o.frame.width,this.uniforms.uDimensions[1]=o.frame.height,this.uniforms.uSeed=this.seed,this.uniforms.uTime=this.time,e.applyFilter(this,o,n,i)}get curvature(){return this.uniforms.uLine[0]}set curvature(e){this.uniforms.uLine[0]=e}get lineWidth(){return this.uniforms.uLine[1]}set lineWidth(e){this.uniforms.uLine[1]=e}get lineContrast(){return this.uniforms.uLine[2]}set lineContrast(e){this.uniforms.uLine[2]=e}get verticalLine(){return this.uniforms.uLine[3]>.5}set verticalLine(e){this.uniforms.uLine[3]=e?1:0}get noise(){return this.uniforms.uNoise[0]}set noise(e){this.uniforms.uNoise[0]=e}get noiseSize(){return this.uniforms.uNoise[1]}set noiseSize(e){this.uniforms.uNoise[1]=e}get vignetting(){return this.uniforms.uVignette[0]}set vignetting(e){this.uniforms.uVignette[0]=e}get vignettingAlpha(){return this.uniforms.uVignette[1]}set vignettingAlpha(e){this.uniforms.uVignette[1]=e}get vignettingBlur(){return this.uniforms.uVignette[2]}set vignettingBlur(e){this.uniforms.uVignette[2]=e}};ea(R7,"DEFAULT_OPTIONS",{curvature:1,lineWidth:1,lineContrast:.25,verticalLine:!1,noise:0,noiseSize:1,vignetting:.3,vignettingAlpha:1,vignettingBlur:.3,time:0,seed:0});var A7=`precision highp float;
in vec2 vTextureCoord;
out vec4 finalColor;

uniform sampler2D uTexture;
uniform float uAngle;
uniform float uScale;
uniform bool uGrayScale;

uniform vec4 uInputSize;

float pattern()
{
    float s = sin(uAngle), c = cos(uAngle);
    vec2 tex = vTextureCoord * uInputSize.xy;
    vec2 point = vec2(
        c * tex.x - s * tex.y,
        s * tex.x + c * tex.y
    ) * uScale;
    return (sin(point.x) * sin(point.y)) * 4.0;
    }

    void main()
    {
    vec4 color = texture(uTexture, vTextureCoord);
    vec3 colorRGB = vec3(color);

    if (uGrayScale)
    {
        colorRGB = vec3(color.r + color.g + color.b) / 3.0;
    }

    finalColor = vec4(colorRGB * 10.0 - 5.0 + pattern(), color.a);
}
`,P7=`struct DotUniforms {
  uScale:f32,
  uAngle:f32,
  uGrayScale:f32,
};

struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;

@group(0) @binding(1) var uTexture: texture_2d<f32>; 
@group(0) @binding(2) var uSampler: sampler;
@group(1) @binding(0) var<uniform> dotUniforms : DotUniforms;

@fragment
fn mainFragment(
  @location(0) uv: vec2<f32>,
  @builtin(position) position: vec4<f32>
) -> @location(0) vec4<f32> {
  let color: vec4<f32> = textureSample(uTexture, uSampler, uv);
  let gray: vec3<f32> = vec3<f32>(dot(color.rgb, vec3<f32>(0.299, 0.587, 0.114)));
  // dotUniforms.uGrayScale == 1 doesn't ever pass so it is converted to a float and compared to 0.5 instead 
  let finalColor: vec3<f32> = select(color.rgb, gray, f32(dotUniforms.uGrayScale) >= 0.5);

  return vec4<f32>(finalColor * 10.0 - 5.0 + pattern(uv), color.a);
}

fn pattern(uv: vec2<f32>) -> f32
{
  let s: f32 = sin(dotUniforms.uAngle);
  let c: f32 = cos(dotUniforms.uAngle);
  
  let tex: vec2<f32> = uv * gfu.uInputSize.xy;
  
  let p: vec2<f32> = vec2<f32>(
      c * tex.x - s * tex.y,
      s * tex.x + c * tex.y
  ) * dotUniforms.uScale;

  return (sin(p.x) * sin(p.y)) * 4.0;
}`,T7=Object.defineProperty,j7=(t,e,o)=>e in t?T7(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,I7=(t,e,o)=>(j7(t,e+"",o),o);const F7=class xk extends ie{constructor(...e){let o=e[0]??{};typeof o=="number"&&($("6.0.0","DotFilter constructor params are now options object. See params: { scale, angle, grayscale }"),o={scale:o},e[1]!==void 0&&(o.angle=e[1]),e[2]!==void 0&&(o.grayscale=e[2])),o={...xk.DEFAULT_OPTIONS,...o};const n={uScale:{value:o.scale,type:"f32"},uAngle:{value:o.angle,type:"f32"},uGrayScale:{value:o.grayscale?1:0,type:"f32"}},i=te.from({vertex:{source:ce,entryPoint:"mainVertex"},fragment:{source:P7,entryPoint:"mainFragment"}}),r=oe.from({vertex:ae,fragment:A7,name:"dot-filter"});super({gpuProgram:i,glProgram:r,resources:{dotUniforms:n}})}get scale(){return this.resources.dotUniforms.uniforms.uScale}set scale(e){this.resources.dotUniforms.uniforms.uScale=e}get angle(){return this.resources.dotUniforms.uniforms.uAngle}set angle(e){this.resources.dotUniforms.uniforms.uAngle=e}get grayscale(){return this.resources.dotUniforms.uniforms.uGrayScale===1}set grayscale(e){this.resources.dotUniforms.uniforms.uGrayScale=e?1:0}};I7(F7,"DEFAULT_OPTIONS",{scale:1,angle:5,grayscale:!0});var M7=`precision highp float;
in vec2 vTextureCoord;
out vec4 finalColor;

uniform sampler2D uTexture;
uniform float uAlpha;
uniform vec3 uColor;
uniform vec2 uOffset;

uniform vec4 uInputSize;

void main(void){
    vec4 sample = texture(uTexture, vTextureCoord - uOffset * uInputSize.zw);

    // Premultiply alpha
    sample.rgb = uColor.rgb * sample.a;

    // alpha user alpha
    sample *= uAlpha;

    finalColor = sample;
}`,O7=`struct DropShadowUniforms {
  uAlpha: f32,
  uColor: vec3<f32>,
  uOffset: vec2<f32>,
};

struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;

@group(0) @binding(1) var uTexture: texture_2d<f32>; 
@group(0) @binding(2) var uSampler: sampler;
@group(1) @binding(0) var<uniform> dropShadowUniforms : DropShadowUniforms;

@fragment
fn mainFragment(
  @builtin(position) position: vec4<f32>,
  @location(0) uv : vec2<f32>
) -> @location(0) vec4<f32> {
  var color: vec4<f32> = textureSample(uTexture, uSampler, uv - dropShadowUniforms.uOffset * gfu.uInputSize.zw);

  // Premultiply alpha
  color = vec4<f32>(vec3<f32>(dropShadowUniforms.uColor.rgb * color.a), color.a);
  // alpha user alpha
  color *= dropShadowUniforms.uAlpha;

  return color;
}`,D7=Object.defineProperty,B7=(t,e,o)=>e in t?D7(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,vi=(t,e,o)=>(B7(t,typeof e!="symbol"?e+"":e,o),o);const G7=class kk extends ie{constructor(e){e={...kk.DEFAULT_OPTIONS,...e};const o=te.from({vertex:{source:ce,entryPoint:"mainVertex"},fragment:{source:O7,entryPoint:"mainFragment"}}),n=oe.from({vertex:ae,fragment:M7,name:"drop-shadow-filter"});super({gpuProgram:o,glProgram:n,resources:{dropShadowUniforms:{uAlpha:{value:e.alpha,type:"f32"},uColor:{value:new Float32Array(3),type:"vec3<f32>"},uOffset:{value:e.offset,type:"vec2<f32>"}}},resolution:e.resolution}),vi(this,"uniforms"),vi(this,"shadowOnly",!1),vi(this,"_color"),vi(this,"_blurFilter"),vi(this,"_basePass"),this.uniforms=this.resources.dropShadowUniforms.uniforms,this._color=new K,this.color=e.color??0,this._blurFilter=new ok({strength:e.kernels??e.blur,quality:e.kernels?void 0:e.quality}),this._basePass=new ie({gpuProgram:te.from({vertex:{source:ce,entryPoint:"mainVertex"},fragment:{source:`
                    @group(0) @binding(1) var uTexture: texture_2d<f32>; 
                    @group(0) @binding(2) var uSampler: sampler;
                    @fragment
                    fn mainFragment(
                        @builtin(position) position: vec4<f32>,
                        @location(0) uv : vec2<f32>
                    ) -> @location(0) vec4<f32> {
                        return textureSample(uTexture, uSampler, uv);
                    }
                    `,entryPoint:"mainFragment"}}),glProgram:oe.from({vertex:ae,fragment:`
                in vec2 vTextureCoord;
                out vec4 finalColor;
                uniform sampler2D uTexture;

                void main(void){
                    finalColor = texture(uTexture, vTextureCoord);
                }
                `,name:"drop-shadow-filter"}),resources:{}}),Object.assign(this,e)}apply(e,o,n,i){const r=jt.getSameSizeTexture(o);e.applyFilter(this,o,r,!0),this._blurFilter.apply(e,r,n,i),this.shadowOnly||e.applyFilter(this._basePass,o,n,!1),jt.returnTexture(r)}get offset(){return this.uniforms.uOffset}set offset(e){this.uniforms.uOffset=e,this._updatePadding()}get offsetX(){return this.offset.x}set offsetX(e){this.offset.x=e,this._updatePadding()}get offsetY(){return this.offset.y}set offsetY(e){this.offset.y=e,this._updatePadding()}get color(){return this._color.value}set color(e){this._color.setValue(e);const[o,n,i]=this._color.toArray();this.uniforms.uColor[0]=o,this.uniforms.uColor[1]=n,this.uniforms.uColor[2]=i}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}get blur(){return this._blurFilter.strength}set blur(e){this._blurFilter.strength=e,this._updatePadding()}get quality(){return this._blurFilter.quality}set quality(e){this._blurFilter.quality=e,this._updatePadding()}get kernels(){return this._blurFilter.kernels}set kernels(e){this._blurFilter.kernels=e}get pixelSize(){return this._blurFilter.pixelSize}set pixelSize(e){typeof e=="number"&&(e={x:e,y:e}),Array.isArray(e)&&(e={x:e[0],y:e[1]}),this._blurFilter.pixelSize=e}get pixelSizeX(){return this._blurFilter.pixelSizeX}set pixelSizeX(e){this._blurFilter.pixelSizeX=e}get pixelSizeY(){return this._blurFilter.pixelSizeY}set pixelSizeY(e){this._blurFilter.pixelSizeY=e}_updatePadding(){const e=Math.max(Math.abs(this.offsetX),Math.abs(this.offsetY));this.padding=e+this.blur*2+this.quality*4}};vi(G7,"DEFAULT_OPTIONS",{offset:{x:4,y:4},color:0,alpha:.5,shadowOnly:!1,kernels:void 0,blur:2,quality:3,pixelSize:{x:1,y:1},resolution:1});var U7=`precision highp float;
in vec2 vTextureCoord;
out vec4 finalColor;

uniform sampler2D uTexture;
uniform sampler2D uDisplacementMap;
uniform float uSeed;
uniform vec2 uDimensions;
uniform float uAspect;
uniform float uFillMode;
uniform float uOffset;
uniform float uDirection;
uniform vec2 uRed;
uniform vec2 uGreen;
uniform vec2 uBlue;

uniform vec4 uInputSize;
uniform vec4 uInputClamp;

const int TRANSPARENT = 0;
const int ORIGINAL = 1;
const int LOOP = 2;
const int CLAMP = 3;
const int MIRROR = 4;

void main(void)
{
    vec2 coord = (vTextureCoord * uInputSize.xy) / uDimensions;

    if (coord.x > 1.0 || coord.y > 1.0) {
        return;
    }

    float sinDir = sin(uDirection);
    float cosDir = cos(uDirection);

    float cx = coord.x - 0.5;
    float cy = (coord.y - 0.5) * uAspect;
    float ny = (-sinDir * cx + cosDir * cy) / uAspect + 0.5;

    // displacementMap: repeat
    // ny = ny > 1.0 ? ny - 1.0 : (ny < 0.0 ? 1.0 + ny : ny);

    // displacementMap: mirror
    ny = ny > 1.0 ? 2.0 - ny : (ny < 0.0 ? -ny : ny);

    vec4 dc = texture(uDisplacementMap, vec2(0.5, ny));

    float displacement = (dc.r - dc.g) * (uOffset / uInputSize.x);

    coord = vTextureCoord + vec2(cosDir * displacement, sinDir * displacement * uAspect);

    int fillMode = int(uFillMode);

    if (fillMode == CLAMP) {
        coord = clamp(coord, uInputClamp.xy, uInputClamp.zw);
    } else {
        if( coord.x > uInputClamp.z ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.x -= uInputClamp.z;
            } else if (fillMode == MIRROR) {
                coord.x = uInputClamp.z * 2.0 - coord.x;
            }
        } else if( coord.x < uInputClamp.x ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.x += uInputClamp.z;
            } else if (fillMode == MIRROR) {
                coord.x *= -uInputClamp.z;
            }
        }

        if( coord.y > uInputClamp.w ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.y -= uInputClamp.w;
            } else if (fillMode == MIRROR) {
                coord.y = uInputClamp.w * 2.0 - coord.y;
            }
        } else if( coord.y < uInputClamp.y ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.y += uInputClamp.w;
            } else if (fillMode == MIRROR) {
                coord.y *= -uInputClamp.w;
            }
        }
    }

    finalColor.r = texture(uTexture, coord + uRed * (1.0 - uSeed * 0.4) / uInputSize.xy).r;
    finalColor.g = texture(uTexture, coord + uGreen * (1.0 - uSeed * 0.3) / uInputSize.xy).g;
    finalColor.b = texture(uTexture, coord + uBlue * (1.0 - uSeed * 0.2) / uInputSize.xy).b;
    finalColor.a = texture(uTexture, coord).a;
}
`,N7=`struct GlitchUniforms {
  uSeed: f32,
  uDimensions: vec2<f32>,
  uAspect: f32,
  uFillMode: f32,
  uOffset: f32,
  uDirection: f32,
  uRed: vec2<f32>,
  uGreen: vec2<f32>,
  uBlue: vec2<f32>,
};

struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;

@group(0) @binding(1) var uTexture: texture_2d<f32>; 
@group(0) @binding(2) var uSampler: sampler;
@group(1) @binding(0) var<uniform> glitchUniforms : GlitchUniforms;
@group(1) @binding(1) var uDisplacementMap: texture_2d<f32>; 
@group(1) @binding(2) var uDisplacementSampler: sampler; 

@fragment
fn mainFragment(
  @builtin(position) position: vec4<f32>,
  @location(0) uv : vec2<f32>
) -> @location(0) vec4<f32> {
  let uSeed: f32 = glitchUniforms.uSeed;
  let uDimensions: vec2<f32> = glitchUniforms.uDimensions;
  let uAspect: f32 = glitchUniforms.uAspect;
  let uOffset: f32 = glitchUniforms.uOffset;
  let uDirection: f32 = glitchUniforms.uDirection;
  let uRed: vec2<f32> = glitchUniforms.uRed;
  let uGreen: vec2<f32> = glitchUniforms.uGreen;
  let uBlue: vec2<f32> = glitchUniforms.uBlue;

  let uInputSize: vec4<f32> = gfu.uInputSize;
  let uInputClamp: vec4<f32> = gfu.uInputClamp;

  var discarded: bool = false;
  var coord: vec2<f32> = (uv * uInputSize.xy) / uDimensions;

    if (coord.x > 1.0 || coord.y > 1.0) {
      discarded = true;
    }

    let sinDir: f32 = sin(uDirection);
    let cosDir: f32 = cos(uDirection);

    let cx: f32 = coord.x - 0.5;
    let cy: f32 = (coord.y - 0.5) * uAspect;
    var ny: f32 = (-sinDir * cx + cosDir * cy) / uAspect + 0.5;

    ny = select(select(ny, -ny, ny < 0.0), 2.0 - ny, ny > 1.0);

    let dc: vec4<f32> = textureSample(uDisplacementMap, uDisplacementSampler, vec2<f32>(0.5, ny));

    let displacement: f32 = (dc.r - dc.g) * (uOffset / uInputSize.x);

    coord = uv + vec2<f32>(cosDir * displacement, sinDir * displacement * uAspect);

    let fillMode: i32 = i32(glitchUniforms.uFillMode);

    if (fillMode == CLAMP) {
      coord = clamp(coord, uInputClamp.xy, uInputClamp.zw);
    } else {
      if (coord.x > uInputClamp.z) {
        if (fillMode == TRANSPARENT) {
          discarded = true;
        } else if (fillMode == LOOP) {
          coord.x = coord.x - uInputClamp.z;
        } else if (fillMode == MIRROR) {
          coord.x = uInputClamp.z * 2.0 - coord.x;
        }
      } else if (coord.x < uInputClamp.x) {
        if (fillMode == TRANSPARENT) {
          discarded = true;
        } else if (fillMode == LOOP) {
          coord.x = coord.x + uInputClamp.z;
        } else if (fillMode == MIRROR) {
          coord.x = coord.x * -uInputClamp.z;
        }
      }

      if (coord.y > uInputClamp.w) {
        if (fillMode == TRANSPARENT) {
          discarded = true;
        } else if (fillMode == LOOP) {
          coord.y = coord.y - uInputClamp.w;
        } else if (fillMode == MIRROR) {
          coord.y = uInputClamp.w * 2.0 - coord.y;
        }
      } else if (coord.y < uInputClamp.y) {
        if (fillMode == TRANSPARENT) {
          discarded = true;
        } else if (fillMode == LOOP) {
          coord.y = coord.y + uInputClamp.w;
        } else if (fillMode == MIRROR) {
          coord.y = coord.y * -uInputClamp.w;
        }
      }
    }

    let seedR: f32 = 1.0 - uSeed * 0.4;
    let seedG: f32 = 1.0 - uSeed * 0.3;
    let seedB: f32 = 1.0 - uSeed * 0.2;

    let offsetR: vec2<f32> = vec2(uRed.x * seedR / uInputSize.x, uRed.y * seedR / uInputSize.y);
    let offsetG: vec2<f32> = vec2(uGreen.x * seedG / uInputSize.x, uGreen.y * seedG / uInputSize.y);
    let offsetB: vec2<f32> = vec2(uBlue.x * seedB / uInputSize.x, uBlue.y * seedB / uInputSize.y);

    let r = textureSample(uTexture, uSampler, coord + offsetR).r;
    let g = textureSample(uTexture, uSampler, coord + offsetG).g;
    let b = textureSample(uTexture, uSampler, coord + offsetB).b;
    let a = textureSample(uTexture, uSampler, coord).a;

    return select(vec4<f32>(r, g, b, a), vec4<f32>(0.0,0.0,0.0,0.0), discarded);
}

const TRANSPARENT: i32 = 0;
const ORIGINAL: i32 = 1;
const LOOP: i32 = 2;
const CLAMP: i32 = 3;
const MIRROR: i32 = 4;`,L7=Object.defineProperty,$7=(t,e,o)=>e in t?L7(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,io=(t,e,o)=>($7(t,typeof e!="symbol"?e+"":e,o),o);const W7=class wk extends ie{constructor(e){e={...wk.defaults,...e};const o=te.from({vertex:{source:ce,entryPoint:"mainVertex"},fragment:{source:N7,entryPoint:"mainFragment"}}),n=oe.from({vertex:ae,fragment:U7,name:"glitch-filter"}),i=document.createElement("canvas");i.width=4,i.height=e.sampleSize??512;const r=new q({source:new si({resource:i})});super({gpuProgram:o,glProgram:n,resources:{glitchUniforms:{uSeed:{value:e?.seed??0,type:"f32"},uDimensions:{value:new Float32Array(2),type:"vec2<f32>"},uAspect:{value:1,type:"f32"},uFillMode:{value:e?.fillMode??0,type:"f32"},uOffset:{value:e?.offset??100,type:"f32"},uDirection:{value:e?.direction??0,type:"f32"},uRed:{value:e.red,type:"vec2<f32>"},uGreen:{value:e.green,type:"vec2<f32>"},uBlue:{value:e.blue,type:"vec2<f32>"}},uDisplacementMap:r.source,uDisplacementSampler:r.source.style}}),io(this,"uniforms"),io(this,"average",!1),io(this,"minSize",8),io(this,"sampleSize",512),io(this,"_canvas"),io(this,"texture"),io(this,"_slices",0),io(this,"_sizes",new Float32Array(1)),io(this,"_offsets",new Float32Array(1)),this.uniforms=this.resources.glitchUniforms.uniforms,this._canvas=i,this.texture=r,Object.assign(this,e)}apply(e,o,n,i){const{width:r,height:s}=o.frame;this.uniforms.uDimensions[0]=r,this.uniforms.uDimensions[1]=s,this.uniforms.uAspect=s/r,e.applyFilter(this,o,n,i)}_randomizeSizes(){const e=this._sizes,o=this._slices-1,n=this.sampleSize,i=Math.min(this.minSize/n,.9/this._slices);if(this.average){const r=this._slices;let s=1;for(let l=0;l<o;l++){const a=s/(r-l),c=Math.max(a*(1-Math.random()*.6),i);e[l]=c,s-=c}e[o]=s}else{let r=1;const s=Math.sqrt(1/this._slices);for(let l=0;l<o;l++){const a=Math.max(s*r*Math.random(),i);e[l]=a,r-=a}e[o]=r}this.shuffle()}shuffle(){const e=this._sizes,o=this._slices-1;for(let n=o;n>0;n--){const i=Math.random()*n>>0,r=e[n];e[n]=e[i],e[i]=r}}_randomizeOffsets(){for(let e=0;e<this._slices;e++)this._offsets[e]=Math.random()*(Math.random()<.5?-1:1)}refresh(){this._randomizeSizes(),this._randomizeOffsets(),this.redraw()}redraw(){const e=this.sampleSize,o=this.texture,n=this._canvas.getContext("2d");n.clearRect(0,0,8,e);let i,r=0;for(let s=0;s<this._slices;s++){i=Math.floor(this._offsets[s]*256);const l=this._sizes[s]*e,a=i>0?i:0,c=i<0?-i:0;n.fillStyle=`rgba(${a}, ${c}, 0, 1)`,n.fillRect(0,r>>0,e,l+1>>0),r+=l}o.source.update()}set sizes(e){const o=Math.min(this._slices,e.length);for(let n=0;n<o;n++)this._sizes[n]=e[n]}get sizes(){return this._sizes}set offsets(e){const o=Math.min(this._slices,e.length);for(let n=0;n<o;n++)this._offsets[n]=e[n]}get offsets(){return this._offsets}get slices(){return this._slices}set slices(e){this._slices!==e&&(this._slices=e,this._sizes=new Float32Array(e),this._offsets=new Float32Array(e),this.refresh())}get offset(){return this.uniforms.uOffset}set offset(e){this.uniforms.uOffset=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}get fillMode(){return this.uniforms.uFillMode}set fillMode(e){this.uniforms.uFillMode=e}get direction(){return this.uniforms.uDirection/nr}set direction(e){this.uniforms.uDirection=e*nr}get red(){return this.uniforms.uRed}set red(e){Array.isArray(e)&&(e={x:e[0],y:e[1]}),this.uniforms.uRed=e}get green(){return this.uniforms.uGreen}set green(e){Array.isArray(e)&&(e={x:e[0],y:e[1]}),this.uniforms.uGreen=e}get blue(){return this.uniforms.uBlue}set blue(e){Array.isArray(e)&&(e={x:e[0],y:e[1]}),this.uniforms.uBlue=e}destroy(){this.texture?.destroy(!0),this.texture=this._canvas=this.red=this.green=this.blue=this._sizes=this._offsets=null}};io(W7,"defaults",{slices:5,offset:100,direction:0,fillMode:0,average:!1,seed:0,red:{x:0,y:0},green:{x:0,y:0},blue:{x:0,y:0},minSize:8,sampleSize:512});var H7=`precision highp float;
in vec2 vTextureCoord;
out vec4 finalColor;

uniform sampler2D uTexture;
uniform vec2 uStrength;
uniform vec3 uColor;
uniform float uKnockout;
uniform float uAlpha;

uniform vec4 uInputSize;
uniform vec4 uInputClamp;

const float PI = 3.14159265358979323846264;

// Hard-assignment of DIST and ANGLE_STEP_SIZE instead of using uDistance and uQuality to allow them to be use on GLSL loop conditions
const float DIST = __DIST__;
const float ANGLE_STEP_SIZE = min(__ANGLE_STEP_SIZE__, PI * 2.);
const float ANGLE_STEP_NUM = ceil(PI * 2. / ANGLE_STEP_SIZE);
const float MAX_TOTAL_ALPHA = ANGLE_STEP_NUM * DIST * (DIST + 1.) / 2.;

void main(void) {
    vec2 px = vec2(1.) / uInputSize.xy;

    float totalAlpha = 0.;

    vec2 direction;
    vec2 displaced;
    vec4 curColor;

    for (float angle = 0.; angle < PI * 2.; angle += ANGLE_STEP_SIZE) {
      direction = vec2(cos(angle), sin(angle)) * px;

      for (float curDistance = 0.; curDistance < DIST; curDistance++) {
          displaced = clamp(vTextureCoord + direction * (curDistance + 1.), uInputClamp.xy, uInputClamp.zw);
          curColor = texture(uTexture, displaced);
          totalAlpha += (DIST - curDistance) * curColor.a;
      }
    }
    
    curColor = texture(uTexture, vTextureCoord);

    vec4 glowColor = vec4(uColor, uAlpha);
    bool knockout = uKnockout > .5;
    float innerStrength = uStrength[0];
    float outerStrength = uStrength[1];

    float alphaRatio = totalAlpha / MAX_TOTAL_ALPHA;
    float innerGlowAlpha = (1. - alphaRatio) * innerStrength * curColor.a * uAlpha;
    float innerGlowStrength = min(1., innerGlowAlpha);
    
    vec4 innerColor = mix(curColor, glowColor, innerGlowStrength);
    float outerGlowAlpha = alphaRatio * outerStrength * (1. - curColor.a) * uAlpha;
    float outerGlowStrength = min(1. - innerColor.a, outerGlowAlpha);
    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;

    if (knockout) {
      float resultAlpha = outerGlowAlpha + innerGlowAlpha;
      finalColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);
    }
    else {
      finalColor = innerColor + outerGlowColor;
    }
}
`,X7=`struct GlowUniforms {
  uDistance: f32,
  uStrength: vec2<f32>,
  uColor: vec3<f32>,
  uAlpha: f32,
  uQuality: f32,
  uKnockout: f32,
};

struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;

@group(0) @binding(1) var uTexture: texture_2d<f32>; 
@group(0) @binding(2) var uSampler: sampler;
@group(1) @binding(0) var<uniform> glowUniforms : GlowUniforms;

@fragment
fn mainFragment(
  @builtin(position) position: vec4<f32>,
  @location(0) uv : vec2<f32>
) -> @location(0) vec4<f32> {
  let quality = glowUniforms.uQuality;
  let distance = glowUniforms.uDistance;

  let dist: f32 = glowUniforms.uDistance;
  let angleStepSize: f32 = min(1. / quality / distance, PI * 2.0);
  let angleStepNum: f32 = ceil(PI * 2.0 / angleStepSize);

  let px: vec2<f32> = vec2<f32>(1.0 / gfu.uInputSize.xy);

  var totalAlpha: f32 = 0.0;

  var direction: vec2<f32>;
  var displaced: vec2<f32>;
  var curColor: vec4<f32>;

  for (var angle = 0.0; angle < PI * 2.0; angle += angleStepSize) {
    direction = vec2<f32>(cos(angle), sin(angle)) * px;
    for (var curDistance = 0.0; curDistance < dist; curDistance+=1) {
      displaced = vec2<f32>(clamp(uv + direction * (curDistance + 1.0), gfu.uInputClamp.xy, gfu.uInputClamp.zw));
      curColor = textureSample(uTexture, uSampler, displaced);
      totalAlpha += (dist - curDistance) * curColor.a;
    }
  }
    
  curColor = textureSample(uTexture, uSampler, uv);

  let glowColorRGB = glowUniforms.uColor;
  let glowAlpha = glowUniforms.uAlpha;
  let glowColor = vec4<f32>(glowColorRGB, glowAlpha);
  let knockout: bool = glowUniforms.uKnockout > 0.5;
  let innerStrength = glowUniforms.uStrength[0];
  let outerStrength = glowUniforms.uStrength[1];

  let alphaRatio: f32 = (totalAlpha / (angleStepNum * dist * (dist + 1.0) / 2.0));
  let innerGlowAlpha: f32 = (1.0 - alphaRatio) * innerStrength * curColor.a * glowAlpha;
  let innerGlowStrength: f32 = min(1.0, innerGlowAlpha);
  
  let innerColor: vec4<f32> = mix(curColor, glowColor, innerGlowStrength);
  let outerGlowAlpha: f32 = alphaRatio * outerStrength * (1. - curColor.a) * glowAlpha;
  let outerGlowStrength: f32 = min(1.0 - innerColor.a, outerGlowAlpha);
  let outerGlowColor: vec4<f32> = outerGlowStrength * glowColor.rgba;
  
  if (knockout) {
    let resultAlpha: f32 = outerGlowAlpha + innerGlowAlpha;
    return vec4<f32>(glowColor.rgb * resultAlpha, resultAlpha);
  }
  else {
    return innerColor + outerGlowColor;
  }
}

const PI: f32 = 3.14159265358979323846264;`,V7=Object.defineProperty,q7=(t,e,o)=>e in t?V7(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,xy=(t,e,o)=>(q7(t,typeof e!="symbol"?e+"":e,o),o);const Y7=class vk extends ie{constructor(e){e={...vk.DEFAULT_OPTIONS,...e};const o=e.distance??10,n=e.quality??.1,i=te.from({vertex:{source:ce,entryPoint:"mainVertex"},fragment:{source:X7,entryPoint:"mainFragment"}}),r=oe.from({vertex:ae,fragment:H7.replace(/__ANGLE_STEP_SIZE__/gi,`${(1/n/o).toFixed(7)}`).replace(/__DIST__/gi,`${o.toFixed(0)}.0`),name:"glow-filter"});super({gpuProgram:i,glProgram:r,resources:{glowUniforms:{uDistance:{value:o,type:"f32"},uStrength:{value:[e.innerStrength,e.outerStrength],type:"vec2<f32>"},uColor:{value:new Float32Array(3),type:"vec3<f32>"},uAlpha:{value:e.alpha,type:"f32"},uQuality:{value:n,type:"f32"},uKnockout:{value:e?.knockout??!1?1:0,type:"f32"}}},padding:o}),xy(this,"uniforms"),xy(this,"_color"),this.uniforms=this.resources.glowUniforms.uniforms,this._color=new K,this.color=e.color??16777215}get distance(){return this.uniforms.uDistance}set distance(e){this.uniforms.uDistance=this.padding=e}get innerStrength(){return this.uniforms.uStrength[0]}set innerStrength(e){this.uniforms.uStrength[0]=e}get outerStrength(){return this.uniforms.uStrength[1]}set outerStrength(e){this.uniforms.uStrength[1]=e}get color(){return this._color.value}set color(e){this._color.setValue(e);const[o,n,i]=this._color.toArray();this.uniforms.uColor[0]=o,this.uniforms.uColor[1]=n,this.uniforms.uColor[2]=i}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}get quality(){return this.uniforms.uQuality}set quality(e){this.uniforms.uQuality=e}get knockout(){return this.uniforms.uKnockout===1}set knockout(e){this.uniforms.uKnockout=e?1:0}};xy(Y7,"DEFAULT_OPTIONS",{distance:10,outerStrength:4,innerStrength:0,color:16777215,alpha:1,quality:.1,knockout:!1});var K7=`precision highp float;
in vec2 vTextureCoord;
out vec4 finalColor;

uniform sampler2D uTexture;
uniform vec2 uDimensions;
uniform float uParallel;
uniform vec2 uLight;
uniform float uAspect;
uniform float uTime;
uniform vec3 uRay;

uniform vec4 uInputSize;

\${PERLIN}

void main(void) {
    vec2 uDimensions = uDimensions;
    bool uParallel = uParallel > 0.5;
    vec2 uLight = uLight;
    float uAspect = uAspect;

    vec2 coord = vTextureCoord * uInputSize.xy / uDimensions;

    float d;

    if (uParallel) {
        float _cos = uLight.x;
        float _sin = uLight.y;
        d = (_cos * coord.x) + (_sin * coord.y * uAspect);
    } else {
        float dx = coord.x - uLight.x / uDimensions.x;
        float dy = (coord.y - uLight.y / uDimensions.y) * uAspect;
        float dis = sqrt(dx * dx + dy * dy) + 0.00001;
        d = dy / dis;
    }

    float uTime = uTime;
    vec3 uRay = uRay;

    float gain = uRay[0];
    float lacunarity = uRay[1];
    float alpha = uRay[2];

    vec3 dir = vec3(d, d, 0.0);
    float noise = turb(dir + vec3(uTime, 0.0, 62.1 + uTime) * 0.05, vec3(480.0, 320.0, 480.0), lacunarity, gain);
    noise = mix(noise, 0.0, 0.3);
    //fade vertically.
    vec4 mist = vec4(vec3(noise), 1.0) * (1.0 - coord.y);
    mist.a = 1.0;
    // apply user alpha
    mist *= alpha;

    finalColor = texture(uTexture, vTextureCoord) + mist;
}
`,Q7=`struct GodrayUniforms {
  uLight: vec2<f32>,
  uParallel: f32,
  uAspect: f32,
  uTime: f32,
  uRay: vec3<f32>,
  uDimensions: vec2<f32>,
};

struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;

@group(0) @binding(1) var uTexture: texture_2d<f32>; 
@group(0) @binding(2) var uSampler: sampler;
@group(1) @binding(0) var<uniform> godrayUniforms : GodrayUniforms;

@fragment
fn mainFragment(
  @builtin(position) position: vec4<f32>,
  @location(0) uv : vec2<f32>
) -> @location(0) vec4<f32> {
  let uDimensions: vec2<f32> = godrayUniforms.uDimensions;
  let uParallel: bool = godrayUniforms.uParallel > 0.5;
  let uLight: vec2<f32> = godrayUniforms.uLight;
  let uAspect: f32 = godrayUniforms.uAspect;

  let coord: vec2<f32> = uv * gfu.uInputSize.xy / uDimensions;

  var d: f32;

  if (uParallel) {
    let _cos: f32 = uLight.x;
    let _sin: f32 = uLight.y;
    d = (_cos * coord.x) + (_sin * coord.y * uAspect);
  } else {
    let dx: f32 = coord.x - uLight.x / uDimensions.x;
    let dy: f32 = (coord.y - uLight.y / uDimensions.y) * uAspect;
    let dis: f32 = sqrt(dx * dx + dy * dy) + 0.00001;
    d = dy / dis;
  }

  let uTime: f32 = godrayUniforms.uTime;
  let uRay: vec3<f32> = godrayUniforms.uRay;
  
  let gain = uRay[0];
  let lacunarity = uRay[1];
  let alpha = uRay[2];

  let dir: vec3<f32> = vec3<f32>(d, d, 0.0);
  var noise: f32 = turb(dir + vec3<f32>(uTime, 0.0, 62.1 + uTime) * 0.05, vec3<f32>(480.0, 320.0, 480.0), lacunarity, gain);
  noise = mix(noise, 0.0, 0.3);
  //fade vertically.
  var mist: vec4<f32> = vec4<f32>(vec3<f32>(noise), 1.0) * (1.0 - coord.y);
  mist.a = 1.0;
  // apply user alpha
  mist *= alpha;
  return textureSample(uTexture, uSampler, uv) + mist;
}

\${PERLIN}`,J7=`vec3 mod289(vec3 x)
{
    return x - floor(x * (1.0 / 289.0)) * 289.0;
}
vec4 mod289(vec4 x)
{
    return x - floor(x * (1.0 / 289.0)) * 289.0;
}
vec4 permute(vec4 x)
{
    return mod289(((x * 34.0) + 1.0) * x);
}
vec4 taylorInvSqrt(vec4 r)
{
    return 1.79284291400159 - 0.85373472095314 * r;
}
vec3 fade(vec3 t)
{
    return t * t * t * (t * (t * 6.0 - 15.0) + 10.0);
}
// Classic Perlin noise, periodic variant
float pnoise(vec3 P, vec3 rep)
{
    vec3 Pi0 = mod(floor(P), rep); // Integer part, modulo period
    vec3 Pi1 = mod(Pi0 + vec3(1.0), rep); // Integer part + 1, mod period
    Pi0 = mod289(Pi0);
    Pi1 = mod289(Pi1);
    vec3 Pf0 = fract(P); // Fractional part for interpolation
    vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0
    vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);
    vec4 iy = vec4(Pi0.yy, Pi1.yy);
    vec4 iz0 = Pi0.zzzz;
    vec4 iz1 = Pi1.zzzz;
    vec4 ixy = permute(permute(ix) + iy);
    vec4 ixy0 = permute(ixy + iz0);
    vec4 ixy1 = permute(ixy + iz1);
    vec4 gx0 = ixy0 * (1.0 / 7.0);
    vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;
    gx0 = fract(gx0);
    vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);
    vec4 sz0 = step(gz0, vec4(0.0));
    gx0 -= sz0 * (step(0.0, gx0) - 0.5);
    gy0 -= sz0 * (step(0.0, gy0) - 0.5);
    vec4 gx1 = ixy1 * (1.0 / 7.0);
    vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;
    gx1 = fract(gx1);
    vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);
    vec4 sz1 = step(gz1, vec4(0.0));
    gx1 -= sz1 * (step(0.0, gx1) - 0.5);
    gy1 -= sz1 * (step(0.0, gy1) - 0.5);
    vec3 g000 = vec3(gx0.x, gy0.x, gz0.x);
    vec3 g100 = vec3(gx0.y, gy0.y, gz0.y);
    vec3 g010 = vec3(gx0.z, gy0.z, gz0.z);
    vec3 g110 = vec3(gx0.w, gy0.w, gz0.w);
    vec3 g001 = vec3(gx1.x, gy1.x, gz1.x);
    vec3 g101 = vec3(gx1.y, gy1.y, gz1.y);
    vec3 g011 = vec3(gx1.z, gy1.z, gz1.z);
    vec3 g111 = vec3(gx1.w, gy1.w, gz1.w);
    vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));
    g000 *= norm0.x;
    g010 *= norm0.y;
    g100 *= norm0.z;
    g110 *= norm0.w;
    vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));
    g001 *= norm1.x;
    g011 *= norm1.y;
    g101 *= norm1.z;
    g111 *= norm1.w;
    float n000 = dot(g000, Pf0);
    float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));
    float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));
    float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));
    float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));
    float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));
    float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));
    float n111 = dot(g111, Pf1);
    vec3 fade_xyz = fade(Pf0);
    vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);
    vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);
    float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);
    return 2.2 * n_xyz;
}
float turb(vec3 P, vec3 rep, float lacunarity, float gain)
{
    float sum = 0.0;
    float sc = 1.0;
    float totalgain = 1.0;
    for (float i = 0.0; i < 6.0; i++)
    {
        sum += totalgain * pnoise(P * sc, rep);
        sc *= lacunarity;
        totalgain *= gain;
    }
    return abs(sum);
}
`,eZ=`// Taken from https://gist.github.com/munrocket/236ed5ba7e409b8bdf1ff6eca5dcdc39

fn moduloVec3(x: vec3<f32>, y: vec3<f32>) -> vec3<f32>
{
  return x - y * floor(x/y);
}
fn mod289Vec3(x: vec3<f32>) -> vec3<f32>
{
    return x - floor(x * (1.0 / 289.0)) * 289.0;
}
fn mod289Vec4(x: vec4<f32>) -> vec4<f32>
{
    return x - floor(x * (1.0 / 289.0)) * 289.0;
}
fn permute4(x: vec4<f32>) -> vec4<f32>
{
    return mod289Vec4(((x * 34.0) + 1.0) * x);
}
fn taylorInvSqrt(r: vec4<f32>) -> vec4<f32>
{
    return 1.79284291400159 - 0.85373472095314 * r;
}
fn fade3(t: vec3<f32>) -> vec3<f32>
{
    return t * t * t * (t * (t * 6.0 - 15.0) + 10.0);
}
fn fade2(t: vec2<f32>) -> vec2<f32> { return t * t * t * (t * (t * 6. - 15.) + 10.); }

fn perlinNoise2(P: vec2<f32>) -> f32 {
  var Pi: vec4<f32> = floor(P.xyxy) + vec4<f32>(0., 0., 1., 1.);
  let Pf = fract(P.xyxy) - vec4<f32>(0., 0., 1., 1.);
  Pi = Pi % vec4<f32>(289.); // To avoid truncation effects in permutation
  let ix = Pi.xzxz;
  let iy = Pi.yyww;
  let fx = Pf.xzxz;
  let fy = Pf.yyww;
  let i = permute4(permute4(ix) + iy);
  var gx: vec4<f32> = 2. * fract(i * 0.0243902439) - 1.; // 1/41 = 0.024...
  let gy = abs(gx) - 0.5;
  let tx = floor(gx + 0.5);
  gx = gx - tx;
  var g00: vec2<f32> = vec2<f32>(gx.x, gy.x);
  var g10: vec2<f32> = vec2<f32>(gx.y, gy.y);
  var g01: vec2<f32> = vec2<f32>(gx.z, gy.z);
  var g11: vec2<f32> = vec2<f32>(gx.w, gy.w);
  let norm = 1.79284291400159 - 0.85373472095314 *
      vec4<f32>(dot(g00, g00), dot(g01, g01), dot(g10, g10), dot(g11, g11));
  g00 = g00 * norm.x;
  g01 = g01 * norm.y;
  g10 = g10 * norm.z;
  g11 = g11 * norm.w;
  let n00 = dot(g00, vec2<f32>(fx.x, fy.x));
  let n10 = dot(g10, vec2<f32>(fx.y, fy.y));
  let n01 = dot(g01, vec2<f32>(fx.z, fy.z));
  let n11 = dot(g11, vec2<f32>(fx.w, fy.w));
  let fade_xy = fade2(Pf.xy);
  let n_x = mix(vec2<f32>(n00, n01), vec2<f32>(n10, n11), vec2<f32>(fade_xy.x));
  let n_xy = mix(n_x.x, n_x.y, fade_xy.y);
  return 2.3 * n_xy;
}

// Classic Perlin noise, periodic variant
fn perlinNoise3(P: vec3<f32>, rep: vec3<f32>) -> f32
{
    var Pi0: vec3<f32> = moduloVec3(floor(P), rep); // Integer part, modulo period
    var Pi1: vec3<f32> = moduloVec3(Pi0 + vec3<f32>(1.0), rep); // Integer part + 1, mod period
    Pi0 = mod289Vec3(Pi0);
    Pi1 = mod289Vec3(Pi1);
    let Pf0: vec3<f32> = fract(P); // Fractional part for interpolation
    let Pf1: vec3<f32> = Pf0 - vec3<f32>(1.0); // Fractional part - 1.0
    let ix: vec4<f32> = vec4<f32>(Pi0.x, Pi1.x, Pi0.x, Pi1.x);
    let iy: vec4<f32> = vec4<f32>(Pi0.yy, Pi1.yy);
    let iz0: vec4<f32> = Pi0.zzzz;
    let iz1: vec4<f32> = Pi1.zzzz;
    let ixy: vec4<f32> = permute4(permute4(ix) + iy);
    let ixy0: vec4<f32> = permute4(ixy + iz0);
    let ixy1: vec4<f32> = permute4(ixy + iz1);
    var gx0: vec4<f32> = ixy0 * (1.0 / 7.0);
    var gy0: vec4<f32> = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;
    gx0 = fract(gx0);
    let gz0: vec4<f32> = vec4<f32>(0.5) - abs(gx0) - abs(gy0);
    let sz0: vec4<f32> = step(gz0, vec4<f32>(0.0));
    gx0 -= sz0 * (step(vec4<f32>(0.0), gx0) - 0.5);
    gy0 -= sz0 * (step(vec4<f32>(0.0), gy0) - 0.5);
    var gx1: vec4<f32> = ixy1 * (1.0 / 7.0);
    var gy1: vec4<f32> = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;
    gx1 = fract(gx1);
    let gz1: vec4<f32> = vec4<f32>(0.5) - abs(gx1) - abs(gy1);
    let sz1: vec4<f32> = step(gz1, vec4<f32>(0.0));
    gx1 -= sz1 * (step(vec4<f32>(0.0), gx1) - 0.5);
    gy1 -= sz1 * (step(vec4<f32>(0.0), gy1) - 0.5);
    var g000: vec3<f32> = vec3<f32>(gx0.x, gy0.x, gz0.x);
    var g100: vec3<f32> = vec3<f32>(gx0.y, gy0.y, gz0.y);
    var g010: vec3<f32> = vec3<f32>(gx0.z, gy0.z, gz0.z);
    var g110: vec3<f32> = vec3<f32>(gx0.w, gy0.w, gz0.w);
    var g001: vec3<f32> = vec3<f32>(gx1.x, gy1.x, gz1.x);
    var g101: vec3<f32> = vec3<f32>(gx1.y, gy1.y, gz1.y);
    var g011: vec3<f32> = vec3<f32>(gx1.z, gy1.z, gz1.z);
    var g111: vec3<f32> = vec3<f32>(gx1.w, gy1.w, gz1.w);
    let norm0: vec4<f32> = taylorInvSqrt(vec4<f32>(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));
    g000 *= norm0.x;
    g010 *= norm0.y;
    g100 *= norm0.z;
    g110 *= norm0.w;
    let norm1: vec4<f32> = taylorInvSqrt(vec4<f32>(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));
    g001 *= norm1.x;
    g011 *= norm1.y;
    g101 *= norm1.z;
    g111 *= norm1.w;
    let n000: f32 = dot(g000, Pf0);
    let n100: f32 = dot(g100, vec3<f32>(Pf1.x, Pf0.yz));
    let n010: f32 = dot(g010, vec3<f32>(Pf0.x, Pf1.y, Pf0.z));
    let n110: f32 = dot(g110, vec3<f32>(Pf1.xy, Pf0.z));
    let n001: f32 = dot(g001, vec3<f32>(Pf0.xy, Pf1.z));
    let n101: f32 = dot(g101, vec3<f32>(Pf1.x, Pf0.y, Pf1.z));
    let n011: f32 = dot(g011, vec3<f32>(Pf0.x, Pf1.yz));
    let n111: f32 = dot(g111, Pf1);
    let fade_xyz: vec3<f32> = fade3(Pf0);
    let n_z: vec4<f32> = mix(vec4<f32>(n000, n100, n010, n110), vec4<f32>(n001, n101, n011, n111), fade_xyz.z);
    let n_yz: vec2<f32> = mix(n_z.xy, n_z.zw, fade_xyz.y);
    let n_xyz: f32 = mix(n_yz.x, n_yz.y, fade_xyz.x);
    return 2.2 * n_xyz;
}
fn turb(P: vec3<f32>, rep: vec3<f32>, lacunarity: f32, gain: f32) -> f32
{
    var sum: f32 = 0.0;
    var sc: f32 = 1.0;
    var totalgain: f32 = 1.0;
    for (var i = 0.0; i < 6.0; i += 1)
    {
        sum += totalgain * perlinNoise3(P * sc, rep);
        sc *= lacunarity;
        totalgain *= gain;
    }
    return abs(sum);
}`,tZ=Object.defineProperty,oZ=(t,e,o)=>e in t?tZ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,zi=(t,e,o)=>(oZ(t,typeof e!="symbol"?e+"":e,o),o);const nZ=class zk extends ie{constructor(e){e={...zk.DEFAULT_OPTIONS,...e};const o=te.from({vertex:{source:ce,entryPoint:"mainVertex"},fragment:{source:Q7.replace("${PERLIN}",eZ),entryPoint:"mainFragment"}}),n=oe.from({vertex:ae,fragment:K7.replace("${PERLIN}",J7),name:"god-ray-filter"});super({gpuProgram:o,glProgram:n,resources:{godrayUniforms:{uLight:{value:new Float32Array(2),type:"vec2<f32>"},uParallel:{value:0,type:"f32"},uAspect:{value:0,type:"f32"},uTime:{value:e.time,type:"f32"},uRay:{value:new Float32Array(3),type:"vec3<f32>"},uDimensions:{value:new Float32Array(2),type:"vec2<f32>"}}}}),zi(this,"uniforms"),zi(this,"time",0),zi(this,"_angleLight",[0,0]),zi(this,"_angle",0),zi(this,"_center"),this.uniforms=this.resources.godrayUniforms.uniforms,Object.assign(this,e)}apply(e,o,n,i){const r=o.frame.width,s=o.frame.height;this.uniforms.uLight[0]=this.parallel?this._angleLight[0]:this._center.x,this.uniforms.uLight[1]=this.parallel?this._angleLight[1]:this._center.y,this.uniforms.uDimensions[0]=r,this.uniforms.uDimensions[1]=s,this.uniforms.uAspect=s/r,this.uniforms.uTime=this.time,e.applyFilter(this,o,n,i)}get angle(){return this._angle}set angle(e){this._angle=e;const o=e*nr;this._angleLight[0]=Math.cos(o),this._angleLight[1]=Math.sin(o)}get parallel(){return this.uniforms.uParallel>.5}set parallel(e){this.uniforms.uParallel=e?1:0}get center(){return this._center}set center(e){Array.isArray(e)&&(e={x:e[0],y:e[1]}),this._center=e}get centerX(){return this.center.x}set centerX(e){this.center.x=e}get centerY(){return this.center.y}set centerY(e){this.center.y=e}get gain(){return this.uniforms.uRay[0]}set gain(e){this.uniforms.uRay[0]=e}get lacunarity(){return this.uniforms.uRay[1]}set lacunarity(e){this.uniforms.uRay[1]=e}get alpha(){return this.uniforms.uRay[2]}set alpha(e){this.uniforms.uRay[2]=e}};zi(nZ,"DEFAULT_OPTIONS",{angle:30,gain:.5,lacunarity:2.5,parallel:!0,time:0,center:{x:0,y:0},alpha:1});var iZ=`in vec2 vTextureCoord;
out vec4 finalColor;

uniform sampler2D uTexture;
uniform vec3 uHsl;
uniform float uAlpha;
uniform float uColorize;

// https://en.wikipedia.org/wiki/Luma_(video)
const vec3 weight = vec3(0.299, 0.587, 0.114);

float getWeightedAverage(vec3 rgb) {
    return rgb.r * weight.r + rgb.g * weight.g + rgb.b * weight.b;
}

// https://gist.github.com/mairod/a75e7b44f68110e1576d77419d608786?permalink_comment_id=3195243#gistcomment-3195243
const vec3 k = vec3(0.57735, 0.57735, 0.57735);

vec3 hueShift(vec3 color, float angle) {
    float cosAngle = cos(angle);
    return vec3(
    color * cosAngle +
    cross(k, color) * sin(angle) +
    k * dot(k, color) * (1.0 - cosAngle)
    );
}

void main()
{
    vec4 color = texture(uTexture, vTextureCoord);
    vec3 resultRGB = color.rgb;

    float hue = uHsl[0];
    float saturation = uHsl[1];
    float lightness = uHsl[2];

    // colorize
    if (uColorize > 0.5) {
        resultRGB = vec3(getWeightedAverage(resultRGB), 0., 0.);
    }

    // hue
    resultRGB = hueShift(resultRGB, hue);

    // saturation
    // https://github.com/evanw/glfx.js/blob/master/src/filters/adjust/huesaturation.js
    float average = (resultRGB.r + resultRGB.g + resultRGB.b) / 3.0;

    if (saturation > 0.) {
        resultRGB += (average - resultRGB) * (1. - 1. / (1.001 - saturation));
    } else {
        resultRGB -= (average - resultRGB) * saturation;
    }

    // lightness
    resultRGB = mix(resultRGB, vec3(ceil(lightness)) * color.a, abs(lightness));

    // alpha
    finalColor = mix(color, vec4(resultRGB, color.a), uAlpha);
}
`,rZ=`struct HslUniforms {
  uHsl:vec3<f32>,
  uColorize:f32,
  uAlpha:f32,
};

@group(0) @binding(1) var uTexture: texture_2d<f32>; 
@group(0) @binding(2) var uSampler: sampler;
@group(1) @binding(0) var<uniform> hslUniforms : HslUniforms;

@fragment
fn mainFragment(
  @location(0) uv: vec2<f32>,
  @builtin(position) position: vec4<f32>
) -> @location(0) vec4<f32> {
    let color: vec4<f32> = textureSample(uTexture, uSampler, uv);
    var resultRGB: vec3<f32> = color.rgb;

    let hue: f32 = hslUniforms.uHsl[0];
    let saturation: f32 = hslUniforms.uHsl[1];
    let lightness: f32 = hslUniforms.uHsl[2];

    // colorize
    if (hslUniforms.uColorize > 0.5) {
        resultRGB = vec3<f32>(dot(color.rgb, vec3<f32>(0.299, 0.587, 0.114)), 0., 0.);
    }

    // hue
    resultRGB = hueShift(resultRGB, hue);

    // saturation
    // https://github.com/evanw/glfx.js/blob/master/src/filters/adjust/huesaturation.js
    let average: f32 = (resultRGB.r + resultRGB.g + resultRGB.b) / 3.0;

    if (saturation > 0.) {
        resultRGB += (average - resultRGB) * (1. - 1. / (1.001 - saturation));
    } else {
        resultRGB -= (average - resultRGB) * saturation;
    }

    // lightness
    resultRGB = mix(resultRGB, vec3<f32>(ceil(lightness)) * color.a, abs(lightness));

    // alpha
    return mix(color, vec4<f32>(resultRGB, color.a), hslUniforms.uAlpha);
}

// https://gist.github.com/mairod/a75e7b44f68110e1576d77419d608786?permalink_comment_id=3195243#gistcomment-3195243
const k: vec3<f32> = vec3(0.57735, 0.57735, 0.57735);

fn hueShift(color: vec3<f32>, angle: f32) -> vec3<f32> 
{
    let cosAngle: f32 = cos(angle);
    return vec3<f32>(
    color * cosAngle +
    cross(k, color) * sin(angle) +
    k * dot(k, color) * (1.0 - cosAngle)
    );
}`,sZ=Object.defineProperty,lZ=(t,e,o)=>e in t?sZ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,ky=(t,e,o)=>(lZ(t,typeof e!="symbol"?e+"":e,o),o);const aZ=class Sk extends ie{constructor(e){e={...Sk.DEFAULT_OPTIONS,...e};const o=te.from({vertex:{source:ce,entryPoint:"mainVertex"},fragment:{source:rZ,entryPoint:"mainFragment"}}),n=oe.from({vertex:ae,fragment:iZ,name:"hsl-adjustment-filter"});super({gpuProgram:o,glProgram:n,resources:{hslUniforms:{uHsl:{value:new Float32Array(3),type:"vec3<f32>"},uColorize:{value:e.colorize?1:0,type:"f32"},uAlpha:{value:e.alpha,type:"f32"}}}}),ky(this,"uniforms"),ky(this,"_hue"),this.uniforms=this.resources.hslUniforms.uniforms,Object.assign(this,e)}get hue(){return this._hue}set hue(e){this._hue=e,this.uniforms.uHsl[0]=e*(Math.PI/180)}get saturation(){return this.uniforms.uHsl[1]}set saturation(e){this.uniforms.uHsl[1]=e}get lightness(){return this.uniforms.uHsl[2]}set lightness(e){this.uniforms.uHsl[2]=e}get colorize(){return this.uniforms.uColorize===1}set colorize(e){this.uniforms.uColorize=e?1:0}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}};ky(aZ,"DEFAULT_OPTIONS",{hue:0,saturation:0,lightness:0,colorize:!1,alpha:1});var cZ=`precision highp float;
in vec2 vTextureCoord;
out vec4 finalColor;

uniform sampler2D uTexture;
uniform vec2 uVelocity;
uniform int uKernelSize;
uniform float uOffset;

uniform vec4 uInputSize;

const int MAX_KERNEL_SIZE = 2048;

// Notice:
// the perfect way:
//    int kernelSize = min(uKernelSize, MAX_KERNELSIZE);
// BUT in real use-case , uKernelSize < MAX_KERNELSIZE almost always.
// So use uKernelSize directly.

void main(void)
{
    vec4 color = texture(uTexture, vTextureCoord);

    if (uKernelSize == 0)
    {
        finalColor = color;
        return;
    }

    vec2 velocity = uVelocity / uInputSize.xy;
    float offset = -uOffset / length(uVelocity) - 0.5;
    int k = uKernelSize - 1;

    for(int i = 0; i < MAX_KERNEL_SIZE - 1; i++) {
        if (i == k) {
            break;
        }
        vec2 bias = velocity * (float(i) / float(k) + offset);
        color += texture(uTexture, vTextureCoord + bias);
    }
    finalColor = color / float(uKernelSize);
}
`,uZ=`struct MotionBlurUniforms {
  uVelocity: vec2<f32>,
  uKernelSize: f32,
  uOffset: f32,
};

struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;

@group(0) @binding(1) var uTexture: texture_2d<f32>; 
@group(0) @binding(2) var uSampler: sampler;
@group(1) @binding(0) var<uniform> motionBlurUniforms : MotionBlurUniforms;

@fragment
fn mainFragment(
  @builtin(position) position: vec4<f32>,
  @location(0) uv : vec2<f32>
) -> @location(0) vec4<f32> {
  let uVelocity = motionBlurUniforms.uVelocity;
  let uKernelSize = motionBlurUniforms.uKernelSize;
  let uOffset = motionBlurUniforms.uOffset;

  let velocity: vec2<f32> = uVelocity / gfu.uInputSize.xy;
  let offset: f32 = -uOffset / length(uVelocity) - 0.5;
  let k: i32 = i32(min(uKernelSize - 1, MAX_KERNEL_SIZE - 1));

  var color: vec4<f32> = textureSample(uTexture, uSampler, uv);

  for(var i: i32 = 0; i < k; i += 1) {
    let bias: vec2<f32> = velocity * (f32(i) / f32(k) + offset);
    color += textureSample(uTexture, uSampler, uv + bias);
  }
  
  return select(color / f32(uKernelSize), textureSample(uTexture, uSampler, uv), uKernelSize == 0);
}

const MAX_KERNEL_SIZE: f32 = 2048;`,pZ=Object.defineProperty,yZ=(t,e,o)=>e in t?pZ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,wy=(t,e,o)=>(yZ(t,typeof e!="symbol"?e+"":e,o),o);const dZ=class Ek extends ie{constructor(...e){let o=e[0]??{};if(Array.isArray(o)||"x"in o&&"y"in o||o instanceof lt){$("6.0.0","MotionBlurFilter constructor params are now options object. See params: { velocity, kernelSize, offset }");const r="x"in o?o.x:o[0],s="y"in o?o.y:o[1];o={velocity:{x:r,y:s}},e[1]!==void 0&&(o.kernelSize=e[1]),e[2]!==void 0&&(o.offset=e[2])}o={...Ek.DEFAULT_OPTIONS,...o};const n=te.from({vertex:{source:ce,entryPoint:"mainVertex"},fragment:{source:uZ,entryPoint:"mainFragment"}}),i=oe.from({vertex:ae,fragment:cZ,name:"motion-blur-filter"});super({gpuProgram:n,glProgram:i,resources:{motionBlurUniforms:{uVelocity:{value:o.velocity,type:"vec2<f32>"},uKernelSize:{value:Math.trunc(o.kernelSize??5),type:"i32"},uOffset:{value:o.offset,type:"f32"}}}}),wy(this,"uniforms"),wy(this,"_kernelSize"),this.uniforms=this.resources.motionBlurUniforms.uniforms,Object.assign(this,o)}get velocity(){return this.uniforms.uVelocity}set velocity(e){Array.isArray(e)&&(e={x:e[0],y:e[1]}),this.uniforms.uVelocity=e,this._updateDirty()}get velocityX(){return this.velocity.x}set velocityX(e){this.velocity.x=e,this._updateDirty()}get velocityY(){return this.velocity.y}set velocityY(e){this.velocity.y=e,this._updateDirty()}get kernelSize(){return this._kernelSize}set kernelSize(e){this._kernelSize=e,this._updateDirty()}get offset(){return this.uniforms.uOffset}set offset(e){this.uniforms.uOffset=e}_updateDirty(){this.padding=(Math.max(Math.abs(this.velocityX),Math.abs(this.velocityY))>>0)+1,this.uniforms.uKernelSize=this.velocityX!==0||this.velocityY!==0?this._kernelSize:0}};wy(dZ,"DEFAULT_OPTIONS",{velocity:{x:0,y:0},kernelSize:5,offset:0});var fZ=`in vec2 vTextureCoord;
out vec4 finalColor;

const int MAX_COLORS = \${MAX_COLORS};

uniform sampler2D uTexture;
uniform vec3 uOriginalColors[MAX_COLORS];
uniform vec3 uTargetColors[MAX_COLORS];
uniform float uTolerance;

void main(void)
{
    finalColor = texture(uTexture, vTextureCoord);

    float alpha = finalColor.a;
    if (alpha < 0.0001)
    {
      return;
    }

    vec3 color = finalColor.rgb / alpha;

    for(int i = 0; i < MAX_COLORS; i++)
    {
      vec3 origColor = uOriginalColors[i];
      if (origColor.r < 0.0)
      {
        break;
      }
      vec3 colorDiff = origColor - color;
      if (length(colorDiff) < uTolerance)
      {
        vec3 targetColor = uTargetColors[i];
        finalColor = vec4((targetColor + colorDiff) * alpha, alpha);
        return;
      }
    }
}
`,hZ=`struct MultiColorReplaceUniforms {
  uOriginalColors: array<vec3<f32>, MAX_COLORS>,
  uTargetColors: array<vec3<f32>, MAX_COLORS>,
  uTolerance:f32,
};

@group(0) @binding(1) var uTexture: texture_2d<f32>; 
@group(0) @binding(2) var uSampler: sampler;
@group(1) @binding(0) var<uniform> multiColorReplaceUniforms : MultiColorReplaceUniforms;

@fragment
fn mainFragment(
  @builtin(position) position: vec4<f32>,
  @location(0) uv : vec2<f32>
) -> @location(0) vec4<f32> {
  let uOriginalColors = multiColorReplaceUniforms.uOriginalColors;
  let uTargetColors = multiColorReplaceUniforms.uTargetColors;
  let uTolerance = multiColorReplaceUniforms.uTolerance;

  var color: vec4<f32> = textureSample(uTexture, uSampler, uv);

  let alpha: f32 = color.a;

  if (alpha > 0.0001)
  {
    var modColor: vec3<f32> = vec3<f32>(color.rgb) / alpha;

    for(var i: i32 = 0; i < MAX_COLORS; i += 1)
    {
      let origColor: vec3<f32> = uOriginalColors[i];
      if (origColor.r < 0.0)
      {
        break;
      }
      let colorDiff: vec3<f32> = origColor - modColor;
      
      if (length(colorDiff) < uTolerance)
      {
        let targetColor: vec3<f32> = uTargetColors[i];
        color = vec4((targetColor + colorDiff) * alpha, alpha);
        return color;
      }
    }
  }

  return color;
}

const MAX_COLORS: i32 = \${MAX_COLORS};`,gZ=Object.defineProperty,mZ=(t,e,o)=>e in t?gZ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,ta=(t,e,o)=>(mZ(t,typeof e!="symbol"?e+"":e,o),o);const bZ=class _k extends ie{constructor(...e){let o=e[0]??{};Array.isArray(o)&&($("6.0.0","MultiColorReplaceFilter constructor params are now options object. See params: { replacements, tolerance, maxColors }"),o={replacements:o},e[1]&&(o.tolerance=e[1]),e[2]&&(o.maxColors=e[2])),o={..._k.DEFAULT_OPTIONS,...o};const n=o.maxColors??o.replacements.length,i=te.from({vertex:{source:ce,entryPoint:"mainVertex"},fragment:{source:hZ.replace(/\$\{MAX_COLORS\}/g,n.toFixed(0)),entryPoint:"mainFragment"}}),r=oe.from({vertex:ae,fragment:fZ.replace(/\$\{MAX_COLORS\}/g,n.toFixed(0)),name:"multi-color-replace-filter"});super({gpuProgram:i,glProgram:r,resources:{multiColorReplaceUniforms:{uOriginalColors:{value:new Float32Array(3*n),type:"vec3<f32>",size:n},uTargetColors:{value:new Float32Array(3*n),type:"vec3<f32>",size:n},uTolerance:{value:o.tolerance,type:"f32"}}}}),ta(this,"uniforms"),ta(this,"_replacements",[]),ta(this,"_maxColors"),this._maxColors=n,this.uniforms=this.resources.multiColorReplaceUniforms.uniforms,this.replacements=o.replacements}set replacements(e){const o=this.uniforms.uOriginalColors,n=this.uniforms.uTargetColors,i=e.length,r=new K;if(i>this._maxColors)throw new Error(`Length of replacements (${i}) exceeds the maximum colors length (${this._maxColors})`);o[i*3]=-1;let s,l,a;for(let c=0;c<i;c++){const u=e[c];r.setValue(u[0]),[s,l,a]=r.toArray(),o[c*3]=s,o[c*3+1]=l,o[c*3+2]=a,r.setValue(u[1]),[s,l,a]=r.toArray(),n[c*3]=s,n[c*3+1]=l,n[c*3+2]=a}this._replacements=e}get replacements(){return this._replacements}refresh(){this.replacements=this._replacements}get maxColors(){return this._maxColors}get tolerance(){return this.uniforms.uTolerance}set tolerance(e){this.uniforms.uTolerance=e}set epsilon(e){$("6.0.0","MultiColorReplaceFilter.epsilon is deprecated, please use MultiColorReplaceFilter.tolerance instead"),this.tolerance=e}get epsilon(){return $("6.0.0","MultiColorReplaceFilter.epsilon is deprecated, please use MultiColorReplaceFilter.tolerance instead"),this.tolerance}};ta(bZ,"DEFAULT_OPTIONS",{replacements:[[16711680,255]],tolerance:.05,maxColors:void 0});var xZ=`precision highp float;
in vec2 vTextureCoord;
out vec4 finalColor;

uniform sampler2D uTexture;
uniform float uSepia;
uniform vec2 uNoise;
uniform vec3 uScratch;
uniform vec3 uVignetting;
uniform float uSeed;
uniform vec2 uDimensions;

uniform vec4 uInputSize;

const float SQRT_2 = 1.414213;
const vec3 SEPIA_RGB = vec3(112.0 / 255.0, 66.0 / 255.0, 20.0 / 255.0);

float rand(vec2 co) {
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

vec3 Overlay(vec3 src, vec3 dst)
{
    // if (dst <= 0.5) then: 2 * src * dst
    // if (dst > 0.5) then: 1 - 2 * (1 - dst) * (1 - src)
    return vec3((dst.x <= 0.5) ? (2.0 * src.x * dst.x) : (1.0 - 2.0 * (1.0 - dst.x) * (1.0 - src.x)),
                (dst.y <= 0.5) ? (2.0 * src.y * dst.y) : (1.0 - 2.0 * (1.0 - dst.y) * (1.0 - src.y)),
                (dst.z <= 0.5) ? (2.0 * src.z * dst.z) : (1.0 - 2.0 * (1.0 - dst.z) * (1.0 - src.z)));
}


void main()
{
    finalColor = texture(uTexture, vTextureCoord);
    vec3 color = finalColor.rgb;

    if (uSepia > 0.0)
    {
        float gray = (color.x + color.y + color.z) / 3.0;
        vec3 grayscale = vec3(gray);

        color = Overlay(SEPIA_RGB, grayscale);

        color = grayscale + uSepia * (color - grayscale);
    }

    vec2 coord = vTextureCoord * uInputSize.xy / uDimensions.xy;

    float vignette = uVignetting[0];
    float vignetteAlpha = uVignetting[1];
    float vignetteBlur = uVignetting[2];

    if (vignette > 0.0)
    {
        float outter = SQRT_2 - vignette * SQRT_2;
        vec2 dir = vec2(vec2(0.5, 0.5) - coord);
        dir.y *= uDimensions.y / uDimensions.x;
        float darker = clamp((outter - length(dir) * SQRT_2) / ( 0.00001 + vignetteBlur * SQRT_2), 0.0, 1.0);
        color.rgb *= darker + (1.0 - darker) * (1.0 - vignetteAlpha);
    }

    float scratch = uScratch[0];
    float scratchDensity = uScratch[1];
    float scratchWidth = uScratch[2];

    if (scratchDensity > uSeed && scratch != 0.0)
    {
        float phase = uSeed * 256.0;
        float s = mod(floor(phase), 2.0);
        float dist = 1.0 / scratchDensity;
        float d = distance(coord, vec2(uSeed * dist, abs(s - uSeed * dist)));
        if (d < uSeed * 0.6 + 0.4)
        {
            highp float period = scratchDensity * 10.0;

            float xx = coord.x * period + phase;
            float aa = abs(mod(xx, 0.5) * 4.0);
            float bb = mod(floor(xx / 0.5), 2.0);
            float yy = (1.0 - bb) * aa + bb * (2.0 - aa);

            float kk = 2.0 * period;
            float dw = scratchWidth / uDimensions.x * (0.75 + uSeed);
            float dh = dw * kk;

            float tine = (yy - (2.0 - dh));

            if (tine > 0.0) {
                float _sign = sign(scratch);

                tine = s * tine / period + scratch + 0.1;
                tine = clamp(tine + 1.0, 0.5 + _sign * 0.5, 1.5 + _sign * 0.5);

                color.rgb *= tine;
            }
        }
    }

    float noise = uNoise[0];
    float noiseSize = uNoise[1];

    if (noise > 0.0 && noiseSize > 0.0)
    {
        vec2 pixelCoord = vTextureCoord.xy * uInputSize.xy;
        pixelCoord.x = floor(pixelCoord.x / noiseSize);
        pixelCoord.y = floor(pixelCoord.y / noiseSize);
        // vec2 d = pixelCoord * noiseSize * vec2(1024.0 + uSeed * 512.0, 1024.0 - uSeed * 512.0);
        // float _noise = snoise(d) * 0.5;
        float _noise = rand(pixelCoord * noiseSize * uSeed) - 0.5;
        color += _noise * noise;
    }

    finalColor.rgb = color;
}`,kZ=`struct OldFilmUniforms {
    uSepia: f32,
    uNoise: vec2<f32>,
    uScratch: vec3<f32>,
    uVignetting: vec3<f32>,
    uSeed: f32,
    uDimensions: vec2<f32>,
};

struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;

@group(0) @binding(1) var uTexture: texture_2d<f32>; 
@group(0) @binding(2) var uSampler: sampler;
@group(1) @binding(0) var<uniform> oldFilmUniforms : OldFilmUniforms;

@fragment
fn mainFragment(
  @builtin(position) position: vec4<f32>,
  @location(0) uv : vec2<f32>
) -> @location(0) vec4<f32> {
  var color: vec4<f32> = textureSample(uTexture, uSampler, uv);

  if (oldFilmUniforms.uSepia > 0.)
  {
    color = vec4<f32>(sepia(color.rgb), color.a);
  }

  let coord: vec2<f32> = uv * gfu.uInputSize.xy / oldFilmUniforms.uDimensions;

  if (oldFilmUniforms.uVignetting[0] > 0.)
  {
    color *= vec4<f32>(vec3<f32>(vignette(color.rgb, coord)), color.a);
  }

  let uScratch = oldFilmUniforms.uScratch; 

  if (uScratch[1] > oldFilmUniforms.uSeed && uScratch[0] != 0.)
  {
    color = vec4<f32>(scratch(color.rgb, coord), color.a);
  }

  let uNoise = oldFilmUniforms.uNoise;

  if (uNoise[0] > 0.0 && uNoise[1] > 0.0)
  {
    color += vec4<f32>(vec3<f32>(noise(uv)), color.a);
  }

  return color;
}

const SQRT_2: f32 = 1.414213;
const SEPIA_RGB: vec3<f32> = vec3<f32>(112.0 / 255.0, 66.0 / 255.0, 20.0 / 255.0);

fn modulo(x: f32, y: f32) -> f32
{
  return x - y * floor(x/y);
}

fn rand(co: vec2<f32>) -> f32
{
  return fract(sin(dot(co, vec2<f32>(12.9898, 78.233))) * 43758.5453);
}

fn overlay(src: vec3<f32>, dst: vec3<f32>) -> vec3<f32>
{
    // if (dst <= 0.5) then: 2 * src * dst
    // if (dst > 0.5) then: 1 - 2 * (1 - dst) * (1 - src)

    return vec3<f32>(
      select((1.0 - 2.0 * (1.0 - dst.x) * (1.0 - src.x)), (2.0 * src.x * dst.x), (dst.x <= 0.5)), 
      select((1.0 - 2.0 * (1.0 - dst.y) * (1.0 - src.y)), (2.0 * src.y * dst.y), (dst.y <= 0.5)),
      select((1.0 - 2.0 * (1.0 - dst.z) * (1.0 - src.z)), (2.0 * src.z * dst.z), (dst.z <= 0.5))
    );
}

fn sepia(co: vec3<f32>) -> vec3<f32>
{
  let gray: f32 = (co.x + co.y + co.z) / 3.0;
  let grayscale: vec3<f32> = vec3<f32>(gray);
  let color = overlay(SEPIA_RGB, grayscale);
  return grayscale + oldFilmUniforms.uSepia * (color - grayscale);
}

fn vignette(co: vec3<f32>, coord: vec2<f32>) -> f32
{
  let uVignetting = oldFilmUniforms.uVignetting;
  let uDimensions = oldFilmUniforms.uDimensions;
  
  let outter: f32 = SQRT_2 - uVignetting[0] * SQRT_2;
  var dir: vec2<f32> = vec2<f32>(vec2<f32>(0.5) - coord);
  dir.y *= uDimensions.y / uDimensions.x;
  let darker: f32 = clamp((outter - length(dir) * SQRT_2) / ( 0.00001 + uVignetting[2] * SQRT_2), 0.0, 1.0);
  return darker + (1.0 - darker) * (1.0 - uVignetting[1]);
}

fn scratch(co: vec3<f32>, coord: vec2<f32>) -> vec3<f32>
{
  var color = co;
  let uScratch = oldFilmUniforms.uScratch;
  let uSeed = oldFilmUniforms.uSeed;
  let uDimensions = oldFilmUniforms.uDimensions;

  let phase: f32 = uSeed * 256.0;
  let s: f32 = modulo(floor(phase), 2.0);
  let dist: f32 = 1.0 / uScratch[1];
  let d: f32 = distance(coord, vec2<f32>(uSeed * dist, abs(s - uSeed * dist)));

  if (d < uSeed * 0.6 + 0.4)
  {
    let period: f32 = uScratch[1] * 10.0;

    let xx: f32 = coord.x * period + phase;
    let aa: f32 = abs(modulo(xx, 0.5) * 4.0);
    let bb: f32 = modulo(floor(xx / 0.5), 2.0);
    let yy: f32 = (1.0 - bb) * aa + bb * (2.0 - aa);

    let kk: f32 = 2.0 * period;
    let dw: f32 = uScratch[2] / uDimensions.x * (0.75 + uSeed);
    let dh: f32 = dw * kk;

    var tine: f32 = (yy - (2.0 - dh));

    if (tine > 0.0) {
        let _sign: f32 = sign(uScratch[0]);

        tine = s * tine / period + uScratch[0] + 0.1;
        tine = clamp(tine + 1.0, 0.5 + _sign * 0.5, 1.5 + _sign * 0.5);

        color *= tine;
    }
  }

  return color;
}

fn noise(coord: vec2<f32>) -> f32
{
  let uNoise = oldFilmUniforms.uNoise;
  let uSeed = oldFilmUniforms.uSeed;

  var pixelCoord: vec2<f32> = coord * gfu.uInputSize.xy;
  pixelCoord.x = floor(pixelCoord.x / uNoise[1]);
  pixelCoord.y = floor(pixelCoord.y / uNoise[1]);
  return (rand(pixelCoord * uNoise[1] * uSeed) - 0.5) * uNoise[0];
}`,wZ=Object.defineProperty,vZ=(t,e,o)=>e in t?wZ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,vy=(t,e,o)=>(vZ(t,typeof e!="symbol"?e+"":e,o),o);const zZ=class Ck extends ie{constructor(e){e={...Ck.DEFAULT_OPTIONS,...e};const o=te.from({vertex:{source:ce,entryPoint:"mainVertex"},fragment:{source:kZ,entryPoint:"mainFragment"}}),n=oe.from({vertex:ae,fragment:xZ,name:"old-film-filter"});super({gpuProgram:o,glProgram:n,resources:{oldFilmUniforms:{uSepia:{value:e.sepia,type:"f32"},uNoise:{value:new Float32Array(2),type:"vec2<f32>"},uScratch:{value:new Float32Array(3),type:"vec3<f32>"},uVignetting:{value:new Float32Array(3),type:"vec3<f32>"},uSeed:{value:e.seed,type:"f32"},uDimensions:{value:new Float32Array(2),type:"vec2<f32>"}}}}),vy(this,"uniforms"),vy(this,"seed"),this.uniforms=this.resources.oldFilmUniforms.uniforms,Object.assign(this,e)}apply(e,o,n,i){this.uniforms.uDimensions[0]=o.frame.width,this.uniforms.uDimensions[1]=o.frame.height,this.uniforms.uSeed=this.seed,e.applyFilter(this,o,n,i)}get sepia(){return this.uniforms.uSepia}set sepia(e){this.uniforms.uSepia=e}get noise(){return this.uniforms.uNoise[0]}set noise(e){this.uniforms.uNoise[0]=e}get noiseSize(){return this.uniforms.uNoise[1]}set noiseSize(e){this.uniforms.uNoise[1]=e}get scratch(){return this.uniforms.uScratch[0]}set scratch(e){this.uniforms.uScratch[0]=e}get scratchDensity(){return this.uniforms.uScratch[1]}set scratchDensity(e){this.uniforms.uScratch[1]=e}get scratchWidth(){return this.uniforms.uScratch[2]}set scratchWidth(e){this.uniforms.uScratch[2]=e}get vignetting(){return this.uniforms.uVignetting[0]}set vignetting(e){this.uniforms.uVignetting[0]=e}get vignettingAlpha(){return this.uniforms.uVignetting[1]}set vignettingAlpha(e){this.uniforms.uVignetting[1]=e}get vignettingBlur(){return this.uniforms.uVignetting[2]}set vignettingBlur(e){this.uniforms.uVignetting[2]=e}};vy(zZ,"DEFAULT_OPTIONS",{sepia:.3,noise:.3,noiseSize:1,scratch:.5,scratchDensity:.3,scratchWidth:1,vignetting:.3,vignettingAlpha:1,vignettingBlur:.3,seed:0});var SZ=`precision highp float;
in vec2 vTextureCoord;
out vec4 finalColor;

uniform sampler2D uTexture;
uniform vec2 uThickness;
uniform vec3 uColor;
uniform float uAlpha;
uniform float uKnockout;

uniform vec4 uInputClamp;

const float DOUBLE_PI = 2. * 3.14159265358979323846264;
const float ANGLE_STEP = \${ANGLE_STEP};

float outlineMaxAlphaAtPos(vec2 pos) {
    if (uThickness.x == 0. || uThickness.y == 0.) {
        return 0.;
    }

    vec4 displacedColor;
    vec2 displacedPos;
    float maxAlpha = 0.;

    for (float angle = 0.; angle <= DOUBLE_PI; angle += ANGLE_STEP) {
        displacedPos.x = vTextureCoord.x + uThickness.x * cos(angle);
        displacedPos.y = vTextureCoord.y + uThickness.y * sin(angle);
        displacedColor = texture(uTexture, clamp(displacedPos, uInputClamp.xy, uInputClamp.zw));
        maxAlpha = max(maxAlpha, displacedColor.a);
    }

    return maxAlpha;
}

void main(void) {
    vec4 sourceColor = texture(uTexture, vTextureCoord);
    vec4 contentColor = sourceColor * float(uKnockout < 0.5);
    float outlineAlpha = uAlpha * outlineMaxAlphaAtPos(vTextureCoord.xy) * (1.-sourceColor.a);
    vec4 outlineColor = vec4(vec3(uColor) * outlineAlpha, outlineAlpha);
    finalColor = contentColor + outlineColor;
}
`,EZ=`struct OutlineUniforms {
  uThickness:vec2<f32>,
  uColor:vec3<f32>,
  uAlpha:f32,
  uAngleStep:f32,
  uKnockout:f32,
};

struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;

@group(0) @binding(1) var uTexture: texture_2d<f32>; 
@group(0) @binding(2) var uSampler: sampler;
@group(1) @binding(0) var<uniform> outlineUniforms : OutlineUniforms;

@fragment
fn mainFragment(
  @builtin(position) position: vec4<f32>,
  @location(0) uv : vec2<f32>
) -> @location(0) vec4<f32> {
  let sourceColor: vec4<f32> = textureSample(uTexture, uSampler, uv);
  let contentColor: vec4<f32> = sourceColor * (1. - outlineUniforms.uKnockout);
  
  let outlineAlpha: f32 = outlineUniforms.uAlpha * outlineMaxAlphaAtPos(uv) * (1. - sourceColor.a);
  let outlineColor: vec4<f32> = vec4<f32>(vec3<f32>(outlineUniforms.uColor) * outlineAlpha, outlineAlpha);
  
  return contentColor + outlineColor;
}

fn outlineMaxAlphaAtPos(uv: vec2<f32>) -> f32 {
  let thickness = outlineUniforms.uThickness;

  if (thickness.x == 0. || thickness.y == 0.) {
    return 0.;
  }
  
  let angleStep = outlineUniforms.uAngleStep;

  var displacedColor: vec4<f32>;
  var displacedPos: vec2<f32>;

  var maxAlpha: f32 = 0.;
  var displaced: vec2<f32>;
  var curColor: vec4<f32>;

  for (var angle = 0.; angle <= DOUBLE_PI; angle += angleStep)
  {
    displaced.x = uv.x + thickness.x * cos(angle);
    displaced.y = uv.y + thickness.y * sin(angle);
    curColor = textureSample(uTexture, uSampler, clamp(displaced, gfu.uInputClamp.xy, gfu.uInputClamp.zw));
    maxAlpha = max(maxAlpha, curColor.a);
  }

  return maxAlpha;
}

const DOUBLE_PI: f32 = 3.14159265358979323846264 * 2.;`,_Z=Object.defineProperty,CZ=(t,e,o)=>e in t?_Z(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,Bn=(t,e,o)=>(CZ(t,typeof e!="symbol"?e+"":e,o),o);const cf=class An extends ie{constructor(...e){let o=e[0]??{};typeof o=="number"&&($("6.0.0","OutlineFilter constructor params are now options object. See params: { thickness, color, quality, alpha, knockout }"),o={thickness:o},e[1]!==void 0&&(o.color=e[1]),e[2]!==void 0&&(o.quality=e[2]),e[3]!==void 0&&(o.alpha=e[3]),e[4]!==void 0&&(o.knockout=e[4])),o={...An.DEFAULT_OPTIONS,...o};const n=o.quality??.1,i=te.from({vertex:{source:ce,entryPoint:"mainVertex"},fragment:{source:EZ,entryPoint:"mainFragment"}}),r=oe.from({vertex:ae,fragment:SZ.replace(/\$\{ANGLE_STEP\}/,An.getAngleStep(n).toFixed(7)),name:"outline-filter"});super({gpuProgram:i,glProgram:r,resources:{outlineUniforms:{uThickness:{value:new Float32Array(2),type:"vec2<f32>"},uColor:{value:new Float32Array(3),type:"vec3<f32>"},uAlpha:{value:o.alpha,type:"f32"},uAngleStep:{value:0,type:"f32"},uKnockout:{value:o.knockout?1:0,type:"f32"}}}}),Bn(this,"uniforms"),Bn(this,"_thickness"),Bn(this,"_quality"),Bn(this,"_color"),this.uniforms=this.resources.outlineUniforms.uniforms,this.uniforms.uAngleStep=An.getAngleStep(n),this._color=new K,this.color=o.color??0,Object.assign(this,o)}apply(e,o,n,i){this.uniforms.uThickness[0]=this.thickness/o.source.width,this.uniforms.uThickness[1]=this.thickness/o.source.height,e.applyFilter(this,o,n,i)}static getAngleStep(e){return parseFloat((Math.PI*2/Math.max(e*An.MAX_SAMPLES,An.MIN_SAMPLES)).toFixed(7))}get thickness(){return this._thickness}set thickness(e){this._thickness=this.padding=e}get color(){return this._color.value}set color(e){this._color.setValue(e);const[o,n,i]=this._color.toArray();this.uniforms.uColor[0]=o,this.uniforms.uColor[1]=n,this.uniforms.uColor[2]=i}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}get quality(){return this._quality}set quality(e){this._quality=e,this.uniforms.uAngleStep=An.getAngleStep(e)}get knockout(){return this.uniforms.uKnockout===1}set knockout(e){this.uniforms.uKnockout=e?1:0}};Bn(cf,"DEFAULT_OPTIONS",{thickness:1,color:0,alpha:1,quality:.1,knockout:!1});Bn(cf,"MIN_SAMPLES",1);Bn(cf,"MAX_SAMPLES",100);var ZZ=`precision highp float;
in vec2 vTextureCoord;
out vec4 finalColor;

uniform sampler2D uTexture;
uniform float uRadian;
uniform vec2 uCenter;
uniform float uRadius;
uniform int uKernelSize;

uniform vec4 uInputSize;

const int MAX_KERNEL_SIZE = 2048;

void main(void)
{
    vec4 color = texture(uTexture, vTextureCoord);

    if (uKernelSize == 0)
    {
        finalColor = color;
        return;
    }

    float aspect = uInputSize.y / uInputSize.x;
    vec2 center = uCenter.xy / uInputSize.xy;
    float gradient = uRadius / uInputSize.x * 0.3;
    float radius = uRadius / uInputSize.x - gradient * 0.5;
    int k = uKernelSize - 1;

    vec2 coord = vTextureCoord;
    vec2 dir = vec2(center - coord);
    float dist = length(vec2(dir.x, dir.y * aspect));

    float radianStep = uRadian;
    if (radius >= 0.0 && dist > radius) {
        float delta = dist - radius;
        float gap = gradient;
        float scale = 1.0 - abs(delta / gap);
        if (scale <= 0.0) {
            finalColor = color;
            return;
        }
        radianStep *= scale;
    }
    radianStep /= float(k);

    float s = sin(radianStep);
    float c = cos(radianStep);
    mat2 rotationMatrix = mat2(vec2(c, -s), vec2(s, c));

    for(int i = 0; i < MAX_KERNEL_SIZE - 1; i++) {
        if (i == k) {
            break;
        }

        coord -= center;
        coord.y *= aspect;
        coord = rotationMatrix * coord;
        coord.y /= aspect;
        coord += center;

        vec4 sample = texture(uTexture, coord);

        // switch to pre-multiplied alpha to correctly blur transparent images
        // sample.rgb *= sample.a;

        color += sample;
    }

    finalColor = color / float(uKernelSize);
}
`,RZ=`struct RadialBlurUniforms {
  uRadian: f32,
  uCenter: vec2<f32>,
  uKernelSize: f32,
  uRadius: f32,
};

struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;

@group(0) @binding(1) var uTexture: texture_2d<f32>; 
@group(0) @binding(2) var uSampler: sampler;
@group(1) @binding(0) var<uniform> radialBlurUniforms : RadialBlurUniforms;

@fragment
fn mainFragment(
  @builtin(position) position: vec4<f32>,
  @location(0) uv : vec2<f32>
) -> @location(0) vec4<f32> {
  let uRadian = radialBlurUniforms.uRadian;
  let uCenter = radialBlurUniforms.uCenter;
  let uKernelSize = radialBlurUniforms.uKernelSize;
  let uRadius = radialBlurUniforms.uRadius;
  
  var returnColorOnly = false;

  if (uKernelSize == 0)
  {
    returnColorOnly = true;
  }

  let aspect: f32 = gfu.uInputSize.y / gfu.uInputSize.x;
  let center: vec2<f32> = uCenter.xy / gfu.uInputSize.xy;
  let gradient: f32 = uRadius / gfu.uInputSize.x * 0.3;
  let radius: f32 = uRadius / gfu.uInputSize.x - gradient * 0.5;
  let k: i32 = i32(uKernelSize - 1);

  var coord: vec2<f32> = uv;
  let dir: vec2<f32> = vec2<f32>(center - coord);
  let dist: f32 = length(vec2<f32>(dir.x, dir.y * aspect));

  var radianStep: f32 = uRadian;
  
  if (radius >= 0.0 && dist > radius)
  {
    let delta: f32 = dist - radius;
    let gap: f32 = gradient;
    let scale: f32 = 1.0 - abs(delta / gap);
    if (scale <= 0.0) {
      returnColorOnly = true;
    }
    radianStep *= scale;
  }

  radianStep /= f32(k);

  let s: f32 = sin(radianStep);
  let c: f32 = cos(radianStep);
  let rotationMatrix: mat2x2<f32> = mat2x2<f32>(vec2<f32>(c, -s), vec2<f32>(s, c));
  
  var color: vec4<f32> = textureSample(uTexture, uSampler, uv);
  let baseColor = vec4<f32>(color);

  let minK: i32 = min(i32(uKernelSize) - 1, MAX_KERNEL_SIZE - 1);

  for(var i: i32 = 0; i < minK; i += 1) 
  {
    coord -= center;
    coord.y *= aspect;
    coord = rotationMatrix * coord;
    coord.y /= aspect;
    coord += center;
    let sample: vec4<f32> = textureSample(uTexture, uSampler, coord);
    // switch to pre-multiplied alpha to correctly blur transparent images
    // sample.rgb *= sample.a;
    color += sample;
  }

  return select(color / f32(uKernelSize), baseColor, returnColorOnly);
}

const MAX_KERNEL_SIZE: i32 = 2048;`,AZ=Object.defineProperty,PZ=(t,e,o)=>e in t?AZ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,oa=(t,e,o)=>(PZ(t,typeof e!="symbol"?e+"":e,o),o);const TZ=class Zk extends ie{constructor(...e){let o=e[0]??{};if(typeof o=="number"){if($("6.0.0","RadialBlurFilter constructor params are now options object. See params: { angle, center, kernelSize, radius }"),o={angle:o},e[1]){const r="x"in e[1]?e[1].x:e[1][0],s="y"in e[1]?e[1].y:e[1][1];o.center={x:r,y:s}}e[2]&&(o.kernelSize=e[2]),e[3]&&(o.radius=e[3])}o={...Zk.DEFAULT_OPTIONS,...o};const n=te.from({vertex:{source:ce,entryPoint:"mainVertex"},fragment:{source:RZ,entryPoint:"mainFragment"}}),i=oe.from({vertex:ae,fragment:ZZ,name:"radial-blur-filter"});super({gpuProgram:n,glProgram:i,resources:{radialBlurUniforms:{uRadian:{value:0,type:"f32"},uCenter:{value:o.center,type:"vec2<f32>"},uKernelSize:{value:o.kernelSize,type:"i32"},uRadius:{value:o.radius,type:"f32"}}}}),oa(this,"uniforms"),oa(this,"_angle"),oa(this,"_kernelSize"),this.uniforms=this.resources.radialBlurUniforms.uniforms,Object.assign(this,o)}_updateKernelSize(){this.uniforms.uKernelSize=this._angle!==0?this.kernelSize:0}get angle(){return this._angle}set angle(e){this._angle=e,this.uniforms.uRadian=e*Math.PI/180,this._updateKernelSize()}get center(){return this.uniforms.uCenter}set center(e){Array.isArray(e)&&(e={x:e[0],y:e[1]}),this.uniforms.uCenter=e}get centerX(){return this.center.x}set centerX(e){this.center.x=e}get centerY(){return this.center.y}set centerY(e){this.center.y=e}get kernelSize(){return this._kernelSize}set kernelSize(e){this._kernelSize=e,this._updateKernelSize()}get radius(){return this.uniforms.uRadius}set radius(e){this.uniforms.uRadius=e<0||e===1/0?-1:e}};oa(TZ,"DEFAULT_OPTIONS",{angle:0,center:{x:0,y:0},kernelSize:5,radius:-1});var jZ=`precision highp float;
in vec2 vTextureCoord;
out vec4 finalColor;

uniform sampler2D uTexture;
uniform float uMirror;
uniform float uBoundary;
uniform vec2 uAmplitude;
uniform vec2 uWavelength;
uniform vec2 uAlpha;
uniform float uTime;
uniform vec2 uDimensions;

uniform vec4 uInputSize;
uniform vec4 uInputClamp;

float rand(vec2 co) {
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main(void)
{
    vec2 pixelCoord = vTextureCoord.xy * uInputSize.xy;
    vec2 coord = pixelCoord / uDimensions;

    if (coord.y < uBoundary) {
        finalColor = texture(uTexture, vTextureCoord);
        return;
    }

    float k = (coord.y - uBoundary) / (1. - uBoundary + 0.0001);
    float areaY = uBoundary * uDimensions.y / uInputSize.y;
    float v = areaY + areaY - vTextureCoord.y;
    float y = uMirror > 0.5 ? v : vTextureCoord.y;

    float _amplitude = ((uAmplitude.y - uAmplitude.x) * k + uAmplitude.x ) / uInputSize.x;
    float _waveLength = ((uWavelength.y - uWavelength.x) * k + uWavelength.x) / uInputSize.y;
    float _alpha = (uAlpha.y - uAlpha.x) * k + uAlpha.x;

    float x = vTextureCoord.x + cos(v * 6.28 / _waveLength - uTime) * _amplitude;
    x = clamp(x, uInputClamp.x, uInputClamp.z);

    vec4 color = texture(uTexture, vec2(x, y));

    finalColor = color * _alpha;
}
`,IZ=`struct ReflectionUniforms {
  uMirror: f32,
  uBoundary: f32,
  uAmplitude: vec2<f32>,
  uWavelength: vec2<f32>,
  uAlpha: vec2<f32>,
  uTime: f32,
  uDimensions: vec2<f32>,
};

struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;

@group(0) @binding(1) var uTexture: texture_2d<f32>; 
@group(0) @binding(2) var uSampler: sampler;
@group(1) @binding(0) var<uniform> reflectionUniforms : ReflectionUniforms;

@fragment
fn mainFragment(
  @builtin(position) position: vec4<f32>,
  @location(0) uv : vec2<f32>
) -> @location(0) vec4<f32> {
  let uDimensions: vec2<f32> = reflectionUniforms.uDimensions;
  let uBoundary: f32 = reflectionUniforms.uBoundary;
  let uMirror: bool = reflectionUniforms.uMirror > 0.5;
  let uAmplitude: vec2<f32> = reflectionUniforms.uAmplitude;
  let uWavelength: vec2<f32> = reflectionUniforms.uWavelength;
  let uAlpha: vec2<f32> = reflectionUniforms.uAlpha;
  let uTime: f32 = reflectionUniforms.uTime;

  let pixelCoord: vec2<f32> = uv * gfu.uInputSize.xy;
  let coord: vec2<f32> = pixelCoord /uDimensions;
  var returnColorOnly: bool = false;

  if (coord.y < uBoundary) {
    returnColorOnly = true;
  }

  let k: f32 = (coord.y - uBoundary) / (1. - uBoundary + 0.0001);
  let areaY: f32 = uBoundary * uDimensions.y / gfu.uInputSize.y;
  let v: f32 = areaY + areaY - uv.y;
  let y: f32 = select(uv.y, v, uMirror);

  let amplitude: f32 = ((uAmplitude.y - uAmplitude.x) * k + uAmplitude.x ) / gfu.uInputSize.x;
  let waveLength: f32 = ((uWavelength.y - uWavelength.x) * k + uWavelength.x) / gfu.uInputSize.y;
  let alpha: f32 = select((uAlpha.y - uAlpha.x) * k + uAlpha.x, 1., returnColorOnly);

  var x: f32 = uv.x + cos(v * 6.28 / waveLength - uTime) * amplitude;
  x = clamp(x, gfu.uInputClamp.x, gfu.uInputClamp.z);
  
  return textureSample(uTexture, uSampler, select(vec2<f32>(x, y), uv, returnColorOnly)) * alpha;
}

fn rand(co: vec2<f32>) -> f32 
{
  return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}`,FZ=Object.defineProperty,MZ=(t,e,o)=>e in t?FZ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,zy=(t,e,o)=>(MZ(t,typeof e!="symbol"?e+"":e,o),o);const OZ=class Rk extends ie{constructor(e){e={...Rk.DEFAULT_OPTIONS,...e};const o=te.from({vertex:{source:ce,entryPoint:"mainVertex"},fragment:{source:IZ,entryPoint:"mainFragment"}}),n=oe.from({vertex:ae,fragment:jZ,name:"reflection-filter"});super({gpuProgram:o,glProgram:n,resources:{reflectionUniforms:{uMirror:{value:e.mirror?1:0,type:"f32"},uBoundary:{value:e.boundary,type:"f32"},uAmplitude:{value:e.amplitude,type:"vec2<f32>"},uWavelength:{value:e.waveLength,type:"vec2<f32>"},uAlpha:{value:e.alpha,type:"vec2<f32>"},uTime:{value:e.time,type:"f32"},uDimensions:{value:new Float32Array(2),type:"vec2<f32>"}}}}),zy(this,"uniforms"),zy(this,"time",0),this.uniforms=this.resources.reflectionUniforms.uniforms,Object.assign(this,e)}apply(e,o,n,i){this.uniforms.uDimensions[0]=o.frame.width,this.uniforms.uDimensions[1]=o.frame.height,this.uniforms.uTime=this.time,e.applyFilter(this,o,n,i)}get mirror(){return this.uniforms.uMirror>.5}set mirror(e){this.uniforms.uMirror=e?1:0}get boundary(){return this.uniforms.uBoundary}set boundary(e){this.uniforms.uBoundary=e}get amplitude(){return Array.from(this.uniforms.uAmplitude)}set amplitude(e){this.uniforms.uAmplitude[0]=e[0],this.uniforms.uAmplitude[1]=e[1]}get amplitudeStart(){return this.uniforms.uAmplitude[0]}set amplitudeStart(e){this.uniforms.uAmplitude[0]=e}get amplitudeEnd(){return this.uniforms.uAmplitude[1]}set amplitudeEnd(e){this.uniforms.uAmplitude[1]=e}get waveLength(){return Array.from(this.uniforms.uWavelength)}set waveLength(e){this.uniforms.uWavelength[0]=e[0],this.uniforms.uWavelength[1]=e[1]}get wavelengthStart(){return this.uniforms.uWavelength[0]}set wavelengthStart(e){this.uniforms.uWavelength[0]=e}get wavelengthEnd(){return this.uniforms.uWavelength[1]}set wavelengthEnd(e){this.uniforms.uWavelength[1]=e}get alpha(){return Array.from(this.uniforms.uAlpha)}set alpha(e){this.uniforms.uAlpha[0]=e[0],this.uniforms.uAlpha[1]=e[1]}get alphaStart(){return this.uniforms.uAlpha[0]}set alphaStart(e){this.uniforms.uAlpha[0]=e}get alphaEnd(){return this.uniforms.uAlpha[1]}set alphaEnd(e){this.uniforms.uAlpha[1]=e}};zy(OZ,"DEFAULT_OPTIONS",{mirror:!0,boundary:.5,amplitude:[0,20],waveLength:[30,100],alpha:[1,1],time:0});var DZ=`precision highp float;
in vec2 vTextureCoord;
out vec4 finalColor;

uniform sampler2D uTexture;
uniform vec4 uInputSize;
uniform vec2 uRed;
uniform vec2 uGreen;
uniform vec2 uBlue;

void main(void)
{
   float r = texture(uTexture, vTextureCoord + uRed/uInputSize.xy).r;
   float g = texture(uTexture, vTextureCoord + uGreen/uInputSize.xy).g;
   float b = texture(uTexture, vTextureCoord + uBlue/uInputSize.xy).b;
   float a = texture(uTexture, vTextureCoord).a;
   finalColor = vec4(r, g, b, a);
}
`,BZ=`struct RgbSplitUniforms {
    uRed: vec2<f32>,
    uGreen: vec2<f32>,
    uBlue: vec3<f32>,
};

struct GlobalFilterUniforms {
    uInputSize:vec4<f32>,
    uInputPixel:vec4<f32>,
    uInputClamp:vec4<f32>,
    uOutputFrame:vec4<f32>,
    uGlobalFrame:vec4<f32>,
    uOutputTexture:vec4<f32>,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;

@group(0) @binding(1) var uTexture: texture_2d<f32>; 
@group(0) @binding(2) var uSampler: sampler;
@group(1) @binding(0) var<uniform> rgbSplitUniforms : RgbSplitUniforms;

@fragment
fn mainFragment(
    @builtin(position) position: vec4<f32>,
    @location(0) uv : vec2<f32>
) -> @location(0) vec4<f32> {
    let r = textureSample(uTexture, uSampler, uv + vec2<f32>(rgbSplitUniforms.uRed.x / gfu.uInputSize.x, rgbSplitUniforms.uRed.y / gfu.uInputSize.y)).r;
    let g = textureSample(uTexture, uSampler, uv + vec2<f32>(rgbSplitUniforms.uGreen.x / gfu.uInputSize.x, rgbSplitUniforms.uGreen.y / gfu.uInputSize.y)).g;
    let b = textureSample(uTexture, uSampler, uv + vec2<f32>(rgbSplitUniforms.uBlue.x / gfu.uInputSize.x, rgbSplitUniforms.uBlue.y / gfu.uInputSize.y)).b;
    let a = textureSample(uTexture, uSampler, uv).a;
    return vec4<f32>(r, g, b, a);
}
`,GZ=Object.defineProperty,UZ=(t,e,o)=>e in t?GZ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,Ak=(t,e,o)=>(UZ(t,typeof e!="symbol"?e+"":e,o),o);const NZ=class Pk extends ie{constructor(...e){let o=e[0]??{};(Array.isArray(o)||"x"in o&&"y"in o)&&($("6.0.0","RGBSplitFilter constructor params are now options object. See params: { red, green, blue }"),o={red:o},e[1]!==void 0&&(o.green=e[1]),e[2]!==void 0&&(o.blue=e[2])),o={...Pk.DEFAULT_OPTIONS,...o};const n=te.from({vertex:{source:ce,entryPoint:"mainVertex"},fragment:{source:BZ,entryPoint:"mainFragment"}}),i=oe.from({vertex:ae,fragment:DZ,name:"rgb-split-filter"});super({gpuProgram:n,glProgram:i,resources:{rgbSplitUniforms:{uRed:{value:o.red,type:"vec2<f32>"},uGreen:{value:o.green,type:"vec2<f32>"},uBlue:{value:o.blue,type:"vec2<f32>"}}}}),Ak(this,"uniforms"),this.uniforms=this.resources.rgbSplitUniforms.uniforms,Object.assign(this,o)}get red(){return this.uniforms.uRed}set red(e){Array.isArray(e)&&(e={x:e[0],y:e[1]}),this.uniforms.uRed=e}get redX(){return this.red.x}set redX(e){this.red.x=e}get redY(){return this.red.y}set redY(e){this.red.y=e}get green(){return this.uniforms.uGreen}set green(e){Array.isArray(e)&&(e={x:e[0],y:e[1]}),this.uniforms.uGreen=e}get greenX(){return this.green.x}set greenX(e){this.green.x=e}get greenY(){return this.green.y}set greenY(e){this.green.y=e}get blue(){return this.uniforms.uBlue}set blue(e){Array.isArray(e)&&(e={x:e[0],y:e[1]}),this.uniforms.uBlue=e}get blueX(){return this.blue.x}set blueX(e){this.blue.x=e}get blueY(){return this.blue.y}set blueY(e){this.blue.y=e}};Ak(NZ,"DEFAULT_OPTIONS",{red:{x:-10,y:0},green:{x:0,y:10},blue:{x:0,y:0}});var LZ=`
precision highp float;
in vec2 vTextureCoord;
out vec4 finalColor;

uniform sampler2D uTexture;
uniform vec2 uCenter;
uniform float uTime;
uniform float uSpeed;
uniform vec4 uWave;

uniform vec4 uInputSize;
uniform vec4 uInputClamp;

const float PI = 3.14159;

void main()
{
    float uAmplitude = uWave[0];
    float uWavelength = uWave[1];
    float uBrightness = uWave[2];
    float uRadius = uWave[3];

    float halfWavelength = uWavelength * 0.5 / uInputSize.x;
    float maxRadius = uRadius / uInputSize.x;
    float currentRadius = uTime * uSpeed / uInputSize.x;

    float fade = 1.0;

    if (maxRadius > 0.0) {
        if (currentRadius > maxRadius) {
            finalColor = texture(uTexture, vTextureCoord);
            return;
        }
        fade = 1.0 - pow(currentRadius / maxRadius, 2.0);
    }

    vec2 dir = vec2(vTextureCoord - uCenter / uInputSize.xy);
    dir.y *= uInputSize.y / uInputSize.x;
    float dist = length(dir);

    if (dist <= 0.0 || dist < currentRadius - halfWavelength || dist > currentRadius + halfWavelength) {
        finalColor = texture(uTexture, vTextureCoord);
        return;
    }

    vec2 diffUV = normalize(dir);

    float diff = (dist - currentRadius) / halfWavelength;

    float p = 1.0 - pow(abs(diff), 2.0);

    // float powDiff = diff * pow(p, 2.0) * ( amplitude * fade );
    float powDiff = 1.25 * sin(diff * PI) * p * ( uAmplitude * fade );

    vec2 offset = diffUV * powDiff / uInputSize.xy;

    // Do clamp :
    vec2 coord = vTextureCoord + offset;
    vec2 clampedCoord = clamp(coord, uInputClamp.xy, uInputClamp.zw);
    vec4 color = texture(uTexture, clampedCoord);
    if (coord != clampedCoord) {
        color *= max(0.0, 1.0 - length(coord - clampedCoord));
    }

    // No clamp :
    // finalColor = texture(uTexture, vTextureCoord + offset);

    color.rgb *= 1.0 + (uBrightness - 1.0) * p * fade;

    finalColor = color;
}
`,$Z=`
struct ShockWaveUniforms {
    uTime: f32,
    uOffset: vec2<f32>,
    uSpeed: f32,
    uWave: vec4<f32>,
};

struct GlobalFilterUniforms {
    uInputSize:vec4<f32>,
    uInputPixel:vec4<f32>,
    uInputClamp:vec4<f32>,
    uOutputFrame:vec4<f32>,
    uGlobalFrame:vec4<f32>,
    uOutputTexture:vec4<f32>,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;

@group(0) @binding(1) var uTexture: texture_2d<f32>; 
@group(0) @binding(2) var uSampler: sampler;
@group(1) @binding(0) var<uniform> shockwaveUniforms : ShockWaveUniforms;

@fragment
fn mainFragment(
    @builtin(position) position: vec4<f32>,
    @location(0) uv : vec2<f32>
) -> @location(0) vec4<f32> {

    let uTime = shockwaveUniforms.uTime;
    let uOffset = shockwaveUniforms.uOffset;
    let uSpeed = shockwaveUniforms.uSpeed;
    let uAmplitude = shockwaveUniforms.uWave[0];
    let uWavelength = shockwaveUniforms.uWave[1];
    let uBrightness = shockwaveUniforms.uWave[2];
    let uRadius = shockwaveUniforms.uWave[3];
    let halfWavelength: f32 = uWavelength * 0.5 / gfu.uInputSize.x;
    let maxRadius: f32 = uRadius / gfu.uInputSize.x;
    let currentRadius: f32 = uTime * uSpeed / gfu.uInputSize.x;
    var fade: f32 = 1.0;
    var returnColorOnly: bool = false;
    
    if (maxRadius > 0.0) {
        if (currentRadius > maxRadius) {
            returnColorOnly = true;
        }
        fade = 1.0 - pow(currentRadius / maxRadius, 2.0);
    }
    var dir: vec2<f32> = vec2<f32>(uv - uOffset / gfu.uInputSize.xy);
    dir.y *= gfu.uInputSize.y / gfu.uInputSize.x;

    let dist:f32 = length(dir);

    if (dist <= 0.0 || dist < currentRadius - halfWavelength || dist > currentRadius + halfWavelength) {
        returnColorOnly = true;
    }

    let diffUV: vec2<f32> = normalize(dir);
    let diff: f32 = (dist - currentRadius) / halfWavelength;
    let p: f32 = 1.0 - pow(abs(diff), 2.0);
    let powDiff: f32 = 1.25 * sin(diff * PI) * p * ( uAmplitude * fade );
    let offset: vec2<f32> = diffUV * powDiff / gfu.uInputSize.xy;
    // Do clamp :
    let coord: vec2<f32> = uv + offset;
    let clampedCoord: vec2<f32> = clamp(coord, gfu.uInputClamp.xy, gfu.uInputClamp.zw);

    var clampedColor: vec4<f32> = textureSample(uTexture, uSampler, clampedCoord);
    
    if (boolVec2(coord, clampedCoord)) 
    {
        clampedColor *= max(0.0, 1.0 - length(coord - clampedCoord));
    }
    // No clamp :
    var finalColor = clampedColor;

    return select(finalColor, textureSample(uTexture, uSampler, uv), returnColorOnly);
}

fn boolVec2(x: vec2<f32>, y: vec2<f32>) -> bool
{
    if (x.x == y.x && x.y == y.y)
    {
        return true;
    }
    
    return false;
}

const PI: f32 = 3.14159265358979323846264;
`,WZ=Object.defineProperty,HZ=(t,e,o)=>e in t?WZ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,Sy=(t,e,o)=>(HZ(t,typeof e!="symbol"?e+"":e,o),o);const XZ=class Tk extends ie{constructor(...e){let o=e[0]??{};(Array.isArray(o)||"x"in o&&"y"in o)&&($("6.0.0","ShockwaveFilter constructor params are now options object. See params: { center, speed, amplitude, wavelength, brightness, radius, time }"),o={center:o,...e[1]},e[2]!==void 0&&(o.time=e[2])),o={...Tk.DEFAULT_OPTIONS,...o};const n=te.from({vertex:{source:ce,entryPoint:"mainVertex"},fragment:{source:$Z,entryPoint:"mainFragment"}}),i=oe.from({vertex:ae,fragment:LZ,name:"shockwave-filter"});super({gpuProgram:n,glProgram:i,resources:{shockwaveUniforms:{uTime:{value:o.time,type:"f32"},uCenter:{value:o.center,type:"vec2<f32>"},uSpeed:{value:o.speed,type:"f32"},uWave:{value:new Float32Array(4),type:"vec4<f32>"}}}}),Sy(this,"uniforms"),Sy(this,"time"),this.time=0,this.uniforms=this.resources.shockwaveUniforms.uniforms,Object.assign(this,o)}apply(e,o,n,i){this.uniforms.uTime=this.time,e.applyFilter(this,o,n,i)}get center(){return this.uniforms.uCenter}set center(e){Array.isArray(e)&&(e={x:e[0],y:e[1]}),this.uniforms.uCenter=e}get centerX(){return this.uniforms.uCenter.x}set centerX(e){this.uniforms.uCenter.x=e}get centerY(){return this.uniforms.uCenter.y}set centerY(e){this.uniforms.uCenter.y=e}get speed(){return this.uniforms.uSpeed}set speed(e){this.uniforms.uSpeed=e}get amplitude(){return this.uniforms.uWave[0]}set amplitude(e){this.uniforms.uWave[0]=e}get wavelength(){return this.uniforms.uWave[1]}set wavelength(e){this.uniforms.uWave[1]=e}get brightness(){return this.uniforms.uWave[2]}set brightness(e){this.uniforms.uWave[2]=e}get radius(){return this.uniforms.uWave[3]}set radius(e){this.uniforms.uWave[3]=e}};Sy(XZ,"DEFAULT_OPTIONS",{center:{x:0,y:0},speed:500,amplitude:30,wavelength:160,brightness:1,radius:-1});var VZ=`precision highp float;
in vec2 vTextureCoord;
out vec4 finalColor;

uniform sampler2D uTexture;
uniform sampler2D uMapTexture;
uniform vec3 uColor;
uniform float uAlpha;
uniform vec2 uDimensions;

uniform vec4 uInputSize;

void main() {
    vec4 diffuseColor = texture(uTexture, vTextureCoord);
    vec2 lightCoord = (vTextureCoord * uInputSize.xy) / uDimensions;
    vec4 light = texture(uMapTexture, lightCoord);
    vec3 ambient = uColor.rgb * uAlpha;
    vec3 intensity = ambient + light.rgb;
    vec3 color = diffuseColor.rgb * intensity;
    finalColor = vec4(color, diffuseColor.a);
}
`,qZ=`struct SimpleLightmapUniforms {
  uColor: vec3<f32>,
  uAlpha: f32,
  uDimensions: vec2<f32>,
};

struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;

@group(0) @binding(1) var uTexture: texture_2d<f32>; 
@group(0) @binding(2) var uSampler: sampler;
@group(1) @binding(0) var<uniform> simpleLightmapUniforms : SimpleLightmapUniforms;
@group(1) @binding(1) var uMapTexture: texture_2d<f32>;
@group(1) @binding(2) var uMapSampler: sampler;

@fragment
fn mainFragment(
  @builtin(position) position: vec4<f32>,
  @location(0) uv : vec2<f32>,
) -> @location(0) vec4<f32> {
  let uColor = simpleLightmapUniforms.uColor;
  let uAlpha = simpleLightmapUniforms.uAlpha;
  let uDimensions = simpleLightmapUniforms.uDimensions;

  let diffuseColor: vec4<f32> = textureSample(uTexture, uSampler, uv);
  let lightCoord: vec2<f32> = (uv * gfu.uInputSize.xy) / simpleLightmapUniforms.uDimensions;
  let light: vec4<f32> = textureSample(uMapTexture, uMapSampler, lightCoord);
  let ambient: vec3<f32> = uColor * uAlpha;
  let intensity: vec3<f32> = ambient + light.rgb;
  let finalColor: vec3<f32> = diffuseColor.rgb * intensity;
  return vec4<f32>(finalColor, diffuseColor.a);
}`,YZ=Object.defineProperty,KZ=(t,e,o)=>e in t?YZ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,na=(t,e,o)=>(KZ(t,typeof e!="symbol"?e+"":e,o),o);const QZ=class jk extends ie{constructor(...e){let o=e[0]??{};if(o instanceof q&&($("6.0.0","SimpleLightmapFilter constructor params are now options object. See params: { lightMap, color, alpha }"),o={lightMap:o},e[1]!==void 0&&(o.color=e[1]),e[2]!==void 0&&(o.alpha=e[2])),o={...jk.DEFAULT_OPTIONS,...o},!o.lightMap)throw Error("No light map texture source was provided to SimpleLightmapFilter");const n=te.from({vertex:{source:ce,entryPoint:"mainVertex"},fragment:{source:qZ,entryPoint:"mainFragment"}}),i=oe.from({vertex:ae,fragment:VZ,name:"simple-lightmap-filter"});super({gpuProgram:n,glProgram:i,resources:{simpleLightmapUniforms:{uColor:{value:new Float32Array(3),type:"vec3<f32>"},uAlpha:{value:o.alpha,type:"f32"},uDimensions:{value:new Float32Array(2),type:"vec2<f32>"}},uMapTexture:o.lightMap.source,uMapSampler:o.lightMap.source.style}}),na(this,"uniforms"),na(this,"_color"),na(this,"_lightMap"),this.uniforms=this.resources.simpleLightmapUniforms.uniforms,this._color=new K,this.color=o.color??0,Object.assign(this,o)}apply(e,o,n,i){this.uniforms.uDimensions[0]=o.frame.width,this.uniforms.uDimensions[1]=o.frame.height,e.applyFilter(this,o,n,i)}get lightMap(){return this._lightMap}set lightMap(e){this._lightMap=e,this.resources.uMapTexture=e.source,this.resources.uMapSampler=e.source.style}get color(){return this._color.value}set color(e){this._color.setValue(e);const[o,n,i]=this._color.toArray();this.uniforms.uColor[0]=o,this.uniforms.uColor[1]=n,this.uniforms.uColor[2]=i}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}};na(QZ,"DEFAULT_OPTIONS",{lightMap:q.WHITE,color:0,alpha:1});var JZ=`in vec2 vTextureCoord;
out vec4 finalColor;

uniform sampler2D uTexture;
uniform vec2 uBlur;
uniform vec2 uStart;
uniform vec2 uEnd;
uniform vec2 uDelta;
uniform vec2 uDimensions;

float random(vec3 scale, float seed)
{
    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);
}

void main(void)
{
    vec4 color = vec4(0.0);
    float total = 0.0;

    float blur = uBlur[0];
    float gradientBlur = uBlur[1];

    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);
    vec2 normal = normalize(vec2(uStart.y - uEnd.y, uEnd.x - uStart.x));
    float radius = smoothstep(0.0, 1.0, abs(dot(vTextureCoord * uDimensions - uStart, normal)) / gradientBlur) * blur;

    for (float t = -30.0; t <= 30.0; t++)
    {
        float percent = (t + offset - 0.5) / 30.0;
        float weight = 1.0 - abs(percent);
        vec4 sample = texture(uTexture, vTextureCoord + uDelta / uDimensions * percent * radius);
        sample.rgb *= sample.a;
        color += sample * weight;
        total += weight;
    }

    color /= total;
    color.rgb /= color.a + 0.00001;

    finalColor = color;
}
`,eR=`struct TiltShiftUniforms {
  uBlur: vec2<f32>,
  uStart: vec2<f32>,
  uEnd: vec2<f32>,
  uDelta: vec2<f32>,
  uDimensions: vec2<f32>,
};

@group(0) @binding(1) var uTexture: texture_2d<f32>; 
@group(0) @binding(2) var uSampler: sampler;
@group(1) @binding(0) var<uniform> tiltShiftUniforms : TiltShiftUniforms;

@fragment
fn mainFragment(
  @builtin(position) position: vec4<f32>,
  @location(0) uv : vec2<f32>
) -> @location(0) vec4<f32> {
  let uBlur = tiltShiftUniforms.uBlur[0];
  let uBlurGradient = tiltShiftUniforms.uBlur[1];
  let uStart = tiltShiftUniforms.uStart;
  let uEnd = tiltShiftUniforms.uEnd;
  let uDelta = tiltShiftUniforms.uDelta;
  let uDimensions = tiltShiftUniforms.uDimensions;

  var color: vec4<f32> = vec4<f32>(0.0);
  var total: f32 = 0.0;

  let offset: f32 = random(position, vec3<f32>(12.9898, 78.233, 151.7182), 0.0);
  let normal: vec2<f32> = normalize(vec2<f32>(uStart.y - uEnd.y, uEnd.x - uStart.x));
  let radius: f32 = smoothstep(0.0, 1.0, abs(dot(uv * uDimensions - uStart, normal)) / uBlurGradient) * uBlur;

  for (var t: f32 = -30.0; t <= 30.0; t += 1.0)
  {
    var percent: f32 = (t + offset - 0.5) / 30.0;
    var weight: f32 = 1.0 - abs(percent);
    var sample: vec4<f32> = textureSample(uTexture, uSampler, uv + uDelta / uDimensions * percent * radius);
    sample = vec4<f32>(sample.xyz * sample.a, sample.a); // multiply sample.rgb with sample.a
    color += sample * weight;
    total += weight;
  }

  color /= total;
  color = vec4<f32>(color.xyz / (color.a + 0.00001), color.a); // divide color.rgb by color.a + 0.00001

  return color;
}


fn random(position: vec4<f32>, scale: vec3<f32>, seed: f32) -> f32
{
  return fract(sin(dot(position.xyz + seed, scale)) * 43758.5453 + seed);
}`,tR=Object.defineProperty,oR=(t,e,o)=>e in t?tR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,Ey=(t,e,o)=>(oR(t,typeof e!="symbol"?e+"":e,o),o);const nR=class Ik extends ie{constructor(e){const{width:o,height:n}=b5.defaultOptions;e={...Ik.DEFAULT_OPTIONS,start:{x:0,y:n/2},end:{x:o,y:n/2},...e};const i=te.from({vertex:{source:ce,entryPoint:"mainVertex"},fragment:{source:eR,entryPoint:"mainFragment"}}),r=oe.from({vertex:ae,fragment:JZ,name:"tilt-shift-axis-filter"});super({gpuProgram:i,glProgram:r,resources:{tiltShiftUniforms:{uBlur:{value:new Float32Array([e.blur,e.gradientBlur]),type:"vec2<f32>"},uStart:{value:e.start,type:"vec2<f32>"},uEnd:{value:e.end,type:"vec2<f32>"},uDelta:{value:new Float32Array([0,0]),type:"vec2<f32>"},uDimensions:{value:new Float32Array([o,n]),type:"vec2<f32>"}}}}),Ey(this,"uniforms"),Ey(this,"_tiltAxis"),this.uniforms=this.resources.tiltShiftUniforms.uniforms,this._tiltAxis=e.axis}updateDimensions(e){const{uDimensions:o}=this.uniforms;o[0]=e.frame.width,o[1]=e.frame.height}updateDelta(){if(this.uniforms.uDelta[0]=0,this.uniforms.uDelta[1]=0,this._tiltAxis===void 0)return;const e=this.uniforms.uEnd,o=this.uniforms.uStart,n=e.x-o.x,i=e.y-o.y,r=Math.sqrt(n*n+i*i),s=this._tiltAxis==="vertical";this.uniforms.uDelta[0]=s?-i/r:n/r,this.uniforms.uDelta[1]=s?n/r:i/r}};Ey(nR,"DEFAULT_OPTIONS",{blur:100,gradientBlur:600});var iR=`precision highp float;
in vec2 vTextureCoord;
out vec4 finalColor;

uniform sampler2D uTexture;
uniform vec2 uTwist;
uniform vec2 uOffset;
uniform vec4 uInputSize;

vec2 mapCoord( vec2 coord )
{
    coord *= uInputSize.xy;
    coord += uInputSize.zw;

    return coord;
}

vec2 unmapCoord( vec2 coord )
{
    coord -= uInputSize.zw;
    coord /= uInputSize.xy;

    return coord;
}

vec2 twist(vec2 coord)
{
    coord -= uOffset;

    float dist = length(coord);
    float uRadius = uTwist[0];
    float uAngle = uTwist[1];

    if (dist < uRadius)
    {
        float ratioDist = (uRadius - dist) / uRadius;
        float angleMod = ratioDist * ratioDist * uAngle;
        float s = sin(angleMod);
        float c = cos(angleMod);
        coord = vec2(coord.x * c - coord.y * s, coord.x * s + coord.y * c);
    }

    coord += uOffset;

    return coord;
}

void main(void)
{
    vec2 coord = mapCoord(vTextureCoord);
    coord = twist(coord);
    coord = unmapCoord(coord);
    finalColor = texture(uTexture, coord);
}
`,rR=`struct TwistUniforms {
  uTwist:vec2<f32>,
  uOffset:vec2<f32>,
};

struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;

@group(0) @binding(1) var uTexture: texture_2d<f32>; 
@group(0) @binding(2) var uSampler: sampler;
@group(1) @binding(0) var<uniform> twistUniforms : TwistUniforms;

@fragment
fn mainFragment(
  @location(0) uv: vec2<f32>,
  @builtin(position) position: vec4<f32>
) -> @location(0) vec4<f32> {
  return textureSample(uTexture, uSampler, unmapCoord(twist(mapCoord(uv))));
}

fn mapCoord(coord: vec2<f32> ) -> vec2<f32>
{
  var mappedCoord: vec2<f32> = coord;
  mappedCoord *= gfu.uInputSize.xy;
  mappedCoord += gfu.uOutputFrame.xy;
  return mappedCoord;
}

fn unmapCoord(coord: vec2<f32> ) -> vec2<f32>
{
  var mappedCoord: vec2<f32> = coord;
  mappedCoord -= gfu.uOutputFrame.xy;
  mappedCoord /= gfu.uInputSize.xy;
  return mappedCoord;
}

fn twist(coord: vec2<f32>) -> vec2<f32>
{
  var twistedCoord: vec2<f32> = coord;
  let uRadius = twistUniforms.uTwist[0];
  let uAngle = twistUniforms.uTwist[1];
  let uOffset = twistUniforms.uOffset;

  twistedCoord -= uOffset;
  
  let dist = length(twistedCoord);

  if (dist < uRadius)
  {
    let ratioDist: f32 = (uRadius - dist) / uRadius;
    let angleMod: f32 = ratioDist * ratioDist * uAngle;
    let s: f32 = sin(angleMod);
    let c: f32 = cos(angleMod);
    twistedCoord = vec2<f32>(twistedCoord.x * c - twistedCoord.y * s, twistedCoord.x * s + twistedCoord.y * c);
  }

  twistedCoord += uOffset;
  return twistedCoord;
}
`,sR=Object.defineProperty,lR=(t,e,o)=>e in t?sR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,Fk=(t,e,o)=>(lR(t,typeof e!="symbol"?e+"":e,o),o);const aR=class Mk extends ie{constructor(e){e={...Mk.DEFAULT_OPTIONS,...e};const o=te.from({vertex:{source:ce,entryPoint:"mainVertex"},fragment:{source:rR,entryPoint:"mainFragment"}}),n=oe.from({vertex:ae,fragment:iR,name:"twist-filter"});super({gpuProgram:o,glProgram:n,resources:{twistUniforms:{uTwist:{value:[e.radius??0,e.angle??0],type:"vec2<f32>"},uOffset:{value:e.offset,type:"vec2<f32>"}}},...e}),Fk(this,"uniforms"),this.uniforms=this.resources.twistUniforms.uniforms}get radius(){return this.uniforms.uTwist[0]}set radius(e){this.uniforms.uTwist[0]=e}get angle(){return this.uniforms.uTwist[1]}set angle(e){this.uniforms.uTwist[1]=e}get offset(){return this.uniforms.uOffset}set offset(e){this.uniforms.uOffset=e}get offsetX(){return this.offset.x}set offsetX(e){this.offset.x=e}get offsetY(){return this.offset.y}set offsetY(e){this.offset.y=e}};Fk(aR,"DEFAULT_OPTIONS",{padding:20,radius:200,angle:4,offset:{x:0,y:0}});var cR=`precision highp float;
in vec2 vTextureCoord;
out vec4 finalColor;

uniform sampler2D uTexture;
uniform float uStrength;
uniform vec2 uCenter;
uniform vec2 uRadii;

uniform vec4 uInputSize;

const float MAX_KERNEL_SIZE = \${MAX_KERNEL_SIZE};

// author: http://byteblacksmith.com/improvements-to-the-canonical-one-liner-glsl-rand-for-opengl-es-2-0/
highp float rand(vec2 co, float seed) {
    const highp float a = 12.9898, b = 78.233, c = 43758.5453;
    highp float dt = dot(co + seed, vec2(a, b)), sn = mod(dt, 3.14159);
    return fract(sin(sn) * c + seed);
}

void main() {
    float minGradient = uRadii[0] * 0.3;
    float innerRadius = (uRadii[0] + minGradient * 0.5) / uInputSize.x;

    float gradient = uRadii[1] * 0.3;
    float radius = (uRadii[1] - gradient * 0.5) / uInputSize.x;

    float countLimit = MAX_KERNEL_SIZE;

    vec2 dir = vec2(uCenter.xy / uInputSize.xy - vTextureCoord);
    float dist = length(vec2(dir.x, dir.y * uInputSize.y / uInputSize.x));

    float strength = uStrength;

    float delta = 0.0;
    float gap;
    if (dist < innerRadius) {
        delta = innerRadius - dist;
        gap = minGradient;
    } else if (radius >= 0.0 && dist > radius) { // radius < 0 means it's infinity
        delta = dist - radius;
        gap = gradient;
    }

    if (delta > 0.0) {
        float normalCount = gap / uInputSize.x;
        delta = (normalCount - delta) / normalCount;
        countLimit *= delta;
        strength *= delta;
        if (countLimit < 1.0)
        {
            gl_FragColor = texture(uTexture, vTextureCoord);
            return;
        }
    }

    // randomize the lookup values to hide the fixed number of samples
    float offset = rand(vTextureCoord, 0.0);

    float total = 0.0;
    vec4 color = vec4(0.0);

    dir *= strength;

    for (float t = 0.0; t < MAX_KERNEL_SIZE; t++) {
        float percent = (t + offset) / MAX_KERNEL_SIZE;
        float weight = 4.0 * (percent - percent * percent);
        vec2 p = vTextureCoord + dir * percent;
        vec4 sample = texture(uTexture, p);

        // switch to pre-multiplied alpha to correctly blur transparent images
        // sample.rgb *= sample.a;

        color += sample * weight;
        total += weight;

        if (t > countLimit){
            break;
        }
    }

    color /= total;
    // switch back from pre-multiplied alpha
    // color.rgb /= color.a + 0.00001;

    gl_FragColor = color;
}
`,uR=`struct ZoomBlurUniforms {
    uStrength:f32,
    uCenter:vec2<f32>,
    uRadii:vec2<f32>,
};

struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;

@group(0) @binding(1) var uTexture: texture_2d<f32>; 
@group(0) @binding(2) var uSampler: sampler;
@group(1) @binding(0) var<uniform> zoomBlurUniforms : ZoomBlurUniforms;

@fragment
fn mainFragment(
    @builtin(position) position: vec4<f32>,
    @location(0) uv : vec2<f32>
) -> @location(0) vec4<f32> {
  let uStrength = zoomBlurUniforms.uStrength;
  let uCenter = zoomBlurUniforms.uCenter;
  let uRadii = zoomBlurUniforms.uRadii;

  let minGradient: f32 = uRadii[0] * 0.3;
  let innerRadius: f32 = (uRadii[0] + minGradient * 0.5) / gfu.uInputSize.x;

  let gradient: f32 = uRadii[1] * 0.3;
  let radius: f32 = (uRadii[1] - gradient * 0.5) / gfu.uInputSize.x;

  let MAX_KERNEL_SIZE: f32 = \${MAX_KERNEL_SIZE};

  var countLimit: f32 = MAX_KERNEL_SIZE;

  var dir: vec2<f32> = vec2<f32>(uCenter / gfu.uInputSize.xy - uv);
  let dist: f32 = length(vec2<f32>(dir.x, dir.y * gfu.uInputSize.y / gfu.uInputSize.x));

  var strength: f32 = uStrength;

  var delta: f32 = 0.0;
  var gap: f32;

  if (dist < innerRadius) {
      delta = innerRadius - dist;
      gap = minGradient;
  } else if (radius >= 0.0 && dist > radius) { // radius < 0 means it's infinity
      delta = dist - radius;
      gap = gradient;
  }

  var returnColorOnly: bool = false;

  if (delta > 0.0) {
    let normalCount: f32 = gap / gfu.uInputSize.x;
    delta = (normalCount - delta) / normalCount;
    countLimit *= delta;
    strength *= delta;
    
    if (countLimit < 1.0)
    {
      returnColorOnly = true;;
    }
  }

  // randomize the lookup values to hide the fixed number of samples
  let offset: f32 = rand(uv, 0.0);

  var total: f32 = 0.0;
  var color: vec4<f32> = vec4<f32>(0.);

  dir *= strength;

  for (var t = 0.0; t < MAX_KERNEL_SIZE; t += 1.0) {
    let percent: f32 = (t + offset) / MAX_KERNEL_SIZE;
    let weight: f32 = 4.0 * (percent - percent * percent);
    let p: vec2<f32> = uv + dir * percent;
    let sample: vec4<f32> = textureSample(uTexture, uSampler, p);
    
    if (t < countLimit)
    {
      color += sample * weight;
      total += weight;
    }
  }

  color /= total;

  return select(color, textureSample(uTexture, uSampler, uv), returnColorOnly);
}

fn modulo(x: f32, y: f32) -> f32
{
  return x - y * floor(x/y);
}

// author: http://byteblacksmith.com/improvements-to-the-canonical-one-liner-glsl-rand-for-opengl-es-2-0/
fn rand(co: vec2<f32>, seed: f32) -> f32
{
  let a: f32 = 12.9898;
  let b: f32 = 78.233;
  let c: f32 = 43758.5453;
  let dt: f32 = dot(co + seed, vec2<f32>(a, b));
  let sn: f32 = modulo(dt, 3.14159);
  return fract(sin(sn) * c + seed);
}`,pR=Object.defineProperty,yR=(t,e,o)=>e in t?pR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,Ok=(t,e,o)=>(yR(t,typeof e!="symbol"?e+"":e,o),o);const dR=class Dk extends ie{constructor(e){e={...Dk.DEFAULT_OPTIONS,...e};const o=e.maxKernelSize??32,n=te.from({vertex:{source:ce,entryPoint:"mainVertex"},fragment:{source:uR.replace("${MAX_KERNEL_SIZE}",o.toFixed(1)),entryPoint:"mainFragment"}}),i=oe.from({vertex:ae,fragment:cR.replace("${MAX_KERNEL_SIZE}",o.toFixed(1)),name:"zoom-blur-filter"});super({gpuProgram:n,glProgram:i,resources:{zoomBlurUniforms:{uStrength:{value:e.strength,type:"f32"},uCenter:{value:e.center,type:"vec2<f32>"},uRadii:{value:new Float32Array(2),type:"vec2<f32>"}}}}),Ok(this,"uniforms"),this.uniforms=this.resources.zoomBlurUniforms.uniforms,Object.assign(this,e)}get strength(){return this.uniforms.uStrength}set strength(e){this.uniforms.uStrength=e}get center(){return this.uniforms.uCenter}set center(e){Array.isArray(e)&&(e={x:e[0],y:e[1]}),this.uniforms.uCenter=e}get centerX(){return this.uniforms.uCenter.x}set centerX(e){this.uniforms.uCenter.x=e}get centerY(){return this.uniforms.uCenter.y}set centerY(e){this.uniforms.uCenter.y=e}get innerRadius(){return this.uniforms.uRadii[0]}set innerRadius(e){this.uniforms.uRadii[0]=e}get radius(){return this.uniforms.uRadii[1]}set radius(e){this.uniforms.uRadii[1]=e<0||e===1/0?-1:e}};Ok(dR,"DEFAULT_OPTIONS",{strength:.1,center:{x:0,y:0},innerRadius:0,radius:-1,maxKernelSize:32});const Bk=t=>[new a0({originalColor:65535,targetColor:t.basic,tolerance:.1}),new a0({originalColor:34952,targetColor:t.dimmed,tolerance:.1})],_y=(t,e)=>Bk(K1[t.color].edges[e]),fR=t=>Bk(K1[t.color].main);function*hR(t,e){const o=t==="y"?0:16;yield Y({pivot:{x:o,y:9},texture:"generic.door.legs.base",y:e});for(let n=e-de.h;n>0;n-=de.h)yield Y({pivot:{x:o,y:9},texture:"generic.door.legs.pillar",y:n});yield Y({pivot:{x:o,y:15},texture:`generic.door.legs.threshold.${t}`})}function*c0({axis:t,inHiddenWall:e},o,{z:n},i){if(e){if(n!==0){const s=Y({pivot:{x:t==="x"?18:8,y:12},texture:`generic.door.threshold.${t}`});s.filters=_y(o,t==="x"?"towards":"right"),yield s}}else if(n!==0)yield*hR(t,n);else{const r=Yo({[z5(t)]:.5});i==="far"&&(yield Y({anchor:{x:0,y:1},flipX:t==="x",texture:"generic.wall.overdraw",...r}))}yield Y({texture:rC(o,t,i),pivot:T5[i][t]})}const u0=({type:t,state:{movement:e,facing:o,teleporting:n}})=>{if(n!==null){if(n.phase==="out")return Y({frames:Ve.animations[`${t}.teleport`]});if(n.phase==="in")return Y({frames:Ve.animations[`${t}.teleport`].toReversed()})}return Y(e==="moving"?{frames:Ve.animations[`${t}.walking.${o}`]}:e==="falling"&&t==="head"&&(o==="towards"||o==="right")?`head.falling.${o}`:t==="head"&&(o==="towards"||o==="right")?{frames:Ve.animations[`head.idle.${o}`]}:`${t}.walking.${o}.2`)},Iu={frames:Ve.animations["bubbles.cold"],animationSpeed:.25},jr=(t,e="headless-base")=>{const o=new pe;o.addChild(Y(e));const n=Y(t);return n.y=-12,o.addChild(n),o},gR={doorNear({config:t,state:{position:e}},o){const n=new pe;for(const i of c0(t,o,e,"near"))n.addChild(i);return n},doorFar({config:t,state:{position:e}},o){const n=new pe;for(const i of c0(t,o,e,"far"))n.addChild(i);return n},portal(){throw new Error("these should always be non-rendering")},wall({config:{side:t,style:e}},o){return t==="right"||t==="towards"?new pe:Y({texture:iC(o.planet,e,t),anchor:t==="away"?{x:1,y:1}:{x:0,y:1}})},barrier:({config:{axis:t}})=>Y({texture:`barrier.${t}`,pivot:j5[t]}),"deadly-block":({config:{style:t}})=>Y(t==="puck"?"puck.deadly":t),block:({config:{style:t}})=>Y(`block.${t}`),conveyor:({config:{direction:t}})=>Y(t==="left"||t==="right"?"conveyor.x":"conveyor.y"),fish:({config:{alive:t}})=>Y(t?{frames:Ve.animations.fish,animationSpeed:.25}:{texture:"fish.1"}),lift(){const t=new pe;return t.addChild(Y({frames:Ve.animations.lift})),t.addChild(Y("lift.static")),t},spring:()=>Y("spring.released"),teleporter:t=>t.state.flashing?Y({frames:Ve.animations["teleporter.flashing"]}):Y("teleporter"),pickup({config:{gives:t},state:{collected:e}}){return Y(e?{frames:Ve.animations["bubbles.pickup"],playOnce:!0}:{shield:"bunny",jumps:"bunny",fast:"bunny","extra-life":"bunny",bag:"bag",donuts:"donuts",hooter:"hooter",crown:"crown"}[t])},head(t,e){return u0(t)},heels(t,e){return u0(t)},sceneryPlayer:({config:{which:t}})=>Y(`${t}.walking.towards.2`),baddie({config:t}){switch(t.which){case"helicopter-bug":case"dalek":return Y({frames:Ve.animations[t.which],animationSpeed:.5});case"headless-base":return Y({texture:"headless-base"});case"american-football-head":return Y({texture:`american-football-head.${t.startDirection}`});case"turtle":return Y({frames:Ve.animations[`turtle.${t.startDirection}`],animationSpeed:.25});case"cyberman":return t.charging?Y(`cyberman.${t.startDirection}`):jr("cyberman.towards",Iu);case"bubble-robot":return jr(Iu);case"flying-ball":return jr("ball",Iu);case"computer-bot":case"elephant":case"monkey":return jr(`${t.which}.towards`);case"elephant-head":return Y("elephant.right");default:throw new Error(`unexpected baddie ${t}`)}},joystick:()=>Y("joystick"),"movable-block":({config:{style:t}})=>Y(t),book:({config:{slider:t}})=>Y(`book.${t?"y":"x"}`),"portable-block":({config:{style:t}})=>Y(t),charles:()=>jr("charles.towards"),switch:()=>Y("switch.off"),"hush-puppy":()=>Y("hush-puppy"),ball:()=>Y("ball"),floor(){throw new Error("floor should not be rendered as an item")}},Gk=(t,e)=>{x5(t);const o=gR[t.type];if(o===void 0)throw new Error(`item type "${t.type}" has no appearance - if it doesn't render, give it the .renders = false`);t.renderContainer.removeChildren();const n=o(t,e);t.renderContainer.addChild(n)},Uk=t=>{k5(t);const{state:{position:e},positionContainer:o}=t,n=Ae(e);o.x=n.x,o.y=n.y},mR=(t,e)=>{if(t.renders===!1||e.renders===!1)return 0;const o=t.renderAabb||t.aabb,n=e.renderAabb||e.aabb,i=Ae(t.state.position),r=i.x-o.x,s=i.x+o.y,l=Ae(e.state.position),a=l.x-n.x,c=l.x+n.y;if(r>=c||a>=s)return 0;const u=Jg(Ht(t.state.position,o)),p=Jg(Ht(e.state.position,n));if(i.y<=p||l.y<=u)return 0;for(const d of of){const g=t.state.position[d],f=g+o[d],b=e.state.position[d],h=b+n[d];if(f<=b)return 1*(d==="z"?-1:1);if(g>=h)return-1*(d==="z"?-1:1)}const y=`could not compare two items for draw order A ${t.id} and B ${e.id} 
      A @ ${JSON.stringify(t.state.position)} size ${JSON.stringify(o)} and
      B @ ${JSON.stringify(e.state.position)} size ${JSON.stringify(n)} 
      - do these bounding boxes intersect?`;return console.error(y),0};var uf={exports:{}};uf.exports=function(t){return Nk(bR(t),t)};uf.exports.array=Nk;function Nk(t,e){var o=t.length,n=new Array(o),i={},r=o,s=xR(e),l=kR(t);for(e.forEach(function(c){if(!l.has(c[0])||!l.has(c[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});r--;)i[r]||a(t[r],r,new Set);return n;function a(c,u,p){if(p.has(c)){var y;try{y=", node was:"+JSON.stringify(c)}catch{y=""}throw new Error("Cyclic dependency"+y)}if(!l.has(c))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(c));if(!i[u]){i[u]=!0;var d=s.get(c)||new Set;if(d=Array.from(d),u=d.length){p.add(c);do{var g=d[--u];a(g,l.get(g),p)}while(u);p.delete(c)}n[--o]=c}}}function bR(t){for(var e=new Set,o=0,n=t.length;o<n;o++){var i=t[o];e.add(i[0]),e.add(i[1])}return Array.from(e)}function xR(t){for(var e=new Map,o=0,n=t.length;o<n;o++){var i=t[o];e.has(i[0])||e.set(i[0],new Set),e.has(i[1])||e.set(i[1],new Set),e.get(i[0]).add(i[1])}return e}function kR(t){for(var e=new Map,o=0,n=t.length;o<n;o++)e.set(t[o],o);return e}var wR=uf.exports;const vR=ni(wR),Lk=t=>{const e=[];for(const n of t)if(n.renders)for(const i of t){if(n===i)break;if(!i.renders)continue;const r=mR(n,i);r!==0&&(r>0?e.push([i,n]):e.push([n,i]))}let o;try{o=vR(e)}catch(n){throw new Error(`found a cyclic dependency in the draw order pairs are:
	${e.map(([i,r])=>`${i.id} is behind ${r.id}`).join(`
	`)}`,n)}for(let n=0;n<o.length;n++)o[n].positionContainer.zIndex=n},$k=t=>{const e={},o=t.items.values().filter(Da("doorNear"));for(const{config:{axis:n},state:{position:{x:i,y:r}}}of o)n==="x"?r<0?e.towards=!0:r===t.size.y*de.d&&(e.away=!0):i<0?e.right=!0:i===t.size.x*de.w&&(e.left=!0);return e},Wk=t=>{const e=$k(t),o=e.right?-.5:0,n=t.size.x+(e.left?.5:0),i=e.towards?-.5:0,r=t.size.y+(e.away?.5:0),s=Yo({x:o,y:r}),l=Yo({x:n,y:i}),a=Yo({x:o,y:i}),c=Yo({x:n,y:r}),u=c.y+so.h;return{blockXMin:o,blockXMax:n,blockYMin:i,blockYMax:r,rightSide:s,leftSide:l,frontSide:a,backSide:c,top:u}},zR=t=>{const{towards:e,right:o}=$k(t),{blockXMin:n,blockYMin:i,rightSide:r,leftSide:s,frontSide:l,backSide:a}=Wk(t),{floor:c}=t,u=new pe,p=Object.fromEntries(t.floorSkip.map(({x:h,y:m})=>[`${h},${m}`,!0]));if(c!=="none"){const h=c==="deadly"?"generic.floor.deadly":`${c}.floor`,m=new pe;for(let w=-1;w<=t.size.x;w++)for(let v=w%2-1;v<=t.size.y;v+=2)p[`${w},${v}`]||m.addChild(Ru({x:w,y:v},Y({anchor:{x:.5,y:1},texture:h})));const k=new Yn().poly([l,r,a,s],!0).fill(16711680).stroke({width:8});m.addChild(k),m.mask=k,u.addChild(m)}const y=new pe;for(let h=n;h<=t.size.x;h+=.5)y.addChild(Ru({x:h,y:e?-.5:0},Y({pivot:{x:7,y:1},texture:"generic.edge.towards"})));y.filters=_y(t,"towards");const d=new pe;for(let h=i;h<=t.size.y;h+=.5)d.addChild(Ru({x:o?-.5:0,y:h},Y({pivot:{x:0,y:1},texture:"generic.edge.right"})));d.filters=_y(t,"right");const g=Yo({x:0,y:t.size.y}),f=Yo({x:t.size.x,y:0}),b=new Yn().poly([{x:l.x,y:l.y+16},{x:g.x,y:g.y+16},{x:g.x,y:-999},{x:f.x,y:-999},{x:f.x,y:f.y+16}],!0).fill(16776960);return u.addChild(b),u.addChild(y),u.addChild(d),u.mask=b,u},p0=(t,e)=>new Yn().poly([Ae({}),Ae({x:t.x}),Ae({x:t.x,y:t.y}),Ae({y:t.y})]).poly([Ae({}),Ae({z:t.z}),Ae({y:t.y,z:t.z}),Ae({y:t.y})]).poly([Ae({x:t.x}),Ae({x:t.x,z:t.z}),Ae(t),Ae({x:t.x,y:t.y})]).poly([Ae({z:t.z}),Ae({x:t.x,z:t.z}),Ae({x:t.x,y:t.y,z:t.z}),Ae({y:t.y,z:t.z})]).stroke({width:.5,color:e}),SR=t=>{const e=t.type==="wall"?"rgba(255,184,0)":"rgba(255,255,255)",o=new pe;return o.addChild(new Yn().circle(0,0,2).fill(e)),o.addChild(p0(t.aabb,e)),t.renderAabb&&o.addChild(p0(t.renderAabb,"rgba(184, 184, 255)")),o},ER=t=>{const e=new pe;return t.renderContainer!==void 0&&e.addChild(t.renderContainer),e.addChild(SR(t)),e},_R=(t,e)=>{const{leftSide:o,rightSide:n,frontSide:i,top:r}=Wk(t),s=(n.x+o.x)/2,l=(r+i.y)/2;e.x=-s,e.y=-l},CR=(t,e)=>{const o=new pe;o.addChild(zR(t));const n=new pe;for(const i of t.items){const{renders:r}=i;if(r){const l=new pe;i.renderContainer=l,Gk(i,t)}const s=e.showBoundingBoxes==="all"||e.showBoundingBoxes==="non-wall"&&i.type!=="wall";i.positionContainer=s?ER(i):i.renderContainer,e.showBoundingBoxes!=="none"&&i.renderContainer!==void 0&&(i.renderContainer.alpha=.25),e.onItemClick&&i.renderContainer!==void 0&&(i.renderContainer.eventMode="static",i.renderContainer.on("pointertap",()=>{e.onItemClick(i)})),i.positionContainer!==void 0&&(Uk(i),n.addChild(i.positionContainer))}return Lk(t.items),o.addChild(n),o.filters=fR(t),_R(t,o),o},ZR=t=>{t.currentCharacterName=t.currentCharacterName==="head"?"heels":"head"},Cy={stateDelta:{}},RR=.5,AR={head:de.w*8/5e3,heels:de.w*8/2500},Hk=de.w*3.5/1e3,y0={head:de.h*2.5,heels:de.h},PR={head:de.h*2/1e3,others:Hk},TR=1e3/25,d0=Ve.animations["head.teleport"].length*TR/RR,Xk=t=>{const e=Math.round(t);return{valueInt:e,roundingError:t-e}},jR=["nonIntersect","push","glide"],IR=(t,e,o)=>{if(!(t.state.standingOn===null&&(!Oa(t)||t.state.jumpRemaining===0)))return Cy;const r=PR[t.type==="head"?"head":"others"]*o+t.state.fallRoundingError,{valueInt:s,roundingError:l}=Xk(r),a=Hr(Wr.down,s),u=lf({id:t.id,aabb:t.aabb,state:{position:Ht(t.state.position,a)}},e.items).at(0),p=u!==void 0&&jR.includes(u.onTouch);return console.log("falling","float",r,"error",l,"rounded",s),{positionDelta:a,stateDelta:{...p?{jumped:!1,fallRoundingError:0,standingOn:u}:{fallRoundingError:l,standingOn:null,...t.type==="head"?{movement:"falling"}:{}}}}},FR=(t,{jump:e},o)=>{const{type:n,state:{jumpRemaining:i,jumpRoundingError:r}}=t;if(e&&t.state.standingOn?.type==="teleporter")return{};const s=t.state.standingOn!==null&&t.state.standingOn.type!=="teleporter",l=e&&s;if(!l&&i===0)return{stateDelta:{jumpRoundingError:0}};const a=l?y0[n]:i,c=Math.min(Hk*o+r,a),{valueInt:u,roundingError:p}=Xk(c);return console.log("jumping","float",c,"error",p,"rounded",u),{stateDelta:l?{movement:"moving",standingOn:null,jumpRemaining:y0[n],jumpRoundingError:p,jumped:!0}:{movement:"moving",jumpRemaining:Math.max(i-u,0),jumpRoundingError:p},positionDelta:{z:u}}};function MR(t){const{state:{standingOn:e,position:o},aabb:n}=t;if(e===null)return Cy;const{state:{position:i},aabb:r}=e;return o.x>i.x+r.x||o.x+n.x<i.x||o.y>i.y+r.y||o.y+n.y<i.y?{stateDelta:{standingOn:null},positionDelta:fc}:Cy}function OR(t,e,o){return{stateDelta:{flashing:!!o.items.find(i=>(i.type==="head"||i.type==="heels")&&i.state.standingOn===t)}}}function DR(t,e,o){const{state:{teleporting:n}}=t,{inputState:{jump:i}}=e;if(n===null)return i&&t.state.standingOn?.type==="teleporter"?{stateDelta:{teleporting:{phase:"out",toRoom:t.state.standingOn.config.toRoom,timeRemaining:d0}}}:{};const r=Math.max(n.timeRemaining-o,0);switch(n.phase){case"out":if(r===0)return af(e,n.toRoom),{stateDelta:{teleporting:{phase:"in",timeRemaining:d0}}};break;case"in":if(r===0)return{stateDelta:{teleporting:null}};break}return{stateDelta:{teleporting:{...n,timeRemaining:r}}}}function BR(t,e,o){const{type:n,state:{jumpRemaining:i,autoWalkDistance:r,standingOn:s,facing:l,jumped:a,teleporting:c}}=t,u=tf.find(y=>e[y]===!0),p=AR[n]*o;if(r>0)return{positionDelta:Hr(Wr[l],p),stateDelta:{autoWalkDistance:Math.max(r-p,0)}};if(c!==null)return{};if(s===null)switch(n){case"head":{const y=i>0?u||l:u;return y!==void 0?{positionDelta:Hr(Wr[y],p),stateDelta:{facing:y}}:{}}case"heels":return{positionDelta:a?Hr(Wr[l],p):fc,stateDelta:{}}}return u!==void 0?{positionDelta:Hr(Wr[u],p),stateDelta:{facing:u,movement:"moving"}}:{stateDelta:{movement:"idle"}}}const GR=(t,e,o,n)=>n.reduce((r,{state:{position:s},aabb:l})=>of.reduce((a,c)=>{if(e[c]!==0){const u=s[c];if(e[c]===void 0)return a;if(e[c]>0){const p=Math.min(u,u+l[c]);return{...a,[c]:p-t.aabb[c]}}else{const p=Math.max(u,u+l[c]);return{...a,[c]:p}}}return a},r),o),UR=(t,e,o)=>{const n=dc(o),{state:{position:i}}=t,r=Ht(i,e),s=lf({aabb:t.aabb,state:{position:r},id:t.id},n.items),{portal:l=[],deadly:a=[],pickup:c=[]}=Object.groupBy(s,y=>y.onTouch),u=s.filter(y=>y.onTouch==="nonIntersect"||t.type==="pickup"&&t.state.collected||!Oa(t))||[];if(Oa(t)){const y=l.at(0);if(y!==void 0&&t.state.autoWalkDistance===0){af(o,y.config.toRoom,E5(i,y.config.relativePoint)),t.state.autoWalkDistance=de.w*.75;return}a?.length&&console.log("LOSE a life");for(const d of c)if(d!==void 0){if(d.state.collected)continue;d.state.collected=!0,d.renderingDirty=!0}}const p=GR(t,e,r,u);_5(p,i)||(t.state.position=p,t.renderPositionDirty=!0)},NR=(t,e)=>{switch(t.type){case"head":case"heels":return t.state.facing!==e.facing||t.state.movement!==e.movement||t.state.teleporting?.phase!==e.teleporting?.phase;case"teleporter":return t.state.flashing!==e.flashing}return!1},LR=(t,e,o)=>{const n=t.state,i=dc(e),{inputState:r}=e,s=({positionDelta:l,stateDelta:a})=>{l!==void 0&&UR(t,l,e),a!==void 0&&(t.state={...t.state,...a})};Oa(t)&&t.type===e.currentCharacterName&&(s(DR(t,e,o)),s(BR(t,r,o)),s(FR(t,r,o))),L1(t)&&(s(MR(t)),s(IR(t,i,o))),Da("teleporter")(t)&&s(OR(t,e,i)),NR(t,n)&&(t.renderingDirty=!0)},$R=(t,e,o)=>{let n,i;const r=({deltaMS:s})=>{const{inputState:l}=e;l.swop&&(ZR(e),l.swop=!1);const a=dc(e),{renderOptions:c}=e;if(n!==a||i!==e.renderOptions){console.log(`room (or render options) changed!
          room:${n?.id} -> ${a.id}
          renderOptions: ${i} -> ${e.renderOptions}`),o.removeChildren();const y=CR(a,c);o.addChild(y),n=a,i=e.renderOptions}const{items:u}=a;let p=!1;for(const y of u)LR(y,e,s),y.renderPositionDirty&&(Uk(y),y.renderPositionDirty=!1,p=!0),y.renderingDirty&&(Gk(y,a),y.renderingDirty=!1);p&&Lk(a.items)};return{start(){return t.ticker.add(r),this},stop(){t.ticker.remove(r)}}},WR=async t=>{const e={showBoundingBoxes:"none"},o=new r1;await o.init({background:"#000000",resizeTo:window});const n=H5(),i=new pe;o.stage.addChild(i);const r=Q5(t,e,n),s=Y5(r);J5(o,i);const l=$R(o,r,i).start();return i.y=fy.height*.7,{campaign:t,events:n,renderIn(a){a.appendChild(o.canvas)},changeRoom(a){af(r,a)},get currentRoom(){return dc(r)},get gameState(){return r},set renderOptions(a){r.renderOptions=a},swopCharacter(){r.currentCharacterName=r.currentCharacterName==="head"?"heels":"head"},stop(){console.log("tearing down game"),o.stage.removeChild(i),o.canvas.parentNode?.removeChild(o.canvas),l.stop(),s(),o.destroy()}}},HR=(t,e)=>{const[o,n]=x.useState();return x.useEffect(()=>{let i;return(async()=>{i=await WR(t),n(i)})(),()=>{i?.stop()}},[t]),x.useEffect(()=>{o!==void 0&&(o.renderOptions=e)},[o,e]),o},XR=t=>x.forwardRef(({renderOptions:e},o)=>{const[n,i]=x.useState(null),r=HR(t,e);return x.useImperativeHandle(o,()=>r||void 0),x.useEffect(()=>{n===null||r===void 0||r.renderIn(n)},[r,n]),P.jsx("div",{className:"h-screen w-screen bg-slate-700",ref:i})});/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VR=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Vk=(...t)=>t.filter((e,o,n)=>!!e&&n.indexOf(e)===o).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var qR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YR=x.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:o=2,absoluteStrokeWidth:n,className:i="",children:r,iconNode:s,...l},a)=>x.createElement("svg",{ref:a,...qR,width:e,height:e,stroke:t,strokeWidth:n?Number(o)*24/Number(e):o,className:Vk("lucide",i),...l},[...s.map(([c,u])=>x.createElement(c,u)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hc=(t,e)=>{const o=x.forwardRef(({className:n,...i},r)=>x.createElement(YR,{ref:r,iconNode:e,className:Vk(`lucide-${VR(t)}`,n),...i}));return o.displayName=`${t}`,o};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KR=hc("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QR=hc("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JR=hc("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=hc("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function qk(t){var e,o,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(o=qk(t[e]))&&(n&&(n+=" "),n+=o)}else for(o in t)t[o]&&(n&&(n+=" "),n+=o);return n}function tA(){for(var t,e,o=0,n="",i=arguments.length;o<i;o++)(t=arguments[o])&&(e=qk(t))&&(n&&(n+=" "),n+=e);return n}const pf="-",oA=t=>{const e=iA(t),{conflictingClassGroups:o,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:s=>{const l=s.split(pf);return l[0]===""&&l.length!==1&&l.shift(),Yk(l,e)||nA(s)},getConflictingClassGroupIds:(s,l)=>{const a=o[s]||[];return l&&n[s]?[...a,...n[s]]:a}}},Yk=(t,e)=>{if(t.length===0)return e.classGroupId;const o=t[0],n=e.nextPart.get(o),i=n?Yk(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const r=t.join(pf);return e.validators.find(({validator:s})=>s(r))?.classGroupId},f0=/^\[(.+)\]$/,nA=t=>{if(f0.test(t)){const e=f0.exec(t)[1],o=e?.substring(0,e.indexOf(":"));if(o)return"arbitrary.."+o}},iA=t=>{const{theme:e,prefix:o}=t,n={nextPart:new Map,validators:[]};return sA(Object.entries(t.classGroups),o).forEach(([r,s])=>{Zy(s,n,r,e)}),n},Zy=(t,e,o,n)=>{t.forEach(i=>{if(typeof i=="string"){const r=i===""?e:h0(e,i);r.classGroupId=o;return}if(typeof i=="function"){if(rA(i)){Zy(i(n),e,o,n);return}e.validators.push({validator:i,classGroupId:o});return}Object.entries(i).forEach(([r,s])=>{Zy(s,h0(e,r),o,n)})})},h0=(t,e)=>{let o=t;return e.split(pf).forEach(n=>{o.nextPart.has(n)||o.nextPart.set(n,{nextPart:new Map,validators:[]}),o=o.nextPart.get(n)}),o},rA=t=>t.isThemeGetter,sA=(t,e)=>e?t.map(([o,n])=>{const i=n.map(r=>typeof r=="string"?e+r:typeof r=="object"?Object.fromEntries(Object.entries(r).map(([s,l])=>[e+s,l])):r);return[o,i]}):t,lA=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,o=new Map,n=new Map;const i=(r,s)=>{o.set(r,s),e++,e>t&&(e=0,n=o,o=new Map)};return{get(r){let s=o.get(r);if(s!==void 0)return s;if((s=n.get(r))!==void 0)return i(r,s),s},set(r,s){o.has(r)?o.set(r,s):i(r,s)}}},Kk="!",aA=t=>{const{separator:e,experimentalParseClassName:o}=t,n=e.length===1,i=e[0],r=e.length,s=l=>{const a=[];let c=0,u=0,p;for(let b=0;b<l.length;b++){let h=l[b];if(c===0){if(h===i&&(n||l.slice(b,b+r)===e)){a.push(l.slice(u,b)),u=b+r;continue}if(h==="/"){p=b;continue}}h==="["?c++:h==="]"&&c--}const y=a.length===0?l:l.substring(u),d=y.startsWith(Kk),g=d?y.substring(1):y,f=p&&p>u?p-u:void 0;return{modifiers:a,hasImportantModifier:d,baseClassName:g,maybePostfixModifierPosition:f}};return o?l=>o({className:l,parseClassName:s}):s},cA=t=>{if(t.length<=1)return t;const e=[];let o=[];return t.forEach(n=>{n[0]==="["?(e.push(...o.sort(),n),o=[]):o.push(n)}),e.push(...o.sort()),e},uA=t=>({cache:lA(t.cacheSize),parseClassName:aA(t),...oA(t)}),pA=/\s+/,yA=(t,e)=>{const{parseClassName:o,getClassGroupId:n,getConflictingClassGroupIds:i}=e,r=[],s=t.trim().split(pA);let l="";for(let a=s.length-1;a>=0;a-=1){const c=s[a],{modifiers:u,hasImportantModifier:p,baseClassName:y,maybePostfixModifierPosition:d}=o(c);let g=!!d,f=n(g?y.substring(0,d):y);if(!f){if(!g){l=c+(l.length>0?" "+l:l);continue}if(f=n(y),!f){l=c+(l.length>0?" "+l:l);continue}g=!1}const b=cA(u).join(":"),h=p?b+Kk:b,m=h+f;if(r.includes(m))continue;r.push(m);const k=i(f,g);for(let w=0;w<k.length;++w){const v=k[w];r.push(h+v)}l=c+(l.length>0?" "+l:l)}return l};function dA(){let t=0,e,o,n="";for(;t<arguments.length;)(e=arguments[t++])&&(o=Qk(e))&&(n&&(n+=" "),n+=o);return n}const Qk=t=>{if(typeof t=="string")return t;let e,o="";for(let n=0;n<t.length;n++)t[n]&&(e=Qk(t[n]))&&(o&&(o+=" "),o+=e);return o};function fA(t,...e){let o,n,i,r=s;function s(a){const c=e.reduce((u,p)=>p(u),t());return o=uA(c),n=o.cache.get,i=o.cache.set,r=l,l(a)}function l(a){const c=n(a);if(c)return c;const u=yA(a,o);return i(a,u),u}return function(){return r(dA.apply(null,arguments))}}const he=t=>{const e=o=>o[t]||[];return e.isThemeGetter=!0,e},Jk=/^\[(?:([a-z-]+):)?(.+)\]$/i,hA=/^\d+\/\d+$/,gA=new Set(["px","full","screen"]),mA=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,bA=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,xA=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,kA=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,wA=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,xo=t=>Hi(t)||gA.has(t)||hA.test(t),Do=t=>gr(t,"length",RA),Hi=t=>!!t&&!Number.isNaN(Number(t)),Fu=t=>gr(t,"number",Hi),Ir=t=>!!t&&Number.isInteger(Number(t)),vA=t=>t.endsWith("%")&&Hi(t.slice(0,-1)),ee=t=>Jk.test(t),Bo=t=>mA.test(t),zA=new Set(["length","size","percentage"]),SA=t=>gr(t,zA,ew),EA=t=>gr(t,"position",ew),_A=new Set(["image","url"]),CA=t=>gr(t,_A,PA),ZA=t=>gr(t,"",AA),Fr=()=>!0,gr=(t,e,o)=>{const n=Jk.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):o(n[2]):!1},RA=t=>bA.test(t)&&!xA.test(t),ew=()=>!1,AA=t=>kA.test(t),PA=t=>wA.test(t),TA=()=>{const t=he("colors"),e=he("spacing"),o=he("blur"),n=he("brightness"),i=he("borderColor"),r=he("borderRadius"),s=he("borderSpacing"),l=he("borderWidth"),a=he("contrast"),c=he("grayscale"),u=he("hueRotate"),p=he("invert"),y=he("gap"),d=he("gradientColorStops"),g=he("gradientColorStopPositions"),f=he("inset"),b=he("margin"),h=he("opacity"),m=he("padding"),k=he("saturate"),w=he("scale"),v=he("sepia"),E=he("skew"),z=he("space"),S=he("translate"),C=()=>["auto","contain","none"],_=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",ee,e],B=()=>[ee,e],M=()=>["",xo,Do],j=()=>["auto",Hi,ee],W=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],H=()=>["solid","dashed","dotted","double","none"],F=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Z=()=>["start","end","center","between","around","evenly","stretch"],A=()=>["","0",ee],T=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>[Hi,ee];return{cacheSize:500,separator:":",theme:{colors:[Fr],spacing:[xo,Do],blur:["none","",Bo,ee],brightness:Q(),borderColor:[t],borderRadius:["none","","full",Bo,ee],borderSpacing:B(),borderWidth:M(),contrast:Q(),grayscale:A(),hueRotate:Q(),invert:A(),gap:B(),gradientColorStops:[t],gradientColorStopPositions:[vA,Do],inset:D(),margin:D(),opacity:Q(),padding:B(),saturate:Q(),scale:Q(),sepia:A(),skew:Q(),space:B(),translate:B()},classGroups:{aspect:[{aspect:["auto","square","video",ee]}],container:["container"],columns:[{columns:[Bo]}],"break-after":[{"break-after":T()}],"break-before":[{"break-before":T()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...W(),ee]}],overflow:[{overflow:_()}],"overflow-x":[{"overflow-x":_()}],"overflow-y":[{"overflow-y":_()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[f]}],"inset-x":[{"inset-x":[f]}],"inset-y":[{"inset-y":[f]}],start:[{start:[f]}],end:[{end:[f]}],top:[{top:[f]}],right:[{right:[f]}],bottom:[{bottom:[f]}],left:[{left:[f]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ir,ee]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ee]}],grow:[{grow:A()}],shrink:[{shrink:A()}],order:[{order:["first","last","none",Ir,ee]}],"grid-cols":[{"grid-cols":[Fr]}],"col-start-end":[{col:["auto",{span:["full",Ir,ee]},ee]}],"col-start":[{"col-start":j()}],"col-end":[{"col-end":j()}],"grid-rows":[{"grid-rows":[Fr]}],"row-start-end":[{row:["auto",{span:[Ir,ee]},ee]}],"row-start":[{"row-start":j()}],"row-end":[{"row-end":j()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ee]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ee]}],gap:[{gap:[y]}],"gap-x":[{"gap-x":[y]}],"gap-y":[{"gap-y":[y]}],"justify-content":[{justify:["normal",...Z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[m]}],px:[{px:[m]}],py:[{py:[m]}],ps:[{ps:[m]}],pe:[{pe:[m]}],pt:[{pt:[m]}],pr:[{pr:[m]}],pb:[{pb:[m]}],pl:[{pl:[m]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[z]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[z]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ee,e]}],"min-w":[{"min-w":[ee,e,"min","max","fit"]}],"max-w":[{"max-w":[ee,e,"none","full","min","max","fit","prose",{screen:[Bo]},Bo]}],h:[{h:[ee,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ee,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ee,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ee,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Bo,Do]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Fu]}],"font-family":[{font:[Fr]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ee]}],"line-clamp":[{"line-clamp":["none",Hi,Fu]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",xo,ee]}],"list-image":[{"list-image":["none",ee]}],"list-style-type":[{list:["none","disc","decimal",ee]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[h]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[h]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...H(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",xo,Do]}],"underline-offset":[{"underline-offset":["auto",xo,ee]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:B()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ee]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ee]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[h]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...W(),EA]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",SA]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},CA]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[d]}],"gradient-via":[{via:[d]}],"gradient-to":[{to:[d]}],rounded:[{rounded:[r]}],"rounded-s":[{"rounded-s":[r]}],"rounded-e":[{"rounded-e":[r]}],"rounded-t":[{"rounded-t":[r]}],"rounded-r":[{"rounded-r":[r]}],"rounded-b":[{"rounded-b":[r]}],"rounded-l":[{"rounded-l":[r]}],"rounded-ss":[{"rounded-ss":[r]}],"rounded-se":[{"rounded-se":[r]}],"rounded-ee":[{"rounded-ee":[r]}],"rounded-es":[{"rounded-es":[r]}],"rounded-tl":[{"rounded-tl":[r]}],"rounded-tr":[{"rounded-tr":[r]}],"rounded-br":[{"rounded-br":[r]}],"rounded-bl":[{"rounded-bl":[r]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[h]}],"border-style":[{border:[...H(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[h]}],"divide-style":[{divide:H()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...H()]}],"outline-offset":[{"outline-offset":[xo,ee]}],"outline-w":[{outline:[xo,Do]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:M()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[h]}],"ring-offset-w":[{"ring-offset":[xo,Do]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Bo,ZA]}],"shadow-color":[{shadow:[Fr]}],opacity:[{opacity:[h]}],"mix-blend":[{"mix-blend":[...F(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":F()}],filter:[{filter:["","none"]}],blur:[{blur:[o]}],brightness:[{brightness:[n]}],contrast:[{contrast:[a]}],"drop-shadow":[{"drop-shadow":["","none",Bo,ee]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[p]}],saturate:[{saturate:[k]}],sepia:[{sepia:[v]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[o]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[a]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[h]}],"backdrop-saturate":[{"backdrop-saturate":[k]}],"backdrop-sepia":[{"backdrop-sepia":[v]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ee]}],duration:[{duration:Q()}],ease:[{ease:["linear","in","out","in-out",ee]}],delay:[{delay:Q()}],animate:[{animate:["none","spin","ping","pulse","bounce",ee]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[Ir,ee]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ee]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ee]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":B()}],"scroll-mx":[{"scroll-mx":B()}],"scroll-my":[{"scroll-my":B()}],"scroll-ms":[{"scroll-ms":B()}],"scroll-me":[{"scroll-me":B()}],"scroll-mt":[{"scroll-mt":B()}],"scroll-mr":[{"scroll-mr":B()}],"scroll-mb":[{"scroll-mb":B()}],"scroll-ml":[{"scroll-ml":B()}],"scroll-p":[{"scroll-p":B()}],"scroll-px":[{"scroll-px":B()}],"scroll-py":[{"scroll-py":B()}],"scroll-ps":[{"scroll-ps":B()}],"scroll-pe":[{"scroll-pe":B()}],"scroll-pt":[{"scroll-pt":B()}],"scroll-pr":[{"scroll-pr":B()}],"scroll-pb":[{"scroll-pb":B()}],"scroll-pl":[{"scroll-pl":B()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ee]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[xo,Do,Fu]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},jA=fA(TA);function Qe(...t){return jA(tA(t))}function IA(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function tw(...t){return e=>t.forEach(o=>IA(o,e))}function Dt(...t){return x.useCallback(tw(...t),t)}var Us=x.forwardRef((t,e)=>{const{children:o,...n}=t,i=x.Children.toArray(o),r=i.find(MA);if(r){const s=r.props.children,l=i.map(a=>a===r?x.Children.count(s)>1?x.Children.only(null):x.isValidElement(s)?s.props.children:null:a);return P.jsx(Ry,{...n,ref:e,children:x.isValidElement(s)?x.cloneElement(s,void 0,l):null})}return P.jsx(Ry,{...n,ref:e,children:o})});Us.displayName="Slot";var Ry=x.forwardRef((t,e)=>{const{children:o,...n}=t;if(x.isValidElement(o)){const i=DA(o);return x.cloneElement(o,{...OA(n,o.props),ref:e?tw(e,i):i})}return x.Children.count(o)>1?x.Children.only(null):null});Ry.displayName="SlotClone";var FA=({children:t})=>P.jsx(P.Fragment,{children:t});function MA(t){return x.isValidElement(t)&&t.type===FA}function OA(t,e){const o={...e};for(const n in e){const i=t[n],r=e[n];/^on[A-Z]/.test(n)?i&&r?o[n]=(...l)=>{r(...l),i(...l)}:i&&(o[n]=i):n==="style"?o[n]={...i,...r}:n==="className"&&(o[n]=[i,r].filter(Boolean).join(" "))}return{...t,...o}}function DA(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,o=e&&"isReactWarning"in e&&e.isReactWarning;return o?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,o=e&&"isReactWarning"in e&&e.isReactWarning,o?t.props.ref:t.props.ref||t.ref)}function ow(t){var e,o,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(o=ow(t[e]))&&(n&&(n+=" "),n+=o);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function BA(){for(var t,e,o=0,n="";o<arguments.length;)(t=arguments[o++])&&(e=ow(t))&&(n&&(n+=" "),n+=e);return n}const g0=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,m0=BA,nw=(t,e)=>o=>{var n;if(e?.variants==null)return m0(t,o?.class,o?.className);const{variants:i,defaultVariants:r}=e,s=Object.keys(i).map(c=>{const u=o?.[c],p=r?.[c];if(u===null)return null;const y=g0(u)||g0(p);return i[c][y]}),l=o&&Object.entries(o).reduce((c,u)=>{let[p,y]=u;return y===void 0||(c[p]=y),c},{}),a=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((c,u)=>{let{class:p,className:y,...d}=u;return Object.entries(d).every(g=>{let[f,b]=g;return Array.isArray(b)?b.includes({...r,...l}[f]):{...r,...l}[f]===b})?[...c,p,y]:c},[]);return m0(t,s,a,o?.class,o?.className)},GA=nw("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),jn=x.forwardRef(({className:t,variant:e,size:o,asChild:n=!1,...i},r)=>{const s=n?Us:"button";return P.jsx(s,{className:Qe(GA({variant:e,size:o,className:t})),ref:r,...i})});jn.displayName="Button";var b0=1,UA=.9,NA=.8,LA=.17,Mu=.1,Ou=.999,$A=.9999,WA=.99,HA=/[\\\/_+.#"@\[\(\{&]/,XA=/[\\\/_+.#"@\[\(\{&]/g,VA=/[\s-]/,iw=/[\s-]/g;function Ay(t,e,o,n,i,r,s){if(r===e.length)return i===t.length?b0:WA;var l=`${i},${r}`;if(s[l]!==void 0)return s[l];for(var a=n.charAt(r),c=o.indexOf(a,i),u=0,p,y,d,g;c>=0;)p=Ay(t,e,o,n,c+1,r+1,s),p>u&&(c===i?p*=b0:HA.test(t.charAt(c-1))?(p*=NA,d=t.slice(i,c-1).match(XA),d&&i>0&&(p*=Math.pow(Ou,d.length))):VA.test(t.charAt(c-1))?(p*=UA,g=t.slice(i,c-1).match(iw),g&&i>0&&(p*=Math.pow(Ou,g.length))):(p*=LA,i>0&&(p*=Math.pow(Ou,c-i))),t.charAt(c)!==e.charAt(r)&&(p*=$A)),(p<Mu&&o.charAt(c-1)===n.charAt(r+1)||n.charAt(r+1)===n.charAt(r)&&o.charAt(c-1)!==n.charAt(r))&&(y=Ay(t,e,o,n,c+1,r+2,s),y*Mu>p&&(p=y*Mu)),p>u&&(u=p),c=o.indexOf(a,c+1);return s[l]=u,u}function x0(t){return t.toLowerCase().replace(iw," ")}function qA(t,e,o){return t=o&&o.length>0?`${t+" "+o.join(" ")}`:t,Ay(t,e,x0(t),x0(e),0,0,{})}function nt(){return nt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)({}).hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},nt.apply(null,arguments)}function Xi(t,e,{checkForDefaultPrevented:o=!0}={}){return function(i){if(t?.(i),o===!1||!i.defaultPrevented)return e?.(i)}}function YA(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function rw(...t){return e=>t.forEach(o=>YA(o,e))}function Ns(...t){return x.useCallback(rw(...t),t)}function KA(t,e=[]){let o=[];function n(r,s){const l=x.createContext(s),a=o.length;o=[...o,s];function c(p){const{scope:y,children:d,...g}=p,f=y?.[t][a]||l,b=x.useMemo(()=>g,Object.values(g));return x.createElement(f.Provider,{value:b},d)}function u(p,y){const d=y?.[t][a]||l,g=x.useContext(d);if(g)return g;if(s!==void 0)return s;throw new Error(`\`${p}\` must be used within \`${r}\``)}return c.displayName=r+"Provider",[c,u]}const i=()=>{const r=o.map(s=>x.createContext(s));return function(l){const a=l?.[t]||r;return x.useMemo(()=>({[`__scope${t}`]:{...l,[t]:a}}),[l,a])}};return i.scopeName=t,[n,QA(i,...e)]}function QA(...t){const e=t[0];if(t.length===1)return e;const o=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(r){const s=n.reduce((l,{useScope:a,scopeName:c})=>{const p=a(r)[`__scope${c}`];return{...l,...p}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return o.scopeName=e.scopeName,o}const Py=globalThis?.document?x.useLayoutEffect:()=>{},JA=lm.useId||(()=>{});let e6=0;function Du(t){const[e,o]=x.useState(JA());return Py(()=>{t||o(n=>n??String(e6++))},[t]),t||(e?`radix-${e}`:"")}function Kn(t){const e=x.useRef(t);return x.useEffect(()=>{e.current=t}),x.useMemo(()=>(...o)=>{var n;return(n=e.current)===null||n===void 0?void 0:n.call(e,...o)},[])}function t6({prop:t,defaultProp:e,onChange:o=()=>{}}){const[n,i]=o6({defaultProp:e,onChange:o}),r=t!==void 0,s=r?t:n,l=Kn(o),a=x.useCallback(c=>{if(r){const p=typeof c=="function"?c(t):c;p!==t&&l(p)}else i(c)},[r,t,i,l]);return[s,a]}function o6({defaultProp:t,onChange:e}){const o=x.useState(t),[n]=o,i=x.useRef(n),r=Kn(e);return x.useEffect(()=>{i.current!==n&&(r(n),i.current=n)},[n,i,r]),o}const yf=x.forwardRef((t,e)=>{const{children:o,...n}=t,i=x.Children.toArray(o),r=i.find(i6);if(r){const s=r.props.children,l=i.map(a=>a===r?x.Children.count(s)>1?x.Children.only(null):x.isValidElement(s)?s.props.children:null:a);return x.createElement(Ty,nt({},n,{ref:e}),x.isValidElement(s)?x.cloneElement(s,void 0,l):null)}return x.createElement(Ty,nt({},n,{ref:e}),o)});yf.displayName="Slot";const Ty=x.forwardRef((t,e)=>{const{children:o,...n}=t;return x.isValidElement(o)?x.cloneElement(o,{...r6(n,o.props),ref:e?rw(e,o.ref):o.ref}):x.Children.count(o)>1?x.Children.only(null):null});Ty.displayName="SlotClone";const n6=({children:t})=>x.createElement(x.Fragment,null,t);function i6(t){return x.isValidElement(t)&&t.type===n6}function r6(t,e){const o={...e};for(const n in e){const i=t[n],r=e[n];/^on[A-Z]/.test(n)?i&&r?o[n]=(...l)=>{r(...l),i(...l)}:i&&(o[n]=i):n==="style"?o[n]={...i,...r}:n==="className"&&(o[n]=[i,r].filter(Boolean).join(" "))}return{...t,...o}}const s6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Bt=s6.reduce((t,e)=>{const o=x.forwardRef((n,i)=>{const{asChild:r,...s}=n,l=r?yf:e;return x.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),x.createElement(l,nt({},s,{ref:i}))});return o.displayName=`Primitive.${e}`,{...t,[e]:o}},{});function l6(t,e){t&&yr.flushSync(()=>t.dispatchEvent(e))}function a6(t,e=globalThis?.document){const o=Kn(t);x.useEffect(()=>{const n=i=>{i.key==="Escape"&&o(i)};return e.addEventListener("keydown",n),()=>e.removeEventListener("keydown",n)},[o,e])}const jy="dismissableLayer.update",c6="dismissableLayer.pointerDownOutside",u6="dismissableLayer.focusOutside";let k0;const p6=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),y6=x.forwardRef((t,e)=>{var o;const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:i,onPointerDownOutside:r,onFocusOutside:s,onInteractOutside:l,onDismiss:a,...c}=t,u=x.useContext(p6),[p,y]=x.useState(null),d=(o=p?.ownerDocument)!==null&&o!==void 0?o:globalThis?.document,[,g]=x.useState({}),f=Ns(e,S=>y(S)),b=Array.from(u.layers),[h]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),m=b.indexOf(h),k=p?b.indexOf(p):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,v=k>=m,E=d6(S=>{const C=S.target,_=[...u.branches].some(D=>D.contains(C));!v||_||(r?.(S),l?.(S),S.defaultPrevented||a?.())},d),z=f6(S=>{const C=S.target;[...u.branches].some(D=>D.contains(C))||(s?.(S),l?.(S),S.defaultPrevented||a?.())},d);return a6(S=>{k===u.layers.size-1&&(i?.(S),!S.defaultPrevented&&a&&(S.preventDefault(),a()))},d),x.useEffect(()=>{if(p)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(k0=d.body.style.pointerEvents,d.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(p)),u.layers.add(p),w0(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(d.body.style.pointerEvents=k0)}},[p,d,n,u]),x.useEffect(()=>()=>{p&&(u.layers.delete(p),u.layersWithOutsidePointerEventsDisabled.delete(p),w0())},[p,u]),x.useEffect(()=>{const S=()=>g({});return document.addEventListener(jy,S),()=>document.removeEventListener(jy,S)},[]),x.createElement(Bt.div,nt({},c,{ref:f,style:{pointerEvents:w?v?"auto":"none":void 0,...t.style},onFocusCapture:Xi(t.onFocusCapture,z.onFocusCapture),onBlurCapture:Xi(t.onBlurCapture,z.onBlurCapture),onPointerDownCapture:Xi(t.onPointerDownCapture,E.onPointerDownCapture)}))});function d6(t,e=globalThis?.document){const o=Kn(t),n=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const r=l=>{if(l.target&&!n.current){let c=function(){sw(c6,o,a,{discrete:!0})};const a={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);n.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",r)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",r),e.removeEventListener("click",i.current)}},[e,o]),{onPointerDownCapture:()=>n.current=!0}}function f6(t,e=globalThis?.document){const o=Kn(t),n=x.useRef(!1);return x.useEffect(()=>{const i=r=>{r.target&&!n.current&&sw(u6,o,{originalEvent:r},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,o]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function w0(){const t=new CustomEvent(jy);document.dispatchEvent(t)}function sw(t,e,o,{discrete:n}){const i=o.originalEvent.target,r=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:o});e&&i.addEventListener(t,e,{once:!0}),n?l6(i,r):i.dispatchEvent(r)}const Bu="focusScope.autoFocusOnMount",Gu="focusScope.autoFocusOnUnmount",v0={bubbles:!1,cancelable:!0},h6=x.forwardRef((t,e)=>{const{loop:o=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:r,...s}=t,[l,a]=x.useState(null),c=Kn(i),u=Kn(r),p=x.useRef(null),y=Ns(e,f=>a(f)),d=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(n){let f=function(k){if(d.paused||!l)return;const w=k.target;l.contains(w)?p.current=w:Go(p.current,{select:!0})},b=function(k){if(d.paused||!l)return;const w=k.relatedTarget;w!==null&&(l.contains(w)||Go(p.current,{select:!0}))},h=function(k){if(document.activeElement===document.body)for(const v of k)v.removedNodes.length>0&&Go(l)};document.addEventListener("focusin",f),document.addEventListener("focusout",b);const m=new MutationObserver(h);return l&&m.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",f),document.removeEventListener("focusout",b),m.disconnect()}}},[n,l,d.paused]),x.useEffect(()=>{if(l){S0.add(d);const f=document.activeElement;if(!l.contains(f)){const h=new CustomEvent(Bu,v0);l.addEventListener(Bu,c),l.dispatchEvent(h),h.defaultPrevented||(g6(w6(lw(l)),{select:!0}),document.activeElement===f&&Go(l))}return()=>{l.removeEventListener(Bu,c),setTimeout(()=>{const h=new CustomEvent(Gu,v0);l.addEventListener(Gu,u),l.dispatchEvent(h),h.defaultPrevented||Go(f??document.body,{select:!0}),l.removeEventListener(Gu,u),S0.remove(d)},0)}}},[l,c,u,d]);const g=x.useCallback(f=>{if(!o&&!n||d.paused)return;const b=f.key==="Tab"&&!f.altKey&&!f.ctrlKey&&!f.metaKey,h=document.activeElement;if(b&&h){const m=f.currentTarget,[k,w]=m6(m);k&&w?!f.shiftKey&&h===w?(f.preventDefault(),o&&Go(k,{select:!0})):f.shiftKey&&h===k&&(f.preventDefault(),o&&Go(w,{select:!0})):h===m&&f.preventDefault()}},[o,n,d.paused]);return x.createElement(Bt.div,nt({tabIndex:-1},s,{ref:y,onKeyDown:g}))});function g6(t,{select:e=!1}={}){const o=document.activeElement;for(const n of t)if(Go(n,{select:e}),document.activeElement!==o)return}function m6(t){const e=lw(t),o=z0(e,t),n=z0(e.reverse(),t);return[o,n]}function lw(t){const e=[],o=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;o.nextNode();)e.push(o.currentNode);return e}function z0(t,e){for(const o of t)if(!b6(o,{upTo:e}))return o}function b6(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function x6(t){return t instanceof HTMLInputElement&&"select"in t}function Go(t,{select:e=!1}={}){if(t&&t.focus){const o=document.activeElement;t.focus({preventScroll:!0}),t!==o&&x6(t)&&e&&t.select()}}const S0=k6();function k6(){let t=[];return{add(e){const o=t[0];e!==o&&o?.pause(),t=E0(t,e),t.unshift(e)},remove(e){var o;t=E0(t,e),(o=t[0])===null||o===void 0||o.resume()}}}function E0(t,e){const o=[...t],n=o.indexOf(e);return n!==-1&&o.splice(n,1),o}function w6(t){return t.filter(e=>e.tagName!=="A")}const v6=x.forwardRef((t,e)=>{var o;const{container:n=globalThis==null||(o=globalThis.document)===null||o===void 0?void 0:o.body,...i}=t;return n?ux.createPortal(x.createElement(Bt.div,nt({},i,{ref:e})),n):null});function z6(t,e){return x.useReducer((o,n)=>{const i=e[o][n];return i??o},t)}const gc=t=>{const{present:e,children:o}=t,n=S6(e),i=typeof o=="function"?o({present:n.isPresent}):x.Children.only(o),r=Ns(n.ref,i.ref);return typeof o=="function"||n.isPresent?x.cloneElement(i,{ref:r}):null};gc.displayName="Presence";function S6(t){const[e,o]=x.useState(),n=x.useRef({}),i=x.useRef(t),r=x.useRef("none"),s=t?"mounted":"unmounted",[l,a]=z6(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const c=_l(n.current);r.current=l==="mounted"?c:"none"},[l]),Py(()=>{const c=n.current,u=i.current;if(u!==t){const y=r.current,d=_l(c);t?a("MOUNT"):d==="none"||c?.display==="none"?a("UNMOUNT"):a(u&&y!==d?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,a]),Py(()=>{if(e){const c=p=>{const d=_l(n.current).includes(p.animationName);p.target===e&&d&&yr.flushSync(()=>a("ANIMATION_END"))},u=p=>{p.target===e&&(r.current=_l(n.current))};return e.addEventListener("animationstart",u),e.addEventListener("animationcancel",c),e.addEventListener("animationend",c),()=>{e.removeEventListener("animationstart",u),e.removeEventListener("animationcancel",c),e.removeEventListener("animationend",c)}}else a("ANIMATION_END")},[e,a]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:x.useCallback(c=>{c&&(n.current=getComputedStyle(c)),o(c)},[])}}function _l(t){return t?.animationName||"none"}let Uu=0;function E6(){x.useEffect(()=>{var t,e;const o=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=o[0])!==null&&t!==void 0?t:_0()),document.body.insertAdjacentElement("beforeend",(e=o[1])!==null&&e!==void 0?e:_0()),Uu++,()=>{Uu===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),Uu--}},[])}function _0(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",t}var qe=function(){return qe=Object.assign||function(e){for(var o,n=1,i=arguments.length;n<i;n++){o=arguments[n];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},qe.apply(this,arguments)};function df(t,e){var o={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(o[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(o[n[i]]=t[n[i]]);return o}function aw(t,e,o){if(o||arguments.length===2)for(var n=0,i=e.length,r;n<i;n++)(r||!(n in e))&&(r||(r=Array.prototype.slice.call(e,0,n)),r[n]=e[n]);return t.concat(r||Array.prototype.slice.call(e))}var rs="right-scroll-bar-position",ss="width-before-scroll-bar",_6="with-scroll-bars-hidden",C6="--removed-body-scroll-bar-size";function Nu(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Z6(t,e){var o=x.useState(function(){return{value:t,callback:e,facade:{get current(){return o.value},set current(n){var i=o.value;i!==n&&(o.value=n,o.callback(n,i))}}}})[0];return o.callback=e,o.facade}var R6=typeof window<"u"?x.useLayoutEffect:x.useEffect,C0=new WeakMap;function cw(t,e){var o=Z6(null,function(n){return t.forEach(function(i){return Nu(i,n)})});return R6(function(){var n=C0.get(o);if(n){var i=new Set(n),r=new Set(t),s=o.current;i.forEach(function(l){r.has(l)||Nu(l,null)}),r.forEach(function(l){i.has(l)||Nu(l,s)})}C0.set(o,t)},[t]),o}function A6(t){return t}function P6(t,e){e===void 0&&(e=A6);var o=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return o.length?o[o.length-1]:t},useMedium:function(r){var s=e(r,n);return o.push(s),function(){o=o.filter(function(l){return l!==s})}},assignSyncMedium:function(r){for(n=!0;o.length;){var s=o;o=[],s.forEach(r)}o={push:function(l){return r(l)},filter:function(){return o}}},assignMedium:function(r){n=!0;var s=[];if(o.length){var l=o;o=[],l.forEach(r),s=o}var a=function(){var u=s;s=[],u.forEach(r)},c=function(){return Promise.resolve().then(a)};c(),o={push:function(u){s.push(u),c()},filter:function(u){return s=s.filter(u),o}}}};return i}function uw(t){t===void 0&&(t={});var e=P6(null);return e.options=qe({async:!0,ssr:!1},t),e}var pw=function(t){var e=t.sideCar,o=df(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return x.createElement(n,qe({},o))};pw.isSideCarExport=!0;function yw(t,e){return t.useMedium(e),pw}var dw=uw(),Lu=function(){},mc=x.forwardRef(function(t,e){var o=x.useRef(null),n=x.useState({onScrollCapture:Lu,onWheelCapture:Lu,onTouchMoveCapture:Lu}),i=n[0],r=n[1],s=t.forwardProps,l=t.children,a=t.className,c=t.removeScrollBar,u=t.enabled,p=t.shards,y=t.sideCar,d=t.noIsolation,g=t.inert,f=t.allowPinchZoom,b=t.as,h=b===void 0?"div":b,m=df(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),k=y,w=cw([o,e]),v=qe(qe({},m),i);return x.createElement(x.Fragment,null,u&&x.createElement(k,{sideCar:dw,removeScrollBar:c,shards:p,noIsolation:d,inert:g,setCallbacks:r,allowPinchZoom:!!f,lockRef:o}),s?x.cloneElement(x.Children.only(l),qe(qe({},v),{ref:w})):x.createElement(h,qe({},v,{className:a,ref:w}),l))});mc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};mc.classNames={fullWidth:ss,zeroRight:rs};var T6=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function j6(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=T6();return e&&t.setAttribute("nonce",e),t}function I6(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function F6(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var M6=function(){var t=0,e=null;return{add:function(o){t==0&&(e=j6())&&(I6(e,o),F6(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},O6=function(){var t=M6();return function(e,o){x.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&o])}},ff=function(){var t=O6(),e=function(o){var n=o.styles,i=o.dynamic;return t(n,i),null};return e},D6={left:0,top:0,right:0,gap:0},$u=function(t){return parseInt(t||"",10)||0},B6=function(t){var e=window.getComputedStyle(document.body),o=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[$u(o),$u(n),$u(i)]},G6=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return D6;var e=B6(t),o=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-o+e[2]-e[0])}},U6=ff(),Vi="data-scroll-locked",N6=function(t,e,o,n){var i=t.left,r=t.top,s=t.right,l=t.gap;return o===void 0&&(o="margin"),`
  .`.concat(_6,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Vi,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),o==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(r,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),o==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(rs,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(ss,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(rs," .").concat(rs,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(ss," .").concat(ss,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Vi,`] {
    `).concat(C6,": ").concat(l,`px;
  }
`)},Z0=function(){var t=parseInt(document.body.getAttribute(Vi)||"0",10);return isFinite(t)?t:0},L6=function(){x.useEffect(function(){return document.body.setAttribute(Vi,(Z0()+1).toString()),function(){var t=Z0()-1;t<=0?document.body.removeAttribute(Vi):document.body.setAttribute(Vi,t.toString())}},[])},fw=function(t){var e=t.noRelative,o=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;L6();var r=x.useMemo(function(){return G6(i)},[i]);return x.createElement(U6,{styles:N6(r,!e,i,o?"":"!important")})},Iy=!1;if(typeof window<"u")try{var Cl=Object.defineProperty({},"passive",{get:function(){return Iy=!0,!0}});window.addEventListener("test",Cl,Cl),window.removeEventListener("test",Cl,Cl)}catch{Iy=!1}var fi=Iy?{passive:!1}:!1,$6=function(t){return t.tagName==="TEXTAREA"},hw=function(t,e){var o=window.getComputedStyle(t);return o[e]!=="hidden"&&!(o.overflowY===o.overflowX&&!$6(t)&&o[e]==="visible")},W6=function(t){return hw(t,"overflowY")},H6=function(t){return hw(t,"overflowX")},R0=function(t,e){var o=e;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var n=gw(t,o);if(n){var i=mw(t,o),r=i[1],s=i[2];if(r>s)return!0}o=o.parentNode}while(o&&o!==document.body);return!1},X6=function(t){var e=t.scrollTop,o=t.scrollHeight,n=t.clientHeight;return[e,o,n]},V6=function(t){var e=t.scrollLeft,o=t.scrollWidth,n=t.clientWidth;return[e,o,n]},gw=function(t,e){return t==="v"?W6(e):H6(e)},mw=function(t,e){return t==="v"?X6(e):V6(e)},q6=function(t,e){return t==="h"&&e==="rtl"?-1:1},Y6=function(t,e,o,n,i){var r=q6(t,window.getComputedStyle(e).direction),s=r*n,l=o.target,a=e.contains(l),c=!1,u=s>0,p=0,y=0;do{var d=mw(t,l),g=d[0],f=d[1],b=d[2],h=f-b-r*g;(g||h)&&gw(t,l)&&(p+=h,y+=g),l=l.parentNode}while(!a&&l!==document.body||a&&(e.contains(l)||e===l));return(u&&(p===0||!i)||!u&&(y===0||!i))&&(c=!0),c},Zl=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},A0=function(t){return[t.deltaX,t.deltaY]},P0=function(t){return t&&"current"in t?t.current:t},K6=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Q6=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},J6=0,hi=[];function eP(t){var e=x.useRef([]),o=x.useRef([0,0]),n=x.useRef(),i=x.useState(J6++)[0],r=x.useState(function(){return ff()})[0],s=x.useRef(t);x.useEffect(function(){s.current=t},[t]),x.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var f=aw([t.lockRef.current],(t.shards||[]).map(P0),!0).filter(Boolean);return f.forEach(function(b){return b.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),f.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var l=x.useCallback(function(f,b){if("touches"in f&&f.touches.length===2)return!s.current.allowPinchZoom;var h=Zl(f),m=o.current,k="deltaX"in f?f.deltaX:m[0]-h[0],w="deltaY"in f?f.deltaY:m[1]-h[1],v,E=f.target,z=Math.abs(k)>Math.abs(w)?"h":"v";if("touches"in f&&z==="h"&&E.type==="range")return!1;var S=R0(z,E);if(!S)return!0;if(S?v=z:(v=z==="v"?"h":"v",S=R0(z,E)),!S)return!1;if(!n.current&&"changedTouches"in f&&(k||w)&&(n.current=v),!v)return!0;var C=n.current||v;return Y6(C,b,f,C==="h"?k:w,!0)},[]),a=x.useCallback(function(f){var b=f;if(!(!hi.length||hi[hi.length-1]!==r)){var h="deltaY"in b?A0(b):Zl(b),m=e.current.filter(function(v){return v.name===b.type&&v.target===b.target&&K6(v.delta,h)})[0];if(m&&m.should){b.cancelable&&b.preventDefault();return}if(!m){var k=(s.current.shards||[]).map(P0).filter(Boolean).filter(function(v){return v.contains(b.target)}),w=k.length>0?l(b,k[0]):!s.current.noIsolation;w&&b.cancelable&&b.preventDefault()}}},[]),c=x.useCallback(function(f,b,h,m){var k={name:f,delta:b,target:h,should:m};e.current.push(k),setTimeout(function(){e.current=e.current.filter(function(w){return w!==k})},1)},[]),u=x.useCallback(function(f){o.current=Zl(f),n.current=void 0},[]),p=x.useCallback(function(f){c(f.type,A0(f),f.target,l(f,t.lockRef.current))},[]),y=x.useCallback(function(f){c(f.type,Zl(f),f.target,l(f,t.lockRef.current))},[]);x.useEffect(function(){return hi.push(r),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:y}),document.addEventListener("wheel",a,fi),document.addEventListener("touchmove",a,fi),document.addEventListener("touchstart",u,fi),function(){hi=hi.filter(function(f){return f!==r}),document.removeEventListener("wheel",a,fi),document.removeEventListener("touchmove",a,fi),document.removeEventListener("touchstart",u,fi)}},[]);var d=t.removeScrollBar,g=t.inert;return x.createElement(x.Fragment,null,g?x.createElement(r,{styles:Q6(i)}):null,d?x.createElement(fw,{gapMode:"margin"}):null)}const tP=yw(dw,eP);var bw=x.forwardRef(function(t,e){return x.createElement(mc,qe({},t,{ref:e,sideCar:tP}))});bw.classNames=mc.classNames;var oP=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},gi=new WeakMap,Rl=new WeakMap,Al={},Wu=0,xw=function(t){return t&&(t.host||xw(t.parentNode))},nP=function(t,e){return e.map(function(o){if(t.contains(o))return o;var n=xw(o);return n&&t.contains(n)?n:(console.error("aria-hidden",o,"in not contained inside",t,". Doing nothing"),null)}).filter(function(o){return!!o})},iP=function(t,e,o,n){var i=nP(e,Array.isArray(t)?t:[t]);Al[o]||(Al[o]=new WeakMap);var r=Al[o],s=[],l=new Set,a=new Set(i),c=function(p){!p||l.has(p)||(l.add(p),c(p.parentNode))};i.forEach(c);var u=function(p){!p||a.has(p)||Array.prototype.forEach.call(p.children,function(y){if(l.has(y))u(y);else try{var d=y.getAttribute(n),g=d!==null&&d!=="false",f=(gi.get(y)||0)+1,b=(r.get(y)||0)+1;gi.set(y,f),r.set(y,b),s.push(y),f===1&&g&&Rl.set(y,!0),b===1&&y.setAttribute(o,"true"),g||y.setAttribute(n,"true")}catch(h){console.error("aria-hidden: cannot operate on ",y,h)}})};return u(e),l.clear(),Wu++,function(){s.forEach(function(p){var y=gi.get(p)-1,d=r.get(p)-1;gi.set(p,y),r.set(p,d),y||(Rl.has(p)||p.removeAttribute(n),Rl.delete(p)),d||p.removeAttribute(o)}),Wu--,Wu||(gi=new WeakMap,gi=new WeakMap,Rl=new WeakMap,Al={})}},hf=function(t,e,o){o===void 0&&(o="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=oP(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),iP(n,i,o,"aria-hidden")):function(){return null}};const kw="Dialog",[ww,RI]=KA(kw),[rP,ai]=ww(kw),sP=t=>{const{__scopeDialog:e,children:o,open:n,defaultOpen:i,onOpenChange:r,modal:s=!0}=t,l=x.useRef(null),a=x.useRef(null),[c=!1,u]=t6({prop:n,defaultProp:i,onChange:r});return x.createElement(rP,{scope:e,triggerRef:l,contentRef:a,contentId:Du(),titleId:Du(),descriptionId:Du(),open:c,onOpenChange:u,onOpenToggle:x.useCallback(()=>u(p=>!p),[u]),modal:s},o)},vw="DialogPortal",[lP,zw]=ww(vw,{forceMount:void 0}),aP=t=>{const{__scopeDialog:e,forceMount:o,children:n,container:i}=t,r=ai(vw,e);return x.createElement(lP,{scope:e,forceMount:o},x.Children.map(n,s=>x.createElement(gc,{present:o||r.open},x.createElement(v6,{asChild:!0,container:i},s))))},Fy="DialogOverlay",cP=x.forwardRef((t,e)=>{const o=zw(Fy,t.__scopeDialog),{forceMount:n=o.forceMount,...i}=t,r=ai(Fy,t.__scopeDialog);return r.modal?x.createElement(gc,{present:n||r.open},x.createElement(uP,nt({},i,{ref:e}))):null}),uP=x.forwardRef((t,e)=>{const{__scopeDialog:o,...n}=t,i=ai(Fy,o);return x.createElement(bw,{as:yf,allowPinchZoom:!0,shards:[i.contentRef]},x.createElement(Bt.div,nt({"data-state":Ew(i.open)},n,{ref:e,style:{pointerEvents:"auto",...n.style}})))}),Ts="DialogContent",pP=x.forwardRef((t,e)=>{const o=zw(Ts,t.__scopeDialog),{forceMount:n=o.forceMount,...i}=t,r=ai(Ts,t.__scopeDialog);return x.createElement(gc,{present:n||r.open},r.modal?x.createElement(yP,nt({},i,{ref:e})):x.createElement(dP,nt({},i,{ref:e})))}),yP=x.forwardRef((t,e)=>{const o=ai(Ts,t.__scopeDialog),n=x.useRef(null),i=Ns(e,o.contentRef,n);return x.useEffect(()=>{const r=n.current;if(r)return hf(r)},[]),x.createElement(Sw,nt({},t,{ref:i,trapFocus:o.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Xi(t.onCloseAutoFocus,r=>{var s;r.preventDefault(),(s=o.triggerRef.current)===null||s===void 0||s.focus()}),onPointerDownOutside:Xi(t.onPointerDownOutside,r=>{const s=r.detail.originalEvent,l=s.button===0&&s.ctrlKey===!0;(s.button===2||l)&&r.preventDefault()}),onFocusOutside:Xi(t.onFocusOutside,r=>r.preventDefault())}))}),dP=x.forwardRef((t,e)=>{const o=ai(Ts,t.__scopeDialog),n=x.useRef(!1),i=x.useRef(!1);return x.createElement(Sw,nt({},t,{ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:r=>{var s;if((s=t.onCloseAutoFocus)===null||s===void 0||s.call(t,r),!r.defaultPrevented){var l;n.current||(l=o.triggerRef.current)===null||l===void 0||l.focus(),r.preventDefault()}n.current=!1,i.current=!1},onInteractOutside:r=>{var s,l;(s=t.onInteractOutside)===null||s===void 0||s.call(t,r),r.defaultPrevented||(n.current=!0,r.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=r.target;((l=o.triggerRef.current)===null||l===void 0?void 0:l.contains(a))&&r.preventDefault(),r.detail.originalEvent.type==="focusin"&&i.current&&r.preventDefault()}}))}),Sw=x.forwardRef((t,e)=>{const{__scopeDialog:o,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:r,...s}=t,l=ai(Ts,o),a=x.useRef(null),c=Ns(e,a);return E6(),x.createElement(x.Fragment,null,x.createElement(h6,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:r},x.createElement(y6,nt({role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Ew(l.open)},s,{ref:c,onDismiss:()=>l.onOpenChange(!1)}))),!1)});function Ew(t){return t?"open":"closed"}const fP=sP,hP=aP,gP=cP,mP=pP;var Mr='[cmdk-group=""]',Hu='[cmdk-group-items=""]',bP='[cmdk-group-heading=""]',gf='[cmdk-item=""]',T0=`${gf}:not([aria-disabled="true"])`,My="cmdk-item-select",In="data-value",xP=(t,e,o)=>qA(t,e,o),_w=x.createContext(void 0),Ls=()=>x.useContext(_w),Cw=x.createContext(void 0),mf=()=>x.useContext(Cw),Zw=x.createContext(void 0),Rw=x.forwardRef((t,e)=>{let o=Si(()=>{var R,L;return{search:"",value:(L=(R=t.value)!=null?R:t.defaultValue)!=null?L:"",filtered:{count:0,items:new Map,groups:new Set}}}),n=Si(()=>new Set),i=Si(()=>new Map),r=Si(()=>new Map),s=Si(()=>new Set),l=Aw(t),{label:a,children:c,value:u,onValueChange:p,filter:y,shouldFilter:d,loop:g,disablePointerSelection:f=!1,vimBindings:b=!0,...h}=t,m=x.useId(),k=x.useId(),w=x.useId(),v=x.useRef(null),E=AP();Qn(()=>{if(u!==void 0){let R=u.trim();o.current.value=R,z.emit()}},[u]),Qn(()=>{E(6,M)},[]);let z=x.useMemo(()=>({subscribe:R=>(s.current.add(R),()=>s.current.delete(R)),snapshot:()=>o.current,setState:(R,L,X)=>{var G,J,re;if(!Object.is(o.current[R],L)){if(o.current[R]=L,R==="search")B(),_(),E(1,D);else if(R==="value"&&(X||E(5,M),((G=l.current)==null?void 0:G.value)!==void 0)){let Re=L??"";(re=(J=l.current).onValueChange)==null||re.call(J,Re);return}z.emit()}},emit:()=>{s.current.forEach(R=>R())}}),[]),S=x.useMemo(()=>({value:(R,L,X)=>{var G;L!==((G=r.current.get(R))==null?void 0:G.value)&&(r.current.set(R,{value:L,keywords:X}),o.current.filtered.items.set(R,C(L,X)),E(2,()=>{_(),z.emit()}))},item:(R,L)=>(n.current.add(R),L&&(i.current.has(L)?i.current.get(L).add(R):i.current.set(L,new Set([R]))),E(3,()=>{B(),_(),o.current.value||D(),z.emit()}),()=>{r.current.delete(R),n.current.delete(R),o.current.filtered.items.delete(R);let X=j();E(4,()=>{B(),X?.getAttribute("id")===R&&D(),z.emit()})}),group:R=>(i.current.has(R)||i.current.set(R,new Set),()=>{r.current.delete(R),i.current.delete(R)}),filter:()=>l.current.shouldFilter,label:a||t["aria-label"],disablePointerSelection:f,listId:m,inputId:w,labelId:k,listInnerRef:v}),[]);function C(R,L){var X,G;let J=(G=(X=l.current)==null?void 0:X.filter)!=null?G:xP;return R?J(R,o.current.search,L):0}function _(){if(!o.current.search||l.current.shouldFilter===!1)return;let R=o.current.filtered.items,L=[];o.current.filtered.groups.forEach(G=>{let J=i.current.get(G),re=0;J.forEach(Re=>{let Je=R.get(Re);re=Math.max(Je,re)}),L.push([G,re])});let X=v.current;W().sort((G,J)=>{var re,Re;let Je=G.getAttribute("id"),fo=J.getAttribute("id");return((re=R.get(fo))!=null?re:0)-((Re=R.get(Je))!=null?Re:0)}).forEach(G=>{let J=G.closest(Hu);J?J.appendChild(G.parentElement===J?G:G.closest(`${Hu} > *`)):X.appendChild(G.parentElement===X?G:G.closest(`${Hu} > *`))}),L.sort((G,J)=>J[1]-G[1]).forEach(G=>{let J=v.current.querySelector(`${Mr}[${In}="${encodeURIComponent(G[0])}"]`);J?.parentElement.appendChild(J)})}function D(){let R=W().find(X=>X.getAttribute("aria-disabled")!=="true"),L=R?.getAttribute(In);z.setState("value",L||void 0)}function B(){var R,L,X,G;if(!o.current.search||l.current.shouldFilter===!1){o.current.filtered.count=n.current.size;return}o.current.filtered.groups=new Set;let J=0;for(let re of n.current){let Re=(L=(R=r.current.get(re))==null?void 0:R.value)!=null?L:"",Je=(G=(X=r.current.get(re))==null?void 0:X.keywords)!=null?G:[],fo=C(Re,Je);o.current.filtered.items.set(re,fo),fo>0&&J++}for(let[re,Re]of i.current)for(let Je of Re)if(o.current.filtered.items.get(Je)>0){o.current.filtered.groups.add(re);break}o.current.filtered.count=J}function M(){var R,L,X;let G=j();G&&(((R=G.parentElement)==null?void 0:R.firstChild)===G&&((X=(L=G.closest(Mr))==null?void 0:L.querySelector(bP))==null||X.scrollIntoView({block:"nearest"})),G.scrollIntoView({block:"nearest"}))}function j(){var R;return(R=v.current)==null?void 0:R.querySelector(`${gf}[aria-selected="true"]`)}function W(){var R;return Array.from((R=v.current)==null?void 0:R.querySelectorAll(T0))}function H(R){let L=W()[R];L&&z.setState("value",L.getAttribute(In))}function F(R){var L;let X=j(),G=W(),J=G.findIndex(Re=>Re===X),re=G[J+R];(L=l.current)!=null&&L.loop&&(re=J+R<0?G[G.length-1]:J+R===G.length?G[0]:G[J+R]),re&&z.setState("value",re.getAttribute(In))}function Z(R){let L=j(),X=L?.closest(Mr),G;for(;X&&!G;)X=R>0?ZP(X,Mr):RP(X,Mr),G=X?.querySelector(T0);G?z.setState("value",G.getAttribute(In)):F(R)}let A=()=>H(W().length-1),T=R=>{R.preventDefault(),R.metaKey?A():R.altKey?Z(1):F(1)},Q=R=>{R.preventDefault(),R.metaKey?H(0):R.altKey?Z(-1):F(-1)};return x.createElement(Bt.div,{ref:e,tabIndex:-1,...h,"cmdk-root":"",onKeyDown:R=>{var L;if((L=h.onKeyDown)==null||L.call(h,R),!R.defaultPrevented)switch(R.key){case"n":case"j":{b&&R.ctrlKey&&T(R);break}case"ArrowDown":{T(R);break}case"p":case"k":{b&&R.ctrlKey&&Q(R);break}case"ArrowUp":{Q(R);break}case"Home":{R.preventDefault(),H(0);break}case"End":{R.preventDefault(),A();break}case"Enter":if(!R.nativeEvent.isComposing&&R.keyCode!==229){R.preventDefault();let X=j();if(X){let G=new Event(My);X.dispatchEvent(G)}}}}},x.createElement("label",{"cmdk-label":"",htmlFor:S.inputId,id:S.labelId,style:TP},a),bc(t,R=>x.createElement(Cw.Provider,{value:z},x.createElement(_w.Provider,{value:S},R))))}),kP=x.forwardRef((t,e)=>{var o,n;let i=x.useId(),r=x.useRef(null),s=x.useContext(Zw),l=Ls(),a=Aw(t),c=(n=(o=a.current)==null?void 0:o.forceMount)!=null?n:s?.forceMount;Qn(()=>{if(!c)return l.item(i,s?.id)},[c]);let u=Pw(i,r,[t.value,t.children,r],t.keywords),p=mf(),y=Jn(E=>E.value&&E.value===u.current),d=Jn(E=>c||l.filter()===!1?!0:E.search?E.filtered.items.get(i)>0:!0);x.useEffect(()=>{let E=r.current;if(!(!E||t.disabled))return E.addEventListener(My,g),()=>E.removeEventListener(My,g)},[d,t.onSelect,t.disabled]);function g(){var E,z;f(),(z=(E=a.current).onSelect)==null||z.call(E,u.current)}function f(){p.setState("value",u.current,!0)}if(!d)return null;let{disabled:b,value:h,onSelect:m,forceMount:k,keywords:w,...v}=t;return x.createElement(Bt.div,{ref:js([r,e]),...v,id:i,"cmdk-item":"",role:"option","aria-disabled":!!b,"aria-selected":!!y,"data-disabled":!!b,"data-selected":!!y,onPointerMove:b||l.disablePointerSelection?void 0:f,onClick:b?void 0:g},t.children)}),wP=x.forwardRef((t,e)=>{let{heading:o,children:n,forceMount:i,...r}=t,s=x.useId(),l=x.useRef(null),a=x.useRef(null),c=x.useId(),u=Ls(),p=Jn(d=>i||u.filter()===!1?!0:d.search?d.filtered.groups.has(s):!0);Qn(()=>u.group(s),[]),Pw(s,l,[t.value,t.heading,a]);let y=x.useMemo(()=>({id:s,forceMount:i}),[i]);return x.createElement(Bt.div,{ref:js([l,e]),...r,"cmdk-group":"",role:"presentation",hidden:p?void 0:!0},o&&x.createElement("div",{ref:a,"cmdk-group-heading":"","aria-hidden":!0,id:c},o),bc(t,d=>x.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":o?c:void 0},x.createElement(Zw.Provider,{value:y},d))))}),vP=x.forwardRef((t,e)=>{let{alwaysRender:o,...n}=t,i=x.useRef(null),r=Jn(s=>!s.search);return!o&&!r?null:x.createElement(Bt.div,{ref:js([i,e]),...n,"cmdk-separator":"",role:"separator"})}),zP=x.forwardRef((t,e)=>{let{onValueChange:o,...n}=t,i=t.value!=null,r=mf(),s=Jn(u=>u.search),l=Jn(u=>u.value),a=Ls(),c=x.useMemo(()=>{var u;let p=(u=a.listInnerRef.current)==null?void 0:u.querySelector(`${gf}[${In}="${encodeURIComponent(l)}"]`);return p?.getAttribute("id")},[]);return x.useEffect(()=>{t.value!=null&&r.setState("search",t.value)},[t.value]),x.createElement(Bt.input,{ref:e,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":a.listId,"aria-labelledby":a.labelId,"aria-activedescendant":c,id:a.inputId,type:"text",value:i?t.value:s,onChange:u=>{i||r.setState("search",u.target.value),o?.(u.target.value)}})}),SP=x.forwardRef((t,e)=>{let{children:o,label:n="Suggestions",...i}=t,r=x.useRef(null),s=x.useRef(null),l=Ls();return x.useEffect(()=>{if(s.current&&r.current){let a=s.current,c=r.current,u,p=new ResizeObserver(()=>{u=requestAnimationFrame(()=>{let y=a.offsetHeight;c.style.setProperty("--cmdk-list-height",y.toFixed(1)+"px")})});return p.observe(a),()=>{cancelAnimationFrame(u),p.unobserve(a)}}},[]),x.createElement(Bt.div,{ref:js([r,e]),...i,"cmdk-list":"",role:"listbox","aria-label":n,id:l.listId},bc(t,a=>x.createElement("div",{ref:js([s,l.listInnerRef]),"cmdk-list-sizer":""},a)))}),EP=x.forwardRef((t,e)=>{let{open:o,onOpenChange:n,overlayClassName:i,contentClassName:r,container:s,...l}=t;return x.createElement(fP,{open:o,onOpenChange:n},x.createElement(hP,{container:s},x.createElement(gP,{"cmdk-overlay":"",className:i}),x.createElement(mP,{"aria-label":t.label,"cmdk-dialog":"",className:r},x.createElement(Rw,{ref:e,...l}))))}),_P=x.forwardRef((t,e)=>Jn(o=>o.filtered.count===0)?x.createElement(Bt.div,{ref:e,...t,"cmdk-empty":"",role:"presentation"}):null),CP=x.forwardRef((t,e)=>{let{progress:o,children:n,label:i="Loading...",...r}=t;return x.createElement(Bt.div,{ref:e,...r,"cmdk-loading":"",role:"progressbar","aria-valuenow":o,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},bc(t,s=>x.createElement("div",{"aria-hidden":!0},s)))}),gt=Object.assign(Rw,{List:SP,Item:kP,Input:zP,Group:wP,Separator:vP,Dialog:EP,Empty:_P,Loading:CP});function ZP(t,e){let o=t.nextElementSibling;for(;o;){if(o.matches(e))return o;o=o.nextElementSibling}}function RP(t,e){let o=t.previousElementSibling;for(;o;){if(o.matches(e))return o;o=o.previousElementSibling}}function Aw(t){let e=x.useRef(t);return Qn(()=>{e.current=t}),e}var Qn=typeof window>"u"?x.useEffect:x.useLayoutEffect;function Si(t){let e=x.useRef();return e.current===void 0&&(e.current=t()),e}function js(t){return e=>{t.forEach(o=>{typeof o=="function"?o(e):o!=null&&(o.current=e)})}}function Jn(t){let e=mf(),o=()=>t(e.snapshot());return x.useSyncExternalStore(e.subscribe,o,o)}function Pw(t,e,o,n=[]){let i=x.useRef(),r=Ls();return Qn(()=>{var s;let l=(()=>{var c;for(let u of o){if(typeof u=="string")return u.trim();if(typeof u=="object"&&"current"in u)return u.current?(c=u.current.textContent)==null?void 0:c.trim():i.current}})(),a=n.map(c=>c.trim());r.value(t,l,a),(s=e.current)==null||s.setAttribute(In,l),i.current=l}),i}var AP=()=>{let[t,e]=x.useState(),o=Si(()=>new Map);return Qn(()=>{o.current.forEach(n=>n()),o.current=new Map},[t]),(n,i)=>{o.current.set(n,i),e({})}};function PP(t){let e=t.type;return typeof e=="function"?e(t.props):"render"in e?e.render(t.props):t}function bc({asChild:t,children:e},o){return t&&x.isValidElement(e)?x.cloneElement(PP(e),{ref:e.ref},o(e.props.children)):o(e)}var TP={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function ht(t,e,{checkForDefaultPrevented:o=!0}={}){return function(i){if(t?.(i),o===!1||!i.defaultPrevented)return e?.(i)}}function jP(t,e){const o=x.createContext(e),n=r=>{const{children:s,...l}=r,a=x.useMemo(()=>l,Object.values(l));return P.jsx(o.Provider,{value:a,children:s})};n.displayName=t+"Provider";function i(r){const s=x.useContext(o);if(s)return s;if(e!==void 0)return e;throw new Error(`\`${r}\` must be used within \`${t}\``)}return[n,i]}function bf(t,e=[]){let o=[];function n(r,s){const l=x.createContext(s),a=o.length;o=[...o,s];const c=p=>{const{scope:y,children:d,...g}=p,f=y?.[t]?.[a]||l,b=x.useMemo(()=>g,Object.values(g));return P.jsx(f.Provider,{value:b,children:d})};c.displayName=r+"Provider";function u(p,y){const d=y?.[t]?.[a]||l,g=x.useContext(d);if(g)return g;if(s!==void 0)return s;throw new Error(`\`${p}\` must be used within \`${r}\``)}return[c,u]}const i=()=>{const r=o.map(s=>x.createContext(s));return function(l){const a=l?.[t]||r;return x.useMemo(()=>({[`__scope${t}`]:{...l,[t]:a}}),[l,a])}};return i.scopeName=t,[n,IP(i,...e)]}function IP(...t){const e=t[0];if(t.length===1)return e;const o=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(r){const s=n.reduce((l,{useScope:a,scopeName:c})=>{const p=a(r)[`__scope${c}`];return{...l,...p}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return o.scopeName=e.scopeName,o}var ei=globalThis?.document?x.useLayoutEffect:()=>{},FP=lm.useId||(()=>{}),MP=0;function OP(t){const[e,o]=x.useState(FP());return ei(()=>{t||o(n=>n??String(MP++))},[t]),t||(e?`radix-${e}`:"")}function an(t){const e=x.useRef(t);return x.useEffect(()=>{e.current=t}),x.useMemo(()=>(...o)=>e.current?.(...o),[])}function Tw({prop:t,defaultProp:e,onChange:o=()=>{}}){const[n,i]=DP({defaultProp:e,onChange:o}),r=t!==void 0,s=r?t:n,l=an(o),a=x.useCallback(c=>{if(r){const p=typeof c=="function"?c(t):c;p!==t&&l(p)}else i(c)},[r,t,i,l]);return[s,a]}function DP({defaultProp:t,onChange:e}){const o=x.useState(t),[n]=o,i=x.useRef(n),r=an(e);return x.useEffect(()=>{i.current!==n&&(r(n),i.current=n)},[n,i,r]),o}var BP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],$e=BP.reduce((t,e)=>{const o=x.forwardRef((n,i)=>{const{asChild:r,...s}=n,l=r?Us:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),P.jsx(l,{...s,ref:i})});return o.displayName=`Primitive.${e}`,{...t,[e]:o}},{});function GP(t,e){t&&yr.flushSync(()=>t.dispatchEvent(e))}function UP(t,e=globalThis?.document){const o=an(t);x.useEffect(()=>{const n=i=>{i.key==="Escape"&&o(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[o,e])}var NP="DismissableLayer",Oy="dismissableLayer.update",LP="dismissableLayer.pointerDownOutside",$P="dismissableLayer.focusOutside",j0,jw=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),xf=x.forwardRef((t,e)=>{const{disableOutsidePointerEvents:o=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:r,onInteractOutside:s,onDismiss:l,...a}=t,c=x.useContext(jw),[u,p]=x.useState(null),y=u?.ownerDocument??globalThis?.document,[,d]=x.useState({}),g=Dt(e,z=>p(z)),f=Array.from(c.layers),[b]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),h=f.indexOf(b),m=u?f.indexOf(u):-1,k=c.layersWithOutsidePointerEventsDisabled.size>0,w=m>=h,v=XP(z=>{const S=z.target,C=[...c.branches].some(_=>_.contains(S));!w||C||(i?.(z),s?.(z),z.defaultPrevented||l?.())},y),E=VP(z=>{const S=z.target;[...c.branches].some(_=>_.contains(S))||(r?.(z),s?.(z),z.defaultPrevented||l?.())},y);return UP(z=>{m===c.layers.size-1&&(n?.(z),!z.defaultPrevented&&l&&(z.preventDefault(),l()))},y),x.useEffect(()=>{if(u)return o&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(j0=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),I0(),()=>{o&&c.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=j0)}},[u,y,o,c]),x.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),I0())},[u,c]),x.useEffect(()=>{const z=()=>d({});return document.addEventListener(Oy,z),()=>document.removeEventListener(Oy,z)},[]),P.jsx($e.div,{...a,ref:g,style:{pointerEvents:k?w?"auto":"none":void 0,...t.style},onFocusCapture:ht(t.onFocusCapture,E.onFocusCapture),onBlurCapture:ht(t.onBlurCapture,E.onBlurCapture),onPointerDownCapture:ht(t.onPointerDownCapture,v.onPointerDownCapture)})});xf.displayName=NP;var WP="DismissableLayerBranch",HP=x.forwardRef((t,e)=>{const o=x.useContext(jw),n=x.useRef(null),i=Dt(e,n);return x.useEffect(()=>{const r=n.current;if(r)return o.branches.add(r),()=>{o.branches.delete(r)}},[o.branches]),P.jsx($e.div,{...t,ref:i})});HP.displayName=WP;function XP(t,e=globalThis?.document){const o=an(t),n=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const r=l=>{if(l.target&&!n.current){let a=function(){Iw(LP,o,c,{discrete:!0})};const c={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=a,e.addEventListener("click",i.current,{once:!0})):a()}else e.removeEventListener("click",i.current);n.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",r)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",r),e.removeEventListener("click",i.current)}},[e,o]),{onPointerDownCapture:()=>n.current=!0}}function VP(t,e=globalThis?.document){const o=an(t),n=x.useRef(!1);return x.useEffect(()=>{const i=r=>{r.target&&!n.current&&Iw($P,o,{originalEvent:r},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,o]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function I0(){const t=new CustomEvent(Oy);document.dispatchEvent(t)}function Iw(t,e,o,{discrete:n}){const i=o.originalEvent.target,r=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:o});e&&i.addEventListener(t,e,{once:!0}),n?GP(i,r):i.dispatchEvent(r)}var Xu="focusScope.autoFocusOnMount",Vu="focusScope.autoFocusOnUnmount",F0={bubbles:!1,cancelable:!0},qP="FocusScope",kf=x.forwardRef((t,e)=>{const{loop:o=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:r,...s}=t,[l,a]=x.useState(null),c=an(i),u=an(r),p=x.useRef(null),y=Dt(e,f=>a(f)),d=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(n){let f=function(k){if(d.paused||!l)return;const w=k.target;l.contains(w)?p.current=w:Uo(p.current,{select:!0})},b=function(k){if(d.paused||!l)return;const w=k.relatedTarget;w!==null&&(l.contains(w)||Uo(p.current,{select:!0}))},h=function(k){if(document.activeElement===document.body)for(const v of k)v.removedNodes.length>0&&Uo(l)};document.addEventListener("focusin",f),document.addEventListener("focusout",b);const m=new MutationObserver(h);return l&&m.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",f),document.removeEventListener("focusout",b),m.disconnect()}}},[n,l,d.paused]),x.useEffect(()=>{if(l){O0.add(d);const f=document.activeElement;if(!l.contains(f)){const h=new CustomEvent(Xu,F0);l.addEventListener(Xu,c),l.dispatchEvent(h),h.defaultPrevented||(YP(tT(Fw(l)),{select:!0}),document.activeElement===f&&Uo(l))}return()=>{l.removeEventListener(Xu,c),setTimeout(()=>{const h=new CustomEvent(Vu,F0);l.addEventListener(Vu,u),l.dispatchEvent(h),h.defaultPrevented||Uo(f??document.body,{select:!0}),l.removeEventListener(Vu,u),O0.remove(d)},0)}}},[l,c,u,d]);const g=x.useCallback(f=>{if(!o&&!n||d.paused)return;const b=f.key==="Tab"&&!f.altKey&&!f.ctrlKey&&!f.metaKey,h=document.activeElement;if(b&&h){const m=f.currentTarget,[k,w]=KP(m);k&&w?!f.shiftKey&&h===w?(f.preventDefault(),o&&Uo(k,{select:!0})):f.shiftKey&&h===k&&(f.preventDefault(),o&&Uo(w,{select:!0})):h===m&&f.preventDefault()}},[o,n,d.paused]);return P.jsx($e.div,{tabIndex:-1,...s,ref:y,onKeyDown:g})});kf.displayName=qP;function YP(t,{select:e=!1}={}){const o=document.activeElement;for(const n of t)if(Uo(n,{select:e}),document.activeElement!==o)return}function KP(t){const e=Fw(t),o=M0(e,t),n=M0(e.reverse(),t);return[o,n]}function Fw(t){const e=[],o=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;o.nextNode();)e.push(o.currentNode);return e}function M0(t,e){for(const o of t)if(!QP(o,{upTo:e}))return o}function QP(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function JP(t){return t instanceof HTMLInputElement&&"select"in t}function Uo(t,{select:e=!1}={}){if(t&&t.focus){const o=document.activeElement;t.focus({preventScroll:!0}),t!==o&&JP(t)&&e&&t.select()}}var O0=eT();function eT(){let t=[];return{add(e){const o=t[0];e!==o&&o?.pause(),t=D0(t,e),t.unshift(e)},remove(e){t=D0(t,e),t[0]?.resume()}}}function D0(t,e){const o=[...t],n=o.indexOf(e);return n!==-1&&o.splice(n,1),o}function tT(t){return t.filter(e=>e.tagName!=="A")}var oT="Portal",wf=x.forwardRef((t,e)=>{const{container:o,...n}=t,[i,r]=x.useState(!1);ei(()=>r(!0),[]);const s=o||i&&globalThis?.document?.body;return s?ux.createPortal(P.jsx($e.div,{...n,ref:e}),s):null});wf.displayName=oT;function nT(t,e){return x.useReducer((o,n)=>e[o][n]??o,t)}var mr=t=>{const{present:e,children:o}=t,n=iT(e),i=typeof o=="function"?o({present:n.isPresent}):x.Children.only(o),r=Dt(n.ref,rT(i));return typeof o=="function"||n.isPresent?x.cloneElement(i,{ref:r}):null};mr.displayName="Presence";function iT(t){const[e,o]=x.useState(),n=x.useRef({}),i=x.useRef(t),r=x.useRef("none"),s=t?"mounted":"unmounted",[l,a]=nT(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const c=Pl(n.current);r.current=l==="mounted"?c:"none"},[l]),ei(()=>{const c=n.current,u=i.current;if(u!==t){const y=r.current,d=Pl(c);t?a("MOUNT"):d==="none"||c?.display==="none"?a("UNMOUNT"):a(u&&y!==d?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,a]),ei(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,p=d=>{const f=Pl(n.current).includes(d.animationName);if(d.target===e&&f&&(a("ANIMATION_END"),!i.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},y=d=>{d.target===e&&(r.current=Pl(n.current))};return e.addEventListener("animationstart",y),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",y),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else a("ANIMATION_END")},[e,a]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:x.useCallback(c=>{c&&(n.current=getComputedStyle(c)),o(c)},[])}}function Pl(t){return t?.animationName||"none"}function rT(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,o=e&&"isReactWarning"in e&&e.isReactWarning;return o?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,o=e&&"isReactWarning"in e&&e.isReactWarning,o?t.props.ref:t.props.ref||t.ref)}var qu=0;function Mw(){x.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??B0()),document.body.insertAdjacentElement("beforeend",t[1]??B0()),qu++,()=>{qu===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),qu--}},[])}function B0(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Ow=uw(),Yu=function(){},xc=x.forwardRef(function(t,e){var o=x.useRef(null),n=x.useState({onScrollCapture:Yu,onWheelCapture:Yu,onTouchMoveCapture:Yu}),i=n[0],r=n[1],s=t.forwardProps,l=t.children,a=t.className,c=t.removeScrollBar,u=t.enabled,p=t.shards,y=t.sideCar,d=t.noIsolation,g=t.inert,f=t.allowPinchZoom,b=t.as,h=b===void 0?"div":b,m=t.gapMode,k=df(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=y,v=cw([o,e]),E=qe(qe({},k),i);return x.createElement(x.Fragment,null,u&&x.createElement(w,{sideCar:Ow,removeScrollBar:c,shards:p,noIsolation:d,inert:g,setCallbacks:r,allowPinchZoom:!!f,lockRef:o,gapMode:m}),s?x.cloneElement(x.Children.only(l),qe(qe({},E),{ref:v})):x.createElement(h,qe({},E,{className:a,ref:v}),l))});xc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};xc.classNames={fullWidth:ss,zeroRight:rs};var Dy=!1;if(typeof window<"u")try{var Tl=Object.defineProperty({},"passive",{get:function(){return Dy=!0,!0}});window.addEventListener("test",Tl,Tl),window.removeEventListener("test",Tl,Tl)}catch{Dy=!1}var mi=Dy?{passive:!1}:!1,sT=function(t){return t.tagName==="TEXTAREA"},Dw=function(t,e){if(!(t instanceof Element))return!1;var o=window.getComputedStyle(t);return o[e]!=="hidden"&&!(o.overflowY===o.overflowX&&!sT(t)&&o[e]==="visible")},lT=function(t){return Dw(t,"overflowY")},aT=function(t){return Dw(t,"overflowX")},G0=function(t,e){var o=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=Bw(t,n);if(i){var r=Gw(t,n),s=r[1],l=r[2];if(s>l)return!0}n=n.parentNode}while(n&&n!==o.body);return!1},cT=function(t){var e=t.scrollTop,o=t.scrollHeight,n=t.clientHeight;return[e,o,n]},uT=function(t){var e=t.scrollLeft,o=t.scrollWidth,n=t.clientWidth;return[e,o,n]},Bw=function(t,e){return t==="v"?lT(e):aT(e)},Gw=function(t,e){return t==="v"?cT(e):uT(e)},pT=function(t,e){return t==="h"&&e==="rtl"?-1:1},yT=function(t,e,o,n,i){var r=pT(t,window.getComputedStyle(e).direction),s=r*n,l=o.target,a=e.contains(l),c=!1,u=s>0,p=0,y=0;do{var d=Gw(t,l),g=d[0],f=d[1],b=d[2],h=f-b-r*g;(g||h)&&Bw(t,l)&&(p+=h,y+=g),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!a&&l!==document.body||a&&(e.contains(l)||e===l));return(u&&(Math.abs(p)<1||!i)||!u&&(Math.abs(y)<1||!i))&&(c=!0),c},jl=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},U0=function(t){return[t.deltaX,t.deltaY]},N0=function(t){return t&&"current"in t?t.current:t},dT=function(t,e){return t[0]===e[0]&&t[1]===e[1]},fT=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},hT=0,bi=[];function gT(t){var e=x.useRef([]),o=x.useRef([0,0]),n=x.useRef(),i=x.useState(hT++)[0],r=x.useState(ff)[0],s=x.useRef(t);x.useEffect(function(){s.current=t},[t]),x.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var f=aw([t.lockRef.current],(t.shards||[]).map(N0),!0).filter(Boolean);return f.forEach(function(b){return b.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),f.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var l=x.useCallback(function(f,b){if("touches"in f&&f.touches.length===2||f.type==="wheel"&&f.ctrlKey)return!s.current.allowPinchZoom;var h=jl(f),m=o.current,k="deltaX"in f?f.deltaX:m[0]-h[0],w="deltaY"in f?f.deltaY:m[1]-h[1],v,E=f.target,z=Math.abs(k)>Math.abs(w)?"h":"v";if("touches"in f&&z==="h"&&E.type==="range")return!1;var S=G0(z,E);if(!S)return!0;if(S?v=z:(v=z==="v"?"h":"v",S=G0(z,E)),!S)return!1;if(!n.current&&"changedTouches"in f&&(k||w)&&(n.current=v),!v)return!0;var C=n.current||v;return yT(C,b,f,C==="h"?k:w,!0)},[]),a=x.useCallback(function(f){var b=f;if(!(!bi.length||bi[bi.length-1]!==r)){var h="deltaY"in b?U0(b):jl(b),m=e.current.filter(function(v){return v.name===b.type&&(v.target===b.target||b.target===v.shadowParent)&&dT(v.delta,h)})[0];if(m&&m.should){b.cancelable&&b.preventDefault();return}if(!m){var k=(s.current.shards||[]).map(N0).filter(Boolean).filter(function(v){return v.contains(b.target)}),w=k.length>0?l(b,k[0]):!s.current.noIsolation;w&&b.cancelable&&b.preventDefault()}}},[]),c=x.useCallback(function(f,b,h,m){var k={name:f,delta:b,target:h,should:m,shadowParent:mT(h)};e.current.push(k),setTimeout(function(){e.current=e.current.filter(function(w){return w!==k})},1)},[]),u=x.useCallback(function(f){o.current=jl(f),n.current=void 0},[]),p=x.useCallback(function(f){c(f.type,U0(f),f.target,l(f,t.lockRef.current))},[]),y=x.useCallback(function(f){c(f.type,jl(f),f.target,l(f,t.lockRef.current))},[]);x.useEffect(function(){return bi.push(r),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:y}),document.addEventListener("wheel",a,mi),document.addEventListener("touchmove",a,mi),document.addEventListener("touchstart",u,mi),function(){bi=bi.filter(function(f){return f!==r}),document.removeEventListener("wheel",a,mi),document.removeEventListener("touchmove",a,mi),document.removeEventListener("touchstart",u,mi)}},[]);var d=t.removeScrollBar,g=t.inert;return x.createElement(x.Fragment,null,g?x.createElement(r,{styles:fT(i)}):null,d?x.createElement(fw,{gapMode:t.gapMode}):null)}function mT(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const bT=yw(Ow,gT);var vf=x.forwardRef(function(t,e){return x.createElement(xc,qe({},t,{ref:e,sideCar:bT}))});vf.classNames=xc.classNames;var Uw="Dialog",[Nw,AI]=bf(Uw),[PI,eo]=Nw(Uw),Lw="DialogTrigger",xT=x.forwardRef((t,e)=>{const{__scopeDialog:o,...n}=t,i=eo(Lw,o),r=Dt(e,i.triggerRef);return P.jsx($e.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Ef(i.open),...n,ref:r,onClick:ht(t.onClick,i.onOpenToggle)})});xT.displayName=Lw;var zf="DialogPortal",[kT,$w]=Nw(zf,{forceMount:void 0}),Ww=t=>{const{__scopeDialog:e,forceMount:o,children:n,container:i}=t,r=eo(zf,e);return P.jsx(kT,{scope:e,forceMount:o,children:x.Children.map(n,s=>P.jsx(mr,{present:o||r.open,children:P.jsx(wf,{asChild:!0,container:i,children:s})}))})};Ww.displayName=zf;var Ga="DialogOverlay",Hw=x.forwardRef((t,e)=>{const o=$w(Ga,t.__scopeDialog),{forceMount:n=o.forceMount,...i}=t,r=eo(Ga,t.__scopeDialog);return r.modal?P.jsx(mr,{present:n||r.open,children:P.jsx(wT,{...i,ref:e})}):null});Hw.displayName=Ga;var wT=x.forwardRef((t,e)=>{const{__scopeDialog:o,...n}=t,i=eo(Ga,o);return P.jsx(vf,{as:Us,allowPinchZoom:!0,shards:[i.contentRef],children:P.jsx($e.div,{"data-state":Ef(i.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),ti="DialogContent",Xw=x.forwardRef((t,e)=>{const o=$w(ti,t.__scopeDialog),{forceMount:n=o.forceMount,...i}=t,r=eo(ti,t.__scopeDialog);return P.jsx(mr,{present:n||r.open,children:r.modal?P.jsx(vT,{...i,ref:e}):P.jsx(zT,{...i,ref:e})})});Xw.displayName=ti;var vT=x.forwardRef((t,e)=>{const o=eo(ti,t.__scopeDialog),n=x.useRef(null),i=Dt(e,o.contentRef,n);return x.useEffect(()=>{const r=n.current;if(r)return hf(r)},[]),P.jsx(Vw,{...t,ref:i,trapFocus:o.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ht(t.onCloseAutoFocus,r=>{r.preventDefault(),o.triggerRef.current?.focus()}),onPointerDownOutside:ht(t.onPointerDownOutside,r=>{const s=r.detail.originalEvent,l=s.button===0&&s.ctrlKey===!0;(s.button===2||l)&&r.preventDefault()}),onFocusOutside:ht(t.onFocusOutside,r=>r.preventDefault())})}),zT=x.forwardRef((t,e)=>{const o=eo(ti,t.__scopeDialog),n=x.useRef(!1),i=x.useRef(!1);return P.jsx(Vw,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:r=>{t.onCloseAutoFocus?.(r),r.defaultPrevented||(n.current||o.triggerRef.current?.focus(),r.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:r=>{t.onInteractOutside?.(r),r.defaultPrevented||(n.current=!0,r.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=r.target;o.triggerRef.current?.contains(s)&&r.preventDefault(),r.detail.originalEvent.type==="focusin"&&i.current&&r.preventDefault()}})}),Vw=x.forwardRef((t,e)=>{const{__scopeDialog:o,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:r,...s}=t,l=eo(ti,o),a=x.useRef(null),c=Dt(e,a);return Mw(),P.jsxs(P.Fragment,{children:[P.jsx(kf,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:r,children:P.jsx(xf,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Ef(l.open),...s,ref:c,onDismiss:()=>l.onOpenChange(!1)})}),P.jsxs(P.Fragment,{children:[P.jsx(ST,{titleId:l.titleId}),P.jsx(_T,{contentRef:a,descriptionId:l.descriptionId})]})]})}),Sf="DialogTitle",qw=x.forwardRef((t,e)=>{const{__scopeDialog:o,...n}=t,i=eo(Sf,o);return P.jsx($e.h2,{id:i.titleId,...n,ref:e})});qw.displayName=Sf;var Yw="DialogDescription",Kw=x.forwardRef((t,e)=>{const{__scopeDialog:o,...n}=t,i=eo(Yw,o);return P.jsx($e.p,{id:i.descriptionId,...n,ref:e})});Kw.displayName=Yw;var Qw="DialogClose",Jw=x.forwardRef((t,e)=>{const{__scopeDialog:o,...n}=t,i=eo(Qw,o);return P.jsx($e.button,{type:"button",...n,ref:e,onClick:ht(t.onClick,()=>i.onOpenChange(!1))})});Jw.displayName=Qw;function Ef(t){return t?"open":"closed"}var ev="DialogTitleWarning",[TI,tv]=jP(ev,{contentName:ti,titleName:Sf,docsSlug:"dialog"}),ST=({titleId:t})=>{const e=tv(ev),o=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return x.useEffect(()=>{t&&(document.getElementById(t)||console.error(o))},[o,t]),null},ET="DialogDescriptionWarning",_T=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${tv(ET).contentName}}.`;return x.useEffect(()=>{const i=t.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},CT=Ww,ov=Hw,nv=Xw,iv=qw,rv=Kw,ZT=Jw;const RT=CT,sv=x.forwardRef(({className:t,...e},o)=>P.jsx(ov,{ref:o,className:Qe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));sv.displayName=ov.displayName;const AT=x.forwardRef(({className:t,children:e,...o},n)=>P.jsxs(RT,{children:[P.jsx(sv,{}),P.jsxs(nv,{ref:n,className:Qe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...o,children:[e,P.jsxs(ZT,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[P.jsx(eA,{className:"h-4 w-4"}),P.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));AT.displayName=nv.displayName;const PT=x.forwardRef(({className:t,...e},o)=>P.jsx(iv,{ref:o,className:Qe("text-lg font-semibold leading-none tracking-tight",t),...e}));PT.displayName=iv.displayName;const TT=x.forwardRef(({className:t,...e},o)=>P.jsx(rv,{ref:o,className:Qe("text-sm text-muted-foreground",t),...e}));TT.displayName=rv.displayName;const lv=x.forwardRef(({className:t,...e},o)=>P.jsx(gt,{ref:o,className:Qe("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",t),...e}));lv.displayName=gt.displayName;const av=x.forwardRef(({className:t,...e},o)=>P.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[P.jsx(JR,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),P.jsx(gt.Input,{ref:o,className:Qe("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",t),...e})]}));av.displayName=gt.Input.displayName;const cv=x.forwardRef(({className:t,...e},o)=>P.jsx(gt.List,{ref:o,className:Qe("max-h-[300px] overflow-y-auto overflow-x-hidden",t),...e}));cv.displayName=gt.List.displayName;const uv=x.forwardRef((t,e)=>P.jsx(gt.Empty,{ref:e,className:"py-6 text-center text-sm",...t}));uv.displayName=gt.Empty.displayName;const pv=x.forwardRef(({className:t,...e},o)=>P.jsx(gt.Group,{ref:o,className:Qe("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t),...e}));pv.displayName=gt.Group.displayName;const jT=x.forwardRef(({className:t,...e},o)=>P.jsx(gt.Separator,{ref:o,className:Qe("-mx-1 h-px bg-border",t),...e}));jT.displayName=gt.Separator.displayName;const yv=x.forwardRef(({className:t,...e},o)=>P.jsx(gt.Item,{ref:o,className:Qe("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",t),...e}));yv.displayName=gt.Item.displayName;const IT=["top","right","bottom","left"],cn=Math.min,xt=Math.max,Ua=Math.round,Il=Math.floor,un=t=>({x:t,y:t}),FT={left:"right",right:"left",bottom:"top",top:"bottom"},MT={start:"end",end:"start"};function By(t,e,o){return xt(t,cn(e,o))}function To(t,e){return typeof t=="function"?t(e):t}function jo(t){return t.split("-")[0]}function br(t){return t.split("-")[1]}function _f(t){return t==="x"?"y":"x"}function Cf(t){return t==="y"?"height":"width"}function pn(t){return["top","bottom"].includes(jo(t))?"y":"x"}function Zf(t){return _f(pn(t))}function OT(t,e,o){o===void 0&&(o=!1);const n=br(t),i=Zf(t),r=Cf(i);let s=i==="x"?n===(o?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[r]>e.floating[r]&&(s=Na(s)),[s,Na(s)]}function DT(t){const e=Na(t);return[Gy(t),e,Gy(e)]}function Gy(t){return t.replace(/start|end/g,e=>MT[e])}function BT(t,e,o){const n=["left","right"],i=["right","left"],r=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return o?e?i:n:e?n:i;case"left":case"right":return e?r:s;default:return[]}}function GT(t,e,o,n){const i=br(t);let r=BT(jo(t),o==="start",n);return i&&(r=r.map(s=>s+"-"+i),e&&(r=r.concat(r.map(Gy)))),r}function Na(t){return t.replace(/left|right|bottom|top/g,e=>FT[e])}function UT(t){return{top:0,right:0,bottom:0,left:0,...t}}function dv(t){return typeof t!="number"?UT(t):{top:t,right:t,bottom:t,left:t}}function La(t){const{x:e,y:o,width:n,height:i}=t;return{width:n,height:i,top:o,left:e,right:e+n,bottom:o+i,x:e,y:o}}function L0(t,e,o){let{reference:n,floating:i}=t;const r=pn(e),s=Zf(e),l=Cf(s),a=jo(e),c=r==="y",u=n.x+n.width/2-i.width/2,p=n.y+n.height/2-i.height/2,y=n[l]/2-i[l]/2;let d;switch(a){case"top":d={x:u,y:n.y-i.height};break;case"bottom":d={x:u,y:n.y+n.height};break;case"right":d={x:n.x+n.width,y:p};break;case"left":d={x:n.x-i.width,y:p};break;default:d={x:n.x,y:n.y}}switch(br(e)){case"start":d[s]-=y*(o&&c?-1:1);break;case"end":d[s]+=y*(o&&c?-1:1);break}return d}const NT=async(t,e,o)=>{const{placement:n="bottom",strategy:i="absolute",middleware:r=[],platform:s}=o,l=r.filter(Boolean),a=await(s.isRTL==null?void 0:s.isRTL(e));let c=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:p}=L0(c,n,a),y=n,d={},g=0;for(let f=0;f<l.length;f++){const{name:b,fn:h}=l[f],{x:m,y:k,data:w,reset:v}=await h({x:u,y:p,initialPlacement:n,placement:y,strategy:i,middlewareData:d,rects:c,platform:s,elements:{reference:t,floating:e}});u=m??u,p=k??p,d={...d,[b]:{...d[b],...w}},v&&g<=50&&(g++,typeof v=="object"&&(v.placement&&(y=v.placement),v.rects&&(c=v.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):v.rects),{x:u,y:p}=L0(c,y,a)),f=-1)}return{x:u,y:p,placement:y,strategy:i,middlewareData:d}};async function Is(t,e){var o;e===void 0&&(e={});const{x:n,y:i,platform:r,rects:s,elements:l,strategy:a}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:p="floating",altBoundary:y=!1,padding:d=0}=To(e,t),g=dv(d),b=l[y?p==="floating"?"reference":"floating":p],h=La(await r.getClippingRect({element:(o=await(r.isElement==null?void 0:r.isElement(b)))==null||o?b:b.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(l.floating)),boundary:c,rootBoundary:u,strategy:a})),m=p==="floating"?{x:n,y:i,width:s.floating.width,height:s.floating.height}:s.reference,k=await(r.getOffsetParent==null?void 0:r.getOffsetParent(l.floating)),w=await(r.isElement==null?void 0:r.isElement(k))?await(r.getScale==null?void 0:r.getScale(k))||{x:1,y:1}:{x:1,y:1},v=La(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:m,offsetParent:k,strategy:a}):m);return{top:(h.top-v.top+g.top)/w.y,bottom:(v.bottom-h.bottom+g.bottom)/w.y,left:(h.left-v.left+g.left)/w.x,right:(v.right-h.right+g.right)/w.x}}const LT=t=>({name:"arrow",options:t,async fn(e){const{x:o,y:n,placement:i,rects:r,platform:s,elements:l,middlewareData:a}=e,{element:c,padding:u=0}=To(t,e)||{};if(c==null)return{};const p=dv(u),y={x:o,y:n},d=Zf(i),g=Cf(d),f=await s.getDimensions(c),b=d==="y",h=b?"top":"left",m=b?"bottom":"right",k=b?"clientHeight":"clientWidth",w=r.reference[g]+r.reference[d]-y[d]-r.floating[g],v=y[d]-r.reference[d],E=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let z=E?E[k]:0;(!z||!await(s.isElement==null?void 0:s.isElement(E)))&&(z=l.floating[k]||r.floating[g]);const S=w/2-v/2,C=z/2-f[g]/2-1,_=cn(p[h],C),D=cn(p[m],C),B=_,M=z-f[g]-D,j=z/2-f[g]/2+S,W=By(B,j,M),H=!a.arrow&&br(i)!=null&&j!==W&&r.reference[g]/2-(j<B?_:D)-f[g]/2<0,F=H?j<B?j-B:j-M:0;return{[d]:y[d]+F,data:{[d]:W,centerOffset:j-W-F,...H&&{alignmentOffset:F}},reset:H}}}),$T=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var o,n;const{placement:i,middlewareData:r,rects:s,initialPlacement:l,platform:a,elements:c}=e,{mainAxis:u=!0,crossAxis:p=!0,fallbackPlacements:y,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:f=!0,...b}=To(t,e);if((o=r.arrow)!=null&&o.alignmentOffset)return{};const h=jo(i),m=pn(l),k=jo(l)===l,w=await(a.isRTL==null?void 0:a.isRTL(c.floating)),v=y||(k||!f?[Na(l)]:DT(l)),E=g!=="none";!y&&E&&v.push(...GT(l,f,g,w));const z=[l,...v],S=await Is(e,b),C=[];let _=((n=r.flip)==null?void 0:n.overflows)||[];if(u&&C.push(S[h]),p){const j=OT(i,s,w);C.push(S[j[0]],S[j[1]])}if(_=[..._,{placement:i,overflows:C}],!C.every(j=>j<=0)){var D,B;const j=(((D=r.flip)==null?void 0:D.index)||0)+1,W=z[j];if(W)return{data:{index:j,overflows:_},reset:{placement:W}};let H=(B=_.filter(F=>F.overflows[0]<=0).sort((F,Z)=>F.overflows[1]-Z.overflows[1])[0])==null?void 0:B.placement;if(!H)switch(d){case"bestFit":{var M;const F=(M=_.filter(Z=>{if(E){const A=pn(Z.placement);return A===m||A==="y"}return!0}).map(Z=>[Z.placement,Z.overflows.filter(A=>A>0).reduce((A,T)=>A+T,0)]).sort((Z,A)=>Z[1]-A[1])[0])==null?void 0:M[0];F&&(H=F);break}case"initialPlacement":H=l;break}if(i!==H)return{reset:{placement:H}}}return{}}}};function $0(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function W0(t){return IT.some(e=>t[e]>=0)}const WT=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:o}=e,{strategy:n="referenceHidden",...i}=To(t,e);switch(n){case"referenceHidden":{const r=await Is(e,{...i,elementContext:"reference"}),s=$0(r,o.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:W0(s)}}}case"escaped":{const r=await Is(e,{...i,altBoundary:!0}),s=$0(r,o.floating);return{data:{escapedOffsets:s,escaped:W0(s)}}}default:return{}}}}};async function HT(t,e){const{placement:o,platform:n,elements:i}=t,r=await(n.isRTL==null?void 0:n.isRTL(i.floating)),s=jo(o),l=br(o),a=pn(o)==="y",c=["left","top"].includes(s)?-1:1,u=r&&a?-1:1,p=To(e,t);let{mainAxis:y,crossAxis:d,alignmentAxis:g}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return l&&typeof g=="number"&&(d=l==="end"?g*-1:g),a?{x:d*u,y:y*c}:{x:y*c,y:d*u}}const XT=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var o,n;const{x:i,y:r,placement:s,middlewareData:l}=e,a=await HT(e,t);return s===((o=l.offset)==null?void 0:o.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:i+a.x,y:r+a.y,data:{...a,placement:s}}}}},VT=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:o,y:n,placement:i}=e,{mainAxis:r=!0,crossAxis:s=!1,limiter:l={fn:b=>{let{x:h,y:m}=b;return{x:h,y:m}}},...a}=To(t,e),c={x:o,y:n},u=await Is(e,a),p=pn(jo(i)),y=_f(p);let d=c[y],g=c[p];if(r){const b=y==="y"?"top":"left",h=y==="y"?"bottom":"right",m=d+u[b],k=d-u[h];d=By(m,d,k)}if(s){const b=p==="y"?"top":"left",h=p==="y"?"bottom":"right",m=g+u[b],k=g-u[h];g=By(m,g,k)}const f=l.fn({...e,[y]:d,[p]:g});return{...f,data:{x:f.x-o,y:f.y-n,enabled:{[y]:r,[p]:s}}}}}},qT=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:o,y:n,placement:i,rects:r,middlewareData:s}=e,{offset:l=0,mainAxis:a=!0,crossAxis:c=!0}=To(t,e),u={x:o,y:n},p=pn(i),y=_f(p);let d=u[y],g=u[p];const f=To(l,e),b=typeof f=="number"?{mainAxis:f,crossAxis:0}:{mainAxis:0,crossAxis:0,...f};if(a){const k=y==="y"?"height":"width",w=r.reference[y]-r.floating[k]+b.mainAxis,v=r.reference[y]+r.reference[k]-b.mainAxis;d<w?d=w:d>v&&(d=v)}if(c){var h,m;const k=y==="y"?"width":"height",w=["top","left"].includes(jo(i)),v=r.reference[p]-r.floating[k]+(w&&((h=s.offset)==null?void 0:h[p])||0)+(w?0:b.crossAxis),E=r.reference[p]+r.reference[k]+(w?0:((m=s.offset)==null?void 0:m[p])||0)-(w?b.crossAxis:0);g<v?g=v:g>E&&(g=E)}return{[y]:d,[p]:g}}}},YT=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var o,n;const{placement:i,rects:r,platform:s,elements:l}=e,{apply:a=()=>{},...c}=To(t,e),u=await Is(e,c),p=jo(i),y=br(i),d=pn(i)==="y",{width:g,height:f}=r.floating;let b,h;p==="top"||p==="bottom"?(b=p,h=y===(await(s.isRTL==null?void 0:s.isRTL(l.floating))?"start":"end")?"left":"right"):(h=p,b=y==="end"?"top":"bottom");const m=f-u.top-u.bottom,k=g-u.left-u.right,w=cn(f-u[b],m),v=cn(g-u[h],k),E=!e.middlewareData.shift;let z=w,S=v;if((o=e.middlewareData.shift)!=null&&o.enabled.x&&(S=k),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(z=m),E&&!y){const _=xt(u.left,0),D=xt(u.right,0),B=xt(u.top,0),M=xt(u.bottom,0);d?S=g-2*(_!==0||D!==0?_+D:xt(u.left,u.right)):z=f-2*(B!==0||M!==0?B+M:xt(u.top,u.bottom))}await a({...e,availableWidth:S,availableHeight:z});const C=await s.getDimensions(l.floating);return g!==C.width||f!==C.height?{reset:{rects:!0}}:{}}}};function kc(){return typeof window<"u"}function xr(t){return fv(t)?(t.nodeName||"").toLowerCase():"#document"}function St(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function yo(t){var e;return(e=(fv(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function fv(t){return kc()?t instanceof Node||t instanceof St(t).Node:!1}function Yt(t){return kc()?t instanceof Element||t instanceof St(t).Element:!1}function po(t){return kc()?t instanceof HTMLElement||t instanceof St(t).HTMLElement:!1}function H0(t){return!kc()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof St(t).ShadowRoot}function $s(t){const{overflow:e,overflowX:o,overflowY:n,display:i}=Kt(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+o)&&!["inline","contents"].includes(i)}function KT(t){return["table","td","th"].includes(xr(t))}function wc(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Rf(t){const e=Af(),o=Yt(t)?Kt(t):t;return o.transform!=="none"||o.perspective!=="none"||(o.containerType?o.containerType!=="normal":!1)||!e&&(o.backdropFilter?o.backdropFilter!=="none":!1)||!e&&(o.filter?o.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(o.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(o.contain||"").includes(n))}function QT(t){let e=yn(t);for(;po(e)&&!lr(e);){if(Rf(e))return e;if(wc(e))return null;e=yn(e)}return null}function Af(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function lr(t){return["html","body","#document"].includes(xr(t))}function Kt(t){return St(t).getComputedStyle(t)}function vc(t){return Yt(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function yn(t){if(xr(t)==="html")return t;const e=t.assignedSlot||t.parentNode||H0(t)&&t.host||yo(t);return H0(e)?e.host:e}function hv(t){const e=yn(t);return lr(e)?t.ownerDocument?t.ownerDocument.body:t.body:po(e)&&$s(e)?e:hv(e)}function Fs(t,e,o){var n;e===void 0&&(e=[]),o===void 0&&(o=!0);const i=hv(t),r=i===((n=t.ownerDocument)==null?void 0:n.body),s=St(i);if(r){const l=Uy(s);return e.concat(s,s.visualViewport||[],$s(i)?i:[],l&&o?Fs(l):[])}return e.concat(i,Fs(i,[],o))}function Uy(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function gv(t){const e=Kt(t);let o=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=po(t),r=i?t.offsetWidth:o,s=i?t.offsetHeight:n,l=Ua(o)!==r||Ua(n)!==s;return l&&(o=r,n=s),{width:o,height:n,$:l}}function Pf(t){return Yt(t)?t:t.contextElement}function qi(t){const e=Pf(t);if(!po(e))return un(1);const o=e.getBoundingClientRect(),{width:n,height:i,$:r}=gv(e);let s=(r?Ua(o.width):o.width)/n,l=(r?Ua(o.height):o.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!l||!Number.isFinite(l))&&(l=1),{x:s,y:l}}const JT=un(0);function mv(t){const e=St(t);return!Af()||!e.visualViewport?JT:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function ej(t,e,o){return e===void 0&&(e=!1),!o||e&&o!==St(t)?!1:e}function oi(t,e,o,n){e===void 0&&(e=!1),o===void 0&&(o=!1);const i=t.getBoundingClientRect(),r=Pf(t);let s=un(1);e&&(n?Yt(n)&&(s=qi(n)):s=qi(t));const l=ej(r,o,n)?mv(r):un(0);let a=(i.left+l.x)/s.x,c=(i.top+l.y)/s.y,u=i.width/s.x,p=i.height/s.y;if(r){const y=St(r),d=n&&Yt(n)?St(n):n;let g=y,f=Uy(g);for(;f&&n&&d!==g;){const b=qi(f),h=f.getBoundingClientRect(),m=Kt(f),k=h.left+(f.clientLeft+parseFloat(m.paddingLeft))*b.x,w=h.top+(f.clientTop+parseFloat(m.paddingTop))*b.y;a*=b.x,c*=b.y,u*=b.x,p*=b.y,a+=k,c+=w,g=St(f),f=Uy(g)}}return La({width:u,height:p,x:a,y:c})}function tj(t){let{elements:e,rect:o,offsetParent:n,strategy:i}=t;const r=i==="fixed",s=yo(n),l=e?wc(e.floating):!1;if(n===s||l&&r)return o;let a={scrollLeft:0,scrollTop:0},c=un(1);const u=un(0),p=po(n);if((p||!p&&!r)&&((xr(n)!=="body"||$s(s))&&(a=vc(n)),po(n))){const y=oi(n);c=qi(n),u.x=y.x+n.clientLeft,u.y=y.y+n.clientTop}return{width:o.width*c.x,height:o.height*c.y,x:o.x*c.x-a.scrollLeft*c.x+u.x,y:o.y*c.y-a.scrollTop*c.y+u.y}}function oj(t){return Array.from(t.getClientRects())}function Ny(t,e){const o=vc(t).scrollLeft;return e?e.left+o:oi(yo(t)).left+o}function nj(t){const e=yo(t),o=vc(t),n=t.ownerDocument.body,i=xt(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),r=xt(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let s=-o.scrollLeft+Ny(t);const l=-o.scrollTop;return Kt(n).direction==="rtl"&&(s+=xt(e.clientWidth,n.clientWidth)-i),{width:i,height:r,x:s,y:l}}function ij(t,e){const o=St(t),n=yo(t),i=o.visualViewport;let r=n.clientWidth,s=n.clientHeight,l=0,a=0;if(i){r=i.width,s=i.height;const c=Af();(!c||c&&e==="fixed")&&(l=i.offsetLeft,a=i.offsetTop)}return{width:r,height:s,x:l,y:a}}function rj(t,e){const o=oi(t,!0,e==="fixed"),n=o.top+t.clientTop,i=o.left+t.clientLeft,r=po(t)?qi(t):un(1),s=t.clientWidth*r.x,l=t.clientHeight*r.y,a=i*r.x,c=n*r.y;return{width:s,height:l,x:a,y:c}}function X0(t,e,o){let n;if(e==="viewport")n=ij(t,o);else if(e==="document")n=nj(yo(t));else if(Yt(e))n=rj(e,o);else{const i=mv(t);n={...e,x:e.x-i.x,y:e.y-i.y}}return La(n)}function bv(t,e){const o=yn(t);return o===e||!Yt(o)||lr(o)?!1:Kt(o).position==="fixed"||bv(o,e)}function sj(t,e){const o=e.get(t);if(o)return o;let n=Fs(t,[],!1).filter(l=>Yt(l)&&xr(l)!=="body"),i=null;const r=Kt(t).position==="fixed";let s=r?yn(t):t;for(;Yt(s)&&!lr(s);){const l=Kt(s),a=Rf(s);!a&&l.position==="fixed"&&(i=null),(r?!a&&!i:!a&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||$s(s)&&!a&&bv(t,s))?n=n.filter(u=>u!==s):i=l,s=yn(s)}return e.set(t,n),n}function lj(t){let{element:e,boundary:o,rootBoundary:n,strategy:i}=t;const s=[...o==="clippingAncestors"?wc(e)?[]:sj(e,this._c):[].concat(o),n],l=s[0],a=s.reduce((c,u)=>{const p=X0(e,u,i);return c.top=xt(p.top,c.top),c.right=cn(p.right,c.right),c.bottom=cn(p.bottom,c.bottom),c.left=xt(p.left,c.left),c},X0(e,l,i));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function aj(t){const{width:e,height:o}=gv(t);return{width:e,height:o}}function cj(t,e,o){const n=po(e),i=yo(e),r=o==="fixed",s=oi(t,!0,r,e);let l={scrollLeft:0,scrollTop:0};const a=un(0);if(n||!n&&!r)if((xr(e)!=="body"||$s(i))&&(l=vc(e)),n){const d=oi(e,!0,r,e);a.x=d.x+e.clientLeft,a.y=d.y+e.clientTop}else i&&(a.x=Ny(i));let c=0,u=0;if(i&&!n&&!r){const d=i.getBoundingClientRect();u=d.top+l.scrollTop,c=d.left+l.scrollLeft-Ny(i,d)}const p=s.left+l.scrollLeft-a.x-c,y=s.top+l.scrollTop-a.y-u;return{x:p,y,width:s.width,height:s.height}}function Ku(t){return Kt(t).position==="static"}function V0(t,e){if(!po(t)||Kt(t).position==="fixed")return null;if(e)return e(t);let o=t.offsetParent;return yo(t)===o&&(o=o.ownerDocument.body),o}function xv(t,e){const o=St(t);if(wc(t))return o;if(!po(t)){let i=yn(t);for(;i&&!lr(i);){if(Yt(i)&&!Ku(i))return i;i=yn(i)}return o}let n=V0(t,e);for(;n&&KT(n)&&Ku(n);)n=V0(n,e);return n&&lr(n)&&Ku(n)&&!Rf(n)?o:n||QT(t)||o}const uj=async function(t){const e=this.getOffsetParent||xv,o=this.getDimensions,n=await o(t.floating);return{reference:cj(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function pj(t){return Kt(t).direction==="rtl"}const yj={convertOffsetParentRelativeRectToViewportRelativeRect:tj,getDocumentElement:yo,getClippingRect:lj,getOffsetParent:xv,getElementRects:uj,getClientRects:oj,getDimensions:aj,getScale:qi,isElement:Yt,isRTL:pj};function dj(t,e){let o=null,n;const i=yo(t);function r(){var l;clearTimeout(n),(l=o)==null||l.disconnect(),o=null}function s(l,a){l===void 0&&(l=!1),a===void 0&&(a=1),r();const{left:c,top:u,width:p,height:y}=t.getBoundingClientRect();if(l||e(),!p||!y)return;const d=Il(u),g=Il(i.clientWidth-(c+p)),f=Il(i.clientHeight-(u+y)),b=Il(c),m={rootMargin:-d+"px "+-g+"px "+-f+"px "+-b+"px",threshold:xt(0,cn(1,a))||1};let k=!0;function w(v){const E=v[0].intersectionRatio;if(E!==a){if(!k)return s();E?s(!1,E):n=setTimeout(()=>{s(!1,1e-7)},1e3)}k=!1}try{o=new IntersectionObserver(w,{...m,root:i.ownerDocument})}catch{o=new IntersectionObserver(w,m)}o.observe(t)}return s(!0),r}function fj(t,e,o,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:r=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:a=!1}=n,c=Pf(t),u=i||r?[...c?Fs(c):[],...Fs(e)]:[];u.forEach(h=>{i&&h.addEventListener("scroll",o,{passive:!0}),r&&h.addEventListener("resize",o)});const p=c&&l?dj(c,o):null;let y=-1,d=null;s&&(d=new ResizeObserver(h=>{let[m]=h;m&&m.target===c&&d&&(d.unobserve(e),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var k;(k=d)==null||k.observe(e)})),o()}),c&&!a&&d.observe(c),d.observe(e));let g,f=a?oi(t):null;a&&b();function b(){const h=oi(t);f&&(h.x!==f.x||h.y!==f.y||h.width!==f.width||h.height!==f.height)&&o(),f=h,g=requestAnimationFrame(b)}return o(),()=>{var h;u.forEach(m=>{i&&m.removeEventListener("scroll",o),r&&m.removeEventListener("resize",o)}),p?.(),(h=d)==null||h.disconnect(),d=null,a&&cancelAnimationFrame(g)}}const hj=XT,gj=VT,mj=$T,bj=YT,xj=WT,q0=LT,kj=qT,wj=(t,e,o)=>{const n=new Map,i={platform:yj,...o},r={...i.platform,_c:n};return NT(t,e,{...i,platform:r})};var ia=typeof document<"u"?x.useLayoutEffect:x.useEffect;function $a(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let o,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(o=t.length,o!==e.length)return!1;for(n=o;n--!==0;)if(!$a(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),o=i.length,o!==Object.keys(e).length)return!1;for(n=o;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=o;n--!==0;){const r=i[n];if(!(r==="_owner"&&t.$$typeof)&&!$a(t[r],e[r]))return!1}return!0}return t!==t&&e!==e}function kv(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Y0(t,e){const o=kv(t);return Math.round(e*o)/o}function Qu(t){const e=x.useRef(t);return ia(()=>{e.current=t}),e}function vj(t){t===void 0&&(t={});const{placement:e="bottom",strategy:o="absolute",middleware:n=[],platform:i,elements:{reference:r,floating:s}={},transform:l=!0,whileElementsMounted:a,open:c}=t,[u,p]=x.useState({x:0,y:0,strategy:o,placement:e,middlewareData:{},isPositioned:!1}),[y,d]=x.useState(n);$a(y,n)||d(n);const[g,f]=x.useState(null),[b,h]=x.useState(null),m=x.useCallback(Z=>{Z!==E.current&&(E.current=Z,f(Z))},[]),k=x.useCallback(Z=>{Z!==z.current&&(z.current=Z,h(Z))},[]),w=r||g,v=s||b,E=x.useRef(null),z=x.useRef(null),S=x.useRef(u),C=a!=null,_=Qu(a),D=Qu(i),B=Qu(c),M=x.useCallback(()=>{if(!E.current||!z.current)return;const Z={placement:e,strategy:o,middleware:y};D.current&&(Z.platform=D.current),wj(E.current,z.current,Z).then(A=>{const T={...A,isPositioned:B.current!==!1};j.current&&!$a(S.current,T)&&(S.current=T,yr.flushSync(()=>{p(T)}))})},[y,e,o,D,B]);ia(()=>{c===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,p(Z=>({...Z,isPositioned:!1})))},[c]);const j=x.useRef(!1);ia(()=>(j.current=!0,()=>{j.current=!1}),[]),ia(()=>{if(w&&(E.current=w),v&&(z.current=v),w&&v){if(_.current)return _.current(w,v,M);M()}},[w,v,M,_,C]);const W=x.useMemo(()=>({reference:E,floating:z,setReference:m,setFloating:k}),[m,k]),H=x.useMemo(()=>({reference:w,floating:v}),[w,v]),F=x.useMemo(()=>{const Z={position:o,left:0,top:0};if(!H.floating)return Z;const A=Y0(H.floating,u.x),T=Y0(H.floating,u.y);return l?{...Z,transform:"translate("+A+"px, "+T+"px)",...kv(H.floating)>=1.5&&{willChange:"transform"}}:{position:o,left:A,top:T}},[o,l,H.floating,u.x,u.y]);return x.useMemo(()=>({...u,update:M,refs:W,elements:H,floatingStyles:F}),[u,M,W,H,F])}const zj=t=>{function e(o){return{}.hasOwnProperty.call(o,"current")}return{name:"arrow",options:t,fn(o){const{element:n,padding:i}=typeof t=="function"?t(o):t;return n&&e(n)?n.current!=null?q0({element:n.current,padding:i}).fn(o):{}:n?q0({element:n,padding:i}).fn(o):{}}}},Sj=(t,e)=>({...hj(t),options:[t,e]}),Ej=(t,e)=>({...gj(t),options:[t,e]}),_j=(t,e)=>({...kj(t),options:[t,e]}),Cj=(t,e)=>({...mj(t),options:[t,e]}),Zj=(t,e)=>({...bj(t),options:[t,e]}),Rj=(t,e)=>({...xj(t),options:[t,e]}),Aj=(t,e)=>({...zj(t),options:[t,e]});var Pj="Arrow",wv=x.forwardRef((t,e)=>{const{children:o,width:n=10,height:i=5,...r}=t;return P.jsx($e.svg,{...r,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?o:P.jsx("polygon",{points:"0,0 30,0 15,10"})})});wv.displayName=Pj;var Tj=wv;function jj(t,e=[]){let o=[];function n(r,s){const l=x.createContext(s),a=o.length;o=[...o,s];function c(p){const{scope:y,children:d,...g}=p,f=y?.[t][a]||l,b=x.useMemo(()=>g,Object.values(g));return P.jsx(f.Provider,{value:b,children:d})}function u(p,y){const d=y?.[t][a]||l,g=x.useContext(d);if(g)return g;if(s!==void 0)return s;throw new Error(`\`${p}\` must be used within \`${r}\``)}return c.displayName=r+"Provider",[c,u]}const i=()=>{const r=o.map(s=>x.createContext(s));return function(l){const a=l?.[t]||r;return x.useMemo(()=>({[`__scope${t}`]:{...l,[t]:a}}),[l,a])}};return i.scopeName=t,[n,Ij(i,...e)]}function Ij(...t){const e=t[0];if(t.length===1)return e;const o=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(r){const s=n.reduce((l,{useScope:a,scopeName:c})=>{const p=a(r)[`__scope${c}`];return{...l,...p}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return o.scopeName=e.scopeName,o}function vv(t){const[e,o]=x.useState(void 0);return ei(()=>{if(t){o({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const r=i[0];let s,l;if("borderBoxSize"in r){const a=r.borderBoxSize,c=Array.isArray(a)?a[0]:a;s=c.inlineSize,l=c.blockSize}else s=t.offsetWidth,l=t.offsetHeight;o({width:s,height:l})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else o(void 0)},[t]),e}var Tf="Popper",[zv,Sv]=jj(Tf),[Fj,Ev]=zv(Tf),_v=t=>{const{__scopePopper:e,children:o}=t,[n,i]=x.useState(null);return P.jsx(Fj,{scope:e,anchor:n,onAnchorChange:i,children:o})};_v.displayName=Tf;var Cv="PopperAnchor",Zv=x.forwardRef((t,e)=>{const{__scopePopper:o,virtualRef:n,...i}=t,r=Ev(Cv,o),s=x.useRef(null),l=Dt(e,s);return x.useEffect(()=>{r.onAnchorChange(n?.current||s.current)}),n?null:P.jsx($e.div,{...i,ref:l})});Zv.displayName=Cv;var jf="PopperContent",[Mj,Oj]=zv(jf),Rv=x.forwardRef((t,e)=>{const{__scopePopper:o,side:n="bottom",sideOffset:i=0,align:r="center",alignOffset:s=0,arrowPadding:l=0,avoidCollisions:a=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:p="partial",hideWhenDetached:y=!1,updatePositionStrategy:d="optimized",onPlaced:g,...f}=t,b=Ev(jf,o),[h,m]=x.useState(null),k=Dt(e,re=>m(re)),[w,v]=x.useState(null),E=vv(w),z=E?.width??0,S=E?.height??0,C=n+(r!=="center"?"-"+r:""),_=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},D=Array.isArray(c)?c:[c],B=D.length>0,M={padding:_,boundary:D.filter(Bj),altBoundary:B},{refs:j,floatingStyles:W,placement:H,isPositioned:F,middlewareData:Z}=vj({strategy:"fixed",placement:C,whileElementsMounted:(...re)=>fj(...re,{animationFrame:d==="always"}),elements:{reference:b.anchor},middleware:[Sj({mainAxis:i+S,alignmentAxis:s}),a&&Ej({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?_j():void 0,...M}),a&&Cj({...M}),Zj({...M,apply:({elements:re,rects:Re,availableWidth:Je,availableHeight:fo})=>{const{width:Hs,height:ci}=Re.reference,ho=re.floating.style;ho.setProperty("--radix-popper-available-width",`${Je}px`),ho.setProperty("--radix-popper-available-height",`${fo}px`),ho.setProperty("--radix-popper-anchor-width",`${Hs}px`),ho.setProperty("--radix-popper-anchor-height",`${ci}px`)}}),w&&Aj({element:w,padding:l}),Gj({arrowWidth:z,arrowHeight:S}),y&&Rj({strategy:"referenceHidden",...M})]}),[A,T]=Tv(H),Q=an(g);ei(()=>{F&&Q?.()},[F,Q]);const R=Z.arrow?.x,L=Z.arrow?.y,X=Z.arrow?.centerOffset!==0,[G,J]=x.useState();return ei(()=>{h&&J(window.getComputedStyle(h).zIndex)},[h]),P.jsx("div",{ref:j.setFloating,"data-radix-popper-content-wrapper":"",style:{...W,transform:F?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:G,"--radix-popper-transform-origin":[Z.transformOrigin?.x,Z.transformOrigin?.y].join(" "),...Z.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:P.jsx(Mj,{scope:o,placedSide:A,onArrowChange:v,arrowX:R,arrowY:L,shouldHideArrow:X,children:P.jsx($e.div,{"data-side":A,"data-align":T,...f,ref:k,style:{...f.style,animation:F?void 0:"none"}})})})});Rv.displayName=jf;var Av="PopperArrow",Dj={top:"bottom",right:"left",bottom:"top",left:"right"},Pv=x.forwardRef(function(e,o){const{__scopePopper:n,...i}=e,r=Oj(Av,n),s=Dj[r.placedSide];return P.jsx("span",{ref:r.onArrowChange,style:{position:"absolute",left:r.arrowX,top:r.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[r.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[r.placedSide],visibility:r.shouldHideArrow?"hidden":void 0},children:P.jsx(Tj,{...i,ref:o,style:{...i.style,display:"block"}})})});Pv.displayName=Av;function Bj(t){return t!==null}var Gj=t=>({name:"transformOrigin",options:t,fn(e){const{placement:o,rects:n,middlewareData:i}=e,s=i.arrow?.centerOffset!==0,l=s?0:t.arrowWidth,a=s?0:t.arrowHeight,[c,u]=Tv(o),p={start:"0%",center:"50%",end:"100%"}[u],y=(i.arrow?.x??0)+l/2,d=(i.arrow?.y??0)+a/2;let g="",f="";return c==="bottom"?(g=s?p:`${y}px`,f=`${-a}px`):c==="top"?(g=s?p:`${y}px`,f=`${n.floating.height+a}px`):c==="right"?(g=`${-a}px`,f=s?p:`${d}px`):c==="left"&&(g=`${n.floating.width+a}px`,f=s?p:`${d}px`),{data:{x:g,y:f}}}});function Tv(t){const[e,o="center"]=t.split("-");return[e,o]}var Uj=_v,jv=Zv,Nj=Rv,Lj=Pv,If="Popover",[Iv,jI]=bf(If,[Sv]),Ws=Sv(),[$j,mn]=Iv(If),Fv=t=>{const{__scopePopover:e,children:o,open:n,defaultOpen:i,onOpenChange:r,modal:s=!1}=t,l=Ws(e),a=x.useRef(null),[c,u]=x.useState(!1),[p=!1,y]=Tw({prop:n,defaultProp:i,onChange:r});return P.jsx(Uj,{...l,children:P.jsx($j,{scope:e,contentId:OP(),triggerRef:a,open:p,onOpenChange:y,onOpenToggle:x.useCallback(()=>y(d=>!d),[y]),hasCustomAnchor:c,onCustomAnchorAdd:x.useCallback(()=>u(!0),[]),onCustomAnchorRemove:x.useCallback(()=>u(!1),[]),modal:s,children:o})})};Fv.displayName=If;var Mv="PopoverAnchor",Wj=x.forwardRef((t,e)=>{const{__scopePopover:o,...n}=t,i=mn(Mv,o),r=Ws(o),{onCustomAnchorAdd:s,onCustomAnchorRemove:l}=i;return x.useEffect(()=>(s(),()=>l()),[s,l]),P.jsx(jv,{...r,...n,ref:e})});Wj.displayName=Mv;var Ov="PopoverTrigger",Dv=x.forwardRef((t,e)=>{const{__scopePopover:o,...n}=t,i=mn(Ov,o),r=Ws(o),s=Dt(e,i.triggerRef),l=P.jsx($e.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Lv(i.open),...n,ref:s,onClick:ht(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?l:P.jsx(jv,{asChild:!0,...r,children:l})});Dv.displayName=Ov;var Ff="PopoverPortal",[Hj,Xj]=Iv(Ff,{forceMount:void 0}),Bv=t=>{const{__scopePopover:e,forceMount:o,children:n,container:i}=t,r=mn(Ff,e);return P.jsx(Hj,{scope:e,forceMount:o,children:P.jsx(mr,{present:o||r.open,children:P.jsx(wf,{asChild:!0,container:i,children:n})})})};Bv.displayName=Ff;var ar="PopoverContent",Gv=x.forwardRef((t,e)=>{const o=Xj(ar,t.__scopePopover),{forceMount:n=o.forceMount,...i}=t,r=mn(ar,t.__scopePopover);return P.jsx(mr,{present:n||r.open,children:r.modal?P.jsx(Vj,{...i,ref:e}):P.jsx(qj,{...i,ref:e})})});Gv.displayName=ar;var Vj=x.forwardRef((t,e)=>{const o=mn(ar,t.__scopePopover),n=x.useRef(null),i=Dt(e,n),r=x.useRef(!1);return x.useEffect(()=>{const s=n.current;if(s)return hf(s)},[]),P.jsx(vf,{as:Us,allowPinchZoom:!0,children:P.jsx(Uv,{...t,ref:i,trapFocus:o.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ht(t.onCloseAutoFocus,s=>{s.preventDefault(),r.current||o.triggerRef.current?.focus()}),onPointerDownOutside:ht(t.onPointerDownOutside,s=>{const l=s.detail.originalEvent,a=l.button===0&&l.ctrlKey===!0,c=l.button===2||a;r.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:ht(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1})})})}),qj=x.forwardRef((t,e)=>{const o=mn(ar,t.__scopePopover),n=x.useRef(!1),i=x.useRef(!1);return P.jsx(Uv,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:r=>{t.onCloseAutoFocus?.(r),r.defaultPrevented||(n.current||o.triggerRef.current?.focus(),r.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:r=>{t.onInteractOutside?.(r),r.defaultPrevented||(n.current=!0,r.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=r.target;o.triggerRef.current?.contains(s)&&r.preventDefault(),r.detail.originalEvent.type==="focusin"&&i.current&&r.preventDefault()}})}),Uv=x.forwardRef((t,e)=>{const{__scopePopover:o,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:r,disableOutsidePointerEvents:s,onEscapeKeyDown:l,onPointerDownOutside:a,onFocusOutside:c,onInteractOutside:u,...p}=t,y=mn(ar,o),d=Ws(o);return Mw(),P.jsx(kf,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:r,children:P.jsx(xf,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:u,onEscapeKeyDown:l,onPointerDownOutside:a,onFocusOutside:c,onDismiss:()=>y.onOpenChange(!1),children:P.jsx(Nj,{"data-state":Lv(y.open),role:"dialog",id:y.contentId,...d,...p,ref:e,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Nv="PopoverClose",Yj=x.forwardRef((t,e)=>{const{__scopePopover:o,...n}=t,i=mn(Nv,o);return P.jsx($e.button,{type:"button",...n,ref:e,onClick:ht(t.onClick,()=>i.onOpenChange(!1))})});Yj.displayName=Nv;var Kj="PopoverArrow",Qj=x.forwardRef((t,e)=>{const{__scopePopover:o,...n}=t,i=Ws(o);return P.jsx(Lj,{...i,...n,ref:e})});Qj.displayName=Kj;function Lv(t){return t?"open":"closed"}var Jj=Fv,eI=Dv,tI=Bv,$v=Gv;const oI=Jj,nI=eI,Wv=x.forwardRef(({className:t,align:e="center",sideOffset:o=4,...n},i)=>P.jsx(tI,{children:P.jsx($v,{ref:i,align:e,sideOffset:o,className:Qe("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));Wv.displayName=$v.displayName;const iI=t=>{const[e,o]=x.useState(t?.currentRoom.id);return x.useEffect(()=>{if(t===void 0)return;o(t.currentRoom.id);const n=i=>{o(i)};return t.events.on("roomChange",n),()=>{t.events.off("roomChange",n)}},[t]),e};function rI({gameApi:t}){const[e,o]=x.useState(!1),n=iI(t);if(t===void 0)return null;const i=Object.keys(t.campaign.rooms);return P.jsxs(oI,{open:e,onOpenChange:o,children:[P.jsx(nI,{asChild:!0,children:P.jsxs(jn,{variant:"outline",role:"combobox","aria-expanded":e,className:"w-[300px] justify-between",children:[n||"Select a room",P.jsx(QR,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),P.jsx(Wv,{className:"w-[300px] p-0",children:P.jsxs(lv,{children:[P.jsx(av,{placeholder:"Search framework..."}),P.jsxs(cv,{children:[P.jsx(uv,{children:"No framework found."}),P.jsx(pv,{children:i.map(r=>P.jsxs(yv,{value:r,onSelect:s=>{t.changeRoom(s),o(!1)},children:[P.jsx(KR,{className:Qe("mr-2 h-4 w-4",n===r?"opacity-100":"opacity-0")}),r]},r))})]})]})})]})}function sI(t){const e=x.useRef({value:t,previous:t});return x.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Mf="Switch",[lI,II]=bf(Mf),[aI,cI]=lI(Mf),Hv=x.forwardRef((t,e)=>{const{__scopeSwitch:o,name:n,checked:i,defaultChecked:r,required:s,disabled:l,value:a="on",onCheckedChange:c,form:u,...p}=t,[y,d]=x.useState(null),g=Dt(e,k=>d(k)),f=x.useRef(!1),b=y?u||!!y.closest("form"):!0,[h=!1,m]=Tw({prop:i,defaultProp:r,onChange:c});return P.jsxs(aI,{scope:o,checked:h,disabled:l,children:[P.jsx($e.button,{type:"button",role:"switch","aria-checked":h,"aria-required":s,"data-state":qv(h),"data-disabled":l?"":void 0,disabled:l,value:a,...p,ref:g,onClick:ht(t.onClick,k=>{m(w=>!w),b&&(f.current=k.isPropagationStopped(),f.current||k.stopPropagation())})}),b&&P.jsx(uI,{control:y,bubbles:!f.current,name:n,value:a,checked:h,required:s,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});Hv.displayName=Mf;var Xv="SwitchThumb",Vv=x.forwardRef((t,e)=>{const{__scopeSwitch:o,...n}=t,i=cI(Xv,o);return P.jsx($e.span,{"data-state":qv(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:e})});Vv.displayName=Xv;var uI=t=>{const{control:e,checked:o,bubbles:n=!0,...i}=t,r=x.useRef(null),s=sI(o),l=vv(e);return x.useEffect(()=>{const a=r.current,c=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(c,"checked").set;if(s!==o&&p){const y=new Event("click",{bubbles:n});p.call(a,o),a.dispatchEvent(y)}},[s,o,n]),P.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:o,...i,tabIndex:-1,ref:r,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function qv(t){return t?"checked":"unchecked"}var Yv=Hv,pI=Vv;const Ly=x.forwardRef(({className:t,...e},o)=>P.jsx(Yv,{className:Qe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:o,children:P.jsx(pI,{className:Qe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Ly.displayName=Yv.displayName;var yI="Label",Kv=x.forwardRef((t,e)=>P.jsx($e.label,{...t,ref:e,onMouseDown:o=>{o.target.closest("button, input, select, textarea")||(t.onMouseDown?.(o),!o.defaultPrevented&&o.detail>1&&o.preventDefault())}}));Kv.displayName=yI;var Qv=Kv;const dI=nw("text-sm text-primary-foreground font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),$y=x.forwardRef(({className:t,...e},o)=>P.jsx(Qv,{ref:o,className:Qe(dI(),t),...e}));$y.displayName=Qv.displayName;const fI=t=>{x.useEffect(()=>{if(t===void 0)return;const e=i=>{const r=i.hash.substring(1);if(r!==""&&t.campaign.rooms[r]!==void 0)return i.hash.substring(1)};if(window.location.hash){const i=e(window.location);i!==void 0&&t.currentRoom.id!==i&&t.changeRoom(i)}const o=i=>{const r=e(new URL(i.newURL));r!==void 0&&r!==t.currentRoom.id&&t.changeRoom(r)},n=i=>{window.location.hash=i};return window.addEventListener("hashchange",o),t.events.on("roomChange",n),()=>{window.removeEventListener("hashchange",o),t.events.off("roomChange",n)}},[t])},hI=()=>{const[t,e]=x.useState(localStorage.getItem("showBBs")||"none");return x.useEffect(()=>{localStorage.setItem("showBBs",t)},[t]),[t,e]},gI=({campaign:t})=>{const[e,o]=x.useState(void 0),[n,i]=hI();fI(e);const r=x.useMemo(()=>e===void 0?{showBoundingBoxes:n}:{showBoundingBoxes:n,onItemClick(l){if(l.type==="doorFar"||l.type==="doorNear"||l.type==="teleporter"){const{toRoom:a}=l.config;e.changeRoom(a)}if(l.type==="lift"){const a=e.currentRoom.roomAbove;a&&e.changeRoom(a)}if(l.type==="floor"){const a=e.currentRoom.roomBelow;a&&e.changeRoom(a)}console.log("item (live):",l,"state (shallow copy):",{...l.state})}},[n,e]),s=x.useRef(XR(t)).current;return P.jsxs(P.Fragment,{children:[e!==void 0&&P.jsxs("div",{className:"absolute bottom-2 right-2 flex flex-col",children:[P.jsx(rI,{gameApi:e}),P.jsxs("div",{className:"flex flex-row items-center gap-x-2 justify-center mb-2 mt-2",children:[P.jsx(Ly,{id:"airplane-mode",checked:n!=="none",onCheckedChange:l=>i(l?"non-wall":"none")}),P.jsx($y,{htmlFor:"airplane-mode",children:"Show BBs"}),P.jsx(Ly,{id:"airplane-mode",checked:n==="all",onCheckedChange:l=>i(l?"all":"non-wall")}),P.jsx($y,{htmlFor:"airplane-mode",children:"inc walls"})]}),P.jsx(jn,{onClick:()=>e.changeRoom("blacktooth1head"),children:"Start"}),P.jsx(jn,{onClick:()=>e.changeRoom("doorsRoom"),children:"Test room"}),P.jsx(jn,{onClick:()=>e&&console.log(t.rooms[e.currentRoom.id]),children:"Room JSON to console"}),P.jsx(jn,{onClick:()=>e&&console.log(e.currentRoom),children:"Room state to console"}),P.jsx(jn,{onClick:()=>e&&console.log(e.currentRoom.items.find(l=>l.type===e.gameState.currentCharacterName)),children:"Playable to console"})]}),P.jsx(s,{renderOptions:r,ref:l=>o(l??void 0)})]})},mI={rooms:{blacktooth10:{color:"yellow",floor:"blacktooth",floorSkip:[],id:"blacktooth10",items:{"deadly-block@3,0,0:ZWGEjo":{config:{style:"volcano"},position:{x:3,y:0,z:0},type:"deadly-block"},"deadly-block@3,1,0:ZWGEjo":{config:{style:"volcano"},position:{x:3,y:1,z:0},type:"deadly-block"},"deadly-block@3,2,0:ZWGEjo":{config:{style:"volcano"},position:{x:3,y:2,z:0},type:"deadly-block"},"deadly-block@3,3,0:ZWGEjo":{config:{style:"volcano"},position:{x:3,y:3,z:0},type:"deadly-block"},"deadly-block@3,4,0:ZWGEjo":{config:{style:"volcano"},position:{x:3,y:4,z:0},type:"deadly-block"},"deadly-block@3,5,0:ZWGEjo":{config:{style:"volcano"},position:{x:3,y:5,z:0},type:"deadly-block"},"deadly-block@8,0,0:ZWGEjo":{config:{style:"volcano"},position:{x:8,y:0,z:0},type:"deadly-block"},"deadly-block@8,1,0:ZWGEjo":{config:{style:"volcano"},position:{x:8,y:1,z:0},type:"deadly-block"},"deadly-block@8,2,0:ZWGEjo":{config:{style:"volcano"},position:{x:8,y:2,z:0},type:"deadly-block"},"deadly-block@8,3,0:ZWGEjo":{config:{style:"volcano"},position:{x:8,y:3,z:0},type:"deadly-block"},"deadly-block@8,4,0:ZWGEjo":{config:{style:"volcano"},position:{x:8,y:4,z:0},type:"deadly-block"},"deadly-block@8,5,0:ZWGEjo":{config:{style:"volcano"},position:{x:8,y:5,z:0},type:"deadly-block"},"door@0,2,0:fyUBA":{config:{axis:"y",toRoom:"blacktooth7"},position:{x:0,y:2,z:0},type:"door"},"door@12,2,0:Z2fEfpI":{config:{axis:"y",toRoom:"blacktooth11"},position:{x:12,y:2,z:0},type:"door"}},planet:"blacktooth",size:{x:12,y:6},walls:{away:["plain","armour","shield","shield","armour","plain","plain","armour","shield","shield","armour","plain"],left:["plain","shield","none","none","shield","plain"]}},blacktooth11:{color:"yellow",floor:"jail",floorSkip:[],id:"blacktooth11",items:{"block@2,0,0:ZlEwyj":{config:{style:"organic"},position:{x:2,y:0,z:0},type:"block"},"block@2,0,1:ZlEwyj":{config:{style:"organic"},position:{x:2,y:0,z:1},type:"block"},"block@2,1,0:ZlEwyj":{config:{style:"organic"},position:{x:2,y:1,z:0},type:"block"},"block@2,1,1:ZlEwyj":{config:{style:"organic"},position:{x:2,y:1,z:1},type:"block"},"block@2,2,0:ZlEwyj":{config:{style:"organic"},position:{x:2,y:2,z:0},type:"block"},"block@2,2,1:ZlEwyj":{config:{style:"organic"},position:{x:2,y:2,z:1},type:"block"},"block@2,3,0:ZlEwyj":{config:{style:"organic"},position:{x:2,y:3,z:0},type:"block"},"block@2,3,1:ZlEwyj":{config:{style:"organic"},position:{x:2,y:3,z:1},type:"block"},"block@2,4,0:ZlEwyj":{config:{style:"organic"},position:{x:2,y:4,z:0},type:"block"},"block@2,4,1:ZlEwyj":{config:{style:"organic"},position:{x:2,y:4,z:1},type:"block"},"block@2,5,0:ZlEwyj":{config:{style:"organic"},position:{x:2,y:5,z:0},type:"block"},"block@2,5,1:ZlEwyj":{config:{style:"organic"},position:{x:2,y:5,z:1},type:"block"},"block@2,6,0:ZlEwyj":{config:{style:"organic"},position:{x:2,y:6,z:0},type:"block"},"block@2,6,1:ZlEwyj":{config:{style:"organic"},position:{x:2,y:6,z:1},type:"block"},"block@2,7,0:ZlEwyj":{config:{style:"organic"},position:{x:2,y:7,z:0},type:"block"},"block@2,7,1:ZlEwyj":{config:{style:"organic"},position:{x:2,y:7,z:1},type:"block"},"block@3,0,2:ZlEwyj":{config:{style:"organic"},position:{x:3,y:0,z:2},type:"block"},"block@3,1,2:ZlEwyj":{config:{style:"organic"},position:{x:3,y:1,z:2},type:"block"},"block@3,2,2:ZlEwyj":{config:{style:"organic"},position:{x:3,y:2,z:2},type:"block"},"block@3,3,2:ZlEwyj":{config:{style:"organic"},position:{x:3,y:3,z:2},type:"block"},"block@3,4,2:ZlEwyj":{config:{style:"organic"},position:{x:3,y:4,z:2},type:"block"},"block@3,5,2:ZlEwyj":{config:{style:"organic"},position:{x:3,y:5,z:2},type:"block"},"block@3,6,2:ZlEwyj":{config:{style:"organic"},position:{x:3,y:6,z:2},type:"block"},"block@3,7,2:ZlEwyj":{config:{style:"organic"},position:{x:3,y:7,z:2},type:"block"},"block@4,0,2:ZlEwyj":{config:{style:"organic"},position:{x:4,y:0,z:2},type:"block"},"block@4,1,2:ZlEwyj":{config:{style:"organic"},position:{x:4,y:1,z:2},type:"block"},"block@4,2,2:ZlEwyj":{config:{style:"organic"},position:{x:4,y:2,z:2},type:"block"},"block@4,3,2:ZlEwyj":{config:{style:"organic"},position:{x:4,y:3,z:2},type:"block"},"block@4,4,2:ZlEwyj":{config:{style:"organic"},position:{x:4,y:4,z:2},type:"block"},"block@4,5,2:ZlEwyj":{config:{style:"organic"},position:{x:4,y:5,z:2},type:"block"},"block@4,6,2:ZlEwyj":{config:{style:"organic"},position:{x:4,y:6,z:2},type:"block"},"block@4,7,2:ZlEwyj":{config:{style:"organic"},position:{x:4,y:7,z:2},type:"block"},"block@5,0,0:ZlEwyj":{config:{style:"organic"},position:{x:5,y:0,z:0},type:"block"},"block@5,0,1:ZlEwyj":{config:{style:"organic"},position:{x:5,y:0,z:1},type:"block"},"block@5,1,0:ZlEwyj":{config:{style:"organic"},position:{x:5,y:1,z:0},type:"block"},"block@5,1,1:ZlEwyj":{config:{style:"organic"},position:{x:5,y:1,z:1},type:"block"},"block@5,2,0:ZlEwyj":{config:{style:"organic"},position:{x:5,y:2,z:0},type:"block"},"block@5,2,1:ZlEwyj":{config:{style:"organic"},position:{x:5,y:2,z:1},type:"block"},"block@5,3,0:ZlEwyj":{config:{style:"organic"},position:{x:5,y:3,z:0},type:"block"},"block@5,3,1:ZlEwyj":{config:{style:"organic"},position:{x:5,y:3,z:1},type:"block"},"block@5,4,0:ZlEwyj":{config:{style:"organic"},position:{x:5,y:4,z:0},type:"block"},"block@5,4,1:ZlEwyj":{config:{style:"organic"},position:{x:5,y:4,z:1},type:"block"},"block@5,5,0:ZlEwyj":{config:{style:"organic"},position:{x:5,y:5,z:0},type:"block"},"block@5,5,1:ZlEwyj":{config:{style:"organic"},position:{x:5,y:5,z:1},type:"block"},"block@5,6,0:ZlEwyj":{config:{style:"organic"},position:{x:5,y:6,z:0},type:"block"},"block@5,6,1:ZlEwyj":{config:{style:"organic"},position:{x:5,y:6,z:1},type:"block"},"block@5,7,0:ZlEwyj":{config:{style:"organic"},position:{x:5,y:7,z:0},type:"block"},"block@5,7,1:ZlEwyj":{config:{style:"organic"},position:{x:5,y:7,z:1},type:"block"},"door@0,3,0:Z2fEfFt":{config:{axis:"y",toRoom:"blacktooth10"},position:{x:0,y:3,z:0},type:"door"},"door@3,0,0:1G5BtK":{config:{axis:"x",toRoom:"blacktooth31"},position:{x:3,y:0,z:0},type:"door"},"door@3,8,0:1G5BJv":{config:{axis:"x",toRoom:"blacktooth32"},position:{x:3,y:8,z:0},type:"door"},"door@8,3,0:Z2fEf9X":{config:{axis:"y",toRoom:"blacktooth12"},position:{x:8,y:3,z:0},type:"door"}},planet:"jail",size:{x:8,y:8},walls:{away:["bars","bars","bars","none","none","bars","bars","bars"],left:["bars","bars","bars","none","none","bars","bars","bars"]}},blacktooth12:{color:"magenta",floor:"deadly",floorSkip:[],id:"blacktooth12",items:{"block@0,0,3:ZlEwyj":{config:{style:"organic"},position:{x:0,y:0,z:3},type:"block"},"block@0,1,3:ZlEwyj":{config:{style:"organic"},position:{x:0,y:1,z:3},type:"block"},"block@4,0,3:ZlEwyj":{config:{style:"organic"},position:{x:4,y:0,z:3},type:"block"},"block@4,1,3:ZlEwyj":{config:{style:"organic"},position:{x:4,y:1,z:3},type:"block"},"block@7,0,3:ZlEwyj":{config:{style:"organic"},position:{x:7,y:0,z:3},type:"block"},"block@7,1,3:ZlEwyj":{config:{style:"organic"},position:{x:7,y:1,z:3},type:"block"},"door@0,0,5:Z2fEfpI":{config:{axis:"y",toRoom:"blacktooth11"},position:{x:0,y:0,z:5},type:"door"},"door@8,0,5:Z2fEeTd":{config:{axis:"y",toRoom:"blacktooth13"},position:{x:8,y:0,z:5},type:"door"}},planet:"blacktooth",size:{x:8,y:2},walls:{away:["plain","armour","plain","shield","shield","plain","armour","plain"],left:["none","none"]}},blacktooth13:{color:"yellow",floor:"blacktooth",floorSkip:[],id:"blacktooth13",items:{"deadly-block@0,1,0:ZWGEjo":{config:{style:"volcano"},position:{x:0,y:1,z:0},type:"deadly-block"},"deadly-block@0,4,0:ZWGEjo":{config:{style:"volcano"},position:{x:0,y:4,z:0},type:"deadly-block"},"deadly-block@1,0,0:ZWGEjo":{config:{style:"volcano"},position:{x:1,y:0,z:0},type:"deadly-block"},"deadly-block@1,5,0:ZWGEjo":{config:{style:"volcano"},position:{x:1,y:5,z:0},type:"deadly-block"},"deadly-block@4,0,0:ZWGEjo":{config:{style:"volcano"},position:{x:4,y:0,z:0},type:"deadly-block"},"deadly-block@4,5,0:ZWGEjo":{config:{style:"volcano"},position:{x:4,y:5,z:0},type:"deadly-block"},"deadly-block@5,1,0:ZWGEjo":{config:{style:"volcano"},position:{x:5,y:1,z:0},type:"deadly-block"},"deadly-block@5,4,0:ZWGEjo":{config:{style:"volcano"},position:{x:5,y:4,z:0},type:"deadly-block"},"door@0,2,0:Z2fEf9X":{config:{axis:"y",toRoom:"blacktooth12"},position:{x:0,y:2,z:0},type:"door"},"door@2,6,0:1G5mv1":{config:{axis:"x",toRoom:"blacktooth15"},position:{x:2,y:6,z:0},type:"door"},"door@6,2,0:Z2fEeDs":{config:{axis:"y",toRoom:"blacktooth14"},position:{x:6,y:2,z:0},type:"door"}},planet:"blacktooth",size:{x:6,y:6},walls:{away:["plain","shield","none","none","shield","plain"],left:["plain","shield","none","none","shield","plain"]}},blacktooth14:{color:"white",floor:"blacktooth",floorSkip:[],id:"blacktooth14",items:{"baddie@7,2,0:v0szb":{config:{which:"helicopter-bug"},position:{x:7,y:2,z:0},type:"baddie"},"barrier@4,0,0:Is9Xq":{config:{axis:"y"},position:{x:4,y:0,z:0},type:"barrier"},"barrier@4,0,1:Is9Xq":{config:{axis:"y"},position:{x:4,y:0,z:1},type:"barrier"},"barrier@4,0,2:Is9Xq":{config:{axis:"y"},position:{x:4,y:0,z:2},type:"barrier"},"barrier@4,1,0:Is9Xq":{config:{axis:"y"},position:{x:4,y:1,z:0},type:"barrier"},"barrier@4,1,1:Is9Xq":{config:{axis:"y"},position:{x:4,y:1,z:1},type:"barrier"},"barrier@4,1,2:Is9Xq":{config:{axis:"y"},position:{x:4,y:1,z:2},type:"barrier"},"barrier@4,2,0:Is9Xq":{config:{axis:"y"},position:{x:4,y:2,z:0},type:"barrier"},"barrier@4,2,1:Is9Xq":{config:{axis:"y"},position:{x:4,y:2,z:1},type:"barrier"},"barrier@4,2,2:Is9Xq":{config:{axis:"y"},position:{x:4,y:2,z:2},type:"barrier"},"barrier@4,3,0:Is9Xq":{config:{axis:"y"},position:{x:4,y:3,z:0},type:"barrier"},"barrier@4,3,1:Is9Xq":{config:{axis:"y"},position:{x:4,y:3,z:1},type:"barrier"},"barrier@4,3,2:Is9Xq":{config:{axis:"y"},position:{x:4,y:3,z:2},type:"barrier"},"barrier@4,4,0:Is9Xq":{config:{axis:"y"},position:{x:4,y:4,z:0},type:"barrier"},"barrier@4,4,1:Is9Xq":{config:{axis:"y"},position:{x:4,y:4,z:1},type:"barrier"},"barrier@4,4,2:Is9Xq":{config:{axis:"y"},position:{x:4,y:4,z:2},type:"barrier"},"barrier@4,5,0:Is9Xq":{config:{axis:"y"},position:{x:4,y:5,z:0},type:"barrier"},"barrier@4,5,1:Is9Xq":{config:{axis:"y"},position:{x:4,y:5,z:1},type:"barrier"},"barrier@4,5,2:Is9Xq":{config:{axis:"y"},position:{x:4,y:5,z:2},type:"barrier"},"door@0,2,0:Z2fEeTd":{config:{axis:"y",toRoom:"blacktooth13"},position:{x:0,y:2,z:0},type:"door"},"pickup@7,1,0:Z2prF0G":{config:{gives:"donuts"},position:{x:7,y:1,z:0},type:"pickup"},"pickup@7,4,0:Zu0Fv":{config:{gives:"fast"},position:{x:7,y:4,z:0},type:"pickup"}},planet:"blacktooth",size:{x:8,y:6},walls:{away:["plain","armour","plain","shield","shield","plain","armour","plain"],left:["plain","armour","shield","shield","armour","plain"]}},blacktooth15:{color:"cyan",floor:"blacktooth",floorSkip:[],id:"blacktooth15",items:{"door@0,0,0:1G5lYv":{config:{axis:"x",toRoom:"blacktooth13"},position:{x:0,y:0,z:0},type:"door"},"door@0,8,0:1G5mKL":{config:{axis:"x",toRoom:"blacktooth16"},position:{x:0,y:8,z:0},type:"door"}},planet:"blacktooth",size:{x:2,y:8},walls:{away:["none","none"],left:["plain","armour","plain","shield","shield","plain","armour","plain"]}},blacktooth16:{color:"green",floor:"blacktooth",floorSkip:[],id:"blacktooth16",items:{"baddie@0,7,0:1qFC6w":{config:{which:"bubble-robot"},position:{x:0,y:7,z:0},type:"baddie"},"baddie@7,0,0:1qFC6w":{config:{which:"bubble-robot"},position:{x:7,y:0,z:0},type:"baddie"},"baddie@7,7,0:1qFC6w":{config:{which:"bubble-robot"},position:{x:7,y:7,z:0},type:"baddie"},"deadly-block@3,3,0:Z1tM18t":{config:{style:"puck"},position:{x:3,y:3,z:0},type:"deadly-block"},"deadly-block@4,4,0:Z1tM18t":{config:{style:"puck"},position:{x:4,y:4,z:0},type:"deadly-block"},"door@3,0,0:1G5mv1":{config:{axis:"x",toRoom:"blacktooth15"},position:{x:3,y:0,z:0},type:"door"},"door@8,3,0:Z1QyoBh":{config:{axis:"y",toRoom:"blacktooth17triple"},position:{x:8,y:3,z:0},type:"door"}},planet:"blacktooth",size:{x:8,y:8},walls:{away:["plain","armour","plain","shield","shield","plain","armour","plain"],left:["plain","shield","plain","none","none","plain","shield","plain"]}},blacktooth17triple:{color:"yellow",floor:"blacktooth",floorSkip:[{x:12,y:12},{x:12,y:11},{x:12,y:10},{x:12,y:9},{x:12,y:8},{x:12,y:7},{x:11,y:12},{x:11,y:11},{x:11,y:10},{x:11,y:9},{x:11,y:8},{x:10,y:12},{x:10,y:11},{x:10,y:10},{x:10,y:9},{x:10,y:8},{x:9,y:12},{x:9,y:11},{x:9,y:10},{x:9,y:9},{x:9,y:8},{x:8,y:12},{x:8,y:11},{x:8,y:10},{x:8,y:9},{x:8,y:8},{x:7,y:12},{x:7,y:11},{x:7,y:10},{x:7,y:9},{x:7,y:8}],id:"blacktooth17triple",items:{"baddie@3,0,0:v0szb":{config:{which:"helicopter-bug"},position:{x:3,y:0,z:0},type:"baddie"},"deadly-block@1,2,0:ZWGEjo":{config:{style:"volcano"},position:{x:1,y:2,z:0},type:"deadly-block"},"deadly-block@1,3,0:ZWGEjo":{config:{style:"volcano"},position:{x:1,y:3,z:0},type:"deadly-block"},"deadly-block@1,8,0:ZWGEjo":{config:{style:"volcano"},position:{x:1,y:8,z:0},type:"deadly-block"},"deadly-block@1,9,0:ZWGEjo":{config:{style:"volcano"},position:{x:1,y:9,z:0},type:"deadly-block"},"deadly-block@10,2,0:ZWGEjo":{config:{style:"volcano"},position:{x:10,y:2,z:0},type:"deadly-block"},"deadly-block@10,3,0:ZWGEjo":{config:{style:"volcano"},position:{x:10,y:3,z:0},type:"deadly-block"},"deadly-block@2,1,0:ZWGEjo":{config:{style:"volcano"},position:{x:2,y:1,z:0},type:"deadly-block"},"deadly-block@2,10,0:ZWGEjo":{config:{style:"volcano"},position:{x:2,y:10,z:0},type:"deadly-block"},"deadly-block@2,4,0:ZWGEjo":{config:{style:"volcano"},position:{x:2,y:4,z:0},type:"deadly-block"},"deadly-block@2,7,0:ZWGEjo":{config:{style:"volcano"},position:{x:2,y:7,z:0},type:"deadly-block"},"deadly-block@3,1,0:ZWGEjo":{config:{style:"volcano"},position:{x:3,y:1,z:0},type:"deadly-block"},"deadly-block@3,10,0:ZWGEjo":{config:{style:"volcano"},position:{x:3,y:10,z:0},type:"deadly-block"},"deadly-block@3,4,0:ZWGEjo":{config:{style:"volcano"},position:{x:3,y:4,z:0},type:"deadly-block"},"deadly-block@3,7,0:ZWGEjo":{config:{style:"volcano"},position:{x:3,y:7,z:0},type:"deadly-block"},"deadly-block@4,2,0:ZWGEjo":{config:{style:"volcano"},position:{x:4,y:2,z:0},type:"deadly-block"},"deadly-block@4,3,0:ZWGEjo":{config:{style:"volcano"},position:{x:4,y:3,z:0},type:"deadly-block"},"deadly-block@4,8,0:ZWGEjo":{config:{style:"volcano"},position:{x:4,y:8,z:0},type:"deadly-block"},"deadly-block@4,9,0:ZWGEjo":{config:{style:"volcano"},position:{x:4,y:9,z:0},type:"deadly-block"},"deadly-block@7,2,0:ZWGEjo":{config:{style:"volcano"},position:{x:7,y:2,z:0},type:"deadly-block"},"deadly-block@7,3,0:ZWGEjo":{config:{style:"volcano"},position:{x:7,y:3,z:0},type:"deadly-block"},"deadly-block@8,1,0:ZWGEjo":{config:{style:"volcano"},position:{x:8,y:1,z:0},type:"deadly-block"},"deadly-block@8,4,0:ZWGEjo":{config:{style:"volcano"},position:{x:8,y:4,z:0},type:"deadly-block"},"deadly-block@9,1,0:ZWGEjo":{config:{style:"volcano"},position:{x:9,y:1,z:0},type:"deadly-block"},"deadly-block@9,4,0:ZWGEjo":{config:{style:"volcano"},position:{x:9,y:4,z:0},type:"deadly-block"},"door@0,2,0:Z2fEe7W":{config:{axis:"y",toRoom:"blacktooth16"},position:{x:0,y:2,z:0},type:"door"},"door@12,2,0:Z2fEdlG":{config:{axis:"y",toRoom:"blacktooth19"},position:{x:12,y:2,z:0},type:"door"},"door@6,8,0:Z2fEdBr":{config:{axis:"y",toRoom:"blacktooth18"},position:{x:6,y:8,z:0},type:"door"},"pickup@3,9,0:DHWsf":{config:{gives:"shield"},position:{x:3,y:9,z:0},type:"pickup"},"wall@10,6,0:2lbb8x":{config:{side:"away",style:"armour"},position:{x:10,y:6,z:0},type:"wall"},"wall@11,6,0:Z7IKOn":{config:{side:"away",style:"plain"},position:{x:11,y:6,z:0},type:"wall"},"wall@6,10,0:BKGHK":{config:{side:"left",style:"shield"},position:{x:6,y:10,z:0},type:"wall"},"wall@6,11,0:1TQrOi":{config:{side:"left",style:"plain"},position:{x:6,y:11,z:0},type:"wall"},"wall@6,6,0:1TQrOi":{config:{side:"left",style:"plain"},position:{x:6,y:6,z:0},type:"wall"},"wall@6,6,0:Z7IKOn":{config:{side:"away",style:"plain"},position:{x:6,y:6,z:0},type:"wall"},"wall@6,7,0:BKGHK":{config:{side:"left",style:"shield"},position:{x:6,y:7,z:0},type:"wall"},"wall@7,6,0:2lbb8x":{config:{side:"away",style:"armour"},position:{x:7,y:6,z:0},type:"wall"},"wall@8,6,0:Z1FfuBR":{config:{side:"away",style:"shield"},position:{x:8,y:6,z:0},type:"wall"},"wall@9,6,0:Z1FfuBR":{config:{side:"away",style:"shield"},position:{x:9,y:6,z:0},type:"wall"}},planet:"blacktooth",size:{x:12,y:12},walls:{away:["plain","armour","shield","shield","armour","plain","none","none","none","none","none","none"],left:["plain","shield","none","none","shield","plain","none","none","none","none","none","none"]}},blacktooth18:{color:"cyan",floor:"blacktooth",floorSkip:[],id:"blacktooth18",items:{"baddie@4,3,0:NUdjE":{config:{startDirection:"towards",which:"american-football-head"},position:{x:4,y:3,z:0},type:"baddie"},"book@3,3,0:Z213BvY":{config:{slider:!1},position:{x:3,y:3,z:0},type:"book"},"book@3,3,1:Z213BvY":{config:{slider:!1},position:{x:3,y:3,z:1},type:"book"},"door@0,2,0:Z1QyoBh":{config:{axis:"y",toRoom:"blacktooth17triple"},position:{x:0,y:2,z:0},type:"door"},"door@8,2,4:Z2fE7F6":{config:{axis:"y",toRoom:"blacktooth20"},position:{x:8,y:2,z:4},type:"door"},"portable-block@3,3,2:Z1UEQTQ":{config:{style:"cube"},position:{x:3,y:3,z:2},type:"portable-block"}},planet:"blacktooth",size:{x:8,y:6},walls:{away:["plain","armour","plain","shield","shield","plain","armour","plain"],left:["plain","shield","none","none","shield","plain"]}},blacktooth19:{color:"white",floor:"blacktooth",floorSkip:[],id:"blacktooth19",items:{"block@2,2,0:Z1qu960":{config:{style:"tower"},position:{x:2,y:2,z:0},type:"block"},"block@2,2,1:Z1qu960":{config:{style:"tower"},position:{x:2,y:2,z:1},type:"block"},"block@2,2,2:Z1qu960":{config:{style:"tower"},position:{x:2,y:2,z:2},type:"block"},"block@2,2,3:ZlEwyj":{config:{style:"organic"},position:{x:2,y:2,z:3},type:"block"},"block@3,2,3:ZlEwyj":{config:{style:"organic"},position:{x:3,y:2,z:3},type:"block"},"block@4,2,3:ZlEwyj":{config:{style:"organic"},position:{x:4,y:2,z:3},type:"block"},"block@5,2,3:ZlEwyj":{config:{style:"organic"},position:{x:5,y:2,z:3},type:"block"},"block@6,2,0:Z1qu960":{config:{style:"tower"},position:{x:6,y:2,z:0},type:"block"},"block@6,2,1:Z1qu960":{config:{style:"tower"},position:{x:6,y:2,z:1},type:"block"},"block@6,2,2:Z1qu960":{config:{style:"tower"},position:{x:6,y:2,z:2},type:"block"},"conveyor@6,2,3:24hKaE":{config:{direction:"away"},position:{x:6,y:2,z:3},type:"conveyor"},"door@0,3,0:Z1QyoBh":{config:{axis:"y",toRoom:"blacktooth17triple"},position:{x:0,y:3,z:0},type:"door"},"door@3,8,5:1G5tdC":{config:{axis:"x",toRoom:"blacktooth20"},position:{x:3,y:8,z:5},type:"door"},"lift@1,2,0:ZTwqow":{config:{bottom:0,top:7},position:{x:1,y:2,z:0},type:"lift"},"movable-block@3,2,4:Z15GVb5":{config:{style:"anvil"},position:{x:3,y:2,z:4},type:"movable-block"},"movable-block@4,2,4:Z15GVb5":{config:{style:"anvil"},position:{x:4,y:2,z:4},type:"movable-block"},"movable-block@5,2,4:Z15GVb5":{config:{style:"anvil"},position:{x:5,y:2,z:4},type:"movable-block"}},planet:"blacktooth",size:{x:8,y:8},walls:{away:["plain","shield","plain","none","none","plain","shield","plain"],left:["plain","armour","plain","shield","shield","plain","armour","plain"]}},blacktooth1head:{color:"yellow",floor:"jail",floorSkip:[],id:"blacktooth1head",items:{"barrier@5,0,0:Is9Xq":{config:{axis:"y"},position:{x:5,y:0,z:0},type:"barrier"},"barrier@5,0,2:Is9Xq":{config:{axis:"y"},position:{x:5,y:0,z:2},type:"barrier"},"barrier@5,0,4:Is9Xq":{config:{axis:"y"},position:{x:5,y:0,z:4},type:"barrier"},"barrier@5,0,6:Is9Xq":{config:{axis:"y"},position:{x:5,y:0,z:6},type:"barrier"},"door@0,3,0:gSx4i":{config:{axis:"y",toRoom:"blacktooth23heels"},position:{x:0,y:3,z:0},type:"door"},head:{config:{which:"head"},position:{x:2.5,y:3.5,z:0},type:"player"},"pickup@5,0,7:1MkQY2":{config:{gives:"extra-life"},position:{x:5,y:0,z:7},type:"pickup"},pickupTemp:{config:{gives:"extra-life"},position:{x:5,y:5,z:7},type:"pickup"},"teleporter@5,7,0:Z12mRwL":{config:{toRoom:"blacktooth2"},position:{x:5,y:7,z:0},type:"teleporter"}},planet:"jail",size:{x:6,y:8},walls:{away:["bars","bars","bars","bars","bars","bars"],left:["bars","bars","bars","bars","bars","bars","bars","bars"]}},blacktooth2:{color:"cyan",floor:"blacktooth",floorSkip:[],id:"blacktooth2",items:{"door@2,0,0:dkfa9":{config:{axis:"x",toRoom:"blacktooth3"},position:{x:2,y:0,z:0},type:"door"},"teleporter@5,7,0:ZO2t8x":{config:{toRoom:"blacktooth1head"},position:{x:5,y:7,z:0},type:"teleporter"}},planet:"blacktooth",size:{x:6,y:8},walls:{away:["plain","armour","shield","shield","armour","plain"],left:["plain","armour","plain","shield","shield","plain","armour","plain"]}},blacktooth20:{color:"yellow",floor:"blacktooth",floorSkip:[],id:"blacktooth20",items:{"door@0,2,0:Z2fEdBr":{config:{axis:"y",toRoom:"blacktooth18"},position:{x:0,y:2,z:0},type:"door"},"door@2,0,0:1G5nx2":{config:{axis:"x",toRoom:"blacktooth19"},position:{x:2,y:0,z:0},type:"door"},"door@2,6,0:2blQ9m":{config:{axis:"x",toRoom:"blacktooth21fish"},position:{x:2,y:6,z:0},type:"door"}},planet:"blacktooth",size:{x:6,y:6},walls:{away:["plain","shield","none","none","shield","plain"],left:["plain","armour","shield","shield","armour","plain"]}},blacktooth21fish:{color:"yellow",floor:"deadly",floorSkip:[],id:"blacktooth21fish",items:{"block@0,0,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:0,z:0},type:"block"},"block@0,1,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:1,z:0},type:"block"},"block@0,2,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:2,z:0},type:"block"},"block@0,3,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:3,z:0},type:"block"},"block@0,4,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:4,z:0},type:"block"},"block@0,5,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:5,z:0},type:"block"},"block@0,6,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:6,z:0},type:"block"},"block@0,7,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:7,z:0},type:"block"},"block@3,0,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:0,z:0},type:"block"},"block@3,4,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:4,z:0},type:"block"},"block@3,7,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:7,z:0},type:"block"},"block@4,0,0:ZlEwyj":{config:{style:"organic"},position:{x:4,y:0,z:0},type:"block"},"block@4,7,0:ZlEwyj":{config:{style:"organic"},position:{x:4,y:7,z:0},type:"block"},"block@6,4,0:ZlEwyj":{config:{style:"organic"},position:{x:6,y:4,z:0},type:"block"},"block@7,4,0:Z1qu960":{config:{style:"tower"},position:{x:7,y:4,z:0},type:"block"},"block@7,4,1:Z1qu960":{config:{style:"tower"},position:{x:7,y:4,z:1},type:"block"},"block@7,4,2:Z1qu960":{config:{style:"tower"},position:{x:7,y:4,z:2},type:"block"},"door@3,0,1:1G5tdC":{config:{axis:"x",toRoom:"blacktooth20"},position:{x:3,y:0,z:1},type:"door"},"door@3,8,1:1G5tJ8":{config:{axis:"x",toRoom:"blacktooth22"},position:{x:3,y:8,z:2},type:"door"},"fish@7,4,3:ZyDpHa":{config:{alive:!0},position:{x:7,y:4,z:3},type:"fish"}},planet:"blacktooth",size:{x:8,y:8},walls:{away:["plain","shield","plain","none","none","plain","shield","plain"],left:["plain","armour","plain","shield","shield","plain","armour","plain"]}},blacktooth22:{color:"white",floor:"none",floorSkip:[],id:"blacktooth22",items:{"block@2,0,0:ZlEwyj":{config:{style:"organic"},position:{x:2,y:0,z:0},type:"block"},"block@3,0,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:0,z:0},type:"block"},"door@2,0,1:2blQ9m":{config:{axis:"x",toRoom:"blacktooth21fish"},position:{x:2,y:0,z:1},type:"door"}},planet:"jail",roomBelow:"blacktooth44market",size:{x:6,y:6},walls:{away:["bars","bars","bars","bars","bars","bars"],left:["bars","bars","bars","bars","bars","bars"]}},blacktooth23heels:{color:"cyan",floor:"jail",floorSkip:[],id:"blacktooth23heels",items:{"barrier@4,0,0:Is9Xq":{config:{axis:"y"},position:{x:4,y:0,z:0},type:"barrier"},"barrier@4,0,1:Is9Xq":{config:{axis:"y"},position:{x:4,y:0,z:1},type:"barrier"},"barrier@4,0,2:Is9Xq":{config:{axis:"y"},position:{x:4,y:0,z:2},type:"barrier"},"barrier@4,1,0:Is9Xq":{config:{axis:"y"},position:{x:4,y:1,z:0},type:"barrier"},"barrier@4,1,1:Is9Xq":{config:{axis:"y"},position:{x:4,y:1,z:1},type:"barrier"},"barrier@4,1,2:Is9Xq":{config:{axis:"y"},position:{x:4,y:1,z:2},type:"barrier"},"barrier@4,2,0:Is9Xq":{config:{axis:"y"},position:{x:4,y:2,z:0},type:"barrier"},"barrier@4,2,1:Is9Xq":{config:{axis:"y"},position:{x:4,y:2,z:1},type:"barrier"},"barrier@4,2,2:Is9Xq":{config:{axis:"y"},position:{x:4,y:2,z:2},type:"barrier"},"barrier@4,3,0:Is9Xq":{config:{axis:"y"},position:{x:4,y:3,z:0},type:"barrier"},"barrier@4,3,1:Is9Xq":{config:{axis:"y"},position:{x:4,y:3,z:1},type:"barrier"},"barrier@4,3,2:Is9Xq":{config:{axis:"y"},position:{x:4,y:3,z:2},type:"barrier"},"barrier@4,4,0:Is9Xq":{config:{axis:"y"},position:{x:4,y:4,z:0},type:"barrier"},"barrier@4,4,1:Is9Xq":{config:{axis:"y"},position:{x:4,y:4,z:1},type:"barrier"},"barrier@4,4,2:Is9Xq":{config:{axis:"y"},position:{x:4,y:4,z:2},type:"barrier"},"barrier@4,5,0:Is9Xq":{config:{axis:"y"},position:{x:4,y:5,z:0},type:"barrier"},"barrier@4,5,1:Is9Xq":{config:{axis:"y"},position:{x:4,y:5,z:1},type:"barrier"},"barrier@4,5,2:Is9Xq":{config:{axis:"y"},position:{x:4,y:5,z:2},type:"barrier"},"barrier@4,6,0:Is9Xq":{config:{axis:"y"},position:{x:4,y:6,z:0},type:"barrier"},"barrier@4,6,1:Is9Xq":{config:{axis:"y"},position:{x:4,y:6,z:1},type:"barrier"},"barrier@4,6,2:Is9Xq":{config:{axis:"y"},position:{x:4,y:6,z:2},type:"barrier"},"barrier@4,7,0:Is9Xq":{config:{axis:"y"},position:{x:4,y:7,z:0},type:"barrier"},"barrier@4,7,1:Is9Xq":{config:{axis:"y"},position:{x:4,y:7,z:1},type:"barrier"},"barrier@4,7,2:Is9Xq":{config:{axis:"y"},position:{x:4,y:7,z:2},type:"barrier"},"conveyor@0,1,0:24hKaE":{config:{direction:"away"},position:{x:0,y:1,z:0},type:"conveyor"},"conveyor@0,2,0:24hKaE":{config:{direction:"away"},position:{x:0,y:2,z:0},type:"conveyor"},"conveyor@0,3,0:24hKaE":{config:{direction:"away"},position:{x:0,y:3,z:0},type:"conveyor"},"conveyor@0,4,0:24hKaE":{config:{direction:"away"},position:{x:0,y:4,z:0},type:"conveyor"},"conveyor@0,5,0:24hKaE":{config:{direction:"away"},position:{x:0,y:5,z:0},type:"conveyor"},"conveyor@0,6,0:24hKaE":{config:{direction:"away"},position:{x:0,y:6,z:0},type:"conveyor"},"deadly-block@0,7,0:ZWGEjo":{config:{style:"volcano"},position:{x:0,y:7,z:0},type:"deadly-block"},"door@8,3,0:Z1epSke":{config:{axis:"y",toRoom:"blacktooth1head"},position:{x:8,y:3,z:0},type:"door"},heels:{config:{which:"heels"},position:{x:3,y:3.5,z:0},type:"player"},"teleporter@0,0,0:Z1GqgNT":{config:{toRoom:"blacktooth24"},position:{x:0,y:0,z:0},type:"teleporter"}},planet:"jail",size:{x:8,y:8},walls:{away:["bars","bars","bars","bars","bars","bars","bars","bars"],left:["bars","bars","bars","none","none","bars","bars","bars"]}},blacktooth24:{color:"white",floor:"blacktooth",floorSkip:[],id:"blacktooth24",items:{"door@8,3,3:Z2fE6nk":{config:{axis:"y",toRoom:"blacktooth25"},position:{x:8,y:3,z:3},type:"door"},"spring@4,4,0:13y":{config:{},position:{x:4,y:4,z:0},type:"spring"},"teleporter@0,0,0:Z1xY0rQ":{config:{toRoom:"blacktooth23heels"},position:{x:0,y:0,z:0},type:"teleporter"}},planet:"blacktooth",size:{x:8,y:8},walls:{away:["plain","armour","plain","shield","shield","plain","armour","plain"],left:["plain","shield","plain","none","none","plain","shield","plain"]}},blacktooth25:{color:"cyan",floor:"blacktooth",floorSkip:[],id:"blacktooth25",items:{"conveyor@1,5,1:cVr4l":{config:{direction:"right"},position:{x:1,y:5,z:1},type:"conveyor"},"deadly-block@0,5,0:ZWGEjo":{config:{style:"volcano"},position:{x:0,y:5,z:0},type:"deadly-block"},"door@0,2,0:Z2fE6D5":{config:{axis:"y",toRoom:"blacktooth24"},position:{x:0,y:2,z:0},type:"door"},"lift@5,0,7:ZTwqnv":{config:{bottom:0,top:9},position:{x:5,y:0,z:7},type:"lift"}},planet:"blacktooth",roomAbove:"blacktooth26",size:{x:6,y:6},walls:{away:["plain","armour","shield","shield","armour","plain"],left:["plain","armour","shield","shield","armour","plain"]}},blacktooth26:{color:"cyan",floor:"none",floorSkip:[],id:"blacktooth26",items:{"conveyor@2,5,0:cVr4l":{config:{direction:"right"},position:{x:2,y:5,z:0},type:"conveyor"},"conveyor@3,5,0:cVr4l":{config:{direction:"right"},position:{x:3,y:5,z:0},type:"conveyor"},"conveyor@4,5,0:cVr4l":{config:{direction:"right"},position:{x:4,y:5,z:0},type:"conveyor"},"conveyor@5,2,0:24hKaE":{config:{direction:"away"},position:{x:5,y:2,z:0},type:"conveyor"},"conveyor@5,3,0:24hKaE":{config:{direction:"away"},position:{x:5,y:3,z:0},type:"conveyor"},"conveyor@5,4,0:24hKaE":{config:{direction:"away"},position:{x:5,y:4,z:0},type:"conveyor"},"conveyor@5,5,0:cVr4l":{config:{direction:"right"},position:{x:5,y:5,z:0},type:"conveyor"},"door@2,6,2:Z1FrdCt":{config:{axis:"x",toRoom:"blacktooth27fish"},position:{x:2,y:6,z:2},type:"door"},"lift@5,0,0:ZTwqow":{config:{bottom:0,top:7},position:{x:5,y:0,z:0},type:"lift"}},planet:"jail",roomBelow:"blacktooth25",size:{x:6,y:6},walls:{away:["bars","bars","none","none","bars","bars"],left:["bars","bars","bars","bars","bars","bars"]}},blacktooth27fish:{color:"yellow",floor:"blacktooth",floorSkip:[],id:"blacktooth27fish",items:{"door@0,3,0:Z2fE5B4":{config:{axis:"y",toRoom:"blacktooth28"},position:{x:0,y:3,z:0},type:"door"},"door@1,0,0:1G5uL9":{config:{axis:"x",toRoom:"blacktooth26"},position:{x:1,y:0,z:0},type:"door"},"door@1,8,3:1G5vxp":{config:{axis:"x",toRoom:"blacktooth29"},position:{x:1,y:8,z:3},type:"door"},"fish@2,3,1:ZyDpHa":{config:{alive:!0},position:{x:2,y:3,z:1},type:"fish"},"movable-block@2,3,0:Z15GVb5":{config:{style:"anvil"},position:{x:2,y:3,z:0},type:"movable-block"},"portable-block@0,0,0:Z1SKpmn":{config:{style:"drum"},position:{x:0,y:0,z:0},type:"portable-block"}},planet:"blacktooth",size:{x:4,y:8},walls:{away:["shield","none","none","shield"],left:["plain","armour","plain","shield","shield","plain","armour","plain"]}},blacktooth28:{color:"cyan",floor:"deadly",floorSkip:[],id:"blacktooth28",items:{"block@5,0,0:ZlEwyj":{config:{style:"organic"},position:{x:5,y:0,z:0},type:"block"},"block@5,1,0:ZlEwyj":{config:{style:"organic"},position:{x:5,y:1,z:0},type:"block"},"block@5,2,0:ZlEwyj":{config:{style:"organic"},position:{x:5,y:2,z:0},type:"block"},"block@6,0,0:ZlEwyj":{config:{style:"organic"},position:{x:6,y:0,z:0},type:"block"},"block@6,1,0:ZlEwyj":{config:{style:"organic"},position:{x:6,y:1,z:0},type:"block"},"block@6,2,0:ZlEwyj":{config:{style:"organic"},position:{x:6,y:2,z:0},type:"block"},"block@7,0,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:0,z:0},type:"block"},"block@7,1,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:1,z:0},type:"block"},"block@7,2,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:2,z:0},type:"block"},"block@7,3,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:3,z:0},type:"block"},"block@7,4,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:4,z:0},type:"block"},"block@7,5,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:5,z:0},type:"block"},"block@7,6,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:6,z:0},type:"block"},"block@7,7,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:7,z:0},type:"block"},"charles@3,4,0:13y":{config:{},position:{x:3,y:4,z:0},type:"charles"},"conveyor@0,7,2:cVr4l":{config:{direction:"right"},position:{x:0,y:7,z:2},type:"conveyor"},"conveyor@1,7,2:cVr4l":{config:{direction:"right"},position:{x:1,y:7,z:2},type:"conveyor"},"conveyor@2,7,2:cVr4l":{config:{direction:"right"},position:{x:2,y:7,z:2},type:"conveyor"},"door@8,3,2:Z1g6HTP":{config:{axis:"y",toRoom:"blacktooth27fish"},position:{x:8,y:3,z:2},type:"door"},"joystick@6,1,1:13y":{config:{},position:{x:6,y:1,z:1},type:"joystick"},"pickup@2,7,7:Zki5mP":{config:{gives:"bag"},position:{x:2,y:7,z:7},type:"pickup"},"portable-block@1,7,0:Z1UEQTQ":{config:{style:"cube"},position:{x:1,y:7,z:0},type:"portable-block"}},planet:"blacktooth",size:{x:8,y:8},walls:{away:["plain","armour","plain","shield","shield","plain","armour","plain"],left:["plain","shield","plain","none","none","plain","shield","plain"]}},blacktooth29:{color:"white",floor:"blacktooth",floorSkip:[],id:"blacktooth29",items:{"baddie@0,6,0:2wEOE6":{config:{charging:!1,which:"cyberman"},position:{x:0,y:6,z:0},type:"baddie"},"door@2,0,0:Z1FrdCt":{config:{axis:"x",toRoom:"blacktooth27fish"},position:{x:2,y:0,z:0},type:"door"},"lift@0,7,7:ZTwqnv":{config:{bottom:0,top:9},position:{x:0,y:7,z:7},type:"lift"}},planet:"blacktooth",roomAbove:"blacktooth30",size:{x:6,y:8},walls:{away:["plain","armour","shield","shield","armour","plain"],left:["plain","armour","plain","shield","shield","plain","armour","plain"]}},blacktooth3:{color:"green",floor:"none",floorSkip:[],id:"blacktooth3",items:{"block@3,5,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:5,z:0},type:"block"},"block@4,5,0:ZlEwyj":{config:{style:"organic"},position:{x:4,y:5,z:0},type:"block"},"door@3,6,2:dkeTo":{config:{axis:"x",toRoom:"blacktooth2"},position:{x:3,y:6,z:2},type:"door"}},planet:"jail",roomBelow:"blacktooth4",size:{x:8,y:6},walls:{away:["bars","bars","bars","none","none","bars","bars","bars"],left:["bars","bars","bars","bars","bars","bars"]}},blacktooth30:{color:"white",floor:"none",floorSkip:[],id:"blacktooth30",items:{"block@0,0,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:0,z:0},type:"block"},"block@0,1,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:1,z:0},type:"block"},"block@0,2,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:2,z:0},type:"block"},"block@0,3,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:3,z:0},type:"block"},"block@0,4,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:4,z:0},type:"block"},"block@0,5,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:5,z:0},type:"block"},"block@0,6,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:6,z:0},type:"block"},"block@0,7,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:7,z:0},type:"block"},"door@0,3,1:Z2fDYoX":{config:{axis:"y",toRoom:"blacktooth31"},position:{x:0,y:3,z:1},type:"door"}},planet:"jail",roomBelow:"blacktooth29",size:{x:6,y:8},walls:{away:["bars","bars","bars","bars","bars","bars"],left:["bars","bars","bars","bars","bars","bars","bars","bars"]}},blacktooth31:{color:"green",floor:"blacktooth",floorSkip:[],id:"blacktooth31",items:{"block@5,2,0:ZlEwyj":{config:{style:"organic"},position:{x:5,y:2,z:0},type:"block"},"block@5,2,1:ZlEwyj":{config:{style:"organic"},position:{x:5,y:2,z:1},type:"block"},"block@5,3,0:ZlEwyj":{config:{style:"organic"},position:{x:5,y:3,z:0},type:"block"},"deadly-block@0,1,0:ZWGEjo":{config:{style:"volcano"},position:{x:0,y:1,z:0},type:"deadly-block"},"deadly-block@0,10,0:ZWGEjo":{config:{style:"volcano"},position:{x:0,y:10,z:0},type:"deadly-block"},"deadly-block@0,4,0:ZWGEjo":{config:{style:"volcano"},position:{x:0,y:4,z:0},type:"deadly-block"},"deadly-block@0,7,0:ZWGEjo":{config:{style:"volcano"},position:{x:0,y:7,z:0},type:"deadly-block"},"deadly-block@1,0,0:ZWGEjo":{config:{style:"volcano"},position:{x:1,y:0,z:0},type:"deadly-block"},"deadly-block@1,11,0:ZWGEjo":{config:{style:"volcano"},position:{x:1,y:11,z:0},type:"deadly-block"},"deadly-block@1,5,0:ZWGEjo":{config:{style:"volcano"},position:{x:1,y:5,z:0},type:"deadly-block"},"deadly-block@1,6,0:ZWGEjo":{config:{style:"volcano"},position:{x:1,y:6,z:0},type:"deadly-block"},"deadly-block@4,0,0:ZWGEjo":{config:{style:"volcano"},position:{x:4,y:0,z:0},type:"deadly-block"},"deadly-block@4,11,0:ZWGEjo":{config:{style:"volcano"},position:{x:4,y:11,z:0},type:"deadly-block"},"deadly-block@4,5,0:ZWGEjo":{config:{style:"volcano"},position:{x:4,y:5,z:0},type:"deadly-block"},"deadly-block@4,6,0:ZWGEjo":{config:{style:"volcano"},position:{x:4,y:6,z:0},type:"deadly-block"},"deadly-block@5,1,0:ZWGEjo":{config:{style:"volcano"},position:{x:5,y:1,z:0},type:"deadly-block"},"deadly-block@5,10,0:ZWGEjo":{config:{style:"volcano"},position:{x:5,y:10,z:0},type:"deadly-block"},"deadly-block@5,4,0:ZWGEjo":{config:{style:"volcano"},position:{x:5,y:4,z:0},type:"deadly-block"},"deadly-block@5,7,0:ZWGEjo":{config:{style:"volcano"},position:{x:5,y:7,z:0},type:"deadly-block"},"door@2,12,3:1G5lt0":{config:{axis:"x",toRoom:"blacktooth11"},position:{x:2,y:12,z:3},type:"door"},"door@6,2,3:Z2fDYEI":{config:{axis:"y",toRoom:"blacktooth30"},position:{x:6,y:2,z:3},type:"door"},"portable-block@2,8,0:Z1SKpmn":{config:{style:"drum"},position:{x:2,y:8,z:0},type:"portable-block"},"portable-block@3,9,0:Z1SKpmn":{config:{style:"drum"},position:{x:3,y:9,z:0},type:"portable-block"}},planet:"blacktooth",size:{x:6,y:12},walls:{away:["plain","shield","none","none","shield","plain"],left:["plain","shield","none","none","shield","plain","plain","armour","shield","shield","armour","plain"]}},blacktooth32:{color:"green",floor:"blacktooth",floorSkip:[],id:"blacktooth32",items:{"door@0,0,0:1G5lt0":{config:{axis:"x",toRoom:"blacktooth11"},position:{x:0,y:0,z:0},type:"door"},"door@0,8,0:1G5C0g":{config:{axis:"x",toRoom:"blacktooth33"},position:{x:0,y:8,z:0},type:"door"}},planet:"blacktooth",size:{x:2,y:8},walls:{away:["none","none"],left:["plain","armour","plain","shield","shield","plain","armour","plain"]}},blacktooth33:{color:"cyan",floor:"blacktooth",floorSkip:[],id:"blacktooth33",items:{"baddie@0,3,0:2wEOE6":{config:{charging:!1,which:"cyberman"},position:{x:0,y:3,z:0},type:"baddie"},"baddie@7,4,0:Z1w4InY":{config:{which:"dalek"},position:{x:7,y:4,z:0},type:"baddie"},"door@3,0,0:1G5BJv":{config:{axis:"x",toRoom:"blacktooth32"},position:{x:3,y:0,z:0},type:"door"},"lift@7,7,0:ZTwqnv":{config:{bottom:0,top:9},position:{x:7,y:7,z:0},type:"lift"},"pickup@0,7,0:Zs6lvR":{config:{gives:"jumps"},position:{x:0,y:7,z:0},type:"pickup"}},planet:"blacktooth",roomAbove:"blacktooth34",size:{x:8,y:8},walls:{away:["plain","armour","plain","shield","shield","plain","armour","plain"],left:["plain","armour","plain","shield","shield","plain","armour","plain"]}},blacktooth34:{color:"cyan",floor:"none",floorSkip:[],id:"blacktooth34",items:{"block@3,7,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:7,z:0},type:"block"},"block@5,7,0:ZlEwyj":{config:{style:"organic"},position:{x:5,y:7,z:0},type:"block"},"door@3,8,2:1G5CvL":{config:{axis:"x",toRoom:"blacktooth35"},position:{x:3,y:8,z:2},type:"door"},"lift@7,7,0:ZTwqp2":{config:{bottom:0,top:6},position:{x:7,y:7,z:0},type:"lift"}},planet:"jail",roomBelow:"blacktooth33",size:{x:8,y:8},walls:{away:["bars","bars","bars","none","none","bars","bars","bars"],left:["bars","bars","bars","bars","bars","bars","bars","bars"]}},blacktooth35:{color:"cyan",floor:"deadly",floorSkip:[],id:"blacktooth35",items:{"block@1,0,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:0,z:0},type:"block"},"block@1,10,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:10,z:0},type:"block"},"block@1,12,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:12,z:0},type:"block"},"block@1,6,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:6,z:0},type:"block"},"block@1,7,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:7,z:0},type:"block"},"block@1,8,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:8,z:0},type:"block"},"block@3,12,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:12,z:0},type:"block"},"door@1,0,1:1G5Cg1":{config:{axis:"x",toRoom:"blacktooth34"},position:{x:1,y:0,z:1},type:"door"},"door@4,11,2:Z2fDX7c":{config:{axis:"y",toRoom:"blacktooth36"},position:{x:4,y:11,z:2},type:"door"},"spring@1,2,0:13y":{config:{},position:{x:1,y:2,z:0},type:"spring"},"spring@1,4,0:13y":{config:{},position:{x:1,y:4,z:0},type:"spring"}},planet:"blacktooth",size:{x:4,y:16},walls:{away:["plain","shield","shield","plain"],left:["plain","armour","plain","shield","shield","plain","armour","plain","plain","shield","plain","none","none","plain","shield","plain"]}},blacktooth36:{color:"yellow",floor:"blacktooth",floorSkip:[],id:"blacktooth36",items:{"door@0,2,0:Z2fDXmW":{config:{axis:"y",toRoom:"blacktooth35"},position:{x:0,y:2,z:0},type:"door"},"door@2,6,0:1G5D2h":{config:{axis:"x",toRoom:"blacktooth37"},position:{x:2,y:6,z:0},type:"door"}},planet:"blacktooth",size:{x:6,y:6},walls:{away:["plain","shield","none","none","shield","plain"],left:["plain","armour","shield","shield","armour","plain"]}},blacktooth37:{color:"green",floor:"blacktooth",floorSkip:[],id:"blacktooth37",items:{"baddie@0,5,0:yqEry":{config:{startDirection:"right",which:"american-football-head"},position:{x:0,y:5,z:0},type:"baddie"},"baddie@2,4,0:yqEry":{config:{startDirection:"right",which:"american-football-head"},position:{x:2,y:4,z:0},type:"baddie"},"baddie@3,3,0:yqEry":{config:{startDirection:"right",which:"american-football-head"},position:{x:3,y:3,z:0},type:"baddie"},"ball@0,1,0:13y":{config:{},position:{x:0,y:1,z:0},type:"ball"},"door@1,0,0:1G5CLw":{config:{axis:"x",toRoom:"blacktooth36"},position:{x:1,y:0,z:0},type:"door"},"door@1,8,0:1G5Di2":{config:{axis:"x",toRoom:"blacktooth38"},position:{x:1,y:8,z:0},type:"door"},"switch@0,7,0:13y":{config:{},position:{x:0,y:7,z:0},type:"switch"}},planet:"blacktooth",size:{x:4,y:8},walls:{away:["shield","none","none","shield"],left:["plain","armour","plain","shield","shield","plain","armour","plain"]}},blacktooth38:{color:"magenta",floor:"none",floorSkip:[],id:"blacktooth38",items:{"block@2,0,0:ZlEwyj":{config:{style:"organic"},position:{x:2,y:0,z:0},type:"block"},"block@3,0,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:0,z:0},type:"block"},"door@2,0,1:1G5D2h":{config:{axis:"x",toRoom:"blacktooth37"},position:{x:2,y:0,z:1},type:"door"}},planet:"jail",roomBelow:"blacktooth39",size:{x:6,y:6},walls:{away:["bars","bars","bars","bars","bars","bars"],left:["bars","bars","bars","bars","bars","bars"]}},blacktooth39:{color:"magenta",floor:"blacktooth",floorSkip:[],id:"blacktooth39",items:{"baddie@3,3,0:Z1w4InY":{config:{which:"dalek"},position:{x:3,y:3,z:0},type:"baddie"},"door@2,6,5:aN7bd":{config:{axis:"x",toRoom:"blacktooth40fish"},position:{x:2,y:6,z:5},type:"door"},"door@6,2,5:Z2fDQoA":{config:{axis:"y",toRoom:"blacktooth41"},position:{x:6,y:2,z:5},type:"door"},"lift@2,0,0:ZTwqnv":{config:{bottom:0,top:9},position:{x:2,y:0,z:0},type:"lift"},"portable-block@1,1,0:Z1UEQTQ":{config:{style:"cube"},position:{x:1,y:1,z:0},type:"portable-block"},"portable-block@1,4,0:Z1UEQTQ":{config:{style:"cube"},position:{x:1,y:4,z:0},type:"portable-block"},"portable-block@4,1,0:Z1UEQTQ":{config:{style:"cube"},position:{x:4,y:1,z:0},type:"portable-block"},"portable-block@4,4,0:Z1UEQTQ":{config:{style:"cube"},position:{x:4,y:4,z:0},type:"portable-block"}},planet:"blacktooth",roomAbove:"blacktooth38",size:{x:6,y:6},walls:{away:["plain","shield","none","none","shield","plain"],left:["plain","shield","none","none","shield","plain"]}},blacktooth4:{color:"green",floor:"blacktooth",floorSkip:[],id:"blacktooth4",items:{"door@3,0,0:dkfFE":{config:{axis:"x",toRoom:"blacktooth5"},position:{x:3,y:0,z:0},type:"door"},"lift@3,5,0:ZTwqnv":{config:{bottom:0,top:9},position:{x:3,y:5,z:0},type:"lift"}},planet:"blacktooth",roomAbove:"blacktooth3",size:{x:8,y:6},walls:{away:["plain","armour","plain","shield","shield","plain","armour","plain"],left:["plain","armour","shield","shield","armour","plain"]}},blacktooth40fish:{color:"cyan",floor:"deadly",floorSkip:[],id:"blacktooth40fish",items:{"block@2,0,0:ZlEwyj":{config:{style:"organic"},position:{x:2,y:0,z:0},type:"block"},"block@3,0,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:0,z:0},type:"block"},"block@3,15,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:15,z:0},type:"block"},"block@4,15,0:ZlEwyj":{config:{style:"organic"},position:{x:4,y:15,z:0},type:"block"},"block@5,15,0:ZlEwyj":{config:{style:"organic"},position:{x:5,y:15,z:0},type:"block"},"conveyor@0,1,0:2pPzNa":{config:{direction:"left"},position:{x:0,y:1,z:0},type:"conveyor"},"conveyor@0,10,0:24hKaE":{config:{direction:"away"},position:{x:0,y:10,z:0},type:"conveyor"},"conveyor@0,12,0:2pPzNa":{config:{direction:"left"},position:{x:0,y:12,z:0},type:"conveyor"},"conveyor@0,14,0:2pPzNa":{config:{direction:"left"},position:{x:0,y:14,z:0},type:"conveyor"},"conveyor@0,3,0:2pPzNa":{config:{direction:"left"},position:{x:0,y:3,z:0},type:"conveyor"},"conveyor@0,4,0:cVr4l":{config:{direction:"right"},position:{x:0,y:4,z:0},type:"conveyor"},"conveyor@1,14,0:2pPzNa":{config:{direction:"left"},position:{x:1,y:14,z:0},type:"conveyor"},"conveyor@2,1,0:cVr4l":{config:{direction:"right"},position:{x:2,y:1,z:0},type:"conveyor"},"conveyor@2,10,0:2pPzNa":{config:{direction:"left"},position:{x:2,y:10,z:0},type:"conveyor"},"conveyor@2,14,0:2pPzNa":{config:{direction:"left"},position:{x:2,y:14,z:0},type:"conveyor"},"conveyor@2,4,0:cVr4l":{config:{direction:"right"},position:{x:2,y:4,z:0},type:"conveyor"},"conveyor@3,14,0:2pPzNa":{config:{direction:"left"},position:{x:3,y:14,z:0},type:"conveyor"},"conveyor@4,10,0:2pPzNa":{config:{direction:"left"},position:{x:4,y:10,z:0},type:"conveyor"},"conveyor@4,4,0:24hKaE":{config:{direction:"away"},position:{x:4,y:4,z:0},type:"conveyor"},"conveyor@4,5,0:24hKaE":{config:{direction:"away"},position:{x:4,y:5,z:0},type:"conveyor"},"conveyor@4,6,0:24hKaE":{config:{direction:"away"},position:{x:4,y:6,z:0},type:"conveyor"},"conveyor@4,7,0:24hKaE":{config:{direction:"away"},position:{x:4,y:7,z:0},type:"conveyor"},"conveyor@4,8,0:24hKaE":{config:{direction:"away"},position:{x:4,y:8,z:0},type:"conveyor"},"conveyor@4,9,0:24hKaE":{config:{direction:"away"},position:{x:4,y:9,z:0},type:"conveyor"},"door@2,0,1:1G5DxM":{config:{axis:"x",toRoom:"blacktooth39"},position:{x:2,y:0,z:1},type:"door"},"fish@5,15,1:ZyDpHa":{config:{alive:!0},position:{x:5,y:15,z:1},type:"fish"},"pickup@3,15,1:1MkQY2":{config:{gives:"extra-life"},position:{x:3,y:15,z:1},type:"pickup"},"pickup@4,15,1:DHWsf":{config:{gives:"shield"},position:{x:4,y:15,z:1},type:"pickup"}},planet:"blacktooth",size:{x:6,y:16},walls:{away:["plain","armour","shield","shield","armour","plain"],left:["plain","armour","plain","shield","shield","plain","armour","plain","plain","armour","plain","shield","shield","plain","armour","plain"]}},blacktooth41:{color:"white",floor:"blacktooth",floorSkip:[],id:"blacktooth41",items:{"door@0,0,0:Z2fDWkV":{config:{axis:"y",toRoom:"blacktooth39"},position:{x:0,y:0,z:0},type:"door"},"door@8,0,0:Z2fDQ8P":{config:{axis:"y",toRoom:"blacktooth42"},position:{x:8,y:0,z:0},type:"door"}},planet:"blacktooth",size:{x:8,y:2},walls:{away:["plain","armour","plain","shield","shield","plain","armour","plain"],left:["none","none"]}},blacktooth42:{color:"yellow",floor:"blacktooth",floorSkip:[],id:"blacktooth42",items:{"baddie@3,1,0:NUdjE":{config:{startDirection:"towards",which:"american-football-head"},position:{x:3,y:1,z:0},type:"baddie"},"door@0,0,0:Z2fDQoA":{config:{axis:"y",toRoom:"blacktooth41"},position:{x:0,y:0,z:0},type:"door"},"door@8,0,0:Z2fDPS5":{config:{axis:"y",toRoom:"blacktooth43"},position:{x:8,y:0,z:0},type:"door"},"spring@1,1,0:13y":{config:{},position:{x:1,y:1,z:0},type:"spring"}},planet:"blacktooth",size:{x:8,y:2},walls:{away:["plain","armour","plain","shield","shield","plain","armour","plain"],left:["none","none"]}},blacktooth43:{color:"yellow",floor:"none",floorSkip:[],id:"blacktooth43",items:{"block@0,2,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:2,z:0},type:"block"},"block@0,3,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:3,z:0},type:"block"},"door@0,2,1:Z2fDQ8P":{config:{axis:"y",toRoom:"blacktooth42"},position:{x:0,y:2,z:1},type:"door"}},planet:"jail",roomBelow:"blacktooth46market",size:{x:6,y:6},walls:{away:["bars","bars","bars","bars","bars","bars"],left:["bars","bars","bars","bars","bars","bars"]}},blacktooth44market:{color:"white",floor:"market",floorSkip:[],id:"blacktooth44market",items:{"door@0,2,0:dB1g5":{config:{axis:"y",toRoom:"blacktooth45market"},position:{x:0,y:2,z:0},type:"door"}},planet:"market",roomAbove:"blacktooth22",size:{x:6,y:6},walls:{away:["passage","more-fruits","fruits","more-fruits","fruits","passage"],left:["passage","more-fruits","fruits","more-fruits","fruits","passage"]}},blacktooth45market:{color:"magenta",floor:"market",floorSkip:[],id:"blacktooth45market",items:{"block@0,0,1:ZlEwyj":{config:{style:"organic"},position:{x:0,y:0,z:1},type:"block"},"block@0,1,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:1,z:0},type:"block"},"block@1,0,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:0,z:0},type:"block"},"block@6,7,0:ZlEwyj":{config:{style:"organic"},position:{x:6,y:7,z:0},type:"block"},"block@7,6,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:6,z:0},type:"block"},"block@7,7,1:ZlEwyj":{config:{style:"organic"},position:{x:7,y:7,z:1},type:"block"},"deadly-block@7,7,0:ZWGEjo":{config:{style:"volcano"},position:{x:7,y:7,z:0},type:"deadly-block"},"door@3,8,0:ELw9s":{config:{axis:"x",toRoom:"blacktooth46market"},position:{x:3,y:8,z:0},type:"door"},"door@8,3,0:2m92x7":{config:{axis:"y",toRoom:"blacktooth44market"},position:{x:8,y:3,z:0},type:"door"},"pickup@0,0,0:1MkQY2":{config:{gives:"extra-life"},position:{x:0,y:0,z:0},type:"pickup"}},planet:"market",size:{x:8,y:8},walls:{away:["passage","more-fruits","fruits","none","none","more-fruits","fruits","passage"],left:["passage","more-fruits","fruits","none","none","more-fruits","fruits","passage"]}},blacktooth46market:{color:"yellow",floor:"market",floorSkip:[],id:"blacktooth46market",items:{"door@2,0,0:Z2gRAnr":{config:{axis:"x",toRoom:"blacktooth45market"},position:{x:2,y:0,z:0},type:"door"},"door@2,6,3:Z1sKu7z":{config:{axis:"x",toRoom:"blacktooth47market"},position:{x:2,y:6,z:3},type:"door"},"portable-block@0,0,0:Z1UEQTQ":{config:{style:"cube"},position:{x:0,y:0,z:0},type:"portable-block"}},planet:"market",roomAbove:"blacktooth43",size:{x:6,y:6},walls:{away:["more-fruits","fruits","none","none","more-fruits","fruits"],left:["passage","more-fruits","fruits","more-fruits","fruits","passage"]}},blacktooth47market:{color:"white",floor:"deadly",floorSkip:[],id:"blacktooth47market",items:{"block@0,1,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:1,z:0},type:"block"},"block@1,0,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:0,z:0},type:"block"},"block@1,1,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:1,z:0},type:"block"},"block@1,2,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:2,z:0},type:"block"},"block@2,0,0:ZlEwyj":{config:{style:"organic"},position:{x:2,y:0,z:0},type:"block"},"block@2,1,0:ZlEwyj":{config:{style:"organic"},position:{x:2,y:1,z:0},type:"block"},"block@3,0,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:0,z:0},type:"block"},"block@4,7,0:ZlEwyj":{config:{style:"organic"},position:{x:4,y:7,z:0},type:"block"},"block@5,6,0:ZlEwyj":{config:{style:"organic"},position:{x:5,y:6,z:0},type:"block"},"block@5,7,0:ZlEwyj":{config:{style:"organic"},position:{x:5,y:7,z:0},type:"block"},"block@6,5,0:ZlEwyj":{config:{style:"organic"},position:{x:6,y:5,z:0},type:"block"},"block@6,6,0:ZlEwyj":{config:{style:"organic"},position:{x:6,y:6,z:0},type:"block"},"block@6,7,0:ZlEwyj":{config:{style:"organic"},position:{x:6,y:7,z:0},type:"block"},"block@7,6,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:6,z:0},type:"block"},"charles@0,7,0:13y":{config:{},position:{x:0,y:7,z:0},type:"charles"},"door@3,0,1:ELw9s":{config:{axis:"x",toRoom:"blacktooth46market"},position:{x:3,y:0,z:1},type:"door"},"door@3,8,2:1sSCpk":{config:{axis:"x",toRoom:"blacktooth48market"},position:{x:3,y:8,z:2},type:"door"},"joystick@0,1,1:13y":{config:{},position:{x:0,y:1,z:1},type:"joystick"},"joystick@1,0,1:13y":{config:{},position:{x:1,y:0,z:1},type:"joystick"},"joystick@1,2,1:13y":{config:{},position:{x:1,y:2,z:1},type:"joystick"},"joystick@2,1,1:13y":{config:{},position:{x:2,y:1,z:1},type:"joystick"},"joystick@5,6,1:13y":{config:{},position:{x:5,y:6,z:1},type:"joystick"},"joystick@6,5,1:13y":{config:{},position:{x:6,y:5,z:1},type:"joystick"},"joystick@6,7,1:13y":{config:{},position:{x:6,y:7,z:1},type:"joystick"},"joystick@7,6,1:13y":{config:{},position:{x:7,y:6,z:1},type:"joystick"}},planet:"market",size:{x:8,y:8},walls:{away:["passage","more-fruits","fruits","none","none","more-fruits","fruits","passage"],left:["more-fruits","fruits","passage","more-fruits","fruits","passage","more-fruits","fruits"]}},blacktooth48market:{color:"magenta",floor:"market",floorSkip:[],id:"blacktooth48market",items:{"door@0,0,0:Z1sKu7z":{config:{axis:"x",toRoom:"blacktooth47market"},position:{x:0,y:0,z:0},type:"door"},"door@2,3,0:1OPdLO":{config:{axis:"y",toRoom:"blacktooth49market"},position:{x:2,y:3,z:0},type:"door"}},planet:"market",size:{x:2,y:8},walls:{away:["more-fruits","fruits"],left:["passage","more-fruits","fruits","none","none","more-fruits","fruits","passage"]}},blacktooth49market:{color:"white",floor:"market",floorSkip:[],id:"blacktooth49market",items:{"deadly-block@3,0,0:ZWGEjo":{config:{style:"volcano"},position:{x:3,y:0,z:0},type:"deadly-block"},"deadly-block@3,0,1:ZWGEjo":{config:{style:"volcano"},position:{x:3,y:0,z:1},type:"deadly-block"},"deadly-block@3,1,1:ZWGEjo":{config:{style:"volcano"},position:{x:3,y:1,z:1},type:"deadly-block"},"deadly-block@4,0,0:ZWGEjo":{config:{style:"volcano"},position:{x:4,y:0,z:0},type:"deadly-block"},"deadly-block@4,0,1:ZWGEjo":{config:{style:"volcano"},position:{x:4,y:0,z:1},type:"deadly-block"},"deadly-block@4,1,1:ZWGEjo":{config:{style:"volcano"},position:{x:4,y:1,z:1},type:"deadly-block"},"door@0,0,0:Z16NSK5":{config:{axis:"y",toRoom:"blacktooth48market"},position:{x:0,y:0,z:0},type:"door"},"door@8,0,0:vI40v":{config:{axis:"y",toRoom:"blacktooth50market"},position:{x:8,y:0,z:0},type:"door"}},planet:"market",size:{x:8,y:2},walls:{away:["more-fruits","fruits","passage","more-fruits","fruits","passage","more-fruits","fruits"],left:["none","none"]}},blacktooth5:{color:"magenta",floor:"blacktooth",floorSkip:[],id:"blacktooth5",items:{"deadly-block@0,2,0:2u1uHB":{config:{style:"toaster"},position:{x:0,y:2,z:0},type:"deadly-block"},"deadly-block@1,2,0:2u1uHB":{config:{style:"toaster"},position:{x:1,y:2,z:0},type:"deadly-block"},"door@0,0,0:dkgca":{config:{axis:"x",toRoom:"blacktooth7"},position:{x:0,y:0,z:0},type:"door"},"door@0,8,0:dkfpT":{config:{axis:"x",toRoom:"blacktooth4"},position:{x:0,y:8,z:0},type:"door"},"door@2,3,0:fyUlP":{config:{axis:"y",toRoom:"blacktooth6"},position:{x:2,y:3,z:0},type:"door"}},planet:"blacktooth",size:{x:2,y:8},walls:{away:["none","none"],left:["plain","shield","plain","none","none","plain","shield","plain"]}},blacktooth50market:{color:"cyan",floor:"market",floorSkip:[],id:"blacktooth50market",items:{"baddie@0,0,0:v0szb":{config:{which:"helicopter-bug"},position:{x:0,y:0,z:0},type:"baddie"},"baddie@4,7,0:2wEOE6":{config:{charging:!1,which:"cyberman"},position:{x:4,y:7,z:0},type:"baddie"},"baddie@7,0,0:v0szb":{config:{which:"helicopter-bug"},position:{x:7,y:0,z:0},type:"baddie"},"door@0,3,0:1OPdLO":{config:{axis:"y",toRoom:"blacktooth49market"},position:{x:0,y:3,z:0},type:"door"},"door@3,0,0:1G5Ruv":{config:{axis:"x",toRoom:"blacktooth51"},position:{x:3,y:0,z:0},type:"door"},"door@8,3,0:1jPagn":{config:{axis:"y",toRoom:"blacktooth52market"},position:{x:8,y:3,z:0},type:"door"}},planet:"market",size:{x:8,y:8},walls:{away:["more-fruits","fruits","passage","more-fruits","fruits","passage","more-fruits","fruits"],left:["passage","more-fruits","fruits","none","none","more-fruits","fruits","passage"]}},blacktooth51:{color:"yellow",floor:"jail",floorSkip:[],id:"blacktooth51",items:{"door@2,8,0:Z1XKxD1":{config:{axis:"x",toRoom:"blacktooth50market"},position:{x:2,y:8,z:0},type:"door"},"teleporter@2,3,0:Z1GJrKi":{config:{toRoom:"moonbase1"},position:{x:2,y:3,z:0},type:"teleporter"},"teleporter@2,4,0:Z1GJrKi":{config:{toRoom:"moonbase1"},position:{x:2,y:4,z:0},type:"teleporter"},"teleporter@3,3,0:Z1GJrKi":{config:{toRoom:"moonbase1"},position:{x:3,y:3,z:0},type:"teleporter"},"teleporter@3,4,0:Z1GJrKi":{config:{toRoom:"moonbase1"},position:{x:3,y:4,z:0},type:"teleporter"}},planet:"jail",size:{x:6,y:8},walls:{away:["bars","bars","none","none","bars","bars"],left:["bars","bars","bars","bars","bars","bars","bars","bars"]}},blacktooth52market:{color:"yellow",floor:"market",floorSkip:[],id:"blacktooth52market",items:{"deadly-block@0,0,0:ZWGEjo":{config:{style:"volcano"},position:{x:0,y:0,z:0},type:"deadly-block"},"deadly-block@0,5,0:ZWGEjo":{config:{style:"volcano"},position:{x:0,y:5,z:0},type:"deadly-block"},"deadly-block@1,2,0:ZWGEjo":{config:{style:"volcano"},position:{x:1,y:2,z:0},type:"deadly-block"},"deadly-block@1,3,0:ZWGEjo":{config:{style:"volcano"},position:{x:1,y:3,z:0},type:"deadly-block"},"deadly-block@2,1,0:ZWGEjo":{config:{style:"volcano"},position:{x:2,y:1,z:0},type:"deadly-block"},"deadly-block@2,4,0:ZWGEjo":{config:{style:"volcano"},position:{x:2,y:4,z:0},type:"deadly-block"},"deadly-block@3,1,0:ZWGEjo":{config:{style:"volcano"},position:{x:3,y:1,z:0},type:"deadly-block"},"deadly-block@3,4,0:ZWGEjo":{config:{style:"volcano"},position:{x:3,y:4,z:0},type:"deadly-block"},"deadly-block@4,2,0:ZWGEjo":{config:{style:"volcano"},position:{x:4,y:2,z:0},type:"deadly-block"},"deadly-block@4,3,0:ZWGEjo":{config:{style:"volcano"},position:{x:4,y:3,z:0},type:"deadly-block"},"deadly-block@5,0,0:ZWGEjo":{config:{style:"volcano"},position:{x:5,y:0,z:0},type:"deadly-block"},"deadly-block@5,5,0:ZWGEjo":{config:{style:"volcano"},position:{x:5,y:5,z:0},type:"deadly-block"},"door@0,2,0:vI40v":{config:{axis:"y",toRoom:"blacktooth50market"},position:{x:0,y:2,z:0},type:"door"},"door@2,6,0:1L0F9K":{config:{axis:"x",toRoom:"blacktooth53market"},position:{x:2,y:6,z:0},type:"door"}},planet:"market",size:{x:6,y:6},walls:{away:["more-fruits","fruits","none","none","more-fruits","fruits"],left:["passage","more-fruits","fruits","more-fruits","fruits","passage"]}},blacktooth53market:{color:"white",floor:"market",floorSkip:[],id:"blacktooth53market",items:{"baddie@2,4,0:v0szb":{config:{which:"helicopter-bug"},position:{x:2,y:4,z:0},type:"baddie"},"deadly-block@2,1,0:ZaRhUQ":{config:{style:"spikes"},position:{x:2,y:1,z:0},type:"deadly-block"},"deadly-block@2,6,0:ZaRhUQ":{config:{style:"spikes"},position:{x:2,y:6,z:0},type:"deadly-block"},"deadly-block@5,3,0:ZaRhUQ":{config:{style:"spikes"},position:{x:5,y:3,z:0},type:"deadly-block"},"deadly-block@5,4,0:ZaRhUQ":{config:{style:"spikes"},position:{x:5,y:4,z:0},type:"deadly-block"},"door@2,0,0:Z1aDrn9":{config:{axis:"x",toRoom:"blacktooth52market"},position:{x:2,y:0,z:0},type:"door"},"door@2,8,0:1G5SgL":{config:{axis:"x",toRoom:"blacktooth54"},position:{x:2,y:8,z:0},type:"door"}},planet:"market",size:{x:6,y:8},walls:{away:["more-fruits","fruits","none","none","more-fruits","fruits"],left:["more-fruits","fruits","passage","more-fruits","fruits","passage","more-fruits","fruits"]}},blacktooth54:{color:"yellow",floor:"none",floorSkip:[],id:"blacktooth54",items:{"block@3,0,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:0,z:0},type:"block"},"block@4,0,0:ZlEwyj":{config:{style:"organic"},position:{x:4,y:0,z:0},type:"block"},"door@3,0,1:1L0F9K":{config:{axis:"x",toRoom:"blacktooth53market"},position:{x:3,y:0,z:1},type:"door"}},planet:"jail",roomBelow:"blacktooth55",size:{x:8,y:6},walls:{away:["bars","bars","bars","bars","bars","bars","bars","bars"],left:["bars","bars","bars","bars","bars","bars"]}},blacktooth55:{color:"yellow",floor:"jail",floorSkip:[],id:"blacktooth55",items:{"door@0,2,0:Z2fDH6r":{config:{axis:"y",toRoom:"blacktooth56"},position:{x:0,y:2,z:0},type:"door"},"door@3,6,0:1G60uS":{config:{axis:"x",toRoom:"blacktooth61"},position:{x:3,y:6,z:0},type:"door"},"lift@3,0,0:ZTwqnv":{config:{bottom:0,top:9},position:{x:3,y:0,z:0},type:"lift"}},planet:"jail",roomAbove:"blacktooth54",size:{x:8,y:6},walls:{away:["bars","bars","bars","none","none","bars","bars","bars"],left:["bars","bars","bars","bars","bars","bars"]}},blacktooth56:{color:"white",floor:"jail",floorSkip:[],id:"blacktooth56",items:{"block@3,0,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:0,z:0},type:"block"},"block@3,0,1:ZlEwyj":{config:{style:"organic"},position:{x:3,y:0,z:1},type:"block"},"block@3,0,3:ZlEwyj":{config:{style:"organic"},position:{x:3,y:0,z:3},type:"block"},"block@3,1,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:1,z:0},type:"block"},"block@3,1,1:ZlEwyj":{config:{style:"organic"},position:{x:3,y:1,z:1},type:"block"},"block@3,1,2:ZlEwyj":{config:{style:"organic"},position:{x:3,y:1,z:2},type:"block"},"block@3,1,3:ZlEwyj":{config:{style:"organic"},position:{x:3,y:1,z:3},type:"block"},"deadly-block@0,0,0:ZaRhUQ":{config:{style:"spikes"},position:{x:0,y:0,z:0},type:"deadly-block"},"deadly-block@0,1,0:ZaRhUQ":{config:{style:"spikes"},position:{x:0,y:1,z:0},type:"deadly-block"},"door@0,0,4:Z2fDGPG":{config:{axis:"y",toRoom:"blacktooth57"},position:{x:0,y:0,z:4},type:"door"},"door@8,0,0:Z2fDHmc":{config:{axis:"y",toRoom:"blacktooth55"},position:{x:8,y:0,z:0},type:"door"}},planet:"jail",size:{x:8,y:2},walls:{away:["bars","bars","bars","bars","bars","bars","bars","bars"],left:["none","none"]}},blacktooth57:{color:"green",floor:"blacktooth",floorSkip:[],id:"blacktooth57",items:{"door@3,8,0:Z2l9XLn":{config:{axis:"x",toRoom:"blacktooth58triple"},position:{x:3,y:8,z:0},type:"door"},"door@8,3,0:Z2fDH6r":{config:{axis:"y",toRoom:"blacktooth56"},position:{x:8,y:3,z:0},type:"door"},"teleporter@3,3,0:Z1GJpGg":{config:{toRoom:"moonbase9"},position:{x:3,y:3,z:0},type:"teleporter"},"teleporter@3,4,0:Z1GJpGg":{config:{toRoom:"moonbase9"},position:{x:3,y:4,z:0},type:"teleporter"},"teleporter@4,3,0:Z1GJpGg":{config:{toRoom:"moonbase9"},position:{x:4,y:3,z:0},type:"teleporter"},"teleporter@4,4,0:Z1GJpGg":{config:{toRoom:"moonbase9"},position:{x:4,y:4,z:0},type:"teleporter"}},planet:"blacktooth",size:{x:8,y:8},walls:{away:["plain","shield","plain","none","none","plain","shield","plain"],left:["plain","shield","plain","none","none","plain","shield","plain"]}},blacktooth58triple:{color:"white",floor:"deadly",floorSkip:[{x:13,y:13},{x:13,y:12},{x:13,y:11},{x:13,y:10},{x:13,y:9},{x:13,y:8},{x:13,y:7},{x:13,y:6},{x:12,y:13},{x:12,y:12},{x:12,y:11},{x:12,y:10},{x:12,y:9},{x:12,y:8},{x:12,y:7},{x:12,y:6},{x:11,y:13},{x:11,y:12},{x:11,y:11},{x:11,y:10},{x:11,y:9},{x:11,y:8},{x:11,y:7},{x:11,y:6},{x:10,y:13},{x:10,y:12},{x:10,y:11},{x:10,y:10},{x:10,y:9},{x:10,y:8},{x:10,y:7},{x:10,y:6},{x:9,y:13},{x:9,y:12},{x:9,y:11},{x:9,y:10},{x:9,y:9},{x:9,y:8},{x:9,y:7},{x:9,y:6},{x:8,y:13},{x:8,y:12},{x:8,y:11},{x:8,y:10},{x:8,y:9},{x:8,y:8},{x:8,y:7},{x:8,y:6},{x:7,y:13},{x:7,y:12},{x:7,y:11},{x:7,y:10},{x:7,y:9},{x:7,y:8},{x:7,y:7},{x:7,y:6},{x:6,y:13}],id:"blacktooth58triple",items:{"baddie@4,9,1:VXUBj":{config:{which:"headless-base"},position:{x:4,y:9,z:1},type:"baddie"},"baddie@7,3,1:VXUBj":{config:{which:"headless-base"},position:{x:7,y:3,z:1},type:"baddie"},"block@0,11,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:11,z:0},type:"block"},"block@0,13,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:13,z:0},type:"block"},"block@0,7,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:7,z:0},type:"block"},"block@1,13,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:13,z:0},type:"block"},"block@1,7,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:7,z:0},type:"block"},"block@10,0,0:ZlEwyj":{config:{style:"organic"},position:{x:10,y:0,z:0},type:"block"},"block@10,5,0:ZlEwyj":{config:{style:"organic"},position:{x:10,y:5,z:0},type:"block"},"block@11,0,0:ZlEwyj":{config:{style:"organic"},position:{x:11,y:0,z:0},type:"block"},"block@11,5,0:ZlEwyj":{config:{style:"organic"},position:{x:11,y:5,z:0},type:"block"},"block@12,0,0:ZlEwyj":{config:{style:"organic"},position:{x:12,y:0,z:0},type:"block"},"block@12,5,0:ZlEwyj":{config:{style:"organic"},position:{x:12,y:5,z:0},type:"block"},"block@13,0,0:ZlEwyj":{config:{style:"organic"},position:{x:13,y:0,z:0},type:"block"},"block@13,3,0:ZlEwyj":{config:{style:"organic"},position:{x:13,y:3,z:0},type:"block"},"block@13,5,0:ZlEwyj":{config:{style:"organic"},position:{x:13,y:5,z:0},type:"block"},"block@2,0,0:ZlEwyj":{config:{style:"organic"},position:{x:2,y:0,z:0},type:"block"},"block@2,13,0:ZlEwyj":{config:{style:"organic"},position:{x:2,y:13,z:0},type:"block"},"block@2,7,0:ZlEwyj":{config:{style:"organic"},position:{x:2,y:7,z:0},type:"block"},"block@3,0,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:0,z:0},type:"block"},"block@3,13,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:13,z:0},type:"block"},"block@3,7,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:7,z:0},type:"block"},"block@4,0,0:ZlEwyj":{config:{style:"organic"},position:{x:4,y:0,z:0},type:"block"},"block@4,13,0:ZlEwyj":{config:{style:"organic"},position:{x:4,y:13,z:0},type:"block"},"block@4,7,0:ZlEwyj":{config:{style:"organic"},position:{x:4,y:7,z:0},type:"block"},"block@5,0,0:ZlEwyj":{config:{style:"organic"},position:{x:5,y:0,z:0},type:"block"},"block@5,13,0:ZlEwyj":{config:{style:"organic"},position:{x:5,y:13,z:0},type:"block"},"block@5,7,0:ZlEwyj":{config:{style:"organic"},position:{x:5,y:7,z:0},type:"block"},"block@6,0,0:ZlEwyj":{config:{style:"organic"},position:{x:6,y:0,z:0},type:"block"},"block@8,0,0:ZlEwyj":{config:{style:"organic"},position:{x:8,y:0,z:0},type:"block"},"block@8,5,0:ZlEwyj":{config:{style:"organic"},position:{x:8,y:5,z:0},type:"block"},"block@9,0,0:ZlEwyj":{config:{style:"organic"},position:{x:9,y:0,z:0},type:"block"},"block@9,5,0:ZlEwyj":{config:{style:"organic"},position:{x:9,y:5,z:0},type:"block"},"conveyor@5,5,0:24hKaE":{config:{direction:"away"},position:{x:5,y:5,z:0},type:"conveyor"},"conveyor@5,6,0:24hKaE":{config:{direction:"away"},position:{x:5,y:6,z:0},type:"conveyor"},"conveyor@6,5,0:2pPzNa":{config:{direction:"left"},position:{x:6,y:5,z:0},type:"conveyor"},"deadly-block@0,9,0:ZaRhUQ":{config:{style:"spikes"},position:{x:0,y:9,z:0},type:"deadly-block"},"deadly-block@0,9,1:ZaRhUQ":{config:{style:"spikes"},position:{x:0,y:9,z:1},type:"deadly-block"},"deadly-block@4,8,0:ZaRhUQ":{config:{style:"spikes"},position:{x:4,y:8,z:0},type:"deadly-block"},"deadly-block@4,9,0:ZaRhUQ":{config:{style:"spikes"},position:{x:4,y:9,z:0},type:"deadly-block"},"deadly-block@7,0,0:ZWGEjo":{config:{style:"volcano"},position:{x:7,y:0,z:0},type:"deadly-block"},"deadly-block@7,1,0:ZWGEjo":{config:{style:"volcano"},position:{x:7,y:1,z:0},type:"deadly-block"},"deadly-block@7,2,0:ZWGEjo":{config:{style:"volcano"},position:{x:7,y:2,z:0},type:"deadly-block"},"deadly-block@7,3,0:ZWGEjo":{config:{style:"volcano"},position:{x:7,y:3,z:0},type:"deadly-block"},"deadly-block@7,4,0:ZWGEjo":{config:{style:"volcano"},position:{x:7,y:4,z:0},type:"deadly-block"},"deadly-block@7,5,0:ZWGEjo":{config:{style:"volcano"},position:{x:7,y:5,z:0},type:"deadly-block"},"door@2,0,1:1G5T32":{config:{axis:"x",toRoom:"blacktooth57"},position:{x:2,y:0,z:1},type:"door"},"door@2,14,2:1G5Tyx":{config:{axis:"x",toRoom:"blacktooth59"},position:{x:2,y:14,z:2},type:"door"},"pickup@13,5,1:Zu0Fv":{config:{gives:"fast"},position:{x:13,y:5,z:1},type:"pickup"},"wall@10,6,0:Z2rXegQ":{config:{side:"away",style:"bars"},position:{x:10,y:6,z:0},type:"wall"},"wall@11,6,0:Z2rXegQ":{config:{side:"away",style:"bars"},position:{x:11,y:6,z:0},type:"wall"},"wall@12,6,0:Z2rXegQ":{config:{side:"away",style:"bars"},position:{x:12,y:6,z:0},type:"wall"},"wall@13,6,0:Z2rXegQ":{config:{side:"away",style:"bars"},position:{x:13,y:6,z:0},type:"wall"},"wall@6,10,0:ZfQXkd":{config:{side:"left",style:"bars"},position:{x:6,y:10,z:0},type:"wall"},"wall@6,11,0:ZfQXkd":{config:{side:"left",style:"bars"},position:{x:6,y:11,z:0},type:"wall"},"wall@6,12,0:ZfQXkd":{config:{side:"left",style:"bars"},position:{x:6,y:12,z:0},type:"wall"},"wall@6,13,0:ZfQXkd":{config:{side:"left",style:"bars"},position:{x:6,y:13,z:0},type:"wall"},"wall@6,6,0:Z2rXegQ":{config:{side:"away",style:"bars"},position:{x:6,y:6,z:0},type:"wall"},"wall@6,6,0:ZfQXkd":{config:{side:"left",style:"bars"},position:{x:6,y:6,z:0},type:"wall"},"wall@6,7,0:ZfQXkd":{config:{side:"left",style:"bars"},position:{x:6,y:7,z:0},type:"wall"},"wall@6,8,0:ZfQXkd":{config:{side:"left",style:"bars"},position:{x:6,y:8,z:0},type:"wall"},"wall@6,9,0:ZfQXkd":{config:{side:"left",style:"bars"},position:{x:6,y:9,z:0},type:"wall"},"wall@7,6,0:Z2rXegQ":{config:{side:"away",style:"bars"},position:{x:7,y:6,z:0},type:"wall"},"wall@8,6,0:Z2rXegQ":{config:{side:"away",style:"bars"},position:{x:8,y:6,z:0},type:"wall"},"wall@9,6,0:Z2rXegQ":{config:{side:"away",style:"bars"},position:{x:9,y:6,z:0},type:"wall"}},planet:"jail",size:{x:14,y:14},walls:{away:["bars","bars","none","none","bars","bars","none","none","none","none","none","none","none","none"],left:["bars","bars","bars","bars","bars","bars","none","none","none","none","none","none","none","none"]}},blacktooth59:{color:"yellow",floor:"jail",floorSkip:[],id:"blacktooth59",items:{"block@1,0,3:ZlEwyj":{config:{style:"organic"},position:{x:1,y:0,z:3},type:"block"},"block@2,0,3:ZlEwyj":{config:{style:"organic"},position:{x:2,y:0,z:3},type:"block"},"block@3,0,3:ZlEwyj":{config:{style:"organic"},position:{x:3,y:0,z:3},type:"block"},"block@4,0,3:ZlEwyj":{config:{style:"organic"},position:{x:4,y:0,z:3},type:"block"},"block@5,0,3:ZlEwyj":{config:{style:"organic"},position:{x:5,y:0,z:3},type:"block"},"block@6,0,3:ZlEwyj":{config:{style:"organic"},position:{x:6,y:0,z:3},type:"block"},"book@0,1,2:Z213BvY":{config:{slider:!1},position:{x:0,y:1,z:2},type:"book"},"book@0,1,4:Z213BvY":{config:{slider:!1},position:{x:0,y:1,z:4},type:"book"},"book@0,1,5:Z213BvY":{config:{slider:!1},position:{x:0,y:1,z:5},type:"book"},"book@0,2,1:Z213BvY":{config:{slider:!1},position:{x:0,y:2,z:1},type:"book"},"book@0,3,0:Z213BvY":{config:{slider:!1},position:{x:0,y:3,z:0},type:"book"},"book@1,1,0:Z213BvY":{config:{slider:!1},position:{x:1,y:1,z:0},type:"book"},"book@1,1,1:Z213BvY":{config:{slider:!1},position:{x:1,y:1,z:1},type:"book"},"book@1,1,2:Z213BvY":{config:{slider:!1},position:{x:1,y:1,z:2},type:"book"},"book@1,1,3:Z213BvY":{config:{slider:!1},position:{x:1,y:1,z:3},type:"book"},"book@1,1,4:Z213BvY":{config:{slider:!1},position:{x:1,y:1,z:4},type:"book"},"book@1,1,5:Z213BvY":{config:{slider:!1},position:{x:1,y:1,z:5},type:"book"},"deadly-block@0,0,0:ZWGEjo":{config:{style:"volcano"},position:{x:0,y:0,z:0},type:"deadly-block"},"deadly-block@0,1,6:ZWGEjo":{config:{style:"volcano"},position:{x:0,y:1,z:6},type:"deadly-block"},"deadly-block@1,1,6:ZWGEjo":{config:{style:"volcano"},position:{x:1,y:1,z:6},type:"deadly-block"},"door@3,0,4:Z2l9XLn":{config:{axis:"x",toRoom:"blacktooth58triple"},position:{x:3,y:0,z:4},type:"door"},"door@3,8,0:1G60f8":{config:{axis:"x",toRoom:"blacktooth60"},position:{x:3,y:8,z:0},type:"door"},"door@8,3,0:Z2fDzRk":{config:{axis:"y",toRoom:"blacktooth63"},position:{x:8,y:3,z:0},type:"door"}},planet:"jail",size:{x:8,y:8},walls:{away:["bars","bars","bars","none","none","bars","bars","bars"],left:["bars","bars","bars","none","none","bars","bars","bars"]}},blacktooth6:{color:"cyan",floor:"deadly",floorSkip:[],id:"blacktooth6",items:{"baddie@3,0,1:Z1w4InY":{config:{which:"dalek"},position:{x:3,y:0,z:1},type:"baddie"},"block@0,0,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:0,z:0},type:"block"},"block@0,3,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:3,z:0},type:"block"},"block@0,4,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:4,z:0},type:"block"},"block@0,7,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:7,z:0},type:"block"},"block@3,0,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:0,z:0},type:"block"},"block@3,7,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:7,z:0},type:"block"},"block@6,0,0:ZlEwyj":{config:{style:"organic"},position:{x:6,y:0,z:0},type:"block"},"block@7,7,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:7,z:0},type:"block"},"door@0,3,1:fyU65":{config:{axis:"y",toRoom:"blacktooth5"},position:{x:0,y:3,z:1},type:"door"},"pickup@7,7,1:Z2prF0G":{config:{gives:"donuts"},position:{x:7,y:7,z:1},type:"pickup"},"switch@6,0,1:13y":{config:{},position:{x:6,y:0,z:1},type:"switch"}},planet:"blacktooth",size:{x:8,y:8},walls:{away:["plain","armour","plain","shield","shield","plain","armour","plain"],left:["plain","armour","plain","shield","shield","plain","armour","plain"]}},blacktooth60:{color:"cyan",floor:"blacktooth",floorSkip:[],id:"blacktooth60",items:{"barrier@0,3,0:Is9HF":{config:{axis:"x"},position:{x:0,y:3,z:0},type:"barrier"},"barrier@0,3,1:Is9HF":{config:{axis:"x"},position:{x:0,y:3,z:1},type:"barrier"},"barrier@0,3,2:Is9HF":{config:{axis:"x"},position:{x:0,y:3,z:2},type:"barrier"},"barrier@1,3,0:Is9HF":{config:{axis:"x"},position:{x:1,y:3,z:0},type:"barrier"},"barrier@1,3,1:Is9HF":{config:{axis:"x"},position:{x:1,y:3,z:1},type:"barrier"},"barrier@1,3,2:Is9HF":{config:{axis:"x"},position:{x:1,y:3,z:2},type:"barrier"},"barrier@2,3,0:Is9HF":{config:{axis:"x"},position:{x:2,y:3,z:0},type:"barrier"},"barrier@2,3,1:Is9HF":{config:{axis:"x"},position:{x:2,y:3,z:1},type:"barrier"},"barrier@2,3,2:Is9HF":{config:{axis:"x"},position:{x:2,y:3,z:2},type:"barrier"},"barrier@3,4,0:Is9Xq":{config:{axis:"y"},position:{x:3,y:4,z:0},type:"barrier"},"barrier@3,4,1:Is9Xq":{config:{axis:"y"},position:{x:3,y:4,z:1},type:"barrier"},"barrier@3,4,2:Is9Xq":{config:{axis:"y"},position:{x:3,y:4,z:2},type:"barrier"},"barrier@3,5,0:Is9Xq":{config:{axis:"y"},position:{x:3,y:5,z:0},type:"barrier"},"barrier@3,5,1:Is9Xq":{config:{axis:"y"},position:{x:3,y:5,z:1},type:"barrier"},"barrier@3,5,2:Is9Xq":{config:{axis:"y"},position:{x:3,y:5,z:2},type:"barrier"},"barrier@3,6,0:Is9Xq":{config:{axis:"y"},position:{x:3,y:6,z:0},type:"barrier"},"barrier@3,6,1:Is9Xq":{config:{axis:"y"},position:{x:3,y:6,z:1},type:"barrier"},"barrier@3,6,2:Is9Xq":{config:{axis:"y"},position:{x:3,y:6,z:2},type:"barrier"},"barrier@3,7,0:Is9Xq":{config:{axis:"y"},position:{x:3,y:7,z:0},type:"barrier"},"barrier@3,7,1:Is9Xq":{config:{axis:"y"},position:{x:3,y:7,z:1},type:"barrier"},"barrier@3,7,2:Is9Xq":{config:{axis:"y"},position:{x:3,y:7,z:2},type:"barrier"},"door@3,0,0:1G5Tyx":{config:{axis:"x",toRoom:"blacktooth59"},position:{x:3,y:0,z:0},type:"door"},"pickup@0,4,0:1MkQY2":{config:{gives:"extra-life"},position:{x:0,y:4,z:0},type:"pickup"},"teleporter@0,6,0:Z1GJpW1":{config:{toRoom:"moonbase8"},position:{x:0,y:6,z:0},type:"teleporter"},"teleporter@0,7,0:Z1GJpW1":{config:{toRoom:"moonbase8"},position:{x:0,y:7,z:0},type:"teleporter"},"teleporter@1,6,0:Z1GJpW1":{config:{toRoom:"moonbase8"},position:{x:1,y:6,z:0},type:"teleporter"},"teleporter@1,7,0:Z1GJpW1":{config:{toRoom:"moonbase8"},position:{x:1,y:7,z:0},type:"teleporter"},"teleporter@6,6,0:Z1GJpW1":{config:{toRoom:"moonbase8"},position:{x:6,y:6,z:0},type:"teleporter"},"teleporter@6,7,0:Z1GJpW1":{config:{toRoom:"moonbase8"},position:{x:6,y:7,z:0},type:"teleporter"},"teleporter@7,6,0:Z1GJpW1":{config:{toRoom:"moonbase8"},position:{x:7,y:6,z:0},type:"teleporter"},"teleporter@7,7,0:Z1GJpW1":{config:{toRoom:"moonbase8"},position:{x:7,y:7,z:0},type:"teleporter"}},planet:"blacktooth",size:{x:8,y:8},walls:{away:["plain","armour","plain","shield","shield","plain","armour","plain"],left:["plain","armour","plain","shield","shield","plain","armour","plain"]}},blacktooth61:{color:"magenta",floor:"jail",floorSkip:[],id:"blacktooth61",items:{"baddie@3,7,1:Z1w4InY":{config:{which:"dalek"},position:{x:3,y:7,z:1},type:"baddie"},"door@1,0,0:1G5Sww":{config:{axis:"x",toRoom:"blacktooth55"},position:{x:1,y:0,z:0},type:"door"},"door@1,8,5:1jxtD5":{config:{axis:"x",toRoom:"blacktooth62fish"},position:{x:1,y:8,z:5},type:"door"},"hush-puppy@0,7,0:13y":{config:{},position:{x:0,y:7,z:0},type:"hush-puppy"},"hush-puppy@1,7,0:13y":{config:{},position:{x:1,y:7,z:0},type:"hush-puppy"},"hush-puppy@1,7,1:13y":{config:{},position:{x:1,y:7,z:1},type:"hush-puppy"},"hush-puppy@2,7,0:13y":{config:{},position:{x:2,y:7,z:0},type:"hush-puppy"},"hush-puppy@2,7,1:13y":{config:{},position:{x:2,y:7,z:1},type:"hush-puppy"},"hush-puppy@2,7,2:13y":{config:{},position:{x:2,y:7,z:2},type:"hush-puppy"},"portable-block@3,7,0:Z1SKpmn":{config:{style:"drum"},position:{x:3,y:7,z:0},type:"portable-block"}},planet:"jail",size:{x:4,y:8},walls:{away:["bars","none","none","bars"],left:["bars","bars","bars","bars","bars","bars","bars","bars"]}},blacktooth62fish:{color:"green",floor:"deadly",floorSkip:[],id:"blacktooth62fish",items:{"block@0,0,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:0,z:0},type:"block"},"block@0,10,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:10,z:0},type:"block"},"block@0,11,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:11,z:0},type:"block"},"block@0,12,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:12,z:0},type:"block"},"block@0,13,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:13,z:0},type:"block"},"block@0,14,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:14,z:0},type:"block"},"block@0,15,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:15,z:0},type:"block"},"block@0,7,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:7,z:0},type:"block"},"block@0,8,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:8,z:0},type:"block"},"block@0,9,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:9,z:0},type:"block"},"block@1,0,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:0,z:0},type:"block"},"block@1,12,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:12,z:0},type:"block"},"block@2,0,0:ZlEwyj":{config:{style:"organic"},position:{x:2,y:0,z:0},type:"block"},"block@3,0,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:0,z:0},type:"block"},"block@4,0,0:ZlEwyj":{config:{style:"organic"},position:{x:4,y:0,z:0},type:"block"},"block@5,0,0:ZlEwyj":{config:{style:"organic"},position:{x:5,y:0,z:0},type:"block"},"block@5,10,0:ZlEwyj":{config:{style:"organic"},position:{x:5,y:10,z:0},type:"block"},"block@5,15,0:ZlEwyj":{config:{style:"organic"},position:{x:5,y:15,z:0},type:"block"},"block@5,9,0:ZlEwyj":{config:{style:"organic"},position:{x:5,y:9,z:0},type:"block"},"conveyor@5,4,0:24hKaE":{config:{direction:"away"},position:{x:5,y:4,z:0},type:"conveyor"},"conveyor@5,5,0:24hKaE":{config:{direction:"away"},position:{x:5,y:5,z:0},type:"conveyor"},"conveyor@5,6,0:24hKaE":{config:{direction:"away"},position:{x:5,y:6,z:0},type:"conveyor"},"conveyor@5,7,0:24hKaE":{config:{direction:"away"},position:{x:5,y:7,z:0},type:"conveyor"},"conveyor@5,8,0:24hKaE":{config:{direction:"away"},position:{x:5,y:8,z:0},type:"conveyor"},"door@0,11,1:Z2fDzRk":{config:{axis:"y",toRoom:"blacktooth63"},position:{x:0,y:11,z:1},type:"door"},"door@2,0,1:1G60uS":{config:{axis:"x",toRoom:"blacktooth61"},position:{x:2,y:0,z:1},type:"door"},"fish@5,15,1:ZyDpHa":{config:{alive:!0},position:{x:5,y:15,z:1},type:"fish"},"portable-block@0,1,0:Z1UEQTQ":{config:{style:"cube"},position:{x:0,y:1,z:0},type:"portable-block"},"portable-block@0,2,0:Z1UEQTQ":{config:{style:"cube"},position:{x:0,y:2,z:0},type:"portable-block"},"spring@0,6,0:13y":{config:{},position:{x:0,y:6,z:0},type:"spring"},"spring@4,15,0:13y":{config:{},position:{x:4,y:15,z:0},type:"spring"},"spring@5,12,0:13y":{config:{},position:{x:5,y:12,z:0},type:"spring"}},planet:"jail",size:{x:6,y:16},walls:{away:["bars","bars","bars","bars","bars","bars"],left:["bars","bars","bars","bars","bars","bars","bars","bars","bars","bars","bars","bars","bars","bars","bars","bars"]}},blacktooth63:{color:"cyan",floor:"jail",floorSkip:[],id:"blacktooth63",items:{"baddie@4,1,0:v0szb":{config:{which:"helicopter-bug"},position:{x:4,y:1,z:0},type:"baddie"},"block@6,0,3:Z1bIU4r":{config:{style:"artificial"},position:{x:6,y:0,z:3},type:"block"},"block@6,1,3:Z1bIU4r":{config:{style:"artificial"},position:{x:6,y:1,z:3},type:"block"},"block@7,0,3:Z1bIU4r":{config:{style:"artificial"},position:{x:7,y:0,z:3},type:"block"},"block@7,1,3:Z1bIU4r":{config:{style:"artificial"},position:{x:7,y:1,z:3},type:"block"},"door@0,0,0:Z2fDGkb":{config:{axis:"y",toRoom:"blacktooth59"},position:{x:0,y:0,z:0},type:"door"},"door@8,0,5:1IRYlI":{config:{axis:"y",toRoom:"blacktooth62fish"},position:{x:8,y:0,z:5},type:"door"},"hush-puppy@3,0,0:13y":{config:{},position:{x:3,y:0,z:0},type:"hush-puppy"},"hush-puppy@3,1,0:13y":{config:{},position:{x:3,y:1,z:0},type:"hush-puppy"},"hush-puppy@4,0,1:13y":{config:{},position:{x:4,y:0,z:1},type:"hush-puppy"},"hush-puppy@4,1,1:13y":{config:{},position:{x:4,y:1,z:1},type:"hush-puppy"},"hush-puppy@5,0,2:13y":{config:{},position:{x:5,y:0,z:2},type:"hush-puppy"},"hush-puppy@5,1,2:13y":{config:{},position:{x:5,y:1,z:2},type:"hush-puppy"},"pickup@5,1,3:Zs6lvR":{config:{gives:"jumps"},position:{x:5,y:1,z:3},type:"pickup"}},planet:"jail",size:{x:8,y:2},walls:{away:["bars","bars","bars","bars","bars","bars","bars","bars"],left:["none","none"]}},blacktooth64:{color:"white",floor:"blacktooth",floorSkip:[],id:"blacktooth64",items:{"door@2,6,0:1G61wT":{config:{axis:"x",toRoom:"blacktooth65"},position:{x:2,y:6,z:0},type:"door"},"teleporter@2,2,0:Z1R6laV":{config:{toRoom:"moonbase31"},position:{x:2,y:2,z:0},type:"teleporter"},"teleporter@2,3,0:Z1R6laV":{config:{toRoom:"moonbase31"},position:{x:2,y:3,z:0},type:"teleporter"},"teleporter@3,2,0:Z1R6laV":{config:{toRoom:"moonbase31"},position:{x:3,y:2,z:0},type:"teleporter"},"teleporter@3,3,0:Z1R6laV":{config:{toRoom:"moonbase31"},position:{x:3,y:3,z:0},type:"teleporter"}},planet:"blacktooth",size:{x:6,y:6},walls:{away:["plain","shield","none","none","shield","plain"],left:["plain","armour","shield","shield","armour","plain"]}},blacktooth65:{color:"white",floor:"blacktooth",floorSkip:[],id:"blacktooth65",items:{"baddie@1,4,0:1VXxpH":{config:{startDirection:"right",which:"turtle"},position:{x:1,y:4,z:0},type:"baddie"},"door@0,0,0:1G61h9":{config:{axis:"x",toRoom:"blacktooth64"},position:{x:0,y:0,z:0},type:"door"},"door@0,8,0:1G61ME":{config:{axis:"x",toRoom:"blacktooth66"},position:{x:0,y:8,z:0},type:"door"}},planet:"blacktooth",size:{x:2,y:8},walls:{away:["none","none"],left:["plain","armour","plain","shield","shield","plain","armour","plain"]}},blacktooth66:{color:"white",floor:"blacktooth",floorSkip:[],id:"blacktooth66",items:{"door@0,3,0:Z2fDyPj":{config:{axis:"y",toRoom:"blacktooth67"},position:{x:0,y:3,z:0},type:"door"},"door@2,0,0:1G61wT":{config:{axis:"x",toRoom:"blacktooth65"},position:{x:2,y:0,z:0},type:"door"},"door@2,8,0:1G62ja":{config:{axis:"x",toRoom:"blacktooth68"},position:{x:2,y:8,z:0},type:"door"}},planet:"blacktooth",size:{x:6,y:8},walls:{away:["plain","shield","none","none","shield","plain"],left:["plain","armour","plain","shield","shield","plain","armour","plain"]}},blacktooth67:{color:"white",floor:"blacktooth",floorSkip:[],id:"blacktooth67",items:{"block@0,0,4:ZlEwyj":{config:{style:"organic"},position:{x:0,y:0,z:4},type:"block"},"block@0,1,4:ZlEwyj":{config:{style:"organic"},position:{x:0,y:1,z:4},type:"block"},"block@0,2,4:ZlEwyj":{config:{style:"organic"},position:{x:0,y:2,z:4},type:"block"},"block@0,3,4:ZlEwyj":{config:{style:"organic"},position:{x:0,y:3,z:4},type:"block"},"block@0,4,4:ZlEwyj":{config:{style:"organic"},position:{x:0,y:4,z:4},type:"block"},"block@0,5,4:ZlEwyj":{config:{style:"organic"},position:{x:0,y:5,z:4},type:"block"},"block@0,6,4:ZlEwyj":{config:{style:"organic"},position:{x:0,y:6,z:4},type:"block"},"block@0,7,4:ZlEwyj":{config:{style:"organic"},position:{x:0,y:7,z:4},type:"block"},"block@6,3,0:ZlEwyj":{config:{style:"organic"},position:{x:6,y:3,z:0},type:"block"},"block@7,3,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:3,z:0},type:"block"},"block@7,3,1:ZlEwyj":{config:{style:"organic"},position:{x:7,y:3,z:1},type:"block"},"block@7,4,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:4,z:0},type:"block"},"block@7,4,1:ZlEwyj":{config:{style:"organic"},position:{x:7,y:4,z:1},type:"block"},"block@7,4,2:ZlEwyj":{config:{style:"organic"},position:{x:7,y:4,z:2},type:"block"},"door@0,3,5:Z2fDyjN":{config:{axis:"y",toRoom:"blacktooth69"},position:{x:0,y:3,z:5},type:"door"},"door@3,8,4:1G68fv":{config:{axis:"x",toRoom:"blacktooth70"},position:{x:3,y:8,z:4},type:"door"},"door@8,3,4:Z2fDz64":{config:{axis:"y",toRoom:"blacktooth66"},position:{x:8,y:3,z:4},type:"door"},"spring@0,0,5:13y":{config:{},position:{x:0,y:0,z:5},type:"spring"}},planet:"blacktooth",size:{x:8,y:8},walls:{away:["plain","shield","plain","none","none","plain","shield","plain"],left:["plain","shield","plain","none","none","plain","shield","plain"]}},blacktooth68:{color:"white",floor:"deadly",floorSkip:[],id:"blacktooth68",items:{"block@0,0,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:0,z:0},type:"block"},"block@0,0,1:ZlEwyj":{config:{style:"organic"},position:{x:0,y:0,z:1},type:"block"},"block@0,0,2:ZlEwyj":{config:{style:"organic"},position:{x:0,y:0,z:2},type:"block"},"block@0,5,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:5,z:0},type:"block"},"block@0,5,1:ZlEwyj":{config:{style:"organic"},position:{x:0,y:5,z:1},type:"block"},"block@0,5,2:ZlEwyj":{config:{style:"organic"},position:{x:0,y:5,z:2},type:"block"},"block@2,7,0:ZlEwyj":{config:{style:"organic"},position:{x:2,y:7,z:0},type:"block"},"block@2,7,1:ZlEwyj":{config:{style:"organic"},position:{x:2,y:7,z:1},type:"block"},"block@2,7,2:ZlEwyj":{config:{style:"organic"},position:{x:2,y:7,z:2},type:"block"},"block@3,0,3:ZlEwyj":{config:{style:"organic"},position:{x:3,y:0,z:3},type:"block"},"block@4,0,3:ZlEwyj":{config:{style:"organic"},position:{x:4,y:0,z:3},type:"block"},"block@7,4,3:ZlEwyj":{config:{style:"organic"},position:{x:7,y:4,z:3},type:"block"},"block@7,7,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:7,z:0},type:"block"},"block@7,7,1:ZlEwyj":{config:{style:"organic"},position:{x:7,y:7,z:1},type:"block"},"block@7,7,2:ZlEwyj":{config:{style:"organic"},position:{x:7,y:7,z:2},type:"block"},"door@3,0,5:1G61ME":{config:{axis:"x",toRoom:"blacktooth66"},position:{x:3,y:0,z:5},type:"door"},"door@8,3,5:Z2fDr5G":{config:{axis:"y",toRoom:"blacktooth76"},position:{x:8,y:3,z:5},type:"door"}},planet:"blacktooth",size:{x:8,y:8},walls:{away:["plain","armour","plain","shield","shield","plain","armour","plain"],left:["plain","shield","plain","none","none","plain","shield","plain"]}},blacktooth69:{color:"white",floor:"blacktooth",floorSkip:[],id:"blacktooth69",items:{"door@6,2,0:Z2fDyPj":{config:{axis:"y",toRoom:"blacktooth67"},position:{x:6,y:2,z:0},type:"door"},"teleporter@2,2,0:Z1R6jSa":{config:{toRoom:"moonbase36"},position:{x:2,y:2,z:0},type:"teleporter"},"teleporter@2,3,0:Z1R6jSa":{config:{toRoom:"moonbase36"},position:{x:2,y:3,z:0},type:"teleporter"},"teleporter@3,2,0:Z1R6jSa":{config:{toRoom:"moonbase36"},position:{x:3,y:2,z:0},type:"teleporter"},"teleporter@3,3,0:Z1R6jSa":{config:{toRoom:"moonbase36"},position:{x:3,y:3,z:0},type:"teleporter"}},planet:"blacktooth",size:{x:6,y:6},walls:{away:["plain","armour","shield","shield","armour","plain"],left:["plain","shield","none","none","shield","plain"]}},blacktooth7:{color:"white",floor:"blacktooth",floorSkip:[],id:"blacktooth7",items:{"door@0,0,0:WpJI8":{config:{axis:"x",toRoom:"blacktooth8fish"},position:{x:0,y:0,z:0},type:"door"},"door@0,8,0:dkfFE":{config:{axis:"x",toRoom:"blacktooth5"},position:{x:0,y:8,z:0},type:"door"},"door@2,3,0:Z2fEfFt":{config:{axis:"y",toRoom:"blacktooth10"},position:{x:2,y:3,z:0},type:"door"}},planet:"blacktooth",size:{x:2,y:8},walls:{away:["none","none"],left:["plain","shield","plain","none","none","plain","shield","plain"]}},blacktooth70:{color:"white",floor:"blacktooth",floorSkip:[],id:"blacktooth70",items:{"block@0,5,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:5,z:0},type:"block"},"block@0,5,1:ZlEwyj":{config:{style:"organic"},position:{x:0,y:5,z:1},type:"block"},"block@0,6,1:ZlEwyj":{config:{style:"organic"},position:{x:0,y:6,z:1},type:"block"},"block@0,7,1:ZlEwyj":{config:{style:"organic"},position:{x:0,y:7,z:1},type:"block"},"block@1,5,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:5,z:0},type:"block"},"block@1,5,1:ZlEwyj":{config:{style:"organic"},position:{x:1,y:5,z:1},type:"block"},"block@1,6,1:ZlEwyj":{config:{style:"organic"},position:{x:1,y:6,z:1},type:"block"},"block@1,7,1:ZlEwyj":{config:{style:"organic"},position:{x:1,y:7,z:1},type:"block"},"deadly-block@0,5,4:ZWGEjo":{config:{style:"volcano"},position:{x:0,y:5,z:4},type:"deadly-block"},"deadly-block@1,5,2:ZWGEjo":{config:{style:"volcano"},position:{x:1,y:5,z:2},type:"deadly-block"},"deadly-block@1,5,3:ZWGEjo":{config:{style:"volcano"},position:{x:1,y:5,z:3},type:"deadly-block"},"deadly-block@1,5,4:ZWGEjo":{config:{style:"volcano"},position:{x:1,y:5,z:4},type:"deadly-block"},"door@0,0,0:1G623p":{config:{axis:"x",toRoom:"blacktooth67"},position:{x:0,y:0,z:0},type:"door"},"door@0,8,3:1G68vg":{config:{axis:"x",toRoom:"blacktooth71"},position:{x:0,y:8,z:3},type:"door"}},planet:"blacktooth",size:{x:2,y:8},walls:{away:["none","none"],left:["plain","armour","plain","shield","shield","plain","armour","plain"]}},blacktooth71:{color:"white",floor:"blacktooth",floorSkip:[],id:"blacktooth71",items:{"baddie@2,3,0:Z1w4InY":{config:{which:"dalek"},position:{x:2,y:3,z:0},type:"baddie"},"block@0,2,3:ZlEwyj":{config:{style:"organic"},position:{x:0,y:2,z:3},type:"block"},"block@0,3,3:ZlEwyj":{config:{style:"organic"},position:{x:0,y:3,z:3},type:"block"},"deadly-block@2,0,0:ZWGEjo":{config:{style:"volcano"},position:{x:2,y:0,z:0},type:"deadly-block"},"deadly-block@2,1,0:ZWGEjo":{config:{style:"volcano"},position:{x:2,y:1,z:0},type:"deadly-block"},"deadly-block@2,4,0:ZWGEjo":{config:{style:"volcano"},position:{x:2,y:4,z:0},type:"deadly-block"},"deadly-block@2,5,0:ZWGEjo":{config:{style:"volcano"},position:{x:2,y:5,z:0},type:"deadly-block"},"deadly-block@3,2,0:ZWGEjo":{config:{style:"volcano"},position:{x:3,y:2,z:0},type:"deadly-block"},"deadly-block@3,3,0:ZWGEjo":{config:{style:"volcano"},position:{x:3,y:3,z:0},type:"deadly-block"},"door@0,2,4:Z2fDqOV":{config:{axis:"y",toRoom:"blacktooth77"},position:{x:0,y:2,z:4},type:"door"},"door@3,0,0:1G68fv":{config:{axis:"x",toRoom:"blacktooth70"},position:{x:3,y:0,z:0},type:"door"},"door@3,6,0:1G68L1":{config:{axis:"x",toRoom:"blacktooth72"},position:{x:3,y:6,z:0},type:"door"},"portable-block@0,5,0:Z1UEQTQ":{config:{style:"cube"},position:{x:0,y:5,z:0},type:"portable-block"}},planet:"blacktooth",size:{x:8,y:6},walls:{away:["plain","shield","plain","none","none","plain","shield","plain"],left:["plain","armour","shield","shield","armour","plain"]}},blacktooth72:{color:"white",floor:"blacktooth",floorSkip:[],id:"blacktooth72",items:{"baddie@0,5,0:Z1w4InY":{config:{which:"dalek"},position:{x:0,y:5,z:0},type:"baddie"},"baddie@7,4,0:Z1w4InY":{config:{which:"dalek"},position:{x:7,y:4,z:0},type:"baddie"},"block@7,3,2:ZlEwyj":{config:{style:"organic"},position:{x:7,y:3,z:2},type:"block"},"block@7,4,1:ZlEwyj":{config:{style:"organic"},position:{x:7,y:4,z:1},type:"block"},"block@7,5,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:5,z:0},type:"block"},"door@0,2,0:Z2fDqzb":{config:{axis:"y",toRoom:"blacktooth78"},position:{x:0,y:2,z:0},type:"door"},"door@3,0,0:1G68vg":{config:{axis:"x",toRoom:"blacktooth71"},position:{x:3,y:0,z:0},type:"door"},"door@8,2,4:Z2fDrQW":{config:{axis:"y",toRoom:"blacktooth73"},position:{x:8,y:2,z:4},type:"door"}},planet:"blacktooth",size:{x:8,y:6},walls:{away:["plain","armour","plain","shield","shield","plain","armour","plain"],left:["plain","shield","none","none","shield","plain"]}},blacktooth73:{color:"white",floor:"deadly",floorSkip:[],id:"blacktooth73",items:{"block@0,2,3:ZlEwyj":{config:{style:"organic"},position:{x:0,y:2,z:3},type:"block"},"block@0,3,3:ZlEwyj":{config:{style:"organic"},position:{x:0,y:3,z:3},type:"block"},"block@1,5,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:5,z:0},type:"block"},"block@2,5,0:ZlEwyj":{config:{style:"organic"},position:{x:2,y:5,z:0},type:"block"},"block@3,5,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:5,z:0},type:"block"},"block@3,5,1:ZlEwyj":{config:{style:"organic"},position:{x:3,y:5,z:1},type:"block"},"block@3,5,2:ZlEwyj":{config:{style:"organic"},position:{x:3,y:5,z:2},type:"block"},"block@3,5,4:ZlEwyj":{config:{style:"organic"},position:{x:3,y:5,z:4},type:"block"},"block@4,5,0:ZlEwyj":{config:{style:"organic"},position:{x:4,y:5,z:0},type:"block"},"block@5,5,0:ZlEwyj":{config:{style:"organic"},position:{x:5,y:5,z:0},type:"block"},"block@6,5,0:ZlEwyj":{config:{style:"organic"},position:{x:6,y:5,z:0},type:"block"},"block@7,2,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:2,z:0},type:"block"},"block@7,3,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:3,z:0},type:"block"},"block@7,5,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:5,z:0},type:"block"},"deadly-block@5,5,2:ZWGEjo":{config:{style:"volcano"},position:{x:5,y:5,z:2},type:"deadly-block"},"deadly-block@6,5,2:ZWGEjo":{config:{style:"volcano"},position:{x:6,y:5,z:2},type:"deadly-block"},"deadly-block@7,5,3:ZWGEjo":{config:{style:"volcano"},position:{x:7,y:5,z:3},type:"deadly-block"},"door@0,2,4:Z2fDs7H":{config:{axis:"y",toRoom:"blacktooth72"},position:{x:0,y:2,z:4},type:"door"},"door@8,2,2:Z2fDrBc":{config:{axis:"y",toRoom:"blacktooth74"},position:{x:8,y:2,z:2},type:"door"},"hush-puppy@0,1,2:13y":{config:{},position:{x:0,y:1,z:2},type:"hush-puppy"},"hush-puppy@1,1,1:13y":{config:{},position:{x:1,y:1,z:1},type:"hush-puppy"},"hush-puppy@2,1,0:13y":{config:{},position:{x:2,y:1,z:0},type:"hush-puppy"},"hush-puppy@4,1,0:13y":{config:{},position:{x:4,y:1,z:0},type:"hush-puppy"},"hush-puppy@4,3,0:13y":{config:{},position:{x:4,y:3,z:0},type:"hush-puppy"}},planet:"blacktooth",size:{x:8,y:6},walls:{away:["plain","armour","plain","shield","shield","plain","armour","plain"],left:["plain","shield","none","none","shield","plain"]}},blacktooth74:{color:"white",floor:"blacktooth",floorSkip:[],id:"blacktooth74",items:{"baddie@3,3,0:1iWArK":{config:{which:"monkey"},position:{x:3,y:3,z:0},type:"baddie"},"block@0,2,4:ZlEwyj":{config:{style:"organic"},position:{x:0,y:2,z:4},type:"block"},"block@0,3,4:ZlEwyj":{config:{style:"organic"},position:{x:0,y:3,z:4},type:"block"},"block@1,3,4:ZlEwyj":{config:{style:"organic"},position:{x:1,y:3,z:4},type:"block"},"block@2,3,4:ZlEwyj":{config:{style:"organic"},position:{x:2,y:3,z:4},type:"block"},"block@3,3,4:ZlEwyj":{config:{style:"organic"},position:{x:3,y:3,z:4},type:"block"},"block@4,3,4:ZlEwyj":{config:{style:"organic"},position:{x:4,y:3,z:4},type:"block"},"block@5,3,4:ZlEwyj":{config:{style:"organic"},position:{x:5,y:3,z:4},type:"block"},"door@0,2,5:Z2fDrQW":{config:{axis:"y",toRoom:"blacktooth73"},position:{x:0,y:2,z:5},type:"door"},"door@2,0,1:1G69xh":{config:{axis:"x",toRoom:"blacktooth75"},position:{x:2,y:0,z:1},type:"door"},"pickup@5,3,5:Z2prF0G":{config:{gives:"donuts"},position:{x:5,y:3,z:5},type:"pickup"},"portable-block@0,2,0:Z1UEQTQ":{config:{style:"cube"},position:{x:0,y:2,z:0},type:"portable-block"},"portable-block@4,5,0:Z1UEQTQ":{config:{style:"cube"},position:{x:4,y:5,z:0},type:"portable-block"},"portable-block@5,0,0:Z1UEQTQ":{config:{style:"cube"},position:{x:5,y:0,z:0},type:"portable-block"}},planet:"blacktooth",size:{x:6,y:6},walls:{away:["plain","armour","shield","shield","armour","plain"],left:["plain","armour","shield","shield","armour","plain"]}},blacktooth75:{color:"white",floor:"blacktooth",floorSkip:[],id:"blacktooth75",items:{"baddie@1,3,0:Z1w4InY":{config:{which:"dalek"},position:{x:1,y:3,z:0},type:"baddie"},"baddie@4,4,0:Z1w4InY":{config:{which:"dalek"},position:{x:4,y:4,z:0},type:"baddie"},"deadly-block@0,1,0:ZWGEjo":{config:{style:"volcano"},position:{x:0,y:1,z:0},type:"deadly-block"},"deadly-block@0,2,0:ZWGEjo":{config:{style:"volcano"},position:{x:0,y:2,z:0},type:"deadly-block"},"deadly-block@0,3,0:ZWGEjo":{config:{style:"volcano"},position:{x:0,y:3,z:0},type:"deadly-block"},"deadly-block@0,4,0:ZWGEjo":{config:{style:"volcano"},position:{x:0,y:4,z:0},type:"deadly-block"},"deadly-block@0,5,0:ZWGEjo":{config:{style:"volcano"},position:{x:0,y:5,z:0},type:"deadly-block"},"deadly-block@0,6,0:ZWGEjo":{config:{style:"volcano"},position:{x:0,y:6,z:0},type:"deadly-block"},"deadly-block@1,4,0:ZWGEjo":{config:{style:"volcano"},position:{x:1,y:4,z:0},type:"deadly-block"},"deadly-block@4,3,0:ZWGEjo":{config:{style:"volcano"},position:{x:4,y:3,z:0},type:"deadly-block"},"deadly-block@5,1,0:ZWGEjo":{config:{style:"volcano"},position:{x:5,y:1,z:0},type:"deadly-block"},"deadly-block@5,2,0:ZWGEjo":{config:{style:"volcano"},position:{x:5,y:2,z:0},type:"deadly-block"},"deadly-block@5,3,0:ZWGEjo":{config:{style:"volcano"},position:{x:5,y:3,z:0},type:"deadly-block"},"deadly-block@5,4,0:ZWGEjo":{config:{style:"volcano"},position:{x:5,y:4,z:0},type:"deadly-block"},"deadly-block@5,5,0:ZWGEjo":{config:{style:"volcano"},position:{x:5,y:5,z:0},type:"deadly-block"},"deadly-block@5,6,0:ZWGEjo":{config:{style:"volcano"},position:{x:5,y:6,z:0},type:"deadly-block"},"door@2,0,1:1G69N2":{config:{axis:"x",toRoom:"blacktooth76"},position:{x:2,y:0,z:1},type:"door"},"door@2,8,2:1G69hw":{config:{axis:"x",toRoom:"blacktooth74"},position:{x:2,y:8,z:2},type:"door"}},planet:"blacktooth",size:{x:6,y:8},walls:{away:["plain","shield","none","none","shield","plain"],left:["plain","armour","plain","shield","shield","plain","armour","plain"]}},blacktooth76:{color:"white",floor:"blacktooth",floorSkip:[],id:"blacktooth76",items:{"baddie@2,2,0:yqEry":{config:{startDirection:"right",which:"american-football-head"},position:{x:2,y:2,z:0},type:"baddie"},"baddie@2,7,0:1VXxpH":{config:{startDirection:"right",which:"turtle"},position:{x:2,y:7,z:0},type:"baddie"},"deadly-block@1,2,0:ZWGEjo":{config:{style:"volcano"},position:{x:1,y:2,z:0},type:"deadly-block"},"deadly-block@2,1,0:ZWGEjo":{config:{style:"volcano"},position:{x:2,y:1,z:0},type:"deadly-block"},"deadly-block@2,6,0:ZWGEjo":{config:{style:"volcano"},position:{x:2,y:6,z:0},type:"deadly-block"},"deadly-block@2,6,1:ZWGEjo":{config:{style:"volcano"},position:{x:2,y:6,z:1},type:"deadly-block"},"deadly-block@2,7,1:ZWGEjo":{config:{style:"volcano"},position:{x:2,y:7,z:1},type:"deadly-block"},"deadly-block@3,4,0:ZWGEjo":{config:{style:"volcano"},position:{x:3,y:4,z:0},type:"deadly-block"},"deadly-block@4,3,0:ZWGEjo":{config:{style:"volcano"},position:{x:4,y:3,z:0},type:"deadly-block"},"deadly-block@5,1,0:ZWGEjo":{config:{style:"volcano"},position:{x:5,y:1,z:0},type:"deadly-block"},"deadly-block@5,6,0:ZWGEjo":{config:{style:"volcano"},position:{x:5,y:6,z:0},type:"deadly-block"},"deadly-block@6,2,0:ZWGEjo":{config:{style:"volcano"},position:{x:6,y:2,z:0},type:"deadly-block"},"deadly-block@6,2,1:ZWGEjo":{config:{style:"volcano"},position:{x:6,y:2,z:1},type:"deadly-block"},"deadly-block@6,5,0:ZWGEjo":{config:{style:"volcano"},position:{x:6,y:5,z:0},type:"deadly-block"},"deadly-block@7,2,1:ZWGEjo":{config:{style:"volcano"},position:{x:7,y:2,z:1},type:"deadly-block"},"door@0,3,0:Z2fDyzy":{config:{axis:"y",toRoom:"blacktooth68"},position:{x:0,y:3,z:0},type:"door"},"door@3,8,0:1G69xh":{config:{axis:"x",toRoom:"blacktooth75"},position:{x:3,y:8,z:0},type:"door"}},planet:"blacktooth",size:{x:8,y:8},walls:{away:["plain","shield","plain","none","none","plain","shield","plain"],left:["plain","armour","plain","shield","shield","plain","armour","plain"]}},blacktooth77:{color:"white",floor:"blacktooth",floorSkip:[],id:"blacktooth77",items:{"barrier@4,0,0:Is9Xq":{config:{axis:"y"},position:{x:4,y:0,z:0},type:"barrier"},"barrier@4,0,1:Is9Xq":{config:{axis:"y"},position:{x:4,y:0,z:1},type:"barrier"},"barrier@4,0,2:Is9Xq":{config:{axis:"y"},position:{x:4,y:0,z:2},type:"barrier"},"barrier@4,0,3:Is9Xq":{config:{axis:"y"},position:{x:4,y:0,z:3},type:"barrier"},"barrier@4,0,4:Is9Xq":{config:{axis:"y"},position:{x:4,y:0,z:4},type:"barrier"},"barrier@4,0,5:Is9Xq":{config:{axis:"y"},position:{x:4,y:0,z:5},type:"barrier"},"barrier@4,1,0:Is9Xq":{config:{axis:"y"},position:{x:4,y:1,z:0},type:"barrier"},"barrier@4,1,1:Is9Xq":{config:{axis:"y"},position:{x:4,y:1,z:1},type:"barrier"},"barrier@4,1,2:Is9Xq":{config:{axis:"y"},position:{x:4,y:1,z:2},type:"barrier"},"barrier@4,1,3:Is9Xq":{config:{axis:"y"},position:{x:4,y:1,z:3},type:"barrier"},"barrier@4,1,5:Is9Xq":{config:{axis:"y"},position:{x:4,y:1,z:5},type:"barrier"},"barrier@4,2,0:Is9Xq":{config:{axis:"y"},position:{x:4,y:2,z:0},type:"barrier"},"barrier@4,2,1:Is9Xq":{config:{axis:"y"},position:{x:4,y:2,z:1},type:"barrier"},"barrier@4,2,2:Is9Xq":{config:{axis:"y"},position:{x:4,y:2,z:2},type:"barrier"},"barrier@4,2,3:Is9Xq":{config:{axis:"y"},position:{x:4,y:2,z:3},type:"barrier"},"barrier@4,2,4:Is9Xq":{config:{axis:"y"},position:{x:4,y:2,z:4},type:"barrier"},"barrier@4,2,5:Is9Xq":{config:{axis:"y"},position:{x:4,y:2,z:5},type:"barrier"},"barrier@4,3,0:Is9Xq":{config:{axis:"y"},position:{x:4,y:3,z:0},type:"barrier"},"barrier@4,3,1:Is9Xq":{config:{axis:"y"},position:{x:4,y:3,z:1},type:"barrier"},"barrier@4,3,2:Is9Xq":{config:{axis:"y"},position:{x:4,y:3,z:2},type:"barrier"},"barrier@4,3,3:Is9Xq":{config:{axis:"y"},position:{x:4,y:3,z:3},type:"barrier"},"barrier@4,3,4:Is9Xq":{config:{axis:"y"},position:{x:4,y:3,z:4},type:"barrier"},"barrier@4,3,5:Is9Xq":{config:{axis:"y"},position:{x:4,y:3,z:5},type:"barrier"},"door@0,1,0:Z2fDjAO":{config:{axis:"y",toRoom:"blacktooth84"},position:{x:0,y:1,z:0},type:"door"},"door@8,1,0:Z2fDsns":{config:{axis:"y",toRoom:"blacktooth71"},position:{x:8,y:1,z:0},type:"door"},"movable-block@3,1,0:Z15GVb5":{config:{style:"anvil"},position:{x:3,y:1,z:0},type:"movable-block"},"portable-block@3,3,0:Z1UEQTQ":{config:{style:"cube"},position:{x:3,y:3,z:0},type:"portable-block"},"portable-block@4,0,6:Z1UEQTQ":{config:{style:"cube"},position:{x:4,y:0,z:6},type:"portable-block"}},planet:"blacktooth",size:{x:8,y:4},walls:{away:["plain","armour","plain","shield","shield","plain","armour","plain"],left:["shield","none","none","shield"]}},blacktooth78:{color:"white",floor:"blacktooth",floorSkip:[],id:"blacktooth78",items:{"baddie@4,4,0:Z1w4InY":{config:{which:"dalek"},position:{x:4,y:4,z:0},type:"baddie"},"block@0,1,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:1,z:0},type:"block"},"block@3,7,3:ZlEwyj":{config:{style:"organic"},position:{x:3,y:7,z:3},type:"block"},"block@4,7,3:ZlEwyj":{config:{style:"organic"},position:{x:4,y:7,z:3},type:"block"},"block@7,2,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:2,z:0},type:"block"},"block@7,3,2:ZlEwyj":{config:{style:"organic"},position:{x:7,y:3,z:2},type:"block"},"deadly-block@1,0,0:ZWGEjo":{config:{style:"volcano"},position:{x:1,y:0,z:0},type:"deadly-block"},"deadly-block@1,0,1:ZWGEjo":{config:{style:"volcano"},position:{x:1,y:0,z:1},type:"deadly-block"},"deadly-block@1,2,0:ZWGEjo":{config:{style:"volcano"},position:{x:1,y:2,z:0},type:"deadly-block"},"deadly-block@1,2,1:ZWGEjo":{config:{style:"volcano"},position:{x:1,y:2,z:1},type:"deadly-block"},"deadly-block@2,1,0:ZWGEjo":{config:{style:"volcano"},position:{x:2,y:1,z:0},type:"deadly-block"},"deadly-block@2,1,1:ZWGEjo":{config:{style:"volcano"},position:{x:2,y:1,z:1},type:"deadly-block"},"door@3,8,5:1G6gfS":{config:{axis:"x",toRoom:"blacktooth80"},position:{x:3,y:8,z:5},type:"door"},"door@8,3,5:Z2fDs7H":{config:{axis:"y",toRoom:"blacktooth72"},position:{x:8,y:3,z:5},type:"door"},"lift@1,1,0:ZTwqnv":{config:{bottom:0,top:9},position:{x:1,y:1,z:0},type:"lift"},"movable-block@0,1,1:Z15GVb5":{config:{style:"anvil"},position:{x:0,y:1,z:1},type:"movable-block"},"movable-block@1,1,1:Z15GVb5":{config:{style:"anvil"},position:{x:1,y:1,z:1},type:"movable-block"}},planet:"blacktooth",roomAbove:"blacktooth79fish",size:{x:8,y:8},walls:{away:["plain","shield","plain","none","none","plain","shield","plain"],left:["plain","shield","plain","none","none","plain","shield","plain"]}},blacktooth79fish:{color:"white",floor:"none",floorSkip:[],id:"blacktooth79fish",items:{"block@1,0,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:0,z:0},type:"block"},"block@1,1,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:1,z:0},type:"block"},"block@1,2,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:2,z:0},type:"block"},"block@1,3,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:3,z:0},type:"block"},"block@1,4,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:4,z:0},type:"block"},"block@1,5,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:5,z:0},type:"block"},"block@1,6,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:6,z:0},type:"block"},"block@1,7,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:7,z:0},type:"block"},"block@6,0,0:ZlEwyj":{config:{style:"organic"},position:{x:6,y:0,z:0},type:"block"},"block@7,0,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:0,z:0},type:"block"},"fish@7,0,1:ZyDpHa":{config:{alive:!0},position:{x:7,y:0,z:1},type:"fish"}},planet:"blacktooth",roomBelow:"blacktooth78",size:{x:8,y:8},walls:{away:["plain","armour","plain","shield","shield","plain","armour","plain"],left:["plain","armour","plain","shield","shield","plain","armour","plain"]}},blacktooth80:{color:"white",floor:"blacktooth",floorSkip:[],id:"blacktooth80",items:{"baddie@2,4,0:NUdjE":{config:{startDirection:"towards",which:"american-football-head"},position:{x:2,y:4,z:0},type:"baddie"},"deadly-block@0,3,0:ZWGEjo":{config:{style:"volcano"},position:{x:0,y:3,z:0},type:"deadly-block"},"deadly-block@0,4,0:ZWGEjo":{config:{style:"volcano"},position:{x:0,y:4,z:0},type:"deadly-block"},"deadly-block@0,5,0:ZWGEjo":{config:{style:"volcano"},position:{x:0,y:5,z:0},type:"deadly-block"},"deadly-block@1,2,0:ZWGEjo":{config:{style:"volcano"},position:{x:1,y:2,z:0},type:"deadly-block"},"deadly-block@1,5,0:ZWGEjo":{config:{style:"volcano"},position:{x:1,y:5,z:0},type:"deadly-block"},"deadly-block@2,2,0:ZWGEjo":{config:{style:"volcano"},position:{x:2,y:2,z:0},type:"deadly-block"},"deadly-block@2,5,0:ZWGEjo":{config:{style:"volcano"},position:{x:2,y:5,z:0},type:"deadly-block"},"deadly-block@3,3,0:ZWGEjo":{config:{style:"volcano"},position:{x:3,y:3,z:0},type:"deadly-block"},"deadly-block@3,4,0:ZWGEjo":{config:{style:"volcano"},position:{x:3,y:4,z:0},type:"deadly-block"},"deadly-block@3,5,0:ZWGEjo":{config:{style:"volcano"},position:{x:3,y:5,z:0},type:"deadly-block"},"door@1,0,0:1G6ajx":{config:{axis:"x",toRoom:"blacktooth78"},position:{x:1,y:0,z:0},type:"door"},"door@1,8,0:1G6gvD":{config:{axis:"x",toRoom:"blacktooth81"},position:{x:1,y:8,z:0},type:"door"}},planet:"blacktooth",size:{x:4,y:8},walls:{away:["shield","none","none","shield"],left:["plain","armour","plain","shield","shield","plain","armour","plain"]}},blacktooth81:{color:"white",floor:"blacktooth",floorSkip:[],id:"blacktooth81",items:{"baddie@6,7,1:Z1w4InY":{config:{which:"dalek"},position:{x:6,y:7,z:1},type:"baddie"},"block@0,7,2:ZlEwyj":{config:{style:"organic"},position:{x:0,y:7,z:2},type:"block"},"block@7,0,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:0,z:0},type:"block"},"block@7,1,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:1,z:0},type:"block"},"block@7,2,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:2,z:0},type:"block"},"block@7,3,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:3,z:0},type:"block"},"block@7,4,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:4,z:0},type:"block"},"block@7,5,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:5,z:0},type:"block"},"block@7,6,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:6,z:0},type:"block"},"block@7,7,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:7,z:0},type:"block"},"charles@0,7,3:13y":{config:{},position:{x:0,y:7,z:3},type:"charles"},"door@3,0,0:1G6gfS":{config:{axis:"x",toRoom:"blacktooth80"},position:{x:3,y:0,z:0},type:"door"},"door@8,3,5:Z2fDk7k":{config:{axis:"y",toRoom:"blacktooth82"},position:{x:8,y:3,z:5},type:"door"},"joystick@1,2,0:13y":{config:{},position:{x:1,y:2,z:0},type:"joystick"},"joystick@1,5,0:13y":{config:{},position:{x:1,y:5,z:0},type:"joystick"},"joystick@4,2,0:13y":{config:{},position:{x:4,y:2,z:0},type:"joystick"},"joystick@4,5,0:13y":{config:{},position:{x:4,y:5,z:0},type:"joystick"},"movable-block@6,7,0:Z15GVb5":{config:{style:"anvil"},position:{x:6,y:7,z:0},type:"movable-block"}},planet:"blacktooth",size:{x:8,y:8},walls:{away:["plain","armour","plain","shield","shield","plain","armour","plain"],left:["plain","shield","plain","none","none","plain","shield","plain"]}},blacktooth82:{color:"white",floor:"blacktooth",floorSkip:[],id:"blacktooth82",items:{"baddie@2,2,0:NUdjE":{config:{startDirection:"towards",which:"american-football-head"},position:{x:2,y:2,z:0},type:"baddie"},"baddie@5,3,0:NUdjE":{config:{startDirection:"towards",which:"american-football-head"},position:{x:5,y:3,z:0},type:"baddie"},"deadly-block@2,0,0:ZWGEjo":{config:{style:"volcano"},position:{x:2,y:0,z:0},type:"deadly-block"},"deadly-block@2,1,0:ZWGEjo":{config:{style:"volcano"},position:{x:2,y:1,z:0},type:"deadly-block"},"deadly-block@2,1,1:ZWGEjo":{config:{style:"volcano"},position:{x:2,y:1,z:1},type:"deadly-block"},"deadly-block@2,5,0:ZWGEjo":{config:{style:"volcano"},position:{x:2,y:5,z:0},type:"deadly-block"},"deadly-block@3,3,0:ZWGEjo":{config:{style:"volcano"},position:{x:3,y:3,z:0},type:"deadly-block"},"deadly-block@3,5,0:ZWGEjo":{config:{style:"volcano"},position:{x:3,y:5,z:0},type:"deadly-block"},"deadly-block@4,0,0:ZWGEjo":{config:{style:"volcano"},position:{x:4,y:0,z:0},type:"deadly-block"},"deadly-block@4,2,0:ZWGEjo":{config:{style:"volcano"},position:{x:4,y:2,z:0},type:"deadly-block"},"deadly-block@5,0,0:ZWGEjo":{config:{style:"volcano"},position:{x:5,y:0,z:0},type:"deadly-block"},"deadly-block@5,4,0:ZWGEjo":{config:{style:"volcano"},position:{x:5,y:4,z:0},type:"deadly-block"},"deadly-block@5,4,1:ZWGEjo":{config:{style:"volcano"},position:{x:5,y:4,z:1},type:"deadly-block"},"deadly-block@5,5,0:ZWGEjo":{config:{style:"volcano"},position:{x:5,y:5,z:0},type:"deadly-block"},"door@0,2,0:Z2fDkn5":{config:{axis:"y",toRoom:"blacktooth81"},position:{x:0,y:2,z:0},type:"door"},"door@8,2,0:Z1AyjTw":{config:{axis:"y",toRoom:"blacktooth83tofreedom"},position:{x:8,y:2,z:0},type:"door"}},planet:"blacktooth",size:{x:8,y:6},walls:{away:["plain","armour","plain","shield","shield","plain","armour","plain"],left:["plain","shield","none","none","shield","plain"]}},blacktooth83tofreedom:{color:"white",floor:"deadly",floorSkip:[],id:"blacktooth83tofreedom",items:{"block@0,2,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:2,z:0},type:"block"},"block@0,3,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:3,z:0},type:"block"},"block@0,4,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:4,z:0},type:"block"},"block@0,5,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:5,z:0},type:"block"},"block@0,7,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:7,z:0},type:"block"},"block@0,7,1:ZlEwyj":{config:{style:"organic"},position:{x:0,y:7,z:1},type:"block"},"block@0,7,3:ZlEwyj":{config:{style:"organic"},position:{x:0,y:7,z:3},type:"block"},"block@5,3,0:ZlEwyj":{config:{style:"organic"},position:{x:5,y:3,z:0},type:"block"},"block@5,3,1:ZlEwyj":{config:{style:"organic"},position:{x:5,y:3,z:1},type:"block"},"block@5,3,2:ZlEwyj":{config:{style:"organic"},position:{x:5,y:3,z:2},type:"block"},"block@5,7,0:ZlEwyj":{config:{style:"organic"},position:{x:5,y:7,z:0},type:"block"},"block@5,7,1:ZlEwyj":{config:{style:"organic"},position:{x:5,y:7,z:1},type:"block"},"block@5,7,2:ZlEwyj":{config:{style:"organic"},position:{x:5,y:7,z:2},type:"block"},"block@6,2,2:Z1bIU4r":{config:{style:"artificial"},position:{x:6,y:2,z:2},type:"block"},"block@7,1,2:Z1bIU4r":{config:{style:"artificial"},position:{x:7,y:1,z:2},type:"block"},"block@7,2,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:2,z:0},type:"block"},"block@7,3,2:Z1bIU4r":{config:{style:"artificial"},position:{x:7,y:3,z:2},type:"block"},"door@0,3,1:Z2fDk7k":{config:{axis:"y",toRoom:"blacktooth82"},position:{x:0,y:3,z:1},type:"door"},"hush-puppy@0,0,0:13y":{config:{},position:{x:0,y:0,z:0},type:"hush-puppy"},"hush-puppy@3,0,0:13y":{config:{},position:{x:3,y:0,z:0},type:"hush-puppy"},"hush-puppy@6,0,0:13y":{config:{},position:{x:6,y:0,z:0},type:"hush-puppy"},"hush-puppy@7,0,0:13y":{config:{},position:{x:7,y:0,z:0},type:"hush-puppy"},"hush-puppy@7,0,1:13y":{config:{},position:{x:7,y:0,z:1},type:"hush-puppy"},"teleporter@7,2,1:XYoHN":{config:{toRoom:"finalroom"},position:{x:7,y:2,z:1},type:"teleporter"}},planet:"blacktooth",size:{x:8,y:8},walls:{away:["plain","armour","plain","shield","shield","plain","armour","plain"],left:["plain","armour","plain","shield","shield","plain","armour","plain"]}},blacktooth84:{color:"white",floor:"deadly",floorSkip:[],id:"blacktooth84",items:{"block@0,0,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:0,z:0},type:"block"},"block@0,3,3:ZlEwyj":{config:{style:"organic"},position:{x:0,y:3,z:3},type:"block"},"block@0,4,3:ZlEwyj":{config:{style:"organic"},position:{x:0,y:4,z:3},type:"block"},"block@4,0,0:ZlEwyj":{config:{style:"organic"},position:{x:4,y:0,z:0},type:"block"},"block@4,3,0:ZlEwyj":{config:{style:"organic"},position:{x:4,y:3,z:0},type:"block"},"block@4,3,1:ZlEwyj":{config:{style:"organic"},position:{x:4,y:3,z:1},type:"block"},"block@7,3,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:3,z:0},type:"block"},"block@7,4,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:4,z:0},type:"block"},"door@0,3,4:Z2fDjl4":{config:{axis:"y",toRoom:"blacktooth85"},position:{x:0,y:3,z:4},type:"door"},"door@8,3,2:Z2fDqOV":{config:{axis:"y",toRoom:"blacktooth77"},position:{x:8,y:3,z:2},type:"door"},"portable-block@4,7,0:Z1UEQTQ":{config:{style:"cube"},position:{x:4,y:7,z:0},type:"portable-block"}},planet:"blacktooth",size:{x:8,y:8},walls:{away:["plain","armour","plain","shield","shield","plain","armour","plain"],left:["plain","shield","plain","none","none","plain","shield","plain"]}},blacktooth85:{color:"white",floor:"blacktooth",floorSkip:[],id:"blacktooth85",items:{"baddie@0,7,1:1iWArK":{config:{which:"monkey"},position:{x:0,y:7,z:1},type:"baddie"},"block@3,0,4:ZlEwyj":{config:{style:"organic"},position:{x:3,y:0,z:4},type:"block"},"block@3,4,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:4,z:0},type:"block"},"block@3,4,1:ZlEwyj":{config:{style:"organic"},position:{x:3,y:4,z:1},type:"block"},"block@3,4,2:Z1qu960":{config:{style:"tower"},position:{x:3,y:4,z:2},type:"block"},"block@3,4,3:ZlEwyj":{config:{style:"organic"},position:{x:3,y:4,z:3},type:"block"},"block@3,4,4:ZlEwyj":{config:{style:"organic"},position:{x:3,y:4,z:4},type:"block"},"block@4,0,4:ZlEwyj":{config:{style:"organic"},position:{x:4,y:0,z:4},type:"block"},"door@3,0,5:1G6hNp":{config:{axis:"x",toRoom:"blacktooth86"},position:{x:3,y:0,z:5},type:"door"},"door@8,3,0:Z2fDjAO":{config:{axis:"y",toRoom:"blacktooth84"},position:{x:8,y:3,z:0},type:"door"},"portable-block@0,7,0:Z1UEQTQ":{config:{style:"cube"},position:{x:0,y:7,z:0},type:"portable-block"},"portable-block@3,4,5:Z1UEQTQ":{config:{style:"cube"},position:{x:3,y:4,z:5},type:"portable-block"}},planet:"blacktooth",size:{x:8,y:8},walls:{away:["plain","armour","plain","shield","shield","plain","armour","plain"],left:["plain","shield","plain","none","none","plain","shield","plain"]}},blacktooth86:{color:"white",floor:"blacktooth",floorSkip:[],id:"blacktooth86",items:{"baddie@1,3,0:1hCOJt":{config:{which:"flying-ball"},position:{x:1,y:3,z:0},type:"baddie"},"door@1,0,0:Z1Dp6jG":{config:{axis:"x",toRoom:"blacktooth87crown"},position:{x:1,y:0,z:0},type:"door"},"door@1,8,0:1G6hxE":{config:{axis:"x",toRoom:"blacktooth85"},position:{x:1,y:8,z:0},type:"door"}},planet:"blacktooth",size:{x:4,y:8},walls:{away:["shield","none","none","shield"],left:["plain","armour","plain","shield","shield","plain","armour","plain"]}},blacktooth87crown:{color:"white",floor:"blacktooth",floorSkip:[],id:"blacktooth87crown",items:{"baddie@3,3,0:Z1w4InY":{config:{which:"dalek"},position:{x:3,y:3,z:0},type:"baddie"},"deadly-block@6,1,0:ZWGEjo":{config:{style:"volcano"},position:{x:6,y:1,z:0},type:"deadly-block"},"deadly-block@6,2,1:ZWGEjo":{config:{style:"volcano"},position:{x:6,y:2,z:1},type:"deadly-block"},"deadly-block@6,3,0:ZWGEjo":{config:{style:"volcano"},position:{x:6,y:3,z:0},type:"deadly-block"},"deadly-block@6,4,1:ZWGEjo":{config:{style:"volcano"},position:{x:6,y:4,z:1},type:"deadly-block"},"deadly-block@6,5,0:ZWGEjo":{config:{style:"volcano"},position:{x:6,y:5,z:0},type:"deadly-block"},"deadly-block@7,1,0:ZWGEjo":{config:{style:"volcano"},position:{x:7,y:1,z:0},type:"deadly-block"},"deadly-block@7,2,1:ZWGEjo":{config:{style:"volcano"},position:{x:7,y:2,z:1},type:"deadly-block"},"deadly-block@7,3,1:ZWGEjo":{config:{style:"volcano"},position:{x:7,y:3,z:1},type:"deadly-block"},"deadly-block@7,3,2:ZWGEjo":{config:{style:"volcano"},position:{x:7,y:3,z:2},type:"deadly-block"},"deadly-block@7,4,1:ZWGEjo":{config:{style:"volcano"},position:{x:7,y:4,z:1},type:"deadly-block"},"deadly-block@7,5,0:ZWGEjo":{config:{style:"volcano"},position:{x:7,y:5,z:0},type:"deadly-block"},"door@3,8,1:1G6hNp":{config:{axis:"x",toRoom:"blacktooth86"},position:{x:3,y:8,z:1},type:"door"},"pickup@7,3,0:2fxkqv":{config:{gives:"crown"},position:{x:7,y:3,z:0},type:"pickup"}},planet:"blacktooth",size:{x:8,y:8},walls:{away:["plain","shield","plain","none","none","plain","shield","plain"],left:["plain","armour","plain","shield","shield","plain","armour","plain"]}},blacktooth8fish:{color:"cyan",floor:"blacktooth",floorSkip:[],id:"blacktooth8fish",items:{"baddie@3,3,1:Z1w4InY":{config:{which:"dalek"},position:{x:3,y:3,z:1},type:"baddie"},"block@3,0,0:Z1qu960":{config:{style:"tower"},position:{x:3,y:0,z:0},type:"block"},"block@3,0,1:Z1qu960":{config:{style:"tower"},position:{x:3,y:0,z:1},type:"block"},"block@3,0,2:Z1qu960":{config:{style:"tower"},position:{x:3,y:0,z:2},type:"block"},"door@0,3,0:fyV86":{config:{axis:"y",toRoom:"blacktooth9"},position:{x:0,y:3,z:0},type:"door"},"door@1,8,2:dkgca":{config:{axis:"x",toRoom:"blacktooth7"},position:{x:1,y:8,z:2},type:"door"},"fish@3,0,3:ZyDpHa":{config:{alive:!0},position:{x:3,y:0,z:3},type:"fish"},"spring@3,3,0:13y":{config:{},position:{x:3,y:3,z:0},type:"spring"}},planet:"blacktooth",size:{x:4,y:8},walls:{away:["shield","none","none","shield"],left:["plain","armour","plain","shield","shield","plain","armour","plain"]}},blacktooth9:{color:"yellow",floor:"deadly",floorSkip:[],id:"blacktooth9",items:{"block@0,4,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:4,z:0},type:"block"},"block@0,4,1:ZlEwyj":{config:{style:"organic"},position:{x:0,y:4,z:1},type:"block"},"block@0,4,2:ZlEwyj":{config:{style:"organic"},position:{x:0,y:4,z:2},type:"block"},"block@3,4,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:4,z:0},type:"block"},"block@3,4,1:ZlEwyj":{config:{style:"organic"},position:{x:3,y:4,z:1},type:"block"},"block@3,4,2:ZlEwyj":{config:{style:"organic"},position:{x:3,y:4,z:2},type:"block"},"block@3,7,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:7,z:0},type:"block"},"block@3,7,1:ZlEwyj":{config:{style:"organic"},position:{x:3,y:7,z:1},type:"block"},"block@3,7,2:ZlEwyj":{config:{style:"organic"},position:{x:3,y:7,z:2},type:"block"},"block@7,0,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:0,z:0},type:"block"},"block@7,1,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:1,z:0},type:"block"},"block@7,2,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:2,z:0},type:"block"},"block@7,3,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:3,z:0},type:"block"},"block@7,4,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:4,z:0},type:"block"},"block@7,5,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:5,z:0},type:"block"},"block@7,6,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:6,z:0},type:"block"},"block@7,7,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:7,z:0},type:"block"},"block@7,7,1:ZlEwyj":{config:{style:"organic"},position:{x:7,y:7,z:1},type:"block"},"block@7,7,2:ZlEwyj":{config:{style:"organic"},position:{x:7,y:7,z:2},type:"block"},"door@8,3,2:XeARp":{config:{axis:"y",toRoom:"blacktooth8fish"},position:{x:8,y:3,z:2},type:"door"},"pickup@0,4,7:LN9xx":{config:{gives:"hooter"},position:{x:0,y:4,z:7},type:"pickup"}},planet:"blacktooth",size:{x:8,y:8},walls:{away:["plain","armour","plain","shield","shield","plain","armour","plain"],left:["plain","shield","plain","none","none","plain","shield","plain"]}},bookworld1:{color:"white",floor:"bookworld",floorSkip:[],id:"bookworld1",items:{"book@0,3,0:Z213BvY":{config:{slider:!1},position:{x:0,y:3,z:0},type:"book"},"book@0,3,1:Z213BvY":{config:{slider:!1},position:{x:0,y:3,z:1},type:"book"},"book@0,3,3:Z213BvY":{config:{slider:!1},position:{x:0,y:3,z:3},type:"book"},"door@0,3,4:Z2dJsRQ":{config:{axis:"y",toRoom:"bookworld2"},position:{x:0,y:3,z:4},type:"door"},"door@3,0,0:eh0W6":{config:{axis:"x",toRoom:"bookworld7"},position:{x:3,y:0,z:0},type:"door"},"teleporter@6,3,0:Z2o7W20":{config:{toRoom:"moonbase25tobookworld"},position:{x:6,y:3,z:0},type:"teleporter"},"teleporter@6,4,0:Z2o7W20":{config:{toRoom:"moonbase25tobookworld"},position:{x:6,y:4,z:0},type:"teleporter"},"teleporter@7,3,0:Z2o7W20":{config:{toRoom:"moonbase25tobookworld"},position:{x:7,y:3,z:0},type:"teleporter"},"teleporter@7,4,0:Z2o7W20":{config:{toRoom:"moonbase25tobookworld"},position:{x:7,y:4,z:0},type:"teleporter"}},planet:"bookworld",size:{x:8,y:8},walls:{away:["book","book","person","book","book","person","book","book"],left:["book","book","person","book","book","person","book","book"]}},bookworld10:{color:"white",floor:"bookworld",floorSkip:[],id:"bookworld10",items:{"baddie@2,4,0:1iWArK":{config:{which:"monkey"},position:{x:2,y:4,z:0},type:"baddie"},"door@0,3,1:2cFgeo":{config:{axis:"y",toRoom:"bookworld11"},position:{x:0,y:3,z:1},type:"door"},"door@6,3,1:Z2dJr4z":{config:{axis:"y",toRoom:"bookworld9"},position:{x:6,y:3,z:1},type:"door"}},planet:"bookworld",size:{x:6,y:8},walls:{away:["book","person","book","book","person","book"],left:["book","book","person","none","none","person","book","book"]}},bookworld11:{color:"white",floor:"bookworld",floorSkip:[],id:"bookworld11",items:{"door@0,0,0:Z2dJrPP":{config:{axis:"y",toRoom:"bookworld6"},position:{x:0,y:0,z:0},type:"door"},"door@8,0,4:2cFfXD":{config:{axis:"y",toRoom:"bookworld10"},position:{x:8,y:0,z:4},type:"door"},"hush-puppy@5,1,0:13y":{config:{},position:{x:5,y:1,z:0},type:"hush-puppy"},"hush-puppy@6,1,1:13y":{config:{},position:{x:6,y:1,z:1},type:"hush-puppy"},"hush-puppy@7,1,2:13y":{config:{},position:{x:7,y:1,z:2},type:"hush-puppy"}},planet:"bookworld",size:{x:8,y:2},walls:{away:["book","book","person","book","book","person","book","book"],left:["none","none"]}},bookworld12fish:{color:"white",floor:"bookworld",floorSkip:[],id:"bookworld12fish",items:{"book@0,7,0:Z213BvY":{config:{slider:!1},position:{x:0,y:7,z:0},type:"book"},"book@0,7,1:Z213BvY":{config:{slider:!1},position:{x:0,y:7,z:1},type:"book"},"book@0,7,2:Z213BvY":{config:{slider:!1},position:{x:0,y:7,z:2},type:"book"},"book@0,7,3:Z213BvY":{config:{slider:!1},position:{x:0,y:7,z:3},type:"book"},"book@0,7,4:Z213BvY":{config:{slider:!1},position:{x:0,y:7,z:4},type:"book"},"door@0,3,0:2cFgJT":{config:{axis:"y",toRoom:"bookworld13"},position:{x:0,y:3,z:0},type:"door"},"door@2,0,0:eh0aP":{config:{axis:"x",toRoom:"bookworld4"},position:{x:2,y:0,z:0},type:"door"},"fish@0,7,5:ZyDpHa":{config:{alive:!0},position:{x:0,y:7,z:5},type:"fish"},"movable-block@3,4,0:Z15GVb5":{config:{style:"anvil"},position:{x:3,y:4,z:0},type:"movable-block"},"portable-block@5,7,0:Z1UEQTQ":{config:{style:"cube"},position:{x:5,y:7,z:0},type:"portable-block"}},planet:"bookworld",size:{x:6,y:8},walls:{away:["book","person","book","book","person","book"],left:["book","book","person","book","book","person","book","book"]}},bookworld13:{color:"white",floor:"bookworld",floorSkip:[],id:"bookworld13",items:{"door@0,0,0:2cFh0E":{config:{axis:"y",toRoom:"bookworld14"},position:{x:0,y:0,z:0},type:"door"},"door@8,0,0:ZwJWHI":{config:{axis:"y",toRoom:"bookworld12fish"},position:{x:8,y:0,z:0},type:"door"}},planet:"bookworld",size:{x:8,y:2},walls:{away:["book","book","person","book","book","person","book","book"],left:["none","none"]}},bookworld14:{color:"white",floor:"bookworld",floorSkip:[],id:"bookworld14",items:{"baddie@3,3,0:Z1w4InY":{config:{which:"dalek"},position:{x:3,y:3,z:0},type:"baddie"},"baddie@4,4,0:Z1w4InY":{config:{which:"dalek"},position:{x:4,y:4,z:0},type:"baddie"},"barrier@6,3,0:Is9Xq":{config:{axis:"y"},position:{x:6,y:3,z:0},type:"barrier"},"barrier@6,3,1:Is9Xq":{config:{axis:"y"},position:{x:6,y:3,z:1},type:"barrier"},"barrier@6,3,2:Is9Xq":{config:{axis:"y"},position:{x:6,y:3,z:2},type:"barrier"},"barrier@6,4,0:Is9Xq":{config:{axis:"y"},position:{x:6,y:4,z:0},type:"barrier"},"barrier@6,4,1:Is9Xq":{config:{axis:"y"},position:{x:6,y:4,z:1},type:"barrier"},"barrier@6,4,2:Is9Xq":{config:{axis:"y"},position:{x:6,y:4,z:2},type:"barrier"},"barrier@6,5,0:Is9Xq":{config:{axis:"y"},position:{x:6,y:5,z:0},type:"barrier"},"barrier@6,5,1:Is9Xq":{config:{axis:"y"},position:{x:6,y:5,z:1},type:"barrier"},"barrier@6,5,2:Is9Xq":{config:{axis:"y"},position:{x:6,y:5,z:2},type:"barrier"},"barrier@6,6,0:Is9Xq":{config:{axis:"y"},position:{x:6,y:6,z:0},type:"barrier"},"barrier@6,6,1:Is9Xq":{config:{axis:"y"},position:{x:6,y:6,z:1},type:"barrier"},"barrier@6,6,2:Is9Xq":{config:{axis:"y"},position:{x:6,y:6,z:2},type:"barrier"},"barrier@7,2,0:Is9HF":{config:{axis:"x"},position:{x:7,y:2,z:0},type:"barrier"},"barrier@7,2,1:Is9HF":{config:{axis:"x"},position:{x:7,y:2,z:1},type:"barrier"},"barrier@7,2,2:Is9HF":{config:{axis:"x"},position:{x:7,y:2,z:2},type:"barrier"},"deadly-block@3,4,0:2u1uHB":{config:{style:"toaster"},position:{x:3,y:4,z:0},type:"deadly-block"},"deadly-block@4,3,0:2u1uHB":{config:{style:"toaster"},position:{x:4,y:3,z:0},type:"deadly-block"},"door@3,0,0:2aqBPY":{config:{axis:"x",toRoom:"bookworld15"},position:{x:3,y:0,z:0},type:"door"},"door@8,3,0:2cFgJT":{config:{axis:"y",toRoom:"bookworld13"},position:{x:8,y:3,z:0},type:"door"}},planet:"bookworld",size:{x:8,y:8},walls:{away:["book","book","person","book","book","person","book","book"],left:["book","book","person","none","none","person","book","book"]}},bookworld15:{color:"white",floor:"deadly",floorSkip:[],id:"bookworld15",items:{"book@0,0,0:Z213BvY":{config:{slider:!1},position:{x:0,y:0,z:0},type:"book"},"book@0,3,0:Z213BvY":{config:{slider:!1},position:{x:0,y:3,z:0},type:"book"},"book@0,7,0:Z213BvY":{config:{slider:!1},position:{x:0,y:7,z:0},type:"book"},"book@3,7,0:Z213BvY":{config:{slider:!1},position:{x:3,y:7,z:0},type:"book"},"book@4,0,0:Z213BvY":{config:{slider:!1},position:{x:4,y:0,z:0},type:"book"},"door@3,0,1:2aqC6J":{config:{axis:"x",toRoom:"bookworld16"},position:{x:3,y:0,z:1},type:"door"},"door@3,8,3:2aqBAe":{config:{axis:"x",toRoom:"bookworld14"},position:{x:3,y:8,z:3},type:"door"}},planet:"bookworld",size:{x:8,y:8},walls:{away:["book","book","person","none","none","person","book","book"],left:["book","book","person","book","book","person","book","book"]}},bookworld16:{color:"white",floor:"bookworld",floorSkip:[],id:"bookworld16",items:{"door@0,3,0:2cFhLU":{config:{axis:"y",toRoom:"bookworld17"},position:{x:0,y:3,z:0},type:"door"},"door@1,0,0:2aqCCf":{config:{axis:"x",toRoom:"bookworld18"},position:{x:1,y:0,z:0},type:"door"},"door@1,8,0:2aqBPY":{config:{axis:"x",toRoom:"bookworld15"},position:{x:1,y:8,z:0},type:"door"}},planet:"bookworld",size:{x:4,y:8},walls:{away:["book","none","none","book"],left:["book","book","person","book","book","person","book","book"]}},bookworld17:{color:"white",floor:"bookworld",floorSkip:[],id:"bookworld17",items:{"baddie@0,3,0:Z1w4InY":{config:{which:"dalek"},position:{x:0,y:3,z:0},type:"baddie"},"baddie@3,2,0:Z1w4InY":{config:{which:"dalek"},position:{x:3,y:2,z:0},type:"baddie"},"door@8,2,4:2cFhwa":{config:{axis:"y",toRoom:"bookworld16"},position:{x:8,y:2,z:4},type:"door"},"spring@2,2,0:13y":{config:{},position:{x:2,y:2,z:0},type:"spring"}},planet:"bookworld",size:{x:8,y:6},walls:{away:["book","book","person","book","book","person","book","book"],left:["book","book","none","none","book","book"]}},bookworld18:{color:"white",floor:"deadly",floorSkip:[],id:"bookworld18",items:{"book@0,5,0:Z213BvY":{config:{slider:!1},position:{x:0,y:5,z:0},type:"book"},"book@0,5,1:Z213BvY":{config:{slider:!1},position:{x:0,y:5,z:1},type:"book"},"book@0,5,2:Z213BvY":{config:{slider:!1},position:{x:0,y:5,z:2},type:"book"},"book@0,5,3:Z213BvY":{config:{slider:!1},position:{x:0,y:5,z:3},type:"book"},"book@0,7,0:Z213BvY":{config:{slider:!1},position:{x:0,y:7,z:0},type:"book"},"book@0,7,1:Z213BvY":{config:{slider:!1},position:{x:0,y:7,z:1},type:"book"},"book@2,0,0:Z213BvY":{config:{slider:!1},position:{x:2,y:0,z:0},type:"book"},"book@3,7,0:Z213BvY":{config:{slider:!1},position:{x:3,y:7,z:0},type:"book"},"door@2,0,2:2aqCS0":{config:{axis:"x",toRoom:"bookworld19"},position:{x:2,y:0,z:2},type:"door"},"door@2,8,2:2aqC6J":{config:{axis:"x",toRoom:"bookworld16"},position:{x:2,y:8,z:2},type:"door"}},planet:"bookworld",size:{x:6,y:8},walls:{away:["book","book","none","none","book","book"],left:["book","book","person","book","book","person","book","book"]}},bookworld19:{color:"white",floor:"bookworld",floorSkip:[],id:"bookworld19",items:{"baddie@0,6,0:NUdjE":{config:{startDirection:"towards",which:"american-football-head"},position:{x:0,y:6,z:0},type:"baddie"},"deadly-block@1,2,0:2u1uHB":{config:{style:"toaster"},position:{x:1,y:2,z:0},type:"deadly-block"},"deadly-block@1,3,0:2u1uHB":{config:{style:"toaster"},position:{x:1,y:3,z:0},type:"deadly-block"},"deadly-block@1,3,1:2u1uHB":{config:{style:"toaster"},position:{x:1,y:3,z:1},type:"deadly-block"},"deadly-block@1,4,0:2u1uHB":{config:{style:"toaster"},position:{x:1,y:4,z:0},type:"deadly-block"},"deadly-block@1,4,1:2u1uHB":{config:{style:"toaster"},position:{x:1,y:4,z:1},type:"deadly-block"},"deadly-block@1,5,0:2u1uHB":{config:{style:"toaster"},position:{x:1,y:5,z:0},type:"deadly-block"},"door@0,0,0:2aqIyA":{config:{axis:"x",toRoom:"bookworld20"},position:{x:0,y:0,z:0},type:"door"},"door@0,8,0:2aqCCf":{config:{axis:"x",toRoom:"bookworld18"},position:{x:0,y:8,z:0},type:"door"}},planet:"bookworld",size:{x:2,y:8},walls:{away:["none","none"],left:["book","book","person","book","book","person","book","book"]}},bookworld2:{color:"white",floor:"deadly",floorSkip:[],id:"bookworld2",items:{"conveyor@0,0,0:24hKaE":{config:{direction:"away"},position:{x:0,y:0,z:0},type:"conveyor"},"conveyor@0,1,0:24hKaE":{config:{direction:"away"},position:{x:0,y:1,z:0},type:"conveyor"},"conveyor@0,2,0:24hKaE":{config:{direction:"away"},position:{x:0,y:2,z:0},type:"conveyor"},"conveyor@1,0,0:cVr4l":{config:{direction:"right"},position:{x:1,y:0,z:0},type:"conveyor"},"conveyor@10,5,0:cVr4l":{config:{direction:"right"},position:{x:10,y:5,z:0},type:"conveyor"},"conveyor@11,2,0:24hKaE":{config:{direction:"away"},position:{x:11,y:2,z:0},type:"conveyor"},"conveyor@11,3,0:24hKaE":{config:{direction:"away"},position:{x:11,y:3,z:0},type:"conveyor"},"conveyor@11,4,0:24hKaE":{config:{direction:"away"},position:{x:11,y:4,z:0},type:"conveyor"},"conveyor@11,5,0:cVr4l":{config:{direction:"right"},position:{x:11,y:5,z:0},type:"conveyor"},"conveyor@2,0,0:cVr4l":{config:{direction:"right"},position:{x:2,y:0,z:0},type:"conveyor"},"conveyor@3,0,0:cVr4l":{config:{direction:"right"},position:{x:3,y:0,z:0},type:"conveyor"},"conveyor@4,0,0:cVr4l":{config:{direction:"right"},position:{x:4,y:0,z:0},type:"conveyor"},"conveyor@4,1,0:ZgHAwg":{config:{direction:"towards"},position:{x:4,y:1,z:0},type:"conveyor"},"conveyor@4,2,0:ZgHAwg":{config:{direction:"towards"},position:{x:4,y:2,z:0},type:"conveyor"},"conveyor@4,3,0:ZgHAwg":{config:{direction:"towards"},position:{x:4,y:3,z:0},type:"conveyor"},"conveyor@4,4,0:ZgHAwg":{config:{direction:"towards"},position:{x:4,y:4,z:0},type:"conveyor"},"conveyor@4,5,0:ZgHAwg":{config:{direction:"towards"},position:{x:4,y:5,z:0},type:"conveyor"},"conveyor@5,5,0:cVr4l":{config:{direction:"right"},position:{x:5,y:5,z:0},type:"conveyor"},"conveyor@6,5,0:cVr4l":{config:{direction:"right"},position:{x:6,y:5,z:0},type:"conveyor"},"conveyor@7,5,0:cVr4l":{config:{direction:"right"},position:{x:7,y:5,z:0},type:"conveyor"},"conveyor@8,5,0:cVr4l":{config:{direction:"right"},position:{x:8,y:5,z:0},type:"conveyor"},"conveyor@9,5,0:cVr4l":{config:{direction:"right"},position:{x:9,y:5,z:0},type:"conveyor"},"deadly-block@0,0,2:2u1uHB":{config:{style:"toaster"},position:{x:0,y:0,z:2},type:"deadly-block"},"deadly-block@11,4,2:2u1uHB":{config:{style:"toaster"},position:{x:11,y:4,z:2},type:"deadly-block"},"deadly-block@11,5,2:2u1uHB":{config:{style:"toaster"},position:{x:11,y:5,z:2},type:"deadly-block"},"deadly-block@4,0,2:2u1uHB":{config:{style:"toaster"},position:{x:4,y:0,z:2},type:"deadly-block"},"deadly-block@5,5,2:2u1uHB":{config:{style:"toaster"},position:{x:5,y:5,z:2},type:"deadly-block"},"deadly-block@6,5,2:2u1uHB":{config:{style:"toaster"},position:{x:6,y:5,z:2},type:"deadly-block"},"deadly-block@7,5,2:2u1uHB":{config:{style:"toaster"},position:{x:7,y:5,z:2},type:"deadly-block"},"door@0,2,3:Z2dJsC6":{config:{axis:"y",toRoom:"bookworld3"},position:{x:0,y:2,z:3},type:"door"},"door@12,2,3:Z2dJt8B":{config:{axis:"y",toRoom:"bookworld1"},position:{x:12,y:2,z:3},type:"door"}},planet:"bookworld",size:{x:12,y:6},walls:{away:["book","person","book","book","person","book","book","person","book","book","person","book"],left:["book","book","none","none","book","book"]}},bookworld20:{color:"white",floor:"bookworld",floorSkip:[],id:"bookworld20",items:{"door@2,0,4:2aqRAY":{config:{axis:"x",toRoom:"bookworld34"},position:{x:2,y:0,z:4},type:"door"},"door@2,6,0:2aqCS0":{config:{axis:"x",toRoom:"bookworld19"},position:{x:2,y:6,z:0},type:"door"},"door@6,2,0:2cFpwx":{config:{axis:"y",toRoom:"bookworld26"},position:{x:6,y:2,z:0},type:"door"},"hush-puppy@1,0,0:13y":{config:{},position:{x:1,y:0,z:0},type:"hush-puppy"},"hush-puppy@2,0,1:13y":{config:{},position:{x:2,y:0,z:1},type:"hush-puppy"},"hush-puppy@3,0,2:13y":{config:{},position:{x:3,y:0,z:2},type:"hush-puppy"}},planet:"bookworld",size:{x:6,y:6},walls:{away:["book","book","none","none","book","book"],left:["book","book","none","none","book","book"]}},bookworld21:{color:"white",floor:"bookworld",floorSkip:[],id:"bookworld21",items:{"baddie@0,4,0:VXUBj":{config:{which:"headless-base"},position:{x:0,y:4,z:0},type:"baddie"},"book@1,5,0:Z213BvY":{config:{slider:!1},position:{x:1,y:5,z:0},type:"book"},"book@1,6,0:Z213BvY":{config:{slider:!1},position:{x:1,y:6,z:0},type:"book"},"book@3,3,0:Z213BvY":{config:{slider:!1},position:{x:3,y:3,z:0},type:"book"},"book@6,2,0:Z213BvY":{config:{slider:!1},position:{x:6,y:2,z:0},type:"book"},"book@7,5,0:Z213BvY":{config:{slider:!1},position:{x:7,y:5,z:0},type:"book"},"door@3,0,0:2aqJ56":{config:{axis:"x",toRoom:"bookworld22"},position:{x:3,y:0,z:0},type:"door"},"door@3,8,0:eh1sB":{config:{axis:"x",toRoom:"bookworld9"},position:{x:3,y:8,z:0},type:"door"}},planet:"bookworld",size:{x:8,y:8},walls:{away:["book","book","person","none","none","person","book","book"],left:["book","book","person","book","book","person","book","book"]}},bookworld22:{color:"white",floor:"bookworld",floorSkip:[],id:"bookworld22",items:{"book@0,0,2:Z213BvY":{config:{slider:!1},position:{x:0,y:0,z:2},type:"book"},"book@0,1,0:Z213BvY":{config:{slider:!1},position:{x:0,y:1,z:0},type:"book"},"book@0,1,1:Z213BvY":{config:{slider:!1},position:{x:0,y:1,z:1},type:"book"},"book@1,0,3:Z213BvY":{config:{slider:!1},position:{x:1,y:0,z:3},type:"book"},"book@1,1,0:Z213BvY":{config:{slider:!1},position:{x:1,y:1,z:0},type:"book"},"book@1,1,1:Z213BvY":{config:{slider:!1},position:{x:1,y:1,z:1},type:"book"},"book@1,1,2:Z213BvY":{config:{slider:!1},position:{x:1,y:1,z:2},type:"book"},"deadly-block@0,0,0:2u1uHB":{config:{style:"toaster"},position:{x:0,y:0,z:0},type:"deadly-block"},"door@0,3,0:2cFoKh":{config:{axis:"y",toRoom:"bookworld23"},position:{x:0,y:3,z:0},type:"door"},"door@0,8,0:2aqIOl":{config:{axis:"x",toRoom:"bookworld21"},position:{x:0,y:8,z:0},type:"door"},"pickup@1,0,0:DHWsf":{config:{gives:"shield"},position:{x:1,y:0,z:0},type:"pickup"},"portable-block@0,5,0:Z14c3Fl":{config:{style:"sticks"},position:{x:0,y:5,z:0},type:"portable-block"}},planet:"bookworld",size:{x:2,y:8},walls:{away:["none","none"],left:["book","book","person","book","book","person","book","book"]}},bookworld23:{color:"white",floor:"bookworld",floorSkip:[],id:"bookworld23",items:{"door@0,2,0:2cFp12":{config:{axis:"y",toRoom:"bookworld24"},position:{x:0,y:2,z:0},type:"door"},"door@2,0,0:2aqKmR":{config:{axis:"x",toRoom:"bookworld27"},position:{x:2,y:0,z:0},type:"door"},"door@6,2,5:2cFouw":{config:{axis:"y",toRoom:"bookworld22"},position:{x:6,y:2,z:5},type:"door"}},planet:"bookworld",size:{x:6,y:6},walls:{away:["book","person","book","book","person","book"],left:["book","book","none","none","book","book"]}},bookworld24:{color:"white",floor:"deadly",floorSkip:[],id:"bookworld24",items:{"book@0,2,0:Z213BvY":{config:{slider:!1},position:{x:0,y:2,z:0},type:"book"},"book@3,2,0:Z213BvY":{config:{slider:!1},position:{x:3,y:2,z:0},type:"book"},"deadly-block@0,0,1:2u1uHB":{config:{style:"toaster"},position:{x:0,y:0,z:1},type:"deadly-block"},"deadly-block@4,2,0:2u1uHB":{config:{style:"toaster"},position:{x:4,y:2,z:0},type:"deadly-block"},"deadly-block@5,5,1:2u1uHB":{config:{style:"toaster"},position:{x:5,y:5,z:1},type:"deadly-block"},"deadly-block@7,0,1:2u1uHB":{config:{style:"toaster"},position:{x:7,y:0,z:1},type:"deadly-block"},"deadly-block@7,5,0:2u1uHB":{config:{style:"toaster"},position:{x:7,y:5,z:0},type:"deadly-block"},"door@0,2,2:2cFpgM":{config:{axis:"y",toRoom:"bookworld25"},position:{x:0,y:2,z:2},type:"door"},"door@8,2,2:2cFoKh":{config:{axis:"y",toRoom:"bookworld23"},position:{x:8,y:2,z:2},type:"door"},"movable-block@7,2,0:1EfFpg":{config:{style:"sandwich"},position:{x:7,y:2,z:0},type:"movable-block"}},planet:"bookworld",size:{x:8,y:6},walls:{away:["book","book","person","book","book","person","book","book"],left:["book","book","none","none","book","book"]}},bookworld25:{color:"white",floor:"bookworld",floorSkip:[],id:"bookworld25",items:{"door@0,0,0:2cFpwx":{config:{axis:"y",toRoom:"bookworld26"},position:{x:0,y:0,z:0},type:"door"},"door@8,0,0:2cFp12":{config:{axis:"y",toRoom:"bookworld24"},position:{x:8,y:0,z:0},type:"door"}},planet:"bookworld",size:{x:8,y:2},walls:{away:["book","book","person","book","book","person","book","book"],left:["none","none"]}},bookworld26:{color:"white",floor:"bookworld",floorSkip:[],id:"bookworld26",items:{"baddie@3,7,0:Z1w4InY":{config:{which:"dalek"},position:{x:3,y:7,z:0},type:"baddie"},"book@3,0,0:Z213BvY":{config:{slider:!1},position:{x:3,y:0,z:0},type:"book"},"book@3,0,1:Z213BvY":{config:{slider:!1},position:{x:3,y:0,z:1},type:"book"},"book@3,0,2:Z213BvY":{config:{slider:!1},position:{x:3,y:0,z:2},type:"book"},"book@3,0,4:Z213BvY":{config:{slider:!1},position:{x:3,y:0,z:4},type:"book"},"door@0,3,0:2cFnY1":{config:{axis:"y",toRoom:"bookworld20"},position:{x:0,y:3,z:0},type:"door"},"door@4,3,0:2cFpgM":{config:{axis:"y",toRoom:"bookworld25"},position:{x:4,y:3,z:0},type:"door"},"pickup@3,0,5:Z2prF0G":{config:{gives:"donuts"},position:{x:3,y:0,z:5},type:"pickup"}},planet:"bookworld",size:{x:4,y:8},walls:{away:["book","book","book","book"],left:["book","book","person","none","none","person","book","book"]}},bookworld27:{color:"white",floor:"bookworld",floorSkip:[],id:"bookworld27",items:{"book@0,0,0:Z213BvY":{config:{slider:!1},position:{x:0,y:0,z:0},type:"book"},"book@0,0,1:Z213BvY":{config:{slider:!1},position:{x:0,y:0,z:1},type:"book"},"book@0,0,3:Z213BvY":{config:{slider:!1},position:{x:0,y:0,z:3},type:"book"},"door@0,0,4:2aqKCC":{config:{axis:"x",toRoom:"bookworld28"},position:{x:0,y:0,z:4},type:"door"},"door@0,8,0:2aqJkQ":{config:{axis:"x",toRoom:"bookworld23"},position:{x:0,y:8,z:0},type:"door"}},planet:"bookworld",size:{x:2,y:8},walls:{away:["none","none"],left:["book","book","person","book","book","person","book","book"]}},bookworld28:{color:"white",floor:"deadly",floorSkip:[],id:"bookworld28",items:{"block@0,0,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:0,z:0},type:"block"},"block@0,1,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:1,z:0},type:"block"},"block@0,2,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:2,z:0},type:"block"},"block@0,3,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:3,z:0},type:"block"},"block@0,4,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:4,z:0},type:"block"},"block@0,5,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:5,z:0},type:"block"},"block@0,6,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:6,z:0},type:"block"},"block@0,7,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:7,z:0},type:"block"},"block@1,0,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:0,z:0},type:"block"},"block@1,7,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:7,z:0},type:"block"},"block@2,0,0:ZlEwyj":{config:{style:"organic"},position:{x:2,y:0,z:0},type:"block"},"block@2,7,0:ZlEwyj":{config:{style:"organic"},position:{x:2,y:7,z:0},type:"block"},"block@3,0,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:0,z:0},type:"block"},"block@3,7,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:7,z:0},type:"block"},"block@4,0,0:ZlEwyj":{config:{style:"organic"},position:{x:4,y:0,z:0},type:"block"},"block@4,10,0:ZlEwyj":{config:{style:"organic"},position:{x:4,y:10,z:0},type:"block"},"block@4,11,0:ZlEwyj":{config:{style:"organic"},position:{x:4,y:11,z:0},type:"block"},"block@4,12,0:ZlEwyj":{config:{style:"organic"},position:{x:4,y:12,z:0},type:"block"},"block@4,13,0:ZlEwyj":{config:{style:"organic"},position:{x:4,y:13,z:0},type:"block"},"block@4,14,0:ZlEwyj":{config:{style:"organic"},position:{x:4,y:14,z:0},type:"block"},"block@4,15,0:ZlEwyj":{config:{style:"organic"},position:{x:4,y:15,z:0},type:"block"},"block@4,7,0:ZlEwyj":{config:{style:"organic"},position:{x:4,y:7,z:0},type:"block"},"block@4,8,0:ZlEwyj":{config:{style:"organic"},position:{x:4,y:8,z:0},type:"block"},"block@4,9,0:ZlEwyj":{config:{style:"organic"},position:{x:4,y:9,z:0},type:"block"},"block@5,0,0:ZlEwyj":{config:{style:"organic"},position:{x:5,y:0,z:0},type:"block"},"block@5,7,0:ZlEwyj":{config:{style:"organic"},position:{x:5,y:7,z:0},type:"block"},"block@6,0,0:ZlEwyj":{config:{style:"organic"},position:{x:6,y:0,z:0},type:"block"},"block@6,7,0:ZlEwyj":{config:{style:"organic"},position:{x:6,y:7,z:0},type:"block"},"block@7,0,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:0,z:0},type:"block"},"block@7,1,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:1,z:0},type:"block"},"block@7,2,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:2,z:0},type:"block"},"block@7,3,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:3,z:0},type:"block"},"block@7,4,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:4,z:0},type:"block"},"block@7,5,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:5,z:0},type:"block"},"block@7,6,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:6,z:0},type:"block"},"block@7,7,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:7,z:0},type:"block"},"deadly-block@2,3,0:2u1uHB":{config:{style:"toaster"},position:{x:2,y:3,z:0},type:"deadly-block"},"deadly-block@2,3,1:2u1uHB":{config:{style:"toaster"},position:{x:2,y:3,z:1},type:"deadly-block"},"deadly-block@3,2,0:2u1uHB":{config:{style:"toaster"},position:{x:3,y:2,z:0},type:"deadly-block"},"deadly-block@3,2,1:2u1uHB":{config:{style:"toaster"},position:{x:3,y:2,z:1},type:"deadly-block"},"deadly-block@3,4,0:2u1uHB":{config:{style:"toaster"},position:{x:3,y:4,z:0},type:"deadly-block"},"deadly-block@3,4,1:2u1uHB":{config:{style:"toaster"},position:{x:3,y:4,z:1},type:"deadly-block"},"deadly-block@4,3,0:2u1uHB":{config:{style:"toaster"},position:{x:4,y:3,z:0},type:"deadly-block"},"deadly-block@4,3,1:2u1uHB":{config:{style:"toaster"},position:{x:4,y:3,z:1},type:"deadly-block"},"door@3,16,3:2aqKmR":{config:{axis:"x",toRoom:"bookworld27"},position:{x:3,y:16,z:3},type:"door"},"lift@3,3,1:ZTwqnv":{config:{bottom:0,top:9},position:{x:3,y:3,z:1},type:"lift"}},planet:"bookworld",roomAbove:"bookworld29",size:{x:8,y:16},walls:{away:["book","book","person","none","none","person","book","book"],left:["book","person","book","book","book","book","person","book","book","person","book","book","book","book","person","book"]}},bookworld29:{color:"white",floor:"none",floorSkip:[],id:"bookworld29",items:{"block@0,0,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:0,z:0},type:"block"},"block@0,1,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:1,z:0},type:"block"},"block@0,2,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:2,z:0},type:"block"},"block@0,3,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:3,z:0},type:"block"},"block@0,4,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:4,z:0},type:"block"},"block@0,5,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:5,z:0},type:"block"},"block@0,6,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:6,z:0},type:"block"},"block@0,7,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:7,z:0},type:"block"},"block@1,0,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:0,z:0},type:"block"},"block@1,7,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:7,z:0},type:"block"},"block@2,0,0:ZlEwyj":{config:{style:"organic"},position:{x:2,y:0,z:0},type:"block"},"block@2,7,0:ZlEwyj":{config:{style:"organic"},position:{x:2,y:7,z:0},type:"block"},"block@3,0,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:0,z:0},type:"block"},"block@3,7,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:7,z:0},type:"block"},"block@4,0,0:ZlEwyj":{config:{style:"organic"},position:{x:4,y:0,z:0},type:"block"},"block@4,7,0:ZlEwyj":{config:{style:"organic"},position:{x:4,y:7,z:0},type:"block"},"block@5,0,0:ZlEwyj":{config:{style:"organic"},position:{x:5,y:0,z:0},type:"block"},"block@5,7,0:ZlEwyj":{config:{style:"organic"},position:{x:5,y:7,z:0},type:"block"},"block@6,0,0:ZlEwyj":{config:{style:"organic"},position:{x:6,y:0,z:0},type:"block"},"block@6,7,0:ZlEwyj":{config:{style:"organic"},position:{x:6,y:7,z:0},type:"block"},"block@7,0,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:0,z:0},type:"block"},"block@7,1,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:1,z:0},type:"block"},"block@7,2,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:2,z:0},type:"block"},"block@7,3,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:3,z:0},type:"block"},"block@7,4,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:4,z:0},type:"block"},"block@7,5,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:5,z:0},type:"block"},"block@7,6,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:6,z:0},type:"block"},"block@7,7,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:7,z:0},type:"block"},"door@0,3,3:2cFvYo":{config:{axis:"y",toRoom:"bookworld30"},position:{x:0,y:3,z:3},type:"door"},"lift@3,3,0:ZTwqp2":{config:{bottom:0,top:6},position:{x:3,y:3,z:0},type:"lift"}},planet:"bookworld",roomBelow:"bookworld28",size:{x:8,y:8},walls:{away:["book","book","person","book","book","person","book","book"],left:["book","book","person","book","book","person","book","book"]}},bookworld3:{color:"white",floor:"bookworld",floorSkip:[],id:"bookworld3",items:{"baddie@3,5,0:1iWArK":{config:{which:"monkey"},position:{x:3,y:5,z:0},type:"baddie"},"baddie@4,0,0:1iWArK":{config:{which:"monkey"},position:{x:4,y:0,z:0},type:"baddie"},"door@0,2,2:Z2dJsml":{config:{axis:"y",toRoom:"bookworld4"},position:{x:0,y:2,z:2},type:"door"},"door@8,2,0:Z2dJsRQ":{config:{axis:"y",toRoom:"bookworld2"},position:{x:8,y:2,z:0},type:"door"}},planet:"bookworld",size:{x:8,y:6},walls:{away:["book","book","person","book","book","person","book","book"],left:["book","book","none","none","book","book"]}},bookworld30:{color:"white",floor:"bookworld",floorSkip:[],id:"bookworld30",items:{"baddie@3,2,0:Z1w4InY":{config:{which:"dalek"},position:{x:3,y:2,z:0},type:"baddie"},"baddie@4,1,0:Z1w4InY":{config:{which:"dalek"},position:{x:4,y:1,z:0},type:"baddie"},"door@0,1,2:2cFwf9":{config:{axis:"y",toRoom:"bookworld31"},position:{x:0,y:1,z:2},type:"door"},"door@8,1,2:2cFqiN":{config:{axis:"y",toRoom:"bookworld29"},position:{x:8,y:1,z:2},type:"door"}},planet:"bookworld",size:{x:8,y:4},walls:{away:["book","book","person","book","book","person","book","book"],left:["book","none","none","book"]}},bookworld31:{color:"white",floor:"bookworld",floorSkip:[],id:"bookworld31",items:{"baddie@11,0,0:yqEry":{config:{startDirection:"right",which:"american-football-head"},position:{x:11,y:0,z:0},type:"baddie"},"deadly-block@12,0,0:ZWGEjo":{config:{style:"volcano"},position:{x:12,y:0,z:0},type:"deadly-block"},"deadly-block@12,1,0:ZWGEjo":{config:{style:"volcano"},position:{x:12,y:1,z:0},type:"deadly-block"},"deadly-block@12,2,0:ZWGEjo":{config:{style:"volcano"},position:{x:12,y:2,z:0},type:"deadly-block"},"deadly-block@12,3,0:ZWGEjo":{config:{style:"volcano"},position:{x:12,y:3,z:0},type:"deadly-block"},"deadly-block@12,4,0:ZWGEjo":{config:{style:"volcano"},position:{x:12,y:4,z:0},type:"deadly-block"},"deadly-block@12,5,0:ZWGEjo":{config:{style:"volcano"},position:{x:12,y:5,z:0},type:"deadly-block"},"deadly-block@3,0,0:ZWGEjo":{config:{style:"volcano"},position:{x:3,y:0,z:0},type:"deadly-block"},"deadly-block@3,1,0:ZWGEjo":{config:{style:"volcano"},position:{x:3,y:1,z:0},type:"deadly-block"},"deadly-block@3,2,0:ZWGEjo":{config:{style:"volcano"},position:{x:3,y:2,z:0},type:"deadly-block"},"deadly-block@3,3,0:ZWGEjo":{config:{style:"volcano"},position:{x:3,y:3,z:0},type:"deadly-block"},"deadly-block@3,4,0:ZWGEjo":{config:{style:"volcano"},position:{x:3,y:4,z:0},type:"deadly-block"},"deadly-block@3,5,0:ZWGEjo":{config:{style:"volcano"},position:{x:3,y:5,z:0},type:"deadly-block"},"deadly-block@5,0,0:ZWGEjo":{config:{style:"volcano"},position:{x:5,y:0,z:0},type:"deadly-block"},"deadly-block@5,1,0:ZWGEjo":{config:{style:"volcano"},position:{x:5,y:1,z:0},type:"deadly-block"},"deadly-block@5,2,0:ZWGEjo":{config:{style:"volcano"},position:{x:5,y:2,z:0},type:"deadly-block"},"deadly-block@5,3,0:ZWGEjo":{config:{style:"volcano"},position:{x:5,y:3,z:0},type:"deadly-block"},"deadly-block@5,4,0:ZWGEjo":{config:{style:"volcano"},position:{x:5,y:4,z:0},type:"deadly-block"},"deadly-block@5,5,0:ZWGEjo":{config:{style:"volcano"},position:{x:5,y:5,z:0},type:"deadly-block"},"door@0,2,0:2cFwuT":{config:{axis:"y",toRoom:"bookworld32"},position:{x:0,y:2,z:0},type:"door"},"door@16,2,0:2cFvYo":{config:{axis:"y",toRoom:"bookworld30"},position:{x:16,y:2,z:0},type:"door"},"pickup@9,2,0:DHWsf":{config:{gives:"shield"},position:{x:9,y:2,z:0},type:"pickup"}},planet:"bookworld",size:{x:16,y:6},walls:{away:["book","person","book","book","book","book","person","book","book","person","book","book","book","book","person","book"],left:["book","book","none","none","book","book"]}},bookworld32:{color:"white",floor:"none",floorSkip:[],id:"bookworld32",items:{"door@8,3,1:2cFwf9":{config:{axis:"y",toRoom:"bookworld31"},position:{x:8,y:3,z:1},type:"door"}},planet:"bookworld",roomBelow:"bookworld33",size:{x:8,y:8},walls:{away:["book","book","person","book","book","person","book","book"],left:["book","book","person","none","none","person","book","book"]}},bookworld33:{color:"white",floor:"bookworld",floorSkip:[],id:"bookworld33",items:{"door@0,3,0:2cFxha":{config:{axis:"y",toRoom:"bookworld35"},position:{x:0,y:3,z:0},type:"door"},"door@3,8,4:2aqRAY":{config:{axis:"x",toRoom:"bookworld34"},position:{x:3,y:8,z:4},type:"door"},"hush-puppy@1,7,0:13y":{config:{},position:{x:1,y:7,z:0},type:"hush-puppy"},"hush-puppy@2,7,1:13y":{config:{},position:{x:2,y:7,z:1},type:"hush-puppy"},"hush-puppy@3,7,2:13y":{config:{},position:{x:3,y:7,z:2},type:"hush-puppy"}},planet:"bookworld",roomAbove:"bookworld32",size:{x:8,y:8},walls:{away:["book","book","person","none","none","person","book","book"],left:["book","book","person","book","book","person","book","book"]}},bookworld34:{color:"white",floor:"bookworld",floorSkip:[],id:"bookworld34",items:{"book@0,10,-1:1g3d60":{config:{slider:!0},position:{x:0,y:10,z:-1},type:"book"},"book@0,10,0:Z213BvY":{config:{slider:!1},position:{x:0,y:10,z:0},type:"book"},"book@0,10,2:Z213BvY":{config:{slider:!1},position:{x:0,y:10,z:2},type:"book"},"book@0,13,-1:1g3d60":{config:{slider:!0},position:{x:0,y:13,z:-1},type:"book"},"book@0,13,0:Z213BvY":{config:{slider:!1},position:{x:0,y:13,z:0},type:"book"},"book@0,4,0:Z213BvY":{config:{slider:!1},position:{x:0,y:4,z:0},type:"book"},"book@0,5,-1:1g3d60":{config:{slider:!0},position:{x:0,y:5,z:-1},type:"book"},"book@0,5,0:Z213BvY":{config:{slider:!1},position:{x:0,y:5,z:0},type:"book"},"book@0,5,1:Z213BvY":{config:{slider:!1},position:{x:0,y:5,z:1},type:"book"},"book@0,5,3:Z213BvY":{config:{slider:!1},position:{x:0,y:5,z:3},type:"book"},"book@0,6,3:Z213BvY":{config:{slider:!1},position:{x:0,y:6,z:3},type:"book"},"book@0,7,3:Z213BvY":{config:{slider:!1},position:{x:0,y:7,z:3},type:"book"},"book@0,8,3:Z213BvY":{config:{slider:!1},position:{x:0,y:8,z:3},type:"book"},"book@0,9,3:Z213BvY":{config:{slider:!1},position:{x:0,y:9,z:3},type:"book"},"book@1,10,0:Z213BvY":{config:{slider:!1},position:{x:1,y:10,z:0},type:"book"},"book@1,10,1:Z213BvY":{config:{slider:!1},position:{x:1,y:10,z:1},type:"book"},"book@1,10,2:Z213BvY":{config:{slider:!1},position:{x:1,y:10,z:2},type:"book"},"book@1,10,3:Z213BvY":{config:{slider:!1},position:{x:1,y:10,z:3},type:"book"},"book@1,5,0:Z213BvY":{config:{slider:!1},position:{x:1,y:5,z:0},type:"book"},"book@1,5,1:Z213BvY":{config:{slider:!1},position:{x:1,y:5,z:1},type:"book"},"book@1,5,2:Z213BvY":{config:{slider:!1},position:{x:1,y:5,z:2},type:"book"},"book@1,5,3:Z213BvY":{config:{slider:!1},position:{x:1,y:5,z:3},type:"book"},"book@1,6,3:Z213BvY":{config:{slider:!1},position:{x:1,y:6,z:3},type:"book"},"book@1,7,3:Z213BvY":{config:{slider:!1},position:{x:1,y:7,z:3},type:"book"},"book@1,8,3:Z213BvY":{config:{slider:!1},position:{x:1,y:8,z:3},type:"book"},"book@1,9,3:Z213BvY":{config:{slider:!1},position:{x:1,y:9,z:3},type:"book"},"door@0,0,0:2aqRle":{config:{axis:"x",toRoom:"bookworld33"},position:{x:0,y:0,z:0},type:"door"},"door@0,16,0:2aqIyA":{config:{axis:"x",toRoom:"bookworld20"},position:{x:0,y:16,z:0},type:"door"},"pickup@1,9,0:Zs6lvR":{config:{gives:"jumps"},position:{x:1,y:9,z:0},type:"pickup"}},planet:"bookworld",size:{x:2,y:16},walls:{away:["none","none"],left:["book","person","book","book","book","book","person","book","book","person","book","book","book","book","person","book"]}},bookworld35:{color:"white",floor:"bookworld",floorSkip:[],id:"bookworld35",items:{"block@5,1,0:ZlEwyj":{config:{style:"organic"},position:{x:5,y:1,z:0},type:"block"},"block@6,0,0:ZlEwyj":{config:{style:"organic"},position:{x:6,y:0,z:0},type:"block"},"block@6,1,0:ZlEwyj":{config:{style:"organic"},position:{x:6,y:1,z:0},type:"block"},"block@6,2,0:ZlEwyj":{config:{style:"organic"},position:{x:6,y:2,z:0},type:"block"},"block@7,1,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:1,z:0},type:"block"},"book@1,7,3:Z213BvY":{config:{slider:!1},position:{x:1,y:7,z:3},type:"book"},"book@2,7,3:Z213BvY":{config:{slider:!1},position:{x:2,y:7,z:3},type:"book"},"book@3,7,3:Z213BvY":{config:{slider:!1},position:{x:3,y:7,z:3},type:"book"},"book@5,7,4:Z213BvY":{config:{slider:!1},position:{x:5,y:7,z:4},type:"book"},"charles@5,7,5:13y":{config:{},position:{x:5,y:7,z:5},type:"charles"},"door@0,3,5:2cFxwU":{config:{axis:"y",toRoom:"bookworld36"},position:{x:0,y:3,z:5},type:"door"},"door@8,3,0:2cFwKE":{config:{axis:"y",toRoom:"bookworld33"},position:{x:8,y:3,z:0},type:"door"},"joystick@5,1,1:13y":{config:{},position:{x:5,y:1,z:1},type:"joystick"},"joystick@6,0,1:13y":{config:{},position:{x:6,y:0,z:1},type:"joystick"},"joystick@6,2,1:13y":{config:{},position:{x:6,y:2,z:1},type:"joystick"},"joystick@7,1,1:13y":{config:{},position:{x:7,y:1,z:1},type:"joystick"},"spring@1,7,4:13y":{config:{},position:{x:1,y:7,z:4},type:"spring"}},planet:"bookworld",size:{x:8,y:8},walls:{away:["book","book","person","book","book","person","book","book"],left:["book","book","person","none","none","person","book","book"]}},bookworld36:{color:"white",floor:"bookworld",floorSkip:[],id:"bookworld36",items:{"baddie@1,0,0:Z1w4InY":{config:{which:"dalek"},position:{x:1,y:0,z:0},type:"baddie"},"book@7,2,0:Z213BvY":{config:{slider:!1},position:{x:7,y:2,z:0},type:"book"},"book@7,2,1:Z213BvY":{config:{slider:!1},position:{x:7,y:2,z:1},type:"book"},"book@7,2,2:Z213BvY":{config:{slider:!1},position:{x:7,y:2,z:2},type:"book"},"door@3,6,5:2aqSnf":{config:{axis:"x",toRoom:"bookworld37"},position:{x:3,y:6,z:5},type:"door"},"door@8,2,5:2cFxha":{config:{axis:"y",toRoom:"bookworld35"},position:{x:8,y:2,z:5},type:"door"},"portable-block@1,5,0:Z14c3Fl":{config:{style:"sticks"},position:{x:1,y:5,z:0},type:"portable-block"},"portable-block@3,1,0:Z14c3Fl":{config:{style:"sticks"},position:{x:3,y:1,z:0},type:"portable-block"},"portable-block@4,3,0:Z14c3Fl":{config:{style:"sticks"},position:{x:4,y:3,z:0},type:"portable-block"}},planet:"bookworld",size:{x:8,y:6},walls:{away:["book","book","person","none","none","person","book","book"],left:["book","book","none","none","book","book"]}},bookworld37:{color:"white",floor:"bookworld",floorSkip:[],id:"bookworld37",items:{"deadly-block@0,3,0:2u1uHB":{config:{style:"toaster"},position:{x:0,y:3,z:0},type:"deadly-block"},"deadly-block@0,4,0:2u1uHB":{config:{style:"toaster"},position:{x:0,y:4,z:0},type:"deadly-block"},"deadly-block@1,3,0:2u1uHB":{config:{style:"toaster"},position:{x:1,y:3,z:0},type:"deadly-block"},"deadly-block@1,4,0:2u1uHB":{config:{style:"toaster"},position:{x:1,y:4,z:0},type:"deadly-block"},"door@0,0,0:2aqS7u":{config:{axis:"x",toRoom:"bookworld36"},position:{x:0,y:0,z:0},type:"door"},"door@0,8,0:2aqSD0":{config:{axis:"x",toRoom:"bookworld38"},position:{x:0,y:8,z:0},type:"door"}},planet:"bookworld",size:{x:2,y:8},walls:{away:["none","none"],left:["book","book","person","book","book","person","book","book"]}},bookworld38:{color:"white",floor:"none",floorSkip:[],id:"bookworld38",items:{"door@3,0,5:2aqSnf":{config:{axis:"x",toRoom:"bookworld37"},position:{x:3,y:0,z:5},type:"door"}},planet:"bookworld",roomBelow:"bookworld39",size:{x:8,y:8},walls:{away:["book","book","person","book","book","person","book","book"],left:["book","book","person","book","book","person","book","book"]}},bookworld39:{color:"white",floor:"none",floorSkip:[],id:"bookworld39",items:{"conveyor@0,0,0:2pPzNa":{config:{direction:"left"},position:{x:0,y:0,z:0},type:"conveyor"},"conveyor@1,0,0:2pPzNa":{config:{direction:"left"},position:{x:1,y:0,z:0},type:"conveyor"},"conveyor@2,0,0:2pPzNa":{config:{direction:"left"},position:{x:2,y:0,z:0},type:"conveyor"},"conveyor@3,0,0:2pPzNa":{config:{direction:"left"},position:{x:3,y:0,z:0},type:"conveyor"},"conveyor@4,0,0:2pPzNa":{config:{direction:"left"},position:{x:4,y:0,z:0},type:"conveyor"},"conveyor@5,0,0:2pPzNa":{config:{direction:"left"},position:{x:5,y:0,z:0},type:"conveyor"},"conveyor@6,0,0:2pPzNa":{config:{direction:"left"},position:{x:6,y:0,z:0},type:"conveyor"},"conveyor@7,0,0:24hKaE":{config:{direction:"away"},position:{x:7,y:0,z:0},type:"conveyor"},"conveyor@7,1,0:24hKaE":{config:{direction:"away"},position:{x:7,y:1,z:0},type:"conveyor"},"teleporter@7,3,0:Z8cIGu":{config:{toRoom:"bookworld1"},position:{x:7,y:3,z:0},type:"teleporter"},"teleporter@7,4,0:Z8cIGu":{config:{toRoom:"bookworld1"},position:{x:7,y:4,z:0},type:"teleporter"}},planet:"bookworld",roomAbove:"bookworld38",roomBelow:"bookworld40",size:{x:8,y:8},walls:{away:["book","book","person","book","book","person","book","book"],left:["book","book","person","book","book","person","book","book"]}},bookworld4:{color:"white",floor:"bookworld",floorSkip:[],id:"bookworld4",items:{"book@0,7,0:Z213BvY":{config:{slider:!1},position:{x:0,y:7,z:0},type:"book"},"book@0,7,1:Z213BvY":{config:{slider:!1},position:{x:0,y:7,z:1},type:"book"},"door@0,0,0:eh0qA":{config:{axis:"x",toRoom:"bookworld5"},position:{x:0,y:0,z:0},type:"door"},"door@0,8,4:ZxyNR0":{config:{axis:"x",toRoom:"bookworld12fish"},position:{x:0,y:8,z:4},type:"door"},"door@2,3,4:Z2dJsC6":{config:{axis:"y",toRoom:"bookworld3"},position:{x:2,y:3,z:4},type:"door"}},planet:"bookworld",size:{x:2,y:8},walls:{away:["none","none"],left:["book","book","person","none","none","person","book","book"]}},bookworld40:{color:"white",floor:"bookworld",floorSkip:[],id:"bookworld40",items:{"door@3,8,0:275iTn":{config:{axis:"x",toRoom:"bookworld41crown"},position:{x:3,y:8,z:0},type:"door"},"lift@0,0,0:ZTwqnv":{config:{bottom:0,top:9},position:{x:0,y:0,z:0},type:"lift"}},planet:"bookworld",roomAbove:"bookworld39",size:{x:8,y:8},walls:{away:["book","book","person","none","none","person","book","book"],left:["book","book","person","book","book","person","book","book"]}},bookworld41crown:{color:"white",floor:"bookworld",floorSkip:[],id:"bookworld41crown",items:{"baddie@0,4,0:Z1w4InY":{config:{which:"dalek"},position:{x:0,y:4,z:0},type:"baddie"},"baddie@4,4,0:Z1w4InY":{config:{which:"dalek"},position:{x:4,y:4,z:0},type:"baddie"},"barrier@3,4,0:Is9Xq":{config:{axis:"y"},position:{x:3,y:4,z:0},type:"barrier"},"book@2,4,0:1g3d60":{config:{slider:!0},position:{x:2,y:4,z:0},type:"book"},"book@3,4,1:Z213BvY":{config:{slider:!1},position:{x:3,y:4,z:1},type:"book"},"book@3,4,2:Z213BvY":{config:{slider:!1},position:{x:3,y:4,z:2},type:"book"},"book@3,4,3:Z213BvY":{config:{slider:!1},position:{x:3,y:4,z:3},type:"book"},"book@3,4,4:Z213BvY":{config:{slider:!1},position:{x:3,y:4,z:4},type:"book"},"book@3,4,5:Z213BvY":{config:{slider:!1},position:{x:3,y:4,z:5},type:"book"},"door@2,0,0:2aqYzl":{config:{axis:"x",toRoom:"bookworld40"},position:{x:2,y:0,z:0},type:"door"},"pickup@3,4,6:2fxkqv":{config:{gives:"crown"},position:{x:3,y:4,z:6},type:"pickup"},"portable-block@0,0,0:Z14c3Fl":{config:{style:"sticks"},position:{x:0,y:0,z:0},type:"portable-block"},"portable-block@0,7,0:Z14c3Fl":{config:{style:"sticks"},position:{x:0,y:7,z:0},type:"portable-block"}},planet:"bookworld",size:{x:6,y:8},walls:{away:["book","person","book","book","person","book"],left:["book","book","person","book","book","person","book","book"]}},bookworld5:{color:"white",floor:"bookworld",floorSkip:[],id:"bookworld5",items:{"baddie@1,3,0:v0szb":{config:{which:"helicopter-bug"},position:{x:1,y:3,z:0},type:"baddie"},"baddie@2,4,0:v0szb":{config:{which:"helicopter-bug"},position:{x:2,y:4,z:0},type:"baddie"},"door@1,0,0:eh0Gl":{config:{axis:"x",toRoom:"bookworld6"},position:{x:1,y:0,z:0},type:"door"},"door@1,8,0:eh0aP":{config:{axis:"x",toRoom:"bookworld4"},position:{x:1,y:8,z:0},type:"door"}},planet:"bookworld",size:{x:4,y:8},walls:{away:["book","none","none","book"],left:["book","book","person","book","book","person","book","book"]}},bookworld6:{color:"white",floor:"bookworld",floorSkip:[],id:"bookworld6",items:{"book@1,3,0:Z213BvY":{config:{slider:!1},position:{x:1,y:3,z:0},type:"book"},"book@1,3,1:1g3d60":{config:{slider:!0},position:{x:1,y:3,z:1},type:"book"},"book@1,7,0:Z213BvY":{config:{slider:!1},position:{x:1,y:7,z:0},type:"book"},"deadly-block@3,0,0:2u1uHB":{config:{style:"toaster"},position:{x:3,y:0,z:0},type:"deadly-block"},"door@1,8,3:eh0qA":{config:{axis:"x",toRoom:"bookworld5"},position:{x:1,y:8,z:3},type:"door"},"door@4,3,3:2cFgeo":{config:{axis:"y",toRoom:"bookworld11"},position:{x:4,y:3,z:3},type:"door"},"movable-block@2,4,0:Z15GVb5":{config:{style:"anvil"},position:{x:2,y:4,z:0},type:"movable-block"},"movable-block@2,5,0:Z15GVb5":{config:{style:"anvil"},position:{x:2,y:5,z:0},type:"movable-block"}},planet:"bookworld",size:{x:4,y:8},walls:{away:["book","none","none","book"],left:["book","book","person","none","none","person","book","book"]}},bookworld7:{color:"white",floor:"bookworld",floorSkip:[],id:"bookworld7",items:{"door@1,0,4:eh1cQ":{config:{axis:"x",toRoom:"bookworld8"},position:{x:1,y:0,z:4},type:"door"},"door@1,8,0:egYoz":{config:{axis:"x",toRoom:"bookworld1"},position:{x:1,y:8,z:0},type:"door"},"hush-puppy@0,0,0:13y":{config:{},position:{x:0,y:0,z:0},type:"hush-puppy"},"hush-puppy@1,0,1:13y":{config:{},position:{x:1,y:0,z:1},type:"hush-puppy"},"hush-puppy@2,0,2:13y":{config:{},position:{x:2,y:0,z:2},type:"hush-puppy"}},planet:"bookworld",size:{x:4,y:8},walls:{away:["book","none","none","book"],left:["book","book","person","book","book","person","book","book"]}},bookworld8:{color:"white",floor:"bookworld",floorSkip:[],id:"bookworld8",items:{"book@0,2,0:Z213BvY":{config:{slider:!1},position:{x:0,y:2,z:0},type:"book"},"book@0,2,2:Z213BvY":{config:{slider:!1},position:{x:0,y:2,z:2},type:"book"},"book@0,2,3:Z213BvY":{config:{slider:!1},position:{x:0,y:2,z:3},type:"book"},"book@0,3,3:Z213BvY":{config:{slider:!1},position:{x:0,y:3,z:3},type:"book"},"door@0,3,4:Z2dJr4z":{config:{axis:"y",toRoom:"bookworld9"},position:{x:0,y:3,z:4},type:"door"},"door@3,8,0:eh0W6":{config:{axis:"x",toRoom:"bookworld7"},position:{x:3,y:8,z:0},type:"door"},"portable-block@3,3,0:Z1UEQTQ":{config:{style:"cube"},position:{x:3,y:3,z:0},type:"portable-block"},"portable-block@4,3,0:Z1UEQTQ":{config:{style:"cube"},position:{x:4,y:3,z:0},type:"portable-block"}},planet:"bookworld",size:{x:8,y:8},walls:{away:["book","book","person","none","none","person","book","book"],left:["book","book","person","book","book","person","book","book"]}},bookworld9:{color:"white",floor:"bookworld",floorSkip:[],id:"bookworld9",items:{"book@3,2,0:1g3d60":{config:{slider:!0},position:{x:3,y:2,z:0},type:"book"},"door@0,1,0:2cFfXD":{config:{axis:"y",toRoom:"bookworld10"},position:{x:0,y:1,z:0},type:"door"},"door@3,0,0:2aqIOl":{config:{axis:"x",toRoom:"bookworld21"},position:{x:3,y:0,z:0},type:"door"},"door@8,1,0:Z2dJrkk":{config:{axis:"y",toRoom:"bookworld8"},position:{x:8,y:1,z:0},type:"door"}},planet:"bookworld",size:{x:8,y:4},walls:{away:["book","book","person","book","book","person","book","book"],left:["book","none","none","book"]}},egyptus1:{color:"yellow",floor:"egyptus",floorSkip:[],id:"egyptus1",items:{"door@8,3,0:1KWpIJ":{config:{axis:"y",toRoom:"egyptus2"},position:{x:8,y:3,z:0},type:"door"},"teleporter@3,3,0:Z2sJibM":{config:{toRoom:"moonbase24toegyptus"},position:{x:3,y:3,z:0},type:"teleporter"},"teleporter@3,4,0:Z2sJibM":{config:{toRoom:"moonbase24toegyptus"},position:{x:3,y:4,z:0},type:"teleporter"},"teleporter@4,3,0:Z2sJibM":{config:{toRoom:"moonbase24toegyptus"},position:{x:4,y:3,z:0},type:"teleporter"},"teleporter@4,4,0:Z2sJibM":{config:{toRoom:"moonbase24toegyptus"},position:{x:4,y:4,z:0},type:"teleporter"}},planet:"egyptus",size:{x:8,y:8},walls:{away:["hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics"],left:["hieroglyphics","sarcophagus","hieroglyphics","none","none","hieroglyphics","sarcophagus","hieroglyphics"]}},egyptus10:{color:"cyan",floor:"egyptus",floorSkip:[],id:"egyptus10",items:{"block@7,2,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:2,z:0},type:"block"},"block@7,2,1:ZlEwyj":{config:{style:"organic"},position:{x:7,y:2,z:1},type:"block"},"block@7,2,3:ZlEwyj":{config:{style:"organic"},position:{x:7,y:2,z:3},type:"block"},"block@7,3,3:ZlEwyj":{config:{style:"organic"},position:{x:7,y:3,z:3},type:"block"},"block@7,4,3:ZlEwyj":{config:{style:"organic"},position:{x:7,y:4,z:3},type:"block"},"door@3,0,0:IbP1q":{config:{axis:"x",toRoom:"egyptus9fish"},position:{x:3,y:0,z:0},type:"door"},"door@3,8,5:ZYEmmi":{config:{axis:"x",toRoom:"egyptus15"},position:{x:3,y:8,z:5},type:"door"},"door@8,3,5:Z14uA7F":{config:{axis:"y",toRoom:"egyptus11"},position:{x:8,y:3,z:5},type:"door"},"hush-puppy@1,7,0:13y":{config:{},position:{x:1,y:7,z:0},type:"hush-puppy"},"hush-puppy@2,7,1:13y":{config:{},position:{x:2,y:7,z:1},type:"hush-puppy"},"hush-puppy@3,7,2:13y":{config:{},position:{x:3,y:7,z:2},type:"hush-puppy"},"hush-puppy@4,7,3:13y":{config:{},position:{x:4,y:7,z:3},type:"hush-puppy"}},planet:"egyptus",size:{x:8,y:8},walls:{away:["hieroglyphics","sarcophagus","hieroglyphics","none","none","hieroglyphics","sarcophagus","hieroglyphics"],left:["hieroglyphics","sarcophagus","hieroglyphics","none","none","hieroglyphics","sarcophagus","hieroglyphics"]}},egyptus11:{color:"white",floor:"egyptus",floorSkip:[],id:"egyptus11",items:{"door@0,0,0:Z14uAnq":{config:{axis:"y",toRoom:"egyptus10"},position:{x:0,y:0,z:0},type:"door"},"door@8,0,0:Z14uzQU":{config:{axis:"y",toRoom:"egyptus12"},position:{x:8,y:0,z:0},type:"door"}},planet:"egyptus",size:{x:8,y:2},walls:{away:["hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics"],left:["none","none"]}},egyptus12:{color:"white",floor:"egyptus",floorSkip:[],id:"egyptus12",items:{"block@2,3,0:ZlEwyj":{config:{style:"organic"},position:{x:2,y:3,z:0},type:"block"},"block@3,2,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:2,z:0},type:"block"},"block@3,3,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:3,z:0},type:"block"},"block@3,4,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:4,z:0},type:"block"},"block@4,3,0:ZlEwyj":{config:{style:"organic"},position:{x:4,y:3,z:0},type:"block"},"charles@7,2,1:13y":{config:{},position:{x:7,y:2,z:1},type:"charles"},"deadly-block@6,4,3:ZWGEjo":{config:{style:"volcano"},position:{x:6,y:4,z:3},type:"deadly-block"},"deadly-block@7,1,0:ZWGEjo":{config:{style:"volcano"},position:{x:7,y:1,z:0},type:"deadly-block"},"deadly-block@7,1,3:ZWGEjo":{config:{style:"volcano"},position:{x:7,y:1,z:3},type:"deadly-block"},"deadly-block@7,2,0:ZWGEjo":{config:{style:"volcano"},position:{x:7,y:2,z:0},type:"deadly-block"},"deadly-block@7,2,3:ZWGEjo":{config:{style:"volcano"},position:{x:7,y:2,z:3},type:"deadly-block"},"deadly-block@7,3,3:ZWGEjo":{config:{style:"volcano"},position:{x:7,y:3,z:3},type:"deadly-block"},"deadly-block@7,4,3:ZWGEjo":{config:{style:"volcano"},position:{x:7,y:4,z:3},type:"deadly-block"},"deadly-block@7,5,3:ZWGEjo":{config:{style:"volcano"},position:{x:7,y:5,z:3},type:"deadly-block"},"deadly-block@7,6,3:ZWGEjo":{config:{style:"volcano"},position:{x:7,y:6,z:3},type:"deadly-block"},"door@0,3,0:Z14uA7F":{config:{axis:"y",toRoom:"egyptus11"},position:{x:0,y:3,z:0},type:"door"},"door@3,8,5:ZYEmRN":{config:{axis:"x",toRoom:"egyptus13"},position:{x:3,y:8,z:5},type:"door"},"joystick@2,3,1:13y":{config:{},position:{x:2,y:3,z:1},type:"joystick"},"joystick@3,2,1:13y":{config:{},position:{x:3,y:2,z:1},type:"joystick"},"joystick@3,4,1:13y":{config:{},position:{x:3,y:4,z:1},type:"joystick"},"joystick@4,3,1:13y":{config:{},position:{x:4,y:3,z:1},type:"joystick"},"lift@7,0,0:ZTwqo1":{config:{bottom:0,top:8},position:{x:7,y:0,z:0},type:"lift"},"movable-block@6,4,4:1EfFpg":{config:{style:"sandwich"},position:{x:6,y:4,z:4},type:"movable-block"}},planet:"egyptus",size:{x:8,y:8},walls:{away:["hieroglyphics","sarcophagus","hieroglyphics","none","none","hieroglyphics","sarcophagus","hieroglyphics"],left:["hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics"]}},egyptus13:{color:"white",floor:"egyptus",floorSkip:[],id:"egyptus13",items:{"block@2,0,4:ZlEwyj":{config:{style:"organic"},position:{x:2,y:0,z:4},type:"block"},"block@3,0,4:ZlEwyj":{config:{style:"organic"},position:{x:3,y:0,z:4},type:"block"},"block@4,0,4:ZlEwyj":{config:{style:"organic"},position:{x:4,y:0,z:4},type:"block"},"block@5,0,4:ZlEwyj":{config:{style:"organic"},position:{x:5,y:0,z:4},type:"block"},"block@6,0,4:ZlEwyj":{config:{style:"organic"},position:{x:6,y:0,z:4},type:"block"},"block@7,0,4:ZlEwyj":{config:{style:"organic"},position:{x:7,y:0,z:4},type:"block"},"block@7,0,6:ZlEwyj":{config:{style:"organic"},position:{x:7,y:0,z:6},type:"block"},"door@3,0,0:ZYEn8y":{config:{axis:"x",toRoom:"egyptus12"},position:{x:3,y:0,z:0},type:"door"},"lift@0,0,2:Z1mTXpf":{config:{bottom:2,top:9},position:{x:0,y:0,z:2},type:"lift"},"movable-block@1,0,0:Z15GVb5":{config:{style:"anvil"},position:{x:1,y:0,z:0},type:"movable-block"},"spring@7,0,7:13y":{config:{},position:{x:7,y:0,z:7},type:"spring"},"teleporter@4,0,5:2pRcKO":{config:{toRoom:"egyptus9fish"},position:{x:4,y:0,z:5},type:"teleporter"}},planet:"egyptus",roomAbove:"egyptus14",size:{x:8,y:8},walls:{away:["hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics"],left:["hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics"]}},egyptus14:{color:"white",floor:"none",floorSkip:[],id:"egyptus14",items:{"block@2,7,1:ZlEwyj":{config:{style:"organic"},position:{x:2,y:7,z:1},type:"block"},"block@3,7,1:ZlEwyj":{config:{style:"organic"},position:{x:3,y:7,z:1},type:"block"},"block@4,7,1:ZlEwyj":{config:{style:"organic"},position:{x:4,y:7,z:1},type:"block"},"block@7,0,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:0,z:0},type:"block"},"block@7,0,4:ZlEwyj":{config:{style:"organic"},position:{x:7,y:0,z:4},type:"block"},"block@7,0,6:ZlEwyj":{config:{style:"organic"},position:{x:7,y:0,z:6},type:"block"},"block@7,1,7:ZlEwyj":{config:{style:"organic"},position:{x:7,y:1,z:7},type:"block"},"block@7,3,2:ZlEwyj":{config:{style:"organic"},position:{x:7,y:3,z:2},type:"block"},"door@3,8,3:ZYElA2":{config:{axis:"x",toRoom:"egyptus18"},position:{x:3,y:8,z:3},type:"door"},"lift@0,7,0:ZTwqnv":{config:{bottom:0,top:9},position:{x:0,y:7,z:0},type:"lift"}},planet:"egyptus",roomAbove:"egyptus19",roomBelow:"egyptus13",size:{x:8,y:8},walls:{away:["hieroglyphics","sarcophagus","hieroglyphics","none","none","hieroglyphics","sarcophagus","hieroglyphics"],left:["hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics"]}},egyptus15:{color:"white",floor:"egyptus",floorSkip:[],id:"egyptus15",items:{"block@0,5,2:ZlEwyj":{config:{style:"organic"},position:{x:0,y:5,z:2},type:"block"},"block@0,5,6:ZlEwyj":{config:{style:"organic"},position:{x:0,y:5,z:6},type:"block"},"block@1,5,1:ZlEwyj":{config:{style:"organic"},position:{x:1,y:5,z:1},type:"block"},"block@1,5,5:ZlEwyj":{config:{style:"organic"},position:{x:1,y:5,z:5},type:"block"},"block@2,5,3:ZlEwyj":{config:{style:"organic"},position:{x:2,y:5,z:3},type:"block"},"block@3,5,1:ZlEwyj":{config:{style:"organic"},position:{x:3,y:5,z:1},type:"block"},"block@3,5,4:ZlEwyj":{config:{style:"organic"},position:{x:3,y:5,z:4},type:"block"},"block@5,5,0:ZlEwyj":{config:{style:"organic"},position:{x:5,y:5,z:0},type:"block"},"deadly-block@0,5,0:ZaRhUQ":{config:{style:"spikes"},position:{x:0,y:5,z:0},type:"deadly-block"},"door@2,0,0:ZYEnE4":{config:{axis:"x",toRoom:"egyptus10"},position:{x:2,y:0,z:0},type:"door"},"spring@0,5,7:13y":{config:{},position:{x:0,y:5,z:7},type:"spring"}},planet:"egyptus",roomAbove:"egyptus16",size:{x:6,y:6},walls:{away:["hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics"],left:["hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics"]}},egyptus16:{color:"white",floor:"none",floorSkip:[],id:"egyptus16",items:{"block@0,5,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:5,z:0},type:"block"},"block@1,5,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:5,z:0},type:"block"},"block@2,5,0:ZlEwyj":{config:{style:"organic"},position:{x:2,y:5,z:0},type:"block"},"block@3,5,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:5,z:0},type:"block"},"block@4,5,0:ZlEwyj":{config:{style:"organic"},position:{x:4,y:5,z:0},type:"block"},"block@5,5,0:ZlEwyj":{config:{style:"organic"},position:{x:5,y:5,z:0},type:"block"},"door@2,6,1:ZYElPM":{config:{axis:"x",toRoom:"egyptus17"},position:{x:2,y:6,z:1},type:"door"}},planet:"egyptus",roomBelow:"egyptus15",size:{x:6,y:6},walls:{away:["hieroglyphics","hieroglyphics","none","none","hieroglyphics","hieroglyphics"],left:["hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics"]}},egyptus17:{color:"white",floor:"deadly",floorSkip:[],id:"egyptus17",items:{"baddie@5,1,0:ZDh8Vf":{config:{startDirection:"away",which:"turtle"},position:{x:5,y:1,z:0},type:"baddie"},"block@0,0,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:0,z:0},type:"block"},"block@0,5,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:5,z:0},type:"block"},"block@1,0,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:0,z:0},type:"block"},"block@1,5,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:5,z:0},type:"block"},"block@10,5,0:ZlEwyj":{config:{style:"organic"},position:{x:10,y:5,z:0},type:"block"},"block@11,2,0:ZlEwyj":{config:{style:"organic"},position:{x:11,y:2,z:0},type:"block"},"block@11,3,0:ZlEwyj":{config:{style:"organic"},position:{x:11,y:3,z:0},type:"block"},"block@11,5,0:ZlEwyj":{config:{style:"organic"},position:{x:11,y:5,z:0},type:"block"},"block@2,0,0:ZlEwyj":{config:{style:"organic"},position:{x:2,y:0,z:0},type:"block"},"block@2,5,0:ZlEwyj":{config:{style:"organic"},position:{x:2,y:5,z:0},type:"block"},"block@3,0,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:0,z:0},type:"block"},"block@3,5,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:5,z:0},type:"block"},"block@4,0,0:ZlEwyj":{config:{style:"organic"},position:{x:4,y:0,z:0},type:"block"},"block@4,5,0:ZlEwyj":{config:{style:"organic"},position:{x:4,y:5,z:0},type:"block"},"block@5,0,0:ZlEwyj":{config:{style:"organic"},position:{x:5,y:0,z:0},type:"block"},"block@5,5,0:ZlEwyj":{config:{style:"organic"},position:{x:5,y:5,z:0},type:"block"},"block@6,0,0:ZlEwyj":{config:{style:"organic"},position:{x:6,y:0,z:0},type:"block"},"block@6,5,0:ZlEwyj":{config:{style:"organic"},position:{x:6,y:5,z:0},type:"block"},"block@7,5,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:5,z:0},type:"block"},"block@8,5,0:ZlEwyj":{config:{style:"organic"},position:{x:8,y:5,z:0},type:"block"},"block@9,5,0:ZlEwyj":{config:{style:"organic"},position:{x:9,y:5,z:0},type:"block"},"deadly-block@4,1,0:ZaRhUQ":{config:{style:"spikes"},position:{x:4,y:1,z:0},type:"deadly-block"},"door@12,2,2:Z14uyjo":{config:{axis:"y",toRoom:"egyptus18"},position:{x:12,y:2,z:2},type:"door"},"door@2,0,1:ZYEm6x":{config:{axis:"x",toRoom:"egyptus16"},position:{x:2,y:0,z:1},type:"door"},"portable-block@1,0,1:Z14c3Fl":{config:{style:"sticks"},position:{x:1,y:0,z:1},type:"portable-block"}},planet:"egyptus",size:{x:12,y:6},walls:{away:["hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics"],left:["hieroglyphics","hieroglyphics","none","none","hieroglyphics","hieroglyphics"]}},egyptus18:{color:"white",floor:"egyptus",floorSkip:[],id:"egyptus18",items:{"door@0,2,4:Z14uyz9":{config:{axis:"y",toRoom:"egyptus17"},position:{x:0,y:2,z:4},type:"door"},"door@2,0,0:ZYEmC3":{config:{axis:"x",toRoom:"egyptus14"},position:{x:2,y:0,z:0},type:"door"}},planet:"egyptus",size:{x:6,y:6},walls:{away:["hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics"],left:["hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics"]}},egyptus19:{color:"white",floor:"none",floorSkip:[],id:"egyptus19",items:{"barrier@7,3,2:Is9Xq":{config:{axis:"y"},position:{x:7,y:3,z:2},type:"barrier"},"barrier@7,3,4:Is9Xq":{config:{axis:"y"},position:{x:7,y:3,z:4},type:"barrier"},"barrier@7,3,6:Is9Xq":{config:{axis:"y"},position:{x:7,y:3,z:6},type:"barrier"},"block@0,7,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:7,z:0},type:"block"},"block@2,7,1:ZlEwyj":{config:{style:"organic"},position:{x:2,y:7,z:1},type:"block"},"block@4,7,2:ZlEwyj":{config:{style:"organic"},position:{x:4,y:7,z:2},type:"block"},"block@7,0,7:ZlEwyj":{config:{style:"organic"},position:{x:7,y:0,z:7},type:"block"},"block@7,1,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:1,z:0},type:"block"},"lift@5,7,0:ZTwqnv":{config:{bottom:0,top:9},position:{x:5,y:7,z:0},type:"lift"}},planet:"egyptus",roomAbove:"egyptus20",roomBelow:"egyptus14",size:{x:8,y:8},walls:{away:["hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics"],left:["hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics"]}},egyptus2:{color:"white",floor:"egyptus",floorSkip:[],id:"egyptus2",items:{"baddie@2,3,0:Z1w4InY":{config:{which:"dalek"},position:{x:2,y:3,z:0},type:"baddie"},"baddie@2,4,0:Z1w4InY":{config:{which:"dalek"},position:{x:2,y:4,z:0},type:"baddie"},"block@0,3,0:Z1bIU4r":{config:{style:"artificial"},position:{x:0,y:3,z:0},type:"block"},"block@0,4,0:Z1bIU4r":{config:{style:"artificial"},position:{x:0,y:4,z:0},type:"block"},"block@6,3,3:Z1bIU4r":{config:{style:"artificial"},position:{x:6,y:3,z:3},type:"block"},"block@6,4,3:Z1bIU4r":{config:{style:"artificial"},position:{x:6,y:4,z:3},type:"block"},"block@7,3,3:Z1bIU4r":{config:{style:"artificial"},position:{x:7,y:3,z:3},type:"block"},"block@7,4,3:Z1bIU4r":{config:{style:"artificial"},position:{x:7,y:4,z:3},type:"block"},"door@0,3,1:1KWpsY":{config:{axis:"y",toRoom:"egyptus1"},position:{x:0,y:3,z:1},type:"door"},"door@8,3,5:1KWpYu":{config:{axis:"y",toRoom:"egyptus3"},position:{x:8,y:3,z:5},type:"door"},"hush-puppy@3,4,0:13y":{config:{},position:{x:3,y:4,z:0},type:"hush-puppy"},"hush-puppy@4,4,1:13y":{config:{},position:{x:4,y:4,z:1},type:"hush-puppy"},"hush-puppy@5,4,2:13y":{config:{},position:{x:5,y:4,z:2},type:"hush-puppy"},"spring@6,3,4:13y":{config:{},position:{x:6,y:3,z:4},type:"spring"}},planet:"egyptus",size:{x:8,y:8},walls:{away:["hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics"],left:["hieroglyphics","sarcophagus","hieroglyphics","none","none","hieroglyphics","sarcophagus","hieroglyphics"]}},egyptus20:{color:"white",floor:"none",floorSkip:[],id:"egyptus20",items:{"block@5,7,0:ZlEwyj":{config:{style:"organic"},position:{x:5,y:7,z:0},type:"block"},"block@7,0,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:0,z:0},type:"block"},"block@7,3,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:3,z:0},type:"block"},"block@7,4,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:4,z:0},type:"block"},"block@7,5,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:5,z:0},type:"block"},"block@7,7,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:7,z:0},type:"block"},"door@8,3,2:Z14us7i":{config:{axis:"y",toRoom:"egyptus21"},position:{x:8,y:3,z:2},type:"door"}},planet:"egyptus",roomBelow:"egyptus19",size:{x:8,y:8},walls:{away:["hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics"],left:["hieroglyphics","sarcophagus","hieroglyphics","none","none","hieroglyphics","sarcophagus","hieroglyphics"]}},egyptus21:{color:"white",floor:"egyptus",floorSkip:[],id:"egyptus21",items:{"door@0,0,0:Z14usn3":{config:{axis:"y",toRoom:"egyptus20"},position:{x:0,y:0,z:0},type:"door"},"door@8,0,0:Z14urQx":{config:{axis:"y",toRoom:"egyptus22"},position:{x:8,y:0,z:0},type:"door"}},planet:"egyptus",size:{x:8,y:2},walls:{away:["hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics"],left:["none","none"]}},egyptus22:{color:"white",floor:"egyptus",floorSkip:[],id:"egyptus22",items:{"baddie@4,0,0:Z1w4InY":{config:{which:"dalek"},position:{x:4,y:0,z:0},type:"baddie"},"baddie@4,2,0:v0szb":{config:{which:"helicopter-bug"},position:{x:4,y:2,z:0},type:"baddie"},"barrier@2,2,0:Is9Xq":{config:{axis:"y"},position:{x:2,y:2,z:0},type:"barrier"},"barrier@2,2,1:Is9Xq":{config:{axis:"y"},position:{x:2,y:2,z:1},type:"barrier"},"barrier@2,2,2:Is9Xq":{config:{axis:"y"},position:{x:2,y:2,z:2},type:"barrier"},"barrier@2,3,0:Is9Xq":{config:{axis:"y"},position:{x:2,y:3,z:0},type:"barrier"},"barrier@2,3,1:Is9Xq":{config:{axis:"y"},position:{x:2,y:3,z:1},type:"barrier"},"barrier@2,3,2:Is9Xq":{config:{axis:"y"},position:{x:2,y:3,z:2},type:"barrier"},"barrier@2,4,0:Is9Xq":{config:{axis:"y"},position:{x:2,y:4,z:0},type:"barrier"},"barrier@2,4,1:Is9Xq":{config:{axis:"y"},position:{x:2,y:4,z:1},type:"barrier"},"barrier@2,4,2:Is9Xq":{config:{axis:"y"},position:{x:2,y:4,z:2},type:"barrier"},"barrier@2,5,0:Is9Xq":{config:{axis:"y"},position:{x:2,y:5,z:0},type:"barrier"},"barrier@2,5,1:Is9Xq":{config:{axis:"y"},position:{x:2,y:5,z:1},type:"barrier"},"barrier@2,5,2:Is9Xq":{config:{axis:"y"},position:{x:2,y:5,z:2},type:"barrier"},"door@0,2,0:Z14us7i":{config:{axis:"y",toRoom:"egyptus21"},position:{x:0,y:2,z:0},type:"door"},"door@3,6,0:ZYEeRq":{config:{axis:"x",toRoom:"egyptus23"},position:{x:3,y:6,z:0},type:"door"}},planet:"egyptus",size:{x:8,y:6},walls:{away:["hieroglyphics","sarcophagus","hieroglyphics","none","none","hieroglyphics","sarcophagus","hieroglyphics"],left:["hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics"]}},egyptus23:{color:"white",floor:"egyptus",floorSkip:[],id:"egyptus23",items:{"block@0,3,5:ZlEwyj":{config:{style:"organic"},position:{x:0,y:3,z:5},type:"block"},"block@0,4,5:ZlEwyj":{config:{style:"organic"},position:{x:0,y:4,z:5},type:"block"},"block@0,5,5:ZlEwyj":{config:{style:"organic"},position:{x:0,y:5,z:5},type:"block"},"block@1,5,5:ZlEwyj":{config:{style:"organic"},position:{x:1,y:5,z:5},type:"block"},"block@2,5,5:ZlEwyj":{config:{style:"organic"},position:{x:2,y:5,z:5},type:"block"},"block@3,5,5:ZlEwyj":{config:{style:"organic"},position:{x:3,y:5,z:5},type:"block"},"block@4,5,5:ZlEwyj":{config:{style:"organic"},position:{x:4,y:5,z:5},type:"block"},"block@5,5,5:ZlEwyj":{config:{style:"organic"},position:{x:5,y:5,z:5},type:"block"},"block@7,1,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:1,z:0},type:"block"},"block@7,1,1:ZlEwyj":{config:{style:"organic"},position:{x:7,y:1,z:1},type:"block"},"block@7,5,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:5,z:0},type:"block"},"block@7,5,1:ZlEwyj":{config:{style:"organic"},position:{x:7,y:5,z:1},type:"block"},"block@7,5,2:ZlEwyj":{config:{style:"organic"},position:{x:7,y:5,z:2},type:"block"},"block@7,5,3:ZlEwyj":{config:{style:"organic"},position:{x:7,y:5,z:3},type:"block"},"deadly-block@0,0,0:ZWGEjo":{config:{style:"volcano"},position:{x:0,y:0,z:0},type:"deadly-block"},"deadly-block@0,1,0:ZWGEjo":{config:{style:"volcano"},position:{x:0,y:1,z:0},type:"deadly-block"},"deadly-block@0,2,0:ZWGEjo":{config:{style:"volcano"},position:{x:0,y:2,z:0},type:"deadly-block"},"deadly-block@0,3,0:ZWGEjo":{config:{style:"volcano"},position:{x:0,y:3,z:0},type:"deadly-block"},"deadly-block@0,4,0:ZWGEjo":{config:{style:"volcano"},position:{x:0,y:4,z:0},type:"deadly-block"},"deadly-block@0,5,0:ZWGEjo":{config:{style:"volcano"},position:{x:0,y:5,z:0},type:"deadly-block"},"deadly-block@1,0,0:ZWGEjo":{config:{style:"volcano"},position:{x:1,y:0,z:0},type:"deadly-block"},"deadly-block@1,1,0:ZWGEjo":{config:{style:"volcano"},position:{x:1,y:1,z:0},type:"deadly-block"},"deadly-block@1,2,0:ZWGEjo":{config:{style:"volcano"},position:{x:1,y:2,z:0},type:"deadly-block"},"deadly-block@1,3,0:ZWGEjo":{config:{style:"volcano"},position:{x:1,y:3,z:0},type:"deadly-block"},"deadly-block@1,4,0:ZWGEjo":{config:{style:"volcano"},position:{x:1,y:4,z:0},type:"deadly-block"},"deadly-block@1,5,0:ZWGEjo":{config:{style:"volcano"},position:{x:1,y:5,z:0},type:"deadly-block"},"deadly-block@2,0,0:ZWGEjo":{config:{style:"volcano"},position:{x:2,y:0,z:0},type:"deadly-block"},"deadly-block@2,1,0:ZWGEjo":{config:{style:"volcano"},position:{x:2,y:1,z:0},type:"deadly-block"},"deadly-block@2,2,0:ZWGEjo":{config:{style:"volcano"},position:{x:2,y:2,z:0},type:"deadly-block"},"deadly-block@2,3,0:ZWGEjo":{config:{style:"volcano"},position:{x:2,y:3,z:0},type:"deadly-block"},"deadly-block@2,4,0:ZWGEjo":{config:{style:"volcano"},position:{x:2,y:4,z:0},type:"deadly-block"},"deadly-block@2,5,0:ZWGEjo":{config:{style:"volcano"},position:{x:2,y:5,z:0},type:"deadly-block"},"deadly-block@7,2,0:ZaRhUQ":{config:{style:"spikes"},position:{x:7,y:2,z:0},type:"deadly-block"},"deadly-block@7,4,0:ZaRhUQ":{config:{style:"spikes"},position:{x:7,y:4,z:0},type:"deadly-block"},"door@3,0,0:ZYEf8b":{config:{axis:"x",toRoom:"egyptus22"},position:{x:3,y:0,z:0},type:"door"},"door@3,6,0:ZYEeBF":{config:{axis:"x",toRoom:"egyptus24"},position:{x:3,y:6,z:0},type:"door"},"pickup@0,3,6:1MkQY2":{config:{gives:"extra-life"},position:{x:0,y:3,z:6},type:"pickup"}},planet:"egyptus",size:{x:8,y:6},walls:{away:["hieroglyphics","sarcophagus","hieroglyphics","none","none","hieroglyphics","sarcophagus","hieroglyphics"],left:["hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics"]}},egyptus24:{color:"white",floor:"egyptus",floorSkip:[],id:"egyptus24",items:{"deadly-block@0,1,0:ZWGEjo":{config:{style:"volcano"},position:{x:0,y:1,z:0},type:"deadly-block"},"deadly-block@0,4,0:ZWGEjo":{config:{style:"volcano"},position:{x:0,y:4,z:0},type:"deadly-block"},"deadly-block@1,0,0:ZWGEjo":{config:{style:"volcano"},position:{x:1,y:0,z:0},type:"deadly-block"},"deadly-block@1,5,0:ZWGEjo":{config:{style:"volcano"},position:{x:1,y:5,z:0},type:"deadly-block"},"deadly-block@4,0,0:ZWGEjo":{config:{style:"volcano"},position:{x:4,y:0,z:0},type:"deadly-block"},"deadly-block@4,5,0:ZWGEjo":{config:{style:"volcano"},position:{x:4,y:5,z:0},type:"deadly-block"},"deadly-block@5,1,0:ZWGEjo":{config:{style:"volcano"},position:{x:5,y:1,z:0},type:"deadly-block"},"deadly-block@5,4,0:ZWGEjo":{config:{style:"volcano"},position:{x:5,y:4,z:0},type:"deadly-block"},"door@0,2,0:Z14ur5h":{config:{axis:"y",toRoom:"egyptus25"},position:{x:0,y:2,z:0},type:"door"},"door@2,0,0:ZYEeRq":{config:{axis:"x",toRoom:"egyptus23"},position:{x:2,y:0,z:0},type:"door"}},planet:"egyptus",size:{x:6,y:6},walls:{away:["hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics"],left:["hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics"]}},egyptus25:{color:"white",floor:"egyptus",floorSkip:[],id:"egyptus25",items:{"door@0,1,0:Z14uqyL":{config:{axis:"y",toRoom:"egyptus27"},position:{x:0,y:1,z:0},type:"door"},"door@3,4,0:ZYEe6a":{config:{axis:"x",toRoom:"egyptus26"},position:{x:3,y:4,z:0},type:"door"},"door@8,1,0:Z14url2":{config:{axis:"y",toRoom:"egyptus24"},position:{x:8,y:1,z:0},type:"door"}},planet:"egyptus",size:{x:8,y:4},walls:{away:["hieroglyphics","sarcophagus","hieroglyphics","none","none","hieroglyphics","sarcophagus","hieroglyphics"],left:["hieroglyphics","none","none","hieroglyphics"]}},egyptus26:{color:"white",floor:"egyptus",floorSkip:[],id:"egyptus26",items:{"baddie@7,5,1:Z1w4InY":{config:{which:"dalek"},position:{x:7,y:5,z:1},type:"baddie"},"deadly-block@5,0,0:ZWGEjo":{config:{style:"volcano"},position:{x:5,y:0,z:0},type:"deadly-block"},"deadly-block@5,1,0:ZWGEjo":{config:{style:"volcano"},position:{x:5,y:1,z:0},type:"deadly-block"},"deadly-block@5,2,0:ZWGEjo":{config:{style:"volcano"},position:{x:5,y:2,z:0},type:"deadly-block"},"deadly-block@5,3,0:ZWGEjo":{config:{style:"volcano"},position:{x:5,y:3,z:0},type:"deadly-block"},"deadly-block@5,4,0:ZWGEjo":{config:{style:"volcano"},position:{x:5,y:4,z:0},type:"deadly-block"},"deadly-block@5,5,0:ZWGEjo":{config:{style:"volcano"},position:{x:5,y:5,z:0},type:"deadly-block"},"deadly-block@6,0,0:ZWGEjo":{config:{style:"volcano"},position:{x:6,y:0,z:0},type:"deadly-block"},"deadly-block@6,1,0:ZWGEjo":{config:{style:"volcano"},position:{x:6,y:1,z:0},type:"deadly-block"},"deadly-block@6,2,0:ZWGEjo":{config:{style:"volcano"},position:{x:6,y:2,z:0},type:"deadly-block"},"deadly-block@6,3,0:ZWGEjo":{config:{style:"volcano"},position:{x:6,y:3,z:0},type:"deadly-block"},"deadly-block@6,4,0:ZWGEjo":{config:{style:"volcano"},position:{x:6,y:4,z:0},type:"deadly-block"},"deadly-block@6,5,0:ZWGEjo":{config:{style:"volcano"},position:{x:6,y:5,z:0},type:"deadly-block"},"deadly-block@7,0,0:ZWGEjo":{config:{style:"volcano"},position:{x:7,y:0,z:0},type:"deadly-block"},"deadly-block@7,1,0:ZWGEjo":{config:{style:"volcano"},position:{x:7,y:1,z:0},type:"deadly-block"},"deadly-block@7,2,0:ZWGEjo":{config:{style:"volcano"},position:{x:7,y:2,z:0},type:"deadly-block"},"deadly-block@7,3,0:ZWGEjo":{config:{style:"volcano"},position:{x:7,y:3,z:0},type:"deadly-block"},"deadly-block@7,4,0:ZWGEjo":{config:{style:"volcano"},position:{x:7,y:4,z:0},type:"deadly-block"},"deadly-block@7,5,0:ZWGEjo":{config:{style:"volcano"},position:{x:7,y:5,z:0},type:"deadly-block"},"door@0,2,0:Z14uqj1":{config:{axis:"y",toRoom:"egyptus28"},position:{x:0,y:2,z:0},type:"door"},"door@3,0,0:ZYEelU":{config:{axis:"x",toRoom:"egyptus25"},position:{x:3,y:0,z:0},type:"door"},"pickup@7,3,1:1MkQY2":{config:{gives:"extra-life"},position:{x:7,y:3,z:1},type:"pickup"}},planet:"egyptus",size:{x:8,y:6},walls:{away:["hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics"],left:["hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics"]}},egyptus27:{color:"white",floor:"deadly",floorSkip:[],id:"egyptus27",items:{"block@0,7,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:7,z:0},type:"block"},"block@1,7,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:7,z:0},type:"block"},"block@2,7,0:ZlEwyj":{config:{style:"organic"},position:{x:2,y:7,z:0},type:"block"},"block@3,7,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:7,z:0},type:"block"},"block@4,7,0:ZlEwyj":{config:{style:"organic"},position:{x:4,y:7,z:0},type:"block"},"block@5,7,0:ZlEwyj":{config:{style:"organic"},position:{x:5,y:7,z:0},type:"block"},"block@6,7,0:ZlEwyj":{config:{style:"organic"},position:{x:6,y:7,z:0},type:"block"},"block@7,0,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:0,z:0},type:"block"},"block@7,1,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:1,z:0},type:"block"},"block@7,2,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:2,z:0},type:"block"},"block@7,3,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:3,z:0},type:"block"},"block@7,4,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:4,z:0},type:"block"},"block@7,5,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:5,z:0},type:"block"},"block@7,6,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:6,z:0},type:"block"},"block@7,7,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:7,z:0},type:"block"},"door@3,8,2:ZYEdzE":{config:{axis:"x",toRoom:"egyptus28"},position:{x:3,y:8,z:2},type:"door"},"door@8,3,2:Z14ur5h":{config:{axis:"y",toRoom:"egyptus25"},position:{x:8,y:3,z:2},type:"door"},"pickup@2,2,0:DHWsf":{config:{gives:"shield"},position:{x:2,y:2,z:0},type:"pickup"}},planet:"egyptus",size:{x:8,y:8},walls:{away:["hieroglyphics","sarcophagus","hieroglyphics","none","none","hieroglyphics","sarcophagus","hieroglyphics"],left:["hieroglyphics","sarcophagus","hieroglyphics","none","none","hieroglyphics","sarcophagus","hieroglyphics"]}},egyptus28:{color:"white",floor:"egyptus",floorSkip:[],id:"egyptus28",items:{"door@0,2,0:Z14uq3g":{config:{axis:"y",toRoom:"egyptus29"},position:{x:0,y:2,z:0},type:"door"},"door@3,0,0:ZYEdPp":{config:{axis:"x",toRoom:"egyptus27"},position:{x:3,y:0,z:0},type:"door"},"door@8,2,0:Z14uqOw":{config:{axis:"y",toRoom:"egyptus26"},position:{x:8,y:2,z:0},type:"door"},"fish@4,3,0:2eEoj9":{config:{alive:!1},position:{x:4,y:3,z:0},type:"fish"}},planet:"egyptus",size:{x:8,y:6},walls:{away:["hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics"],left:["hieroglyphics","hieroglyphics","none","none","hieroglyphics","hieroglyphics"]}},egyptus29:{color:"white",floor:"none",floorSkip:[],id:"egyptus29",items:{"block@5,0,0:ZlEwyj":{config:{style:"organic"},position:{x:5,y:0,z:0},type:"block"},"block@5,3,0:ZlEwyj":{config:{style:"organic"},position:{x:5,y:3,z:0},type:"block"},"block@5,4,0:ZlEwyj":{config:{style:"organic"},position:{x:5,y:4,z:0},type:"block"},"door@6,3,2:Z14uqj1":{config:{axis:"y",toRoom:"egyptus28"},position:{x:6,y:3,z:2},type:"door"}},planet:"egyptus",roomBelow:"egyptus30",size:{x:6,y:8},walls:{away:["hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics"],left:["hieroglyphics","sarcophagus","hieroglyphics","none","none","hieroglyphics","sarcophagus","hieroglyphics"]}},egyptus3:{color:"magenta",floor:"egyptus",floorSkip:[],id:"egyptus3",items:{"door@0,0,0:1KWpIJ":{config:{axis:"y",toRoom:"egyptus2"},position:{x:0,y:0,z:0},type:"door"},"door@8,0,4:1KWqff":{config:{axis:"y",toRoom:"egyptus4"},position:{x:8,y:0,z:4},type:"door"},"spring@4,1,0:13y":{config:{},position:{x:4,y:1,z:0},type:"spring"}},planet:"egyptus",size:{x:8,y:2},walls:{away:["hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics"],left:["none","none"]}},egyptus30:{color:"white",floor:"none",floorSkip:[],id:"egyptus30",items:{"lift@5,0,0:ZTwqnv":{config:{bottom:0,top:9},position:{x:5,y:0,z:0},type:"lift"}},planet:"egyptus",roomAbove:"egyptus29",roomBelow:"egyptus31",size:{x:6,y:8},walls:{away:["hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics"],left:["hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics"]}},egyptus31:{color:"white",floor:"egyptus",floorSkip:[],id:"egyptus31",items:{"baddie@2,0,0:1qFC6w":{config:{which:"bubble-robot"},position:{x:2,y:0,z:0},type:"baddie"},"door@0,3,0:Z14ujQa":{config:{axis:"y",toRoom:"egyptus32"},position:{x:0,y:3,z:0},type:"door"},"lift@5,0,0:ZTwqnv":{config:{bottom:0,top:9},position:{x:5,y:0,z:0},type:"lift"}},planet:"egyptus",roomAbove:"egyptus30",size:{x:6,y:8},walls:{away:["hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics"],left:["hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics"]}},egyptus32:{color:"white",floor:"none",floorSkip:[],id:"egyptus32",items:{"block@7,0,3:ZlEwyj":{config:{style:"organic"},position:{x:7,y:0,z:3},type:"block"},"block@7,1,3:ZlEwyj":{config:{style:"organic"},position:{x:7,y:1,z:3},type:"block"},"door@8,0,5:Z14uk6U":{config:{axis:"y",toRoom:"egyptus31"},position:{x:8,y:0,z:5},type:"door"}},planet:"egyptus",roomBelow:"egyptus33",size:{x:8,y:2},walls:{away:["hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics"],left:["none","none"]}},egyptus33:{color:"white",floor:"egyptus",floorSkip:[],id:"egyptus33",items:{"door@3,2,0:Z1Spl7t":{config:{axis:"x",toRoom:"egyptus34fish"},position:{x:3,y:2,z:0},type:"door"}},planet:"egyptus",roomAbove:"egyptus32",size:{x:8,y:2},walls:{away:["hieroglyphics","sarcophagus","hieroglyphics","none","none","hieroglyphics","sarcophagus","hieroglyphics"],left:["hieroglyphics","hieroglyphics"]}},egyptus34fish:{color:"white",floor:"egyptus",floorSkip:[],id:"egyptus34fish",items:{"baddie@5,4,0:Z1w4InY":{config:{which:"dalek"},position:{x:5,y:4,z:0},type:"baddie"},"ball@0,2,1:13y":{config:{},position:{x:0,y:2,z:1},type:"ball"},"block@0,2,0:Z1bIU4r":{config:{style:"artificial"},position:{x:0,y:2,z:0},type:"block"},"block@0,3,0:Z1bIU4r":{config:{style:"artificial"},position:{x:0,y:3,z:0},type:"block"},"block@0,6,0:Z1bIU4r":{config:{style:"artificial"},position:{x:0,y:6,z:0},type:"block"},"block@0,7,0:Z1bIU4r":{config:{style:"artificial"},position:{x:0,y:7,z:0},type:"block"},"block@0,7,1:Z1bIU4r":{config:{style:"artificial"},position:{x:0,y:7,z:1},type:"block"},"block@0,7,2:Z1bIU4r":{config:{style:"artificial"},position:{x:0,y:7,z:2},type:"block"},"block@0,7,3:Z1bIU4r":{config:{style:"artificial"},position:{x:0,y:7,z:3},type:"block"},"block@0,7,4:Z1bIU4r":{config:{style:"artificial"},position:{x:0,y:7,z:4},type:"block"},"door@2,0,0:ZYE6R3":{config:{axis:"x",toRoom:"egyptus33"},position:{x:2,y:0,z:0},type:"door"},"door@2,8,0:ZYE6lx":{config:{axis:"x",toRoom:"egyptus35"},position:{x:2,y:8,z:0},type:"door"},"fish@0,7,5:ZyDpHa":{config:{alive:!0},position:{x:0,y:7,z:5},type:"fish"}},planet:"egyptus",size:{x:6,y:8},walls:{away:["hieroglyphics","hieroglyphics","none","none","hieroglyphics","hieroglyphics"],left:["hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics"]}},egyptus35:{color:"white",floor:"egyptus",floorSkip:[],id:"egyptus35",items:{"block@1,2,4:Z1bIU4r":{config:{style:"artificial"},position:{x:1,y:2,z:4},type:"block"},"block@1,3,4:Z1bIU4r":{config:{style:"artificial"},position:{x:1,y:3,z:4},type:"block"},"block@1,4,3:Z1bIU4r":{config:{style:"artificial"},position:{x:1,y:4,z:3},type:"block"},"block@1,5,2:Z1bIU4r":{config:{style:"artificial"},position:{x:1,y:5,z:2},type:"block"},"block@1,6,1:Z1bIU4r":{config:{style:"artificial"},position:{x:1,y:6,z:1},type:"block"},"block@1,7,0:Z1bIU4r":{config:{style:"artificial"},position:{x:1,y:7,z:0},type:"block"},"deadly-block@0,7,2:2u1uHB":{config:{style:"toaster"},position:{x:0,y:7,z:2},type:"deadly-block"},"deadly-block@1,5,5:2u1uHB":{config:{style:"toaster"},position:{x:1,y:5,z:5},type:"deadly-block"},"deadly-block@1,6,4:2u1uHB":{config:{style:"toaster"},position:{x:1,y:6,z:4},type:"deadly-block"},"deadly-block@1,7,3:2u1uHB":{config:{style:"toaster"},position:{x:1,y:7,z:3},type:"deadly-block"},"door@0,0,0:Z1Spl7t":{config:{axis:"x",toRoom:"egyptus34fish"},position:{x:0,y:0,z:0},type:"door"},"portable-block@0,2,0:Z1SKpmn":{config:{style:"drum"},position:{x:0,y:2,z:0},type:"portable-block"},"spring@1,2,5:13y":{config:{},position:{x:1,y:2,z:5},type:"spring"}},planet:"egyptus",roomAbove:"egyptus36",size:{x:2,y:8},walls:{away:["hieroglyphics","hieroglyphics"],left:["hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics"]}},egyptus36:{color:"white",floor:"none",floorSkip:[],id:"egyptus36",items:{"block@1,0,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:0,z:0},type:"block"},"block@1,1,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:1,z:0},type:"block"},"block@1,2,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:2,z:0},type:"block"},"block@1,3,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:3,z:0},type:"block"},"block@1,4,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:4,z:0},type:"block"},"block@1,5,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:5,z:0},type:"block"},"block@1,6,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:6,z:0},type:"block"},"block@1,7,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:7,z:0},type:"block"},"lift@0,0,0:ZTwqnv":{config:{bottom:0,top:9},position:{x:0,y:0,z:0},type:"lift"}},planet:"egyptus",roomAbove:"egyptus37",roomBelow:"egyptus35",size:{x:2,y:8},walls:{away:["hieroglyphics","hieroglyphics"],left:["hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics"]}},egyptus37:{color:"white",floor:"none",floorSkip:[],id:"egyptus37",items:{"block@0,0,0:Z1bIU4r":{config:{style:"artificial"},position:{x:0,y:0,z:0},type:"block"},"block@1,3,0:Z1bIU4r":{config:{style:"artificial"},position:{x:1,y:3,z:0},type:"block"},"block@1,4,0:Z1bIU4r":{config:{style:"artificial"},position:{x:1,y:4,z:0},type:"block"},"door@2,3,2:Z14uiiD":{config:{axis:"y",toRoom:"egyptus38"},position:{x:2,y:3,z:2},type:"door"}},planet:"egyptus",roomBelow:"egyptus36",size:{x:2,y:8},walls:{away:["hieroglyphics","hieroglyphics"],left:["hieroglyphics","sarcophagus","hieroglyphics","none","none","hieroglyphics","sarcophagus","hieroglyphics"]}},egyptus38:{color:"white",floor:"egyptus",floorSkip:[],id:"egyptus38",items:{"ball@1,1,3:13y":{config:{},position:{x:1,y:1,z:3},type:"ball"},"ball@1,6,3:13y":{config:{},position:{x:1,y:6,z:3},type:"ball"},"ball@6,1,3:13y":{config:{},position:{x:6,y:1,z:3},type:"ball"},"ball@6,6,3:13y":{config:{},position:{x:6,y:6,z:3},type:"ball"},"block@1,1,0:Z1qu960":{config:{style:"tower"},position:{x:1,y:1,z:0},type:"block"},"block@1,1,1:Z1qu960":{config:{style:"tower"},position:{x:1,y:1,z:1},type:"block"},"block@1,1,2:Z1qu960":{config:{style:"tower"},position:{x:1,y:1,z:2},type:"block"},"block@1,6,0:Z1qu960":{config:{style:"tower"},position:{x:1,y:6,z:0},type:"block"},"block@1,6,1:Z1qu960":{config:{style:"tower"},position:{x:1,y:6,z:1},type:"block"},"block@1,6,2:Z1qu960":{config:{style:"tower"},position:{x:1,y:6,z:2},type:"block"},"block@6,1,0:Z1qu960":{config:{style:"tower"},position:{x:6,y:1,z:0},type:"block"},"block@6,1,1:Z1qu960":{config:{style:"tower"},position:{x:6,y:1,z:1},type:"block"},"block@6,1,2:Z1qu960":{config:{style:"tower"},position:{x:6,y:1,z:2},type:"block"},"block@6,6,0:Z1qu960":{config:{style:"tower"},position:{x:6,y:6,z:0},type:"block"},"block@6,6,1:Z1qu960":{config:{style:"tower"},position:{x:6,y:6,z:1},type:"block"},"block@6,6,2:Z1qu960":{config:{style:"tower"},position:{x:6,y:6,z:2},type:"block"},"door@0,3,0:Z14uiyo":{config:{axis:"y",toRoom:"egyptus37"},position:{x:0,y:3,z:0},type:"door"},"door@8,3,0:tBrHK":{config:{axis:"y",toRoom:"egyptus39crown"},position:{x:8,y:3,z:0},type:"door"},"teleporter@3,3,0:1roqmH":{config:{toRoom:"egyptus4"},position:{x:3,y:3,z:0},type:"teleporter"},"teleporter@3,4,0:1roqmH":{config:{toRoom:"egyptus4"},position:{x:3,y:4,z:0},type:"teleporter"},"teleporter@4,3,0:1roqmH":{config:{toRoom:"egyptus4"},position:{x:4,y:3,z:0},type:"teleporter"},"teleporter@4,4,0:1roqmH":{config:{toRoom:"egyptus4"},position:{x:4,y:4,z:0},type:"teleporter"}},planet:"egyptus",size:{x:8,y:8},walls:{away:["hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics"],left:["hieroglyphics","sarcophagus","hieroglyphics","none","none","hieroglyphics","sarcophagus","hieroglyphics"]}},egyptus39crown:{color:"white",floor:"egyptus",floorSkip:[],id:"egyptus39crown",items:{"baddie@3,0,0:Z1w4InY":{config:{which:"dalek"},position:{x:3,y:0,z:0},type:"baddie"},"baddie@3,7,0:Z1w4InY":{config:{which:"dalek"},position:{x:3,y:7,z:0},type:"baddie"},"block@3,3,0:Z1bIU4r":{config:{style:"artificial"},position:{x:3,y:3,z:0},type:"block"},"block@3,3,1:Z1bIU4r":{config:{style:"artificial"},position:{x:3,y:3,z:1},type:"block"},"block@3,3,2:Z1bIU4r":{config:{style:"artificial"},position:{x:3,y:3,z:2},type:"block"},"block@4,3,0:Z1bIU4r":{config:{style:"artificial"},position:{x:4,y:3,z:0},type:"block"},"block@4,3,1:Z1bIU4r":{config:{style:"artificial"},position:{x:4,y:3,z:1},type:"block"},"block@4,3,2:Z1bIU4r":{config:{style:"artificial"},position:{x:4,y:3,z:2},type:"block"},"block@4,3,3:Z1bIU4r":{config:{style:"artificial"},position:{x:4,y:3,z:3},type:"block"},"block@4,3,4:Z1bIU4r":{config:{style:"artificial"},position:{x:4,y:3,z:4},type:"block"},"block@4,3,5:Z1bIU4r":{config:{style:"artificial"},position:{x:4,y:3,z:5},type:"block"},"block@4,3,6:Z1bIU4r":{config:{style:"artificial"},position:{x:4,y:3,z:6},type:"block"},"door@0,3,0:Z14uiiD":{config:{axis:"y",toRoom:"egyptus38"},position:{x:0,y:3,z:0},type:"door"},"pickup@4,3,7:2fxkqv":{config:{gives:"crown"},position:{x:4,y:3,z:7},type:"pickup"},"portable-block@3,3,3:Z1UEQTQ":{config:{style:"cube"},position:{x:3,y:3,z:3},type:"portable-block"}},planet:"egyptus",size:{x:8,y:8},walls:{away:["hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics"],left:["hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics"]}},egyptus4:{color:"cyan",floor:"egyptus",floorSkip:[],id:"egyptus4",items:{"ball@1,1,3:13y":{config:{},position:{x:1,y:1,z:3},type:"ball"},"ball@1,6,3:13y":{config:{},position:{x:1,y:6,z:3},type:"ball"},"ball@6,1,3:13y":{config:{},position:{x:6,y:1,z:3},type:"ball"},"ball@6,6,3:13y":{config:{},position:{x:6,y:6,z:3},type:"ball"},"block@1,1,0:Z1qu960":{config:{style:"tower"},position:{x:1,y:1,z:0},type:"block"},"block@1,1,1:Z1qu960":{config:{style:"tower"},position:{x:1,y:1,z:1},type:"block"},"block@1,1,2:Z1qu960":{config:{style:"tower"},position:{x:1,y:1,z:2},type:"block"},"block@1,6,0:Z1qu960":{config:{style:"tower"},position:{x:1,y:6,z:0},type:"block"},"block@1,6,1:Z1qu960":{config:{style:"tower"},position:{x:1,y:6,z:1},type:"block"},"block@1,6,2:Z1qu960":{config:{style:"tower"},position:{x:1,y:6,z:2},type:"block"},"block@3,3,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:3,z:0},type:"block"},"block@3,4,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:4,z:0},type:"block"},"block@4,3,0:ZlEwyj":{config:{style:"organic"},position:{x:4,y:3,z:0},type:"block"},"block@4,4,0:ZlEwyj":{config:{style:"organic"},position:{x:4,y:4,z:0},type:"block"},"block@6,1,0:Z1qu960":{config:{style:"tower"},position:{x:6,y:1,z:0},type:"block"},"block@6,1,1:Z1qu960":{config:{style:"tower"},position:{x:6,y:1,z:1},type:"block"},"block@6,1,2:Z1qu960":{config:{style:"tower"},position:{x:6,y:1,z:2},type:"block"},"block@6,6,0:Z1qu960":{config:{style:"tower"},position:{x:6,y:6,z:0},type:"block"},"block@6,6,1:Z1qu960":{config:{style:"tower"},position:{x:6,y:6,z:1},type:"block"},"block@6,6,2:Z1qu960":{config:{style:"tower"},position:{x:6,y:6,z:2},type:"block"},"door@0,3,0:1KWpYu":{config:{axis:"y",toRoom:"egyptus3"},position:{x:0,y:3,z:0},type:"door"},"door@3,8,0:i3qjT":{config:{axis:"x",toRoom:"egyptus5"},position:{x:3,y:8,z:0},type:"door"}},planet:"egyptus",size:{x:8,y:8},walls:{away:["hieroglyphics","sarcophagus","hieroglyphics","none","none","hieroglyphics","sarcophagus","hieroglyphics"],left:["hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics"]}},egyptus5:{color:"green",floor:"egyptus",floorSkip:[],id:"egyptus5",items:{"deadly-block@0,1,0:ZWGEjo":{config:{style:"volcano"},position:{x:0,y:1,z:0},type:"deadly-block"},"deadly-block@0,4,0:ZWGEjo":{config:{style:"volcano"},position:{x:0,y:4,z:0},type:"deadly-block"},"deadly-block@1,0,0:ZWGEjo":{config:{style:"volcano"},position:{x:1,y:0,z:0},type:"deadly-block"},"deadly-block@1,5,0:ZWGEjo":{config:{style:"volcano"},position:{x:1,y:5,z:0},type:"deadly-block"},"deadly-block@4,0,0:ZWGEjo":{config:{style:"volcano"},position:{x:4,y:0,z:0},type:"deadly-block"},"deadly-block@4,5,0:ZWGEjo":{config:{style:"volcano"},position:{x:4,y:5,z:0},type:"deadly-block"},"deadly-block@5,1,0:ZWGEjo":{config:{style:"volcano"},position:{x:5,y:1,z:0},type:"deadly-block"},"deadly-block@5,4,0:ZWGEjo":{config:{style:"volcano"},position:{x:5,y:4,z:0},type:"deadly-block"},"door@2,0,0:i3q49":{config:{axis:"x",toRoom:"egyptus4"},position:{x:2,y:0,z:0},type:"door"},"door@2,6,0:i3qPp":{config:{axis:"x",toRoom:"egyptus7"},position:{x:2,y:6,z:0},type:"door"},"door@6,2,0:1KWqKK":{config:{axis:"y",toRoom:"egyptus6"},position:{x:6,y:2,z:0},type:"door"}},planet:"egyptus",size:{x:6,y:6},walls:{away:["hieroglyphics","hieroglyphics","none","none","hieroglyphics","hieroglyphics"],left:["hieroglyphics","hieroglyphics","none","none","hieroglyphics","hieroglyphics"]}},egyptus6:{color:"white",floor:"egyptus",floorSkip:[],id:"egyptus6",items:{"block@4,3,0:Z1qu960":{config:{style:"tower"},position:{x:4,y:3,z:0},type:"block"},"block@4,3,1:Z1qu960":{config:{style:"tower"},position:{x:4,y:3,z:1},type:"block"},"block@4,3,2:Z1qu960":{config:{style:"tower"},position:{x:4,y:3,z:2},type:"block"},"door@0,3,0:1KWqv0":{config:{axis:"y",toRoom:"egyptus5"},position:{x:0,y:3,z:0},type:"door"},"door@3,8,5:i3r6a":{config:{axis:"x",toRoom:"egyptus8"},position:{x:3,y:8,z:5},type:"door"},"movable-block@2,2,0:1EfFpg":{config:{style:"sandwich"},position:{x:2,y:2,z:0},type:"movable-block"},"movable-block@2,2,1:1EfFpg":{config:{style:"sandwich"},position:{x:2,y:2,z:1},type:"movable-block"},"movable-block@4,3,3:1EfFpg":{config:{style:"sandwich"},position:{x:4,y:3,z:3},type:"movable-block"}},planet:"egyptus",size:{x:8,y:8},walls:{away:["hieroglyphics","sarcophagus","hieroglyphics","none","none","hieroglyphics","sarcophagus","hieroglyphics"],left:["hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics"]}},egyptus7:{color:"white",floor:"deadly",floorSkip:[],id:"egyptus7",items:{"block@0,0,3:ZlEwyj":{config:{style:"organic"},position:{x:0,y:0,z:3},type:"block"},"block@0,5,3:ZlEwyj":{config:{style:"organic"},position:{x:0,y:5,z:3},type:"block"},"block@0,7,3:ZlEwyj":{config:{style:"organic"},position:{x:0,y:7,z:3},type:"block"},"block@2,7,3:ZlEwyj":{config:{style:"organic"},position:{x:2,y:7,z:3},type:"block"},"block@3,0,3:ZlEwyj":{config:{style:"organic"},position:{x:3,y:0,z:3},type:"block"},"block@4,0,3:ZlEwyj":{config:{style:"organic"},position:{x:4,y:0,z:3},type:"block"},"block@7,3,3:ZlEwyj":{config:{style:"organic"},position:{x:7,y:3,z:3},type:"block"},"block@7,4,3:ZlEwyj":{config:{style:"organic"},position:{x:7,y:4,z:3},type:"block"},"block@7,7,3:ZlEwyj":{config:{style:"organic"},position:{x:7,y:7,z:3},type:"block"},"door@3,0,4:i3qjT":{config:{axis:"x",toRoom:"egyptus5"},position:{x:3,y:0,z:4},type:"door"},"door@8,3,5:1KWrhg":{config:{axis:"y",toRoom:"egyptus8"},position:{x:8,y:3,z:5},type:"door"}},planet:"egyptus",size:{x:8,y:8},walls:{away:["hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics"],left:["hieroglyphics","sarcophagus","hieroglyphics","none","none","hieroglyphics","sarcophagus","hieroglyphics"]}},egyptus8:{color:"yellow",floor:"egyptus",floorSkip:[],id:"egyptus8",items:{"baddie@4,2,0:Z1w4InY":{config:{which:"dalek"},position:{x:4,y:2,z:0},type:"baddie"},"baddie@4,5,0:Z1w4InY":{config:{which:"dalek"},position:{x:4,y:5,z:0},type:"baddie"},"ball@1,1,3:13y":{config:{},position:{x:1,y:1,z:3},type:"ball"},"ball@1,6,3:13y":{config:{},position:{x:1,y:6,z:3},type:"ball"},"ball@6,1,3:13y":{config:{},position:{x:6,y:1,z:3},type:"ball"},"ball@6,6,3:13y":{config:{},position:{x:6,y:6,z:3},type:"ball"},"block@1,1,0:Z1qu960":{config:{style:"tower"},position:{x:1,y:1,z:0},type:"block"},"block@1,1,1:Z1qu960":{config:{style:"tower"},position:{x:1,y:1,z:1},type:"block"},"block@1,1,2:Z1qu960":{config:{style:"tower"},position:{x:1,y:1,z:2},type:"block"},"block@1,6,0:Z1qu960":{config:{style:"tower"},position:{x:1,y:6,z:0},type:"block"},"block@1,6,1:Z1qu960":{config:{style:"tower"},position:{x:1,y:6,z:1},type:"block"},"block@1,6,2:Z1qu960":{config:{style:"tower"},position:{x:1,y:6,z:2},type:"block"},"block@6,1,0:Z1qu960":{config:{style:"tower"},position:{x:6,y:1,z:0},type:"block"},"block@6,1,1:Z1qu960":{config:{style:"tower"},position:{x:6,y:1,z:1},type:"block"},"block@6,1,2:Z1qu960":{config:{style:"tower"},position:{x:6,y:1,z:2},type:"block"},"block@6,6,0:Z1qu960":{config:{style:"tower"},position:{x:6,y:6,z:0},type:"block"},"block@6,6,1:Z1qu960":{config:{style:"tower"},position:{x:6,y:6,z:1},type:"block"},"block@6,6,2:Z1qu960":{config:{style:"tower"},position:{x:6,y:6,z:2},type:"block"},"door@0,3,0:1KWr1v":{config:{axis:"y",toRoom:"egyptus7"},position:{x:0,y:3,z:0},type:"door"},"door@3,0,0:i3qzE":{config:{axis:"x",toRoom:"egyptus6"},position:{x:3,y:0,z:0},type:"door"},"door@3,8,0:IbP1q":{config:{axis:"x",toRoom:"egyptus9fish"},position:{x:3,y:8,z:0},type:"door"}},planet:"egyptus",size:{x:8,y:8},walls:{away:["hieroglyphics","sarcophagus","hieroglyphics","none","none","hieroglyphics","sarcophagus","hieroglyphics"],left:["hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics"]}},egyptus9fish:{color:"white",floor:"egyptus",floorSkip:[],id:"egyptus9fish",items:{"block@2,0,4:ZlEwyj":{config:{style:"organic"},position:{x:2,y:0,z:4},type:"block"},"block@3,0,4:ZlEwyj":{config:{style:"organic"},position:{x:3,y:0,z:4},type:"block"},"block@3,1,4:ZlEwyj":{config:{style:"organic"},position:{x:3,y:1,z:4},type:"block"},"block@3,2,4:ZlEwyj":{config:{style:"organic"},position:{x:3,y:2,z:4},type:"block"},"block@3,3,4:ZlEwyj":{config:{style:"organic"},position:{x:3,y:3,z:4},type:"block"},"block@3,4,4:ZlEwyj":{config:{style:"organic"},position:{x:3,y:4,z:4},type:"block"},"block@3,5,4:ZlEwyj":{config:{style:"organic"},position:{x:3,y:5,z:4},type:"block"},"block@3,6,4:ZlEwyj":{config:{style:"organic"},position:{x:3,y:6,z:4},type:"block"},"block@3,7,4:ZlEwyj":{config:{style:"organic"},position:{x:3,y:7,z:4},type:"block"},"door@1,0,0:i3r6a":{config:{axis:"x",toRoom:"egyptus8"},position:{x:1,y:0,z:0},type:"door"},"door@1,8,0:ZYEnE4":{config:{axis:"x",toRoom:"egyptus10"},position:{x:1,y:8,z:0},type:"door"},"fish@3,3,5:ZyDpHa":{config:{alive:!0},position:{x:3,y:3,z:5},type:"fish"},"portable-block@0,7,0:Z14c3Fl":{config:{style:"sticks"},position:{x:0,y:7,z:0},type:"portable-block"},"teleporter@2,0,5:ZPneb4":{config:{toRoom:"egyptus13"},position:{x:2,y:0,z:5},type:"teleporter"}},planet:"egyptus",size:{x:4,y:8},walls:{away:["hieroglyphics","none","none","hieroglyphics"],left:["hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics"]}},finalroom:{color:"white",floor:"jail",floorSkip:[],id:"finalroom",items:{"block@0,2,1:Z1bIU4r":{config:{style:"artificial"},position:{x:0,y:2,z:1},type:"block"},"block@0,7,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:7,z:0},type:"block"},"block@1,2,1:Z1bIU4r":{config:{style:"artificial"},position:{x:1,y:2,z:1},type:"block"},"block@1,7,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:7,z:0},type:"block"},"block@2,7,0:ZlEwyj":{config:{style:"organic"},position:{x:2,y:7,z:0},type:"block"},"block@3,7,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:7,z:0},type:"block"},"block@4,7,0:ZlEwyj":{config:{style:"organic"},position:{x:4,y:7,z:0},type:"block"},"block@5,7,0:ZlEwyj":{config:{style:"organic"},position:{x:5,y:7,z:0},type:"block"},"block@6,7,0:ZlEwyj":{config:{style:"organic"},position:{x:6,y:7,z:0},type:"block"},"block@7,1,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:1,z:0},type:"block"},"block@7,2,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:2,z:0},type:"block"},"block@7,2,1:ZlEwyj":{config:{style:"organic"},position:{x:7,y:2,z:1},type:"block"},"block@7,3,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:3,z:0},type:"block"},"block@7,7,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:7,z:0},type:"block"},"movable-block@0,2,0:Z15GVb5":{config:{style:"anvil"},position:{x:0,y:2,z:0},type:"movable-block"}},planet:"jail",size:{x:12,y:8},walls:{away:["bars","bars","bars","bars","bars","bars","bars","bars","bars","bars","bars","bars"],left:["bars","bars","bars","bars","bars","bars","bars","bars"]}},moonbase1:{color:"white",floor:"moonbase",floorSkip:[],id:"moonbase1",items:{"baddie@0,0,1:1jRQF":{config:{charging:!0,startDirection:"away",which:"cyberman"},position:{x:0,y:0,z:1},type:"baddie"},"baddie@0,7,1:Q5JXd":{config:{charging:!0,startDirection:"towards",which:"cyberman"},position:{x:0,y:7,z:1},type:"baddie"},"baddie@1,0,1:1jRQF":{config:{charging:!0,startDirection:"away",which:"cyberman"},position:{x:1,y:0,z:1},type:"baddie"},"baddie@1,7,1:Q5JXd":{config:{charging:!0,startDirection:"towards",which:"cyberman"},position:{x:1,y:7,z:1},type:"baddie"},"baddie@2,0,1:1jRQF":{config:{charging:!0,startDirection:"away",which:"cyberman"},position:{x:2,y:0,z:1},type:"baddie"},"baddie@2,7,1:Q5JXd":{config:{charging:!0,startDirection:"towards",which:"cyberman"},position:{x:2,y:7,z:1},type:"baddie"},"baddie@5,0,1:1jRQF":{config:{charging:!0,startDirection:"away",which:"cyberman"},position:{x:5,y:0,z:1},type:"baddie"},"baddie@5,7,1:Q5JXd":{config:{charging:!0,startDirection:"towards",which:"cyberman"},position:{x:5,y:7,z:1},type:"baddie"},"baddie@6,0,1:1jRQF":{config:{charging:!0,startDirection:"away",which:"cyberman"},position:{x:6,y:0,z:1},type:"baddie"},"baddie@6,7,1:Q5JXd":{config:{charging:!0,startDirection:"towards",which:"cyberman"},position:{x:6,y:7,z:1},type:"baddie"},"baddie@7,0,1:1jRQF":{config:{charging:!0,startDirection:"away",which:"cyberman"},position:{x:7,y:0,z:1},type:"baddie"},"baddie@7,7,1:Q5JXd":{config:{charging:!0,startDirection:"towards",which:"cyberman"},position:{x:7,y:7,z:1},type:"baddie"},"deadly-block@0,0,0:2u1uHB":{config:{style:"toaster"},position:{x:0,y:0,z:0},type:"deadly-block"},"deadly-block@0,7,0:2u1uHB":{config:{style:"toaster"},position:{x:0,y:7,z:0},type:"deadly-block"},"deadly-block@1,0,0:2u1uHB":{config:{style:"toaster"},position:{x:1,y:0,z:0},type:"deadly-block"},"deadly-block@1,7,0:2u1uHB":{config:{style:"toaster"},position:{x:1,y:7,z:0},type:"deadly-block"},"deadly-block@2,0,0:2u1uHB":{config:{style:"toaster"},position:{x:2,y:0,z:0},type:"deadly-block"},"deadly-block@2,7,0:2u1uHB":{config:{style:"toaster"},position:{x:2,y:7,z:0},type:"deadly-block"},"deadly-block@5,0,0:2u1uHB":{config:{style:"toaster"},position:{x:5,y:0,z:0},type:"deadly-block"},"deadly-block@5,7,0:2u1uHB":{config:{style:"toaster"},position:{x:5,y:7,z:0},type:"deadly-block"},"deadly-block@6,0,0:2u1uHB":{config:{style:"toaster"},position:{x:6,y:0,z:0},type:"deadly-block"},"deadly-block@6,7,0:2u1uHB":{config:{style:"toaster"},position:{x:6,y:7,z:0},type:"deadly-block"},"deadly-block@7,0,0:2u1uHB":{config:{style:"toaster"},position:{x:7,y:0,z:0},type:"deadly-block"},"deadly-block@7,7,0:2u1uHB":{config:{style:"toaster"},position:{x:7,y:7,z:0},type:"deadly-block"},"door@0,3,0:Z1UQMp8":{config:{axis:"y",toRoom:"moonbase4"},position:{x:0,y:3,z:0},type:"door"},"door@8,3,0:Z1UQMUD":{config:{axis:"y",toRoom:"moonbase2"},position:{x:8,y:3,z:0},type:"door"},"teleporter@3,3,0:Z1GpSz2":{config:{toRoom:"blacktooth51"},position:{x:3,y:3,z:0},type:"teleporter"},"teleporter@3,4,0:Z1GpSz2":{config:{toRoom:"blacktooth51"},position:{x:3,y:4,z:0},type:"teleporter"},"teleporter@4,3,0:Z1GpSz2":{config:{toRoom:"blacktooth51"},position:{x:4,y:3,z:0},type:"teleporter"},"teleporter@4,4,0:Z1GpSz2":{config:{toRoom:"blacktooth51"},position:{x:4,y:4,z:0},type:"teleporter"}},planet:"moonbase",size:{x:8,y:8},walls:{away:["window2","window1","coil","window3","window2","coil","window2","window1"],left:["window2","coil","window3","none","none","window3","coil","window1"]}},moonbase10:{color:"white",floor:"deadly",floorSkip:[],id:"moonbase10",items:{"block@0,3,3:Z1bIU4r":{config:{style:"artificial"},position:{x:0,y:3,z:3},type:"block"},"block@0,7,3:Z1bIU4r":{config:{style:"artificial"},position:{x:0,y:7,z:3},type:"block"},"block@0,7,5:Z1bIU4r":{config:{style:"artificial"},position:{x:0,y:7,z:5},type:"block"},"block@4,7,3:Z1bIU4r":{config:{style:"artificial"},position:{x:4,y:7,z:3},type:"block"},"deadly-block@0,7,6:2u1uHB":{config:{style:"toaster"},position:{x:0,y:7,z:6},type:"deadly-block"},"door@0,3,5:Z1UQL7m":{config:{axis:"y",toRoom:"moonbase9"},position:{x:0,y:3,z:5},type:"door"},"door@3,8,5:Z1uBS5C":{config:{axis:"x",toRoom:"moonbase11"},position:{x:3,y:8,z:5},type:"door"}},planet:"moonbase",size:{x:8,y:8},walls:{away:["window2","coil","window3","none","none","window3","coil","window1"],left:["window2","window1","coil","window3","window2","coil","window2","window1"]}},moonbase11:{color:"white",floor:"moonbase",floorSkip:[],id:"moonbase11",items:{"door@0,0,0:Z1uBSln":{config:{axis:"x",toRoom:"moonbase10"},position:{x:0,y:0,z:0},type:"door"},"door@0,8,0:Z1uBROR":{config:{axis:"x",toRoom:"moonbase12"},position:{x:0,y:8,z:0},type:"door"},"door@2,3,0:17xOfa":{config:{axis:"y",toRoom:"moonbase19"},position:{x:2,y:3,z:0},type:"door"}},planet:"moonbase",size:{x:2,y:8},walls:{away:["none","none"],left:["window2","coil","window3","none","none","window3","coil","window1"]}},moonbase12:{color:"white",floor:"moonbase",floorSkip:[],id:"moonbase12",items:{"block@0,0,3:ZlEwyj":{config:{style:"organic"},position:{x:0,y:0,z:3},type:"block"},"block@0,2,3:ZlEwyj":{config:{style:"organic"},position:{x:0,y:2,z:3},type:"block"},"block@0,3,3:ZlEwyj":{config:{style:"organic"},position:{x:0,y:3,z:3},type:"block"},"block@0,4,3:ZlEwyj":{config:{style:"organic"},position:{x:0,y:4,z:3},type:"block"},"block@1,0,3:ZlEwyj":{config:{style:"organic"},position:{x:1,y:0,z:3},type:"block"},"block@2,0,3:ZlEwyj":{config:{style:"organic"},position:{x:2,y:0,z:3},type:"block"},"block@3,0,3:ZlEwyj":{config:{style:"organic"},position:{x:3,y:0,z:3},type:"block"},"block@4,0,3:ZlEwyj":{config:{style:"organic"},position:{x:4,y:0,z:3},type:"block"},"block@5,0,3:ZlEwyj":{config:{style:"organic"},position:{x:5,y:0,z:3},type:"block"},"door@0,3,4:17xNYp":{config:{axis:"y",toRoom:"moonbase18"},position:{x:0,y:3,z:4},type:"door"},"door@3,0,0:Z1uBS5C":{config:{axis:"x",toRoom:"moonbase11"},position:{x:3,y:0,z:0},type:"door"},"hush-puppy@5,0,0:13y":{config:{},position:{x:5,y:0,z:0},type:"hush-puppy"},"hush-puppy@6,0,1:13y":{config:{},position:{x:6,y:0,z:1},type:"hush-puppy"},"hush-puppy@7,0,2:13y":{config:{},position:{x:7,y:0,z:2},type:"hush-puppy"}},planet:"moonbase",size:{x:8,y:8},walls:{away:["window2","window1","coil","window3","window2","coil","window2","window1"],left:["window2","window1","coil","window3","window2","coil","window2","window1"]}},moonbase13:{color:"white",floor:"moonbase",floorSkip:[],id:"moonbase13",items:{"baddie@0,2,1:Z158tvd":{config:{charging:!0,startDirection:"left",which:"cyberman"},position:{x:0,y:2,z:1},type:"baddie"},"baddie@0,3,1:Z158tvd":{config:{charging:!0,startDirection:"left",which:"cyberman"},position:{x:0,y:3,z:1},type:"baddie"},"baddie@0,4,1:Z158tvd":{config:{charging:!0,startDirection:"left",which:"cyberman"},position:{x:0,y:4,z:1},type:"baddie"},"baddie@0,5,1:Z158tvd":{config:{charging:!0,startDirection:"left",which:"cyberman"},position:{x:0,y:5,z:1},type:"baddie"},"deadly-block@0,2,0:2u1uHB":{config:{style:"toaster"},position:{x:0,y:2,z:0},type:"deadly-block"},"deadly-block@0,3,0:2u1uHB":{config:{style:"toaster"},position:{x:0,y:3,z:0},type:"deadly-block"},"deadly-block@0,4,0:2u1uHB":{config:{style:"toaster"},position:{x:0,y:4,z:0},type:"deadly-block"},"deadly-block@0,5,0:2u1uHB":{config:{style:"toaster"},position:{x:0,y:5,z:0},type:"deadly-block"},"door@1,0,0:Z1Q1zVw":{config:{axis:"x",toRoom:"moonbase3"},position:{x:1,y:0,z:0},type:"door"},"door@1,8,0:Z1uBRjm":{config:{axis:"x",toRoom:"moonbase14"},position:{x:1,y:8,z:0},type:"door"},"door@4,3,0:17xNsT":{config:{axis:"y",toRoom:"moonbase16"},position:{x:4,y:3,z:0},type:"door"}},planet:"moonbase",size:{x:4,y:8},walls:{away:["window3","none","none","window1"],left:["window2","coil","window3","none","none","window3","coil","window1"]}},moonbase14:{color:"white",floor:"moonbase",floorSkip:[],id:"moonbase14",items:{"baddie@2,7,0:VXUBj":{config:{which:"headless-base"},position:{x:2,y:7,z:0},type:"baddie"},"baddie@5,2,1:ZD7ABP":{config:{charging:!0,startDirection:"right",which:"cyberman"},position:{x:5,y:2,z:1},type:"baddie"},"baddie@5,3,1:ZD7ABP":{config:{charging:!0,startDirection:"right",which:"cyberman"},position:{x:5,y:3,z:1},type:"baddie"},"baddie@5,4,1:ZD7ABP":{config:{charging:!0,startDirection:"right",which:"cyberman"},position:{x:5,y:4,z:1},type:"baddie"},"baddie@5,5,1:ZD7ABP":{config:{charging:!0,startDirection:"right",which:"cyberman"},position:{x:5,y:5,z:1},type:"baddie"},"deadly-block@5,2,0:2u1uHB":{config:{style:"toaster"},position:{x:5,y:2,z:0},type:"deadly-block"},"deadly-block@5,3,0:2u1uHB":{config:{style:"toaster"},position:{x:5,y:3,z:0},type:"deadly-block"},"deadly-block@5,4,0:2u1uHB":{config:{style:"toaster"},position:{x:5,y:4,z:0},type:"deadly-block"},"deadly-block@5,5,0:2u1uHB":{config:{style:"toaster"},position:{x:5,y:5,z:0},type:"deadly-block"},"door@0,3,0:17xNd9":{config:{axis:"y",toRoom:"moonbase15"},position:{x:0,y:3,z:0},type:"door"},"door@2,0,0:Z1uBRz7":{config:{axis:"x",toRoom:"moonbase13"},position:{x:2,y:0,z:0},type:"door"}},planet:"moonbase",size:{x:6,y:8},walls:{away:["window1","coil","window3","window2","coil","window1"],left:["window2","window1","coil","window3","window2","coil","window2","window1"]}},moonbase15:{color:"white",floor:"moonbase",floorSkip:[],id:"moonbase15",items:{"door@0,0,0:Z1UQLCR":{config:{axis:"y",toRoom:"moonbase7"},position:{x:0,y:0,z:0},type:"door"},"door@8,0,4:17xMWo":{config:{axis:"y",toRoom:"moonbase14"},position:{x:8,y:0,z:4},type:"door"},"hush-puppy@5,0,0:13y":{config:{},position:{x:5,y:0,z:0},type:"hush-puppy"},"hush-puppy@5,1,0:13y":{config:{},position:{x:5,y:1,z:0},type:"hush-puppy"},"hush-puppy@6,0,1:13y":{config:{},position:{x:6,y:0,z:1},type:"hush-puppy"},"hush-puppy@6,1,1:13y":{config:{},position:{x:6,y:1,z:1},type:"hush-puppy"},"hush-puppy@7,0,2:13y":{config:{},position:{x:7,y:0,z:2},type:"hush-puppy"},"hush-puppy@7,1,2:13y":{config:{},position:{x:7,y:1,z:2},type:"hush-puppy"}},planet:"moonbase",size:{x:8,y:2},walls:{away:["window2","window1","coil","window3","window2","coil","window2","window1"],left:["none","none"]}},moonbase16:{color:"white",floor:"moonbase",floorSkip:[],id:"moonbase16",items:{"baddie@11,0,0:Z1YJLrs":{config:{which:"computer-bot"},position:{x:11,y:0,z:0},type:"baddie"},"deadly-block@2,0,0:ZWGEjo":{config:{style:"volcano"},position:{x:2,y:0,z:0},type:"deadly-block"},"deadly-block@2,0,1:ZWGEjo":{config:{style:"volcano"},position:{x:2,y:0,z:1},type:"deadly-block"},"deadly-block@2,1,0:ZWGEjo":{config:{style:"volcano"},position:{x:2,y:1,z:0},type:"deadly-block"},"deadly-block@2,1,1:ZWGEjo":{config:{style:"volcano"},position:{x:2,y:1,z:1},type:"deadly-block"},"deadly-block@2,2,0:ZWGEjo":{config:{style:"volcano"},position:{x:2,y:2,z:0},type:"deadly-block"},"deadly-block@2,2,1:ZWGEjo":{config:{style:"volcano"},position:{x:2,y:2,z:1},type:"deadly-block"},"deadly-block@2,3,0:ZWGEjo":{config:{style:"volcano"},position:{x:2,y:3,z:0},type:"deadly-block"},"deadly-block@2,3,1:ZWGEjo":{config:{style:"volcano"},position:{x:2,y:3,z:1},type:"deadly-block"},"deadly-block@2,4,0:ZWGEjo":{config:{style:"volcano"},position:{x:2,y:4,z:0},type:"deadly-block"},"deadly-block@2,4,1:ZWGEjo":{config:{style:"volcano"},position:{x:2,y:4,z:1},type:"deadly-block"},"deadly-block@2,5,0:ZWGEjo":{config:{style:"volcano"},position:{x:2,y:5,z:0},type:"deadly-block"},"deadly-block@2,5,1:ZWGEjo":{config:{style:"volcano"},position:{x:2,y:5,z:1},type:"deadly-block"},"door@0,2,1:17xMGD":{config:{axis:"y",toRoom:"moonbase13"},position:{x:0,y:2,z:1},type:"door"},"door@8,0,0:Z1uBQx6":{config:{axis:"x",toRoom:"moonbase17"},position:{x:8,y:0,z:0},type:"door"},"pickup@11,5,0:DHWsf":{config:{gives:"shield"},position:{x:11,y:5,z:0},type:"pickup"},"portable-block@0,0,0:Z1SKpmn":{config:{style:"drum"},position:{x:0,y:0,z:0},type:"portable-block"},"portable-block@0,1,0:Z1SKpmn":{config:{style:"drum"},position:{x:0,y:1,z:0},type:"portable-block"},"portable-block@3,0,0:Z1SKpmn":{config:{style:"drum"},position:{x:3,y:0,z:0},type:"portable-block"},"portable-block@4,0,0:Z1SKpmn":{config:{style:"drum"},position:{x:4,y:0,z:0},type:"portable-block"}},planet:"moonbase",size:{x:12,y:6},walls:{away:["window1","coil","window3","window2","coil","window1","window1","coil","window3","window2","coil","window1"],left:["window1","coil","window3","window2","coil","window1"]}},moonbase17:{color:"white",floor:"moonbase",floorSkip:[],id:"moonbase17",items:{"door@2,6,0:Z1uBQMQ":{config:{axis:"x",toRoom:"moonbase16"},position:{x:2,y:6,z:0},type:"door"},"teleporter@2,2,0:Z1R6znp":{config:{toRoom:"moonbase18"},position:{x:2,y:2,z:0},type:"teleporter"},"teleporter@2,3,0:Z1R6znp":{config:{toRoom:"moonbase18"},position:{x:2,y:3,z:0},type:"teleporter"},"teleporter@3,2,0:Z1R6znp":{config:{toRoom:"moonbase18"},position:{x:3,y:2,z:0},type:"teleporter"},"teleporter@3,3,0:Z1R6znp":{config:{toRoom:"moonbase18"},position:{x:3,y:3,z:0},type:"teleporter"}},planet:"moonbase",size:{x:6,y:6},walls:{away:["window3","window2","none","none","window2","window1"],left:["window1","coil","window3","window2","coil","window1"]}},moonbase18:{color:"white",floor:"moonbase",floorSkip:[],id:"moonbase18",items:{"door@6,2,0:17xMqS":{config:{axis:"y",toRoom:"moonbase12"},position:{x:6,y:2,z:0},type:"door"},"teleporter@2,2,0:Z1R6zDa":{config:{toRoom:"moonbase17"},position:{x:2,y:2,z:0},type:"teleporter"},"teleporter@2,3,0:Z1R6zDa":{config:{toRoom:"moonbase17"},position:{x:2,y:3,z:0},type:"teleporter"},"teleporter@3,2,0:Z1R6zDa":{config:{toRoom:"moonbase17"},position:{x:3,y:2,z:0},type:"teleporter"},"teleporter@3,3,0:Z1R6zDa":{config:{toRoom:"moonbase17"},position:{x:3,y:3,z:0},type:"teleporter"}},planet:"moonbase",size:{x:6,y:6},walls:{away:["window1","coil","window3","window2","coil","window1"],left:["window3","window2","none","none","window2","window1"]}},moonbase19:{color:"white",floor:"moonbase",floorSkip:[],id:"moonbase19",items:{"baddie@3,0,1:1jRQF":{config:{charging:!0,startDirection:"away",which:"cyberman"},position:{x:3,y:0,z:1},type:"baddie"},"baddie@4,0,1:1jRQF":{config:{charging:!0,startDirection:"away",which:"cyberman"},position:{x:4,y:0,z:1},type:"baddie"},"baddie@5,0,1:1jRQF":{config:{charging:!0,startDirection:"away",which:"cyberman"},position:{x:5,y:0,z:1},type:"baddie"},"deadly-block@3,0,0:2u1uHB":{config:{style:"toaster"},position:{x:3,y:0,z:0},type:"deadly-block"},"deadly-block@4,0,0:2u1uHB":{config:{style:"toaster"},position:{x:4,y:0,z:0},type:"deadly-block"},"deadly-block@5,0,0:2u1uHB":{config:{style:"toaster"},position:{x:5,y:0,z:0},type:"deadly-block"},"door@0,0,0:17xMb8":{config:{axis:"y",toRoom:"moonbase11"},position:{x:0,y:0,z:0},type:"door"},"door@8,0,0:17xTUK":{config:{axis:"y",toRoom:"moonbase20"},position:{x:8,y:0,z:0},type:"door"}},planet:"moonbase",size:{x:8,y:2},walls:{away:["window2","window1","coil","window3","window2","coil","window2","window1"],left:["none","none"]}},moonbase2:{color:"white",floor:"moonbase",floorSkip:[],id:"moonbase2",items:{"baddie@0,5,0:Z1w4InY":{config:{which:"dalek"},position:{x:0,y:5,z:0},type:"baddie"},"baddie@7,1,1:ZD7ABP":{config:{charging:!0,startDirection:"right",which:"cyberman"},position:{x:7,y:1,z:1},type:"baddie"},"baddie@7,2,1:ZD7ABP":{config:{charging:!0,startDirection:"right",which:"cyberman"},position:{x:7,y:2,z:1},type:"baddie"},"baddie@7,3,1:ZD7ABP":{config:{charging:!0,startDirection:"right",which:"cyberman"},position:{x:7,y:3,z:1},type:"baddie"},"baddie@7,4,1:ZD7ABP":{config:{charging:!0,startDirection:"right",which:"cyberman"},position:{x:7,y:4,z:1},type:"baddie"},"deadly-block@7,1,0:2u1uHB":{config:{style:"toaster"},position:{x:7,y:1,z:0},type:"deadly-block"},"deadly-block@7,2,0:2u1uHB":{config:{style:"toaster"},position:{x:7,y:2,z:0},type:"deadly-block"},"deadly-block@7,3,0:2u1uHB":{config:{style:"toaster"},position:{x:7,y:3,z:0},type:"deadly-block"},"deadly-block@7,4,0:2u1uHB":{config:{style:"toaster"},position:{x:7,y:4,z:0},type:"deadly-block"},"door@0,2,0:Z1UQNbo":{config:{axis:"y",toRoom:"moonbase1"},position:{x:0,y:2,z:0},type:"door"},"door@3,6,4:Z1Q1zVw":{config:{axis:"x",toRoom:"moonbase3"},position:{x:3,y:6,z:4},type:"door"},"hush-puppy@2,5,0:13y":{config:{},position:{x:2,y:5,z:0},type:"hush-puppy"},"hush-puppy@3,5,1:13y":{config:{},position:{x:3,y:5,z:1},type:"hush-puppy"},"hush-puppy@4,5,2:13y":{config:{},position:{x:4,y:5,z:2},type:"hush-puppy"}},planet:"moonbase",size:{x:8,y:6},walls:{away:["window2","coil","window3","none","none","window3","coil","window1"],left:["window1","coil","window3","window2","coil","window1"]}},moonbase20:{color:"white",floor:"moonbase",floorSkip:[],id:"moonbase20",items:{"door@0,3,0:17xOfa":{config:{axis:"y",toRoom:"moonbase19"},position:{x:0,y:3,z:0},type:"door"},"door@3,0,0:Z1dsmn9":{config:{axis:"x",toRoom:"moonbase22topenitentiary"},position:{x:3,y:0,z:0},type:"door"},"door@3,8,0:Z14IGtT":{config:{axis:"x",toRoom:"moonbase21tosafari"},position:{x:3,y:8,z:0},type:"door"},"door@8,3,0:17xUH1":{config:{axis:"y",toRoom:"moonbase23"},position:{x:8,y:3,z:0},type:"door"},"movable-block@1,4,0:Z1tM18t":{config:{style:"puck"},position:{x:1,y:4,z:0},type:"movable-block"},"movable-block@2,4,0:Z1tM18t":{config:{style:"puck"},position:{x:2,y:4,z:0},type:"movable-block"},"movable-block@3,4,0:Z1tM18t":{config:{style:"puck"},position:{x:3,y:4,z:0},type:"movable-block"},"movable-block@4,2,0:Z1tM18t":{config:{style:"puck"},position:{x:4,y:2,z:0},type:"movable-block"},"movable-block@4,4,0:Z1tM18t":{config:{style:"puck"},position:{x:4,y:4,z:0},type:"movable-block"},"movable-block@4,6,0:Z1tM18t":{config:{style:"puck"},position:{x:4,y:6,z:0},type:"movable-block"},"movable-block@5,3,0:Z1tM18t":{config:{style:"puck"},position:{x:5,y:3,z:0},type:"movable-block"},"movable-block@5,4,0:Z1tM18t":{config:{style:"puck"},position:{x:5,y:4,z:0},type:"movable-block"},"movable-block@5,5,0:Z1tM18t":{config:{style:"puck"},position:{x:5,y:5,z:0},type:"movable-block"},"movable-block@6,4,0:Z1tM18t":{config:{style:"puck"},position:{x:6,y:4,z:0},type:"movable-block"}},planet:"moonbase",size:{x:8,y:8},walls:{away:["window2","coil","window3","none","none","window3","coil","window1"],left:["window2","coil","window3","none","none","window3","coil","window1"]}},moonbase21tosafari:{color:"white",floor:"moonbase",floorSkip:[],id:"moonbase21tosafari",items:{"baddie@0,7,1:Q5JXd":{config:{charging:!0,startDirection:"towards",which:"cyberman"},position:{x:0,y:7,z:1},type:"baddie"},"baddie@1,7,1:Q5JXd":{config:{charging:!0,startDirection:"towards",which:"cyberman"},position:{x:1,y:7,z:1},type:"baddie"},"baddie@2,7,1:Q5JXd":{config:{charging:!0,startDirection:"towards",which:"cyberman"},position:{x:2,y:7,z:1},type:"baddie"},"baddie@3,7,1:Q5JXd":{config:{charging:!0,startDirection:"towards",which:"cyberman"},position:{x:3,y:7,z:1},type:"baddie"},"baddie@4,7,1:Q5JXd":{config:{charging:!0,startDirection:"towards",which:"cyberman"},position:{x:4,y:7,z:1},type:"baddie"},"baddie@5,7,1:Q5JXd":{config:{charging:!0,startDirection:"towards",which:"cyberman"},position:{x:5,y:7,z:1},type:"baddie"},"deadly-block@0,7,0:2u1uHB":{config:{style:"toaster"},position:{x:0,y:7,z:0},type:"deadly-block"},"deadly-block@1,7,0:2u1uHB":{config:{style:"toaster"},position:{x:1,y:7,z:0},type:"deadly-block"},"deadly-block@2,7,0:2u1uHB":{config:{style:"toaster"},position:{x:2,y:7,z:0},type:"deadly-block"},"deadly-block@3,7,0:2u1uHB":{config:{style:"toaster"},position:{x:3,y:7,z:0},type:"deadly-block"},"deadly-block@4,7,0:2u1uHB":{config:{style:"toaster"},position:{x:4,y:7,z:0},type:"deadly-block"},"deadly-block@5,7,0:2u1uHB":{config:{style:"toaster"},position:{x:5,y:7,z:0},type:"deadly-block"},"door@2,0,0:Z1uBKl0":{config:{axis:"x",toRoom:"moonbase20"},position:{x:2,y:0,z:0},type:"door"},"teleporter@2,3,0:1mtSsV":{config:{toRoom:"safari1"},position:{x:2,y:3,z:0},type:"teleporter"},"teleporter@2,4,0:1mtSsV":{config:{toRoom:"safari1"},position:{x:2,y:4,z:0},type:"teleporter"},"teleporter@3,3,0:1mtSsV":{config:{toRoom:"safari1"},position:{x:3,y:3,z:0},type:"teleporter"},"teleporter@3,4,0:1mtSsV":{config:{toRoom:"safari1"},position:{x:3,y:4,z:0},type:"teleporter"}},planet:"moonbase",size:{x:6,y:8},walls:{away:["window1","coil","window3","window2","coil","window1"],left:["window2","window1","coil","window3","window2","coil","window2","window1"]}},moonbase22topenitentiary:{color:"white",floor:"moonbase",floorSkip:[],id:"moonbase22topenitentiary",items:{"baddie@0,0,1:1jRQF":{config:{charging:!0,startDirection:"away",which:"cyberman"},position:{x:0,y:0,z:1},type:"baddie"},"baddie@1,0,1:1jRQF":{config:{charging:!0,startDirection:"away",which:"cyberman"},position:{x:1,y:0,z:1},type:"baddie"},"baddie@2,0,1:1jRQF":{config:{charging:!0,startDirection:"away",which:"cyberman"},position:{x:2,y:0,z:1},type:"baddie"},"baddie@3,0,1:1jRQF":{config:{charging:!0,startDirection:"away",which:"cyberman"},position:{x:3,y:0,z:1},type:"baddie"},"baddie@4,0,1:1jRQF":{config:{charging:!0,startDirection:"away",which:"cyberman"},position:{x:4,y:0,z:1},type:"baddie"},"baddie@5,0,1:1jRQF":{config:{charging:!0,startDirection:"away",which:"cyberman"},position:{x:5,y:0,z:1},type:"baddie"},"deadly-block@0,0,0:2u1uHB":{config:{style:"toaster"},position:{x:0,y:0,z:0},type:"deadly-block"},"deadly-block@1,0,0:2u1uHB":{config:{style:"toaster"},position:{x:1,y:0,z:0},type:"deadly-block"},"deadly-block@2,0,0:2u1uHB":{config:{style:"toaster"},position:{x:2,y:0,z:0},type:"deadly-block"},"deadly-block@3,0,0:2u1uHB":{config:{style:"toaster"},position:{x:3,y:0,z:0},type:"deadly-block"},"deadly-block@4,0,0:2u1uHB":{config:{style:"toaster"},position:{x:4,y:0,z:0},type:"deadly-block"},"deadly-block@5,0,0:2u1uHB":{config:{style:"toaster"},position:{x:5,y:0,z:0},type:"deadly-block"},"door@2,8,0:Z1uBKl0":{config:{axis:"x",toRoom:"moonbase20"},position:{x:2,y:8,z:0},type:"door"},"teleporter@2,3,0:Z1dKvDl":{config:{toRoom:"penitentiary1"},position:{x:2,y:3,z:0},type:"teleporter"},"teleporter@2,4,0:Z1dKvDl":{config:{toRoom:"penitentiary1"},position:{x:2,y:4,z:0},type:"teleporter"},"teleporter@3,3,0:Z1dKvDl":{config:{toRoom:"penitentiary1"},position:{x:3,y:3,z:0},type:"teleporter"},"teleporter@3,4,0:Z1dKvDl":{config:{toRoom:"penitentiary1"},position:{x:3,y:4,z:0},type:"teleporter"}},planet:"moonbase",size:{x:6,y:8},walls:{away:["window3","window2","none","none","window2","window1"],left:["window2","window1","coil","window3","window2","coil","window2","window1"]}},moonbase23:{color:"white",floor:"moonbase",floorSkip:[],id:"moonbase23",items:{"door@0,3,0:17xTUK":{config:{axis:"y",toRoom:"moonbase20"},position:{x:0,y:3,z:0},type:"door"},"door@3,0,0:Z2wSoMK":{config:{axis:"x",toRoom:"moonbase25tobookworld"},position:{x:3,y:0,z:0},type:"door"},"door@3,8,0:ZD45Ly":{config:{axis:"x",toRoom:"moonbase24toegyptus"},position:{x:3,y:8,z:0},type:"door"},"door@8,3,0:17xVth":{config:{axis:"y",toRoom:"moonbase26"},position:{x:8,y:3,z:0},type:"door"},"movable-block@1,4,0:Z1tM18t":{config:{style:"puck"},position:{x:1,y:4,z:0},type:"movable-block"},"movable-block@2,4,0:Z1tM18t":{config:{style:"puck"},position:{x:2,y:4,z:0},type:"movable-block"},"movable-block@3,4,0:Z1tM18t":{config:{style:"puck"},position:{x:3,y:4,z:0},type:"movable-block"},"movable-block@4,2,0:Z1tM18t":{config:{style:"puck"},position:{x:4,y:2,z:0},type:"movable-block"},"movable-block@4,4,0:Z1tM18t":{config:{style:"puck"},position:{x:4,y:4,z:0},type:"movable-block"},"movable-block@4,6,0:Z1tM18t":{config:{style:"puck"},position:{x:4,y:6,z:0},type:"movable-block"},"movable-block@5,3,0:Z1tM18t":{config:{style:"puck"},position:{x:5,y:3,z:0},type:"movable-block"},"movable-block@5,4,0:Z1tM18t":{config:{style:"puck"},position:{x:5,y:4,z:0},type:"movable-block"},"movable-block@5,5,0:Z1tM18t":{config:{style:"puck"},position:{x:5,y:5,z:0},type:"movable-block"},"movable-block@6,4,0:Z1tM18t":{config:{style:"puck"},position:{x:6,y:4,z:0},type:"movable-block"}},planet:"moonbase",size:{x:8,y:8},walls:{away:["window2","coil","window3","none","none","window3","coil","window1"],left:["window2","coil","window3","none","none","window3","coil","window1"]}},moonbase24toegyptus:{color:"white",floor:"moonbase",floorSkip:[],id:"moonbase24toegyptus",items:{"baddie@0,0,1:1jRQF":{config:{charging:!0,startDirection:"away",which:"cyberman"},position:{x:0,y:0,z:1},type:"baddie"},"baddie@0,7,1:Q5JXd":{config:{charging:!0,startDirection:"towards",which:"cyberman"},position:{x:0,y:7,z:1},type:"baddie"},"baddie@1,0,1:1jRQF":{config:{charging:!0,startDirection:"away",which:"cyberman"},position:{x:1,y:0,z:1},type:"baddie"},"baddie@1,7,1:Q5JXd":{config:{charging:!0,startDirection:"towards",which:"cyberman"},position:{x:1,y:7,z:1},type:"baddie"},"baddie@2,0,1:1jRQF":{config:{charging:!0,startDirection:"away",which:"cyberman"},position:{x:2,y:0,z:1},type:"baddie"},"baddie@2,7,1:Q5JXd":{config:{charging:!0,startDirection:"towards",which:"cyberman"},position:{x:2,y:7,z:1},type:"baddie"},"baddie@5,0,1:1jRQF":{config:{charging:!0,startDirection:"away",which:"cyberman"},position:{x:5,y:0,z:1},type:"baddie"},"baddie@5,7,1:Q5JXd":{config:{charging:!0,startDirection:"towards",which:"cyberman"},position:{x:5,y:7,z:1},type:"baddie"},"baddie@6,0,1:1jRQF":{config:{charging:!0,startDirection:"away",which:"cyberman"},position:{x:6,y:0,z:1},type:"baddie"},"baddie@6,7,1:Q5JXd":{config:{charging:!0,startDirection:"towards",which:"cyberman"},position:{x:6,y:7,z:1},type:"baddie"},"baddie@7,0,1:1jRQF":{config:{charging:!0,startDirection:"away",which:"cyberman"},position:{x:7,y:0,z:1},type:"baddie"},"baddie@7,7,1:Q5JXd":{config:{charging:!0,startDirection:"towards",which:"cyberman"},position:{x:7,y:7,z:1},type:"baddie"},"deadly-block@0,0,0:2u1uHB":{config:{style:"toaster"},position:{x:0,y:0,z:0},type:"deadly-block"},"deadly-block@0,7,0:2u1uHB":{config:{style:"toaster"},position:{x:0,y:7,z:0},type:"deadly-block"},"deadly-block@1,0,0:2u1uHB":{config:{style:"toaster"},position:{x:1,y:0,z:0},type:"deadly-block"},"deadly-block@1,7,0:2u1uHB":{config:{style:"toaster"},position:{x:1,y:7,z:0},type:"deadly-block"},"deadly-block@2,0,0:2u1uHB":{config:{style:"toaster"},position:{x:2,y:0,z:0},type:"deadly-block"},"deadly-block@2,7,0:2u1uHB":{config:{style:"toaster"},position:{x:2,y:7,z:0},type:"deadly-block"},"deadly-block@5,0,0:2u1uHB":{config:{style:"toaster"},position:{x:5,y:0,z:0},type:"deadly-block"},"deadly-block@5,7,0:2u1uHB":{config:{style:"toaster"},position:{x:5,y:7,z:0},type:"deadly-block"},"deadly-block@6,0,0:2u1uHB":{config:{style:"toaster"},position:{x:6,y:0,z:0},type:"deadly-block"},"deadly-block@6,7,0:2u1uHB":{config:{style:"toaster"},position:{x:6,y:7,z:0},type:"deadly-block"},"deadly-block@7,0,0:2u1uHB":{config:{style:"toaster"},position:{x:7,y:0,z:0},type:"deadly-block"},"deadly-block@7,7,0:2u1uHB":{config:{style:"toaster"},position:{x:7,y:7,z:0},type:"deadly-block"},"door@3,0,0:Z1uBJyJ":{config:{axis:"x",toRoom:"moonbase23"},position:{x:3,y:0,z:0},type:"door"},"teleporter@3,3,0:1ropAr":{config:{toRoom:"egyptus1"},position:{x:3,y:3,z:0},type:"teleporter"},"teleporter@3,4,0:1ropAr":{config:{toRoom:"egyptus1"},position:{x:3,y:4,z:0},type:"teleporter"},"teleporter@4,3,0:1ropAr":{config:{toRoom:"egyptus1"},position:{x:4,y:3,z:0},type:"teleporter"},"teleporter@4,4,0:1ropAr":{config:{toRoom:"egyptus1"},position:{x:4,y:4,z:0},type:"teleporter"}},planet:"moonbase",size:{x:8,y:8},walls:{away:["window2","window1","coil","window3","window2","coil","window2","window1"],left:["window2","window1","coil","window3","window2","coil","window2","window1"]}},moonbase25tobookworld:{color:"white",floor:"moonbase",floorSkip:[],id:"moonbase25tobookworld",items:{"baddie@0,0,1:1jRQF":{config:{charging:!0,startDirection:"away",which:"cyberman"},position:{x:0,y:0,z:1},type:"baddie"},"baddie@0,7,1:Q5JXd":{config:{charging:!0,startDirection:"towards",which:"cyberman"},position:{x:0,y:7,z:1},type:"baddie"},"baddie@1,0,1:1jRQF":{config:{charging:!0,startDirection:"away",which:"cyberman"},position:{x:1,y:0,z:1},type:"baddie"},"baddie@1,7,1:Q5JXd":{config:{charging:!0,startDirection:"towards",which:"cyberman"},position:{x:1,y:7,z:1},type:"baddie"},"baddie@2,0,1:1jRQF":{config:{charging:!0,startDirection:"away",which:"cyberman"},position:{x:2,y:0,z:1},type:"baddie"},"baddie@2,7,1:Q5JXd":{config:{charging:!0,startDirection:"towards",which:"cyberman"},position:{x:2,y:7,z:1},type:"baddie"},"baddie@5,0,1:1jRQF":{config:{charging:!0,startDirection:"away",which:"cyberman"},position:{x:5,y:0,z:1},type:"baddie"},"baddie@5,7,1:Q5JXd":{config:{charging:!0,startDirection:"towards",which:"cyberman"},position:{x:5,y:7,z:1},type:"baddie"},"baddie@6,0,1:1jRQF":{config:{charging:!0,startDirection:"away",which:"cyberman"},position:{x:6,y:0,z:1},type:"baddie"},"baddie@6,7,1:Q5JXd":{config:{charging:!0,startDirection:"towards",which:"cyberman"},position:{x:6,y:7,z:1},type:"baddie"},"baddie@7,0,1:1jRQF":{config:{charging:!0,startDirection:"away",which:"cyberman"},position:{x:7,y:0,z:1},type:"baddie"},"baddie@7,7,1:Q5JXd":{config:{charging:!0,startDirection:"towards",which:"cyberman"},position:{x:7,y:7,z:1},type:"baddie"},"deadly-block@0,0,0:2u1uHB":{config:{style:"toaster"},position:{x:0,y:0,z:0},type:"deadly-block"},"deadly-block@0,7,0:2u1uHB":{config:{style:"toaster"},position:{x:0,y:7,z:0},type:"deadly-block"},"deadly-block@1,0,0:2u1uHB":{config:{style:"toaster"},position:{x:1,y:0,z:0},type:"deadly-block"},"deadly-block@1,7,0:2u1uHB":{config:{style:"toaster"},position:{x:1,y:7,z:0},type:"deadly-block"},"deadly-block@2,0,0:2u1uHB":{config:{style:"toaster"},position:{x:2,y:0,z:0},type:"deadly-block"},"deadly-block@2,7,0:2u1uHB":{config:{style:"toaster"},position:{x:2,y:7,z:0},type:"deadly-block"},"deadly-block@5,0,0:2u1uHB":{config:{style:"toaster"},position:{x:5,y:0,z:0},type:"deadly-block"},"deadly-block@5,7,0:2u1uHB":{config:{style:"toaster"},position:{x:5,y:7,z:0},type:"deadly-block"},"deadly-block@6,0,0:2u1uHB":{config:{style:"toaster"},position:{x:6,y:0,z:0},type:"deadly-block"},"deadly-block@6,7,0:2u1uHB":{config:{style:"toaster"},position:{x:6,y:7,z:0},type:"deadly-block"},"deadly-block@7,0,0:2u1uHB":{config:{style:"toaster"},position:{x:7,y:0,z:0},type:"deadly-block"},"deadly-block@7,7,0:2u1uHB":{config:{style:"toaster"},position:{x:7,y:7,z:0},type:"deadly-block"},"door@3,8,0:Z1uBJyJ":{config:{axis:"x",toRoom:"moonbase23"},position:{x:3,y:8,z:0},type:"door"},"teleporter@6,3,0:Z8cIGu":{config:{toRoom:"bookworld1"},position:{x:6,y:3,z:0},type:"teleporter"},"teleporter@6,4,0:Z8cIGu":{config:{toRoom:"bookworld1"},position:{x:6,y:4,z:0},type:"teleporter"},"teleporter@7,3,0:Z8cIGu":{config:{toRoom:"bookworld1"},position:{x:7,y:3,z:0},type:"teleporter"},"teleporter@7,4,0:Z8cIGu":{config:{toRoom:"bookworld1"},position:{x:7,y:4,z:0},type:"teleporter"}},planet:"moonbase",size:{x:8,y:8},walls:{away:["window2","coil","window3","none","none","window3","coil","window1"],left:["window2","window1","coil","window3","window2","coil","window2","window1"]}},moonbase26:{color:"white",floor:"moonbase",floorSkip:[],id:"moonbase26",items:{"baddie@3,0,1:1jRQF":{config:{charging:!0,startDirection:"away",which:"cyberman"},position:{x:3,y:0,z:1},type:"baddie"},"baddie@4,0,1:1jRQF":{config:{charging:!0,startDirection:"away",which:"cyberman"},position:{x:4,y:0,z:1},type:"baddie"},"baddie@5,0,1:1jRQF":{config:{charging:!0,startDirection:"away",which:"cyberman"},position:{x:5,y:0,z:1},type:"baddie"},"deadly-block@2,0,0:2u1uHB":{config:{style:"toaster"},position:{x:2,y:0,z:0},type:"deadly-block"},"deadly-block@3,0,0:2u1uHB":{config:{style:"toaster"},position:{x:3,y:0,z:0},type:"deadly-block"},"deadly-block@4,0,0:2u1uHB":{config:{style:"toaster"},position:{x:4,y:0,z:0},type:"deadly-block"},"deadly-block@5,0,0:2u1uHB":{config:{style:"toaster"},position:{x:5,y:0,z:0},type:"deadly-block"},"door@0,0,0:17xUH1":{config:{axis:"y",toRoom:"moonbase23"},position:{x:0,y:0,z:0},type:"door"},"door@8,0,0:17xVJ2":{config:{axis:"y",toRoom:"moonbase27"},position:{x:8,y:0,z:0},type:"door"}},planet:"moonbase",size:{x:8,y:2},walls:{away:["window2","window1","coil","window3","window2","coil","window2","window1"],left:["none","none"]}},moonbase27:{color:"white",floor:"moonbase",floorSkip:[],id:"moonbase27",items:{"door@0,0,0:Z1uBCkC":{config:{axis:"x",toRoom:"moonbase30"},position:{x:0,y:0,z:0},type:"door"},"door@0,3,0:17xVth":{config:{axis:"y",toRoom:"moonbase26"},position:{x:0,y:3,z:0},type:"door"},"door@0,8,0:Z1uBIgX":{config:{axis:"x",toRoom:"moonbase28"},position:{x:0,y:8,z:0},type:"door"}},planet:"moonbase",size:{x:2,y:8},walls:{away:["none","none"],left:["window2","window1","coil","window3","window2","coil","window2","window1"]}},moonbase28:{color:"white",floor:"moonbase",floorSkip:[],id:"moonbase28",items:{"baddie@0,5,0:2wEOE6":{config:{charging:!1,which:"cyberman"},position:{x:0,y:5,z:0},type:"baddie"},"door@2,0,0:Z1uBIwI":{config:{axis:"x",toRoom:"moonbase27"},position:{x:2,y:0,z:0},type:"door"},"door@6,2,4:17xWfx":{config:{axis:"y",toRoom:"moonbase29"},position:{x:6,y:2,z:4},type:"door"},"hush-puppy@3,3,0:13y":{config:{},position:{x:3,y:3,z:0},type:"hush-puppy"},"hush-puppy@4,3,1:13y":{config:{},position:{x:4,y:3,z:1},type:"hush-puppy"},"hush-puppy@5,3,2:13y":{config:{},position:{x:5,y:3,z:2},type:"hush-puppy"}},planet:"moonbase",size:{x:6,y:6},walls:{away:["window1","coil","window3","window2","coil","window1"],left:["window3","window2","none","none","window2","window1"]}},moonbase29:{color:"white",floor:"moonbase",floorSkip:[],id:"moonbase29",items:{"baddie@0,0,1:1jRQF":{config:{charging:!0,startDirection:"away",which:"cyberman"},position:{x:0,y:0,z:1},type:"baddie"},"baddie@0,7,1:Q5JXd":{config:{charging:!0,startDirection:"towards",which:"cyberman"},position:{x:0,y:7,z:1},type:"baddie"},"baddie@1,0,1:1jRQF":{config:{charging:!0,startDirection:"away",which:"cyberman"},position:{x:1,y:0,z:1},type:"baddie"},"baddie@1,7,1:Q5JXd":{config:{charging:!0,startDirection:"towards",which:"cyberman"},position:{x:1,y:7,z:1},type:"baddie"},"baddie@2,0,1:1jRQF":{config:{charging:!0,startDirection:"away",which:"cyberman"},position:{x:2,y:0,z:1},type:"baddie"},"baddie@2,7,1:Q5JXd":{config:{charging:!0,startDirection:"towards",which:"cyberman"},position:{x:2,y:7,z:1},type:"baddie"},"baddie@5,0,1:1jRQF":{config:{charging:!0,startDirection:"away",which:"cyberman"},position:{x:5,y:0,z:1},type:"baddie"},"baddie@5,7,1:Q5JXd":{config:{charging:!0,startDirection:"towards",which:"cyberman"},position:{x:5,y:7,z:1},type:"baddie"},"baddie@6,0,1:1jRQF":{config:{charging:!0,startDirection:"away",which:"cyberman"},position:{x:6,y:0,z:1},type:"baddie"},"baddie@6,7,1:Q5JXd":{config:{charging:!0,startDirection:"towards",which:"cyberman"},position:{x:6,y:7,z:1},type:"baddie"},"baddie@7,0,1:1jRQF":{config:{charging:!0,startDirection:"away",which:"cyberman"},position:{x:7,y:0,z:1},type:"baddie"},"baddie@7,7,1:Q5JXd":{config:{charging:!0,startDirection:"towards",which:"cyberman"},position:{x:7,y:7,z:1},type:"baddie"},"deadly-block@0,0,0:2u1uHB":{config:{style:"toaster"},position:{x:0,y:0,z:0},type:"deadly-block"},"deadly-block@0,7,0:2u1uHB":{config:{style:"toaster"},position:{x:0,y:7,z:0},type:"deadly-block"},"deadly-block@1,0,0:2u1uHB":{config:{style:"toaster"},position:{x:1,y:0,z:0},type:"deadly-block"},"deadly-block@1,7,0:2u1uHB":{config:{style:"toaster"},position:{x:1,y:7,z:0},type:"deadly-block"},"deadly-block@2,0,0:2u1uHB":{config:{style:"toaster"},position:{x:2,y:0,z:0},type:"deadly-block"},"deadly-block@2,7,0:2u1uHB":{config:{style:"toaster"},position:{x:2,y:7,z:0},type:"deadly-block"},"deadly-block@5,0,0:2u1uHB":{config:{style:"toaster"},position:{x:5,y:0,z:0},type:"deadly-block"},"deadly-block@5,7,0:2u1uHB":{config:{style:"toaster"},position:{x:5,y:7,z:0},type:"deadly-block"},"deadly-block@6,0,0:2u1uHB":{config:{style:"toaster"},position:{x:6,y:0,z:0},type:"deadly-block"},"deadly-block@6,7,0:2u1uHB":{config:{style:"toaster"},position:{x:6,y:7,z:0},type:"deadly-block"},"deadly-block@7,0,0:2u1uHB":{config:{style:"toaster"},position:{x:7,y:0,z:0},type:"deadly-block"},"deadly-block@7,7,0:2u1uHB":{config:{style:"toaster"},position:{x:7,y:7,z:0},type:"deadly-block"},"door@0,3,0:17xVYM":{config:{axis:"y",toRoom:"moonbase28"},position:{x:0,y:3,z:0},type:"door"},"teleporter@3,3,0:Z1R6kUb":{config:{toRoom:"moonbase32"},position:{x:3,y:3,z:0},type:"teleporter"},"teleporter@3,4,0:Z1R6kUb":{config:{toRoom:"moonbase32"},position:{x:3,y:4,z:0},type:"teleporter"},"teleporter@4,3,0:Z1R6kUb":{config:{toRoom:"moonbase32"},position:{x:4,y:3,z:0},type:"teleporter"},"teleporter@4,4,0:Z1R6kUb":{config:{toRoom:"moonbase32"},position:{x:4,y:4,z:0},type:"teleporter"}},planet:"moonbase",size:{x:8,y:8},walls:{away:["window2","window1","coil","window3","window2","coil","window2","window1"],left:["window2","window1","coil","window3","window2","coil","window2","window1"]}},moonbase3:{color:"white",floor:"deadly",floorSkip:[],id:"moonbase3",items:{"block@1,1,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:1,z:0},type:"block"},"block@2,0,0:ZlEwyj":{config:{style:"organic"},position:{x:2,y:0,z:0},type:"block"},"block@2,1,0:ZlEwyj":{config:{style:"organic"},position:{x:2,y:1,z:0},type:"block"},"block@2,2,0:ZlEwyj":{config:{style:"organic"},position:{x:2,y:2,z:0},type:"block"},"block@2,4,0:ZlEwyj":{config:{style:"organic"},position:{x:2,y:4,z:0},type:"block"},"block@3,0,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:0,z:0},type:"block"},"block@3,1,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:1,z:0},type:"block"},"block@4,0,0:ZlEwyj":{config:{style:"organic"},position:{x:4,y:0,z:0},type:"block"},"charles@7,7,1:13y":{config:{},position:{x:7,y:7,z:1},type:"charles"},"deadly-block@0,1,0:ZaRhUQ":{config:{style:"spikes"},position:{x:0,y:1,z:0},type:"deadly-block"},"deadly-block@1,4,1:ZaRhUQ":{config:{style:"spikes"},position:{x:1,y:4,z:1},type:"deadly-block"},"deadly-block@2,4,1:ZaRhUQ":{config:{style:"spikes"},position:{x:2,y:4,z:1},type:"deadly-block"},"deadly-block@7,7,0:ZaRhUQ":{config:{style:"spikes"},position:{x:7,y:7,z:0},type:"deadly-block"},"door@3,0,1:Z1Q1Ach":{config:{axis:"x",toRoom:"moonbase2"},position:{x:3,y:0,z:1},type:"door"},"door@3,8,2:Z1uBRz7":{config:{axis:"x",toRoom:"moonbase13"},position:{x:3,y:8,z:2},type:"door"},"joystick@1,1,1:13y":{config:{},position:{x:1,y:1,z:1},type:"joystick"},"joystick@2,0,1:13y":{config:{},position:{x:2,y:0,z:1},type:"joystick"},"joystick@2,2,1:13y":{config:{},position:{x:2,y:2,z:1},type:"joystick"},"joystick@3,1,1:13y":{config:{},position:{x:3,y:1,z:1},type:"joystick"},"movable-block@0,7,0:1EfFpg":{config:{style:"sandwich"},position:{x:0,y:7,z:0},type:"movable-block"},"spring@4,7,0:13y":{config:{},position:{x:4,y:7,z:0},type:"spring"}},planet:"moonbase",size:{x:8,y:8},walls:{away:["window2","coil","window3","none","none","window3","coil","window1"],left:["window2","window1","coil","window3","window2","coil","window2","window1"]}},moonbase30:{color:"white",floor:"moonbase",floorSkip:[],id:"moonbase30",items:{"door@2,6,0:Z1uBIwI":{config:{axis:"x",toRoom:"moonbase27"},position:{x:2,y:6,z:0},type:"door"},"door@6,2,0:17y3bS":{config:{axis:"y",toRoom:"moonbase31"},position:{x:6,y:2,z:0},type:"door"}},planet:"moonbase",size:{x:6,y:6},walls:{away:["window3","window2","none","none","window2","window1"],left:["window3","window2","none","none","window2","window1"]}},moonbase31:{color:"white",floor:"moonbase",floorSkip:[],id:"moonbase31",items:{"door@0,2,0:17y2V8":{config:{axis:"y",toRoom:"moonbase30"},position:{x:0,y:2,z:0},type:"door"},"teleporter@2,2,0:Z1GpJMo":{config:{toRoom:"blacktooth64"},position:{x:2,y:2,z:0},type:"teleporter"},"teleporter@2,3,0:Z1GpJMo":{config:{toRoom:"blacktooth64"},position:{x:2,y:3,z:0},type:"teleporter"},"teleporter@3,2,0:Z1GpJMo":{config:{toRoom:"blacktooth64"},position:{x:3,y:2,z:0},type:"teleporter"},"teleporter@3,3,0:Z1GpJMo":{config:{toRoom:"blacktooth64"},position:{x:3,y:3,z:0},type:"teleporter"}},planet:"moonbase",size:{x:6,y:6},walls:{away:["window1","coil","window3","window2","coil","window1"],left:["window1","coil","window3","window2","coil","window1"]}},moonbase32:{color:"white",floor:"moonbase",floorSkip:[],id:"moonbase32",items:{"baddie@0,0,1:1jRQF":{config:{charging:!0,startDirection:"away",which:"cyberman"},position:{x:0,y:0,z:1},type:"baddie"},"baddie@0,7,1:Q5JXd":{config:{charging:!0,startDirection:"towards",which:"cyberman"},position:{x:0,y:7,z:1},type:"baddie"},"baddie@1,0,1:1jRQF":{config:{charging:!0,startDirection:"away",which:"cyberman"},position:{x:1,y:0,z:1},type:"baddie"},"baddie@1,7,1:Q5JXd":{config:{charging:!0,startDirection:"towards",which:"cyberman"},position:{x:1,y:7,z:1},type:"baddie"},"baddie@2,0,1:1jRQF":{config:{charging:!0,startDirection:"away",which:"cyberman"},position:{x:2,y:0,z:1},type:"baddie"},"baddie@2,7,1:Q5JXd":{config:{charging:!0,startDirection:"towards",which:"cyberman"},position:{x:2,y:7,z:1},type:"baddie"},"baddie@5,0,1:1jRQF":{config:{charging:!0,startDirection:"away",which:"cyberman"},position:{x:5,y:0,z:1},type:"baddie"},"baddie@5,7,1:Q5JXd":{config:{charging:!0,startDirection:"towards",which:"cyberman"},position:{x:5,y:7,z:1},type:"baddie"},"baddie@6,0,1:1jRQF":{config:{charging:!0,startDirection:"away",which:"cyberman"},position:{x:6,y:0,z:1},type:"baddie"},"baddie@6,7,1:Q5JXd":{config:{charging:!0,startDirection:"towards",which:"cyberman"},position:{x:6,y:7,z:1},type:"baddie"},"baddie@7,0,1:1jRQF":{config:{charging:!0,startDirection:"away",which:"cyberman"},position:{x:7,y:0,z:1},type:"baddie"},"baddie@7,7,1:Q5JXd":{config:{charging:!0,startDirection:"towards",which:"cyberman"},position:{x:7,y:7,z:1},type:"baddie"},"deadly-block@0,0,0:2u1uHB":{config:{style:"toaster"},position:{x:0,y:0,z:0},type:"deadly-block"},"deadly-block@0,7,0:2u1uHB":{config:{style:"toaster"},position:{x:0,y:7,z:0},type:"deadly-block"},"deadly-block@1,0,0:2u1uHB":{config:{style:"toaster"},position:{x:1,y:0,z:0},type:"deadly-block"},"deadly-block@1,7,0:2u1uHB":{config:{style:"toaster"},position:{x:1,y:7,z:0},type:"deadly-block"},"deadly-block@2,0,0:2u1uHB":{config:{style:"toaster"},position:{x:2,y:0,z:0},type:"deadly-block"},"deadly-block@2,7,0:2u1uHB":{config:{style:"toaster"},position:{x:2,y:7,z:0},type:"deadly-block"},"deadly-block@5,0,0:2u1uHB":{config:{style:"toaster"},position:{x:5,y:0,z:0},type:"deadly-block"},"deadly-block@5,7,0:2u1uHB":{config:{style:"toaster"},position:{x:5,y:7,z:0},type:"deadly-block"},"deadly-block@6,0,0:2u1uHB":{config:{style:"toaster"},position:{x:6,y:0,z:0},type:"deadly-block"},"deadly-block@6,7,0:2u1uHB":{config:{style:"toaster"},position:{x:6,y:7,z:0},type:"deadly-block"},"deadly-block@7,0,0:2u1uHB":{config:{style:"toaster"},position:{x:7,y:0,z:0},type:"deadly-block"},"deadly-block@7,7,0:2u1uHB":{config:{style:"toaster"},position:{x:7,y:7,z:0},type:"deadly-block"},"door@3,8,0:XDJe4":{config:{axis:"x",toRoom:"moonbase33triple"},position:{x:3,y:8,z:0},type:"door"},"teleporter@3,3,0:Z1R6r7h":{config:{toRoom:"moonbase29"},position:{x:3,y:3,z:0},type:"teleporter"},"teleporter@3,4,0:Z1R6r7h":{config:{toRoom:"moonbase29"},position:{x:3,y:4,z:0},type:"teleporter"},"teleporter@4,3,0:Z1R6r7h":{config:{toRoom:"moonbase29"},position:{x:4,y:3,z:0},type:"teleporter"},"teleporter@4,4,0:Z1R6r7h":{config:{toRoom:"moonbase29"},position:{x:4,y:4,z:0},type:"teleporter"}},planet:"moonbase",size:{x:8,y:8},walls:{away:["window2","coil","window3","none","none","window3","coil","window1"],left:["window2","window1","coil","window3","window2","coil","window2","window1"]}},moonbase33triple:{color:"white",floor:"moonbase",floorSkip:[{x:5,y:3},{x:5,y:2},{x:5,y:1},{x:5,y:0},{x:5,y:-1},{x:5,y:-2},{x:5,y:-3},{x:5,y:-4},{x:5,y:-5},{x:4,y:3},{x:4,y:2},{x:4,y:1},{x:4,y:0},{x:4,y:-1},{x:4,y:-2},{x:4,y:-3},{x:4,y:-4},{x:4,y:-5},{x:3,y:3},{x:3,y:2},{x:3,y:1},{x:3,y:0},{x:3,y:-1},{x:3,y:-2},{x:3,y:-3},{x:3,y:-4},{x:3,y:-5},{x:2,y:3},{x:2,y:2},{x:2,y:1},{x:2,y:0},{x:2,y:-1},{x:2,y:-2},{x:2,y:-3},{x:2,y:-4},{x:2,y:-5},{x:1,y:3},{x:1,y:2},{x:1,y:1},{x:1,y:0},{x:1,y:-1},{x:1,y:-2},{x:1,y:-3},{x:1,y:-4},{x:1,y:-5},{x:0,y:3},{x:0,y:2},{x:0,y:1},{x:0,y:0},{x:0,y:-1},{x:0,y:-2},{x:0,y:-3},{x:0,y:-4},{x:0,y:-5}],id:"moonbase33triple",items:{"baddie@0,10,1:Z158tvd":{config:{charging:!0,startDirection:"left",which:"cyberman"},position:{x:0,y:10,z:1},type:"baddie"},"baddie@0,11,1:Z158tvd":{config:{charging:!0,startDirection:"left",which:"cyberman"},position:{x:0,y:11,z:1},type:"baddie"},"baddie@0,12,1:Z158tvd":{config:{charging:!0,startDirection:"left",which:"cyberman"},position:{x:0,y:12,z:1},type:"baddie"},"baddie@0,13,1:Z158tvd":{config:{charging:!0,startDirection:"left",which:"cyberman"},position:{x:0,y:13,z:1},type:"baddie"},"baddie@11,1,1:ZD7ABP":{config:{charging:!0,startDirection:"right",which:"cyberman"},position:{x:11,y:1,z:1},type:"baddie"},"baddie@11,14,1:ZD7ABP":{config:{charging:!0,startDirection:"right",which:"cyberman"},position:{x:11,y:14,z:1},type:"baddie"},"baddie@11,2,1:ZD7ABP":{config:{charging:!0,startDirection:"right",which:"cyberman"},position:{x:11,y:2,z:1},type:"baddie"},"baddie@11,3,1:ZD7ABP":{config:{charging:!0,startDirection:"right",which:"cyberman"},position:{x:11,y:3,z:1},type:"baddie"},"baddie@11,4,1:ZD7ABP":{config:{charging:!0,startDirection:"right",which:"cyberman"},position:{x:11,y:4,z:1},type:"baddie"},"baddie@11,5,1:ZD7ABP":{config:{charging:!0,startDirection:"right",which:"cyberman"},position:{x:11,y:5,z:1},type:"baddie"},"baddie@11,9,1:ZD7ABP":{config:{charging:!0,startDirection:"right",which:"cyberman"},position:{x:11,y:9,z:1},type:"baddie"},"baddie@5,10,1:ZD7ABP":{config:{charging:!0,startDirection:"right",which:"cyberman"},position:{x:5,y:10,z:1},type:"baddie"},"baddie@5,11,1:ZD7ABP":{config:{charging:!0,startDirection:"right",which:"cyberman"},position:{x:5,y:11,z:1},type:"baddie"},"baddie@5,12,1:ZD7ABP":{config:{charging:!0,startDirection:"right",which:"cyberman"},position:{x:5,y:12,z:1},type:"baddie"},"baddie@5,13,1:ZD7ABP":{config:{charging:!0,startDirection:"right",which:"cyberman"},position:{x:5,y:13,z:1},type:"baddie"},"baddie@6,10,1:Z158tvd":{config:{charging:!0,startDirection:"left",which:"cyberman"},position:{x:6,y:10,z:1},type:"baddie"},"baddie@6,11,1:Z158tvd":{config:{charging:!0,startDirection:"left",which:"cyberman"},position:{x:6,y:11,z:1},type:"baddie"},"baddie@6,12,1:Z158tvd":{config:{charging:!0,startDirection:"left",which:"cyberman"},position:{x:6,y:12,z:1},type:"baddie"},"baddie@6,13,1:Z158tvd":{config:{charging:!0,startDirection:"left",which:"cyberman"},position:{x:6,y:13,z:1},type:"baddie"},"baddie@6,2,1:Z158tvd":{config:{charging:!0,startDirection:"left",which:"cyberman"},position:{x:6,y:2,z:1},type:"baddie"},"baddie@6,3,1:Z158tvd":{config:{charging:!0,startDirection:"left",which:"cyberman"},position:{x:6,y:3,z:1},type:"baddie"},"baddie@6,4,1:Z158tvd":{config:{charging:!0,startDirection:"left",which:"cyberman"},position:{x:6,y:4,z:1},type:"baddie"},"baddie@6,5,1:Z158tvd":{config:{charging:!0,startDirection:"left",which:"cyberman"},position:{x:6,y:5,z:1},type:"baddie"},"deadly-block@0,10,0:2u1uHB":{config:{style:"toaster"},position:{x:0,y:10,z:0},type:"deadly-block"},"deadly-block@0,11,0:2u1uHB":{config:{style:"toaster"},position:{x:0,y:11,z:0},type:"deadly-block"},"deadly-block@0,12,0:2u1uHB":{config:{style:"toaster"},position:{x:0,y:12,z:0},type:"deadly-block"},"deadly-block@0,13,0:2u1uHB":{config:{style:"toaster"},position:{x:0,y:13,z:0},type:"deadly-block"},"deadly-block@11,1,0:2u1uHB":{config:{style:"toaster"},position:{x:11,y:1,z:0},type:"deadly-block"},"deadly-block@11,14,0:2u1uHB":{config:{style:"toaster"},position:{x:11,y:14,z:0},type:"deadly-block"},"deadly-block@11,2,0:2u1uHB":{config:{style:"toaster"},position:{x:11,y:2,z:0},type:"deadly-block"},"deadly-block@11,3,0:2u1uHB":{config:{style:"toaster"},position:{x:11,y:3,z:0},type:"deadly-block"},"deadly-block@11,4,0:2u1uHB":{config:{style:"toaster"},position:{x:11,y:4,z:0},type:"deadly-block"},"deadly-block@11,5,0:2u1uHB":{config:{style:"toaster"},position:{x:11,y:5,z:0},type:"deadly-block"},"deadly-block@11,9,0:2u1uHB":{config:{style:"toaster"},position:{x:11,y:9,z:0},type:"deadly-block"},"deadly-block@5,10,0:2u1uHB":{config:{style:"toaster"},position:{x:5,y:10,z:0},type:"deadly-block"},"deadly-block@5,11,0:2u1uHB":{config:{style:"toaster"},position:{x:5,y:11,z:0},type:"deadly-block"},"deadly-block@5,12,0:2u1uHB":{config:{style:"toaster"},position:{x:5,y:12,z:0},type:"deadly-block"},"deadly-block@5,13,0:2u1uHB":{config:{style:"toaster"},position:{x:5,y:13,z:0},type:"deadly-block"},"deadly-block@6,10,0:2u1uHB":{config:{style:"toaster"},position:{x:6,y:10,z:0},type:"deadly-block"},"deadly-block@6,11,0:2u1uHB":{config:{style:"toaster"},position:{x:6,y:11,z:0},type:"deadly-block"},"deadly-block@6,12,0:2u1uHB":{config:{style:"toaster"},position:{x:6,y:12,z:0},type:"deadly-block"},"deadly-block@6,13,0:2u1uHB":{config:{style:"toaster"},position:{x:6,y:13,z:0},type:"deadly-block"},"deadly-block@6,2,0:2u1uHB":{config:{style:"toaster"},position:{x:6,y:2,z:0},type:"deadly-block"},"deadly-block@6,3,0:2u1uHB":{config:{style:"toaster"},position:{x:6,y:3,z:0},type:"deadly-block"},"deadly-block@6,4,0:2u1uHB":{config:{style:"toaster"},position:{x:6,y:4,z:0},type:"deadly-block"},"deadly-block@6,5,0:2u1uHB":{config:{style:"toaster"},position:{x:6,y:5,z:0},type:"deadly-block"},"door@12,11,0:17y3X9":{config:{axis:"y",toRoom:"moonbase34"},position:{x:12,y:11,z:0},type:"door"},"door@2,16,0:Z1uBAM6":{config:{axis:"x",toRoom:"moonbase36"},position:{x:2,y:16,z:0},type:"door"},"door@8,0,0:Z1uBBO7":{config:{axis:"x",toRoom:"moonbase32"},position:{x:8,y:0,z:0},type:"door"},"wall@0,7,0:Z2oYlvx":{config:{side:"away",style:"coil"},position:{x:0,y:7,z:0},type:"wall"},"wall@1,7,0:Z2oYlvx":{config:{side:"away",style:"coil"},position:{x:1,y:7,z:0},type:"wall"},"wall@2,7,0:Z2oYlvx":{config:{side:"away",style:"coil"},position:{x:2,y:7,z:0},type:"wall"},"wall@3,7,0:Z2oYlvx":{config:{side:"away",style:"coil"},position:{x:3,y:7,z:0},type:"wall"},"wall@4,7,0:Z2oYlvx":{config:{side:"away",style:"coil"},position:{x:4,y:7,z:0},type:"wall"},"wall@5,0,0:ZcS5yT":{config:{side:"left",style:"coil"},position:{x:5,y:0,z:0},type:"wall"},"wall@5,1,0:ZcS5yT":{config:{side:"left",style:"coil"},position:{x:5,y:1,z:0},type:"wall"},"wall@5,2,0:ZcS5yT":{config:{side:"left",style:"coil"},position:{x:5,y:2,z:0},type:"wall"},"wall@5,3,0:ZcS5yT":{config:{side:"left",style:"coil"},position:{x:5,y:3,z:0},type:"wall"},"wall@5,4,0:ZcS5yT":{config:{side:"left",style:"coil"},position:{x:5,y:4,z:0},type:"wall"},"wall@5,5,0:ZcS5yT":{config:{side:"left",style:"coil"},position:{x:5,y:5,z:0},type:"wall"},"wall@5,6,0:ZcS5yT":{config:{side:"left",style:"coil"},position:{x:5,y:6,z:0},type:"wall"},"wall@5,7,0:Z2oYlvx":{config:{side:"away",style:"coil"},position:{x:5,y:7,z:0},type:"wall"},"wall@5,7,0:ZcS5yT":{config:{side:"left",style:"coil"},position:{x:5,y:7,z:0},type:"wall"}},planet:"moonbase",size:{x:12,y:16},walls:{away:["window3","window2","none","none","window2","window1","window1","coil","window3","window2","coil","window1"],left:["window2","window1","coil","window3","window2","coil","window2","window1","window2","coil","window3","none","none","window3","coil","window1"]}},moonbase34:{color:"white",floor:"moonbase",floorSkip:[],id:"moonbase34",items:{"baddie@7,0,1:ZD7ABP":{config:{charging:!0,startDirection:"right",which:"cyberman"},position:{x:7,y:0,z:1},type:"baddie"},"baddie@7,1,1:ZD7ABP":{config:{charging:!0,startDirection:"right",which:"cyberman"},position:{x:7,y:1,z:1},type:"baddie"},"baddie@7,2,1:ZD7ABP":{config:{charging:!0,startDirection:"right",which:"cyberman"},position:{x:7,y:2,z:1},type:"baddie"},"baddie@7,3,1:ZD7ABP":{config:{charging:!0,startDirection:"right",which:"cyberman"},position:{x:7,y:3,z:1},type:"baddie"},"deadly-block@7,0,0:2u1uHB":{config:{style:"toaster"},position:{x:7,y:0,z:0},type:"deadly-block"},"deadly-block@7,1,0:2u1uHB":{config:{style:"toaster"},position:{x:7,y:1,z:0},type:"deadly-block"},"deadly-block@7,2,0:2u1uHB":{config:{style:"toaster"},position:{x:7,y:2,z:0},type:"deadly-block"},"deadly-block@7,3,0:2u1uHB":{config:{style:"toaster"},position:{x:7,y:3,z:0},type:"deadly-block"},"door@0,1,0:1nYeVH":{config:{axis:"y",toRoom:"moonbase33triple"},position:{x:0,y:1,z:0},type:"door"},"door@3,4,0:Z1uBB2Q":{config:{axis:"x",toRoom:"moonbase35"},position:{x:3,y:4,z:0},type:"door"}},planet:"moonbase",size:{x:8,y:4},walls:{away:["window2","coil","window3","none","none","window3","coil","window1"],left:["window3","window2","window1","coil"]}},moonbase35:{color:"white",floor:"moonbase",floorSkip:[],id:"moonbase35",items:{"baddie@0,1,1:Z158tvd":{config:{charging:!0,startDirection:"left",which:"cyberman"},position:{x:0,y:1,z:1},type:"baddie"},"baddie@0,2,1:Z158tvd":{config:{charging:!0,startDirection:"left",which:"cyberman"},position:{x:0,y:2,z:1},type:"baddie"},"baddie@0,3,1:Z158tvd":{config:{charging:!0,startDirection:"left",which:"cyberman"},position:{x:0,y:3,z:1},type:"baddie"},"baddie@0,4,1:Z158tvd":{config:{charging:!0,startDirection:"left",which:"cyberman"},position:{x:0,y:4,z:1},type:"baddie"},"baddie@5,1,1:ZD7ABP":{config:{charging:!0,startDirection:"right",which:"cyberman"},position:{x:5,y:1,z:1},type:"baddie"},"baddie@5,2,1:ZD7ABP":{config:{charging:!0,startDirection:"right",which:"cyberman"},position:{x:5,y:2,z:1},type:"baddie"},"baddie@5,3,1:ZD7ABP":{config:{charging:!0,startDirection:"right",which:"cyberman"},position:{x:5,y:3,z:1},type:"baddie"},"baddie@5,4,1:ZD7ABP":{config:{charging:!0,startDirection:"right",which:"cyberman"},position:{x:5,y:4,z:1},type:"baddie"},"deadly-block@0,1,0:2u1uHB":{config:{style:"toaster"},position:{x:0,y:1,z:0},type:"deadly-block"},"deadly-block@0,2,0:2u1uHB":{config:{style:"toaster"},position:{x:0,y:2,z:0},type:"deadly-block"},"deadly-block@0,3,0:2u1uHB":{config:{style:"toaster"},position:{x:0,y:3,z:0},type:"deadly-block"},"deadly-block@0,4,0:2u1uHB":{config:{style:"toaster"},position:{x:0,y:4,z:0},type:"deadly-block"},"deadly-block@5,1,0:2u1uHB":{config:{style:"toaster"},position:{x:5,y:1,z:0},type:"deadly-block"},"deadly-block@5,2,0:2u1uHB":{config:{style:"toaster"},position:{x:5,y:2,z:0},type:"deadly-block"},"deadly-block@5,3,0:2u1uHB":{config:{style:"toaster"},position:{x:5,y:3,z:0},type:"deadly-block"},"deadly-block@5,4,0:2u1uHB":{config:{style:"toaster"},position:{x:5,y:4,z:0},type:"deadly-block"},"door@2,0,0:Z1uBBiB":{config:{axis:"x",toRoom:"moonbase34"},position:{x:2,y:0,z:0},type:"door"},"teleporter@2,2,0:Z1GpSz2":{config:{toRoom:"blacktooth51"},position:{x:2,y:2,z:0},type:"teleporter"},"teleporter@2,3,0:Z1GpSz2":{config:{toRoom:"blacktooth51"},position:{x:2,y:3,z:0},type:"teleporter"},"teleporter@3,2,0:Z1GpSz2":{config:{toRoom:"blacktooth51"},position:{x:3,y:2,z:0},type:"teleporter"},"teleporter@3,3,0:Z1GpSz2":{config:{toRoom:"blacktooth51"},position:{x:3,y:3,z:0},type:"teleporter"}},planet:"moonbase",size:{x:6,y:6},walls:{away:["window1","coil","window3","window2","coil","window1"],left:["window1","coil","window3","window2","coil","window1"]}},moonbase36:{color:"white",floor:"moonbase",floorSkip:[],id:"moonbase36",items:{"baddie@0,1,1:Z158tvd":{config:{charging:!0,startDirection:"left",which:"cyberman"},position:{x:0,y:1,z:1},type:"baddie"},"baddie@0,2,1:Z158tvd":{config:{charging:!0,startDirection:"left",which:"cyberman"},position:{x:0,y:2,z:1},type:"baddie"},"baddie@0,3,1:Z158tvd":{config:{charging:!0,startDirection:"left",which:"cyberman"},position:{x:0,y:3,z:1},type:"baddie"},"baddie@0,4,1:Z158tvd":{config:{charging:!0,startDirection:"left",which:"cyberman"},position:{x:0,y:4,z:1},type:"baddie"},"baddie@5,1,1:ZD7ABP":{config:{charging:!0,startDirection:"right",which:"cyberman"},position:{x:5,y:1,z:1},type:"baddie"},"baddie@5,2,1:ZD7ABP":{config:{charging:!0,startDirection:"right",which:"cyberman"},position:{x:5,y:2,z:1},type:"baddie"},"baddie@5,3,1:ZD7ABP":{config:{charging:!0,startDirection:"right",which:"cyberman"},position:{x:5,y:3,z:1},type:"baddie"},"baddie@5,4,1:ZD7ABP":{config:{charging:!0,startDirection:"right",which:"cyberman"},position:{x:5,y:4,z:1},type:"baddie"},"deadly-block@0,1,0:2u1uHB":{config:{style:"toaster"},position:{x:0,y:1,z:0},type:"deadly-block"},"deadly-block@0,2,0:2u1uHB":{config:{style:"toaster"},position:{x:0,y:2,z:0},type:"deadly-block"},"deadly-block@0,3,0:2u1uHB":{config:{style:"toaster"},position:{x:0,y:3,z:0},type:"deadly-block"},"deadly-block@0,4,0:2u1uHB":{config:{style:"toaster"},position:{x:0,y:4,z:0},type:"deadly-block"},"deadly-block@5,1,0:2u1uHB":{config:{style:"toaster"},position:{x:5,y:1,z:0},type:"deadly-block"},"deadly-block@5,2,0:2u1uHB":{config:{style:"toaster"},position:{x:5,y:2,z:0},type:"deadly-block"},"deadly-block@5,3,0:2u1uHB":{config:{style:"toaster"},position:{x:5,y:3,z:0},type:"deadly-block"},"deadly-block@5,4,0:2u1uHB":{config:{style:"toaster"},position:{x:5,y:4,z:0},type:"deadly-block"},"door@2,0,0:XDJe4":{config:{axis:"x",toRoom:"moonbase33triple"},position:{x:2,y:0,z:0},type:"door"},"teleporter@2,2,0:Z1GpIuC":{config:{toRoom:"blacktooth69"},position:{x:2,y:2,z:0},type:"teleporter"},"teleporter@2,3,0:Z1GpIuC":{config:{toRoom:"blacktooth69"},position:{x:2,y:3,z:0},type:"teleporter"},"teleporter@3,2,0:Z1GpIuC":{config:{toRoom:"blacktooth69"},position:{x:3,y:2,z:0},type:"teleporter"},"teleporter@3,3,0:Z1GpIuC":{config:{toRoom:"blacktooth69"},position:{x:3,y:3,z:0},type:"teleporter"}},planet:"moonbase",size:{x:6,y:6},walls:{away:["window1","coil","window3","window2","coil","window1"],left:["window1","coil","window3","window2","coil","window1"]}},moonbase4:{color:"white",floor:"moonbase",floorSkip:[],id:"moonbase4",items:{"baddie@2,5,0:Z1YJLrs":{config:{which:"computer-bot"},position:{x:2,y:5,z:0},type:"baddie"},"baddie@5,2,0:Z1YJLrs":{config:{which:"computer-bot"},position:{x:5,y:2,z:0},type:"baddie"},"block@1,7,0:Z1bIU4r":{config:{style:"artificial"},position:{x:1,y:7,z:0},type:"block"},"block@1,7,1:Z1bIU4r":{config:{style:"artificial"},position:{x:1,y:7,z:1},type:"block"},"block@1,7,3:Z1bIU4r":{config:{style:"artificial"},position:{x:1,y:7,z:3},type:"block"},"block@2,7,3:Z1bIU4r":{config:{style:"artificial"},position:{x:2,y:7,z:3},type:"block"},"block@3,7,3:Z1bIU4r":{config:{style:"artificial"},position:{x:3,y:7,z:3},type:"block"},"block@7,0,0:Z1bIU4r":{config:{style:"artificial"},position:{x:7,y:0,z:0},type:"block"},"block@7,1,1:Z1bIU4r":{config:{style:"artificial"},position:{x:7,y:1,z:1},type:"block"},"block@7,2,2:Z1bIU4r":{config:{style:"artificial"},position:{x:7,y:2,z:2},type:"block"},"block@7,3,3:Z1bIU4r":{config:{style:"artificial"},position:{x:7,y:3,z:3},type:"block"},"deadly-block@1,1,0:ZWGEjo":{config:{style:"volcano"},position:{x:1,y:1,z:0},type:"deadly-block"},"deadly-block@1,6,0:ZWGEjo":{config:{style:"volcano"},position:{x:1,y:6,z:0},type:"deadly-block"},"deadly-block@2,3,0:ZWGEjo":{config:{style:"volcano"},position:{x:2,y:3,z:0},type:"deadly-block"},"deadly-block@2,4,0:ZWGEjo":{config:{style:"volcano"},position:{x:2,y:4,z:0},type:"deadly-block"},"deadly-block@3,2,0:ZWGEjo":{config:{style:"volcano"},position:{x:3,y:2,z:0},type:"deadly-block"},"deadly-block@3,5,0:ZWGEjo":{config:{style:"volcano"},position:{x:3,y:5,z:0},type:"deadly-block"},"deadly-block@4,2,0:ZWGEjo":{config:{style:"volcano"},position:{x:4,y:2,z:0},type:"deadly-block"},"deadly-block@4,5,0:ZWGEjo":{config:{style:"volcano"},position:{x:4,y:5,z:0},type:"deadly-block"},"deadly-block@5,3,0:ZWGEjo":{config:{style:"volcano"},position:{x:5,y:3,z:0},type:"deadly-block"},"deadly-block@5,4,0:ZWGEjo":{config:{style:"volcano"},position:{x:5,y:4,z:0},type:"deadly-block"},"deadly-block@6,1,0:ZWGEjo":{config:{style:"volcano"},position:{x:6,y:1,z:0},type:"deadly-block"},"deadly-block@6,6,0:ZWGEjo":{config:{style:"volcano"},position:{x:6,y:6,z:0},type:"deadly-block"},"door@3,8,5:Z1Q1zq1":{config:{axis:"x",toRoom:"moonbase5"},position:{x:3,y:8,z:5},type:"door"},"door@8,3,5:Z1UQNbo":{config:{axis:"y",toRoom:"moonbase1"},position:{x:8,y:3,z:5},type:"door"}},planet:"moonbase",size:{x:8,y:8},walls:{away:["window2","coil","window3","none","none","window3","coil","window1"],left:["window2","coil","window3","none","none","window3","coil","window1"]}},moonbase5:{color:"white",floor:"moonbase",floorSkip:[],id:"moonbase5",items:{"baddie@0,4,0:VXUBj":{config:{which:"headless-base"},position:{x:0,y:4,z:0},type:"baddie"},"baddie@3,2,0:VXUBj":{config:{which:"headless-base"},position:{x:3,y:2,z:0},type:"baddie"},"baddie@3,6,0:VXUBj":{config:{which:"headless-base"},position:{x:3,y:6,z:0},type:"baddie"},"door@1,0,0:Z1Q1zFL":{config:{axis:"x",toRoom:"moonbase4"},position:{x:1,y:0,z:0},type:"door"},"door@1,8,0:Z1Q1zag":{config:{axis:"x",toRoom:"moonbase6"},position:{x:1,y:8,z:0},type:"door"}},planet:"moonbase",size:{x:4,y:8},walls:{away:["window3","none","none","window1"],left:["window2","window1","coil","window3","window2","coil","window2","window1"]}},moonbase6:{color:"white",floor:"moonbase",floorSkip:[],id:"moonbase6",items:{"baddie@0,4,0:VXUBj":{config:{which:"headless-base"},position:{x:0,y:4,z:0},type:"baddie"},"baddie@7,5,0:VXUBj":{config:{which:"headless-base"},position:{x:7,y:5,z:0},type:"baddie"},"deadly-block@0,3,0:ZWGEjo":{config:{style:"volcano"},position:{x:0,y:3,z:0},type:"deadly-block"},"deadly-block@1,3,0:ZWGEjo":{config:{style:"volcano"},position:{x:1,y:3,z:0},type:"deadly-block"},"deadly-block@1,5,0:ZWGEjo":{config:{style:"volcano"},position:{x:1,y:5,z:0},type:"deadly-block"},"deadly-block@2,7,0:ZWGEjo":{config:{style:"volcano"},position:{x:2,y:7,z:0},type:"deadly-block"},"deadly-block@3,3,0:ZWGEjo":{config:{style:"volcano"},position:{x:3,y:3,z:0},type:"deadly-block"},"deadly-block@3,4,0:ZWGEjo":{config:{style:"volcano"},position:{x:3,y:4,z:0},type:"deadly-block"},"deadly-block@3,5,0:ZWGEjo":{config:{style:"volcano"},position:{x:3,y:5,z:0},type:"deadly-block"},"deadly-block@4,6,0:ZWGEjo":{config:{style:"volcano"},position:{x:4,y:6,z:0},type:"deadly-block"},"deadly-block@5,4,0:ZWGEjo":{config:{style:"volcano"},position:{x:5,y:4,z:0},type:"deadly-block"},"deadly-block@5,6,0:ZWGEjo":{config:{style:"volcano"},position:{x:5,y:6,z:0},type:"deadly-block"},"deadly-block@7,4,0:ZWGEjo":{config:{style:"volcano"},position:{x:7,y:4,z:0},type:"deadly-block"},"door@3,0,0:Z1Q1zq1":{config:{axis:"x",toRoom:"moonbase5"},position:{x:3,y:0,z:0},type:"door"},"door@3,8,0:Z1Q1yTv":{config:{axis:"x",toRoom:"moonbase7"},position:{x:3,y:8,z:0},type:"door"},"pickup@0,5,0:1MkQY2":{config:{gives:"extra-life"},position:{x:0,y:5,z:0},type:"pickup"}},planet:"moonbase",size:{x:8,y:8},walls:{away:["window2","coil","window3","none","none","window3","coil","window1"],left:["window2","window1","coil","window3","window2","coil","window2","window1"]}},moonbase7:{color:"white",floor:"moonbase",floorSkip:[],id:"moonbase7",items:{"baddie@0,7,1:Q5JXd":{config:{charging:!0,startDirection:"towards",which:"cyberman"},position:{x:0,y:7,z:1},type:"baddie"},"baddie@1,7,1:Q5JXd":{config:{charging:!0,startDirection:"towards",which:"cyberman"},position:{x:1,y:7,z:1},type:"baddie"},"baddie@2,7,1:Q5JXd":{config:{charging:!0,startDirection:"towards",which:"cyberman"},position:{x:2,y:7,z:1},type:"baddie"},"baddie@5,7,1:Q5JXd":{config:{charging:!0,startDirection:"towards",which:"cyberman"},position:{x:5,y:7,z:1},type:"baddie"},"baddie@6,7,1:Q5JXd":{config:{charging:!0,startDirection:"towards",which:"cyberman"},position:{x:6,y:7,z:1},type:"baddie"},"baddie@7,7,1:Q5JXd":{config:{charging:!0,startDirection:"towards",which:"cyberman"},position:{x:7,y:7,z:1},type:"baddie"},"block@2,0,0:ZlEwyj":{config:{style:"organic"},position:{x:2,y:0,z:0},type:"block"},"block@2,0,1:ZlEwyj":{config:{style:"organic"},position:{x:2,y:0,z:1},type:"block"},"block@2,0,3:ZlEwyj":{config:{style:"organic"},position:{x:2,y:0,z:3},type:"block"},"block@3,0,3:ZlEwyj":{config:{style:"organic"},position:{x:3,y:0,z:3},type:"block"},"deadly-block@0,7,0:2u1uHB":{config:{style:"toaster"},position:{x:0,y:7,z:0},type:"deadly-block"},"deadly-block@1,7,0:2u1uHB":{config:{style:"toaster"},position:{x:1,y:7,z:0},type:"deadly-block"},"deadly-block@2,7,0:2u1uHB":{config:{style:"toaster"},position:{x:2,y:7,z:0},type:"deadly-block"},"deadly-block@5,7,0:2u1uHB":{config:{style:"toaster"},position:{x:5,y:7,z:0},type:"deadly-block"},"deadly-block@6,7,0:2u1uHB":{config:{style:"toaster"},position:{x:6,y:7,z:0},type:"deadly-block"},"deadly-block@7,7,0:2u1uHB":{config:{style:"toaster"},position:{x:7,y:7,z:0},type:"deadly-block"},"door@0,3,0:Z1UQLn7":{config:{axis:"y",toRoom:"moonbase8"},position:{x:0,y:3,z:0},type:"door"},"door@3,0,4:Z1Q1zag":{config:{axis:"x",toRoom:"moonbase6"},position:{x:3,y:0,z:4},type:"door"},"door@8,3,0:17xNd9":{config:{axis:"y",toRoom:"moonbase15"},position:{x:8,y:3,z:0},type:"door"}},planet:"moonbase",size:{x:8,y:8},walls:{away:["window2","window1","coil","window3","window2","coil","window2","window1"],left:["window2","coil","window3","none","none","window3","coil","window1"]}},moonbase8:{color:"white",floor:"moonbase",floorSkip:[],id:"moonbase8",items:{"baddie@0,0,1:1jRQF":{config:{charging:!0,startDirection:"away",which:"cyberman"},position:{x:0,y:0,z:1},type:"baddie"},"baddie@1,0,1:1jRQF":{config:{charging:!0,startDirection:"away",which:"cyberman"},position:{x:1,y:0,z:1},type:"baddie"},"baddie@2,0,1:1jRQF":{config:{charging:!0,startDirection:"away",which:"cyberman"},position:{x:2,y:0,z:1},type:"baddie"},"baddie@5,0,1:1jRQF":{config:{charging:!0,startDirection:"away",which:"cyberman"},position:{x:5,y:0,z:1},type:"baddie"},"baddie@6,0,1:1jRQF":{config:{charging:!0,startDirection:"away",which:"cyberman"},position:{x:6,y:0,z:1},type:"baddie"},"baddie@7,0,1:1jRQF":{config:{charging:!0,startDirection:"away",which:"cyberman"},position:{x:7,y:0,z:1},type:"baddie"},"deadly-block@0,0,0:2u1uHB":{config:{style:"toaster"},position:{x:0,y:0,z:0},type:"deadly-block"},"deadly-block@1,0,0:2u1uHB":{config:{style:"toaster"},position:{x:1,y:0,z:0},type:"deadly-block"},"deadly-block@2,0,0:2u1uHB":{config:{style:"toaster"},position:{x:2,y:0,z:0},type:"deadly-block"},"deadly-block@5,0,0:2u1uHB":{config:{style:"toaster"},position:{x:5,y:0,z:0},type:"deadly-block"},"deadly-block@6,0,0:2u1uHB":{config:{style:"toaster"},position:{x:6,y:0,z:0},type:"deadly-block"},"deadly-block@7,0,0:2u1uHB":{config:{style:"toaster"},position:{x:7,y:0,z:0},type:"deadly-block"},"door@8,3,0:Z1UQLCR":{config:{axis:"y",toRoom:"moonbase7"},position:{x:8,y:3,z:0},type:"door"},"teleporter@0,6,0:Z1GpKOp":{config:{toRoom:"blacktooth60"},position:{x:0,y:6,z:0},type:"teleporter"},"teleporter@0,7,0:Z1GpKOp":{config:{toRoom:"blacktooth60"},position:{x:0,y:7,z:0},type:"teleporter"},"teleporter@1,6,0:Z1GpKOp":{config:{toRoom:"blacktooth60"},position:{x:1,y:6,z:0},type:"teleporter"},"teleporter@1,7,0:Z1GpKOp":{config:{toRoom:"blacktooth60"},position:{x:1,y:7,z:0},type:"teleporter"},"teleporter@6,6,0:Z1GpKOp":{config:{toRoom:"blacktooth60"},position:{x:6,y:6,z:0},type:"teleporter"},"teleporter@6,7,0:Z1GpKOp":{config:{toRoom:"blacktooth60"},position:{x:6,y:7,z:0},type:"teleporter"},"teleporter@7,6,0:Z1GpKOp":{config:{toRoom:"blacktooth60"},position:{x:7,y:6,z:0},type:"teleporter"},"teleporter@7,7,0:Z1GpKOp":{config:{toRoom:"blacktooth60"},position:{x:7,y:7,z:0},type:"teleporter"}},planet:"moonbase",size:{x:8,y:8},walls:{away:["window2","window1","coil","window3","window2","coil","window2","window1"],left:["window2","coil","window3","none","none","window3","coil","window1"]}},moonbase9:{color:"white",floor:"moonbase",floorSkip:[],id:"moonbase9",items:{"door@6,2,0:17xLUn":{config:{axis:"y",toRoom:"moonbase10"},position:{x:6,y:2,z:0},type:"door"},"teleporter@2,2,0:Z1GpR1v":{config:{toRoom:"blacktooth57"},position:{x:2,y:2,z:0},type:"teleporter"},"teleporter@2,3,0:Z1GpR1v":{config:{toRoom:"blacktooth57"},position:{x:2,y:3,z:0},type:"teleporter"},"teleporter@3,2,0:Z1GpR1v":{config:{toRoom:"blacktooth57"},position:{x:3,y:2,z:0},type:"teleporter"},"teleporter@3,3,0:Z1GpR1v":{config:{toRoom:"blacktooth57"},position:{x:3,y:3,z:0},type:"teleporter"}},planet:"moonbase",size:{x:6,y:6},walls:{away:["window1","coil","window3","window2","coil","window1"],left:["window3","window2","none","none","window2","window1"]}},penitentiary1:{color:"white",floor:"penitentiary",floorSkip:[],id:"penitentiary1",items:{"door@2,8,0:21ovxu":{config:{axis:"x",toRoom:"penitentiary2"},position:{x:2,y:8,z:0},type:"door"},"teleporter@2,3,0:12JxNl":{config:{toRoom:"moonbase22topenitentiary"},position:{x:2,y:3,z:0},type:"teleporter"},"teleporter@2,4,0:12JxNl":{config:{toRoom:"moonbase22topenitentiary"},position:{x:2,y:4,z:0},type:"teleporter"},"teleporter@3,3,0:12JxNl":{config:{toRoom:"moonbase22topenitentiary"},position:{x:3,y:3,z:0},type:"teleporter"},"teleporter@3,4,0:12JxNl":{config:{toRoom:"moonbase22topenitentiary"},position:{x:3,y:4,z:0},type:"teleporter"}},planet:"penitentiary",size:{x:6,y:8},walls:{away:["loop","loop","none","none","loop","loop"],left:["loop","loop","skeleton","loop","loop","skeleton","loop","loop"]}},penitentiary10:{color:"white",floor:"none",floorSkip:[],id:"penitentiary10",items:{"block@0,4,0:Z1bIU4r":{config:{style:"artificial"},position:{x:0,y:4,z:0},type:"block"},"block@0,7,0:Z1bIU4r":{config:{style:"artificial"},position:{x:0,y:7,z:0},type:"block"},"block@1,7,0:Z1bIU4r":{config:{style:"artificial"},position:{x:1,y:7,z:0},type:"block"},"door@0,8,2:1G4dkL":{config:{axis:"x",toRoom:"penitentiary11"},position:{x:0,y:8,z:2},type:"door"}},planet:"penitentiary",roomBelow:"penitentiary9",size:{x:2,y:8},walls:{away:["none","none"],left:["loop","loop","skeleton","loop","loop","skeleton","loop","loop"]}},penitentiary11:{color:"white",floor:"penitentiary",floorSkip:[],id:"penitentiary11",items:{"block@5,5,0:Z1bIU4r":{config:{style:"artificial"},position:{x:5,y:5,z:0},type:"block"},"block@5,5,1:Z1bIU4r":{config:{style:"artificial"},position:{x:5,y:5,z:1},type:"block"},"block@5,5,2:Z1bIU4r":{config:{style:"artificial"},position:{x:5,y:5,z:2},type:"block"},"door@0,2,0:2v7Mbq":{config:{axis:"y",toRoom:"penitentiary12"},position:{x:0,y:2,z:0},type:"door"},"door@2,0,0:1G4d51":{config:{axis:"x",toRoom:"penitentiary10"},position:{x:2,y:0,z:0},type:"door"},"fish@5,5,3:2eEoj9":{config:{alive:!1},position:{x:5,y:5,z:3},type:"fish"}},planet:"penitentiary",size:{x:6,y:6},walls:{away:["loop","skeleton","loop","loop","skeleton","loop"],left:["loop","skeleton","loop","loop","skeleton","loop"]}},penitentiary12:{color:"white",floor:"penitentiary",floorSkip:[],id:"penitentiary12",items:{"block@0,2,3:ZlEwyj":{config:{style:"organic"},position:{x:0,y:2,z:3},type:"block"},"block@0,3,3:ZlEwyj":{config:{style:"organic"},position:{x:0,y:3,z:3},type:"block"},"block@0,4,3:ZlEwyj":{config:{style:"organic"},position:{x:0,y:4,z:3},type:"block"},"block@7,0,0:Z1bIU4r":{config:{style:"artificial"},position:{x:7,y:0,z:0},type:"block"},"block@7,0,1:Z1bIU4r":{config:{style:"artificial"},position:{x:7,y:0,z:1},type:"block"},"block@7,0,2:Z1bIU4r":{config:{style:"artificial"},position:{x:7,y:0,z:2},type:"block"},"door@0,3,4:Z1MtPuK":{config:{axis:"y",toRoom:"penitentiary18fish"},position:{x:0,y:3,z:4},type:"door"},"door@3,8,0:1G4foN":{config:{axis:"x",toRoom:"penitentiary19"},position:{x:3,y:8,z:0},type:"door"},"door@8,3,0:2v7LUF":{config:{axis:"y",toRoom:"penitentiary11"},position:{x:8,y:3,z:0},type:"door"},"hush-puppy@0,0,0:13y":{config:{},position:{x:0,y:0,z:0},type:"hush-puppy"},"hush-puppy@0,1,3:13y":{config:{},position:{x:0,y:1,z:3},type:"hush-puppy"},"hush-puppy@1,0,1:13y":{config:{},position:{x:1,y:0,z:1},type:"hush-puppy"},"hush-puppy@1,1,2:13y":{config:{},position:{x:1,y:1,z:2},type:"hush-puppy"},"pickup@7,0,3:Z2prF0G":{config:{gives:"donuts"},position:{x:7,y:0,z:3},type:"pickup"}},planet:"penitentiary",size:{x:8,y:8},walls:{away:["loop","skeleton","loop","none","none","loop","skeleton","loop"],left:["loop","skeleton","loop","none","none","loop","skeleton","loop"]}},penitentiary13:{color:"white",floor:"penitentiary",floorSkip:[],id:"penitentiary13",items:{"block@0,3,5:Z1bIU4r":{config:{style:"artificial"},position:{x:0,y:3,z:5},type:"block"},"block@1,0,1:Z1bIU4r":{config:{style:"artificial"},position:{x:1,y:0,z:1},type:"block"},"block@1,3,4:Z1bIU4r":{config:{style:"artificial"},position:{x:1,y:3,z:4},type:"block"},"block@2,0,1:Z1bIU4r":{config:{style:"artificial"},position:{x:2,y:0,z:1},type:"block"},"block@2,3,6:Z1bIU4r":{config:{style:"artificial"},position:{x:2,y:3,z:6},type:"block"},"block@3,3,3:Z1bIU4r":{config:{style:"artificial"},position:{x:3,y:3,z:3},type:"block"},"block@4,3,2:Z1bIU4r":{config:{style:"artificial"},position:{x:4,y:3,z:2},type:"block"},"block@5,3,1:Z1bIU4r":{config:{style:"artificial"},position:{x:5,y:3,z:1},type:"block"},"block@7,3,0:Z1bIU4r":{config:{style:"artificial"},position:{x:7,y:3,z:0},type:"block"},"deadly-block@1,0,0:2u1uHB":{config:{style:"toaster"},position:{x:1,y:0,z:0},type:"deadly-block"},"deadly-block@2,0,0:2u1uHB":{config:{style:"toaster"},position:{x:2,y:0,z:0},type:"deadly-block"},"deadly-block@4,3,0:2u1uHB":{config:{style:"toaster"},position:{x:4,y:3,z:0},type:"deadly-block"},"door@3,0,0:21ovxu":{config:{axis:"x",toRoom:"penitentiary2"},position:{x:3,y:0,z:0},type:"door"},"spring@2,3,7:13y":{config:{},position:{x:2,y:3,z:7},type:"spring"}},planet:"penitentiary",roomAbove:"penitentiary14",size:{x:8,y:4},walls:{away:["loop","loop","skeleton","loop","loop","skeleton","loop","loop"],left:["loop","loop","loop","loop"]}},penitentiary14:{color:"white",floor:"none",floorSkip:[],id:"penitentiary14",items:{"block@0,0,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:0,z:0},type:"block"},"block@0,5,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:5,z:0},type:"block"},"block@1,0,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:0,z:0},type:"block"},"block@1,5,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:5,z:0},type:"block"},"block@2,0,0:ZlEwyj":{config:{style:"organic"},position:{x:2,y:0,z:0},type:"block"},"block@2,4,0:ZlEwyj":{config:{style:"organic"},position:{x:2,y:4,z:0},type:"block"},"block@2,5,0:ZlEwyj":{config:{style:"organic"},position:{x:2,y:5,z:0},type:"block"},"block@3,0,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:0,z:0},type:"block"},"block@3,5,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:5,z:0},type:"block"},"block@4,0,0:ZlEwyj":{config:{style:"organic"},position:{x:4,y:0,z:0},type:"block"},"block@4,5,0:ZlEwyj":{config:{style:"organic"},position:{x:4,y:5,z:0},type:"block"},"block@5,0,0:ZlEwyj":{config:{style:"organic"},position:{x:5,y:0,z:0},type:"block"},"block@5,5,0:ZlEwyj":{config:{style:"organic"},position:{x:5,y:5,z:0},type:"block"},"block@6,0,0:ZlEwyj":{config:{style:"organic"},position:{x:6,y:0,z:0},type:"block"},"block@6,5,0:ZlEwyj":{config:{style:"organic"},position:{x:6,y:5,z:0},type:"block"},"block@7,0,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:0,z:0},type:"block"},"block@7,5,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:5,z:0},type:"block"},"lift@0,1,0:ZTwqnv":{config:{bottom:0,top:9},position:{x:0,y:1,z:0},type:"lift"},"portable-block@6,5,1:Z14c3Fl":{config:{style:"sticks"},position:{x:6,y:5,z:1},type:"portable-block"},"portable-block@7,5,1:Z14c3Fl":{config:{style:"sticks"},position:{x:7,y:5,z:1},type:"portable-block"}},planet:"penitentiary",roomAbove:"penitentiary15",roomBelow:"penitentiary13",size:{x:8,y:6},walls:{away:["loop","loop","skeleton","loop","loop","skeleton","loop","loop"],left:["loop","skeleton","loop","loop","skeleton","loop"]}},penitentiary15:{color:"white",floor:"none",floorSkip:[],id:"penitentiary15",items:{"baddie@7,7,1:1VXxpH":{config:{startDirection:"right",which:"turtle"},position:{x:7,y:7,z:1},type:"baddie"},"block@0,0,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:0,z:0},type:"block"},"block@0,1,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:1,z:0},type:"block"},"block@0,2,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:2,z:0},type:"block"},"block@0,3,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:3,z:0},type:"block"},"block@0,4,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:4,z:0},type:"block"},"block@0,5,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:5,z:0},type:"block"},"block@0,6,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:6,z:0},type:"block"},"block@0,7,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:7,z:0},type:"block"},"block@1,0,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:0,z:0},type:"block"},"block@1,1,1:ZlEwyj":{config:{style:"organic"},position:{x:1,y:1,z:1},type:"block"},"block@1,2,1:ZlEwyj":{config:{style:"organic"},position:{x:1,y:2,z:1},type:"block"},"block@1,7,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:7,z:0},type:"block"},"block@2,0,0:ZlEwyj":{config:{style:"organic"},position:{x:2,y:0,z:0},type:"block"},"block@2,7,0:ZlEwyj":{config:{style:"organic"},position:{x:2,y:7,z:0},type:"block"},"block@3,0,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:0,z:0},type:"block"},"block@3,7,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:7,z:0},type:"block"},"block@4,0,0:ZlEwyj":{config:{style:"organic"},position:{x:4,y:0,z:0},type:"block"},"block@4,7,0:ZlEwyj":{config:{style:"organic"},position:{x:4,y:7,z:0},type:"block"},"block@5,0,0:ZlEwyj":{config:{style:"organic"},position:{x:5,y:0,z:0},type:"block"},"block@5,7,0:ZlEwyj":{config:{style:"organic"},position:{x:5,y:7,z:0},type:"block"},"block@6,0,0:ZlEwyj":{config:{style:"organic"},position:{x:6,y:0,z:0},type:"block"},"block@6,7,0:ZlEwyj":{config:{style:"organic"},position:{x:6,y:7,z:0},type:"block"},"block@7,0,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:0,z:0},type:"block"},"block@7,0,7:ZlEwyj":{config:{style:"organic"},position:{x:7,y:0,z:7},type:"block"},"block@7,1,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:1,z:0},type:"block"},"block@7,1,6:ZlEwyj":{config:{style:"organic"},position:{x:7,y:1,z:6},type:"block"},"block@7,2,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:2,z:0},type:"block"},"block@7,2,5:ZlEwyj":{config:{style:"organic"},position:{x:7,y:2,z:5},type:"block"},"block@7,3,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:3,z:0},type:"block"},"block@7,3,5:ZlEwyj":{config:{style:"organic"},position:{x:7,y:3,z:5},type:"block"},"block@7,4,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:4,z:0},type:"block"},"block@7,4,4:ZlEwyj":{config:{style:"organic"},position:{x:7,y:4,z:4},type:"block"},"block@7,5,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:5,z:0},type:"block"},"block@7,5,4:ZlEwyj":{config:{style:"organic"},position:{x:7,y:5,z:4},type:"block"},"block@7,6,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:6,z:0},type:"block"},"block@7,6,4:ZlEwyj":{config:{style:"organic"},position:{x:7,y:6,z:4},type:"block"},"block@7,7,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:7,z:0},type:"block"},"block@7,7,3:ZlEwyj":{config:{style:"organic"},position:{x:7,y:7,z:3},type:"block"},"portable-block@1,1,2:Z1UEQTQ":{config:{style:"cube"},position:{x:1,y:1,z:2},type:"portable-block"},"portable-block@1,1,3:Z1UEQTQ":{config:{style:"cube"},position:{x:1,y:1,z:3},type:"portable-block"}},planet:"penitentiary",roomAbove:"penitentiary16",roomBelow:"penitentiary14",size:{x:8,y:8},walls:{away:["loop","loop","skeleton","loop","loop","skeleton","loop","loop"],left:["loop","loop","skeleton","loop","loop","skeleton","loop","loop"]}},penitentiary16:{color:"white",floor:"none",floorSkip:[],id:"penitentiary16",items:{"block@7,0,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:0,z:0},type:"block"},"block@7,1,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:1,z:0},type:"block"},"block@7,2,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:2,z:0},type:"block"},"block@7,3,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:3,z:0},type:"block"},"block@7,4,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:4,z:0},type:"block"},"block@7,5,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:5,z:0},type:"block"},"block@7,6,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:6,z:0},type:"block"},"block@7,7,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:7,z:0},type:"block"},"lift@3,0,0:ZTwqnv":{config:{bottom:0,top:9},position:{x:3,y:0,z:0},type:"lift"},"portable-block@7,5,1:Z1UEQTQ":{config:{style:"cube"},position:{x:7,y:5,z:1},type:"portable-block"},"portable-block@7,6,1:Z1UEQTQ":{config:{style:"cube"},position:{x:7,y:6,z:1},type:"portable-block"},"portable-block@7,7,1:Z1UEQTQ":{config:{style:"cube"},position:{x:7,y:7,z:1},type:"portable-block"}},planet:"penitentiary",roomAbove:"penitentiary17",roomBelow:"penitentiary15",size:{x:8,y:8},walls:{away:["loop","loop","skeleton","loop","loop","skeleton","loop","loop"],left:["loop","loop","skeleton","loop","loop","skeleton","loop","loop"]}},penitentiary17:{color:"white",floor:"none",floorSkip:[],id:"penitentiary17",items:{"block@3,0,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:0,z:0},type:"block"},"block@3,1,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:1,z:0},type:"block"},"block@3,2,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:2,z:0},type:"block"},"block@3,3,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:3,z:0},type:"block"},"block@3,4,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:4,z:0},type:"block"},"block@3,5,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:5,z:0},type:"block"},"block@3,6,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:6,z:0},type:"block"},"block@3,7,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:7,z:0},type:"block"},"block@4,0,0:ZlEwyj":{config:{style:"organic"},position:{x:4,y:0,z:0},type:"block"},"block@4,1,0:ZlEwyj":{config:{style:"organic"},position:{x:4,y:1,z:0},type:"block"},"block@4,2,0:ZlEwyj":{config:{style:"organic"},position:{x:4,y:2,z:0},type:"block"},"block@4,3,0:ZlEwyj":{config:{style:"organic"},position:{x:4,y:3,z:0},type:"block"},"block@4,4,0:ZlEwyj":{config:{style:"organic"},position:{x:4,y:4,z:0},type:"block"},"block@4,5,0:ZlEwyj":{config:{style:"organic"},position:{x:4,y:5,z:0},type:"block"},"block@4,6,0:ZlEwyj":{config:{style:"organic"},position:{x:4,y:6,z:0},type:"block"},"block@4,7,0:ZlEwyj":{config:{style:"organic"},position:{x:4,y:7,z:0},type:"block"},"door@3,8,2:MdFEE":{config:{axis:"x",toRoom:"penitentiary18fish"},position:{x:3,y:8,z:2},type:"door"}},planet:"penitentiary",roomBelow:"penitentiary16",size:{x:8,y:8},walls:{away:["loop","skeleton","loop","none","none","loop","skeleton","loop"],left:["loop","loop","skeleton","loop","loop","skeleton","loop","loop"]}},penitentiary18fish:{color:"white",floor:"penitentiary",floorSkip:[],id:"penitentiary18fish",items:{"block@0,4,3:ZlEwyj":{config:{style:"organic"},position:{x:0,y:4,z:3},type:"block"},"block@1,4,3:ZlEwyj":{config:{style:"organic"},position:{x:1,y:4,z:3},type:"block"},"block@10,4,3:ZlEwyj":{config:{style:"organic"},position:{x:10,y:4,z:3},type:"block"},"block@11,4,3:ZlEwyj":{config:{style:"organic"},position:{x:11,y:4,z:3},type:"block"},"block@12,4,3:ZlEwyj":{config:{style:"organic"},position:{x:12,y:4,z:3},type:"block"},"block@13,4,3:ZlEwyj":{config:{style:"organic"},position:{x:13,y:4,z:3},type:"block"},"block@14,4,3:ZlEwyj":{config:{style:"organic"},position:{x:14,y:4,z:3},type:"block"},"block@15,4,3:ZlEwyj":{config:{style:"organic"},position:{x:15,y:4,z:3},type:"block"},"block@2,4,3:ZlEwyj":{config:{style:"organic"},position:{x:2,y:4,z:3},type:"block"},"block@3,4,3:ZlEwyj":{config:{style:"organic"},position:{x:3,y:4,z:3},type:"block"},"block@4,4,3:ZlEwyj":{config:{style:"organic"},position:{x:4,y:4,z:3},type:"block"},"block@5,4,3:ZlEwyj":{config:{style:"organic"},position:{x:5,y:4,z:3},type:"block"},"block@6,4,3:ZlEwyj":{config:{style:"organic"},position:{x:6,y:4,z:3},type:"block"},"block@7,4,3:ZlEwyj":{config:{style:"organic"},position:{x:7,y:4,z:3},type:"block"},"block@8,4,3:ZlEwyj":{config:{style:"organic"},position:{x:8,y:4,z:3},type:"block"},"block@9,4,3:ZlEwyj":{config:{style:"organic"},position:{x:9,y:4,z:3},type:"block"},"door@16,2,2:2v7Mbq":{config:{axis:"y",toRoom:"penitentiary12"},position:{x:16,y:2,z:2},type:"door"},"door@3,0,0:1G4eSi":{config:{axis:"x",toRoom:"penitentiary17"},position:{x:3,y:0,z:0},type:"door"},"fish@12,4,4:ZyDpHa":{config:{alive:!0},position:{x:12,y:4,z:4},type:"fish"},"portable-block@11,1,0:Z14c3Fl":{config:{style:"sticks"},position:{x:11,y:1,z:0},type:"portable-block"},"teleporter@0,4,4:Z2oeKm1":{config:{toRoom:"penitentiary30"},position:{x:0,y:4,z:4},type:"teleporter"},"teleporter@15,4,4:2czX9h":{config:{toRoom:"penitentiary34crown"},position:{x:15,y:4,z:4},type:"teleporter"}},planet:"penitentiary",size:{x:16,y:6},walls:{away:["loop","loop","skeleton","loop","loop","skeleton","loop","loop","loop","loop","skeleton","loop","loop","skeleton","loop","loop"],left:["loop","loop","none","none","loop","loop"]}},penitentiary19:{color:"white",floor:"penitentiary",floorSkip:[],id:"penitentiary19",items:{"baddie@1,3,0:Z1w4InY":{config:{which:"dalek"},position:{x:1,y:3,z:0},type:"baddie"},"baddie@2,4,0:Z1w4InY":{config:{which:"dalek"},position:{x:2,y:4,z:0},type:"baddie"},"door@1,0,0:1G4dAw":{config:{axis:"x",toRoom:"penitentiary12"},position:{x:1,y:0,z:0},type:"door"},"door@1,8,3:1G4ll9":{config:{axis:"x",toRoom:"penitentiary21"},position:{x:1,y:8,z:3},type:"door"},"portable-block@2,3,0:Z1SKpmn":{config:{style:"drum"},position:{x:2,y:3,z:0},type:"portable-block"}},planet:"penitentiary",size:{x:4,y:8},walls:{away:["loop","none","none","loop"],left:["loop","loop","skeleton","loop","loop","skeleton","loop","loop"]}},penitentiary2:{color:"white",floor:"penitentiary",floorSkip:[],id:"penitentiary2",items:{"baddie@6,3,2:Z1w4InY":{config:{which:"dalek"},position:{x:6,y:3,z:2},type:"baddie"},"block@0,3,0:Z1bIU4r":{config:{style:"artificial"},position:{x:0,y:3,z:0},type:"block"},"block@0,4,0:Z1bIU4r":{config:{style:"artificial"},position:{x:0,y:4,z:0},type:"block"},"block@1,3,0:Z1bIU4r":{config:{style:"artificial"},position:{x:1,y:3,z:0},type:"block"},"block@1,4,0:Z1bIU4r":{config:{style:"artificial"},position:{x:1,y:4,z:0},type:"block"},"block@4,7,3:Z1bIU4r":{config:{style:"artificial"},position:{x:4,y:7,z:3},type:"block"},"block@6,3,0:Z1bIU4r":{config:{style:"artificial"},position:{x:6,y:3,z:0},type:"block"},"block@6,3,1:Z1bIU4r":{config:{style:"artificial"},position:{x:6,y:3,z:1},type:"block"},"block@6,3,3:Z1bIU4r":{config:{style:"artificial"},position:{x:6,y:3,z:3},type:"block"},"block@7,3,3:Z1bIU4r":{config:{style:"artificial"},position:{x:7,y:3,z:3},type:"block"},"block@7,4,3:Z1bIU4r":{config:{style:"artificial"},position:{x:7,y:4,z:3},type:"block"},"door@3,0,0:21ovhJ":{config:{axis:"x",toRoom:"penitentiary1"},position:{x:3,y:0,z:0},type:"door"},"door@3,8,5:1G4dQh":{config:{axis:"x",toRoom:"penitentiary13"},position:{x:3,y:8,z:5},type:"door"},"door@8,3,5:1I0eDj":{config:{axis:"y",toRoom:"penitentiary3"},position:{x:8,y:3,z:5},type:"door"},"hush-puppy@1,7,0:13y":{config:{},position:{x:1,y:7,z:0},type:"hush-puppy"},"hush-puppy@2,7,1:13y":{config:{},position:{x:2,y:7,z:1},type:"hush-puppy"},"hush-puppy@3,7,2:13y":{config:{},position:{x:3,y:7,z:2},type:"hush-puppy"}},planet:"penitentiary",size:{x:8,y:8},walls:{away:["loop","skeleton","loop","none","none","loop","skeleton","loop"],left:["loop","skeleton","loop","none","none","loop","skeleton","loop"]}},penitentiary20:{color:"white",floor:"penitentiary",floorSkip:[],id:"penitentiary20",items:{"baddie@2,3,1:Z1w4InY":{config:{which:"dalek"},position:{x:2,y:3,z:1},type:"baddie"},"portable-block@1,1,0:Z1UEQTQ":{config:{style:"cube"},position:{x:1,y:1,z:0},type:"portable-block"},"portable-block@1,4,0:Z1UEQTQ":{config:{style:"cube"},position:{x:1,y:4,z:0},type:"portable-block"},"portable-block@2,2,0:Z1UEQTQ":{config:{style:"cube"},position:{x:2,y:2,z:0},type:"portable-block"},"portable-block@2,3,0:Z1UEQTQ":{config:{style:"cube"},position:{x:2,y:3,z:0},type:"portable-block"},"portable-block@3,2,0:Z1UEQTQ":{config:{style:"cube"},position:{x:3,y:2,z:0},type:"portable-block"},"portable-block@3,3,0:Z1UEQTQ":{config:{style:"cube"},position:{x:3,y:3,z:0},type:"portable-block"},"portable-block@4,1,0:Z1UEQTQ":{config:{style:"cube"},position:{x:4,y:1,z:0},type:"portable-block"},"spring@3,2,1:13y":{config:{},position:{x:3,y:2,z:1},type:"spring"}},planet:"penitentiary",roomAbove:"penitentiary21",size:{x:6,y:6},walls:{away:["loop","skeleton","loop","loop","skeleton","loop"],left:["loop","skeleton","loop","loop","skeleton","loop"]}},penitentiary21:{color:"white",floor:"none",floorSkip:[],id:"penitentiary21",items:{"baddie@6,7,1:1VXxpH":{config:{startDirection:"right",which:"turtle"},position:{x:6,y:7,z:1},type:"baddie"},"block@0,0,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:0,z:0},type:"block"},"block@0,1,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:1,z:0},type:"block"},"block@0,2,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:2,z:0},type:"block"},"block@0,3,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:3,z:0},type:"block"},"block@0,4,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:4,z:0},type:"block"},"block@0,5,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:5,z:0},type:"block"},"block@0,6,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:6,z:0},type:"block"},"block@0,7,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:7,z:0},type:"block"},"block@0,7,6:ZlEwyj":{config:{style:"organic"},position:{x:0,y:7,z:6},type:"block"},"block@1,0,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:0,z:0},type:"block"},"block@1,1,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:1,z:0},type:"block"},"block@1,7,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:7,z:0},type:"block"},"block@1,7,4:ZlEwyj":{config:{style:"organic"},position:{x:1,y:7,z:4},type:"block"},"block@2,0,0:ZlEwyj":{config:{style:"organic"},position:{x:2,y:0,z:0},type:"block"},"block@2,7,0:ZlEwyj":{config:{style:"organic"},position:{x:2,y:7,z:0},type:"block"},"block@2,7,4:ZlEwyj":{config:{style:"organic"},position:{x:2,y:7,z:4},type:"block"},"block@3,0,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:0,z:0},type:"block"},"block@3,7,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:7,z:0},type:"block"},"block@3,7,2:ZlEwyj":{config:{style:"organic"},position:{x:3,y:7,z:2},type:"block"},"block@3,7,3:ZlEwyj":{config:{style:"organic"},position:{x:3,y:7,z:3},type:"block"},"block@3,7,4:ZlEwyj":{config:{style:"organic"},position:{x:3,y:7,z:4},type:"block"},"block@4,0,0:ZlEwyj":{config:{style:"organic"},position:{x:4,y:0,z:0},type:"block"},"block@4,7,0:ZlEwyj":{config:{style:"organic"},position:{x:4,y:7,z:0},type:"block"},"block@5,0,0:ZlEwyj":{config:{style:"organic"},position:{x:5,y:0,z:0},type:"block"},"block@5,7,0:ZlEwyj":{config:{style:"organic"},position:{x:5,y:7,z:0},type:"block"},"block@6,0,0:ZlEwyj":{config:{style:"organic"},position:{x:6,y:0,z:0},type:"block"},"block@6,7,0:ZlEwyj":{config:{style:"organic"},position:{x:6,y:7,z:0},type:"block"},"block@7,0,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:0,z:0},type:"block"},"block@7,1,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:1,z:0},type:"block"},"block@7,1,3:ZlEwyj":{config:{style:"organic"},position:{x:7,y:1,z:3},type:"block"},"block@7,2,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:2,z:0},type:"block"},"block@7,2,2:ZlEwyj":{config:{style:"organic"},position:{x:7,y:2,z:2},type:"block"},"block@7,3,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:3,z:0},type:"block"},"block@7,3,2:ZlEwyj":{config:{style:"organic"},position:{x:7,y:3,z:2},type:"block"},"block@7,4,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:4,z:0},type:"block"},"block@7,5,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:5,z:0},type:"block"},"block@7,6,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:6,z:0},type:"block"},"block@7,7,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:7,z:0},type:"block"},"door@3,0,1:1G4foN":{config:{axis:"x",toRoom:"penitentiary19"},position:{x:3,y:0,z:1},type:"door"},"portable-block@7,7,1:Z1SKpmn":{config:{style:"drum"},position:{x:7,y:7,z:1},type:"portable-block"}},planet:"penitentiary",roomAbove:"penitentiary22",roomBelow:"penitentiary20",size:{x:8,y:8},walls:{away:["loop","loop","skeleton","loop","loop","skeleton","loop","loop"],left:["loop","loop","skeleton","loop","loop","skeleton","loop","loop"]}},penitentiary22:{color:"white",floor:"none",floorSkip:[],id:"penitentiary22",items:{"block@0,0,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:0,z:0},type:"block"},"block@0,1,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:1,z:0},type:"block"},"block@0,2,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:2,z:0},type:"block"},"block@0,3,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:3,z:0},type:"block"},"block@0,4,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:4,z:0},type:"block"},"block@0,4,7:Z1bIU4r":{config:{style:"artificial"},position:{x:0,y:4,z:7},type:"block"},"block@0,5,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:5,z:0},type:"block"},"block@0,6,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:6,z:0},type:"block"},"block@0,7,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:7,z:0},type:"block"},"block@1,0,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:0,z:0},type:"block"},"block@1,4,6:ZlEwyj":{config:{style:"organic"},position:{x:1,y:4,z:6},type:"block"},"block@1,7,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:7,z:0},type:"block"},"block@2,0,0:ZlEwyj":{config:{style:"organic"},position:{x:2,y:0,z:0},type:"block"},"block@2,4,5:ZlEwyj":{config:{style:"organic"},position:{x:2,y:4,z:5},type:"block"},"block@2,7,0:ZlEwyj":{config:{style:"organic"},position:{x:2,y:7,z:0},type:"block"},"block@3,0,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:0,z:0},type:"block"},"block@3,4,4:Z1bIU4r":{config:{style:"artificial"},position:{x:3,y:4,z:4},type:"block"},"block@3,7,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:7,z:0},type:"block"},"block@4,0,0:ZlEwyj":{config:{style:"organic"},position:{x:4,y:0,z:0},type:"block"},"block@4,1,1:ZlEwyj":{config:{style:"organic"},position:{x:4,y:1,z:1},type:"block"},"block@4,2,2:ZlEwyj":{config:{style:"organic"},position:{x:4,y:2,z:2},type:"block"},"block@4,3,3:ZlEwyj":{config:{style:"organic"},position:{x:4,y:3,z:3},type:"block"},"block@4,4,4:Z1bIU4r":{config:{style:"artificial"},position:{x:4,y:4,z:4},type:"block"},"block@4,7,0:ZlEwyj":{config:{style:"organic"},position:{x:4,y:7,z:0},type:"block"},"block@5,0,0:ZlEwyj":{config:{style:"organic"},position:{x:5,y:0,z:0},type:"block"},"block@5,7,0:ZlEwyj":{config:{style:"organic"},position:{x:5,y:7,z:0},type:"block"},"block@6,0,0:ZlEwyj":{config:{style:"organic"},position:{x:6,y:0,z:0},type:"block"},"block@6,7,0:ZlEwyj":{config:{style:"organic"},position:{x:6,y:7,z:0},type:"block"},"block@7,0,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:0,z:0},type:"block"},"block@7,1,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:1,z:0},type:"block"},"block@7,2,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:2,z:0},type:"block"},"block@7,3,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:3,z:0},type:"block"},"block@7,4,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:4,z:0},type:"block"},"block@7,5,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:5,z:0},type:"block"},"block@7,6,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:6,z:0},type:"block"},"block@7,7,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:7,z:0},type:"block"},"pickup@4,4,5:1MkQY2":{config:{gives:"extra-life"},position:{x:4,y:4,z:5},type:"pickup"}},planet:"penitentiary",roomAbove:"penitentiary23",roomBelow:"penitentiary21",size:{x:8,y:8},walls:{away:["loop","loop","skeleton","loop","loop","skeleton","loop","loop"],left:["loop","loop","skeleton","loop","loop","skeleton","loop","loop"]}},penitentiary23:{color:"white",floor:"none",floorSkip:[],id:"penitentiary23",items:{"block@0,0,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:0,z:0},type:"block"},"block@0,1,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:1,z:0},type:"block"},"block@0,2,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:2,z:0},type:"block"},"block@0,3,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:3,z:0},type:"block"},"block@0,4,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:4,z:0},type:"block"},"block@0,5,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:5,z:0},type:"block"},"block@0,6,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:6,z:0},type:"block"},"block@0,7,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:7,z:0},type:"block"},"block@1,0,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:0,z:0},type:"block"},"block@1,7,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:7,z:0},type:"block"},"block@2,0,0:ZlEwyj":{config:{style:"organic"},position:{x:2,y:0,z:0},type:"block"},"block@2,7,0:ZlEwyj":{config:{style:"organic"},position:{x:2,y:7,z:0},type:"block"},"block@3,0,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:0,z:0},type:"block"},"block@3,7,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:7,z:0},type:"block"},"block@4,0,0:ZlEwyj":{config:{style:"organic"},position:{x:4,y:0,z:0},type:"block"},"block@4,4,0:ZlEwyj":{config:{style:"organic"},position:{x:4,y:4,z:0},type:"block"},"block@4,5,0:ZlEwyj":{config:{style:"organic"},position:{x:4,y:5,z:0},type:"block"},"block@4,6,0:ZlEwyj":{config:{style:"organic"},position:{x:4,y:6,z:0},type:"block"},"block@4,7,0:ZlEwyj":{config:{style:"organic"},position:{x:4,y:7,z:0},type:"block"},"block@5,0,0:ZlEwyj":{config:{style:"organic"},position:{x:5,y:0,z:0},type:"block"},"block@5,7,0:ZlEwyj":{config:{style:"organic"},position:{x:5,y:7,z:0},type:"block"},"block@6,0,0:ZlEwyj":{config:{style:"organic"},position:{x:6,y:0,z:0},type:"block"},"block@6,7,0:ZlEwyj":{config:{style:"organic"},position:{x:6,y:7,z:0},type:"block"},"block@7,0,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:0,z:0},type:"block"},"block@7,1,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:1,z:0},type:"block"},"block@7,2,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:2,z:0},type:"block"},"block@7,3,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:3,z:0},type:"block"},"block@7,4,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:4,z:0},type:"block"},"block@7,5,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:5,z:0},type:"block"},"block@7,6,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:6,z:0},type:"block"},"block@7,7,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:7,z:0},type:"block"},"lift@4,3,0:ZTwqnv":{config:{bottom:0,top:9},position:{x:4,y:3,z:0},type:"lift"}},planet:"penitentiary",roomAbove:"penitentiary24",roomBelow:"penitentiary22",size:{x:8,y:8},walls:{away:["loop","loop","skeleton","loop","loop","skeleton","loop","loop"],left:["loop","loop","skeleton","loop","loop","skeleton","loop","loop"]}},penitentiary24:{color:"white",floor:"none",floorSkip:[],id:"penitentiary24",items:{"door@3,8,1:1G4mna":{config:{axis:"x",toRoom:"penitentiary25"},position:{x:3,y:8,z:1},type:"door"},"lift@4,3,0:ZTwqp2":{config:{bottom:0,top:6},position:{x:4,y:3,z:0},type:"lift"}},planet:"penitentiary",roomBelow:"penitentiary23",size:{x:8,y:8},walls:{away:["loop","skeleton","loop","none","none","loop","skeleton","loop"],left:["loop","loop","skeleton","loop","loop","skeleton","loop","loop"]}},penitentiary25:{color:"white",floor:"penitentiary",floorSkip:[],id:"penitentiary25",items:{"door@0,0,0:1G4m7p":{config:{axis:"x",toRoom:"penitentiary24"},position:{x:0,y:0,z:0},type:"door"},"door@0,8,0:1G4mCU":{config:{axis:"x",toRoom:"penitentiary26"},position:{x:0,y:8,z:0},type:"door"}},planet:"penitentiary",size:{x:2,y:8},walls:{away:["none","none"],left:["loop","loop","skeleton","loop","loop","skeleton","loop","loop"]}},penitentiary26:{color:"white",floor:"deadly",floorSkip:[],id:"penitentiary26",items:{"block@0,4,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:4,z:0},type:"block"},"block@4,0,0:ZlEwyj":{config:{style:"organic"},position:{x:4,y:0,z:0},type:"block"},"deadly-block@0,7,1:ZWGEjo":{config:{style:"volcano"},position:{x:0,y:7,z:1},type:"deadly-block"},"deadly-block@7,3,0:ZWGEjo":{config:{style:"volcano"},position:{x:7,y:3,z:0},type:"deadly-block"},"deadly-block@7,3,1:ZWGEjo":{config:{style:"volcano"},position:{x:7,y:3,z:1},type:"deadly-block"},"door@0,3,1:2v7Vtz":{config:{axis:"y",toRoom:"penitentiary27"},position:{x:0,y:3,z:1},type:"door"},"door@3,0,1:1G4mna":{config:{axis:"x",toRoom:"penitentiary25"},position:{x:3,y:0,z:1},type:"door"},"movable-block@4,1,0:1EfFpg":{config:{style:"sandwich"},position:{x:4,y:1,z:0},type:"movable-block"}},planet:"penitentiary",size:{x:8,y:8},walls:{away:["loop","loop","skeleton","loop","loop","skeleton","loop","loop"],left:["loop","loop","skeleton","loop","loop","skeleton","loop","loop"]}},penitentiary27:{color:"white",floor:"deadly",floorSkip:[],id:"penitentiary27",items:{"block@0,0,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:0,z:0},type:"block"},"block@7,0,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:0,z:0},type:"block"},"deadly-block@3,0,1:ZWGEjo":{config:{style:"volcano"},position:{x:3,y:0,z:1},type:"deadly-block"},"deadly-block@3,1,0:ZWGEjo":{config:{style:"volcano"},position:{x:3,y:1,z:0},type:"deadly-block"},"deadly-block@3,1,1:ZWGEjo":{config:{style:"volcano"},position:{x:3,y:1,z:1},type:"deadly-block"},"door@0,0,1:2v7VJk":{config:{axis:"y",toRoom:"penitentiary28"},position:{x:0,y:0,z:1},type:"door"},"door@8,0,2:2v7VdO":{config:{axis:"y",toRoom:"penitentiary26"},position:{x:8,y:0,z:2},type:"door"},"movable-block@6,0,0:1EfFpg":{config:{style:"sandwich"},position:{x:6,y:0,z:0},type:"movable-block"}},planet:"penitentiary",size:{x:8,y:2},walls:{away:["loop","loop","skeleton","loop","loop","skeleton","loop","loop"],left:["none","none"]}},penitentiary28:{color:"white",floor:"penitentiary",floorSkip:[],id:"penitentiary28",items:{"block@0,3,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:3,z:0},type:"block"},"block@0,3,1:ZlEwyj":{config:{style:"organic"},position:{x:0,y:3,z:1},type:"block"},"block@0,3,3:ZlEwyj":{config:{style:"organic"},position:{x:0,y:3,z:3},type:"block"},"door@0,3,4:2v7W05":{config:{axis:"y",toRoom:"penitentiary29"},position:{x:0,y:3,z:4},type:"door"},"door@3,0,4:1G4t5L":{config:{axis:"x",toRoom:"penitentiary30"},position:{x:3,y:0,z:4},type:"door"},"door@8,3,0:2v7Vtz":{config:{axis:"y",toRoom:"penitentiary27"},position:{x:8,y:3,z:0},type:"door"},"hush-puppy@2,0,0:13y":{config:{},position:{x:2,y:0,z:0},type:"hush-puppy"},"hush-puppy@3,0,1:13y":{config:{},position:{x:3,y:0,z:1},type:"hush-puppy"},"hush-puppy@4,0,2:13y":{config:{},position:{x:4,y:0,z:2},type:"hush-puppy"}},planet:"penitentiary",size:{x:8,y:8},walls:{away:["loop","loop","skeleton","loop","loop","skeleton","loop","loop"],left:["loop","skeleton","loop","none","none","loop","skeleton","loop"]}},penitentiary29:{color:"white",floor:"none",floorSkip:[],id:"penitentiary29",items:{"block@2,0,0:ZlEwyj":{config:{style:"organic"},position:{x:2,y:0,z:0},type:"block"},"block@2,1,0:ZlEwyj":{config:{style:"organic"},position:{x:2,y:1,z:0},type:"block"},"block@3,0,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:0,z:0},type:"block"},"block@3,1,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:1,z:0},type:"block"},"block@4,0,0:ZlEwyj":{config:{style:"organic"},position:{x:4,y:0,z:0},type:"block"},"block@4,1,0:ZlEwyj":{config:{style:"organic"},position:{x:4,y:1,z:0},type:"block"},"block@5,0,0:ZlEwyj":{config:{style:"organic"},position:{x:5,y:0,z:0},type:"block"},"block@5,1,0:ZlEwyj":{config:{style:"organic"},position:{x:5,y:1,z:0},type:"block"},"block@6,0,0:ZlEwyj":{config:{style:"organic"},position:{x:6,y:0,z:0},type:"block"},"block@6,1,0:ZlEwyj":{config:{style:"organic"},position:{x:6,y:1,z:0},type:"block"},"block@7,0,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:0,z:0},type:"block"},"block@7,1,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:1,z:0},type:"block"},"deadly-block@2,0,1:Z1tM18t":{config:{style:"puck"},position:{x:2,y:0,z:1},type:"deadly-block"},"deadly-block@2,1,1:Z1tM18t":{config:{style:"puck"},position:{x:2,y:1,z:1},type:"deadly-block"},"door@8,0,3:2v7VJk":{config:{axis:"y",toRoom:"penitentiary28"},position:{x:8,y:0,z:3},type:"door"}},planet:"penitentiary",roomBelow:"penitentiary31",size:{x:8,y:2},walls:{away:["loop","loop","skeleton","loop","loop","skeleton","loop","loop"],left:["none","none"]}},penitentiary3:{color:"white",floor:"deadly",floorSkip:[],id:"penitentiary3",items:{"block@0,3,0:Z1bIU4r":{config:{style:"artificial"},position:{x:0,y:3,z:0},type:"block"},"block@0,4,0:Z1bIU4r":{config:{style:"artificial"},position:{x:0,y:4,z:0},type:"block"},"block@4,7,0:Z1bIU4r":{config:{style:"artificial"},position:{x:4,y:7,z:0},type:"block"},"block@7,3,0:Z1bIU4r":{config:{style:"artificial"},position:{x:7,y:3,z:0},type:"block"},"block@7,4,0:Z1bIU4r":{config:{style:"artificial"},position:{x:7,y:4,z:0},type:"block"},"deadly-block@7,1,0:2u1uHB":{config:{style:"toaster"},position:{x:7,y:1,z:0},type:"deadly-block"},"deadly-block@7,1,1:2u1uHB":{config:{style:"toaster"},position:{x:7,y:1,z:1},type:"deadly-block"},"door@0,3,1:1I0eny":{config:{axis:"y",toRoom:"penitentiary2"},position:{x:0,y:3,z:1},type:"door"},"door@8,3,2:1I0eT4":{config:{axis:"y",toRoom:"penitentiary4"},position:{x:8,y:3,z:2},type:"door"},"movable-block@0,1,0:1EfFpg":{config:{style:"sandwich"},position:{x:0,y:1,z:0},type:"movable-block"},"switch@0,0,0:13y":{config:{},position:{x:0,y:0,z:0},type:"switch"},"switch@7,7,0:13y":{config:{},position:{x:7,y:7,z:0},type:"switch"}},planet:"penitentiary",size:{x:8,y:8},walls:{away:["loop","loop","skeleton","loop","loop","skeleton","loop","loop"],left:["loop","skeleton","loop","none","none","loop","skeleton","loop"]}},penitentiary30:{color:"white",floor:"penitentiary",floorSkip:[],id:"penitentiary30",items:{"block@0,3,3:ZlEwyj":{config:{style:"organic"},position:{x:0,y:3,z:3},type:"block"},"block@1,3,3:ZlEwyj":{config:{style:"organic"},position:{x:1,y:3,z:3},type:"block"},"block@2,3,3:ZlEwyj":{config:{style:"organic"},position:{x:2,y:3,z:3},type:"block"},"block@3,3,3:ZlEwyj":{config:{style:"organic"},position:{x:3,y:3,z:3},type:"block"},"block@4,3,3:ZlEwyj":{config:{style:"organic"},position:{x:4,y:3,z:3},type:"block"},"block@5,3,3:ZlEwyj":{config:{style:"organic"},position:{x:5,y:3,z:3},type:"block"},"door@3,4,0:1G4n9q":{config:{axis:"x",toRoom:"penitentiary28"},position:{x:3,y:4,z:0},type:"door"},"portable-block@0,3,0:Z14c3Fl":{config:{style:"sticks"},position:{x:0,y:3,z:0},type:"portable-block"},"portable-block@7,0,0:Z14c3Fl":{config:{style:"sticks"},position:{x:7,y:0,z:0},type:"portable-block"},"portable-block@7,3,0:Z14c3Fl":{config:{style:"sticks"},position:{x:7,y:3,z:0},type:"portable-block"},"teleporter@0,3,4:2mFPXS":{config:{toRoom:"penitentiary18fish"},position:{x:0,y:3,z:4},type:"teleporter"}},planet:"penitentiary",size:{x:8,y:4},walls:{away:["loop","skeleton","loop","none","none","loop","skeleton","loop"],left:["loop","loop","loop","loop"]}},penitentiary31:{color:"white",floor:"none",floorSkip:[],id:"penitentiary31",items:{"block@0,0,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:0,z:0},type:"block"},"block@0,1,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:1,z:0},type:"block"},"block@1,0,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:0,z:0},type:"block"},"block@1,1,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:1,z:0},type:"block"},"block@2,0,0:ZlEwyj":{config:{style:"organic"},position:{x:2,y:0,z:0},type:"block"},"block@2,1,0:ZlEwyj":{config:{style:"organic"},position:{x:2,y:1,z:0},type:"block"},"block@3,0,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:0,z:0},type:"block"},"block@3,1,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:1,z:0},type:"block"},"block@4,0,0:ZlEwyj":{config:{style:"organic"},position:{x:4,y:0,z:0},type:"block"},"block@4,1,0:ZlEwyj":{config:{style:"organic"},position:{x:4,y:1,z:0},type:"block"},"block@5,0,0:ZlEwyj":{config:{style:"organic"},position:{x:5,y:0,z:0},type:"block"},"block@5,1,0:ZlEwyj":{config:{style:"organic"},position:{x:5,y:1,z:0},type:"block"},"deadly-block@5,0,1:Z1tM18t":{config:{style:"puck"},position:{x:5,y:0,z:1},type:"deadly-block"},"deadly-block@5,0,2:Z1tM18t":{config:{style:"puck"},position:{x:5,y:0,z:2},type:"deadly-block"},"deadly-block@5,1,1:Z1tM18t":{config:{style:"puck"},position:{x:5,y:1,z:1},type:"deadly-block"},"deadly-block@5,1,2:Z1tM18t":{config:{style:"puck"},position:{x:5,y:1,z:2},type:"deadly-block"},"portable-block@1,1,1:Z14c3Fl":{config:{style:"sticks"},position:{x:1,y:1,z:1},type:"portable-block"}},planet:"penitentiary",roomAbove:"penitentiary30",roomBelow:"penitentiary32",size:{x:8,y:2},walls:{away:["loop","loop","skeleton","loop","loop","skeleton","loop","loop"],left:["loop","loop"]}},penitentiary32:{color:"white",floor:"penitentiary",floorSkip:[],id:"penitentiary32",items:{"baddie@0,1,0:Z1w4InY":{config:{which:"dalek"},position:{x:0,y:1,z:0},type:"baddie"},"block@2,0,4:ZlEwyj":{config:{style:"organic"},position:{x:2,y:0,z:4},type:"block"},"block@2,1,4:ZlEwyj":{config:{style:"organic"},position:{x:2,y:1,z:4},type:"block"},"block@3,0,4:ZlEwyj":{config:{style:"organic"},position:{x:3,y:0,z:4},type:"block"},"block@3,1,4:ZlEwyj":{config:{style:"organic"},position:{x:3,y:1,z:4},type:"block"},"block@4,0,4:ZlEwyj":{config:{style:"organic"},position:{x:4,y:0,z:4},type:"block"},"block@4,1,4:ZlEwyj":{config:{style:"organic"},position:{x:4,y:1,z:4},type:"block"},"block@5,0,4:ZlEwyj":{config:{style:"organic"},position:{x:5,y:0,z:4},type:"block"},"block@5,1,4:ZlEwyj":{config:{style:"organic"},position:{x:5,y:1,z:4},type:"block"},"block@6,0,4:ZlEwyj":{config:{style:"organic"},position:{x:6,y:0,z:4},type:"block"},"block@6,1,4:ZlEwyj":{config:{style:"organic"},position:{x:6,y:1,z:4},type:"block"},"block@7,0,4:ZlEwyj":{config:{style:"organic"},position:{x:7,y:0,z:4},type:"block"},"block@7,1,4:ZlEwyj":{config:{style:"organic"},position:{x:7,y:1,z:4},type:"block"},"deadly-block@2,0,5:Z1tM18t":{config:{style:"puck"},position:{x:2,y:0,z:5},type:"deadly-block"},"deadly-block@2,1,5:Z1tM18t":{config:{style:"puck"},position:{x:2,y:1,z:5},type:"deadly-block"},"door@3,0,0:1G4tR2":{config:{axis:"x",toRoom:"penitentiary33"},position:{x:3,y:0,z:0},type:"door"}},planet:"penitentiary",roomAbove:"penitentiary31",size:{x:8,y:2},walls:{away:["loop","loop","skeleton","loop","loop","skeleton","loop","loop"],left:["loop","loop"]}},penitentiary33:{color:"white",floor:"penitentiary",floorSkip:[],id:"penitentiary33",items:{"ball@1,1,3:13y":{config:{},position:{x:1,y:1,z:3},type:"ball"},"ball@1,6,3:13y":{config:{},position:{x:1,y:6,z:3},type:"ball"},"ball@6,1,3:13y":{config:{},position:{x:6,y:1,z:3},type:"ball"},"ball@6,6,3:13y":{config:{},position:{x:6,y:6,z:3},type:"ball"},"block@1,1,0:Z1qu960":{config:{style:"tower"},position:{x:1,y:1,z:0},type:"block"},"block@1,1,1:Z1qu960":{config:{style:"tower"},position:{x:1,y:1,z:1},type:"block"},"block@1,1,2:Z1qu960":{config:{style:"tower"},position:{x:1,y:1,z:2},type:"block"},"block@1,6,0:Z1qu960":{config:{style:"tower"},position:{x:1,y:6,z:0},type:"block"},"block@1,6,1:Z1qu960":{config:{style:"tower"},position:{x:1,y:6,z:1},type:"block"},"block@1,6,2:Z1qu960":{config:{style:"tower"},position:{x:1,y:6,z:2},type:"block"},"block@6,1,0:Z1qu960":{config:{style:"tower"},position:{x:6,y:1,z:0},type:"block"},"block@6,1,1:Z1qu960":{config:{style:"tower"},position:{x:6,y:1,z:1},type:"block"},"block@6,1,2:Z1qu960":{config:{style:"tower"},position:{x:6,y:1,z:2},type:"block"},"block@6,6,0:Z1qu960":{config:{style:"tower"},position:{x:6,y:6,z:0},type:"block"},"block@6,6,1:Z1qu960":{config:{style:"tower"},position:{x:6,y:6,z:1},type:"block"},"block@6,6,2:Z1qu960":{config:{style:"tower"},position:{x:6,y:6,z:2},type:"block"},"door@3,0,0:Z12UXfq":{config:{axis:"x",toRoom:"penitentiary34crown"},position:{x:3,y:0,z:0},type:"door"},"door@3,8,0:1G4tBh":{config:{axis:"x",toRoom:"penitentiary32"},position:{x:3,y:8,z:0},type:"door"},"teleporter@0,3,0:Z1dKvnA":{config:{toRoom:"penitentiary2"},position:{x:0,y:3,z:0},type:"teleporter"},"teleporter@0,4,0:Z1dKvnA":{config:{toRoom:"penitentiary2"},position:{x:0,y:4,z:0},type:"teleporter"},"teleporter@1,3,0:Z1dKvnA":{config:{toRoom:"penitentiary2"},position:{x:1,y:3,z:0},type:"teleporter"},"teleporter@1,4,0:Z1dKvnA":{config:{toRoom:"penitentiary2"},position:{x:1,y:4,z:0},type:"teleporter"}},planet:"penitentiary",size:{x:8,y:8},walls:{away:["loop","skeleton","loop","none","none","loop","skeleton","loop"],left:["loop","loop","skeleton","loop","loop","skeleton","loop","loop"]}},penitentiary34crown:{color:"white",floor:"penitentiary",floorSkip:[],id:"penitentiary34crown",items:{"block@0,0,0:Z1bIU4r":{config:{style:"artificial"},position:{x:0,y:0,z:0},type:"block"},"block@0,0,1:Z1bIU4r":{config:{style:"artificial"},position:{x:0,y:0,z:1},type:"block"},"block@0,0,2:Z1bIU4r":{config:{style:"artificial"},position:{x:0,y:0,z:2},type:"block"},"block@0,0,3:Z1bIU4r":{config:{style:"artificial"},position:{x:0,y:0,z:3},type:"block"},"block@0,0,4:Z1bIU4r":{config:{style:"artificial"},position:{x:0,y:0,z:4},type:"block"},"block@0,0,5:Z1bIU4r":{config:{style:"artificial"},position:{x:0,y:0,z:5},type:"block"},"block@0,1,0:Z1bIU4r":{config:{style:"artificial"},position:{x:0,y:1,z:0},type:"block"},"block@0,7,2:Z1bIU4r":{config:{style:"artificial"},position:{x:0,y:7,z:2},type:"block"},"block@7,3,4:Z1bIU4r":{config:{style:"artificial"},position:{x:7,y:3,z:4},type:"block"},"block@7,4,4:Z1bIU4r":{config:{style:"artificial"},position:{x:7,y:4,z:4},type:"block"},"door@3,8,1:1G4tR2":{config:{axis:"x",toRoom:"penitentiary33"},position:{x:3,y:8,z:1},type:"door"},"movable-block@7,3,5:1EfFpg":{config:{style:"sandwich"},position:{x:7,y:3,z:5},type:"movable-block"},"pickup@0,0,6:2fxkqv":{config:{gives:"crown"},position:{x:0,y:0,z:6},type:"pickup"},"portable-block@0,7,3:Z14c3Fl":{config:{style:"sticks"},position:{x:0,y:7,z:3},type:"portable-block"},"teleporter@7,5,4:2mFPXS":{config:{toRoom:"penitentiary18fish"},position:{x:7,y:5,z:4},type:"teleporter"}},planet:"penitentiary",size:{x:8,y:8},walls:{away:["loop","skeleton","loop","none","none","loop","skeleton","loop"],left:["loop","loop","skeleton","loop","loop","skeleton","loop","loop"]}},penitentiary4:{color:"white",floor:"penitentiary",floorSkip:[],id:"penitentiary4",items:{"block@4,5,1:Z1bIU4r":{config:{style:"artificial"},position:{x:4,y:5,z:1},type:"block"},"block@5,0,4:Z1bIU4r":{config:{style:"artificial"},position:{x:5,y:0,z:4},type:"block"},"block@5,0,7:Z1bIU4r":{config:{style:"artificial"},position:{x:5,y:0,z:7},type:"block"},"block@5,1,2:Z1bIU4r":{config:{style:"artificial"},position:{x:5,y:1,z:2},type:"block"},"block@5,2,6:Z1bIU4r":{config:{style:"artificial"},position:{x:5,y:2,z:6},type:"block"},"block@5,5,2:Z1bIU4r":{config:{style:"artificial"},position:{x:5,y:5,z:2},type:"block"},"deadly-block@5,2,0:ZaRhUQ":{config:{style:"spikes"},position:{x:5,y:2,z:0},type:"deadly-block"},"deadly-block@5,3,0:ZaRhUQ":{config:{style:"spikes"},position:{x:5,y:3,z:0},type:"deadly-block"},"door@0,2,0:1I0eDj":{config:{axis:"y",toRoom:"penitentiary3"},position:{x:0,y:2,z:0},type:"door"}},planet:"penitentiary",roomAbove:"penitentiary5",size:{x:6,y:6},walls:{away:["loop","skeleton","loop","loop","skeleton","loop"],left:["loop","skeleton","loop","loop","skeleton","loop"]}},penitentiary5:{color:"white",floor:"none",floorSkip:[],id:"penitentiary5",items:{"block@0,5,7:Z1bIU4r":{config:{style:"artificial"},position:{x:0,y:5,z:7},type:"block"},"block@2,5,5:Z1bIU4r":{config:{style:"artificial"},position:{x:2,y:5,z:5},type:"block"},"block@5,0,0:Z1bIU4r":{config:{style:"artificial"},position:{x:5,y:0,z:0},type:"block"},"block@5,4,0:Z1bIU4r":{config:{style:"artificial"},position:{x:5,y:4,z:0},type:"block"},"block@5,5,2:Z1bIU4r":{config:{style:"artificial"},position:{x:5,y:5,z:2},type:"block"},"block@5,5,4:Z1bIU4r":{config:{style:"artificial"},position:{x:5,y:5,z:4},type:"block"}},planet:"penitentiary",roomAbove:"penitentiary6",roomBelow:"penitentiary4",size:{x:6,y:6},walls:{away:["loop","skeleton","loop","loop","skeleton","loop"],left:["loop","skeleton","loop","loop","skeleton","loop"]}},penitentiary6:{color:"white",floor:"none",floorSkip:[],id:"penitentiary6",items:{"block@0,5,0:Z1bIU4r":{config:{style:"artificial"},position:{x:0,y:5,z:0},type:"block"},"deadly-block@3,0,0:ZWGEjo":{config:{style:"volcano"},position:{x:3,y:0,z:0},type:"deadly-block"},"deadly-block@3,1,0:ZWGEjo":{config:{style:"volcano"},position:{x:3,y:1,z:0},type:"deadly-block"},"deadly-block@3,2,0:ZWGEjo":{config:{style:"volcano"},position:{x:3,y:2,z:0},type:"deadly-block"},"deadly-block@3,3,0:ZWGEjo":{config:{style:"volcano"},position:{x:3,y:3,z:0},type:"deadly-block"},"deadly-block@3,4,0:ZWGEjo":{config:{style:"volcano"},position:{x:3,y:4,z:0},type:"deadly-block"},"deadly-block@3,5,0:ZWGEjo":{config:{style:"volcano"},position:{x:3,y:5,z:0},type:"deadly-block"},"door@6,2,3:1I0fFk":{config:{axis:"y",toRoom:"penitentiary7"},position:{x:6,y:2,z:3},type:"door"},"movable-block@3,0,1:Z15GVb5":{config:{style:"anvil"},position:{x:3,y:0,z:1},type:"movable-block"}},planet:"penitentiary",roomBelow:"penitentiary5",size:{x:6,y:6},walls:{away:["loop","skeleton","loop","loop","skeleton","loop"],left:["loop","loop","none","none","loop","loop"]}},penitentiary7:{color:"white",floor:"penitentiary",floorSkip:[],id:"penitentiary7",items:{"baddie@3,5,0:1qFC6w":{config:{which:"bubble-robot"},position:{x:3,y:5,z:0},type:"baddie"},"baddie@5,5,0:1qFC6w":{config:{which:"bubble-robot"},position:{x:5,y:5,z:0},type:"baddie"},"block@4,5,0:Z1bIU4r":{config:{style:"artificial"},position:{x:4,y:5,z:0},type:"block"},"block@4,5,1:Z1bIU4r":{config:{style:"artificial"},position:{x:4,y:5,z:1},type:"block"},"block@4,5,3:Z1bIU4r":{config:{style:"artificial"},position:{x:4,y:5,z:3},type:"block"},"door@0,2,0:1I0fpz":{config:{axis:"y",toRoom:"penitentiary6"},position:{x:0,y:2,z:0},type:"door"},"door@3,6,5:21ox61":{config:{axis:"x",toRoom:"penitentiary8"},position:{x:3,y:6,z:5},type:"door"}},planet:"penitentiary",size:{x:8,y:6},walls:{away:["loop","skeleton","loop","none","none","loop","skeleton","loop"],left:["loop","skeleton","loop","loop","skeleton","loop"]}},penitentiary8:{color:"white",floor:"penitentiary",floorSkip:[],id:"penitentiary8",items:{"block@0,4,7:Z1bIU4r":{config:{style:"artificial"},position:{x:0,y:4,z:7},type:"block"},"block@0,5,6:Z1bIU4r":{config:{style:"artificial"},position:{x:0,y:5,z:6},type:"block"},"block@0,6,4:Z1bIU4r":{config:{style:"artificial"},position:{x:0,y:6,z:4},type:"block"},"block@0,7,4:Z1bIU4r":{config:{style:"artificial"},position:{x:0,y:7,z:4},type:"block"},"block@1,2,2:Z1bIU4r":{config:{style:"artificial"},position:{x:1,y:2,z:2},type:"block"},"door@0,0,0:21owPg":{config:{axis:"x",toRoom:"penitentiary7"},position:{x:0,y:0,z:0},type:"door"},"portable-block@1,2,0:Z1SKpmn":{config:{style:"drum"},position:{x:1,y:2,z:0},type:"portable-block"},"portable-block@1,2,1:Z1SKpmn":{config:{style:"drum"},position:{x:1,y:2,z:1},type:"portable-block"},"portable-block@1,2,3:Z1SKpmn":{config:{style:"drum"},position:{x:1,y:2,z:3},type:"portable-block"}},planet:"penitentiary",roomAbove:"penitentiary9",size:{x:2,y:8},walls:{away:["loop","loop"],left:["loop","loop","skeleton","loop","loop","skeleton","loop","loop"]}},penitentiary9:{color:"white",floor:"none",floorSkip:[],id:"penitentiary9",items:{"lift@0,4,0:ZTwqnv":{config:{bottom:0,top:9},position:{x:0,y:4,z:0},type:"lift"}},planet:"penitentiary",roomAbove:"penitentiary10",roomBelow:"penitentiary8",size:{x:2,y:8},walls:{away:["loop","loop"],left:["loop","loop","skeleton","loop","loop","skeleton","loop","loop"]}},safari1:{color:"white",floor:"safari",floorSkip:[],id:"safari1",items:{"door@2,8,0:baIQu":{config:{axis:"x",toRoom:"safari2"},position:{x:2,y:8,z:0},type:"door"},"teleporter@2,3,0:uIsOk":{config:{toRoom:"moonbase21tosafari"},position:{x:2,y:3,z:0},type:"teleporter"},"teleporter@2,4,0:uIsOk":{config:{toRoom:"moonbase21tosafari"},position:{x:2,y:4,z:0},type:"teleporter"},"teleporter@3,3,0:uIsOk":{config:{toRoom:"moonbase21tosafari"},position:{x:3,y:3,z:0},type:"teleporter"},"teleporter@3,4,0:uIsOk":{config:{toRoom:"moonbase21tosafari"},position:{x:3,y:4,z:0},type:"teleporter"}},planet:"safari",size:{x:6,y:8},walls:{away:["wall","shield","none","none","shield","wall"],left:["wall","window","wall","shield","shield","wall","window","wall"]}},safari10:{color:"green",floor:"safari",floorSkip:[],id:"safari10",items:{"barrier@4,0,0:Is9Xq":{config:{axis:"y"},position:{x:4,y:0,z:0},type:"barrier"},"barrier@4,0,1:Is9Xq":{config:{axis:"y"},position:{x:4,y:0,z:1},type:"barrier"},"barrier@4,0,2:Is9Xq":{config:{axis:"y"},position:{x:4,y:0,z:2},type:"barrier"},"barrier@4,1,0:Is9Xq":{config:{axis:"y"},position:{x:4,y:1,z:0},type:"barrier"},"barrier@4,1,1:Is9Xq":{config:{axis:"y"},position:{x:4,y:1,z:1},type:"barrier"},"barrier@4,1,2:Is9Xq":{config:{axis:"y"},position:{x:4,y:1,z:2},type:"barrier"},"barrier@4,2,0:Is9Xq":{config:{axis:"y"},position:{x:4,y:2,z:0},type:"barrier"},"barrier@4,2,1:Is9Xq":{config:{axis:"y"},position:{x:4,y:2,z:1},type:"barrier"},"barrier@4,2,2:Is9Xq":{config:{axis:"y"},position:{x:4,y:2,z:2},type:"barrier"},"barrier@4,3,0:Is9Xq":{config:{axis:"y"},position:{x:4,y:3,z:0},type:"barrier"},"barrier@4,3,1:Is9Xq":{config:{axis:"y"},position:{x:4,y:3,z:1},type:"barrier"},"barrier@4,3,2:Is9Xq":{config:{axis:"y"},position:{x:4,y:3,z:2},type:"barrier"},"barrier@4,4,0:Is9Xq":{config:{axis:"y"},position:{x:4,y:4,z:0},type:"barrier"},"barrier@4,4,1:Is9Xq":{config:{axis:"y"},position:{x:4,y:4,z:1},type:"barrier"},"barrier@4,4,2:Is9Xq":{config:{axis:"y"},position:{x:4,y:4,z:2},type:"barrier"},"barrier@4,5,0:Is9Xq":{config:{axis:"y"},position:{x:4,y:5,z:0},type:"barrier"},"barrier@4,5,1:Is9Xq":{config:{axis:"y"},position:{x:4,y:5,z:1},type:"barrier"},"barrier@4,5,2:Is9Xq":{config:{axis:"y"},position:{x:4,y:5,z:2},type:"barrier"},"door@8,2,0:249zb9":{config:{axis:"y",toRoom:"safari11"},position:{x:8,y:2,z:0},type:"door"},"spring@0,5,0:13y":{config:{},position:{x:0,y:5,z:0},type:"spring"}},planet:"safari",roomAbove:"safari9",size:{x:8,y:6},walls:{away:["wall","window","wall","shield","shield","wall","window","wall"],left:["wall","shield","none","none","shield","wall"]}},safari11:{color:"white",floor:"safari",floorSkip:[],id:"safari11",items:{"baddie@0,0,0:Z1iri44":{config:{which:"elephant"},position:{x:0,y:0,z:0},type:"baddie"},"baddie@2,3,0:ZYC5Tr":{config:{which:"elephant-head"},position:{x:2,y:3,z:0},type:"baddie"},"baddie@3,1,0:ZYC5Tr":{config:{which:"elephant-head"},position:{x:3,y:1,z:0},type:"baddie"},"baddie@3,5,0:ZYC5Tr":{config:{which:"elephant-head"},position:{x:3,y:5,z:0},type:"baddie"},"door@0,2,0:249yUo":{config:{axis:"y",toRoom:"safari10"},position:{x:0,y:2,z:0},type:"door"},"door@6,2,0:249zqT":{config:{axis:"y",toRoom:"safari12"},position:{x:6,y:2,z:0},type:"door"}},planet:"safari",size:{x:6,y:6},walls:{away:["shield","wall","window","window","wall","shield"],left:["wall","shield","none","none","shield","wall"]}},safari12:{color:"yellow",floor:"safari",floorSkip:[],id:"safari12",items:{"baddie@5,5,0:Z1w4InY":{config:{which:"dalek"},position:{x:5,y:5,z:0},type:"baddie"},"barrier@4,0,1:Is9Xq":{config:{axis:"y"},position:{x:4,y:0,z:1},type:"barrier"},"barrier@4,0,2:Is9Xq":{config:{axis:"y"},position:{x:4,y:0,z:2},type:"barrier"},"barrier@4,1,0:Is9Xq":{config:{axis:"y"},position:{x:4,y:1,z:0},type:"barrier"},"barrier@4,1,1:Is9Xq":{config:{axis:"y"},position:{x:4,y:1,z:1},type:"barrier"},"barrier@4,1,2:Is9Xq":{config:{axis:"y"},position:{x:4,y:1,z:2},type:"barrier"},"barrier@4,2,0:Is9Xq":{config:{axis:"y"},position:{x:4,y:2,z:0},type:"barrier"},"barrier@4,2,1:Is9Xq":{config:{axis:"y"},position:{x:4,y:2,z:1},type:"barrier"},"barrier@4,2,2:Is9Xq":{config:{axis:"y"},position:{x:4,y:2,z:2},type:"barrier"},"barrier@4,3,0:Is9Xq":{config:{axis:"y"},position:{x:4,y:3,z:0},type:"barrier"},"barrier@4,3,1:Is9Xq":{config:{axis:"y"},position:{x:4,y:3,z:1},type:"barrier"},"barrier@4,3,2:Is9Xq":{config:{axis:"y"},position:{x:4,y:3,z:2},type:"barrier"},"barrier@4,4,0:Is9Xq":{config:{axis:"y"},position:{x:4,y:4,z:0},type:"barrier"},"barrier@4,4,1:Is9Xq":{config:{axis:"y"},position:{x:4,y:4,z:1},type:"barrier"},"barrier@4,4,2:Is9Xq":{config:{axis:"y"},position:{x:4,y:4,z:2},type:"barrier"},"barrier@4,5,0:Is9Xq":{config:{axis:"y"},position:{x:4,y:5,z:0},type:"barrier"},"barrier@4,5,1:Is9Xq":{config:{axis:"y"},position:{x:4,y:5,z:1},type:"barrier"},"barrier@4,5,2:Is9Xq":{config:{axis:"y"},position:{x:4,y:5,z:2},type:"barrier"},"deadly-block@2,1,0:ZWGEjo":{config:{style:"volcano"},position:{x:2,y:1,z:0},type:"deadly-block"},"deadly-block@3,1,0:ZWGEjo":{config:{style:"volcano"},position:{x:3,y:1,z:0},type:"deadly-block"},"deadly-block@4,0,0:Z1tM18t":{config:{style:"puck"},position:{x:4,y:0,z:0},type:"deadly-block"},"door@0,2,0:249zb9":{config:{axis:"y",toRoom:"safari11"},position:{x:0,y:2,z:0},type:"door"},"lift@7,5,0:ZTwqnv":{config:{bottom:0,top:9},position:{x:7,y:5,z:0},type:"lift"},"portable-block@3,5,0:Z1SKpmn":{config:{style:"drum"},position:{x:3,y:5,z:0},type:"portable-block"}},planet:"safari",roomAbove:"safari13",size:{x:8,y:6},walls:{away:["wall","window","wall","shield","shield","wall","window","wall"],left:["shield","wall","window","window","wall","shield"]}},safari13:{color:"yellow",floor:"none",floorSkip:[],id:"safari13",items:{"block@0,3,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:3,z:0},type:"block"},"block@0,5,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:5,z:0},type:"block"},"block@1,5,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:5,z:0},type:"block"},"block@3,5,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:5,z:0},type:"block"},"block@5,5,0:ZlEwyj":{config:{style:"organic"},position:{x:5,y:5,z:0},type:"block"},"block@7,5,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:5,z:0},type:"block"},"door@0,2,2:249zWp":{config:{axis:"y",toRoom:"safari14"},position:{x:0,y:2,z:2},type:"door"},"door@3,6,2:AfA24":{config:{axis:"x",toRoom:"safari15"},position:{x:3,y:6,z:2},type:"door"}},planet:"safari",roomBelow:"safari12",size:{x:8,y:6},walls:{away:["wall","shield","wall","none","none","wall","window","wall"],left:["shield","wall","window","window","wall","shield"]}},safari14:{color:"white",floor:"safari",floorSkip:[],id:"safari14",items:{"block@3,7,1:ZlEwyj":{config:{style:"organic"},position:{x:3,y:7,z:1},type:"block"},"block@4,6,0:ZlEwyj":{config:{style:"organic"},position:{x:4,y:6,z:0},type:"block"},"block@4,7,1:ZlEwyj":{config:{style:"organic"},position:{x:4,y:7,z:1},type:"block"},"block@5,7,1:ZlEwyj":{config:{style:"organic"},position:{x:5,y:7,z:1},type:"block"},"deadly-block@3,7,0:Z1tM18t":{config:{style:"puck"},position:{x:3,y:7,z:0},type:"deadly-block"},"deadly-block@5,7,0:Z1tM18t":{config:{style:"puck"},position:{x:5,y:7,z:0},type:"deadly-block"},"door@0,3,0:Z2e1cG4":{config:{axis:"y",toRoom:"safari9"},position:{x:0,y:3,z:0},type:"door"},"door@8,3,0:249zGE":{config:{axis:"y",toRoom:"safari13"},position:{x:8,y:3,z:0},type:"door"},"pickup@4,7,0:Zs6lvR":{config:{gives:"jumps"},position:{x:4,y:7,z:0},type:"pickup"},"portable-block@4,7,2:Z1SKpmn":{config:{style:"drum"},position:{x:4,y:7,z:2},type:"portable-block"}},planet:"safari",size:{x:8,y:8},walls:{away:["wall","window","wall","shield","shield","wall","window","wall"],left:["wall","shield","wall","none","none","wall","window","wall"]}},safari15:{color:"white",floor:"safari",floorSkip:[],id:"safari15",items:{"baddie@0,6,0:yqEry":{config:{startDirection:"right",which:"american-football-head"},position:{x:0,y:6,z:0},type:"baddie"},"baddie@1,4,0:yqEry":{config:{startDirection:"right",which:"american-football-head"},position:{x:1,y:4,z:0},type:"baddie"},"baddie@2,12,1:Z1w4InY":{config:{which:"dalek"},position:{x:2,y:12,z:1},type:"baddie"},"baddie@2,2,0:yqEry":{config:{startDirection:"right",which:"american-football-head"},position:{x:2,y:2,z:0},type:"baddie"},"deadly-block@0,13,0:ZaRhUQ":{config:{style:"spikes"},position:{x:0,y:13,z:0},type:"deadly-block"},"deadly-block@0,9,0:ZaRhUQ":{config:{style:"spikes"},position:{x:0,y:9,z:0},type:"deadly-block"},"deadly-block@1,11,0:ZaRhUQ":{config:{style:"spikes"},position:{x:1,y:11,z:0},type:"deadly-block"},"deadly-block@2,12,0:ZaRhUQ":{config:{style:"spikes"},position:{x:2,y:12,z:0},type:"deadly-block"},"deadly-block@2,9,0:ZaRhUQ":{config:{style:"spikes"},position:{x:2,y:9,z:0},type:"deadly-block"},"deadly-block@3,10,0:ZaRhUQ":{config:{style:"spikes"},position:{x:3,y:10,z:0},type:"deadly-block"},"deadly-block@3,14,0:ZaRhUQ":{config:{style:"spikes"},position:{x:3,y:14,z:0},type:"deadly-block"},"deadly-block@3,2,0:ZWGEjo":{config:{style:"volcano"},position:{x:3,y:2,z:0},type:"deadly-block"},"deadly-block@3,4,0:ZWGEjo":{config:{style:"volcano"},position:{x:3,y:4,z:0},type:"deadly-block"},"deadly-block@3,6,0:ZWGEjo":{config:{style:"volcano"},position:{x:3,y:6,z:0},type:"deadly-block"},"door@1,0,0:Afzvy":{config:{axis:"x",toRoom:"safari13"},position:{x:1,y:0,z:0},type:"door"},"door@1,16,0:AfAhO":{config:{axis:"x",toRoom:"safari16"},position:{x:1,y:16,z:0},type:"door"}},planet:"safari",size:{x:4,y:16},walls:{away:["wall","none","none","wall"],left:["wall","window","wall","shield","shield","wall","window","wall","wall","window","wall","shield","shield","wall","window","wall"]}},safari16:{color:"cyan",floor:"safari",floorSkip:[],id:"safari16",items:{"baddie@2,6,0:NUdjE":{config:{startDirection:"towards",which:"american-football-head"},position:{x:2,y:6,z:0},type:"baddie"},"deadly-block@0,4,0:ZWGEjo":{config:{style:"volcano"},position:{x:0,y:4,z:0},type:"deadly-block"},"deadly-block@1,1,0:ZWGEjo":{config:{style:"volcano"},position:{x:1,y:1,z:0},type:"deadly-block"},"deadly-block@1,2,0:ZWGEjo":{config:{style:"volcano"},position:{x:1,y:2,z:0},type:"deadly-block"},"deadly-block@1,3,0:ZWGEjo":{config:{style:"volcano"},position:{x:1,y:3,z:0},type:"deadly-block"},"deadly-block@1,5,0:ZWGEjo":{config:{style:"volcano"},position:{x:1,y:5,z:0},type:"deadly-block"},"deadly-block@1,6,0:ZWGEjo":{config:{style:"volcano"},position:{x:1,y:6,z:0},type:"deadly-block"},"deadly-block@3,1,0:ZWGEjo":{config:{style:"volcano"},position:{x:3,y:1,z:0},type:"deadly-block"},"deadly-block@3,2,0:ZWGEjo":{config:{style:"volcano"},position:{x:3,y:2,z:0},type:"deadly-block"},"deadly-block@3,3,0:ZWGEjo":{config:{style:"volcano"},position:{x:3,y:3,z:0},type:"deadly-block"},"deadly-block@3,4,0:ZWGEjo":{config:{style:"volcano"},position:{x:3,y:4,z:0},type:"deadly-block"},"deadly-block@3,5,0:ZWGEjo":{config:{style:"volcano"},position:{x:3,y:5,z:0},type:"deadly-block"},"deadly-block@3,6,0:ZWGEjo":{config:{style:"volcano"},position:{x:3,y:6,z:0},type:"deadly-block"},"door@1,0,0:AfA24":{config:{axis:"x",toRoom:"safari15"},position:{x:1,y:0,z:0},type:"door"},"door@1,8,0:Z2fKbM3":{config:{axis:"x",toRoom:"safari17fish"},position:{x:1,y:8,z:0},type:"door"}},planet:"safari",size:{x:4,y:8},walls:{away:["wall","none","none","wall"],left:["wall","window","wall","shield","shield","wall","window","wall"]}},safari17fish:{color:"magenta",floor:"safari",floorSkip:[],id:"safari17fish",items:{"block@3,0,3:ZlEwyj":{config:{style:"organic"},position:{x:3,y:0,z:3},type:"block"},"block@3,1,3:ZlEwyj":{config:{style:"organic"},position:{x:3,y:1,z:3},type:"block"},"block@3,2,3:ZlEwyj":{config:{style:"organic"},position:{x:3,y:2,z:3},type:"block"},"block@3,3,3:ZlEwyj":{config:{style:"organic"},position:{x:3,y:3,z:3},type:"block"},"block@3,4,3:ZlEwyj":{config:{style:"organic"},position:{x:3,y:4,z:3},type:"block"},"block@3,5,3:ZlEwyj":{config:{style:"organic"},position:{x:3,y:5,z:3},type:"block"},"block@3,6,3:ZlEwyj":{config:{style:"organic"},position:{x:3,y:6,z:3},type:"block"},"block@3,7,3:ZlEwyj":{config:{style:"organic"},position:{x:3,y:7,z:3},type:"block"},"block@4,0,3:ZlEwyj":{config:{style:"organic"},position:{x:4,y:0,z:3},type:"block"},"block@4,1,3:ZlEwyj":{config:{style:"organic"},position:{x:4,y:1,z:3},type:"block"},"block@4,2,3:ZlEwyj":{config:{style:"organic"},position:{x:4,y:2,z:3},type:"block"},"block@4,3,3:ZlEwyj":{config:{style:"organic"},position:{x:4,y:3,z:3},type:"block"},"block@4,4,3:ZlEwyj":{config:{style:"organic"},position:{x:4,y:4,z:3},type:"block"},"block@4,5,3:ZlEwyj":{config:{style:"organic"},position:{x:4,y:5,z:3},type:"block"},"block@4,6,3:ZlEwyj":{config:{style:"organic"},position:{x:4,y:6,z:3},type:"block"},"block@4,7,3:ZlEwyj":{config:{style:"organic"},position:{x:4,y:7,z:3},type:"block"},"door@3,0,4:AfAhO":{config:{axis:"x",toRoom:"safari16"},position:{x:3,y:0,z:4},type:"door"},"door@3,8,0:AfOK3":{config:{axis:"x",toRoom:"safari30"},position:{x:3,y:8,z:0},type:"door"},"door@8,3,0:249PbT":{config:{axis:"y",toRoom:"safari31"},position:{x:8,y:3,z:0},type:"door"},"fish@4,7,4:ZyDpHa":{config:{alive:!0},position:{x:4,y:7,z:4},type:"fish"},"hush-puppy@0,3,0:13y":{config:{},position:{x:0,y:3,z:0},type:"hush-puppy"},"hush-puppy@1,3,1:13y":{config:{},position:{x:1,y:3,z:1},type:"hush-puppy"},"hush-puppy@2,3,2:13y":{config:{},position:{x:2,y:3,z:2},type:"hush-puppy"}},planet:"safari",size:{x:8,y:8},walls:{away:["wall","shield","wall","none","none","wall","window","wall"],left:["wall","shield","wall","none","none","wall","window","wall"]}},safari18:{color:"magenta",floor:"deadly",floorSkip:[],id:"safari18",items:{"block@0,0,2:ZlEwyj":{config:{style:"organic"},position:{x:0,y:0,z:2},type:"block"},"block@0,1,2:ZlEwyj":{config:{style:"organic"},position:{x:0,y:1,z:2},type:"block"},"block@0,2,2:ZlEwyj":{config:{style:"organic"},position:{x:0,y:2,z:2},type:"block"},"block@0,3,2:ZlEwyj":{config:{style:"organic"},position:{x:0,y:3,z:2},type:"block"},"block@1,10,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:10,z:0},type:"block"},"block@1,11,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:11,z:0},type:"block"},"block@1,12,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:12,z:0},type:"block"},"block@1,13,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:13,z:0},type:"block"},"block@1,14,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:14,z:0},type:"block"},"block@1,15,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:15,z:0},type:"block"},"block@1,5,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:5,z:0},type:"block"},"block@1,6,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:6,z:0},type:"block"},"block@1,7,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:7,z:0},type:"block"},"block@1,8,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:8,z:0},type:"block"},"block@1,9,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:9,z:0},type:"block"},"door@0,0,3:baJn0":{config:{axis:"x",toRoom:"safari4"},position:{x:0,y:0,z:3},type:"door"},"door@0,16,2:ZH4JMp":{config:{axis:"x",toRoom:"safari19triple"},position:{x:0,y:16,z:2},type:"door"}},planet:"safari",size:{x:2,y:16},walls:{away:["none","none"],left:["wall","window","wall","shield","shield","wall","window","wall","wall","window","wall","shield","shield","wall","window","wall"]}},safari19triple:{color:"white",floor:"safari",floorSkip:[{x:16,y:16},{x:16,y:15},{x:16,y:14},{x:16,y:13},{x:16,y:12},{x:16,y:11},{x:16,y:10},{x:15,y:16},{x:15,y:15},{x:15,y:14},{x:15,y:13},{x:15,y:12},{x:15,y:11},{x:14,y:16},{x:14,y:15},{x:14,y:14},{x:14,y:13},{x:14,y:12},{x:14,y:11},{x:13,y:16},{x:13,y:15},{x:13,y:14},{x:13,y:13},{x:13,y:12},{x:13,y:11},{x:12,y:16},{x:12,y:15},{x:12,y:14},{x:12,y:13},{x:12,y:12},{x:12,y:11},{x:11,y:16},{x:11,y:15},{x:11,y:14},{x:11,y:13},{x:11,y:12},{x:11,y:11},{x:10,y:16},{x:10,y:15},{x:10,y:14},{x:10,y:13},{x:10,y:12},{x:10,y:11},{x:9,y:16},{x:9,y:15},{x:9,y:14},{x:9,y:13},{x:9,y:12},{x:9,y:11}],id:"safari19triple",items:{"baddie@12,0,0:Z1w4InY":{config:{which:"dalek"},position:{x:12,y:0,z:0},type:"baddie"},"barrier@13,0,0:Is9Xq":{config:{axis:"y"},position:{x:13,y:0,z:0},type:"barrier"},"barrier@13,0,1:Is9Xq":{config:{axis:"y"},position:{x:13,y:0,z:1},type:"barrier"},"barrier@13,0,2:Is9Xq":{config:{axis:"y"},position:{x:13,y:0,z:2},type:"barrier"},"barrier@13,1,0:Is9Xq":{config:{axis:"y"},position:{x:13,y:1,z:0},type:"barrier"},"barrier@13,1,1:Is9Xq":{config:{axis:"y"},position:{x:13,y:1,z:1},type:"barrier"},"barrier@13,1,2:Is9Xq":{config:{axis:"y"},position:{x:13,y:1,z:2},type:"barrier"},"barrier@13,2,0:Is9Xq":{config:{axis:"y"},position:{x:13,y:2,z:0},type:"barrier"},"barrier@13,2,1:Is9Xq":{config:{axis:"y"},position:{x:13,y:2,z:1},type:"barrier"},"barrier@13,2,2:Is9Xq":{config:{axis:"y"},position:{x:13,y:2,z:2},type:"barrier"},"barrier@13,3,0:Is9Xq":{config:{axis:"y"},position:{x:13,y:3,z:0},type:"barrier"},"barrier@13,3,1:Is9Xq":{config:{axis:"y"},position:{x:13,y:3,z:1},type:"barrier"},"barrier@13,3,2:Is9Xq":{config:{axis:"y"},position:{x:13,y:3,z:2},type:"barrier"},"block@0,9,0:Z1qu960":{config:{style:"tower"},position:{x:0,y:9,z:0},type:"block"},"block@0,9,1:Z1qu960":{config:{style:"tower"},position:{x:0,y:9,z:1},type:"block"},"block@0,9,2:Z1qu960":{config:{style:"tower"},position:{x:0,y:9,z:2},type:"block"},"block@0,9,3:Z1qu960":{config:{style:"tower"},position:{x:0,y:9,z:3},type:"block"},"block@0,9,4:Z1qu960":{config:{style:"tower"},position:{x:0,y:9,z:4},type:"block"},"block@0,9,5:Z1qu960":{config:{style:"tower"},position:{x:0,y:9,z:5},type:"block"},"block@6,6,0:ZlEwyj":{config:{style:"organic"},position:{x:6,y:6,z:0},type:"block"},"block@6,7,0:ZlEwyj":{config:{style:"organic"},position:{x:6,y:7,z:0},type:"block"},"block@6,8,0:ZlEwyj":{config:{style:"organic"},position:{x:6,y:8,z:0},type:"block"},"door@16,1,0:249GUL":{config:{axis:"y",toRoom:"safari20"},position:{x:16,y:1,z:0},type:"door"},"door@3,0,0:AfANk":{config:{axis:"x",toRoom:"safari18"},position:{x:3,y:0,z:0},type:"door"},"door@3,10,0:AfI2r":{config:{axis:"x",toRoom:"safari25"},position:{x:3,y:10,z:0},type:"door"},"pickup@0,9,6:1MkQY2":{config:{gives:"extra-life"},position:{x:0,y:9,z:6},type:"pickup"},"portable-block@12,0,1:Z1SKpmn":{config:{style:"drum"},position:{x:12,y:0,z:1},type:"portable-block"},"portable-block@6,6,1:Z1SKpmn":{config:{style:"drum"},position:{x:6,y:6,z:1},type:"portable-block"},"portable-block@6,8,1:Z1SKpmn":{config:{style:"drum"},position:{x:6,y:8,z:1},type:"portable-block"},"spring@6,7,1:13y":{config:{},position:{x:6,y:7,z:1},type:"spring"},"wall@10,4,0:Z1Jyjna":{config:{side:"away",style:"wall"},position:{x:10,y:4,z:0},type:"wall"},"wall@11,4,0:Z1FfuBR":{config:{side:"away",style:"shield"},position:{x:11,y:4,z:0},type:"wall"},"wall@12,4,0:Z1FfuBR":{config:{side:"away",style:"shield"},position:{x:12,y:4,z:0},type:"wall"},"wall@13,4,0:Z1Jyjna":{config:{side:"away",style:"wall"},position:{x:13,y:4,z:0},type:"wall"},"wall@14,4,0:Z2mLNGE":{config:{side:"away",style:"window"},position:{x:14,y:4,z:0},type:"wall"},"wall@15,4,0:Z1Jyjna":{config:{side:"away",style:"wall"},position:{x:15,y:4,z:0},type:"wall"},"wall@8,4,0:BKGHK":{config:{side:"left",style:"shield"},position:{x:8,y:4,z:0},type:"wall"},"wall@8,4,0:Z1Jyjna":{config:{side:"away",style:"wall"},position:{x:8,y:4,z:0},type:"wall"},"wall@8,5,0:rwVyt":{config:{side:"left",style:"wall"},position:{x:8,y:5,z:0},type:"wall"},"wall@8,6,0:Z4KBm2":{config:{side:"left",style:"window"},position:{x:8,y:6,z:0},type:"wall"},"wall@8,7,0:Z4KBm2":{config:{side:"left",style:"window"},position:{x:8,y:7,z:0},type:"wall"},"wall@8,8,0:rwVyt":{config:{side:"left",style:"wall"},position:{x:8,y:8,z:0},type:"wall"},"wall@8,9,0:BKGHK":{config:{side:"left",style:"shield"},position:{x:8,y:9,z:0},type:"wall"},"wall@9,4,0:Z2mLNGE":{config:{side:"away",style:"window"},position:{x:9,y:4,z:0},type:"wall"}},planet:"safari",size:{x:16,y:10},walls:{away:["wall","window","wall","none","none","wall","window","wall","none","none","none","none","none","none","none","none"],left:["wall","none","none","wall","none","none","none","none","none","none"]}},safari2:{color:"white",floor:"deadly",floorSkip:[],id:"safari2",items:{"block@3,0,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:0,z:0},type:"block"},"block@3,7,1:ZlEwyj":{config:{style:"organic"},position:{x:3,y:7,z:1},type:"block"},"block@4,0,0:ZlEwyj":{config:{style:"organic"},position:{x:4,y:0,z:0},type:"block"},"block@4,7,1:ZlEwyj":{config:{style:"organic"},position:{x:4,y:7,z:1},type:"block"},"block@7,4,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:4,z:0},type:"block"},"deadly-block@0,0,0:ZWGEjo":{config:{style:"volcano"},position:{x:0,y:0,z:0},type:"deadly-block"},"deadly-block@0,0,1:ZWGEjo":{config:{style:"volcano"},position:{x:0,y:0,z:1},type:"deadly-block"},"deadly-block@0,1,1:ZWGEjo":{config:{style:"volcano"},position:{x:0,y:1,z:1},type:"deadly-block"},"deadly-block@0,7,0:ZWGEjo":{config:{style:"volcano"},position:{x:0,y:7,z:0},type:"deadly-block"},"deadly-block@2,3,0:ZWGEjo":{config:{style:"volcano"},position:{x:2,y:3,z:0},type:"deadly-block"},"deadly-block@4,3,0:ZWGEjo":{config:{style:"volcano"},position:{x:4,y:3,z:0},type:"deadly-block"},"deadly-block@6,0,1:ZWGEjo":{config:{style:"volcano"},position:{x:6,y:0,z:1},type:"deadly-block"},"deadly-block@7,0,0:ZWGEjo":{config:{style:"volcano"},position:{x:7,y:0,z:0},type:"deadly-block"},"deadly-block@7,0,1:ZWGEjo":{config:{style:"volcano"},position:{x:7,y:0,z:1},type:"deadly-block"},"door@3,0,1:baIAJ":{config:{axis:"x",toRoom:"safari1"},position:{x:3,y:0,z:1},type:"door"},"door@3,8,3:baJ7f":{config:{axis:"x",toRoom:"safari3"},position:{x:3,y:8,z:3},type:"door"},"movable-block@7,1,0:1EfFpg":{config:{style:"sandwich"},position:{x:7,y:1,z:0},type:"movable-block"}},planet:"safari",size:{x:8,y:8},walls:{away:["wall","shield","wall","none","none","wall","window","wall"],left:["wall","window","wall","shield","shield","wall","window","wall"]}},safari20:{color:"cyan",floor:"safari",floorSkip:[],id:"safari20",items:{"door@0,3,0:6XNMu":{config:{axis:"y",toRoom:"safari19triple"},position:{x:0,y:3,z:0},type:"door"},"door@1,8,0:AfHgb":{config:{axis:"x",toRoom:"safari22"},position:{x:1,y:8,z:0},type:"door"},"door@4,3,0:249Hbw":{config:{axis:"y",toRoom:"safari21"},position:{x:4,y:3,z:0},type:"door"}},planet:"safari",size:{x:4,y:8},walls:{away:["wall","none","none","wall"],left:["wall","shield","wall","none","none","wall","window","wall"]}},safari21:{color:"yellow",floor:"safari",floorSkip:[],id:"safari21",items:{"baddie@2,5,0:VXUBj":{config:{which:"headless-base"},position:{x:2,y:5,z:0},type:"baddie"},"baddie@3,2,0:VXUBj":{config:{which:"headless-base"},position:{x:3,y:2,z:0},type:"baddie"},"baddie@4,4,0:Z1w4InY":{config:{which:"dalek"},position:{x:4,y:4,z:0},type:"baddie"},"baddie@5,4,0:VXUBj":{config:{which:"headless-base"},position:{x:5,y:4,z:0},type:"baddie"},"block@0,7,4:ZlEwyj":{config:{style:"organic"},position:{x:0,y:7,z:4},type:"block"},"block@1,7,3:ZlEwyj":{config:{style:"organic"},position:{x:1,y:7,z:3},type:"block"},"block@4,7,2:ZlEwyj":{config:{style:"organic"},position:{x:4,y:7,z:2},type:"block"},"block@7,7,1:ZlEwyj":{config:{style:"organic"},position:{x:7,y:7,z:1},type:"block"},"door@0,3,0:249GUL":{config:{axis:"y",toRoom:"safari20"},position:{x:0,y:3,z:0},type:"door"},"pickup@0,7,5:Z2prF0G":{config:{gives:"donuts"},position:{x:0,y:7,z:5},type:"pickup"}},planet:"safari",size:{x:8,y:8},walls:{away:["wall","window","wall","shield","shield","wall","window","wall"],left:["wall","window","wall","shield","shield","wall","window","wall"]}},safari22:{color:"white",floor:"safari",floorSkip:[],id:"safari22",items:{"baddie@0,4,0:Z1w4InY":{config:{which:"dalek"},position:{x:0,y:4,z:0},type:"baddie"},"deadly-block@1,1,0:ZWGEjo":{config:{style:"volcano"},position:{x:1,y:1,z:0},type:"deadly-block"},"deadly-block@1,2,0:ZWGEjo":{config:{style:"volcano"},position:{x:1,y:2,z:0},type:"deadly-block"},"deadly-block@1,3,0:ZWGEjo":{config:{style:"volcano"},position:{x:1,y:3,z:0},type:"deadly-block"},"deadly-block@1,4,0:ZWGEjo":{config:{style:"volcano"},position:{x:1,y:4,z:0},type:"deadly-block"},"deadly-block@1,5,0:ZWGEjo":{config:{style:"volcano"},position:{x:1,y:5,z:0},type:"deadly-block"},"deadly-block@1,6,0:ZWGEjo":{config:{style:"volcano"},position:{x:1,y:6,z:0},type:"deadly-block"},"door@0,0,0:AfGJF":{config:{axis:"x",toRoom:"safari20"},position:{x:0,y:0,z:0},type:"door"},"door@0,8,0:AfHvV":{config:{axis:"x",toRoom:"safari23"},position:{x:0,y:8,z:0},type:"door"}},planet:"safari",size:{x:2,y:8},walls:{away:["none","none"],left:["wall","window","wall","shield","shield","wall","window","wall"]}},safari23:{color:"yellow",floor:"safari",floorSkip:[],id:"safari23",items:{"deadly-block@0,0,0:ZWGEjo":{config:{style:"volcano"},position:{x:0,y:0,z:0},type:"deadly-block"},"deadly-block@0,5,0:ZWGEjo":{config:{style:"volcano"},position:{x:0,y:5,z:0},type:"deadly-block"},"deadly-block@1,2,0:ZWGEjo":{config:{style:"volcano"},position:{x:1,y:2,z:0},type:"deadly-block"},"deadly-block@1,3,0:ZWGEjo":{config:{style:"volcano"},position:{x:1,y:3,z:0},type:"deadly-block"},"deadly-block@2,1,0:ZWGEjo":{config:{style:"volcano"},position:{x:2,y:1,z:0},type:"deadly-block"},"deadly-block@2,4,0:ZWGEjo":{config:{style:"volcano"},position:{x:2,y:4,z:0},type:"deadly-block"},"deadly-block@3,1,0:ZWGEjo":{config:{style:"volcano"},position:{x:3,y:1,z:0},type:"deadly-block"},"deadly-block@3,4,0:ZWGEjo":{config:{style:"volcano"},position:{x:3,y:4,z:0},type:"deadly-block"},"deadly-block@4,2,0:ZWGEjo":{config:{style:"volcano"},position:{x:4,y:2,z:0},type:"deadly-block"},"deadly-block@4,3,0:ZWGEjo":{config:{style:"volcano"},position:{x:4,y:3,z:0},type:"deadly-block"},"deadly-block@5,0,0:ZWGEjo":{config:{style:"volcano"},position:{x:5,y:0,z:0},type:"deadly-block"},"deadly-block@5,5,0:ZWGEjo":{config:{style:"volcano"},position:{x:5,y:5,z:0},type:"deadly-block"},"door@0,2,0:249HWM":{config:{axis:"y",toRoom:"safari24"},position:{x:0,y:2,z:0},type:"door"},"door@2,0,0:AfHgb":{config:{axis:"x",toRoom:"safari22"},position:{x:2,y:0,z:0},type:"door"},"door@6,2,0:249Iti":{config:{axis:"y",toRoom:"safari26"},position:{x:6,y:2,z:0},type:"door"}},planet:"safari",size:{x:6,y:6},walls:{away:["shield","wall","window","window","wall","shield"],left:["wall","shield","none","none","shield","wall"]}},safari24:{color:"yellow",floor:"deadly",floorSkip:[],id:"safari24",items:{"block@1,2,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:2,z:0},type:"block"},"block@7,2,1:ZlEwyj":{config:{style:"organic"},position:{x:7,y:2,z:1},type:"block"},"deadly-block@4,0,1:ZWGEjo":{config:{style:"volcano"},position:{x:4,y:0,z:1},type:"deadly-block"},"deadly-block@4,1,0:ZWGEjo":{config:{style:"volcano"},position:{x:4,y:1,z:0},type:"deadly-block"},"deadly-block@4,1,1:ZWGEjo":{config:{style:"volcano"},position:{x:4,y:1,z:1},type:"deadly-block"},"deadly-block@4,4,0:ZWGEjo":{config:{style:"volcano"},position:{x:4,y:4,z:0},type:"deadly-block"},"deadly-block@4,4,1:ZWGEjo":{config:{style:"volcano"},position:{x:4,y:4,z:1},type:"deadly-block"},"deadly-block@4,5,1:ZWGEjo":{config:{style:"volcano"},position:{x:4,y:5,z:1},type:"deadly-block"},"door@0,2,1:249Idx":{config:{axis:"y",toRoom:"safari25"},position:{x:0,y:2,z:1},type:"door"},"door@8,2,3:249HH2":{config:{axis:"y",toRoom:"safari23"},position:{x:8,y:2,z:3},type:"door"},"movable-block@0,2,0:1EfFpg":{config:{style:"sandwich"},position:{x:0,y:2,z:0},type:"movable-block"}},planet:"safari",size:{x:8,y:6},walls:{away:["wall","window","wall","shield","shield","wall","window","wall"],left:["wall","shield","none","none","shield","wall"]}},safari25:{color:"cyan",floor:"deadly",floorSkip:[],id:"safari25",items:{"block@3,0,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:0,z:0},type:"block"},"block@3,4,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:4,z:0},type:"block"},"block@7,4,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:4,z:0},type:"block"},"door@3,0,3:ZH4JMp":{config:{axis:"x",toRoom:"safari19triple"},position:{x:3,y:0,z:3},type:"door"},"door@8,3,3:249HWM":{config:{axis:"y",toRoom:"safari24"},position:{x:8,y:3,z:3},type:"door"}},planet:"safari",size:{x:8,y:8},walls:{away:["wall","window","wall","shield","shield","wall","window","wall"],left:["wall","shield","wall","none","none","wall","window","wall"]}},safari26:{color:"white",floor:"safari",floorSkip:[],id:"safari26",items:{"ball@1,10,0:13y":{config:{},position:{x:1,y:10,z:0},type:"ball"},"barrier@4,0,0:Is9Xq":{config:{axis:"y"},position:{x:4,y:0,z:0},type:"barrier"},"barrier@4,0,1:Is9Xq":{config:{axis:"y"},position:{x:4,y:0,z:1},type:"barrier"},"barrier@4,0,2:Is9Xq":{config:{axis:"y"},position:{x:4,y:0,z:2},type:"barrier"},"barrier@4,1,0:Is9Xq":{config:{axis:"y"},position:{x:4,y:1,z:0},type:"barrier"},"barrier@4,1,1:Is9Xq":{config:{axis:"y"},position:{x:4,y:1,z:1},type:"barrier"},"barrier@4,1,2:Is9Xq":{config:{axis:"y"},position:{x:4,y:1,z:2},type:"barrier"},"barrier@4,10,0:Is9Xq":{config:{axis:"y"},position:{x:4,y:10,z:0},type:"barrier"},"barrier@4,10,1:Is9Xq":{config:{axis:"y"},position:{x:4,y:10,z:1},type:"barrier"},"barrier@4,10,2:Is9Xq":{config:{axis:"y"},position:{x:4,y:10,z:2},type:"barrier"},"barrier@4,11,0:Is9Xq":{config:{axis:"y"},position:{x:4,y:11,z:0},type:"barrier"},"barrier@4,11,1:Is9Xq":{config:{axis:"y"},position:{x:4,y:11,z:1},type:"barrier"},"barrier@4,11,2:Is9Xq":{config:{axis:"y"},position:{x:4,y:11,z:2},type:"barrier"},"barrier@4,2,0:Is9Xq":{config:{axis:"y"},position:{x:4,y:2,z:0},type:"barrier"},"barrier@4,2,1:Is9Xq":{config:{axis:"y"},position:{x:4,y:2,z:1},type:"barrier"},"barrier@4,2,2:Is9Xq":{config:{axis:"y"},position:{x:4,y:2,z:2},type:"barrier"},"barrier@4,3,0:Is9Xq":{config:{axis:"y"},position:{x:4,y:3,z:0},type:"barrier"},"barrier@4,3,1:Is9Xq":{config:{axis:"y"},position:{x:4,y:3,z:1},type:"barrier"},"barrier@4,3,2:Is9Xq":{config:{axis:"y"},position:{x:4,y:3,z:2},type:"barrier"},"barrier@4,4,0:Is9Xq":{config:{axis:"y"},position:{x:4,y:4,z:0},type:"barrier"},"barrier@4,4,1:Is9Xq":{config:{axis:"y"},position:{x:4,y:4,z:1},type:"barrier"},"barrier@4,4,2:Is9Xq":{config:{axis:"y"},position:{x:4,y:4,z:2},type:"barrier"},"barrier@4,5,0:Is9Xq":{config:{axis:"y"},position:{x:4,y:5,z:0},type:"barrier"},"barrier@4,5,1:Is9Xq":{config:{axis:"y"},position:{x:4,y:5,z:1},type:"barrier"},"barrier@4,5,2:Is9Xq":{config:{axis:"y"},position:{x:4,y:5,z:2},type:"barrier"},"barrier@4,6,0:Is9Xq":{config:{axis:"y"},position:{x:4,y:6,z:0},type:"barrier"},"barrier@4,6,1:Is9Xq":{config:{axis:"y"},position:{x:4,y:6,z:1},type:"barrier"},"barrier@4,6,2:Is9Xq":{config:{axis:"y"},position:{x:4,y:6,z:2},type:"barrier"},"barrier@4,7,0:Is9Xq":{config:{axis:"y"},position:{x:4,y:7,z:0},type:"barrier"},"barrier@4,7,1:Is9Xq":{config:{axis:"y"},position:{x:4,y:7,z:1},type:"barrier"},"barrier@4,7,2:Is9Xq":{config:{axis:"y"},position:{x:4,y:7,z:2},type:"barrier"},"barrier@4,8,0:Is9Xq":{config:{axis:"y"},position:{x:4,y:8,z:0},type:"barrier"},"barrier@4,8,1:Is9Xq":{config:{axis:"y"},position:{x:4,y:8,z:1},type:"barrier"},"barrier@4,8,2:Is9Xq":{config:{axis:"y"},position:{x:4,y:8,z:2},type:"barrier"},"barrier@4,9,0:Is9Xq":{config:{axis:"y"},position:{x:4,y:9,z:0},type:"barrier"},"barrier@4,9,1:Is9Xq":{config:{axis:"y"},position:{x:4,y:9,z:1},type:"barrier"},"barrier@4,9,2:Is9Xq":{config:{axis:"y"},position:{x:4,y:9,z:2},type:"barrier"},"block@7,0,3:ZlEwyj":{config:{style:"organic"},position:{x:7,y:0,z:3},type:"block"},"deadly-block@1,7,0:ZWGEjo":{config:{style:"volcano"},position:{x:1,y:7,z:0},type:"deadly-block"},"deadly-block@2,10,0:ZWGEjo":{config:{style:"volcano"},position:{x:2,y:10,z:0},type:"deadly-block"},"deadly-block@2,11,0:ZWGEjo":{config:{style:"volcano"},position:{x:2,y:11,z:0},type:"deadly-block"},"deadly-block@2,5,0:ZWGEjo":{config:{style:"volcano"},position:{x:2,y:5,z:0},type:"deadly-block"},"deadly-block@2,6,0:ZWGEjo":{config:{style:"volcano"},position:{x:2,y:6,z:0},type:"deadly-block"},"deadly-block@3,8,0:ZWGEjo":{config:{style:"volcano"},position:{x:3,y:8,z:0},type:"deadly-block"},"deadly-block@3,8,1:ZWGEjo":{config:{style:"volcano"},position:{x:3,y:8,z:1},type:"deadly-block"},"deadly-block@3,8,2:ZWGEjo":{config:{style:"volcano"},position:{x:3,y:8,z:2},type:"deadly-block"},"door@0,2,0:249HH2":{config:{axis:"y",toRoom:"safari23"},position:{x:0,y:2,z:0},type:"door"},"door@8,8,0:249IJ3":{config:{axis:"y",toRoom:"safari27"},position:{x:8,y:8,z:0},type:"door"},"pickup@7,0,4:1MkQY2":{config:{gives:"extra-life"},position:{x:7,y:0,z:4},type:"pickup"}},planet:"safari",size:{x:8,y:12},walls:{away:["wall","window","wall","shield","shield","wall","window","wall"],left:["shield","wall","window","window","wall","shield","wall","shield","none","none","shield","wall"]}},safari27:{color:"yellow",floor:"safari",floorSkip:[],id:"safari27",items:{"baddie@3,3,0:v0szb":{config:{which:"helicopter-bug"},position:{x:3,y:3,z:0},type:"baddie"},"baddie@4,2,0:v0szb":{config:{which:"helicopter-bug"},position:{x:4,y:2,z:0},type:"baddie"},"baddie@4,3,0:Z1iri44":{config:{which:"elephant"},position:{x:4,y:3,z:0},type:"baddie"},"door@0,2,4:249Iti":{config:{axis:"y",toRoom:"safari26"},position:{x:0,y:2,z:4},type:"door"},"door@8,2,4:249IYN":{config:{axis:"y",toRoom:"safari28"},position:{x:8,y:2,z:4},type:"door"},"spring@3,2,0:13y":{config:{},position:{x:3,y:2,z:0},type:"spring"}},planet:"safari",size:{x:8,y:6},walls:{away:["wall","window","wall","shield","shield","wall","window","wall"],left:["wall","shield","none","none","shield","wall"]}},safari28:{color:"yellow",floor:"safari",floorSkip:[],id:"safari28",items:{"deadly-block@4,3,0:ZWGEjo":{config:{style:"volcano"},position:{x:4,y:3,z:0},type:"deadly-block"},"door@0,3,0:249IJ3":{config:{axis:"y",toRoom:"safari27"},position:{x:0,y:3,z:0},type:"door"},"door@8,3,0:249Jfy":{config:{axis:"y",toRoom:"safari29"},position:{x:8,y:3,z:0},type:"door"},"fish@4,3,1:2eEoj9":{config:{alive:!1},position:{x:4,y:3,z:1},type:"fish"}},planet:"safari",size:{x:8,y:8},walls:{away:["wall","window","wall","shield","shield","wall","window","wall"],left:["wall","shield","wall","none","none","wall","window","wall"]}},safari29:{color:"white",floor:"safari",floorSkip:[],id:"safari29",items:{"baddie@7,7,0:2wEOE6":{config:{charging:!1,which:"cyberman"},position:{x:7,y:7,z:0},type:"baddie"},"deadly-block@2,2,0:ZWGEjo":{config:{style:"volcano"},position:{x:2,y:2,z:0},type:"deadly-block"},"deadly-block@3,0,0:ZWGEjo":{config:{style:"volcano"},position:{x:3,y:0,z:0},type:"deadly-block"},"deadly-block@3,1,0:ZWGEjo":{config:{style:"volcano"},position:{x:3,y:1,z:0},type:"deadly-block"},"door@0,3,0:249IYN":{config:{axis:"y",toRoom:"safari28"},position:{x:0,y:3,z:0},type:"door"},"door@8,3,0:249OV9":{config:{axis:"y",toRoom:"safari30"},position:{x:8,y:3,z:0},type:"door"}},planet:"safari",size:{x:8,y:8},walls:{away:["wall","window","wall","shield","shield","wall","window","wall"],left:["wall","shield","wall","none","none","wall","window","wall"]}},safari3:{color:"cyan",floor:"deadly",floorSkip:[],id:"safari3",items:{"block@1,0,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:0,z:0},type:"block"},"block@1,7,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:7,z:0},type:"block"},"block@2,0,0:ZlEwyj":{config:{style:"organic"},position:{x:2,y:0,z:0},type:"block"},"block@2,7,0:ZlEwyj":{config:{style:"organic"},position:{x:2,y:7,z:0},type:"block"},"door@1,0,5:baIQu":{config:{axis:"x",toRoom:"safari2"},position:{x:1,y:0,z:5},type:"door"},"door@1,8,5:baJn0":{config:{axis:"x",toRoom:"safari4"},position:{x:1,y:8,z:5},type:"door"},"lift@1,4,0:ZTwqo1":{config:{bottom:0,top:8},position:{x:1,y:4,z:0},type:"lift"}},planet:"safari",size:{x:4,y:8},walls:{away:["wall","none","none","wall"],left:["wall","window","wall","shield","shield","wall","window","wall"]}},safari30:{color:"cyan",floor:"safari",floorSkip:[],id:"safari30",items:{"door@0,0,0:Z2fKbM3":{config:{axis:"x",toRoom:"safari17fish"},position:{x:0,y:0,z:0},type:"door"},"door@0,3,5:249Jfy":{config:{axis:"y",toRoom:"safari29"},position:{x:0,y:3,z:5},type:"door"}},planet:"safari",size:{x:2,y:8},walls:{away:["wall","wall"],left:["wall","window","wall","shield","shield","wall","window","wall"]}},safari31:{color:"green",floor:"deadly",floorSkip:[],id:"safari31",items:{"block@0,3,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:3,z:0},type:"block"},"block@0,4,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:4,z:0},type:"block"},"block@0,5,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:5,z:0},type:"block"},"block@0,6,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:6,z:0},type:"block"},"block@1,5,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:5,z:0},type:"block"},"block@1,6,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:6,z:0},type:"block"},"block@1,7,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:7,z:0},type:"block"},"block@2,6,0:ZlEwyj":{config:{style:"organic"},position:{x:2,y:6,z:0},type:"block"},"block@7,3,1:ZlEwyj":{config:{style:"organic"},position:{x:7,y:3,z:1},type:"block"},"block@7,4,1:ZlEwyj":{config:{style:"organic"},position:{x:7,y:4,z:1},type:"block"},"charles@6,6,1:13y":{config:{},position:{x:6,y:6,z:1},type:"charles"},"deadly-block@0,0,0:ZWGEjo":{config:{style:"volcano"},position:{x:0,y:0,z:0},type:"deadly-block"},"deadly-block@1,0,0:ZWGEjo":{config:{style:"volcano"},position:{x:1,y:0,z:0},type:"deadly-block"},"deadly-block@2,0,0:ZWGEjo":{config:{style:"volcano"},position:{x:2,y:0,z:0},type:"deadly-block"},"deadly-block@3,0,0:ZWGEjo":{config:{style:"volcano"},position:{x:3,y:0,z:0},type:"deadly-block"},"deadly-block@4,0,0:ZWGEjo":{config:{style:"volcano"},position:{x:4,y:0,z:0},type:"deadly-block"},"deadly-block@5,0,0:ZWGEjo":{config:{style:"volcano"},position:{x:5,y:0,z:0},type:"deadly-block"},"deadly-block@6,0,0:ZWGEjo":{config:{style:"volcano"},position:{x:6,y:0,z:0},type:"deadly-block"},"deadly-block@6,1,0:ZWGEjo":{config:{style:"volcano"},position:{x:6,y:1,z:0},type:"deadly-block"},"deadly-block@6,2,0:ZWGEjo":{config:{style:"volcano"},position:{x:6,y:2,z:0},type:"deadly-block"},"deadly-block@6,3,0:ZWGEjo":{config:{style:"volcano"},position:{x:6,y:3,z:0},type:"deadly-block"},"deadly-block@6,4,0:ZWGEjo":{config:{style:"volcano"},position:{x:6,y:4,z:0},type:"deadly-block"},"deadly-block@6,5,0:ZWGEjo":{config:{style:"volcano"},position:{x:6,y:5,z:0},type:"deadly-block"},"deadly-block@6,6,0:ZWGEjo":{config:{style:"volcano"},position:{x:6,y:6,z:0},type:"deadly-block"},"deadly-block@7,0,0:ZWGEjo":{config:{style:"volcano"},position:{x:7,y:0,z:0},type:"deadly-block"},"door@0,3,1:Z17iDQP":{config:{axis:"y",toRoom:"safari17fish"},position:{x:0,y:3,z:1},type:"door"},"door@8,3,5:249PrE":{config:{axis:"y",toRoom:"safari32"},position:{x:8,y:3,z:5},type:"door"},"joystick@0,6,1:13y":{config:{},position:{x:0,y:6,z:1},type:"joystick"},"joystick@1,5,1:13y":{config:{},position:{x:1,y:5,z:1},type:"joystick"},"joystick@1,7,1:13y":{config:{},position:{x:1,y:7,z:1},type:"joystick"},"joystick@2,6,1:13y":{config:{},position:{x:2,y:6,z:1},type:"joystick"},"portable-block@4,0,1:Z1SKpmn":{config:{style:"drum"},position:{x:4,y:0,z:1},type:"portable-block"}},planet:"safari",size:{x:8,y:8},walls:{away:["wall","window","wall","shield","shield","wall","window","wall"],left:["wall","shield","wall","none","none","wall","window","wall"]}},safari32:{color:"magenta",floor:"safari",floorSkip:[],id:"safari32",items:{"door@0,0,0:249PbT":{config:{axis:"y",toRoom:"safari31"},position:{x:0,y:0,z:0},type:"door"},"door@8,0,0:249PHp":{config:{axis:"y",toRoom:"safari33"},position:{x:8,y:0,z:0},type:"door"}},planet:"safari",size:{x:8,y:2},walls:{away:["wall","window","wall","shield","shield","wall","window","wall"],left:["none","none"]}},safari33:{color:"cyan",floor:"safari",floorSkip:[],id:"safari33",items:{"baddie@4,4,0:Z1iri44":{config:{which:"elephant"},position:{x:4,y:4,z:0},type:"baddie"},"block@7,3,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:3,z:0},type:"block"},"block@7,3,1:ZlEwyj":{config:{style:"organic"},position:{x:7,y:3,z:1},type:"block"},"block@7,3,2:ZlEwyj":{config:{style:"organic"},position:{x:7,y:3,z:2},type:"block"},"door@0,3,0:249PrE":{config:{axis:"y",toRoom:"safari32"},position:{x:0,y:3,z:0},type:"door"},"door@3,8,5:ZQtMqt":{config:{axis:"x",toRoom:"safari37crown"},position:{x:3,y:8,z:5},type:"door"},"door@8,3,5:249PXa":{config:{axis:"y",toRoom:"safari34"},position:{x:8,y:3,z:5},type:"door"},"movable-block@1,1,0:Z15GVb5":{config:{style:"anvil"},position:{x:1,y:1,z:0},type:"movable-block"}},planet:"safari",roomAbove:"safari36",size:{x:8,y:8},walls:{away:["wall","shield","wall","none","none","wall","window","wall"],left:["wall","shield","wall","none","none","wall","window","wall"]}},safari34:{color:"yellow",floor:"safari",floorSkip:[],id:"safari34",items:{"block@4,0,3:ZlEwyj":{config:{style:"organic"},position:{x:4,y:0,z:3},type:"block"},"block@4,1,3:ZlEwyj":{config:{style:"organic"},position:{x:4,y:1,z:3},type:"block"},"block@4,2,3:ZlEwyj":{config:{style:"organic"},position:{x:4,y:2,z:3},type:"block"},"block@4,3,3:ZlEwyj":{config:{style:"organic"},position:{x:4,y:3,z:3},type:"block"},"block@4,4,3:ZlEwyj":{config:{style:"organic"},position:{x:4,y:4,z:3},type:"block"},"block@4,5,3:ZlEwyj":{config:{style:"organic"},position:{x:4,y:5,z:3},type:"block"},"block@4,6,3:ZlEwyj":{config:{style:"organic"},position:{x:4,y:6,z:3},type:"block"},"block@4,7,3:ZlEwyj":{config:{style:"organic"},position:{x:4,y:7,z:3},type:"block"},"deadly-block@4,0,0:ZWGEjo":{config:{style:"volcano"},position:{x:4,y:0,z:0},type:"deadly-block"},"deadly-block@4,1,0:ZWGEjo":{config:{style:"volcano"},position:{x:4,y:1,z:0},type:"deadly-block"},"deadly-block@4,2,0:ZWGEjo":{config:{style:"volcano"},position:{x:4,y:2,z:0},type:"deadly-block"},"deadly-block@4,3,0:ZWGEjo":{config:{style:"volcano"},position:{x:4,y:3,z:0},type:"deadly-block"},"deadly-block@4,4,0:ZWGEjo":{config:{style:"volcano"},position:{x:4,y:4,z:0},type:"deadly-block"},"deadly-block@4,5,0:ZWGEjo":{config:{style:"volcano"},position:{x:4,y:5,z:0},type:"deadly-block"},"deadly-block@4,6,0:ZWGEjo":{config:{style:"volcano"},position:{x:4,y:6,z:0},type:"deadly-block"},"deadly-block@4,7,0:ZWGEjo":{config:{style:"volcano"},position:{x:4,y:7,z:0},type:"deadly-block"},"door@0,3,0:249PHp":{config:{axis:"y",toRoom:"safari33"},position:{x:0,y:3,z:0},type:"door"},"lift@7,7,0:ZTwqnv":{config:{bottom:0,top:9},position:{x:7,y:7,z:0},type:"lift"},"portable-block@1,0,0:Z1SKpmn":{config:{style:"drum"},position:{x:1,y:0,z:0},type:"portable-block"},"teleporter@3,3,0:1mtSsV":{config:{toRoom:"safari1"},position:{x:3,y:3,z:0},type:"teleporter"},"teleporter@3,4,0:1mtSsV":{config:{toRoom:"safari1"},position:{x:3,y:4,z:0},type:"teleporter"}},planet:"safari",roomAbove:"safari35",size:{x:8,y:8},walls:{away:["wall","window","wall","shield","shield","wall","window","wall"],left:["wall","window","wall","shield","shield","wall","window","wall"]}},safari35:{color:"yellow",floor:"none",floorSkip:[],id:"safari35",items:{"block@0,3,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:3,z:0},type:"block"},"block@7,7,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:7,z:0},type:"block"},"deadly-block@0,5,0:ZWGEjo":{config:{style:"volcano"},position:{x:0,y:5,z:0},type:"deadly-block"},"deadly-block@1,5,0:ZWGEjo":{config:{style:"volcano"},position:{x:1,y:5,z:0},type:"deadly-block"},"deadly-block@2,5,0:ZWGEjo":{config:{style:"volcano"},position:{x:2,y:5,z:0},type:"deadly-block"},"deadly-block@3,5,0:ZWGEjo":{config:{style:"volcano"},position:{x:3,y:5,z:0},type:"deadly-block"},"deadly-block@4,5,0:ZWGEjo":{config:{style:"volcano"},position:{x:4,y:5,z:0},type:"deadly-block"},"deadly-block@5,5,0:ZWGEjo":{config:{style:"volcano"},position:{x:5,y:5,z:0},type:"deadly-block"},"deadly-block@6,5,0:ZWGEjo":{config:{style:"volcano"},position:{x:6,y:5,z:0},type:"deadly-block"},"deadly-block@7,5,0:ZWGEjo":{config:{style:"volcano"},position:{x:7,y:5,z:0},type:"deadly-block"},"door@0,3,1:249QtF":{config:{axis:"y",toRoom:"safari36"},position:{x:0,y:3,z:1},type:"door"},"movable-block@7,5,1:1EfFpg":{config:{style:"sandwich"},position:{x:7,y:5,z:1},type:"movable-block"}},planet:"safari",roomBelow:"safari34",size:{x:8,y:8},walls:{away:["wall","window","wall","shield","shield","wall","window","wall"],left:["wall","window","wall","shield","shield","wall","window","wall"]}},safari36:{color:"cyan",floor:"none",floorSkip:[],id:"safari36",items:{"block@4,3,0:ZlEwyj":{config:{style:"organic"},position:{x:4,y:3,z:0},type:"block"},"block@4,4,0:ZlEwyj":{config:{style:"organic"},position:{x:4,y:4,z:0},type:"block"},"block@4,5,0:ZlEwyj":{config:{style:"organic"},position:{x:4,y:5,z:0},type:"block"},"block@4,6,0:ZlEwyj":{config:{style:"organic"},position:{x:4,y:6,z:0},type:"block"},"block@5,3,0:ZlEwyj":{config:{style:"organic"},position:{x:5,y:3,z:0},type:"block"},"block@6,3,0:ZlEwyj":{config:{style:"organic"},position:{x:6,y:3,z:0},type:"block"},"block@7,3,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:3,z:0},type:"block"},"block@7,4,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:4,z:0},type:"block"},"deadly-block@4,3,1:ZaRhUQ":{config:{style:"spikes"},position:{x:4,y:3,z:1},type:"deadly-block"},"door@8,3,2:249QdU":{config:{axis:"y",toRoom:"safari35"},position:{x:8,y:3,z:2},type:"door"}},planet:"safari",roomBelow:"safari33",size:{x:8,y:8},walls:{away:["wall","window","wall","shield","shield","wall","window","wall"],left:["wall","shield","wall","none","none","wall","window","wall"]}},safari37crown:{color:"white",floor:"safari",floorSkip:[],id:"safari37crown",items:{"baddie@7,2,1:yqEry":{config:{startDirection:"right",which:"american-football-head"},position:{x:7,y:2,z:1},type:"baddie"},"block@0,2,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:2,z:0},type:"block"},"block@0,4,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:4,z:0},type:"block"},"block@0,7,0:Z1bIU4r":{config:{style:"artificial"},position:{x:0,y:7,z:0},type:"block"},"block@0,7,1:Z1bIU4r":{config:{style:"artificial"},position:{x:0,y:7,z:1},type:"block"},"block@0,7,2:Z1bIU4r":{config:{style:"artificial"},position:{x:0,y:7,z:2},type:"block"},"block@0,7,3:Z1bIU4r":{config:{style:"artificial"},position:{x:0,y:7,z:3},type:"block"},"block@0,7,4:Z1bIU4r":{config:{style:"artificial"},position:{x:0,y:7,z:4},type:"block"},"block@0,7,5:Z1bIU4r":{config:{style:"artificial"},position:{x:0,y:7,z:5},type:"block"},"block@1,2,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:2,z:0},type:"block"},"block@1,4,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:4,z:0},type:"block"},"block@2,2,0:ZlEwyj":{config:{style:"organic"},position:{x:2,y:2,z:0},type:"block"},"block@2,4,0:ZlEwyj":{config:{style:"organic"},position:{x:2,y:4,z:0},type:"block"},"block@3,2,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:2,z:0},type:"block"},"block@3,4,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:4,z:0},type:"block"},"block@4,2,0:ZlEwyj":{config:{style:"organic"},position:{x:4,y:2,z:0},type:"block"},"block@4,4,0:ZlEwyj":{config:{style:"organic"},position:{x:4,y:4,z:0},type:"block"},"block@5,2,0:ZlEwyj":{config:{style:"organic"},position:{x:5,y:2,z:0},type:"block"},"block@5,4,0:ZlEwyj":{config:{style:"organic"},position:{x:5,y:4,z:0},type:"block"},"block@6,2,0:ZlEwyj":{config:{style:"organic"},position:{x:6,y:2,z:0},type:"block"},"block@6,3,0:Z1qu960":{config:{style:"tower"},position:{x:6,y:3,z:0},type:"block"},"block@6,3,1:Z1qu960":{config:{style:"tower"},position:{x:6,y:3,z:1},type:"block"},"block@6,3,2:Z1qu960":{config:{style:"tower"},position:{x:6,y:3,z:2},type:"block"},"block@6,4,0:ZlEwyj":{config:{style:"organic"},position:{x:6,y:4,z:0},type:"block"},"block@7,2,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:2,z:0},type:"block"},"block@7,3,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:3,z:0},type:"block"},"block@7,4,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:4,z:0},type:"block"},"door@3,0,0:AfPwj":{config:{axis:"x",toRoom:"safari33"},position:{x:3,y:0,z:0},type:"door"},"movable-block@0,7,6:Z15GVb5":{config:{style:"anvil"},position:{x:0,y:7,z:6},type:"movable-block"},"movable-block@3,5,0:Z15GVb5":{config:{style:"anvil"},position:{x:3,y:5,z:0},type:"movable-block"},"pickup@0,7,7:2fxkqv":{config:{gives:"crown"},position:{x:0,y:7,z:7},type:"pickup"},"portable-block@7,3,1:Z1SKpmn":{config:{style:"drum"},position:{x:7,y:3,z:1},type:"portable-block"}},planet:"safari",size:{x:8,y:8},walls:{away:["wall","window","wall","shield","shield","wall","window","wall"],left:["wall","window","wall","shield","shield","wall","window","wall"]}},safari4:{color:"cyan",floor:"safari",floorSkip:[],id:"safari4",items:{"baddie@7,4,1:Z1w4InY":{config:{which:"dalek"},position:{x:7,y:4,z:1},type:"baddie"},"block@3,7,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:7,z:0},type:"block"},"block@3,7,1:ZlEwyj":{config:{style:"organic"},position:{x:3,y:7,z:1},type:"block"},"block@3,7,3:ZlEwyj":{config:{style:"organic"},position:{x:3,y:7,z:3},type:"block"},"block@7,3,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:3,z:0},type:"block"},"block@7,3,1:ZlEwyj":{config:{style:"organic"},position:{x:7,y:3,z:1},type:"block"},"block@7,3,2:ZlEwyj":{config:{style:"organic"},position:{x:7,y:3,z:2},type:"block"},"block@7,4,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:4,z:0},type:"block"},"door@3,0,0:baJ7f":{config:{axis:"x",toRoom:"safari3"},position:{x:3,y:0,z:0},type:"door"},"door@3,8,5:AfANk":{config:{axis:"x",toRoom:"safari18"},position:{x:3,y:8,z:5},type:"door"},"door@8,3,5:Z2e1dI5":{config:{axis:"y",toRoom:"safari5"},position:{x:8,y:3,z:5},type:"door"}},planet:"safari",size:{x:8,y:8},walls:{away:["wall","shield","wall","none","none","wall","window","wall"],left:["wall","shield","wall","none","none","wall","window","wall"]}},safari5:{color:"yellow",floor:"safari",floorSkip:[],id:"safari5",items:{"door@0,1,0:Z2e1dXP":{config:{axis:"y",toRoom:"safari4"},position:{x:0,y:1,z:0},type:"door"},"door@8,1,4:1wrwXV":{config:{axis:"y",toRoom:"safari6triple"},position:{x:8,y:1,z:4},type:"door"},"hush-puppy@5,1,0:13y":{config:{},position:{x:5,y:1,z:0},type:"hush-puppy"},"hush-puppy@5,2,0:13y":{config:{},position:{x:5,y:2,z:0},type:"hush-puppy"},"hush-puppy@6,1,1:13y":{config:{},position:{x:6,y:1,z:1},type:"hush-puppy"},"hush-puppy@6,2,1:13y":{config:{},position:{x:6,y:2,z:1},type:"hush-puppy"},"hush-puppy@7,1,2:13y":{config:{},position:{x:7,y:1,z:2},type:"hush-puppy"},"hush-puppy@7,2,2:13y":{config:{},position:{x:7,y:2,z:2},type:"hush-puppy"}},planet:"safari",size:{x:8,y:4},walls:{away:["wall","window","wall","shield","shield","wall","window","wall"],left:["wall","none","none","wall"]}},safari6triple:{color:"white",floor:"deadly",floorSkip:[{x:12,y:12},{x:12,y:11},{x:12,y:10},{x:12,y:9},{x:12,y:8},{x:12,y:7},{x:12,y:6},{x:11,y:12},{x:11,y:11},{x:11,y:10},{x:11,y:9},{x:11,y:8},{x:11,y:7},{x:10,y:12},{x:10,y:11},{x:10,y:10},{x:10,y:9},{x:10,y:8},{x:10,y:7},{x:9,y:12},{x:9,y:11},{x:9,y:10},{x:9,y:9},{x:9,y:8},{x:9,y:7},{x:8,y:12},{x:8,y:11},{x:8,y:10},{x:8,y:9},{x:8,y:8},{x:8,y:7},{x:7,y:12},{x:7,y:11},{x:7,y:10},{x:7,y:9},{x:7,y:8},{x:7,y:7},{x:6,y:12},{x:-1,y:12}],id:"safari6triple",items:{"block@0,0,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:0,z:0},type:"block"},"block@0,11,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:11,z:0},type:"block"},"block@0,2,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:2,z:0},type:"block"},"block@0,3,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:3,z:0},type:"block"},"block@1,10,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:10,z:0},type:"block"},"block@1,8,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:8,z:0},type:"block"},"block@10,2,0:ZlEwyj":{config:{style:"organic"},position:{x:10,y:2,z:0},type:"block"},"block@10,4,0:ZlEwyj":{config:{style:"organic"},position:{x:10,y:4,z:0},type:"block"},"block@10,5,0:ZlEwyj":{config:{style:"organic"},position:{x:10,y:5,z:0},type:"block"},"block@11,0,0:ZlEwyj":{config:{style:"organic"},position:{x:11,y:0,z:0},type:"block"},"block@11,2,0:ZlEwyj":{config:{style:"organic"},position:{x:11,y:2,z:0},type:"block"},"block@2,0,0:ZlEwyj":{config:{style:"organic"},position:{x:2,y:0,z:0},type:"block"},"block@3,0,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:0,z:0},type:"block"},"block@3,2,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:2,z:0},type:"block"},"block@3,8,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:8,z:0},type:"block"},"block@5,2,0:ZlEwyj":{config:{style:"organic"},position:{x:5,y:2,z:0},type:"block"},"block@5,5,0:ZlEwyj":{config:{style:"organic"},position:{x:5,y:5,z:0},type:"block"},"block@5,6,0:ZlEwyj":{config:{style:"organic"},position:{x:5,y:6,z:0},type:"block"},"block@5,8,0:ZlEwyj":{config:{style:"organic"},position:{x:5,y:8,z:0},type:"block"},"block@6,2,0:ZlEwyj":{config:{style:"organic"},position:{x:6,y:2,z:0},type:"block"},"block@6,5,0:ZlEwyj":{config:{style:"organic"},position:{x:6,y:5,z:0},type:"block"},"block@7,0,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:0,z:0},type:"block"},"block@7,2,0:ZlEwyj":{config:{style:"organic"},position:{x:7,y:2,z:0},type:"block"},"block@8,5,0:ZlEwyj":{config:{style:"organic"},position:{x:8,y:5,z:0},type:"block"},"block@9,0,0:ZlEwyj":{config:{style:"organic"},position:{x:9,y:0,z:0},type:"block"},"door@0,2,1:Z2e1dI5":{config:{axis:"y",toRoom:"safari5"},position:{x:0,y:2,z:1},type:"door"},"door@6,8,2:Z2e1dcz":{config:{axis:"y",toRoom:"safari7"},position:{x:6,y:8,z:2},type:"door"},"door@8,6,2:baK9g":{config:{axis:"x",toRoom:"safari7"},position:{x:8,y:6,z:2},type:"door"},"pickup@0,11,1:DHWsf":{config:{gives:"shield"},position:{x:0,y:11,z:1},type:"pickup"},"wall@10,6,0:Z1FfuBR":{config:{side:"away",style:"shield"},position:{x:10,y:6,z:0},type:"wall"},"wall@11,6,0:Z1Jyjna":{config:{side:"away",style:"wall"},position:{x:11,y:6,z:0},type:"wall"},"wall@6,10,0:BKGHK":{config:{side:"left",style:"shield"},position:{x:6,y:10,z:0},type:"wall"},"wall@6,11,0:rwVyt":{config:{side:"left",style:"wall"},position:{x:6,y:11,z:0},type:"wall"},"wall@6,6,0:Z1Jyjna":{config:{side:"away",style:"wall"},position:{x:6,y:6,z:0},type:"wall"},"wall@6,6,0:rwVyt":{config:{side:"left",style:"wall"},position:{x:6,y:6,z:0},type:"wall"},"wall@6,7,0:BKGHK":{config:{side:"left",style:"shield"},position:{x:6,y:7,z:0},type:"wall"},"wall@7,6,0:Z1FfuBR":{config:{side:"away",style:"shield"},position:{x:7,y:6,z:0},type:"wall"}},planet:"safari",size:{x:13,y:13},walls:{away:["shield","wall","window","window","wall","shield","none","none","none","none","none","none","none"],left:["shield","wall","window","window","wall","shield","none","none","none","none","none","none","none"]}},safari7:{color:"magenta",floor:"deadly",floorSkip:[],id:"safari7",items:{"block@0,3,0:ZlEwyj":{config:{style:"organic"},position:{x:0,y:3,z:0},type:"block"},"block@1,3,0:ZlEwyj":{config:{style:"organic"},position:{x:1,y:3,z:0},type:"block"},"block@2,0,0:ZlEwyj":{config:{style:"organic"},position:{x:2,y:0,z:0},type:"block"},"block@2,1,0:ZlEwyj":{config:{style:"organic"},position:{x:2,y:1,z:0},type:"block"},"block@2,2,0:ZlEwyj":{config:{style:"organic"},position:{x:2,y:2,z:0},type:"block"},"block@2,3,0:ZlEwyj":{config:{style:"organic"},position:{x:2,y:3,z:0},type:"block"},"block@3,3,0:ZlEwyj":{config:{style:"organic"},position:{x:3,y:3,z:0},type:"block"},"block@4,3,0:ZlEwyj":{config:{style:"organic"},position:{x:4,y:3,z:0},type:"block"},"block@5,3,0:ZlEwyj":{config:{style:"organic"},position:{x:5,y:3,z:0},type:"block"},"door@0,2,1:1wrwXV":{config:{axis:"y",toRoom:"safari6triple"},position:{x:0,y:2,z:1},type:"door"},"door@2,0,1:1OPO8R":{config:{axis:"x",toRoom:"safari6triple"},position:{x:2,y:0,z:1},type:"door"},"door@6,2,2:Z2e1cVO":{config:{axis:"y",toRoom:"safari8"},position:{x:6,y:2,z:2},type:"door"}},planet:"safari",size:{x:6,y:6},walls:{away:["shield","wall","window","window","wall","shield"],left:["wall","shield","none","none","shield","wall"]}},safari8:{color:"green",floor:"safari",floorSkip:[],id:"safari8",items:{"door@0,0,1:Z2e1dcz":{config:{axis:"y",toRoom:"safari7"},position:{x:0,y:0,z:1},type:"door"},"door@8,0,1:Z2e1cG4":{config:{axis:"y",toRoom:"safari9"},position:{x:8,y:0,z:1},type:"door"}},planet:"safari",size:{x:8,y:2},walls:{away:["wall","window","wall","shield","shield","wall","window","wall"],left:["none","none"]}},safari9:{color:"green",floor:"none",floorSkip:[],id:"safari9",items:{"block@0,2,3:ZlEwyj":{config:{style:"organic"},position:{x:0,y:2,z:3},type:"block"},"block@7,2,3:ZlEwyj":{config:{style:"organic"},position:{x:7,y:2,z:3},type:"block"},"deadly-block@0,1,2:ZWGEjo":{config:{style:"volcano"},position:{x:0,y:1,z:2},type:"deadly-block"},"deadly-block@1,1,2:ZWGEjo":{config:{style:"volcano"},position:{x:1,y:1,z:2},type:"deadly-block"},"deadly-block@2,1,2:ZWGEjo":{config:{style:"volcano"},position:{x:2,y:1,z:2},type:"deadly-block"},"deadly-block@3,1,2:ZWGEjo":{config:{style:"volcano"},position:{x:3,y:1,z:2},type:"deadly-block"},"deadly-block@4,1,2:ZWGEjo":{config:{style:"volcano"},position:{x:4,y:1,z:2},type:"deadly-block"},"deadly-block@5,1,2:ZWGEjo":{config:{style:"volcano"},position:{x:5,y:1,z:2},type:"deadly-block"},"deadly-block@6,1,2:ZWGEjo":{config:{style:"volcano"},position:{x:6,y:1,z:2},type:"deadly-block"},"deadly-block@7,1,2:ZWGEjo":{config:{style:"volcano"},position:{x:7,y:1,z:2},type:"deadly-block"},"door@0,2,4:Z2e1cVO":{config:{axis:"y",toRoom:"safari8"},position:{x:0,y:2,z:4},type:"door"},"door@8,2,5:249zWp":{config:{axis:"y",toRoom:"safari14"},position:{x:8,y:2,z:5},type:"door"},"movable-block@0,1,3:1EfFpg":{config:{style:"sandwich"},position:{x:0,y:1,z:3},type:"movable-block"}},planet:"safari",roomBelow:"safari10",size:{x:8,y:6},walls:{away:["wall","window","wall","shield","shield","wall","window","wall"],left:["wall","shield","none","none","shield","wall"]}}}};var bI=function(t){var e=0;if(t.length==0)return e;for(var o=0;o<t.length;o++){var n=t.charCodeAt(o);e=(e<<5)-e+n,e=e&e}return e},xI=function(t,e){var o="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";e=e||62;var n=[],i,r="",s=t<0?"-":"";for(t=Math.abs(t);t>=e;)i=t%e,t=Math.floor(t/e),n.push(o[i]);t>0&&n.push(o[t]);for(var l=n.length-1;l>=0;l--)r+=n[l];return s+r},kI=function(t){var e=typeof t;if(e==="string"||e==="number"){var o=xI(bI(String(t)),61);return o.replace("-","Z")}else throw new Error("Unexpected input type")},wI=kI;const vI=ni(wI);function zI(t){var e="";return o(t),e;function o(i){if(i===null||typeof i!="object"||i.toJSON!=null)e+=JSON.stringify(i);else if(Array.isArray(i)){e+="[";var r=!1;i.forEach(function(l){r&&(e+=","),r=!0,l===void 0&&(l=null),o(l)}),e+="]"}else{e+="{";var s=Object.keys(i).filter(function(l){return i[l]!==void 0}).sort();s.forEach(function(l,a){return n(i,l,a)}),e+="}"}}function n(i,r,s){s>0&&(e+=","),e+=JSON.stringify(r),e+=":",o(i[r])}}const Pn=t=>Object.fromEntries(t.map(e=>[`${e.type}@${e.position.x},${e.position.y},${e.position.z}:${vI(zI(e.config))}`,e])),Tn=(t,e,o)=>{const{walls:n}=nf[e];function*i(r){const s=n.length;for(let l=0;;l++)o?.[r]?.includes(l)?yield"none":yield n[l%s]}return{away:[...i("x").take(t.x)],left:[...i("y").take(t.y)]}},SI=()=>{const t=[{type:"deadly-block",config:{style:"volcano"},position:{x:6,y:6,z:0}},{type:"block",config:{style:"organic"},position:{x:4,y:6,z:0}},{type:"baddie",config:{which:"cyberman",charging:!0,startDirection:"away"},position:{x:6,y:0,z:0}}];function*e(){for(let o=0;o<mo.length;o++){const n=mo[o];for(let i=0;i<mo.length;i++){const r=di[i];yield[`${n}-${r}`,{size:{x:8,y:8},walls:Tn({x:8,y:8},n,{x:[4,5],y:[4,5]}),color:r,floorSkip:[],floor:n,planet:n,items:Pn([{type:"teleporter",position:{x:2,y:2,z:0},config:{toRoom:"doorsRoom"}},{type:"door",position:{x:0,y:0,z:3},config:{axis:"x",toRoom:`${n}-${di[(di.length+i-1)%di.length]}`}},{type:"door",position:{x:4,y:8,z:3},config:{axis:"x",toRoom:`${n}-${di[(i+1)%di.length]}`}},{type:"door",position:{x:0,y:4,z:3},config:{axis:"y",toRoom:`${mo[(mo.length+o-1)%mo.length]}-${r}`}},{type:"door",position:{x:8,y:4,z:3},config:{axis:"y",toRoom:`${mo[(mo.length+o+1)%mo.length]}-${r}`}},...t]),id:`${n}-${r}`}]}}}return Object.fromEntries(e())},EI={doorsRoom:{size:{x:8,y:5},walls:Tn({x:8,y:5},"blacktooth"),floor:"blacktooth",floorSkip:[],id:"doorsRoom",items:Pn([{type:"teleporter",config:{toRoom:"blacktooth-cyan"},position:{x:1,y:0,z:0}},{type:"door",config:{toRoom:"deep",axis:"x"},position:{x:1,y:0,z:0}},{type:"door",config:{toRoom:"wide",axis:"x"},position:{x:3,y:0,z:1}},{type:"door",config:{toRoom:"big",axis:"x"},position:{x:5,y:0,z:2}},{type:"door",config:{toRoom:"zRoom",axis:"x"},position:{x:7,y:0,z:3}}]),planet:"blacktooth",color:"cyan"},zRoom:{size:{x:13,y:8},walls:Tn({x:13,y:8},"egyptus",{x:[8,9],y:[]}),floor:"deadly",floorSkip:[],id:"zRoom",items:Pn([{type:"door",config:{toRoom:"doorsRoom",axis:"x"},position:{x:1,y:0,z:1}},{type:"sceneryPlayer",config:{which:"head"},position:{x:1.5,y:-.9,z:1}},{type:"door",config:{toRoom:"doorsRoom",axis:"x"},position:{x:3,y:0,z:1}},{type:"sceneryPlayer",config:{which:"heels"},position:{x:3.5,y:-.4,z:1}},{type:"door",config:{toRoom:"doorsRoom",axis:"x"},position:{x:5,y:0,z:1}},{type:"sceneryPlayer",config:{which:"heels"},position:{x:6,y:0,z:1}},{type:"door",config:{toRoom:"doorsRoom",axis:"x"},position:{x:8,y:8,z:1}},{type:"sceneryPlayer",config:{which:"head"},position:{x:8.5,y:7.5,z:1}},{type:"block",config:{style:"organic"},position:{x:5,y:5,z:0}},{type:"block",config:{style:"organic"},position:{x:5.8,y:5.8,z:1}},{type:"block",config:{style:"organic"},position:{x:5,y:0,z:9}},{type:"block",config:{style:"organic"},position:{x:5,y:0,z:8}},{type:"block",config:{style:"organic"},position:{x:5,y:0,z:7}},{type:"block",config:{style:"organic"},position:{x:5,y:0,z:6}},{type:"block",config:{style:"organic"},position:{x:5,y:0,z:5}},{type:"block",config:{style:"organic"},position:{x:5,y:0,z:4}},{type:"block",config:{style:"organic"},position:{x:5,y:0,z:3}},{type:"block",config:{style:"organic"},position:{x:5,y:0,z:2}},{type:"block",config:{style:"organic"},position:{x:5,y:0,z:1}},{type:"block",config:{style:"organic"},position:{x:5,y:0,z:0}},{type:"block",config:{style:"organic"},position:{x:10,y:6,z:5}},{type:"block",config:{style:"organic"},position:{x:10,y:6,z:4}},{type:"block",config:{style:"organic"},position:{x:10,y:6,z:3}},{type:"block",config:{style:"organic"},position:{x:10,y:6,z:2}},{type:"block",config:{style:"organic"},position:{x:10,y:6,z:1}},{type:"block",config:{style:"organic"},position:{x:10,y:6,z:0}},{type:"block",config:{style:"organic"},position:{x:2,y:4,z:0}},{type:"charles",config:{},position:{x:2,y:4,z:1}},{type:"block",config:{style:"organic"},position:{x:0,y:4,z:0}},{type:"charles",config:{},position:{x:0,y:4,z:1}},{type:"barrier",config:{axis:"y"},position:{x:1,y:1,z:2}},{type:"barrier",config:{axis:"y"},position:{x:1,y:2,z:2}},{type:"barrier",config:{axis:"y"},position:{x:1,y:2,z:1}},{type:"barrier",config:{axis:"y"},position:{x:1,y:2,z:0}},{type:"barrier",config:{axis:"y"},position:{x:1,y:3,z:3}},{type:"barrier",config:{axis:"y"},position:{x:1,y:4,z:3}},{type:"barrier",config:{axis:"y"},position:{x:1,y:3,z:2}},{type:"barrier",config:{axis:"y"},position:{x:1,y:4,z:2}},{type:"teleporter",config:{toRoom:"doorsRoom"},position:{x:0,y:0,z:0}},{type:"teleporter",config:{toRoom:"doorsRoom"},position:{x:0,y:1,z:.5}},{type:"teleporter",config:{toRoom:"doorsRoom"},position:{x:1,y:1,z:0}},{type:"teleporter",config:{toRoom:"doorsRoom"},position:{x:2,y:2,z:0}}]),planet:"egyptus",color:"cyan"},wide:{size:{x:10,y:3},walls:Tn({x:10,y:3},"market"),floor:"deadly",floorSkip:[],id:"wide",items:Pn([{type:"door",config:{toRoom:"doorsRoom",axis:"x"},position:{x:1,y:0,z:1}}]),planet:"market",color:"cyan"},deep:{size:{x:3,y:10},walls:Tn({x:3,y:10},"moonbase"),floor:"deadly",floorSkip:[],id:"deep",items:Pn([{type:"door",config:{toRoom:"doorsRoom",axis:"x"},position:{x:1,y:0,z:1}}]),planet:"moonbase",color:"cyan"},tiny:{size:{x:1,y:1},walls:Tn({x:1,y:1},"egyptus"),floor:"deadly",floorSkip:[],id:"tiny",items:Pn([{type:"barrier",config:{axis:"y"},position:{x:0,y:0,z:0}}]),planet:"egyptus",color:"yellow"},big:{size:{x:11,y:11},walls:Tn({x:11,y:11},"bookworld"),floor:"bookworld",floorSkip:[],id:"big",items:Pn([{type:"door",config:{toRoom:"doorsRoom",axis:"x"},position:{x:1,y:11,z:4}},{type:"baddie",config:{which:"dalek"},position:{x:1,y:1,z:0}},{type:"baddie",config:{which:"bubble-robot"},position:{x:1,y:10,z:0}},{type:"baddie",config:{which:"american-football-head",startDirection:"away"},position:{x:1,y:3,z:0}},{type:"baddie",config:{which:"american-football-head",startDirection:"right"},position:{x:1,y:5,z:0}},{type:"baddie",config:{which:"american-football-head",startDirection:"left"},position:{x:3,y:5,z:0}},{type:"baddie",config:{which:"american-football-head",startDirection:"towards"},position:{x:3,y:7,z:0}},{type:"baddie",config:{which:"cyberman",charging:!1},position:{x:6,y:7,z:0}},{type:"deadly-block",config:{style:"toaster"},position:{x:4,y:10,z:0}},{type:"deadly-block",config:{style:"spikes"},position:{x:2,y:10,z:0}},{type:"baddie",config:{which:"cyberman",startDirection:"towards",charging:!0},position:{x:4,y:10,z:1}},{type:"baddie",config:{which:"turtle",startDirection:"away"},position:{x:0,y:8,z:0}},{type:"baddie",config:{which:"turtle",startDirection:"towards"},position:{x:0,y:6,z:0}},{type:"baddie",config:{which:"turtle",startDirection:"left"},position:{x:0,y:4,z:0}},{type:"baddie",config:{which:"helicopter-bug"},position:{x:0,y:1,z:0}},{type:"baddie",config:{which:"headless-base"},position:{x:10,y:4,z:0}},{type:"baddie",config:{which:"monkey"},position:{x:9,y:2,z:0}},{type:"baddie",config:{which:"elephant"},position:{x:9,y:10,z:0}},{type:"baddie",config:{which:"flying-ball"},position:{x:0,y:10,z:0}},{type:"baddie",config:{which:"computer-bot"},position:{x:6,y:0,z:0}},{type:"charles",config:{},position:{x:10,y:6,z:0}},{type:"block",config:{style:"artificial"},position:{x:3,y:3,z:0}},{type:"book",config:{slider:!0},position:{x:4,y:2,z:0}},{type:"book",config:{},position:{x:4,y:2,z:1}},{type:"block",config:{style:"organic"},position:{x:5,y:5,z:0}},{type:"block",config:{style:"tower"},position:{x:7,y:7,z:0}},{type:"block",config:{style:"tower"},position:{x:7,y:7,z:1}},{type:"movable-block",config:{style:"anvil"},position:{x:9,y:7,z:0}},{type:"conveyor",config:{direction:"away"},position:{x:10,y:7,z:2}},{type:"conveyor",config:{direction:"left"},position:{x:10,y:4,z:2}},{type:"movable-block",config:{style:"sandwich"},position:{x:10,y:9,z:0}},{type:"movable-block",config:{style:"puck"},position:{x:1,y:0,z:0}},{type:"deadly-block",config:{style:"puck"},position:{x:7,y:0,z:0}},{type:"pickup",config:{gives:"extra-life"},position:{x:9,y:5,z:0}},{type:"pickup",config:{gives:"bag"},position:{x:9,y:3,z:0}},{type:"pickup",config:{gives:"donuts"},position:{x:7,y:3,z:0}},{type:"pickup",config:{gives:"hooter"},position:{x:7,y:5,z:0}},{type:"fish",config:{alive:!0},position:{x:7,y:4,z:0}},{type:"fish",config:{alive:!1},position:{x:5,y:4,z:0}},{type:"joystick",config:{},position:{x:7,y:9,z:0}},{type:"portable-block",config:{style:"cube"},position:{x:5,y:9,z:0}},{type:"portable-block",config:{style:"cube"},position:{x:5,y:9,z:1}},{type:"portable-block",config:{style:"drum"},position:{x:3,y:9,z:0}},{type:"portable-block",config:{style:"sticks"},position:{x:1,y:9,z:0}},{type:"lift",config:{top:9,bottom:0},position:{x:1,y:7,z:0}},{type:"barrier",config:{axis:"y"},position:{x:6,y:1,z:0}},{type:"barrier",config:{axis:"x"},position:{x:8,y:1,z:0}},{type:"sceneryPlayer",config:{which:"head"},position:{x:3,y:1,z:0}},{type:"sceneryPlayer",config:{which:"heels"},position:{x:5,y:1,z:0}}]),planet:"bookworld",color:"magenta"},...SI()},_I={rooms:EI};px(document.getElementById("root")).render(P.jsx(x.StrictMode,{children:P.jsx(gI,{campaign:{rooms:{...mI.rooms,..._I.rooms}}})}));export{ru as $,t1 as A,ct as B,pe as C,Ee as D,N as E,ie as F,te as G,vx as H,jt as I,uo as J,sg as K,Vn as L,le as M,M4 as N,X4 as O,Ye as P,Te as Q,Ia as R,W4 as S,Vo as T,Ta as U,pS as V,g5 as W,m5 as X,je as Y,ag as Z,h4 as _,Qt as a,K as a0,Sx as a1,o1 as a2,b5 as a3,gS as a4,OS as a5,oE as a6,iE as a7,cE as a8,pE as a9,yE as aa,rr as ab,$ as ac,ue as ad,As as ae,o_ as af,Bg as ag,b1 as ah,mg as ai,Ng as aj,a_ as ak,Yn as al,ve as am,Lz as an,yy as ao,Gg as ap,Aa as aq,k1 as ar,PS as b,Zs as c,Vl as d,ot as e,gg as f,ZS as g,Nd as h,Qx as i,Ud as j,ft as k,Ld as l,Dg as m,tE as n,nE as o,lE as p,a1 as q,t4 as r,uE as s,ac as t,q as u,Nz as v,Ie as w,oe as x,fE as y,_o as z};
