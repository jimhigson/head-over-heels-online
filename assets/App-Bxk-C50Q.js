const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browserAll-CkQCRv5f.js","assets/webworkerAll-C8a5mSV-.js","assets/Graphics-DPF9IvgU.js","assets/colorToUniform-KTpA7KSL.js","assets/index-CktktMKX.js","assets/index-zbEfSdlv.css","assets/Cheats-BXCQhw5C.js","assets/swopCharacters-HfE2mqa8.js","assets/gameMain-C2yweqwd.js","assets/testCampaign-DIuz24we.js"])))=>i.map(i=>d[i]);
import{b as yo,r as L,R as Bp,_ as qe,g as qt,j as u,t as Rt,d as sc,B as pe,D as Yt,i as Xo}from"./index-CktktMKX.js";function Sp(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var o,i,s,n,r=[],a="",l=e.split("/");for(l[0]||l.shift();s=l.shift();)o=s[0],o==="*"?(r.push(o),a+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):o===":"?(i=s.indexOf("?",1),n=s.indexOf(".",1),r.push(s.substring(1,~i?i:~n?n:s.length)),a+=~i&&!~n?"(?:/([^/]+?))?":"/([^/]+?)",~n&&(a+=(~i?"?":"")+"\\"+s.substring(n))):a+="/"+s;return{keys:r,pattern:new RegExp("^"+a+(t?"(?=$|/)":"/?$"),"i")}}var Ki={exports:{}},Zi={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zr;function Ap(){if(zr)return Zi;zr=1;var e=yo();function t(p,h){return p===h&&(p!==0||1/p===1/h)||p!==p&&h!==h}var o=typeof Object.is=="function"?Object.is:t,i=e.useState,s=e.useEffect,n=e.useLayoutEffect,r=e.useDebugValue;function a(p,h){var y=h(),m=i({inst:{value:y,getSnapshot:h}}),g=m[0].inst,f=m[1];return n(function(){g.value=y,g.getSnapshot=h,l(g)&&f({inst:g})},[p,y,h]),s(function(){return l(g)&&f({inst:g}),p(function(){l(g)&&f({inst:g})})},[p]),r(y),y}function l(p){var h=p.getSnapshot;p=p.value;try{var y=h();return!o(p,y)}catch{return!0}}function c(p,h){return h()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:a;return Zi.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:d,Zi}var vr;function Pp(){return vr||(vr=1,Ki.exports=Ap()),Ki.exports}var Rp=Pp();const Cp=Bp.useInsertionEffect,Mp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ep=Mp?L.useLayoutEffect:L.useEffect,Ip=Cp||Ep,nc=e=>{const t=L.useRef([e,(...o)=>t[0](...o)]).current;return Ip(()=>{t[0]=e}),t[1]},Tp="popstate",Fn="pushState",On="replaceState",jp="hashchange",_r=[Tp,Fn,On,jp],Dp=e=>{for(const t of _r)addEventListener(t,e);return()=>{for(const t of _r)removeEventListener(t,e)}},rc=(e,t)=>Rp.useSyncExternalStore(Dp,e,t),$p=()=>location.search,Fp=({ssrSearch:e=""}={})=>rc($p,()=>e),Br=()=>location.pathname,Op=({ssrPath:e}={})=>rc(Br,e?()=>e:Br),Np=(e,{replace:t=!1,state:o=null}={})=>history[t?On:Fn](o,"",e),Lp=(e={})=>[Op(e),Np],Sr=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Sr]>"u"){for(const e of[Fn,On]){const t=history[e];history[e]=function(){const o=t.apply(this,arguments),i=new Event(e);return i.arguments=arguments,dispatchEvent(i),o}}Object.defineProperty(window,Sr,{value:!0})}const Hp=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",ac=(e="")=>e==="/"?"":e,Gp=(e,t)=>e[0]==="~"?e.slice(1):ac(t)+e,Wp=(e="",t)=>Hp(Ar(ac(e)),Ar(t)),Ar=e=>{try{return decodeURI(e)}catch{return e}},lc={hook:Lp,searchHook:Fp,parser:Sp,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},cc=L.createContext(lc),Nn=()=>L.useContext(cc),dc={},pc=L.createContext(dc),Up=()=>L.useContext(pc),yc=e=>{const[t,o]=e.hook(e);return[Wp(e.base,t),nc((i,s)=>o(Gp(i,e.base),s))]},Vp=(e,t,o,i)=>{const{pattern:s,keys:n}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",i),r=s.exec(o)||[],[a,...l]=r;return a!==void 0?[!0,(()=>{const c=n!==!1?Object.fromEntries(n.map((p,h)=>[p,l[h]])):r.groups;let d={...l};return c&&Object.assign(d,c),d})(),...i?[a]:[]]:[!1,null]},qp=({children:e,...t})=>{const o=Nn(),i=t.hook?lc:o;let s=i;const[n,r]=t.ssrPath?.split("?")??[];r&&(t.ssrSearch=r,t.ssrPath=n),t.hrefs=t.hrefs??t.hook?.hrefs;let a=L.useRef({}),l=a.current,c=l;for(let d in i){const p=d==="base"?i[d]+(t[d]||""):t[d]||i[d];l===c&&p!==c[d]&&(a.current=c={...c}),c[d]=p,p!==i[d]&&(s=c)}return L.createElement(cc.Provider,{value:s,children:e})},Pr=({children:e,component:t},o)=>t?L.createElement(t,{params:o}):typeof e=="function"?e(o):e,Yp=e=>{let t=L.useRef(dc),o=t.current;for(const i in e)e[i]!==o[i]&&(o=e);return Object.keys(e).length===0&&(o=e),t.current=o},Rr=({path:e,nest:t,match:o,...i})=>{const s=Nn(),[n]=yc(s),[r,a,l]=o??Vp(s.parser,e,n,t),c=Yp({...Up(),...a});if(!r)return null;const d=l?L.createElement(qp,{base:l},Pr(i,c)):Pr(i,c);return L.createElement(pc.Provider,{value:c,children:d})};L.forwardRef((e,t)=>{const o=Nn(),[i,s]=yc(o),{to:n="",href:r=n,onClick:a,asChild:l,children:c,className:d,replace:p,state:h,...y}=e,m=nc(f=>{f.ctrlKey||f.metaKey||f.altKey||f.shiftKey||f.button!==0||(a?.(f),f.defaultPrevented||(f.preventDefault(),s(r,e)))}),g=o.hrefs(r[0]==="~"?r.slice(1):o.base+r,o);return l&&L.isValidElement(c)?L.cloneElement(c,{onClick:m,href:g}):L.createElement("a",{...y,onClick:m,href:g,className:d?.call?d(i===r):d,children:c,ref:t})});var U=(e=>(e.Application="application",e.WebGLPipes="webgl-pipes",e.WebGLPipesAdaptor="webgl-pipes-adaptor",e.WebGLSystem="webgl-system",e.WebGPUPipes="webgpu-pipes",e.WebGPUPipesAdaptor="webgpu-pipes-adaptor",e.WebGPUSystem="webgpu-system",e.CanvasSystem="canvas-system",e.CanvasPipesAdaptor="canvas-pipes-adaptor",e.CanvasPipes="canvas-pipes",e.Asset="asset",e.LoadParser="load-parser",e.ResolveParser="resolve-parser",e.CacheParser="cache-parser",e.DetectionParser="detection-parser",e.MaskEffect="mask-effect",e.BlendMode="blend-mode",e.TextureSource="texture-source",e.Environment="environment",e.ShapeBuilder="shape-builder",e.Batcher="batcher",e))(U||{});const cn=e=>{if(typeof e=="function"||typeof e=="object"&&e.extension){if(!e.extension)throw new Error("Extension class must have an extension object");e={...typeof e.extension!="object"?{type:e.extension}:e.extension,ref:e}}if(typeof e=="object")e={...e};else throw new Error("Invalid extension type");return typeof e.type=="string"&&(e.type=[e.type]),e},ei=(e,t)=>cn(e).priority??t,Vt={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...e){return e.map(cn).forEach(t=>{t.type.forEach(o=>this._removeHandlers[o]?.(t))}),this},add(...e){return e.map(cn).forEach(t=>{t.type.forEach(o=>{const i=this._addHandlers,s=this._queue;i[o]?i[o]?.(t):(s[o]=s[o]||[],s[o]?.push(t))})}),this},handle(e,t,o){const i=this._addHandlers,s=this._removeHandlers;if(i[e]||s[e])throw new Error(`Extension type ${e} already has a handler`);i[e]=t,s[e]=o;const n=this._queue;return n[e]&&(n[e]?.forEach(r=>t(r)),delete n[e]),this},handleByMap(e,t){return this.handle(e,o=>{o.name&&(t[o.name]=o.ref)},o=>{o.name&&delete t[o.name]})},handleByNamedList(e,t,o=-1){return this.handle(e,i=>{t.findIndex(n=>n.name===i.name)>=0||(t.push({name:i.name,value:i.ref}),t.sort((n,r)=>ei(r.value,o)-ei(n.value,o)))},i=>{const s=t.findIndex(n=>n.name===i.name);s!==-1&&t.splice(s,1)})},handleByList(e,t,o=-1){return this.handle(e,i=>{t.includes(i.ref)||(t.push(i.ref),t.sort((s,n)=>ei(n,o)-ei(s,o)))},i=>{const s=t.indexOf(i.ref);s!==-1&&t.splice(s,1)})}},Xp={extension:{type:U.Environment,name:"browser",priority:-1},test:()=>!0,load:async()=>{await qe(()=>import("./browserAll-CkQCRv5f.js"),__vite__mapDeps([0,1,2,3,4,5]))}},Kp={extension:{type:U.Environment,name:"webworker",priority:0},test:()=>typeof self<"u"&&self.WorkerGlobalScope!==void 0,load:async()=>{await qe(()=>import("./webworkerAll-C8a5mSV-.js"),__vite__mapDeps([1,2,3,4,5]))}};class $t{constructor(t,o,i){this._x=o||0,this._y=i||0,this._observer=t}clone(t){return new $t(t??this._observer,this._x,this._y)}set(t=0,o=t){return(this._x!==t||this._y!==o)&&(this._x=t,this._y=o,this._observer._onUpdate(this)),this}copyFrom(t){return(this._x!==t.x||this._y!==t.y)&&(this._x=t.x,this._y=t.y,this._observer._onUpdate(this)),this}copyTo(t){return t.set(this._x,this._y),t}equals(t){return t.x===this._x&&t.y===this._y}toString(){return`[pixi.js/math:ObservablePoint x=0 y=0 scope=${this._observer}]`}get x(){return this._x}set x(t){this._x!==t&&(this._x=t,this._observer._onUpdate(this))}get y(){return this._y}set y(t){this._y!==t&&(this._y=t,this._observer._onUpdate(this))}}var Qi={exports:{}},Cr;function Zp(){return Cr||(Cr=1,function(e){var t=Object.prototype.hasOwnProperty,o="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(o=!1));function s(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function n(l,c,d,p,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var y=new s(d,p||l,h),m=o?o+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],y]:l._events[m].push(y):(l._events[m]=y,l._eventsCount++),l}function r(l,c){--l._eventsCount===0?l._events=new i:delete l._events[c]}function a(){this._events=new i,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],d,p;if(this._eventsCount===0)return c;for(p in d=this._events)t.call(d,p)&&c.push(o?p.slice(1):p);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},a.prototype.listeners=function(c){var d=o?o+c:c,p=this._events[d];if(!p)return[];if(p.fn)return[p.fn];for(var h=0,y=p.length,m=new Array(y);h<y;h++)m[h]=p[h].fn;return m},a.prototype.listenerCount=function(c){var d=o?o+c:c,p=this._events[d];return p?p.fn?1:p.length:0},a.prototype.emit=function(c,d,p,h,y,m){var g=o?o+c:c;if(!this._events[g])return!1;var f=this._events[g],k=arguments.length,w,B;if(f.fn){switch(f.once&&this.removeListener(c,f.fn,void 0,!0),k){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,d),!0;case 3:return f.fn.call(f.context,d,p),!0;case 4:return f.fn.call(f.context,d,p,h),!0;case 5:return f.fn.call(f.context,d,p,h,y),!0;case 6:return f.fn.call(f.context,d,p,h,y,m),!0}for(B=1,w=new Array(k-1);B<k;B++)w[B-1]=arguments[B];f.fn.apply(f.context,w)}else{var P=f.length,E;for(B=0;B<P;B++)switch(f[B].once&&this.removeListener(c,f[B].fn,void 0,!0),k){case 1:f[B].fn.call(f[B].context);break;case 2:f[B].fn.call(f[B].context,d);break;case 3:f[B].fn.call(f[B].context,d,p);break;case 4:f[B].fn.call(f[B].context,d,p,h);break;default:if(!w)for(E=1,w=new Array(k-1);E<k;E++)w[E-1]=arguments[E];f[B].fn.apply(f[B].context,w)}}return!0},a.prototype.on=function(c,d,p){return n(this,c,d,p,!1)},a.prototype.once=function(c,d,p){return n(this,c,d,p,!0)},a.prototype.removeListener=function(c,d,p,h){var y=o?o+c:c;if(!this._events[y])return this;if(!d)return r(this,y),this;var m=this._events[y];if(m.fn)m.fn===d&&(!h||m.once)&&(!p||m.context===p)&&r(this,y);else{for(var g=0,f=[],k=m.length;g<k;g++)(m[g].fn!==d||h&&!m[g].once||p&&m[g].context!==p)&&f.push(m[g]);f.length?this._events[y]=f.length===1?f[0]:f:r(this,y)}return this},a.prototype.removeAllListeners=function(c){var d;return c?(d=o?o+c:c,this._events[d]&&r(this,d)):(this._events=new i,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=o,a.EventEmitter=a,e.exports=a}(Qi)),Qi.exports}var Qp=Zp();const ye=qt(Qp),Jp=Math.PI*2,ty=180/Math.PI,ey=Math.PI/180;class At{constructor(t=0,o=0){this.x=0,this.y=0,this.x=t,this.y=o}clone(){return new At(this.x,this.y)}copyFrom(t){return this.set(t.x,t.y),this}copyTo(t){return t.set(this.x,this.y),t}equals(t){return t.x===this.x&&t.y===this.y}set(t=0,o=t){return this.x=t,this.y=o,this}toString(){return`[pixi.js/math:Point x=${this.x} y=${this.y}]`}static get shared(){return Ji.x=0,Ji.y=0,Ji}}const Ji=new At;class it{constructor(t=1,o=0,i=0,s=1,n=0,r=0){this.array=null,this.a=t,this.b=o,this.c=i,this.d=s,this.tx=n,this.ty=r}fromArray(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]}set(t,o,i,s,n,r){return this.a=t,this.b=o,this.c=i,this.d=s,this.tx=n,this.ty=r,this}toArray(t,o){this.array||(this.array=new Float32Array(9));const i=o||this.array;return t?(i[0]=this.a,i[1]=this.b,i[2]=0,i[3]=this.c,i[4]=this.d,i[5]=0,i[6]=this.tx,i[7]=this.ty,i[8]=1):(i[0]=this.a,i[1]=this.c,i[2]=this.tx,i[3]=this.b,i[4]=this.d,i[5]=this.ty,i[6]=0,i[7]=0,i[8]=1),i}apply(t,o){o=o||new At;const i=t.x,s=t.y;return o.x=this.a*i+this.c*s+this.tx,o.y=this.b*i+this.d*s+this.ty,o}applyInverse(t,o){o=o||new At;const i=this.a,s=this.b,n=this.c,r=this.d,a=this.tx,l=this.ty,c=1/(i*r+n*-s),d=t.x,p=t.y;return o.x=r*c*d+-n*c*p+(l*n-a*r)*c,o.y=i*c*p+-s*c*d+(-l*i+a*s)*c,o}translate(t,o){return this.tx+=t,this.ty+=o,this}scale(t,o){return this.a*=t,this.d*=o,this.c*=t,this.b*=o,this.tx*=t,this.ty*=o,this}rotate(t){const o=Math.cos(t),i=Math.sin(t),s=this.a,n=this.c,r=this.tx;return this.a=s*o-this.b*i,this.b=s*i+this.b*o,this.c=n*o-this.d*i,this.d=n*i+this.d*o,this.tx=r*o-this.ty*i,this.ty=r*i+this.ty*o,this}append(t){const o=this.a,i=this.b,s=this.c,n=this.d;return this.a=t.a*o+t.b*s,this.b=t.a*i+t.b*n,this.c=t.c*o+t.d*s,this.d=t.c*i+t.d*n,this.tx=t.tx*o+t.ty*s+this.tx,this.ty=t.tx*i+t.ty*n+this.ty,this}appendFrom(t,o){const i=t.a,s=t.b,n=t.c,r=t.d,a=t.tx,l=t.ty,c=o.a,d=o.b,p=o.c,h=o.d;return this.a=i*c+s*p,this.b=i*d+s*h,this.c=n*c+r*p,this.d=n*d+r*h,this.tx=a*c+l*p+o.tx,this.ty=a*d+l*h+o.ty,this}setTransform(t,o,i,s,n,r,a,l,c){return this.a=Math.cos(a+c)*n,this.b=Math.sin(a+c)*n,this.c=-Math.sin(a-l)*r,this.d=Math.cos(a-l)*r,this.tx=t-(i*this.a+s*this.c),this.ty=o-(i*this.b+s*this.d),this}prepend(t){const o=this.tx;if(t.a!==1||t.b!==0||t.c!==0||t.d!==1){const i=this.a,s=this.c;this.a=i*t.a+this.b*t.c,this.b=i*t.b+this.b*t.d,this.c=s*t.a+this.d*t.c,this.d=s*t.b+this.d*t.d}return this.tx=o*t.a+this.ty*t.c+t.tx,this.ty=o*t.b+this.ty*t.d+t.ty,this}decompose(t){const o=this.a,i=this.b,s=this.c,n=this.d,r=t.pivot,a=-Math.atan2(-s,n),l=Math.atan2(i,o),c=Math.abs(a+l);return c<1e-5||Math.abs(Jp-c)<1e-5?(t.rotation=l,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=a,t.skew.y=l),t.scale.x=Math.sqrt(o*o+i*i),t.scale.y=Math.sqrt(s*s+n*n),t.position.x=this.tx+(r.x*o+r.y*s),t.position.y=this.ty+(r.x*i+r.y*n),t}invert(){const t=this.a,o=this.b,i=this.c,s=this.d,n=this.tx,r=t*s-o*i;return this.a=s/r,this.b=-o/r,this.c=-i/r,this.d=t/r,this.tx=(i*this.ty-s*n)/r,this.ty=-(t*this.ty-o*n)/r,this}isIdentity(){return this.a===1&&this.b===0&&this.c===0&&this.d===1&&this.tx===0&&this.ty===0}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const t=new it;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyTo(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyFrom(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this}equals(t){return t.a===this.a&&t.b===this.b&&t.c===this.c&&t.d===this.d&&t.tx===this.tx&&t.ty===this.ty}toString(){return`[pixi.js:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return iy.identity()}static get shared(){return oy.identity()}}const oy=new it,iy=new it,Te=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],je=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],De=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],$e=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],dn=[],hc=[],oi=Math.sign;function sy(){for(let e=0;e<16;e++){const t=[];dn.push(t);for(let o=0;o<16;o++){const i=oi(Te[e]*Te[o]+De[e]*je[o]),s=oi(je[e]*Te[o]+$e[e]*je[o]),n=oi(Te[e]*De[o]+De[e]*$e[o]),r=oi(je[e]*De[o]+$e[e]*$e[o]);for(let a=0;a<16;a++)if(Te[a]===i&&je[a]===s&&De[a]===n&&$e[a]===r){t.push(a);break}}}for(let e=0;e<16;e++){const t=new it;t.set(Te[e],je[e],De[e],$e[e],0,0),hc.push(t)}}sy();const pt={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:e=>Te[e],uY:e=>je[e],vX:e=>De[e],vY:e=>$e[e],inv:e=>e&8?e&15:-e&7,add:(e,t)=>dn[e][t],sub:(e,t)=>dn[e][pt.inv(t)],rotate180:e=>e^4,isVertical:e=>(e&3)===2,byDirection:(e,t)=>Math.abs(e)*2<=Math.abs(t)?t>=0?pt.S:pt.N:Math.abs(t)*2<=Math.abs(e)?e>0?pt.E:pt.W:t>0?e>0?pt.SE:pt.SW:e>0?pt.NE:pt.NW,matrixAppendRotationInv:(e,t,o=0,i=0)=>{const s=hc[pt.inv(t)];s.tx=o,s.ty=i,e.append(s)}},ii=[new At,new At,new At,new At];class mt{constructor(t=0,o=0,i=0,s=0){this.type="rectangle",this.x=Number(t),this.y=Number(o),this.width=Number(i),this.height=Number(s)}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}isEmpty(){return this.left===this.right||this.top===this.bottom}static get EMPTY(){return new mt(0,0,0,0)}clone(){return new mt(this.x,this.y,this.width,this.height)}copyFromBounds(t){return this.x=t.minX,this.y=t.minY,this.width=t.maxX-t.minX,this.height=t.maxY-t.minY,this}copyFrom(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}copyTo(t){return t.copyFrom(this),t}contains(t,o){return this.width<=0||this.height<=0?!1:t>=this.x&&t<this.x+this.width&&o>=this.y&&o<this.y+this.height}strokeContains(t,o,i,s=.5){const{width:n,height:r}=this;if(n<=0||r<=0)return!1;const a=this.x,l=this.y,c=i*(1-s),d=i-c,p=a-c,h=a+n+c,y=l-c,m=l+r+c,g=a+d,f=a+n-d,k=l+d,w=l+r-d;return t>=p&&t<=h&&o>=y&&o<=m&&!(t>g&&t<f&&o>k&&o<w)}intersects(t,o){if(!o){const D=this.x<t.x?t.x:this.x;if((this.right>t.right?t.right:this.right)<=D)return!1;const T=this.y<t.y?t.y:this.y;return(this.bottom>t.bottom?t.bottom:this.bottom)>T}const i=this.left,s=this.right,n=this.top,r=this.bottom;if(s<=i||r<=n)return!1;const a=ii[0].set(t.left,t.top),l=ii[1].set(t.left,t.bottom),c=ii[2].set(t.right,t.top),d=ii[3].set(t.right,t.bottom);if(c.x<=a.x||l.y<=a.y)return!1;const p=Math.sign(o.a*o.d-o.b*o.c);if(p===0||(o.apply(a,a),o.apply(l,l),o.apply(c,c),o.apply(d,d),Math.max(a.x,l.x,c.x,d.x)<=i||Math.min(a.x,l.x,c.x,d.x)>=s||Math.max(a.y,l.y,c.y,d.y)<=n||Math.min(a.y,l.y,c.y,d.y)>=r))return!1;const h=p*(l.y-a.y),y=p*(a.x-l.x),m=h*i+y*n,g=h*s+y*n,f=h*i+y*r,k=h*s+y*r;if(Math.max(m,g,f,k)<=h*a.x+y*a.y||Math.min(m,g,f,k)>=h*d.x+y*d.y)return!1;const w=p*(a.y-c.y),B=p*(c.x-a.x),P=w*i+B*n,E=w*s+B*n,R=w*i+B*r,M=w*s+B*r;return!(Math.max(P,E,R,M)<=w*a.x+B*a.y||Math.min(P,E,R,M)>=w*d.x+B*d.y)}pad(t=0,o=t){return this.x-=t,this.y-=o,this.width+=t*2,this.height+=o*2,this}fit(t){const o=Math.max(this.x,t.x),i=Math.min(this.x+this.width,t.x+t.width),s=Math.max(this.y,t.y),n=Math.min(this.y+this.height,t.y+t.height);return this.x=o,this.width=Math.max(i-o,0),this.y=s,this.height=Math.max(n-s,0),this}ceil(t=1,o=.001){const i=Math.ceil((this.x+this.width-o)*t)/t,s=Math.ceil((this.y+this.height-o)*t)/t;return this.x=Math.floor((this.x+o)*t)/t,this.y=Math.floor((this.y+o)*t)/t,this.width=i-this.x,this.height=s-this.y,this}enlarge(t){const o=Math.min(this.x,t.x),i=Math.max(this.x+this.width,t.x+t.width),s=Math.min(this.y,t.y),n=Math.max(this.y+this.height,t.y+t.height);return this.x=o,this.width=i-o,this.y=s,this.height=n-s,this}getBounds(t){return t||(t=new mt),t.copyFrom(this),t}toString(){return`[pixi.js/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}const ts={default:-1};function gt(e="default"){return ts[e]===void 0&&(ts[e]=-1),++ts[e]}const Mr={},St="8.0.0",ny="8.3.4";function ft(e,t,o=3){if(Mr[t])return;let i=new Error().stack;typeof i>"u"?console.warn("PixiJS Deprecation Warning: ",`${t}
Deprecated since v${e}`):(i=i.split(`
`).splice(o).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${t}
Deprecated since v${e}`),console.warn(i),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${t}
Deprecated since v${e}`),console.warn(i))),Mr[t]=!0}const uc=()=>{};function Ri(e){return e+=e===0?1:0,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e+1}function Er(e){return!(e&e-1)&&!!e}function ry(e){const t={};for(const o in e)e[o]!==void 0&&(t[o]=e[o]);return t}const Ir=Object.create(null);function ay(e){const t=Ir[e];return t===void 0&&(Ir[e]=gt("resource")),t}const fc=class mc extends ye{constructor(t={}){super(),this._resourceType="textureSampler",this._touched=0,this._maxAnisotropy=1,this.destroyed=!1,t={...mc.defaultOptions,...t},this.addressMode=t.addressMode,this.addressModeU=t.addressModeU??this.addressModeU,this.addressModeV=t.addressModeV??this.addressModeV,this.addressModeW=t.addressModeW??this.addressModeW,this.scaleMode=t.scaleMode,this.magFilter=t.magFilter??this.magFilter,this.minFilter=t.minFilter??this.minFilter,this.mipmapFilter=t.mipmapFilter??this.mipmapFilter,this.lodMinClamp=t.lodMinClamp,this.lodMaxClamp=t.lodMaxClamp,this.compare=t.compare,this.maxAnisotropy=t.maxAnisotropy??1}set addressMode(t){this.addressModeU=t,this.addressModeV=t,this.addressModeW=t}get addressMode(){return this.addressModeU}set wrapMode(t){ft(St,"TextureStyle.wrapMode is now TextureStyle.addressMode"),this.addressMode=t}get wrapMode(){return this.addressMode}set scaleMode(t){this.magFilter=t,this.minFilter=t,this.mipmapFilter=t}get scaleMode(){return this.magFilter}set maxAnisotropy(t){this._maxAnisotropy=Math.min(t,16),this._maxAnisotropy>1&&(this.scaleMode="linear")}get maxAnisotropy(){return this._maxAnisotropy}get _resourceId(){return this._sharedResourceId||this._generateResourceId()}update(){this.emit("change",this),this._sharedResourceId=null}_generateResourceId(){const t=`${this.addressModeU}-${this.addressModeV}-${this.addressModeW}-${this.magFilter}-${this.minFilter}-${this.mipmapFilter}-${this.lodMinClamp}-${this.lodMaxClamp}-${this.compare}-${this._maxAnisotropy}`;return this._sharedResourceId=ay(t),this._resourceId}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this.removeAllListeners()}};fc.defaultOptions={addressMode:"clamp-to-edge",scaleMode:"linear"};let ly=fc;const gc=class xc extends ye{constructor(t={}){super(),this.options=t,this.uid=gt("textureSource"),this._resourceType="textureSource",this._resourceId=gt("resource"),this.uploadMethodId="unknown",this._resolution=1,this.pixelWidth=1,this.pixelHeight=1,this.width=1,this.height=1,this.sampleCount=1,this.mipLevelCount=1,this.autoGenerateMipmaps=!1,this.format="rgba8unorm",this.dimension="2d",this.antialias=!1,this._touched=0,this._batchTick=-1,this._textureBindLocation=-1,t={...xc.defaultOptions,...t},this.label=t.label??"",this.resource=t.resource,this.autoGarbageCollect=t.autoGarbageCollect,this._resolution=t.resolution,t.width?this.pixelWidth=t.width*this._resolution:this.pixelWidth=this.resource?this.resourceWidth??1:1,t.height?this.pixelHeight=t.height*this._resolution:this.pixelHeight=this.resource?this.resourceHeight??1:1,this.width=this.pixelWidth/this._resolution,this.height=this.pixelHeight/this._resolution,this.format=t.format,this.dimension=t.dimensions,this.mipLevelCount=t.mipLevelCount,this.autoGenerateMipmaps=t.autoGenerateMipmaps,this.sampleCount=t.sampleCount,this.antialias=t.antialias,this.alphaMode=t.alphaMode,this.style=new ly(ry(t)),this.destroyed=!1,this._refreshPOT()}get source(){return this}get style(){return this._style}set style(t){this.style!==t&&(this._style?.off("change",this._onStyleChange,this),this._style=t,this._style?.on("change",this._onStyleChange,this),this._onStyleChange())}get addressMode(){return this._style.addressMode}set addressMode(t){this._style.addressMode=t}get repeatMode(){return this._style.addressMode}set repeatMode(t){this._style.addressMode=t}get magFilter(){return this._style.magFilter}set magFilter(t){this._style.magFilter=t}get minFilter(){return this._style.minFilter}set minFilter(t){this._style.minFilter=t}get mipmapFilter(){return this._style.mipmapFilter}set mipmapFilter(t){this._style.mipmapFilter=t}get lodMinClamp(){return this._style.lodMinClamp}set lodMinClamp(t){this._style.lodMinClamp=t}get lodMaxClamp(){return this._style.lodMaxClamp}set lodMaxClamp(t){this._style.lodMaxClamp=t}_onStyleChange(){this.emit("styleChange",this)}update(){if(this.resource){const t=this._resolution;if(this.resize(this.resourceWidth/t,this.resourceHeight/t))return}this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._style&&(this._style.destroy(),this._style=null),this.uploadMethodId=null,this.resource=null,this.removeAllListeners()}unload(){this._resourceId=gt("resource"),this.emit("change",this),this.emit("unload",this)}get resourceWidth(){const{resource:t}=this;return t.naturalWidth||t.videoWidth||t.displayWidth||t.width}get resourceHeight(){const{resource:t}=this;return t.naturalHeight||t.videoHeight||t.displayHeight||t.height}get resolution(){return this._resolution}set resolution(t){this._resolution!==t&&(this._resolution=t,this.width=this.pixelWidth/t,this.height=this.pixelHeight/t)}resize(t,o,i){i||(i=this._resolution),t||(t=this.width),o||(o=this.height);const s=Math.round(t*i),n=Math.round(o*i);return this.width=s/i,this.height=n/i,this._resolution=i,this.pixelWidth===s&&this.pixelHeight===n?!1:(this._refreshPOT(),this.pixelWidth=s,this.pixelHeight=n,this.emit("resize",this),this._resourceId=gt("resource"),this.emit("change",this),!0)}updateMipmaps(){this.autoGenerateMipmaps&&this.mipLevelCount>1&&this.emit("updateMipmaps",this)}set wrapMode(t){this._style.wrapMode=t}get wrapMode(){return this._style.wrapMode}set scaleMode(t){this._style.scaleMode=t}get scaleMode(){return this._style.scaleMode}_refreshPOT(){this.isPowerOfTwo=Er(this.pixelWidth)&&Er(this.pixelHeight)}static test(t){throw new Error("Unimplemented")}};gc.defaultOptions={resolution:1,format:"bgra8unorm",alphaMode:"premultiply-alpha-on-upload",dimensions:"2d",mipLevelCount:1,autoGenerateMipmaps:!1,sampleCount:1,antialias:!1,autoGarbageCollect:!1};let he=gc;class Ln extends he{constructor(t){const o=t.resource||new Float32Array(t.width*t.height*4);let i=t.format;i||(o instanceof Float32Array?i="rgba32float":o instanceof Int32Array||o instanceof Uint32Array?i="rgba32uint":o instanceof Int16Array||o instanceof Uint16Array?i="rgba16uint":(o instanceof Int8Array,i="bgra8unorm")),super({...t,resource:o,format:i}),this.uploadMethodId="buffer"}static test(t){return t instanceof Int8Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array}}Ln.extension=U.TextureSource;const Tr=new it;class cy{constructor(t,o){this.mapCoord=new it,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,typeof o>"u"?this.clampMargin=t.width<10?0:.5:this.clampMargin=o,this.isSimple=!1,this.texture=t}get texture(){return this._texture}set texture(t){this.texture!==t&&(this._texture?.removeListener("update",this.update,this),this._texture=t,this._texture.addListener("update",this.update,this),this.update())}multiplyUvs(t,o){o===void 0&&(o=t);const i=this.mapCoord;for(let s=0;s<t.length;s+=2){const n=t[s],r=t[s+1];o[s]=n*i.a+r*i.c+i.tx,o[s+1]=n*i.b+r*i.d+i.ty}return o}update(){const t=this._texture;this._updateID++;const o=t.uvs;this.mapCoord.set(o.x1-o.x0,o.y1-o.y0,o.x3-o.x0,o.y3-o.y0,o.x0,o.y0);const i=t.orig,s=t.trim;s&&(Tr.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(Tr));const n=t.source,r=this.uClampFrame,a=this.clampMargin/n._resolution,l=this.clampOffset/n._resolution;return r[0]=(t.frame.x+a+l)/n.width,r[1]=(t.frame.y+a+l)/n.height,r[2]=(t.frame.x+t.frame.width-a+l)/n.width,r[3]=(t.frame.y+t.frame.height-a+l)/n.height,this.uClampOffset[0]=this.clampOffset/n.pixelWidth,this.uClampOffset[1]=this.clampOffset/n.pixelHeight,this.isSimple=t.frame.width===n.width&&t.frame.height===n.height&&t.rotate===0,!0}}class tt extends ye{constructor({source:t,label:o,frame:i,orig:s,trim:n,defaultAnchor:r,defaultBorders:a,rotate:l,dynamic:c}={}){if(super(),this.uid=gt("texture"),this.uvs={x0:0,y0:0,x1:0,y1:0,x2:0,y2:0,x3:0,y3:0},this.frame=new mt,this.noFrame=!1,this.dynamic=!1,this.isTexture=!0,this.label=o,this.source=t?.source??new he,this.noFrame=!i,i)this.frame.copyFrom(i);else{const{width:d,height:p}=this._source;this.frame.width=d,this.frame.height=p}this.orig=s||this.frame,this.trim=n,this.rotate=l??0,this.defaultAnchor=r,this.defaultBorders=a,this.destroyed=!1,this.dynamic=c||!1,this.updateUvs()}set source(t){this._source&&this._source.off("resize",this.update,this),this._source=t,t.on("resize",this.update,this),this.emit("update",this)}get source(){return this._source}get textureMatrix(){return this._textureMatrix||(this._textureMatrix=new cy(this)),this._textureMatrix}get width(){return this.orig.width}get height(){return this.orig.height}updateUvs(){const{uvs:t,frame:o}=this,{width:i,height:s}=this._source,n=o.x/i,r=o.y/s,a=o.width/i,l=o.height/s;let c=this.rotate;if(c){const d=a/2,p=l/2,h=n+d,y=r+p;c=pt.add(c,pt.NW),t.x0=h+d*pt.uX(c),t.y0=y+p*pt.uY(c),c=pt.add(c,2),t.x1=h+d*pt.uX(c),t.y1=y+p*pt.uY(c),c=pt.add(c,2),t.x2=h+d*pt.uX(c),t.y2=y+p*pt.uY(c),c=pt.add(c,2),t.x3=h+d*pt.uX(c),t.y3=y+p*pt.uY(c)}else t.x0=n,t.y0=r,t.x1=n+a,t.y1=r,t.x2=n+a,t.y2=r+l,t.x3=n,t.y3=r+l}destroy(t=!1){this._source&&t&&(this._source.destroy(),this._source=null),this._textureMatrix=null,this.destroyed=!0,this.emit("destroy",this),this.removeAllListeners()}update(){this.noFrame&&(this.frame.width=this._source.width,this.frame.height=this._source.height),this.updateUvs(),this.emit("update",this)}get baseTexture(){return ft(St,"Texture.baseTexture is now Texture.source"),this._source}}tt.EMPTY=new tt({label:"EMPTY",source:new he({label:"EMPTY"})});tt.EMPTY.destroy=uc;tt.WHITE=new tt({source:new Ln({resource:new Uint8Array([255,255,255,255]),width:1,height:1,alphaMode:"premultiply-alpha-on-upload",label:"WHITE"}),label:"WHITE"});tt.WHITE.destroy=uc;function dy(e,t,o,i){const{width:s,height:n}=o.orig,r=o.trim;if(r){const a=r.width,l=r.height;e.minX=r.x-t._x*s-i,e.maxX=e.minX+a,e.minY=r.y-t._y*n-i,e.maxY=e.minY+l}else e.minX=-t._x*s-i,e.maxX=e.minX+s,e.minY=-t._y*n-i,e.maxY=e.minY+n}const jr=new it;class de{constructor(t=1/0,o=1/0,i=-1/0,s=-1/0){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=jr,this.minX=t,this.minY=o,this.maxX=i,this.maxY=s}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}get rectangle(){this._rectangle||(this._rectangle=new mt);const t=this._rectangle;return this.minX>this.maxX||this.minY>this.maxY?(t.x=0,t.y=0,t.width=0,t.height=0):t.copyFromBounds(this),t}clear(){return this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=jr,this}set(t,o,i,s){this.minX=t,this.minY=o,this.maxX=i,this.maxY=s}addFrame(t,o,i,s,n){n||(n=this.matrix);const r=n.a,a=n.b,l=n.c,c=n.d,d=n.tx,p=n.ty;let h=this.minX,y=this.minY,m=this.maxX,g=this.maxY,f=r*t+l*o+d,k=a*t+c*o+p;f<h&&(h=f),k<y&&(y=k),f>m&&(m=f),k>g&&(g=k),f=r*i+l*o+d,k=a*i+c*o+p,f<h&&(h=f),k<y&&(y=k),f>m&&(m=f),k>g&&(g=k),f=r*t+l*s+d,k=a*t+c*s+p,f<h&&(h=f),k<y&&(y=k),f>m&&(m=f),k>g&&(g=k),f=r*i+l*s+d,k=a*i+c*s+p,f<h&&(h=f),k<y&&(y=k),f>m&&(m=f),k>g&&(g=k),this.minX=h,this.minY=y,this.maxX=m,this.maxY=g}addRect(t,o){this.addFrame(t.x,t.y,t.x+t.width,t.y+t.height,o)}addBounds(t,o){this.addFrame(t.minX,t.minY,t.maxX,t.maxY,o)}addBoundsMask(t){this.minX=this.minX>t.minX?this.minX:t.minX,this.minY=this.minY>t.minY?this.minY:t.minY,this.maxX=this.maxX<t.maxX?this.maxX:t.maxX,this.maxY=this.maxY<t.maxY?this.maxY:t.maxY}applyMatrix(t){const o=this.minX,i=this.minY,s=this.maxX,n=this.maxY,{a:r,b:a,c:l,d:c,tx:d,ty:p}=t;let h=r*o+l*i+d,y=a*o+c*i+p;this.minX=h,this.minY=y,this.maxX=h,this.maxY=y,h=r*s+l*i+d,y=a*s+c*i+p,this.minX=h<this.minX?h:this.minX,this.minY=y<this.minY?y:this.minY,this.maxX=h>this.maxX?h:this.maxX,this.maxY=y>this.maxY?y:this.maxY,h=r*o+l*n+d,y=a*o+c*n+p,this.minX=h<this.minX?h:this.minX,this.minY=y<this.minY?y:this.minY,this.maxX=h>this.maxX?h:this.maxX,this.maxY=y>this.maxY?y:this.maxY,h=r*s+l*n+d,y=a*s+c*n+p,this.minX=h<this.minX?h:this.minX,this.minY=y<this.minY?y:this.minY,this.maxX=h>this.maxX?h:this.maxX,this.maxY=y>this.maxY?y:this.maxY}fit(t){return this.minX<t.left&&(this.minX=t.left),this.maxX>t.right&&(this.maxX=t.right),this.minY<t.top&&(this.minY=t.top),this.maxY>t.bottom&&(this.maxY=t.bottom),this}fitBounds(t,o,i,s){return this.minX<t&&(this.minX=t),this.maxX>o&&(this.maxX=o),this.minY<i&&(this.minY=i),this.maxY>s&&(this.maxY=s),this}pad(t,o=t){return this.minX-=t,this.maxX+=t,this.minY-=o,this.maxY+=o,this}ceil(){return this.minX=Math.floor(this.minX),this.minY=Math.floor(this.minY),this.maxX=Math.ceil(this.maxX),this.maxY=Math.ceil(this.maxY),this}clone(){return new de(this.minX,this.minY,this.maxX,this.maxY)}scale(t,o=t){return this.minX*=t,this.minY*=o,this.maxX*=t,this.maxY*=o,this}get x(){return this.minX}set x(t){const o=this.maxX-this.minX;this.minX=t,this.maxX=t+o}get y(){return this.minY}set y(t){const o=this.maxY-this.minY;this.minY=t,this.maxY=t+o}get width(){return this.maxX-this.minX}set width(t){this.maxX=this.minX+t}get height(){return this.maxY-this.minY}set height(t){this.maxY=this.minY+t}get left(){return this.minX}get right(){return this.maxX}get top(){return this.minY}get bottom(){return this.maxY}get isPositive(){return this.maxX-this.minX>0&&this.maxY-this.minY>0}get isValid(){return this.minX+this.minY!==1/0}addVertexData(t,o,i,s){let n=this.minX,r=this.minY,a=this.maxX,l=this.maxY;s||(s=this.matrix);const c=s.a,d=s.b,p=s.c,h=s.d,y=s.tx,m=s.ty;for(let g=o;g<i;g+=2){const f=t[g],k=t[g+1],w=c*f+p*k+y,B=d*f+h*k+m;n=w<n?w:n,r=B<r?B:r,a=w>a?w:a,l=B>l?B:l}this.minX=n,this.minY=r,this.maxX=a,this.maxY=l}containsPoint(t,o){return this.minX<=t&&this.minY<=o&&this.maxX>=t&&this.maxY>=o}toString(){return`[pixi.js:Bounds minX=${this.minX} minY=${this.minY} maxX=${this.maxX} maxY=${this.maxY} width=${this.width} height=${this.height}]`}copyFrom(t){return this.minX=t.minX,this.minY=t.minY,this.maxX=t.maxX,this.maxY=t.maxY,this}}var py={grad:.9,turn:360,rad:360/(2*Math.PI)},ge=function(e){return typeof e=="string"?e.length>0:typeof e=="number"},kt=function(e,t,o){return t===void 0&&(t=0),o===void 0&&(o=Math.pow(10,t)),Math.round(o*e)/o+0},Ut=function(e,t,o){return t===void 0&&(t=0),o===void 0&&(o=1),e>o?o:e>t?e:t},bc=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},Dr=function(e){return{r:Ut(e.r,0,255),g:Ut(e.g,0,255),b:Ut(e.b,0,255),a:Ut(e.a)}},es=function(e){return{r:kt(e.r),g:kt(e.g),b:kt(e.b),a:kt(e.a,3)}},yy=/^#([0-9a-f]{3,8})$/i,si=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},wc=function(e){var t=e.r,o=e.g,i=e.b,s=e.a,n=Math.max(t,o,i),r=n-Math.min(t,o,i),a=r?n===t?(o-i)/r:n===o?2+(i-t)/r:4+(t-o)/r:0;return{h:60*(a<0?a+6:a),s:n?r/n*100:0,v:n/255*100,a:s}},kc=function(e){var t=e.h,o=e.s,i=e.v,s=e.a;t=t/360*6,o/=100,i/=100;var n=Math.floor(t),r=i*(1-o),a=i*(1-(t-n)*o),l=i*(1-(1-t+n)*o),c=n%6;return{r:255*[i,a,r,r,l,i][c],g:255*[l,i,i,a,r,r][c],b:255*[r,r,l,i,i,a][c],a:s}},$r=function(e){return{h:bc(e.h),s:Ut(e.s,0,100),l:Ut(e.l,0,100),a:Ut(e.a)}},Fr=function(e){return{h:kt(e.h),s:kt(e.s),l:kt(e.l),a:kt(e.a,3)}},Or=function(e){return kc((o=(t=e).s,{h:t.h,s:(o*=((i=t.l)<50?i:100-i)/100)>0?2*o/(i+o)*100:0,v:i+o,a:t.a}));var t,o,i},$o=function(e){return{h:(t=wc(e)).h,s:(s=(200-(o=t.s))*(i=t.v)/100)>0&&s<200?o*i/100/(s<=100?s:200-s)*100:0,l:s/2,a:t.a};var t,o,i,s},hy=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,uy=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,fy=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,my=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,pn={string:[[function(e){var t=yy.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?kt(parseInt(e[3]+e[3],16)/255,2):1}:e.length===6||e.length===8?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:e.length===8?kt(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=fy.exec(e)||my.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:Dr({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t=hy.exec(e)||uy.exec(e);if(!t)return null;var o,i,s=$r({h:(o=t[1],i=t[2],i===void 0&&(i="deg"),Number(o)*(py[i]||1)),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)});return Or(s)},"hsl"]],object:[[function(e){var t=e.r,o=e.g,i=e.b,s=e.a,n=s===void 0?1:s;return ge(t)&&ge(o)&&ge(i)?Dr({r:Number(t),g:Number(o),b:Number(i),a:Number(n)}):null},"rgb"],[function(e){var t=e.h,o=e.s,i=e.l,s=e.a,n=s===void 0?1:s;if(!ge(t)||!ge(o)||!ge(i))return null;var r=$r({h:Number(t),s:Number(o),l:Number(i),a:Number(n)});return Or(r)},"hsl"],[function(e){var t=e.h,o=e.s,i=e.v,s=e.a,n=s===void 0?1:s;if(!ge(t)||!ge(o)||!ge(i))return null;var r=function(a){return{h:bc(a.h),s:Ut(a.s,0,100),v:Ut(a.v,0,100),a:Ut(a.a)}}({h:Number(t),s:Number(o),v:Number(i),a:Number(n)});return kc(r)},"hsv"]]},Nr=function(e,t){for(var o=0;o<t.length;o++){var i=t[o][0](e);if(i)return[i,t[o][1]]}return[null,void 0]},gy=function(e){return typeof e=="string"?Nr(e.trim(),pn.string):typeof e=="object"&&e!==null?Nr(e,pn.object):[null,void 0]},os=function(e,t){var o=$o(e);return{h:o.h,s:Ut(o.s+100*t,0,100),l:o.l,a:o.a}},is=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},Lr=function(e,t){var o=$o(e);return{h:o.h,s:o.s,l:Ut(o.l+100*t,0,100),a:o.a}},yn=function(){function e(t){this.parsed=gy(t)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return this.parsed!==null},e.prototype.brightness=function(){return kt(is(this.rgba),2)},e.prototype.isDark=function(){return is(this.rgba)<.5},e.prototype.isLight=function(){return is(this.rgba)>=.5},e.prototype.toHex=function(){return t=es(this.rgba),o=t.r,i=t.g,s=t.b,r=(n=t.a)<1?si(kt(255*n)):"","#"+si(o)+si(i)+si(s)+r;var t,o,i,s,n,r},e.prototype.toRgb=function(){return es(this.rgba)},e.prototype.toRgbString=function(){return t=es(this.rgba),o=t.r,i=t.g,s=t.b,(n=t.a)<1?"rgba("+o+", "+i+", "+s+", "+n+")":"rgb("+o+", "+i+", "+s+")";var t,o,i,s,n},e.prototype.toHsl=function(){return Fr($o(this.rgba))},e.prototype.toHslString=function(){return t=Fr($o(this.rgba)),o=t.h,i=t.s,s=t.l,(n=t.a)<1?"hsla("+o+", "+i+"%, "+s+"%, "+n+")":"hsl("+o+", "+i+"%, "+s+"%)";var t,o,i,s,n},e.prototype.toHsv=function(){return t=wc(this.rgba),{h:kt(t.h),s:kt(t.s),v:kt(t.v),a:kt(t.a,3)};var t},e.prototype.invert=function(){return re({r:255-(t=this.rgba).r,g:255-t.g,b:255-t.b,a:t.a});var t},e.prototype.saturate=function(t){return t===void 0&&(t=.1),re(os(this.rgba,t))},e.prototype.desaturate=function(t){return t===void 0&&(t=.1),re(os(this.rgba,-t))},e.prototype.grayscale=function(){return re(os(this.rgba,-1))},e.prototype.lighten=function(t){return t===void 0&&(t=.1),re(Lr(this.rgba,t))},e.prototype.darken=function(t){return t===void 0&&(t=.1),re(Lr(this.rgba,-t))},e.prototype.rotate=function(t){return t===void 0&&(t=15),this.hue(this.hue()+t)},e.prototype.alpha=function(t){return typeof t=="number"?re({r:(o=this.rgba).r,g:o.g,b:o.b,a:t}):kt(this.rgba.a,3);var o},e.prototype.hue=function(t){var o=$o(this.rgba);return typeof t=="number"?re({h:t,s:o.s,l:o.l,a:o.a}):kt(o.h)},e.prototype.isEqual=function(t){return this.toHex()===re(t).toHex()},e}(),re=function(e){return e instanceof yn?e:new yn(e)},Hr=[],xy=function(e){e.forEach(function(t){Hr.indexOf(t)<0&&(t(yn,pn),Hr.push(t))})};function by(e,t){var o={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},i={};for(var s in o)i[o[s]]=s;var n={};e.prototype.toName=function(r){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,l,c=i[this.toHex()];if(c)return c;if(r?.closest){var d=this.toRgb(),p=1/0,h="black";if(!n.length)for(var y in o)n[y]=new e(o[y]).toRgb();for(var m in o){var g=(a=d,l=n[m],Math.pow(a.r-l.r,2)+Math.pow(a.g-l.g,2)+Math.pow(a.b-l.b,2));g<p&&(p=g,h=m)}return h}},t.string.push([function(r){var a=r.toLowerCase(),l=a==="transparent"?"#0000":o[a];return l?new e(l).toRgb():null},"name"])}xy([by]);const ro=class Ro{constructor(t=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=t}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(t){return this.value=t,this}set value(t){if(t instanceof Ro)this._value=this._cloneSource(t._value),this._int=t._int,this._components.set(t._components);else{if(t===null)throw new Error("Cannot set Color#value to null");(this._value===null||!this._isSourceEqual(this._value,t))&&(this._value=this._cloneSource(t),this._normalize(this._value))}}get value(){return this._value}_cloneSource(t){return typeof t=="string"||typeof t=="number"||t instanceof Number||t===null?t:Array.isArray(t)||ArrayBuffer.isView(t)?t.slice(0):typeof t=="object"&&t!==null?{...t}:t}_isSourceEqual(t,o){const i=typeof t;if(i!==typeof o)return!1;if(i==="number"||i==="string"||t instanceof Number)return t===o;if(Array.isArray(t)&&Array.isArray(o)||ArrayBuffer.isView(t)&&ArrayBuffer.isView(o))return t.length!==o.length?!1:t.every((n,r)=>n===o[r]);if(t!==null&&o!==null){const n=Object.keys(t),r=Object.keys(o);return n.length!==r.length?!1:n.every(a=>t[a]===o[a])}return t===o}toRgba(){const[t,o,i,s]=this._components;return{r:t,g:o,b:i,a:s}}toRgb(){const[t,o,i]=this._components;return{r:t,g:o,b:i}}toRgbaString(){const[t,o,i]=this.toUint8RgbArray();return`rgba(${t},${o},${i},${this.alpha})`}toUint8RgbArray(t){const[o,i,s]=this._components;return this._arrayRgb||(this._arrayRgb=[]),t||(t=this._arrayRgb),t[0]=Math.round(o*255),t[1]=Math.round(i*255),t[2]=Math.round(s*255),t}toArray(t){this._arrayRgba||(this._arrayRgba=[]),t||(t=this._arrayRgba);const[o,i,s,n]=this._components;return t[0]=o,t[1]=i,t[2]=s,t[3]=n,t}toRgbArray(t){this._arrayRgb||(this._arrayRgb=[]),t||(t=this._arrayRgb);const[o,i,s]=this._components;return t[0]=o,t[1]=i,t[2]=s,t}toNumber(){return this._int}toBgrNumber(){const[t,o,i]=this.toUint8RgbArray();return(i<<16)+(o<<8)+t}toLittleEndianNumber(){const t=this._int;return(t>>16)+(t&65280)+((t&255)<<16)}multiply(t){const[o,i,s,n]=Ro._temp.setValue(t)._components;return this._components[0]*=o,this._components[1]*=i,this._components[2]*=s,this._components[3]*=n,this._refreshInt(),this._value=null,this}premultiply(t,o=!0){return o&&(this._components[0]*=t,this._components[1]*=t,this._components[2]*=t),this._components[3]=t,this._refreshInt(),this._value=null,this}toPremultiplied(t,o=!0){if(t===1)return(255<<24)+this._int;if(t===0)return o?0:this._int;let i=this._int>>16&255,s=this._int>>8&255,n=this._int&255;return o&&(i=i*t+.5|0,s=s*t+.5|0,n=n*t+.5|0),(t*255<<24)+(i<<16)+(s<<8)+n}toHex(){const t=this._int.toString(16);return`#${"000000".substring(0,6-t.length)+t}`}toHexa(){const o=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-o.length)+o}setAlpha(t){return this._components[3]=this._clamp(t),this}_normalize(t){let o,i,s,n;if((typeof t=="number"||t instanceof Number)&&t>=0&&t<=16777215){const r=t;o=(r>>16&255)/255,i=(r>>8&255)/255,s=(r&255)/255,n=1}else if((Array.isArray(t)||t instanceof Float32Array)&&t.length>=3&&t.length<=4)t=this._clamp(t),[o,i,s,n=1]=t;else if((t instanceof Uint8Array||t instanceof Uint8ClampedArray)&&t.length>=3&&t.length<=4)t=this._clamp(t,0,255),[o,i,s,n=255]=t,o/=255,i/=255,s/=255,n/=255;else if(typeof t=="string"||typeof t=="object"){if(typeof t=="string"){const a=Ro.HEX_PATTERN.exec(t);a&&(t=`#${a[2]}`)}const r=re(t);r.isValid()&&({r:o,g:i,b:s,a:n}=r.rgba,o/=255,i/=255,s/=255)}if(o!==void 0)this._components[0]=o,this._components[1]=i,this._components[2]=s,this._components[3]=n,this._refreshInt();else throw new Error(`Unable to convert color ${t}`)}_refreshInt(){this._clamp(this._components);const[t,o,i]=this._components;this._int=(t*255<<16)+(o*255<<8)+(i*255|0)}_clamp(t,o=0,i=1){return typeof t=="number"?Math.min(Math.max(t,o),i):(t.forEach((s,n)=>{t[n]=Math.min(Math.max(s,o),i)}),t)}static isColorLike(t){return typeof t=="number"||typeof t=="string"||t instanceof Number||t instanceof Ro||Array.isArray(t)||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Float32Array||t.r!==void 0&&t.g!==void 0&&t.b!==void 0||t.r!==void 0&&t.g!==void 0&&t.b!==void 0&&t.a!==void 0||t.h!==void 0&&t.s!==void 0&&t.l!==void 0||t.h!==void 0&&t.s!==void 0&&t.l!==void 0&&t.a!==void 0||t.h!==void 0&&t.s!==void 0&&t.v!==void 0||t.h!==void 0&&t.s!==void 0&&t.v!==void 0&&t.a!==void 0}};ro.shared=new ro;ro._temp=new ro;ro.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let vt=ro;const wy={cullArea:null,cullable:!1,cullableChildren:!0};class Hn{constructor(t,o){this._pool=[],this._count=0,this._index=0,this._classType=t,o&&this.prepopulate(o)}prepopulate(t){for(let o=0;o<t;o++)this._pool[this._index++]=new this._classType;this._count+=t}get(t){let o;return this._index>0?o=this._pool[--this._index]:o=new this._classType,o.init?.(t),o}return(t){t.reset?.(),this._pool[this._index++]=t}get totalSize(){return this._count}get totalFree(){return this._index}get totalUsed(){return this._count-this._index}clear(){this._pool.length=0,this._index=0}}class ky{constructor(){this._poolsByClass=new Map}prepopulate(t,o){this.getPool(t).prepopulate(o)}get(t,o){return this.getPool(t).get(o)}return(t){this.getPool(t.constructor).return(t)}getPool(t){return this._poolsByClass.has(t)||this._poolsByClass.set(t,new Hn(t)),this._poolsByClass.get(t)}stats(){const t={};return this._poolsByClass.forEach(o=>{const i=t[o._classType.name]?o._classType.name+o._classType.ID:o._classType.name;t[i]={free:o.totalFree,used:o.totalUsed,size:o.totalSize}}),t}}const ke=new ky,zy={get isCachedAsTexture(){return!!this.renderGroup?.isCachedAsTexture},cacheAsTexture(e){typeof e=="boolean"&&e===!1?this.disableRenderGroup():(this.enableRenderGroup(),this.renderGroup.enableCacheAsTexture(e===!0?{}:e))},updateCacheTexture(){this.renderGroup?.updateCacheTexture()},get cacheAsBitmap(){return this.isCachedAsTexture},set cacheAsBitmap(e){ft("v8.6.0","cacheAsBitmap is deprecated, use cacheAsTexture instead."),this.cacheAsTexture(e)}};function vy(e,t,o){const i=e.length;let s;if(t>=i||o===0)return;o=t+o>i?i-t:o;const n=i-o;for(s=t;s<n;++s)e[s]=e[s+o];e.length=n}const _y={allowChildren:!0,removeChildren(e=0,t){const o=t??this.children.length,i=o-e,s=[];if(i>0&&i<=o){for(let r=o-1;r>=e;r--){const a=this.children[r];a&&(s.push(a),a.parent=null)}vy(this.children,e,o);const n=this.renderGroup||this.parentRenderGroup;n&&n.removeChildren(s);for(let r=0;r<s.length;++r)this.emit("childRemoved",s[r],this,r),s[r].emit("removed",this);return s}else if(i===0&&this.children.length===0)return s;throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},removeChildAt(e){const t=this.getChildAt(e);return this.removeChild(t)},getChildAt(e){if(e<0||e>=this.children.length)throw new Error(`getChildAt: Index (${e}) does not exist.`);return this.children[e]},setChildIndex(e,t){if(t<0||t>=this.children.length)throw new Error(`The index ${t} supplied is out of bounds ${this.children.length}`);this.getChildIndex(e),this.addChildAt(e,t)},getChildIndex(e){const t=this.children.indexOf(e);if(t===-1)throw new Error("The supplied Container must be a child of the caller");return t},addChildAt(e,t){this.allowChildren||ft(St,"addChildAt: Only Containers will be allowed to add children in v8.0.0");const{children:o}=this;if(t<0||t>o.length)throw new Error(`${e}addChildAt: The index ${t} supplied is out of bounds ${o.length}`);if(e.parent){const s=e.parent.children.indexOf(e);if(e.parent===this&&s===t)return e;s!==-1&&e.parent.children.splice(s,1)}t===o.length?o.push(e):o.splice(t,0,e),e.parent=this,e.didChange=!0,e._updateFlags=15;const i=this.renderGroup||this.parentRenderGroup;return i&&i.addChild(e),this.sortableChildren&&(this.sortDirty=!0),this.emit("childAdded",e,this,t),e.emit("added",this),e},swapChildren(e,t){if(e===t)return;const o=this.getChildIndex(e),i=this.getChildIndex(t);this.children[o]=t,this.children[i]=e;const s=this.renderGroup||this.parentRenderGroup;s&&(s.structureDidChange=!0),this._didContainerChangeTick++},removeFromParent(){this.parent?.removeChild(this)},reparentChild(...e){return e.length===1?this.reparentChildAt(e[0],this.children.length):(e.forEach(t=>this.reparentChildAt(t,this.children.length)),e[0])},reparentChildAt(e,t){if(e.parent===this)return this.setChildIndex(e,t),e;const o=e.worldTransform.clone();e.removeFromParent(),this.addChildAt(e,t);const i=this.worldTransform.clone();return i.invert(),o.prepend(i),e.setFromMatrix(o),e}};class Gr{constructor(){this.pipe="filter",this.priority=1}destroy(){for(let t=0;t<this.filters.length;t++)this.filters[t].destroy();this.filters=null,this.filterArea=null}}class By{constructor(){this._effectClasses=[],this._tests=[],this._initialized=!1}init(){this._initialized||(this._initialized=!0,this._effectClasses.forEach(t=>{this.add({test:t.test,maskClass:t})}))}add(t){this._tests.push(t)}getMaskEffect(t){this._initialized||this.init();for(let o=0;o<this._tests.length;o++){const i=this._tests[o];if(i.test(t))return ke.get(i.maskClass,t)}return t}returnMaskEffect(t){ke.return(t)}}const hn=new By;Vt.handleByList(U.MaskEffect,hn._effectClasses);const Sy={_maskEffect:null,_maskOptions:{inverse:!1},_filterEffect:null,effects:[],_markStructureAsChanged(){const e=this.renderGroup||this.parentRenderGroup;e&&(e.structureDidChange=!0)},addEffect(e){this.effects.indexOf(e)===-1&&(this.effects.push(e),this.effects.sort((o,i)=>o.priority-i.priority),this._markStructureAsChanged(),this._updateIsSimple())},removeEffect(e){const t=this.effects.indexOf(e);t!==-1&&(this.effects.splice(t,1),this._markStructureAsChanged(),this._updateIsSimple())},set mask(e){const t=this._maskEffect;t?.mask!==e&&(t&&(this.removeEffect(t),hn.returnMaskEffect(t),this._maskEffect=null),e!=null&&(this._maskEffect=hn.getMaskEffect(e),this.addEffect(this._maskEffect)))},setMask(e){this._maskOptions={...this._maskOptions,...e},e.mask&&(this.mask=e.mask),this._markStructureAsChanged()},get mask(){return this._maskEffect?.mask},set filters(e){!Array.isArray(e)&&e&&(e=[e]);const t=this._filterEffect||(this._filterEffect=new Gr);e=e;const o=e?.length>0,i=t.filters?.length>0,s=o!==i;e=Array.isArray(e)?e.slice(0):e,t.filters=Object.freeze(e),s&&(o?this.addEffect(t):(this.removeEffect(t),t.filters=e??null))},get filters(){return this._filterEffect?.filters},set filterArea(e){this._filterEffect||(this._filterEffect=new Gr),this._filterEffect.filterArea=e},get filterArea(){return this._filterEffect?.filterArea}},Ay={label:null,get name(){return ft(St,"Container.name property has been removed, use Container.label instead"),this.label},set name(e){ft(St,"Container.name property has been removed, use Container.label instead"),this.label=e},getChildByName(e,t=!1){return this.getChildByLabel(e,t)},getChildByLabel(e,t=!1){const o=this.children;for(let i=0;i<o.length;i++){const s=o[i];if(s.label===e||e instanceof RegExp&&e.test(s.label))return s}if(t)for(let i=0;i<o.length;i++){const n=o[i].getChildByLabel(e,!0);if(n)return n}return null},getChildrenByLabel(e,t=!1,o=[]){const i=this.children;for(let s=0;s<i.length;s++){const n=i[s];(n.label===e||e instanceof RegExp&&e.test(n.label))&&o.push(n)}if(t)for(let s=0;s<i.length;s++)i[s].getChildrenByLabel(e,!0,o);return o}},Pt=new Hn(it),ao=new Hn(de);function zc(e,t,o){o.clear();let i,s;return e.parent?t?i=e.parent.worldTransform:(s=Pt.get().identity(),i=Gn(e,s)):i=it.IDENTITY,vc(e,o,i,t),s&&Pt.return(s),o.isValid||o.set(0,0,0,0),o}function vc(e,t,o,i){if(!e.visible||!e.measurable)return;let s;i?s=e.worldTransform:(e.updateLocalTransform(),s=Pt.get(),s.appendFrom(e.localTransform,o));const n=t,r=!!e.effects.length;if(r&&(t=ao.get().clear()),e.boundsArea)t.addRect(e.boundsArea,s);else{e.bounds&&(t.matrix=s,t.addBounds(e.bounds));for(let a=0;a<e.children.length;a++)vc(e.children[a],t,s,i)}if(r){for(let a=0;a<e.effects.length;a++)e.effects[a].addBounds?.(t);n.addBounds(t,it.IDENTITY),ao.return(t)}i||Pt.return(s)}function Gn(e,t){const o=e.parent;return o&&(Gn(o,t),o.updateLocalTransform(),t.append(o.localTransform)),t}function _c(e,t){if(e===16777215||!t)return t;if(t===16777215||!e)return e;const o=e>>16&255,i=e>>8&255,s=e&255,n=t>>16&255,r=t>>8&255,a=t&255,l=o*n/255|0,c=i*r/255|0,d=s*a/255|0;return(l<<16)+(c<<8)+d}const Wr=16777215;function Ur(e,t){return e===Wr?t:t===Wr?e:_c(e,t)}function vi(e){return((e&255)<<16)+(e&65280)+(e>>16&255)}const Py={getGlobalAlpha(e){if(e)return this.renderGroup?this.renderGroup.worldAlpha:this.parentRenderGroup?this.parentRenderGroup.worldAlpha*this.alpha:this.alpha;let t=this.alpha,o=this.parent;for(;o;)t*=o.alpha,o=o.parent;return t},getGlobalTransform(e,t){if(t)return e.copyFrom(this.worldTransform);this.updateLocalTransform();const o=Gn(this,Pt.get().identity());return e.appendFrom(this.localTransform,o),Pt.return(o),e},getGlobalTint(e){if(e)return this.renderGroup?vi(this.renderGroup.worldColor):this.parentRenderGroup?vi(Ur(this.localColor,this.parentRenderGroup.worldColor)):this.tint;let t=this.localColor,o=this.parent;for(;o;)t=Ur(t,o.localColor),o=o.parent;return vi(t)}};let ss=0;const Vr=500;function ut(...e){ss!==Vr&&(ss++,ss===Vr?console.warn("PixiJS Warning: too many warnings, no more warnings will be reported to the console by PixiJS."):console.warn("PixiJS Warning: ",...e))}function Bc(e,t,o){return t.clear(),o||(o=it.IDENTITY),Sc(e,t,o,e,!0),t.isValid||t.set(0,0,0,0),t}function Sc(e,t,o,i,s){let n;if(s)n=Pt.get(),n=o.copyTo(n);else{if(!e.visible||!e.measurable)return;e.updateLocalTransform();const l=e.localTransform;n=Pt.get(),n.appendFrom(l,o)}const r=t,a=!!e.effects.length;if(a&&(t=ao.get().clear()),e.boundsArea)t.addRect(e.boundsArea,n);else{e.renderPipeId&&(t.matrix=n,t.addBounds(e.bounds));const l=e.children;for(let c=0;c<l.length;c++)Sc(l[c],t,n,i,!1)}if(a){for(let l=0;l<e.effects.length;l++)e.effects[l].addLocalBounds?.(t,i);r.addBounds(t,it.IDENTITY),ao.return(t)}Pt.return(n)}function Ac(e,t){const o=e.children;for(let i=0;i<o.length;i++){const s=o[i],n=s.uid,r=(s._didViewChangeTick&65535)<<16|s._didContainerChangeTick&65535,a=t.index;(t.data[a]!==n||t.data[a+1]!==r)&&(t.data[t.index]=n,t.data[t.index+1]=r,t.didChange=!0),t.index=a+2,s.children.length&&Ac(s,t)}return t.didChange}const Ry=new it,Cy={_localBoundsCacheId:-1,_localBoundsCacheData:null,_setWidth(e,t){const o=Math.sign(this.scale.x)||1;t!==0?this.scale.x=e/t*o:this.scale.x=o},_setHeight(e,t){const o=Math.sign(this.scale.y)||1;t!==0?this.scale.y=e/t*o:this.scale.y=o},getLocalBounds(){this._localBoundsCacheData||(this._localBoundsCacheData={data:[],index:1,didChange:!1,localBounds:new de});const e=this._localBoundsCacheData;return e.index=1,e.didChange=!1,e.data[0]!==this._didViewChangeTick&&(e.didChange=!0,e.data[0]=this._didViewChangeTick),Ac(this,e),e.didChange&&Bc(this,e.localBounds,Ry),e.localBounds},getBounds(e,t){return zc(this,e,t||new de)}},My={_onRender:null,set onRender(e){const t=this.renderGroup||this.parentRenderGroup;if(!e){this._onRender&&t?.removeOnRender(this),this._onRender=null;return}this._onRender||t?.addOnRender(this),this._onRender=e},get onRender(){return this._onRender}},Ey={_zIndex:0,sortDirty:!1,sortableChildren:!1,get zIndex(){return this._zIndex},set zIndex(e){this._zIndex!==e&&(this._zIndex=e,this.depthOfChildModified())},depthOfChildModified(){this.parent&&(this.parent.sortableChildren=!0,this.parent.sortDirty=!0),this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0)},sortChildren(){this.sortDirty&&(this.sortDirty=!1,this.children.sort(Iy))}};function Iy(e,t){return e._zIndex-t._zIndex}const Ty={getGlobalPosition(e=new At,t=!1){return this.parent?this.parent.toGlobal(this._position,e,t):(e.x=this._position.x,e.y=this._position.y),e},toGlobal(e,t,o=!1){const i=this.getGlobalTransform(Pt.get(),o);return t=i.apply(e,t),Pt.return(i),t},toLocal(e,t,o,i){t&&(e=t.toGlobal(e,o,i));const s=this.getGlobalTransform(Pt.get(),i);return o=s.applyInverse(e,o),Pt.return(s),o}};class Pc{constructor(){this.uid=gt("instructionSet"),this.instructions=[],this.instructionSize=0,this.renderables=[],this.gcTick=0}reset(){this.instructionSize=0}add(t){this.instructions[this.instructionSize++]=t}log(){this.instructions.length=this.instructionSize,console.table(this.instructions,["type","action"])}}let jy=0;class Dy{constructor(t){this._poolKeyHash=Object.create(null),this._texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1}createTexture(t,o,i){const s=new he({...this.textureOptions,width:t,height:o,resolution:1,antialias:i,autoGarbageCollect:!0});return new tt({source:s,label:`texturePool_${jy++}`})}getOptimalTexture(t,o,i=1,s){let n=Math.ceil(t*i-1e-6),r=Math.ceil(o*i-1e-6);n=Ri(n),r=Ri(r);const a=(n<<17)+(r<<1)+(s?1:0);this._texturePool[a]||(this._texturePool[a]=[]);let l=this._texturePool[a].pop();return l||(l=this.createTexture(n,r,s)),l.source._resolution=i,l.source.width=n/i,l.source.height=r/i,l.source.pixelWidth=n,l.source.pixelHeight=r,l.frame.x=0,l.frame.y=0,l.frame.width=t,l.frame.height=o,l.updateUvs(),this._poolKeyHash[l.uid]=a,l}getSameSizeTexture(t,o=!1){const i=t.source;return this.getOptimalTexture(t.width,t.height,i._resolution,o)}returnTexture(t){const o=this._poolKeyHash[t.uid];this._texturePool[o].push(t)}clear(t){if(t=t!==!1,t)for(const o in this._texturePool){const i=this._texturePool[o];if(i)for(let s=0;s<i.length;s++)i[s].destroy(!0)}this._texturePool={}}}const $y=new Dy;class Fy{constructor(){this.renderPipeId="renderGroup",this.root=null,this.canBundle=!1,this.renderGroupParent=null,this.renderGroupChildren=[],this.worldTransform=new it,this.worldColorAlpha=4294967295,this.worldColor=16777215,this.worldAlpha=1,this.childrenToUpdate=Object.create(null),this.updateTick=0,this.gcTick=0,this.childrenRenderablesToUpdate={list:[],index:0},this.structureDidChange=!0,this.instructionSet=new Pc,this._onRenderContainers=[],this.textureNeedsUpdate=!0,this.isCachedAsTexture=!1,this._matrixDirty=7}init(t){this.root=t,t._onRender&&this.addOnRender(t),t.didChange=!0;const o=t.children;for(let i=0;i<o.length;i++){const s=o[i];s._updateFlags=15,this.addChild(s)}}enableCacheAsTexture(t={}){this.textureOptions=t,this.isCachedAsTexture=!0,this.textureNeedsUpdate=!0}disableCacheAsTexture(){this.isCachedAsTexture=!1,this.texture&&($y.returnTexture(this.texture),this.texture=null)}updateCacheTexture(){this.textureNeedsUpdate=!0}reset(){this.renderGroupChildren.length=0;for(const t in this.childrenToUpdate){const o=this.childrenToUpdate[t];o.list.fill(null),o.index=0}this.childrenRenderablesToUpdate.index=0,this.childrenRenderablesToUpdate.list.fill(null),this.root=null,this.updateTick=0,this.structureDidChange=!0,this._onRenderContainers.length=0,this.renderGroupParent=null,this.disableCacheAsTexture()}get localTransform(){return this.root.localTransform}addRenderGroupChild(t){t.renderGroupParent&&t.renderGroupParent._removeRenderGroupChild(t),t.renderGroupParent=this,this.renderGroupChildren.push(t)}_removeRenderGroupChild(t){const o=this.renderGroupChildren.indexOf(t);o>-1&&this.renderGroupChildren.splice(o,1),t.renderGroupParent=null}addChild(t){if(this.structureDidChange=!0,t.parentRenderGroup=this,t.updateTick=-1,t.parent===this.root?t.relativeRenderGroupDepth=1:t.relativeRenderGroupDepth=t.parent.relativeRenderGroupDepth+1,t.didChange=!0,this.onChildUpdate(t),t.renderGroup){this.addRenderGroupChild(t.renderGroup);return}t._onRender&&this.addOnRender(t);const o=t.children;for(let i=0;i<o.length;i++)this.addChild(o[i])}removeChild(t){if(this.structureDidChange=!0,t._onRender&&(t.renderGroup||this.removeOnRender(t)),t.parentRenderGroup=null,t.renderGroup){this._removeRenderGroupChild(t.renderGroup);return}const o=t.children;for(let i=0;i<o.length;i++)this.removeChild(o[i])}removeChildren(t){for(let o=0;o<t.length;o++)this.removeChild(t[o])}onChildUpdate(t){let o=this.childrenToUpdate[t.relativeRenderGroupDepth];o||(o=this.childrenToUpdate[t.relativeRenderGroupDepth]={index:0,list:[]}),o.list[o.index++]=t}updateRenderable(t){t.globalDisplayStatus<7||(this.instructionSet.renderPipes[t.renderPipeId].updateRenderable(t),t.didViewUpdate=!1)}onChildViewUpdate(t){this.childrenRenderablesToUpdate.list[this.childrenRenderablesToUpdate.index++]=t}get isRenderable(){return this.root.localDisplayStatus===7&&this.worldAlpha>0}addOnRender(t){this._onRenderContainers.push(t)}removeOnRender(t){this._onRenderContainers.splice(this._onRenderContainers.indexOf(t),1)}runOnRender(){for(let t=0;t<this._onRenderContainers.length;t++)this._onRenderContainers[t]._onRender()}destroy(){this.disableCacheAsTexture(),this.renderGroupParent=null,this.root=null,this.childrenRenderablesToUpdate=null,this.childrenToUpdate=null,this.renderGroupChildren=null,this._onRenderContainers=null,this.instructionSet=null}getChildren(t=[]){const o=this.root.children;for(let i=0;i<o.length;i++)this._getChildren(o[i],t);return t}_getChildren(t,o=[]){if(o.push(t),t.renderGroup)return o;const i=t.children;for(let s=0;s<i.length;s++)this._getChildren(i[s],o);return o}invalidateMatrices(){this._matrixDirty=7}get inverseWorldTransform(){return this._matrixDirty&1?(this._matrixDirty&=-2,this._inverseWorldTransform||(this._inverseWorldTransform=new it),this._inverseWorldTransform.copyFrom(this.worldTransform).invert()):this._inverseWorldTransform}get textureOffsetInverseTransform(){return this._matrixDirty&2?(this._matrixDirty&=-3,this._textureOffsetInverseTransform||(this._textureOffsetInverseTransform=new it),this._textureOffsetInverseTransform.copyFrom(this.inverseWorldTransform).translate(-this._textureBounds.x,-this._textureBounds.y)):this._textureOffsetInverseTransform}get inverseParentTextureTransform(){if(!(this._matrixDirty&4))return this._inverseParentTextureTransform;this._matrixDirty&=-5;const t=this._parentCacheAsTextureRenderGroup;return t?(this._inverseParentTextureTransform||(this._inverseParentTextureTransform=new it),this._inverseParentTextureTransform.copyFrom(this.worldTransform).prepend(t.inverseWorldTransform).translate(-t._textureBounds.x,-t._textureBounds.y)):this.worldTransform}get cacheToLocalTransform(){return this._parentCacheAsTextureRenderGroup?this._parentCacheAsTextureRenderGroup.textureOffsetInverseTransform:null}}function Oy(e,t,o={}){for(const i in t)!o[i]&&t[i]!==void 0&&(e[i]=t[i])}const ns=new $t(null),rs=new $t(null),as=new $t(null,1,1),qr=1,Ny=2,ls=4;class Et extends ye{constructor(t={}){super(),this.uid=gt("renderable"),this._updateFlags=15,this.renderGroup=null,this.parentRenderGroup=null,this.parentRenderGroupIndex=0,this.didChange=!1,this.didViewUpdate=!1,this.relativeRenderGroupDepth=0,this.children=[],this.parent=null,this.includeInBuild=!0,this.measurable=!0,this.isSimple=!0,this.updateTick=-1,this.localTransform=new it,this.relativeGroupTransform=new it,this.groupTransform=this.relativeGroupTransform,this.destroyed=!1,this._position=new $t(this,0,0),this._scale=as,this._pivot=rs,this._skew=ns,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._rotation=0,this.localColor=16777215,this.localAlpha=1,this.groupAlpha=1,this.groupColor=16777215,this.groupColorAlpha=4294967295,this.localBlendMode="inherit",this.groupBlendMode="normal",this.localDisplayStatus=7,this.globalDisplayStatus=7,this._didContainerChangeTick=0,this._didViewChangeTick=0,this._didLocalTransformChangeId=-1,this.effects=[],Oy(this,t,{children:!0,parent:!0,effects:!0}),t.children?.forEach(o=>this.addChild(o)),t.parent?.addChild(this)}static mixin(t){Object.defineProperties(Et.prototype,Object.getOwnPropertyDescriptors(t))}set _didChangeId(t){this._didViewChangeTick=t>>12&4095,this._didContainerChangeTick=t&4095}get _didChangeId(){return this._didContainerChangeTick&4095|(this._didViewChangeTick&4095)<<12}addChild(...t){if(this.allowChildren||ft(St,"addChild: Only Containers will be allowed to add children in v8.0.0"),t.length>1){for(let s=0;s<t.length;s++)this.addChild(t[s]);return t[0]}const o=t[0],i=this.renderGroup||this.parentRenderGroup;return o.parent===this?(this.children.splice(this.children.indexOf(o),1),this.children.push(o),i&&(i.structureDidChange=!0),o):(o.parent&&o.parent.removeChild(o),this.children.push(o),this.sortableChildren&&(this.sortDirty=!0),o.parent=this,o.didChange=!0,o._updateFlags=15,i&&i.addChild(o),this.emit("childAdded",o,this,this.children.length-1),o.emit("added",this),this._didViewChangeTick++,o._zIndex!==0&&o.depthOfChildModified(),o)}removeChild(...t){if(t.length>1){for(let s=0;s<t.length;s++)this.removeChild(t[s]);return t[0]}const o=t[0],i=this.children.indexOf(o);return i>-1&&(this._didViewChangeTick++,this.children.splice(i,1),this.renderGroup?this.renderGroup.removeChild(o):this.parentRenderGroup&&this.parentRenderGroup.removeChild(o),o.parent=null,this.emit("childRemoved",o,this,i),o.emit("removed",this)),o}_onUpdate(t){t&&t===this._skew&&this._updateSkew(),this._didContainerChangeTick++,!this.didChange&&(this.didChange=!0,this.parentRenderGroup&&this.parentRenderGroup.onChildUpdate(this))}set isRenderGroup(t){!!this.renderGroup!==t&&(t?this.enableRenderGroup():this.disableRenderGroup())}get isRenderGroup(){return!!this.renderGroup}enableRenderGroup(){if(this.renderGroup)return;const t=this.parentRenderGroup;t?.removeChild(this),this.renderGroup=ke.get(Fy,this),this.groupTransform=it.IDENTITY,t?.addChild(this),this._updateIsSimple()}disableRenderGroup(){if(!this.renderGroup)return;const t=this.parentRenderGroup;t?.removeChild(this),ke.return(this.renderGroup),this.renderGroup=null,this.groupTransform=this.relativeGroupTransform,t?.addChild(this),this._updateIsSimple()}_updateIsSimple(){this.isSimple=!this.renderGroup&&this.effects.length===0}get worldTransform(){return this._worldTransform||(this._worldTransform=new it),this.renderGroup?this._worldTransform.copyFrom(this.renderGroup.worldTransform):this.parentRenderGroup&&this._worldTransform.appendFrom(this.relativeGroupTransform,this.parentRenderGroup.worldTransform),this._worldTransform}get x(){return this._position.x}set x(t){this._position.x=t}get y(){return this._position.y}set y(t){this._position.y=t}get position(){return this._position}set position(t){this._position.copyFrom(t)}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this._onUpdate(this._skew))}get angle(){return this.rotation*ty}set angle(t){this.rotation=t*ey}get pivot(){return this._pivot===rs&&(this._pivot=new $t(this,0,0)),this._pivot}set pivot(t){this._pivot===rs&&(this._pivot=new $t(this,0,0)),typeof t=="number"?this._pivot.set(t):this._pivot.copyFrom(t)}get skew(){return this._skew===ns&&(this._skew=new $t(this,0,0)),this._skew}set skew(t){this._skew===ns&&(this._skew=new $t(this,0,0)),this._skew.copyFrom(t)}get scale(){return this._scale===as&&(this._scale=new $t(this,1,1)),this._scale}set scale(t){this._scale===as&&(this._scale=new $t(this,0,0)),typeof t=="number"?this._scale.set(t):this._scale.copyFrom(t)}get width(){return Math.abs(this.scale.x*this.getLocalBounds().width)}set width(t){const o=this.getLocalBounds().width;this._setWidth(t,o)}get height(){return Math.abs(this.scale.y*this.getLocalBounds().height)}set height(t){const o=this.getLocalBounds().height;this._setHeight(t,o)}getSize(t){t||(t={});const o=this.getLocalBounds();return t.width=Math.abs(this.scale.x*o.width),t.height=Math.abs(this.scale.y*o.height),t}setSize(t,o){const i=this.getLocalBounds();typeof t=="object"?(o=t.height??t.width,t=t.width):o??(o=t),t!==void 0&&this._setWidth(t,i.width),o!==void 0&&this._setHeight(o,i.height)}_updateSkew(){const t=this._rotation,o=this._skew;this._cx=Math.cos(t+o._y),this._sx=Math.sin(t+o._y),this._cy=-Math.sin(t-o._x),this._sy=Math.cos(t-o._x)}updateTransform(t){return this.position.set(typeof t.x=="number"?t.x:this.position.x,typeof t.y=="number"?t.y:this.position.y),this.scale.set(typeof t.scaleX=="number"?t.scaleX||1:this.scale.x,typeof t.scaleY=="number"?t.scaleY||1:this.scale.y),this.rotation=typeof t.rotation=="number"?t.rotation:this.rotation,this.skew.set(typeof t.skewX=="number"?t.skewX:this.skew.x,typeof t.skewY=="number"?t.skewY:this.skew.y),this.pivot.set(typeof t.pivotX=="number"?t.pivotX:this.pivot.x,typeof t.pivotY=="number"?t.pivotY:this.pivot.y),this}setFromMatrix(t){t.decompose(this)}updateLocalTransform(){const t=this._didContainerChangeTick;if(this._didLocalTransformChangeId===t)return;this._didLocalTransformChangeId=t;const o=this.localTransform,i=this._scale,s=this._pivot,n=this._position,r=i._x,a=i._y,l=s._x,c=s._y;o.a=this._cx*r,o.b=this._sx*r,o.c=this._cy*a,o.d=this._sy*a,o.tx=n._x-(l*o.a+c*o.c),o.ty=n._y-(l*o.b+c*o.d)}set alpha(t){t!==this.localAlpha&&(this.localAlpha=t,this._updateFlags|=qr,this._onUpdate())}get alpha(){return this.localAlpha}set tint(t){const i=vt.shared.setValue(t??16777215).toBgrNumber();i!==this.localColor&&(this.localColor=i,this._updateFlags|=qr,this._onUpdate())}get tint(){return vi(this.localColor)}set blendMode(t){this.localBlendMode!==t&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=Ny,this.localBlendMode=t,this._onUpdate())}get blendMode(){return this.localBlendMode}get visible(){return!!(this.localDisplayStatus&2)}set visible(t){const o=t?2:0;(this.localDisplayStatus&2)!==o&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=ls,this.localDisplayStatus^=2,this._onUpdate())}get culled(){return!(this.localDisplayStatus&4)}set culled(t){const o=t?0:4;(this.localDisplayStatus&4)!==o&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=ls,this.localDisplayStatus^=4,this._onUpdate())}get renderable(){return!!(this.localDisplayStatus&1)}set renderable(t){const o=t?1:0;(this.localDisplayStatus&1)!==o&&(this._updateFlags|=ls,this.localDisplayStatus^=1,this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._onUpdate())}get isRenderable(){return this.localDisplayStatus===7&&this.groupAlpha>0}destroy(t=!1){if(this.destroyed)return;this.destroyed=!0;let o;if(this.children.length&&(o=this.removeChildren(0,this.children.length)),this.removeFromParent(),this.parent=null,this._maskEffect=null,this._filterEffect=null,this.effects=null,this._position=null,this._scale=null,this._pivot=null,this._skew=null,this.emit("destroyed",this),this.removeAllListeners(),(typeof t=="boolean"?t:t?.children)&&o)for(let s=0;s<o.length;++s)o[s].destroy(t);this.renderGroup?.destroy(),this.renderGroup=null}}Et.mixin(_y);Et.mixin(Ty);Et.mixin(My);Et.mixin(Cy);Et.mixin(Sy);Et.mixin(Ay);Et.mixin(Ey);Et.mixin(wy);Et.mixin(zy);Et.mixin(Py);class Ly extends Et{constructor(){super(...arguments),this.canBundle=!0,this.allowChildren=!1,this._roundPixels=0,this._lastUsed=-1,this._bounds=new de(0,1,0,0),this._boundsDirty=!0}get bounds(){return this._boundsDirty?(this.updateBounds(),this._boundsDirty=!1,this._bounds):this._bounds}get roundPixels(){return!!this._roundPixels}set roundPixels(t){this._roundPixels=t?1:0}containsPoint(t){const o=this.bounds,{x:i,y:s}=t;return i>=o.minX&&i<=o.maxX&&s>=o.minY&&s<=o.maxY}onViewUpdate(){if(this._didViewChangeTick++,this._boundsDirty=!0,this.didViewUpdate)return;this.didViewUpdate=!0;const t=this.renderGroup||this.parentRenderGroup;t&&t.onChildViewUpdate(this)}destroy(t){super.destroy(t),this._bounds=null}}class Lo extends Ly{constructor(t=tt.EMPTY){t instanceof tt&&(t={texture:t});const{texture:o=tt.EMPTY,anchor:i,roundPixels:s,width:n,height:r,...a}=t;super({label:"Sprite",...a}),this.renderPipeId="sprite",this.batched=!0,this._visualBounds={minX:0,maxX:1,minY:0,maxY:0},this._anchor=new $t({_onUpdate:()=>{this.onViewUpdate()}}),i?this.anchor=i:o.defaultAnchor&&(this.anchor=o.defaultAnchor),this.texture=o,this.allowChildren=!1,this.roundPixels=s??!1,n!==void 0&&(this.width=n),r!==void 0&&(this.height=r)}static from(t,o=!1){return t instanceof tt?new Lo(t):new Lo(tt.from(t,o))}set texture(t){t||(t=tt.EMPTY);const o=this._texture;o!==t&&(o&&o.dynamic&&o.off("update",this.onViewUpdate,this),t.dynamic&&t.on("update",this.onViewUpdate,this),this._texture=t,this._width&&this._setWidth(this._width,this._texture.orig.width),this._height&&this._setHeight(this._height,this._texture.orig.height),this.onViewUpdate())}get texture(){return this._texture}get visualBounds(){return dy(this._visualBounds,this._anchor,this._texture,0),this._visualBounds}get sourceBounds(){return ft("8.6.1","Sprite.sourceBounds is deprecated, use visualBounds instead."),this.visualBounds}updateBounds(){const t=this._anchor,o=this._texture,i=this._bounds,{width:s,height:n}=o.orig;i.minX=-t._x*s,i.maxX=i.minX+s,i.minY=-t._y*n,i.maxY=i.minY+n}destroy(t=!1){if(super.destroy(t),typeof t=="boolean"?t:t?.texture){const i=typeof t=="boolean"?t:t?.textureSource;this._texture.destroy(i)}this._texture=null,this._visualBounds=null,this._bounds=null,this._anchor=null}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this._setWidth(t,this._texture.orig.width),this._width=t}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this._setHeight(t,this._texture.orig.height),this._height=t}getSize(t){return t||(t={}),t.width=Math.abs(this.scale.x)*this._texture.orig.width,t.height=Math.abs(this.scale.y)*this._texture.orig.height,t}setSize(t,o){typeof t=="object"?(o=t.height??t.width,t=t.width):o??(o=t),t!==void 0&&this._setWidth(t,this._texture.orig.width),o!==void 0&&this._setHeight(o,this._texture.orig.height)}}const Hy=new de;function Rc(e,t,o){const i=Hy;e.measurable=!0,zc(e,o,i),t.addBoundsMask(i),e.measurable=!1}function Cc(e,t,o){const i=ao.get();e.measurable=!0;const s=Pt.get().identity(),n=Mc(e,o,s);Bc(e,i,n),e.measurable=!1,t.addBoundsMask(i),Pt.return(s),ao.return(i)}function Mc(e,t,o){return e?(e!==t&&(Mc(e.parent,t,o),e.updateLocalTransform(),o.append(e.localTransform)),o):(ut("Mask bounds, renderable is not inside the root container"),o)}class Ec{constructor(t){this.priority=0,this.inverse=!1,this.pipe="alphaMask",t?.mask&&this.init(t.mask)}init(t){this.mask=t,this.renderMaskToTexture=!(t instanceof Lo),this.mask.renderable=this.renderMaskToTexture,this.mask.includeInBuild=!this.renderMaskToTexture,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask=null}addBounds(t,o){this.inverse||Rc(this.mask,t,o)}addLocalBounds(t,o){Cc(this.mask,t,o)}containsPoint(t,o){const i=this.mask;return o(i,t)}destroy(){this.reset()}static test(t){return t instanceof Lo}}Ec.extension=U.MaskEffect;class Ic{constructor(t){this.priority=0,this.pipe="colorMask",t?.mask&&this.init(t.mask)}init(t){this.mask=t}destroy(){}static test(t){return typeof t=="number"}}Ic.extension=U.MaskEffect;class Tc{constructor(t){this.priority=0,this.pipe="stencilMask",t?.mask&&this.init(t.mask)}init(t){this.mask=t,this.mask.includeInBuild=!1,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask.includeInBuild=!0,this.mask=null}addBounds(t,o){Rc(this.mask,t,o)}addLocalBounds(t,o){Cc(this.mask,t,o)}containsPoint(t,o){const i=this.mask;return o(i,t)}destroy(){this.reset()}static test(t){return t instanceof Et}}Tc.extension=U.MaskEffect;const Gy={createCanvas:(e,t)=>{const o=document.createElement("canvas");return o.width=e,o.height=t,o},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(e,t)=>fetch(e,t),parseXML:e=>new DOMParser().parseFromString(e,"text/xml")};let Yr=Gy;const xt={get(){return Yr},set(e){Yr=e}};class jc extends he{constructor(t){t.resource||(t.resource=xt.get().createCanvas()),t.width||(t.width=t.resource.width,t.autoDensity||(t.width/=t.resolution)),t.height||(t.height=t.resource.height,t.autoDensity||(t.height/=t.resolution)),super(t),this.uploadMethodId="image",this.autoDensity=t.autoDensity,this.resizeCanvas(),this.transparent=!!t.transparent}resizeCanvas(){this.autoDensity&&(this.resource.style.width=`${this.width}px`,this.resource.style.height=`${this.height}px`),(this.resource.width!==this.pixelWidth||this.resource.height!==this.pixelHeight)&&(this.resource.width=this.pixelWidth,this.resource.height=this.pixelHeight)}resize(t=this.width,o=this.height,i=this._resolution){const s=super.resize(t,o,i);return s&&this.resizeCanvas(),s}static test(t){return globalThis.HTMLCanvasElement&&t instanceof HTMLCanvasElement||globalThis.OffscreenCanvas&&t instanceof OffscreenCanvas}get context2D(){return this._context2D||(this._context2D=this.resource.getContext("2d"))}}jc.extension=U.TextureSource;class ho extends he{constructor(t){if(t.resource&&globalThis.HTMLImageElement&&t.resource instanceof HTMLImageElement){const o=xt.get().createCanvas(t.resource.width,t.resource.height);o.getContext("2d").drawImage(t.resource,0,0,t.resource.width,t.resource.height),t.resource=o,ut("ImageSource: Image element passed, converting to canvas. Use CanvasSource instead.")}super(t),this.uploadMethodId="image",this.autoGarbageCollect=!0}static test(t){return globalThis.HTMLImageElement&&t instanceof HTMLImageElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap||globalThis.VideoFrame&&t instanceof VideoFrame}}ho.extension=U.TextureSource;var Ci=(e=>(e[e.INTERACTION=50]="INTERACTION",e[e.HIGH=25]="HIGH",e[e.NORMAL=0]="NORMAL",e[e.LOW=-25]="LOW",e[e.UTILITY=-50]="UTILITY",e))(Ci||{});class cs{constructor(t,o=null,i=0,s=!1){this.next=null,this.previous=null,this._destroyed=!1,this._fn=t,this._context=o,this.priority=i,this._once=s}match(t,o=null){return this._fn===t&&this._context===o}emit(t){this._fn&&(this._context?this._fn.call(this._context,t):this._fn(t));const o=this.next;return this._once&&this.destroy(!0),this._destroyed&&(this.next=null),o}connect(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this}destroy(t=!1){this._destroyed=!0,this._fn=null,this._context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const o=this.next;return this.next=t?null:o,this.previous=null,o}}const Dc=class Dt{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new cs(null,null,1/0),this.deltaMS=1/Dt.targetFPMS,this.elapsedMS=1/Dt.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,o,i=Ci.NORMAL){return this._addListener(new cs(t,o,i))}addOnce(t,o,i=Ci.NORMAL){return this._addListener(new cs(t,o,i,!0))}_addListener(t){let o=this._head.next,i=this._head;if(!o)t.connect(i);else{for(;o;){if(t.priority>o.priority){t.connect(i);break}i=o,o=o.next}t.previous||t.connect(i)}return this._startIfPossible(),this}remove(t,o){let i=this._head.next;for(;i;)i.match(t,o)?i=i.destroy():i=i.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,o=this._head;for(;o=o.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let o;if(t>this.lastTime){if(o=this.elapsedMS=t-this.lastTime,o>this._maxElapsedMS&&(o=this._maxElapsedMS),o*=this.speed,this._minElapsedMS){const n=t-this._lastFrame|0;if(n<this._minElapsedMS)return;this._lastFrame=t-n%this._minElapsedMS}this.deltaMS=o,this.deltaTime=this.deltaMS*Dt.targetFPMS;const i=this._head;let s=i.next;for(;s;)s=s.emit(this);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const o=Math.min(this.maxFPS,t),i=Math.min(Math.max(0,o)/1e3,Dt.targetFPMS);this._maxElapsedMS=1/i}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){if(t===0)this._minElapsedMS=0;else{const o=Math.max(this.minFPS,t);this._minElapsedMS=1/(o/1e3)}}static get shared(){if(!Dt._shared){const t=Dt._shared=new Dt;t.autoStart=!0,t._protected=!0}return Dt._shared}static get system(){if(!Dt._system){const t=Dt._system=new Dt;t.autoStart=!0,t._protected=!0}return Dt._system}};Dc.targetFPMS=.06;let ce=Dc,ds;async function $c(){return ds??(ds=(async()=>{const t=document.createElement("canvas").getContext("webgl");if(!t)return"premultiply-alpha-on-upload";const o=await new Promise(r=>{const a=document.createElement("video");a.onloadeddata=()=>r(a),a.onerror=()=>r(null),a.autoplay=!1,a.crossOrigin="anonymous",a.preload="auto",a.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",a.load()});if(!o)return"premultiply-alpha-on-upload";const i=t.createTexture();t.bindTexture(t.TEXTURE_2D,i);const s=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,s),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,i,0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,o);const n=new Uint8Array(4);return t.readPixels(0,0,1,1,t.RGBA,t.UNSIGNED_BYTE,n),t.deleteFramebuffer(s),t.deleteTexture(i),t.getExtension("WEBGL_lose_context")?.loseContext(),n[0]<=n[3]?"premultiplied-alpha":"premultiply-alpha-on-upload"})()),ds}const Oi=class Fc extends he{constructor(t){super(t),this.isReady=!1,this.uploadMethodId="video",t={...Fc.defaultOptions,...t},this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=t.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=t.autoPlay!==!1,this.alphaMode=t.alphaMode??"premultiply-alpha-on-upload",this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onCanPlayThrough=this._onCanPlayThrough.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),t.autoLoad!==!1&&this.load()}updateFrame(){if(!this.destroyed){if(this._updateFPS){const t=ce.shared.elapsedMS*this.resource.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-t)}(!this._updateFPS||this._msToNextUpdate<=0)&&(this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0),this.isValid&&this.update()}}_videoFrameRequestCallback(){this.updateFrame(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback)}get isValid(){return!!this.resource.videoWidth&&!!this.resource.videoHeight}async load(){if(this._load)return this._load;const t=this.resource,o=this.options;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart),t.addEventListener("pause",this._onPlayStop),t.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._mediaReady():(o.preload||t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlayThrough),t.addEventListener("error",this._onError,!0)),this.alphaMode=await $c(),this._load=new Promise((i,s)=>{this.isValid?i(this):(this._resolve=i,this._reject=s,o.preloadTimeoutMs!==void 0&&(this._preloadTimeout=setTimeout(()=>{this._onError(new ErrorEvent(`Preload exceeded timeout of ${o.preloadTimeoutMs}ms`))})),t.load())}),this._load}_onError(t){this.resource.removeEventListener("error",this._onError,!0),this.emit("error",t),this._reject&&(this._reject(t),this._reject=null,this._resolve=null)}_isSourcePlaying(){const t=this.resource;return!t.paused&&!t.ended}_isSourceReady(){return this.resource.readyState>2}_onPlayStart(){this.isValid||this._mediaReady(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0)}_onCanPlay(){this.resource.removeEventListener("canplay",this._onCanPlay),this._mediaReady()}_onCanPlayThrough(){this.resource.removeEventListener("canplaythrough",this._onCanPlay),this._preloadTimeout&&(clearTimeout(this._preloadTimeout),this._preloadTimeout=void 0),this._mediaReady()}_mediaReady(){const t=this.resource;this.isValid&&(this.isReady=!0,this.resize(t.videoWidth,t.videoHeight)),this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0,this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.resource.play()}destroy(){this._configureAutoUpdate();const t=this.resource;t&&(t.removeEventListener("play",this._onPlayStart),t.removeEventListener("pause",this._onPlayStop),t.removeEventListener("seeked",this._onSeeked),t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlayThrough),t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.destroy()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.resource.requestVideoFrameCallback?(this._isConnectedToTicker&&(ce.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(ce.shared.add(this.updateFrame,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(ce.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(t){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement}};Oi.extension=U.TextureSource;Oi.defaultOptions={...he.defaultOptions,autoLoad:!0,autoPlay:!0,updateFPS:0,crossorigin:!0,loop:!1,muted:!0,playsinline:!0,preload:!1};Oi.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let _i=Oi;const Zt=(e,t,o=!1)=>(Array.isArray(e)||(e=[e]),t?e.map(i=>typeof i=="string"||o?t(i):i):e);class Wy{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(t){return this._cache.has(t)}get(t){const o=this._cache.get(t);return o||ut(`[Assets] Asset id ${t} was not found in the Cache`),o}set(t,o){const i=Zt(t);let s;for(let l=0;l<this.parsers.length;l++){const c=this.parsers[l];if(c.test(o)){s=c.getCacheableAssets(i,o);break}}const n=new Map(Object.entries(s||{}));s||i.forEach(l=>{n.set(l,o)});const r=[...n.keys()],a={cacheKeys:r,keys:i};i.forEach(l=>{this._cacheMap.set(l,a)}),r.forEach(l=>{const c=s?s[l]:o;this._cache.has(l)&&this._cache.get(l)!==c&&ut("[Cache] already has key:",l),this._cache.set(l,n.get(l))})}remove(t){if(!this._cacheMap.has(t)){ut(`[Assets] Asset id ${t} was not found in the Cache`);return}const o=this._cacheMap.get(t);o.cacheKeys.forEach(s=>{this._cache.delete(s)}),o.keys.forEach(s=>{this._cacheMap.delete(s)})}get parsers(){return this._parsers}}const yt=new Wy,un=[];Vt.handleByList(U.TextureSource,un);function Oc(e={}){const t=e&&e.resource,o=t?e.resource:e,i=t?e:{resource:e};for(let s=0;s<un.length;s++){const n=un[s];if(n.test(o))return new n(i)}throw new Error(`Could not find a source type for resource: ${i.resource}`)}function Uy(e={},t=!1){const o=e&&e.resource,i=o?e.resource:e,s=o?e:{resource:e};if(!t&&yt.has(i))return yt.get(i);const n=new tt({source:Oc(s)});return n.on("destroy",()=>{yt.has(i)&&yt.remove(i)}),t||yt.set(i,n),n}function Vy(e,t=!1){return typeof e=="string"?yt.get(e):e instanceof he?new tt({source:e}):Uy(e,t)}tt.from=Vy;he.from=Oc;Vt.add(Ec,Ic,Tc,_i,ho,jc,Ln);var Re=(e=>(e[e.Low=0]="Low",e[e.Normal=1]="Normal",e[e.High=2]="High",e))(Re||{});function Xt(e){if(typeof e!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(e)}`)}function xo(e){return e.split("?")[0].split("#")[0]}function qy(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Yy(e,t,o){return e.replace(new RegExp(qy(t),"g"),o)}function Xy(e,t){let o="",i=0,s=-1,n=0,r=-1;for(let a=0;a<=e.length;++a){if(a<e.length)r=e.charCodeAt(a);else{if(r===47)break;r=47}if(r===47){if(!(s===a-1||n===1))if(s!==a-1&&n===2){if(o.length<2||i!==2||o.charCodeAt(o.length-1)!==46||o.charCodeAt(o.length-2)!==46){if(o.length>2){const l=o.lastIndexOf("/");if(l!==o.length-1){l===-1?(o="",i=0):(o=o.slice(0,l),i=o.length-1-o.lastIndexOf("/")),s=a,n=0;continue}}else if(o.length===2||o.length===1){o="",i=0,s=a,n=0;continue}}}else o.length>0?o+=`/${e.slice(s+1,a)}`:o=e.slice(s+1,a),i=a-s-1;s=a,n=0}else r===46&&n!==-1?++n:n=-1}return o}const Ft={toPosix(e){return Yy(e,"\\","/")},isUrl(e){return/^https?:/.test(this.toPosix(e))},isDataUrl(e){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(e)},isBlobUrl(e){return e.startsWith("blob:")},hasProtocol(e){return/^[^/:]+:/.test(this.toPosix(e))},getProtocol(e){Xt(e),e=this.toPosix(e);const t=/^file:\/\/\//.exec(e);if(t)return t[0];const o=/^[^/:]+:\/{0,2}/.exec(e);return o?o[0]:""},toAbsolute(e,t,o){if(Xt(e),this.isDataUrl(e)||this.isBlobUrl(e))return e;const i=xo(this.toPosix(t??xt.get().getBaseUrl())),s=xo(this.toPosix(o??this.rootname(i)));return e=this.toPosix(e),e.startsWith("/")?Ft.join(s,e.slice(1)):this.isAbsolute(e)?e:this.join(i,e)},normalize(e){if(Xt(e),e.length===0)return".";if(this.isDataUrl(e)||this.isBlobUrl(e))return e;e=this.toPosix(e);let t="";const o=e.startsWith("/");this.hasProtocol(e)&&(t=this.rootname(e),e=e.slice(t.length));const i=e.endsWith("/");return e=Xy(e),e.length>0&&i&&(e+="/"),o?`/${e}`:t+e},isAbsolute(e){return Xt(e),e=this.toPosix(e),this.hasProtocol(e)?!0:e.startsWith("/")},join(...e){if(e.length===0)return".";let t;for(let o=0;o<e.length;++o){const i=e[o];if(Xt(i),i.length>0)if(t===void 0)t=i;else{const s=e[o-1]??"";this.joinExtensions.includes(this.extname(s).toLowerCase())?t+=`/../${i}`:t+=`/${i}`}}return t===void 0?".":this.normalize(t)},dirname(e){if(Xt(e),e.length===0)return".";e=this.toPosix(e);let t=e.charCodeAt(0);const o=t===47;let i=-1,s=!0;const n=this.getProtocol(e),r=e;e=e.slice(n.length);for(let a=e.length-1;a>=1;--a)if(t=e.charCodeAt(a),t===47){if(!s){i=a;break}}else s=!1;return i===-1?o?"/":this.isUrl(r)?n+e:n:o&&i===1?"//":n+e.slice(0,i)},rootname(e){Xt(e),e=this.toPosix(e);let t="";if(e.startsWith("/")?t="/":t=this.getProtocol(e),this.isUrl(e)){const o=e.indexOf("/",t.length);o!==-1?t=e.slice(0,o):t=e,t.endsWith("/")||(t+="/")}return t},basename(e,t){Xt(e),t&&Xt(t),e=xo(this.toPosix(e));let o=0,i=-1,s=!0,n;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";let r=t.length-1,a=-1;for(n=e.length-1;n>=0;--n){const l=e.charCodeAt(n);if(l===47){if(!s){o=n+1;break}}else a===-1&&(s=!1,a=n+1),r>=0&&(l===t.charCodeAt(r)?--r===-1&&(i=n):(r=-1,i=a))}return o===i?i=a:i===-1&&(i=e.length),e.slice(o,i)}for(n=e.length-1;n>=0;--n)if(e.charCodeAt(n)===47){if(!s){o=n+1;break}}else i===-1&&(s=!1,i=n+1);return i===-1?"":e.slice(o,i)},extname(e){Xt(e),e=xo(this.toPosix(e));let t=-1,o=0,i=-1,s=!0,n=0;for(let r=e.length-1;r>=0;--r){const a=e.charCodeAt(r);if(a===47){if(!s){o=r+1;break}continue}i===-1&&(s=!1,i=r+1),a===46?t===-1?t=r:n!==1&&(n=1):t!==-1&&(n=-1)}return t===-1||i===-1||n===0||n===1&&t===i-1&&t===o+1?"":e.slice(t,i)},parse(e){Xt(e);const t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;e=xo(this.toPosix(e));let o=e.charCodeAt(0);const i=this.isAbsolute(e);let s;t.root=this.rootname(e),i||this.hasProtocol(e)?s=1:s=0;let n=-1,r=0,a=-1,l=!0,c=e.length-1,d=0;for(;c>=s;--c){if(o=e.charCodeAt(c),o===47){if(!l){r=c+1;break}continue}a===-1&&(l=!1,a=c+1),o===46?n===-1?n=c:d!==1&&(d=1):n!==-1&&(d=-1)}return n===-1||a===-1||d===0||d===1&&n===a-1&&n===r+1?a!==-1&&(r===0&&i?t.base=t.name=e.slice(1,a):t.base=t.name=e.slice(r,a)):(r===0&&i?(t.name=e.slice(1,n),t.base=e.slice(1,a)):(t.name=e.slice(r,n),t.base=e.slice(r,a)),t.ext=e.slice(n,a)),t.dir=this.dirname(e),t},sep:"/",delimiter:":",joinExtensions:[".html"]};function Nc(e,t,o,i,s){const n=t[o];for(let r=0;r<n.length;r++){const a=n[r];o<t.length-1?Nc(e.replace(i[o],a),t,o+1,i,s):s.push(e.replace(i[o],a))}}function Ky(e){const t=/\{(.*?)\}/g,o=e.match(t),i=[];if(o){const s=[];o.forEach(n=>{const r=n.substring(1,n.length-1).split(",");s.push(r)}),Nc(e,s,0,o,i)}else i.push(e);return i}const Mi=e=>!Array.isArray(e);class uo{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(t,o)=>`${t}${this._bundleIdConnector}${o}`,extractAssetIdFromBundle:(t,o)=>o.replace(`${t}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(t){if(this._bundleIdConnector=t.connector??this._bundleIdConnector,this._createBundleAssetId=t.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=t.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...t){t.forEach(o=>{this._preferredOrder.push(o),o.priority||(o.priority=Object.keys(o.params))}),this._resolverHash={}}set basePath(t){this._basePath=t}get basePath(){return this._basePath}set rootPath(t){this._rootPath=t}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(t){if(typeof t=="string")this._defaultSearchParams=t;else{const o=t;this._defaultSearchParams=Object.keys(o).map(i=>`${encodeURIComponent(i)}=${encodeURIComponent(o[i])}`).join("&")}}getAlias(t){const{alias:o,src:i}=t;return Zt(o||i,n=>typeof n=="string"?n:Array.isArray(n)?n.map(r=>r?.src??r):n?.src?n.src:n,!0)}addManifest(t){this._manifest&&ut("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=t,t.bundles.forEach(o=>{this.addBundle(o.name,o.assets)})}addBundle(t,o){const i=[];let s=o;Array.isArray(o)||(s=Object.entries(o).map(([n,r])=>typeof r=="string"||Array.isArray(r)?{alias:n,src:r}:{alias:n,...r})),s.forEach(n=>{const r=n.src,a=n.alias;let l;if(typeof a=="string"){const c=this._createBundleAssetId(t,a);i.push(c),l=[a,c]}else{const c=a.map(d=>this._createBundleAssetId(t,d));i.push(...c),l=[...a,...c]}this.add({...n,alias:l,src:r})}),this._bundles[t]=i}add(t){const o=[];Array.isArray(t)?o.push(...t):o.push(t);let i;i=n=>{this.hasKey(n)&&ut(`[Resolver] already has key: ${n} overwriting`)},Zt(o).forEach(n=>{const{src:r}=n;let{data:a,format:l,loadParser:c}=n;const d=Zt(r).map(y=>typeof y=="string"?Ky(y):Array.isArray(y)?y:[y]),p=this.getAlias(n);Array.isArray(p)?p.forEach(i):i(p);const h=[];d.forEach(y=>{y.forEach(m=>{let g={};if(typeof m!="object"){g.src=m;for(let f=0;f<this._parsers.length;f++){const k=this._parsers[f];if(k.test(m)){g=k.parse(m);break}}}else a=m.data??a,l=m.format??l,c=m.loadParser??c,g={...g,...m};if(!p)throw new Error(`[Resolver] alias is undefined for this asset: ${g.src}`);g=this._buildResolvedAsset(g,{aliases:p,data:a,format:l,loadParser:c}),h.push(g)})}),p.forEach(y=>{this._assetMap[y]=h})})}resolveBundle(t){const o=Mi(t);t=Zt(t);const i={};return t.forEach(s=>{const n=this._bundles[s];if(n){const r=this.resolve(n),a={};for(const l in r){const c=r[l];a[this._extractAssetIdFromBundle(s,l)]=c}i[s]=a}}),o?i[t[0]]:i}resolveUrl(t){const o=this.resolve(t);if(typeof t!="string"){const i={};for(const s in o)i[s]=o[s].src;return i}return o.src}resolve(t){const o=Mi(t);t=Zt(t);const i={};return t.forEach(s=>{if(!this._resolverHash[s])if(this._assetMap[s]){let n=this._assetMap[s];const r=this._getPreferredOrder(n);r?.priority.forEach(a=>{r.params[a].forEach(l=>{const c=n.filter(d=>d[a]?d[a]===l:!1);c.length&&(n=c)})}),this._resolverHash[s]=n[0]}else this._resolverHash[s]=this._buildResolvedAsset({alias:[s],src:s},{});i[s]=this._resolverHash[s]}),o?i[t[0]]:i}hasKey(t){return!!this._assetMap[t]}hasBundle(t){return!!this._bundles[t]}_getPreferredOrder(t){for(let o=0;o<t.length;o++){const i=t[0],s=this._preferredOrder.find(n=>n.params.format.includes(i.format));if(s)return s}return this._preferredOrder[0]}_appendDefaultSearchParams(t){if(!this._defaultSearchParams)return t;const o=/\?/.test(t)?"&":"?";return`${t}${o}${this._defaultSearchParams}`}_buildResolvedAsset(t,o){const{aliases:i,data:s,loadParser:n,format:r}=o;return(this._basePath||this._rootPath)&&(t.src=Ft.toAbsolute(t.src,this._basePath,this._rootPath)),t.alias=i??t.alias??[t.src],t.src=this._appendDefaultSearchParams(t.src),t.data={...s||{},...t.data},t.loadParser=n??t.loadParser,t.format=r??t.format??Zy(t.src),t}}uo.RETINA_PREFIX=/@([0-9\.]+)x/;function Zy(e){return e.split(".").pop().split("?").shift().split("#").shift()}const fn=(e,t)=>{const o=t.split("?")[1];return o&&(e+=`?${o}`),e},Lc=class Co{constructor(t,o){this.linkedSheets=[],this._texture=t instanceof tt?t:null,this.textureSource=t.source,this.textures={},this.animations={},this.data=o;const i=parseFloat(o.meta.scale);i?(this.resolution=i,t.source.resolution=this.resolution):this.resolution=t.source._resolution,this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}parse(){return new Promise(t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=Co.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(t){let o=t;const i=Co.BATCH_SIZE;for(;o-t<i&&o<this._frameKeys.length;){const s=this._frameKeys[o],n=this._frames[s],r=n.frame;if(r){let a=null,l=null;const c=n.trimmed!==!1&&n.sourceSize?n.sourceSize:n.frame,d=new mt(0,0,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution);n.rotated?a=new mt(Math.floor(r.x)/this.resolution,Math.floor(r.y)/this.resolution,Math.floor(r.h)/this.resolution,Math.floor(r.w)/this.resolution):a=new mt(Math.floor(r.x)/this.resolution,Math.floor(r.y)/this.resolution,Math.floor(r.w)/this.resolution,Math.floor(r.h)/this.resolution),n.trimmed!==!1&&n.spriteSourceSize&&(l=new mt(Math.floor(n.spriteSourceSize.x)/this.resolution,Math.floor(n.spriteSourceSize.y)/this.resolution,Math.floor(r.w)/this.resolution,Math.floor(r.h)/this.resolution)),this.textures[s]=new tt({source:this.textureSource,frame:a,orig:d,trim:l,rotate:n.rotated?2:0,defaultAnchor:n.anchor,defaultBorders:n.borders,label:s.toString()})}o++}}_processAnimations(){const t=this.data.animations||{};for(const o in t){this.animations[o]=[];for(let i=0;i<t[o].length;i++){const s=t[o][i];this.animations[o].push(this.textures[s])}}}_parseComplete(){const t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Co.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*Co.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(t=!1){for(const o in this.textures)this.textures[o].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&(this._texture?.destroy(),this.textureSource.destroy()),this._texture=null,this.textureSource=null,this.linkedSheets=[]}};Lc.BATCH_SIZE=1e3;let mn=Lc;const Qy=["jpg","png","jpeg","avif","webp","basis","etc2","bc7","bc6h","bc5","bc4","bc3","bc2","bc1","eac","astc"];function Hc(e,t,o){const i={};if(e.forEach(s=>{i[s]=t}),Object.keys(t.textures).forEach(s=>{i[s]=t.textures[s]}),!o){const s=Ft.dirname(e[0]);t.linkedSheets.forEach((n,r)=>{const a=Hc([`${s}/${t.data.meta.related_multi_packs[r]}`],n,!0);Object.assign(i,a)})}return i}const Jy={extension:U.Asset,cache:{test:e=>e instanceof mn,getCacheableAssets:(e,t)=>Hc(e,t,!1)},resolver:{extension:{type:U.ResolveParser,name:"resolveSpritesheet"},test:e=>{const o=e.split("?")[0].split("."),i=o.pop(),s=o.pop();return i==="json"&&Qy.includes(s)},parse:e=>{const t=e.split(".");return{resolution:parseFloat(uo.RETINA_PREFIX.exec(e)?.[1]??"1"),format:t[t.length-2],src:e}}},loader:{name:"spritesheetLoader",extension:{type:U.LoadParser,priority:Re.Normal,name:"spritesheetLoader"},async testParse(e,t){return Ft.extname(t.src).toLowerCase()===".json"&&!!e.frames},async parse(e,t,o){const{texture:i,imageFilename:s}=t?.data??{};let n=Ft.dirname(t.src);n&&n.lastIndexOf("/")!==n.length-1&&(n+="/");let r;if(i instanceof tt)r=i;else{const c=fn(n+(s??e.meta.image),t.src);r=(await o.load([c]))[c]}const a=new mn(r.source,e);await a.parse();const l=e?.meta?.related_multi_packs;if(Array.isArray(l)){const c=[];for(const p of l){if(typeof p!="string")continue;let h=n+p;t.data?.ignoreMultiPack||(h=fn(h,t.src),c.push(o.load({src:h,data:{ignoreMultiPack:!0}})))}const d=await Promise.all(c);a.linkedSheets=d,d.forEach(p=>{p.linkedSheets=[a].concat(a.linkedSheets.filter(h=>h!==p))})}return a},async unload(e,t,o){await o.unload(e.textureSource._sourceOrigin),e.destroy(!1)}}};Vt.add(Jy);const ps=Object.create(null),Xr=Object.create(null);function Wn(e,t){let o=Xr[e];return o===void 0&&(ps[t]===void 0&&(ps[t]=1),Xr[e]=o=ps[t]++),o}let ni;function Gc(){return(!ni||ni?.isContextLost())&&(ni=xt.get().createCanvas().getContext("webgl",{})),ni}let ri;function th(){if(!ri){ri="mediump";const e=Gc();e&&e.getShaderPrecisionFormat&&(ri=e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision?"highp":"mediump")}return ri}function eh(e,t,o){return t?e:o?(e=e.replace("out vec4 finalColor;",""),`
        
        #ifdef GL_ES // This checks if it is WebGL1
        #define in varying
        #define finalColor gl_FragColor
        #define texture texture2D
        #endif
        ${e}
        `):`
        
        #ifdef GL_ES // This checks if it is WebGL1
        #define in attribute
        #define out varying
        #endif
        ${e}
        `}function oh(e,t,o){const i=o?t.maxSupportedFragmentPrecision:t.maxSupportedVertexPrecision;if(e.substring(0,9)!=="precision"){let s=o?t.requestedFragmentPrecision:t.requestedVertexPrecision;return s==="highp"&&i!=="highp"&&(s="mediump"),`precision ${s} float;
${e}`}else if(i!=="highp"&&e.substring(0,15)==="precision highp")return e.replace("precision highp","precision mediump");return e}function ih(e,t){return t?`#version 300 es
${e}`:e}const sh={},nh={};function rh(e,{name:t="pixi-program"},o=!0){t=t.replace(/\s+/g,"-"),t+=o?"-fragment":"-vertex";const i=o?sh:nh;return i[t]?(i[t]++,t+=`-${i[t]}`):i[t]=1,e.indexOf("#define SHADER_NAME")!==-1?e:`${`#define SHADER_NAME ${t}`}
${e}`}function ah(e,t){return t?e.replace("#version 300 es",""):e}const ys={stripVersion:ah,ensurePrecision:oh,addProgramDefines:eh,setProgramName:rh,insertVersion:ih},hs=Object.create(null),Wc=class gn{constructor(t){t={...gn.defaultOptions,...t};const o=t.fragment.indexOf("#version 300 es")!==-1,i={stripVersion:o,ensurePrecision:{requestedFragmentPrecision:t.preferredFragmentPrecision,requestedVertexPrecision:t.preferredVertexPrecision,maxSupportedVertexPrecision:"highp",maxSupportedFragmentPrecision:th()},setProgramName:{name:t.name},addProgramDefines:o,insertVersion:o};let s=t.fragment,n=t.vertex;Object.keys(ys).forEach(r=>{const a=i[r];s=ys[r](s,a,!0),n=ys[r](n,a,!1)}),this.fragment=s,this.vertex=n,this.transformFeedbackVaryings=t.transformFeedbackVaryings,this._key=Wn(`${this.vertex}:${this.fragment}`,"gl-program")}destroy(){this.fragment=null,this.vertex=null,this._attributeData=null,this._uniformData=null,this._uniformBlockData=null,this.transformFeedbackVaryings=null}static from(t){const o=`${t.vertex}:${t.fragment}`;return hs[o]||(hs[o]=new gn(t)),hs[o]}};Wc.defaultOptions={preferredVertexPrecision:"highp",preferredFragmentPrecision:"mediump"};let Uc=Wc;const Kr={uint8x2:{size:2,stride:2,normalised:!1},uint8x4:{size:4,stride:4,normalised:!1},sint8x2:{size:2,stride:2,normalised:!1},sint8x4:{size:4,stride:4,normalised:!1},unorm8x2:{size:2,stride:2,normalised:!0},unorm8x4:{size:4,stride:4,normalised:!0},snorm8x2:{size:2,stride:2,normalised:!0},snorm8x4:{size:4,stride:4,normalised:!0},uint16x2:{size:2,stride:4,normalised:!1},uint16x4:{size:4,stride:8,normalised:!1},sint16x2:{size:2,stride:4,normalised:!1},sint16x4:{size:4,stride:8,normalised:!1},unorm16x2:{size:2,stride:4,normalised:!0},unorm16x4:{size:4,stride:8,normalised:!0},snorm16x2:{size:2,stride:4,normalised:!0},snorm16x4:{size:4,stride:8,normalised:!0},float16x2:{size:2,stride:4,normalised:!1},float16x4:{size:4,stride:8,normalised:!1},float32:{size:1,stride:4,normalised:!1},float32x2:{size:2,stride:8,normalised:!1},float32x3:{size:3,stride:12,normalised:!1},float32x4:{size:4,stride:16,normalised:!1},uint32:{size:1,stride:4,normalised:!1},uint32x2:{size:2,stride:8,normalised:!1},uint32x3:{size:3,stride:12,normalised:!1},uint32x4:{size:4,stride:16,normalised:!1},sint32:{size:1,stride:4,normalised:!1},sint32x2:{size:2,stride:8,normalised:!1},sint32x3:{size:3,stride:12,normalised:!1},sint32x4:{size:4,stride:16,normalised:!1}};function lh(e){return Kr[e]??Kr.float32}const ch={f32:"float32","vec2<f32>":"float32x2","vec3<f32>":"float32x3","vec4<f32>":"float32x4",vec2f:"float32x2",vec3f:"float32x3",vec4f:"float32x4",i32:"sint32","vec2<i32>":"sint32x2","vec3<i32>":"sint32x3","vec4<i32>":"sint32x4",u32:"uint32","vec2<u32>":"uint32x2","vec3<u32>":"uint32x3","vec4<u32>":"uint32x4",bool:"uint32","vec2<bool>":"uint32x2","vec3<bool>":"uint32x3","vec4<bool>":"uint32x4"};function dh({source:e,entryPoint:t}){const o={},i=e.indexOf(`fn ${t}`);if(i!==-1){const s=e.indexOf("->",i);if(s!==-1){const n=e.substring(i,s),r=/@location\((\d+)\)\s+([a-zA-Z0-9_]+)\s*:\s*([a-zA-Z0-9_<>]+)(?:,|\s|$)/g;let a;for(;(a=r.exec(n))!==null;){const l=ch[a[3]]??"float32";o[a[2]]={location:parseInt(a[1],10),format:l,stride:lh(l).stride,offset:0,instance:!1,start:0}}}}return o}function us(e){const t=/(^|[^/])@(group|binding)\(\d+\)[^;]+;/g,o=/@group\((\d+)\)/,i=/@binding\((\d+)\)/,s=/var(<[^>]+>)? (\w+)/,n=/:\s*(\w+)/,r=/struct\s+(\w+)\s*{([^}]+)}/g,a=/(\w+)\s*:\s*([\w\<\>]+)/g,l=/struct\s+(\w+)/,c=e.match(t)?.map(p=>({group:parseInt(p.match(o)[1],10),binding:parseInt(p.match(i)[1],10),name:p.match(s)[2],isUniform:p.match(s)[1]==="<uniform>",type:p.match(n)[1]}));if(!c)return{groups:[],structs:[]};const d=e.match(r)?.map(p=>{const h=p.match(l)[1],y=p.match(a).reduce((m,g)=>{const[f,k]=g.split(":");return m[f.trim()]=k.trim(),m},{});return y?{name:h,members:y}:null}).filter(({name:p})=>c.some(h=>h.type===p))??[];return{groups:c,structs:d}}var Mo=(e=>(e[e.VERTEX=1]="VERTEX",e[e.FRAGMENT=2]="FRAGMENT",e[e.COMPUTE=4]="COMPUTE",e))(Mo||{});function ph({groups:e}){const t=[];for(let o=0;o<e.length;o++){const i=e[o];t[i.group]||(t[i.group]=[]),i.isUniform?t[i.group].push({binding:i.binding,visibility:Mo.VERTEX|Mo.FRAGMENT,buffer:{type:"uniform"}}):i.type==="sampler"?t[i.group].push({binding:i.binding,visibility:Mo.FRAGMENT,sampler:{type:"filtering"}}):i.type==="texture_2d"&&t[i.group].push({binding:i.binding,visibility:Mo.FRAGMENT,texture:{sampleType:"float",viewDimension:"2d",multisampled:!1}})}return t}function yh({groups:e}){const t=[];for(let o=0;o<e.length;o++){const i=e[o];t[i.group]||(t[i.group]={}),t[i.group][i.name]=i.binding}return t}function hh(e,t){const o=new Set,i=new Set,s=[...e.structs,...t.structs].filter(r=>o.has(r.name)?!1:(o.add(r.name),!0)),n=[...e.groups,...t.groups].filter(r=>{const a=`${r.name}-${r.binding}`;return i.has(a)?!1:(i.add(a),!0)});return{structs:s,groups:n}}const fs=Object.create(null);class Ni{constructor(t){this._layoutKey=0,this._attributeLocationsKey=0;const{fragment:o,vertex:i,layout:s,gpuLayout:n,name:r}=t;if(this.name=r,this.fragment=o,this.vertex=i,o.source===i.source){const a=us(o.source);this.structsAndGroups=a}else{const a=us(i.source),l=us(o.source);this.structsAndGroups=hh(a,l)}this.layout=s??yh(this.structsAndGroups),this.gpuLayout=n??ph(this.structsAndGroups),this.autoAssignGlobalUniforms=this.layout[0]?.globalUniforms!==void 0,this.autoAssignLocalUniforms=this.layout[1]?.localUniforms!==void 0,this._generateProgramKey()}_generateProgramKey(){const{vertex:t,fragment:o}=this,i=t.source+o.source+t.entryPoint+o.entryPoint;this._layoutKey=Wn(i,"program")}get attributeData(){return this._attributeData??(this._attributeData=dh(this.vertex)),this._attributeData}destroy(){this.gpuLayout=null,this.layout=null,this.structsAndGroups=null,this.fragment=null,this.vertex=null}static from(t){const o=`${t.vertex.source}:${t.fragment.source}:${t.fragment.entryPoint}:${t.vertex.entryPoint}`;return fs[o]||(fs[o]=new Ni(t)),fs[o]}}const Vc=["f32","i32","vec2<f32>","vec3<f32>","vec4<f32>","mat2x2<f32>","mat3x3<f32>","mat4x4<f32>","mat3x2<f32>","mat4x2<f32>","mat2x3<f32>","mat4x3<f32>","mat2x4<f32>","mat3x4<f32>","vec2<i32>","vec3<i32>","vec4<i32>"],uh=Vc.reduce((e,t)=>(e[t]=!0,e),{});function fh(e,t){switch(e){case"f32":return 0;case"vec2<f32>":return new Float32Array(2*t);case"vec3<f32>":return new Float32Array(3*t);case"vec4<f32>":return new Float32Array(4*t);case"mat2x2<f32>":return new Float32Array([1,0,0,1]);case"mat3x3<f32>":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4x4<f32>":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const qc=class Yc{constructor(t,o){this._touched=0,this.uid=gt("uniform"),this._resourceType="uniformGroup",this._resourceId=gt("resource"),this.isUniformGroup=!0,this._dirtyId=0,this.destroyed=!1,o={...Yc.defaultOptions,...o},this.uniformStructures=t;const i={};for(const s in t){const n=t[s];if(n.name=s,n.size=n.size??1,!uh[n.type])throw new Error(`Uniform type ${n.type} is not supported. Supported uniform types are: ${Vc.join(", ")}`);n.value??(n.value=fh(n.type,n.size)),i[s]=n.value}this.uniforms=i,this._dirtyId=1,this.ubo=o.ubo,this.isStatic=o.isStatic,this._signature=Wn(Object.keys(i).map(s=>`${s}-${t[s].type}`).join("-"),"uniform-group")}update(){this._dirtyId++}};qc.defaultOptions={ubo:!1,isStatic:!1};let Xc=qc;class Bi{constructor(t){this.resources=Object.create(null),this._dirty=!0;let o=0;for(const i in t){const s=t[i];this.setResource(s,o++)}this._updateKey()}_updateKey(){if(!this._dirty)return;this._dirty=!1;const t=[];let o=0;for(const i in this.resources)t[o++]=this.resources[i]._resourceId;this._key=t.join("|")}setResource(t,o){const i=this.resources[o];t!==i&&(i&&t.off?.("change",this.onResourceChange,this),t.on?.("change",this.onResourceChange,this),this.resources[o]=t,this._dirty=!0)}getResource(t){return this.resources[t]}_touch(t){const o=this.resources;for(const i in o)o[i]._touched=t}destroy(){const t=this.resources;for(const o in t)t[o].off?.("change",this.onResourceChange,this);this.resources=null}onResourceChange(t){if(this._dirty=!0,t.destroyed){const o=this.resources;for(const i in o)o[i]===t&&(o[i]=null)}else this._updateKey()}}var xn=(e=>(e[e.WEBGL=1]="WEBGL",e[e.WEBGPU=2]="WEBGPU",e[e.BOTH=3]="BOTH",e))(xn||{});class Un extends ye{constructor(t){super(),this._uniformBindMap=Object.create(null),this._ownedBindGroups=[];let{gpuProgram:o,glProgram:i,groups:s,resources:n,compatibleRenderers:r,groupMap:a}=t;this.gpuProgram=o,this.glProgram=i,r===void 0&&(r=0,o&&(r|=xn.WEBGPU),i&&(r|=xn.WEBGL)),this.compatibleRenderers=r;const l={};if(!n&&!s&&(n={}),n&&s)throw new Error("[Shader] Cannot have both resources and groups");if(!o&&s&&!a)throw new Error("[Shader] No group map or WebGPU shader provided - consider using resources instead.");if(!o&&s&&a)for(const c in a)for(const d in a[c]){const p=a[c][d];l[p]={group:c,binding:d,name:p}}else if(o&&s&&!a){const c=o.structsAndGroups.groups;a={},c.forEach(d=>{a[d.group]=a[d.group]||{},a[d.group][d.binding]=d.name,l[d.name]=d})}else if(n){s={},a={},o&&o.structsAndGroups.groups.forEach(p=>{a[p.group]=a[p.group]||{},a[p.group][p.binding]=p.name,l[p.name]=p});let c=0;for(const d in n)l[d]||(s[99]||(s[99]=new Bi,this._ownedBindGroups.push(s[99])),l[d]={group:99,binding:c,name:d},a[99]=a[99]||{},a[99][c]=d,c++);for(const d in n){const p=d;let h=n[d];!h.source&&!h._resourceType&&(h=new Xc(h));const y=l[p];y&&(s[y.group]||(s[y.group]=new Bi,this._ownedBindGroups.push(s[y.group])),s[y.group].setResource(h,y.binding))}}this.groups=s,this._uniformBindMap=a,this.resources=this._buildResourceAccessor(s,l)}addResource(t,o,i){var s,n;(s=this._uniformBindMap)[o]||(s[o]={}),(n=this._uniformBindMap[o])[i]||(n[i]=t),this.groups[o]||(this.groups[o]=new Bi,this._ownedBindGroups.push(this.groups[o]))}_buildResourceAccessor(t,o){const i={};for(const s in o){const n=o[s];Object.defineProperty(i,n.name,{get(){return t[n.group].getResource(n.binding)},set(r){t[n.group].setResource(r,n.binding)}})}return i}destroy(t=!1){this.emit("destroy",this),t&&(this.gpuProgram?.destroy(),this.glProgram?.destroy()),this.gpuProgram=null,this.glProgram=null,this.removeAllListeners(),this._uniformBindMap=null,this._ownedBindGroups.forEach(o=>{o.destroy()}),this._ownedBindGroups=null,this.resources=null,this.groups=null}static from(t){const{gpu:o,gl:i,...s}=t;let n,r;return o&&(n=Ni.from(o)),i&&(r=Uc.from(i)),new Un({gpuProgram:n,glProgram:r,...s})}}var ai={exports:{}},Zr;function mh(){if(Zr)return ai.exports;Zr=1,ai.exports=e,ai.exports.default=e;function e(b,_,S){S=S||2;var v=_&&_.length,z=v?_[0]*S:b.length,A=t(b,0,z,S,!0),C=[];if(!A||A.next===A.prev)return C;var I,j,N,V,q,X,st;if(v&&(A=l(b,_,A,S)),b.length>80*S){I=N=b[0],j=V=b[1];for(var K=S;K<z;K+=S)q=b[K],X=b[K+1],q<I&&(I=q),X<j&&(j=X),q>N&&(N=q),X>V&&(V=X);st=Math.max(N-I,V-j),st=st!==0?32767/st:0}return i(A,C,S,I,j,st,0),C}function t(b,_,S,v,z){var A,C;if(z===It(b,_,S,v)>0)for(A=_;A<S;A+=v)C=Z(A,b[A],b[A+1],C);else for(A=S-v;A>=_;A-=v)C=Z(A,b[A],b[A+1],C);return C&&P(C,C.next)&&(J(C),C=C.next),C}function o(b,_){if(!b)return b;_||(_=b);var S=b,v;do if(v=!1,!S.steiner&&(P(S,S.next)||B(S.prev,S,S.next)===0)){if(J(S),S=_=S.prev,S===S.next)break;v=!0}else S=S.next;while(v||S!==_);return _}function i(b,_,S,v,z,A,C){if(b){!C&&A&&y(b,v,z,A);for(var I=b,j,N;b.prev!==b.next;){if(j=b.prev,N=b.next,A?n(b,v,z,A):s(b)){_.push(j.i/S|0),_.push(b.i/S|0),_.push(N.i/S|0),J(b),b=N.next,I=N.next;continue}if(b=N,b===I){C?C===1?(b=r(o(b),_,S),i(b,_,S,v,z,A,2)):C===2&&a(b,_,S,v,z,A):i(o(b),_,S,v,z,A,1);break}}}}function s(b){var _=b.prev,S=b,v=b.next;if(B(_,S,v)>=0)return!1;for(var z=_.x,A=S.x,C=v.x,I=_.y,j=S.y,N=v.y,V=z<A?z<C?z:C:A<C?A:C,q=I<j?I<N?I:N:j<N?j:N,X=z>A?z>C?z:C:A>C?A:C,st=I>j?I>N?I:N:j>N?j:N,K=v.next;K!==_;){if(K.x>=V&&K.x<=X&&K.y>=q&&K.y<=st&&k(z,I,A,j,C,N,K.x,K.y)&&B(K.prev,K,K.next)>=0)return!1;K=K.next}return!0}function n(b,_,S,v){var z=b.prev,A=b,C=b.next;if(B(z,A,C)>=0)return!1;for(var I=z.x,j=A.x,N=C.x,V=z.y,q=A.y,X=C.y,st=I<j?I<N?I:N:j<N?j:N,K=V<q?V<X?V:X:q<X?q:X,me=I>j?I>N?I:N:j>N?j:N,Tt=V>q?V>X?V:X:q>X?q:X,oe=g(st,K,_,S,v),ie=g(me,Tt,_,S,v),Q=b.prevZ,et=b.nextZ;Q&&Q.z>=oe&&et&&et.z<=ie;){if(Q.x>=st&&Q.x<=me&&Q.y>=K&&Q.y<=Tt&&Q!==z&&Q!==C&&k(I,V,j,q,N,X,Q.x,Q.y)&&B(Q.prev,Q,Q.next)>=0||(Q=Q.prevZ,et.x>=st&&et.x<=me&&et.y>=K&&et.y<=Tt&&et!==z&&et!==C&&k(I,V,j,q,N,X,et.x,et.y)&&B(et.prev,et,et.next)>=0))return!1;et=et.nextZ}for(;Q&&Q.z>=oe;){if(Q.x>=st&&Q.x<=me&&Q.y>=K&&Q.y<=Tt&&Q!==z&&Q!==C&&k(I,V,j,q,N,X,Q.x,Q.y)&&B(Q.prev,Q,Q.next)>=0)return!1;Q=Q.prevZ}for(;et&&et.z<=ie;){if(et.x>=st&&et.x<=me&&et.y>=K&&et.y<=Tt&&et!==z&&et!==C&&k(I,V,j,q,N,X,et.x,et.y)&&B(et.prev,et,et.next)>=0)return!1;et=et.nextZ}return!0}function r(b,_,S){var v=b;do{var z=v.prev,A=v.next.next;!P(z,A)&&E(z,v,v.next,A)&&$(z,A)&&$(A,z)&&(_.push(z.i/S|0),_.push(v.i/S|0),_.push(A.i/S|0),J(v),J(v.next),v=b=A),v=v.next}while(v!==b);return o(v)}function a(b,_,S,v,z,A){var C=b;do{for(var I=C.next.next;I!==C.prev;){if(C.i!==I.i&&w(C,I)){var j=H(C,I);C=o(C,C.next),j=o(j,j.next),i(C,_,S,v,z,A,0),i(j,_,S,v,z,A,0);return}I=I.next}C=C.next}while(C!==b)}function l(b,_,S,v){var z=[],A,C,I,j,N;for(A=0,C=_.length;A<C;A++)I=_[A]*v,j=A<C-1?_[A+1]*v:b.length,N=t(b,I,j,v,!1),N===N.next&&(N.steiner=!0),z.push(f(N));for(z.sort(c),A=0;A<z.length;A++)S=d(z[A],S);return S}function c(b,_){return b.x-_.x}function d(b,_){var S=p(b,_);if(!S)return _;var v=H(S,b);return o(v,v.next),o(S,S.next)}function p(b,_){var S=_,v=b.x,z=b.y,A=-1/0,C;do{if(z<=S.y&&z>=S.next.y&&S.next.y!==S.y){var I=S.x+(z-S.y)*(S.next.x-S.x)/(S.next.y-S.y);if(I<=v&&I>A&&(A=I,C=S.x<S.next.x?S:S.next,I===v))return C}S=S.next}while(S!==_);if(!C)return null;var j=C,N=C.x,V=C.y,q=1/0,X;S=C;do v>=S.x&&S.x>=N&&v!==S.x&&k(z<V?v:A,z,N,V,z<V?A:v,z,S.x,S.y)&&(X=Math.abs(z-S.y)/(v-S.x),$(S,b)&&(X<q||X===q&&(S.x>C.x||S.x===C.x&&h(C,S)))&&(C=S,q=X)),S=S.next;while(S!==j);return C}function h(b,_){return B(b.prev,b,_.prev)<0&&B(_.next,b,b.next)<0}function y(b,_,S,v){var z=b;do z.z===0&&(z.z=g(z.x,z.y,_,S,v)),z.prevZ=z.prev,z.nextZ=z.next,z=z.next;while(z!==b);z.prevZ.nextZ=null,z.prevZ=null,m(z)}function m(b){var _,S,v,z,A,C,I,j,N=1;do{for(S=b,b=null,A=null,C=0;S;){for(C++,v=S,I=0,_=0;_<N&&(I++,v=v.nextZ,!!v);_++);for(j=N;I>0||j>0&&v;)I!==0&&(j===0||!v||S.z<=v.z)?(z=S,S=S.nextZ,I--):(z=v,v=v.nextZ,j--),A?A.nextZ=z:b=z,z.prevZ=A,A=z;S=v}A.nextZ=null,N*=2}while(C>1);return b}function g(b,_,S,v,z){return b=(b-S)*z|0,_=(_-v)*z|0,b=(b|b<<8)&16711935,b=(b|b<<4)&252645135,b=(b|b<<2)&858993459,b=(b|b<<1)&1431655765,_=(_|_<<8)&16711935,_=(_|_<<4)&252645135,_=(_|_<<2)&858993459,_=(_|_<<1)&1431655765,b|_<<1}function f(b){var _=b,S=b;do(_.x<S.x||_.x===S.x&&_.y<S.y)&&(S=_),_=_.next;while(_!==b);return S}function k(b,_,S,v,z,A,C,I){return(z-C)*(_-I)>=(b-C)*(A-I)&&(b-C)*(v-I)>=(S-C)*(_-I)&&(S-C)*(A-I)>=(z-C)*(v-I)}function w(b,_){return b.next.i!==_.i&&b.prev.i!==_.i&&!D(b,_)&&($(b,_)&&$(_,b)&&T(b,_)&&(B(b.prev,b,_.prev)||B(b,_.prev,_))||P(b,_)&&B(b.prev,b,b.next)>0&&B(_.prev,_,_.next)>0)}function B(b,_,S){return(_.y-b.y)*(S.x-_.x)-(_.x-b.x)*(S.y-_.y)}function P(b,_){return b.x===_.x&&b.y===_.y}function E(b,_,S,v){var z=M(B(b,_,S)),A=M(B(b,_,v)),C=M(B(S,v,b)),I=M(B(S,v,_));return!!(z!==A&&C!==I||z===0&&R(b,S,_)||A===0&&R(b,v,_)||C===0&&R(S,b,v)||I===0&&R(S,_,v))}function R(b,_,S){return _.x<=Math.max(b.x,S.x)&&_.x>=Math.min(b.x,S.x)&&_.y<=Math.max(b.y,S.y)&&_.y>=Math.min(b.y,S.y)}function M(b){return b>0?1:b<0?-1:0}function D(b,_){var S=b;do{if(S.i!==b.i&&S.next.i!==b.i&&S.i!==_.i&&S.next.i!==_.i&&E(S,S.next,b,_))return!0;S=S.next}while(S!==b);return!1}function $(b,_){return B(b.prev,b,b.next)<0?B(b,_,b.next)>=0&&B(b,b.prev,_)>=0:B(b,_,b.prev)<0||B(b,b.next,_)<0}function T(b,_){var S=b,v=!1,z=(b.x+_.x)/2,A=(b.y+_.y)/2;do S.y>A!=S.next.y>A&&S.next.y!==S.y&&z<(S.next.x-S.x)*(A-S.y)/(S.next.y-S.y)+S.x&&(v=!v),S=S.next;while(S!==b);return v}function H(b,_){var S=new rt(b.i,b.x,b.y),v=new rt(_.i,_.x,_.y),z=b.next,A=_.prev;return b.next=_,_.prev=b,S.next=z,z.prev=S,v.next=S,S.prev=v,A.next=v,v.prev=A,v}function Z(b,_,S,v){var z=new rt(b,_,S);return v?(z.next=v.next,z.prev=v,v.next.prev=z,v.next=z):(z.prev=z,z.next=z),z}function J(b){b.next.prev=b.prev,b.prev.next=b.next,b.prevZ&&(b.prevZ.nextZ=b.nextZ),b.nextZ&&(b.nextZ.prevZ=b.prevZ)}function rt(b,_,S){this.i=b,this.x=_,this.y=S,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}e.deviation=function(b,_,S,v){var z=_&&_.length,A=z?_[0]*S:b.length,C=Math.abs(It(b,0,A,S));if(z)for(var I=0,j=_.length;I<j;I++){var N=_[I]*S,V=I<j-1?_[I+1]*S:b.length;C-=Math.abs(It(b,N,V,S))}var q=0;for(I=0;I<v.length;I+=3){var X=v[I]*S,st=v[I+1]*S,K=v[I+2]*S;q+=Math.abs((b[X]-b[K])*(b[st+1]-b[X+1])-(b[X]-b[st])*(b[K+1]-b[X+1]))}return C===0&&q===0?0:Math.abs((q-C)/C)};function It(b,_,S,v){for(var z=0,A=_,C=S-v;A<S;A+=v)z+=(b[C]-b[A])*(b[A+1]+b[C+1]),C=A;return z}return e.flatten=function(b){for(var _=b[0][0].length,S={vertices:[],holes:[],dimensions:_},v=0,z=0;z<b.length;z++){for(var A=0;A<b[z].length;A++)for(var C=0;C<_;C++)S.vertices.push(b[z][A][C]);z>0&&(v+=b[z-1].length,S.holes.push(v))}return S},ai.exports}var gh=mh();const xh=qt(gh);class Kc extends ye{constructor(){super(...arguments),this.chars=Object.create(null),this.lineHeight=0,this.fontFamily="",this.fontMetrics={fontSize:0,ascent:0,descent:0},this.baseLineOffset=0,this.distanceField={type:"none",range:0},this.pages=[],this.applyFillAsTint=!0,this.baseMeasurementFontSize=100,this.baseRenderedFontSize=100}get font(){return ft(St,"BitmapFont.font is deprecated, please use BitmapFont.fontFamily instead."),this.fontFamily}get pageTextures(){return ft(St,"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}get size(){return ft(St,"BitmapFont.size is deprecated, please use BitmapFont.fontMetrics.fontSize instead."),this.fontMetrics.fontSize}get distanceFieldRange(){return ft(St,"BitmapFont.distanceFieldRange is deprecated, please use BitmapFont.distanceField.range instead."),this.distanceField.range}get distanceFieldType(){return ft(St,"BitmapFont.distanceFieldType is deprecated, please use BitmapFont.distanceField.type instead."),this.distanceField.type}destroy(t=!1){this.emit("destroy",this),this.removeAllListeners();for(const o in this.chars)this.chars[o].texture?.destroy();this.chars=null,t&&(this.pages.forEach(o=>o.texture.destroy(!0)),this.pages=null)}}const Zc=class bn{constructor(t,o,i,s){this.uid=gt("fillGradient"),this.type="linear",this.gradientStops=[],this._styleKey=null,this.x0=t,this.y0=o,this.x1=i,this.y1=s}addColorStop(t,o){return this.gradientStops.push({offset:t,color:vt.shared.setValue(o).toHexa()}),this._styleKey=null,this}buildLinearGradient(){if(this.texture)return;const t=bn.defaultTextureSize,{gradientStops:o}=this,i=xt.get().createCanvas();i.width=t,i.height=t;const s=i.getContext("2d"),n=s.createLinearGradient(0,0,bn.defaultTextureSize,1);for(let g=0;g<o.length;g++){const f=o[g];n.addColorStop(f.offset,f.color)}s.fillStyle=n,s.fillRect(0,0,t,t),this.texture=new tt({source:new ho({resource:i,addressModeU:"clamp-to-edge",addressModeV:"repeat"})});const{x0:r,y0:a,x1:l,y1:c}=this,d=new it,p=l-r,h=c-a,y=Math.sqrt(p*p+h*h),m=Math.atan2(h,p);d.translate(-r,-a),d.scale(1/t,1/t),d.rotate(-m),d.scale(256/y,1),this.transform=d,this._styleKey=null}get styleKey(){if(this._styleKey)return this._styleKey;const t=this.gradientStops.map(s=>`${s.offset}-${s.color}`).join("-"),o=this.texture.uid,i=this.transform.toArray().join("-");return`fill-gradient-${this.uid}-${t}-${o}-${i}-${this.x0}-${this.y0}-${this.x1}-${this.y1}`}};Zc.defaultTextureSize=256;let Ho=Zc;const Qr={repeat:{addressModeU:"repeat",addressModeV:"repeat"},"repeat-x":{addressModeU:"repeat",addressModeV:"clamp-to-edge"},"repeat-y":{addressModeU:"clamp-to-edge",addressModeV:"repeat"},"no-repeat":{addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}};class Li{constructor(t,o){this.uid=gt("fillPattern"),this.transform=new it,this._styleKey=null,this.texture=t,this.transform.scale(1/t.frame.width,1/t.frame.height),o&&(t.source.style.addressModeU=Qr[o].addressModeU,t.source.style.addressModeV=Qr[o].addressModeV)}setTransform(t){const o=this.texture;this.transform.copyFrom(t),this.transform.invert(),this.transform.scale(1/o.frame.width,1/o.frame.height),this._styleKey=null}get styleKey(){return this._styleKey?this._styleKey:(this._styleKey=`fill-pattern-${this.uid}-${this.texture.uid}-${this.transform.toArray().join("-")}`,this._styleKey)}}var ms,Jr;function bh(){if(Jr)return ms;Jr=1,ms=o;var e={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},t=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function o(n){var r=[];return n.replace(t,function(a,l,c){var d=l.toLowerCase();for(c=s(c),d=="m"&&c.length>2&&(r.push([l].concat(c.splice(0,2))),d="l",l=l=="m"?"l":"L");;){if(c.length==e[d])return c.unshift(l),r.push(c);if(c.length<e[d])throw new Error("malformed path data");r.push([l].concat(c.splice(0,e[d])))}}),r}var i=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function s(n){var r=n.match(i);return r?r.map(Number):[]}return ms}var wh=bh();const kh=qt(wh);function zh(e,t){const o=kh(e),i=[];let s=null,n=0,r=0;for(let a=0;a<o.length;a++){const l=o[a],c=l[0],d=l;switch(c){case"M":n=d[1],r=d[2],t.moveTo(n,r);break;case"m":n+=d[1],r+=d[2],t.moveTo(n,r);break;case"H":n=d[1],t.lineTo(n,r);break;case"h":n+=d[1],t.lineTo(n,r);break;case"V":r=d[1],t.lineTo(n,r);break;case"v":r+=d[1],t.lineTo(n,r);break;case"L":n=d[1],r=d[2],t.lineTo(n,r);break;case"l":n+=d[1],r+=d[2],t.lineTo(n,r);break;case"C":n=d[5],r=d[6],t.bezierCurveTo(d[1],d[2],d[3],d[4],n,r);break;case"c":t.bezierCurveTo(n+d[1],r+d[2],n+d[3],r+d[4],n+d[5],r+d[6]),n+=d[5],r+=d[6];break;case"S":n=d[3],r=d[4],t.bezierCurveToShort(d[1],d[2],n,r);break;case"s":t.bezierCurveToShort(n+d[1],r+d[2],n+d[3],r+d[4]),n+=d[3],r+=d[4];break;case"Q":n=d[3],r=d[4],t.quadraticCurveTo(d[1],d[2],n,r);break;case"q":t.quadraticCurveTo(n+d[1],r+d[2],n+d[3],r+d[4]),n+=d[3],r+=d[4];break;case"T":n=d[1],r=d[2],t.quadraticCurveToShort(n,r);break;case"t":n+=d[1],r+=d[2],t.quadraticCurveToShort(n,r);break;case"A":n=d[6],r=d[7],t.arcToSvg(d[1],d[2],d[3],d[4],d[5],n,r);break;case"a":n+=d[6],r+=d[7],t.arcToSvg(d[1],d[2],d[3],d[4],d[5],n,r);break;case"Z":case"z":t.closePath(),i.length>0&&(s=i.pop(),s?(n=s.startX,r=s.startY):(n=0,r=0)),s=null;break;default:ut(`Unknown SVG path command: ${c}`)}c!=="Z"&&c!=="z"&&s===null&&(s={startX:n,startY:r},i.push(s))}return t}class Vn{constructor(t=0,o=0,i=0){this.type="circle",this.x=t,this.y=o,this.radius=i}clone(){return new Vn(this.x,this.y,this.radius)}contains(t,o){if(this.radius<=0)return!1;const i=this.radius*this.radius;let s=this.x-t,n=this.y-o;return s*=s,n*=n,s+n<=i}strokeContains(t,o,i,s=.5){if(this.radius===0)return!1;const n=this.x-t,r=this.y-o,a=this.radius,l=(1-s)*i,c=Math.sqrt(n*n+r*r);return c<=a+l&&c>a-(i-l)}getBounds(t){return t||(t=new mt),t.x=this.x-this.radius,t.y=this.y-this.radius,t.width=this.radius*2,t.height=this.radius*2,t}copyFrom(t){return this.x=t.x,this.y=t.y,this.radius=t.radius,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class qn{constructor(t=0,o=0,i=0,s=0){this.type="ellipse",this.x=t,this.y=o,this.halfWidth=i,this.halfHeight=s}clone(){return new qn(this.x,this.y,this.halfWidth,this.halfHeight)}contains(t,o){if(this.halfWidth<=0||this.halfHeight<=0)return!1;let i=(t-this.x)/this.halfWidth,s=(o-this.y)/this.halfHeight;return i*=i,s*=s,i+s<=1}strokeContains(t,o,i,s=.5){const{halfWidth:n,halfHeight:r}=this;if(n<=0||r<=0)return!1;const a=i*(1-s),l=i-a,c=n-l,d=r-l,p=n+a,h=r+a,y=t-this.x,m=o-this.y,g=y*y/(c*c)+m*m/(d*d),f=y*y/(p*p)+m*m/(h*h);return g>1&&f<=1}getBounds(t){return t||(t=new mt),t.x=this.x-this.halfWidth,t.y=this.y-this.halfHeight,t.width=this.halfWidth*2,t.height=this.halfHeight*2,t}copyFrom(t){return this.x=t.x,this.y=t.y,this.halfWidth=t.halfWidth,this.halfHeight=t.halfHeight,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:Ellipse x=${this.x} y=${this.y} halfWidth=${this.halfWidth} halfHeight=${this.halfHeight}]`}}function vh(e,t,o,i,s,n){const r=e-o,a=t-i,l=s-o,c=n-i,d=r*l+a*c,p=l*l+c*c;let h=-1;p!==0&&(h=d/p);let y,m;h<0?(y=o,m=i):h>1?(y=s,m=n):(y=o+h*l,m=i+h*c);const g=e-y,f=t-m;return g*g+f*f}class Fo{constructor(...t){this.type="polygon";let o=Array.isArray(t[0])?t[0]:t;if(typeof o[0]!="number"){const i=[];for(let s=0,n=o.length;s<n;s++)i.push(o[s].x,o[s].y);o=i}this.points=o,this.closePath=!0}clone(){const t=this.points.slice(),o=new Fo(t);return o.closePath=this.closePath,o}contains(t,o){let i=!1;const s=this.points.length/2;for(let n=0,r=s-1;n<s;r=n++){const a=this.points[n*2],l=this.points[n*2+1],c=this.points[r*2],d=this.points[r*2+1];l>o!=d>o&&t<(c-a)*((o-l)/(d-l))+a&&(i=!i)}return i}strokeContains(t,o,i,s=.5){const n=i*i,r=n*(1-s),a=n-r,{points:l}=this,c=l.length-(this.closePath?0:2);for(let d=0;d<c;d+=2){const p=l[d],h=l[d+1],y=l[(d+2)%l.length],m=l[(d+3)%l.length],g=vh(t,o,p,h,y,m),f=Math.sign((y-p)*(o-h)-(m-h)*(t-p));if(g<=(f<0?a:r))return!0}return!1}getBounds(t){t||(t=new mt);const o=this.points;let i=1/0,s=-1/0,n=1/0,r=-1/0;for(let a=0,l=o.length;a<l;a+=2){const c=o[a],d=o[a+1];i=c<i?c:i,s=c>s?c:s,n=d<n?d:n,r=d>r?d:r}return t.x=i,t.width=s-i,t.y=n,t.height=r-n,t}copyFrom(t){return this.points=t.points.slice(),this.closePath=t.closePath,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:PolygoncloseStroke=${this.closePath}points=${this.points.reduce((t,o)=>`${t}, ${o}`,"")}]`}get lastX(){return this.points[this.points.length-2]}get lastY(){return this.points[this.points.length-1]}get x(){return this.points[this.points.length-2]}get y(){return this.points[this.points.length-1]}}const li=(e,t,o,i,s,n,r)=>{const a=e-o,l=t-i,c=Math.sqrt(a*a+l*l);return c>=s-n&&c<=s+r};class Yn{constructor(t=0,o=0,i=0,s=0,n=20){this.type="roundedRectangle",this.x=t,this.y=o,this.width=i,this.height=s,this.radius=n}getBounds(t){return t||(t=new mt),t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t}clone(){return new Yn(this.x,this.y,this.width,this.height,this.radius)}copyFrom(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}copyTo(t){return t.copyFrom(this),t}contains(t,o){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&o>=this.y&&o<=this.y+this.height){const i=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(o>=this.y+i&&o<=this.y+this.height-i||t>=this.x+i&&t<=this.x+this.width-i)return!0;let s=t-(this.x+i),n=o-(this.y+i);const r=i*i;if(s*s+n*n<=r||(s=t-(this.x+this.width-i),s*s+n*n<=r)||(n=o-(this.y+this.height-i),s*s+n*n<=r)||(s=t-(this.x+i),s*s+n*n<=r))return!0}return!1}strokeContains(t,o,i,s=.5){const{x:n,y:r,width:a,height:l,radius:c}=this,d=i*(1-s),p=i-d,h=n+c,y=r+c,m=a-c*2,g=l-c*2,f=n+a,k=r+l;return(t>=n-d&&t<=n+p||t>=f-p&&t<=f+d)&&o>=y&&o<=y+g||(o>=r-d&&o<=r+p||o>=k-p&&o<=k+d)&&t>=h&&t<=h+m?!0:t<h&&o<y&&li(t,o,h,y,c,p,d)||t>f-c&&o<y&&li(t,o,f-c,y,c,p,d)||t>f-c&&o>k-c&&li(t,o,f-c,k-c,c,p,d)||t<h&&o>k-c&&li(t,o,h,k-c,c,p,d)}toString(){return`[pixi.js/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}const _h=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function Bh(e){let t="";for(let o=0;o<e;++o)o>0&&(t+=`
else `),o<e-1&&(t+=`if(test == ${o}.0){}`);return t}function Sh(e,t){if(e===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const o=t.createShader(t.FRAGMENT_SHADER);try{for(;;){const i=_h.replace(/%forloop%/gi,Bh(e));if(t.shaderSource(o,i),t.compileShader(o),!t.getShaderParameter(o,t.COMPILE_STATUS))e=e/2|0;else break}}finally{t.deleteShader(o)}return e}let Qe=null;function Qc(){if(Qe)return Qe;const e=Gc();return Qe=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),Qe=Sh(Qe,e),e.getExtension("WEBGL_lose_context")?.loseContext(),Qe}const Jc={};function Ah(e,t){let o=2166136261;for(let i=0;i<t;i++)o^=e[i].uid,o=Math.imul(o,16777619),o>>>=0;return Jc[o]||Ph(e,t,o)}let gs=0;function Ph(e,t,o){const i={};let s=0;gs||(gs=Qc());for(let r=0;r<gs;r++){const a=r<t?e[r]:tt.EMPTY.source;i[s++]=a.source,i[s++]=a.style}const n=new Bi(i);return Jc[o]=n,n}class ta{constructor(t){typeof t=="number"?this.rawBinaryData=new ArrayBuffer(t):t instanceof Uint8Array?this.rawBinaryData=t.buffer:this.rawBinaryData=t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData),this.size=this.rawBinaryData.byteLength}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}get float64View(){return this._float64Array||(this._float64Array=new Float64Array(this.rawBinaryData)),this._float64Array}get bigUint64View(){return this._bigUint64Array||(this._bigUint64Array=new BigUint64Array(this.rawBinaryData)),this._bigUint64Array}view(t){return this[`${t}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this.uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${t} isn't a valid view type`)}}}function ea(e,t){const o=e.byteLength/8|0,i=new Float64Array(e,0,o);new Float64Array(t,0,o).set(i);const n=e.byteLength-o*8;if(n>0){const r=new Uint8Array(e,o*8,n);new Uint8Array(t,o*8,n).set(r)}}const Rh={normal:"normal-npm",add:"add-npm",screen:"screen-npm"};var Ch=(e=>(e[e.DISABLED=0]="DISABLED",e[e.RENDERING_MASK_ADD=1]="RENDERING_MASK_ADD",e[e.MASK_ACTIVE=2]="MASK_ACTIVE",e[e.INVERSE_MASK_ACTIVE=3]="INVERSE_MASK_ACTIVE",e[e.RENDERING_MASK_REMOVE=4]="RENDERING_MASK_REMOVE",e[e.NONE=5]="NONE",e))(Ch||{});function oa(e,t){return t.alphaMode==="no-premultiply-alpha"&&Rh[e]||e}class Mh{constructor(){this.ids=Object.create(null),this.textures=[],this.count=0}clear(){for(let t=0;t<this.count;t++){const o=this.textures[t];this.textures[t]=null,this.ids[o.uid]=null}this.count=0}}class Eh{constructor(){this.renderPipeId="batch",this.action="startBatch",this.start=0,this.size=0,this.textures=new Mh,this.blendMode="normal",this.topology="triangle-strip",this.canBundle=!0}destroy(){this.textures=null,this.gpuBindGroup=null,this.bindGroup=null,this.batcher=null}}const td=[];let wn=0;function ia(){return wn>0?td[--wn]:new Eh}function sa(e){td[wn++]=e}let bo=0;const ed=class Si{constructor(t={}){this.uid=gt("batcher"),this.dirty=!0,this.batchIndex=0,this.batches=[],this._elements=[],Si.defaultOptions.maxTextures=Si.defaultOptions.maxTextures??Qc(),t={...Si.defaultOptions,...t};const{maxTextures:o,attributesInitialSize:i,indicesInitialSize:s}=t;this.attributeBuffer=new ta(i*4),this.indexBuffer=new Uint16Array(s),this.maxTextures=o}begin(){this.elementSize=0,this.elementStart=0,this.indexSize=0,this.attributeSize=0;for(let t=0;t<this.batchIndex;t++)sa(this.batches[t]);this.batchIndex=0,this._batchIndexStart=0,this._batchIndexSize=0,this.dirty=!0}add(t){this._elements[this.elementSize++]=t,t._indexStart=this.indexSize,t._attributeStart=this.attributeSize,t._batcher=this,this.indexSize+=t.indexSize,this.attributeSize+=t.attributeSize*this.vertexSize}checkAndUpdateTexture(t,o){const i=t._batch.textures.ids[o._source.uid];return!i&&i!==0?!1:(t._textureId=i,t.texture=o,!0)}updateElement(t){this.dirty=!0;const o=this.attributeBuffer;t.packAsQuad?this.packQuadAttributes(t,o.float32View,o.uint32View,t._attributeStart,t._textureId):this.packAttributes(t,o.float32View,o.uint32View,t._attributeStart,t._textureId)}break(t){const o=this._elements;if(!o[this.elementStart])return;let i=ia(),s=i.textures;s.clear();const n=o[this.elementStart];let r=oa(n.blendMode,n.texture._source),a=n.topology;this.attributeSize*4>this.attributeBuffer.size&&this._resizeAttributeBuffer(this.attributeSize*4),this.indexSize>this.indexBuffer.length&&this._resizeIndexBuffer(this.indexSize);const l=this.attributeBuffer.float32View,c=this.attributeBuffer.uint32View,d=this.indexBuffer;let p=this._batchIndexSize,h=this._batchIndexStart,y="startBatch";const m=this.maxTextures;for(let g=this.elementStart;g<this.elementSize;++g){const f=o[g];o[g]=null;const w=f.texture._source,B=oa(f.blendMode,w),P=r!==B||a!==f.topology;if(w._batchTick===bo&&!P){f._textureId=w._textureBindLocation,p+=f.indexSize,f.packAsQuad?(this.packQuadAttributes(f,l,c,f._attributeStart,f._textureId),this.packQuadIndex(d,f._indexStart,f._attributeStart/this.vertexSize)):(this.packAttributes(f,l,c,f._attributeStart,f._textureId),this.packIndex(f,d,f._indexStart,f._attributeStart/this.vertexSize)),f._batch=i;continue}w._batchTick=bo,(s.count>=m||P)&&(this._finishBatch(i,h,p-h,s,r,a,t,y),y="renderBatch",h=p,r=B,a=f.topology,i=ia(),s=i.textures,s.clear(),++bo),f._textureId=w._textureBindLocation=s.count,s.ids[w.uid]=s.count,s.textures[s.count++]=w,f._batch=i,p+=f.indexSize,f.packAsQuad?(this.packQuadAttributes(f,l,c,f._attributeStart,f._textureId),this.packQuadIndex(d,f._indexStart,f._attributeStart/this.vertexSize)):(this.packAttributes(f,l,c,f._attributeStart,f._textureId),this.packIndex(f,d,f._indexStart,f._attributeStart/this.vertexSize))}s.count>0&&(this._finishBatch(i,h,p-h,s,r,a,t,y),h=p,++bo),this.elementStart=this.elementSize,this._batchIndexStart=h,this._batchIndexSize=p}_finishBatch(t,o,i,s,n,r,a,l){t.gpuBindGroup=null,t.bindGroup=null,t.action=l,t.batcher=this,t.textures=s,t.blendMode=n,t.topology=r,t.start=o,t.size=i,++bo,this.batches[this.batchIndex++]=t,a.add(t)}finish(t){this.break(t)}ensureAttributeBuffer(t){t*4<=this.attributeBuffer.size||this._resizeAttributeBuffer(t*4)}ensureIndexBuffer(t){t<=this.indexBuffer.length||this._resizeIndexBuffer(t)}_resizeAttributeBuffer(t){const o=Math.max(t,this.attributeBuffer.size*2),i=new ta(o);ea(this.attributeBuffer.rawBinaryData,i.rawBinaryData),this.attributeBuffer=i}_resizeIndexBuffer(t){const o=this.indexBuffer;let i=Math.max(t,o.length*1.5);i+=i%2;const s=i>65535?new Uint32Array(i):new Uint16Array(i);if(s.BYTES_PER_ELEMENT!==o.BYTES_PER_ELEMENT)for(let n=0;n<o.length;n++)s[n]=o[n];else ea(o.buffer,s.buffer);this.indexBuffer=s}packQuadIndex(t,o,i){t[o]=i+0,t[o+1]=i+1,t[o+2]=i+2,t[o+3]=i+0,t[o+4]=i+2,t[o+5]=i+3}packIndex(t,o,i,s){const n=t.indices,r=t.indexSize,a=t.indexOffset,l=t.attributeOffset;for(let c=0;c<r;c++)o[i++]=s+n[c+a]-l}destroy(){for(let t=0;t<this.batches.length;t++)sa(this.batches[t]);this.batches=null;for(let t=0;t<this._elements.length;t++)this._elements[t]._batch=null;this._elements=null,this.indexBuffer=null,this.attributeBuffer.destroy(),this.attributeBuffer=null}};ed.defaultOptions={maxTextures:null,attributesInitialSize:4,indicesInitialSize:6};let Ih=ed;var Ct=(e=>(e[e.MAP_READ=1]="MAP_READ",e[e.MAP_WRITE=2]="MAP_WRITE",e[e.COPY_SRC=4]="COPY_SRC",e[e.COPY_DST=8]="COPY_DST",e[e.INDEX=16]="INDEX",e[e.VERTEX=32]="VERTEX",e[e.UNIFORM=64]="UNIFORM",e[e.STORAGE=128]="STORAGE",e[e.INDIRECT=256]="INDIRECT",e[e.QUERY_RESOLVE=512]="QUERY_RESOLVE",e[e.STATIC=1024]="STATIC",e))(Ct||{});class Go extends ye{constructor(t){let{data:o,size:i}=t;const{usage:s,label:n,shrinkToFit:r}=t;super(),this.uid=gt("buffer"),this._resourceType="buffer",this._resourceId=gt("resource"),this._touched=0,this._updateID=1,this._dataInt32=null,this.shrinkToFit=!0,this.destroyed=!1,o instanceof Array&&(o=new Float32Array(o)),this._data=o,i??(i=o?.byteLength);const a=!!o;this.descriptor={size:i,usage:s,mappedAtCreation:a,label:n},this.shrinkToFit=r??!0}get data(){return this._data}set data(t){this.setDataWithSize(t,t.length,!0)}get dataInt32(){return this._dataInt32||(this._dataInt32=new Int32Array(this.data.buffer)),this._dataInt32}get static(){return!!(this.descriptor.usage&Ct.STATIC)}set static(t){t?this.descriptor.usage|=Ct.STATIC:this.descriptor.usage&=~Ct.STATIC}setDataWithSize(t,o,i){if(this._updateID++,this._updateSize=o*t.BYTES_PER_ELEMENT,this._data===t){i&&this.emit("update",this);return}const s=this._data;if(this._data=t,this._dataInt32=null,!s||s.length!==t.length){!this.shrinkToFit&&s&&t.byteLength<s.byteLength?i&&this.emit("update",this):(this.descriptor.size=t.byteLength,this._resourceId=gt("resource"),this.emit("change",this));return}i&&this.emit("update",this)}update(t){this._updateSize=t??this._updateSize,this._updateID++,this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._data=null,this.descriptor=null,this.removeAllListeners()}}function od(e,t){if(!(e instanceof Go)){let o=t?Ct.INDEX:Ct.VERTEX;e instanceof Array&&(t?(e=new Uint32Array(e),o=Ct.INDEX|Ct.COPY_DST):(e=new Float32Array(e),o=Ct.VERTEX|Ct.COPY_DST)),e=new Go({data:e,label:t?"index-mesh-buffer":"vertex-mesh-buffer",usage:o})}return e}function Th(e,t,o){const i=e.getAttribute(t);if(!i)return o.minX=0,o.minY=0,o.maxX=0,o.maxY=0,o;const s=i.buffer.data;let n=1/0,r=1/0,a=-1/0,l=-1/0;const c=s.BYTES_PER_ELEMENT,d=(i.offset||0)/c,p=(i.stride||2*4)/c;for(let h=d;h<s.length;h+=p){const y=s[h],m=s[h+1];y>a&&(a=y),m>l&&(l=m),y<n&&(n=y),m<r&&(r=m)}return o.minX=n,o.minY=r,o.maxX=a,o.maxY=l,o}function jh(e){return(e instanceof Go||Array.isArray(e)||e.BYTES_PER_ELEMENT)&&(e={buffer:e}),e.buffer=od(e.buffer,!1),e}class Dh extends ye{constructor(t={}){super(),this.uid=gt("geometry"),this._layoutKey=0,this.instanceCount=1,this._bounds=new de,this._boundsDirty=!0;const{attributes:o,indexBuffer:i,topology:s}=t;if(this.buffers=[],this.attributes={},o)for(const n in o)this.addAttribute(n,o[n]);this.instanceCount=t.instanceCount??1,i&&this.addIndex(i),this.topology=s||"triangle-list"}onBufferUpdate(){this._boundsDirty=!0,this.emit("update",this)}getAttribute(t){return this.attributes[t]}getIndex(){return this.indexBuffer}getBuffer(t){return this.getAttribute(t).buffer}getSize(){for(const t in this.attributes){const o=this.attributes[t];return o.buffer.data.length/(o.stride/4||o.size)}return 0}addAttribute(t,o){const i=jh(o);this.buffers.indexOf(i.buffer)===-1&&(this.buffers.push(i.buffer),i.buffer.on("update",this.onBufferUpdate,this),i.buffer.on("change",this.onBufferUpdate,this)),this.attributes[t]=i}addIndex(t){this.indexBuffer=od(t,!0),this.buffers.push(this.indexBuffer)}get bounds(){return this._boundsDirty?(this._boundsDirty=!1,Th(this,"aPosition",this._bounds)):this._bounds}destroy(t=!1){this.emit("destroy",this),this.removeAllListeners(),t&&this.buffers.forEach(o=>o.destroy()),this.attributes=null,this.buffers=null,this.indexBuffer=null,this._bounds=null}}const $h=new Float32Array(1),Fh=new Uint32Array(1);class Oh extends Dh{constructor(){const o=new Go({data:$h,label:"attribute-batch-buffer",usage:Ct.VERTEX|Ct.COPY_DST,shrinkToFit:!1}),i=new Go({data:Fh,label:"index-batch-buffer",usage:Ct.INDEX|Ct.COPY_DST,shrinkToFit:!1}),s=6*4;super({attributes:{aPosition:{buffer:o,format:"float32x2",stride:s,offset:0},aUV:{buffer:o,format:"float32x2",stride:s,offset:2*4},aColor:{buffer:o,format:"unorm8x4",stride:s,offset:4*4},aTextureIdAndRound:{buffer:o,format:"uint16x2",stride:s,offset:5*4}},indexBuffer:i})}}function na(e,t,o){if(e)for(const i in e){const s=i.toLocaleLowerCase(),n=t[s];if(n){let r=e[i];i==="header"&&(r=r.replace(/@in\s+[^;]+;\s*/g,"").replace(/@out\s+[^;]+;\s*/g,"")),o&&n.push(`//----${o}----//`),n.push(r)}else ut(`${i} placement hook does not exist in shader`)}}const Nh=/\{\{(.*?)\}\}/g;function ra(e){const t={};return(e.match(Nh)?.map(i=>i.replace(/[{()}]/g,""))??[]).forEach(i=>{t[i]=[]}),t}function aa(e,t){let o;const i=/@in\s+([^;]+);/g;for(;(o=i.exec(e))!==null;)t.push(o[1])}function la(e,t,o=!1){const i=[];aa(t,i),e.forEach(a=>{a.header&&aa(a.header,i)});const s=i;o&&s.sort();const n=s.map((a,l)=>`       @location(${l}) ${a},`).join(`
`);let r=t.replace(/@in\s+[^;]+;\s*/g,"");return r=r.replace("{{in}}",`
${n}
`),r}function ca(e,t){let o;const i=/@out\s+([^;]+);/g;for(;(o=i.exec(e))!==null;)t.push(o[1])}function Lh(e){const o=/\b(\w+)\s*:/g.exec(e);return o?o[1]:""}function Hh(e){const t=/@.*?\s+/g;return e.replace(t,"")}function Gh(e,t){const o=[];ca(t,o),e.forEach(l=>{l.header&&ca(l.header,o)});let i=0;const s=o.sort().map(l=>l.indexOf("builtin")>-1?l:`@location(${i++}) ${l}`).join(`,
`),n=o.sort().map(l=>`       var ${Hh(l)};`).join(`
`),r=`return VSOutput(
            ${o.sort().map(l=>` ${Lh(l)}`).join(`,
`)});`;let a=t.replace(/@out\s+[^;]+;\s*/g,"");return a=a.replace("{{struct}}",`
${s}
`),a=a.replace("{{start}}",`
${n}
`),a=a.replace("{{return}}",`
${r}
`),a}function da(e,t){let o=e;for(const i in t){const s=t[i];s.join(`
`).length?o=o.replace(`{{${i}}}`,`//-----${i} START-----//
${s.join(`
`)}
//----${i} FINISH----//`):o=o.replace(`{{${i}}}`,"")}return o}const Be=Object.create(null),xs=new Map;let Wh=0;function Uh({template:e,bits:t}){const o=id(e,t);if(Be[o])return Be[o];const{vertex:i,fragment:s}=qh(e,t);return Be[o]=sd(i,s,t),Be[o]}function Vh({template:e,bits:t}){const o=id(e,t);return Be[o]||(Be[o]=sd(e.vertex,e.fragment,t)),Be[o]}function qh(e,t){const o=t.map(r=>r.vertex).filter(r=>!!r),i=t.map(r=>r.fragment).filter(r=>!!r);let s=la(o,e.vertex,!0);s=Gh(o,s);const n=la(i,e.fragment,!0);return{vertex:s,fragment:n}}function id(e,t){return t.map(o=>(xs.has(o)||xs.set(o,Wh++),xs.get(o))).sort((o,i)=>o-i).join("-")+e.vertex+e.fragment}function sd(e,t,o){const i=ra(e),s=ra(t);return o.forEach(n=>{na(n.vertex,i,n.name),na(n.fragment,s,n.name)}),{vertex:da(e,i),fragment:da(t,s)}}const Yh=`
    @in aPosition: vec2<f32>;
    @in aUV: vec2<f32>;

    @out @builtin(position) vPosition: vec4<f32>;
    @out vUV : vec2<f32>;
    @out vColor : vec4<f32>;

    {{header}}

    struct VSOutput {
        {{struct}}
    };

    @vertex
    fn main( {{in}} ) -> VSOutput {

        var worldTransformMatrix = globalUniforms.uWorldTransformMatrix;
        var modelMatrix = mat3x3<f32>(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        var position = aPosition;
        var uv = aUV;

        {{start}}
        
        vColor = vec4<f32>(1., 1., 1., 1.);

        {{main}}

        vUV = uv;

        var modelViewProjectionMatrix = globalUniforms.uProjectionMatrix * worldTransformMatrix * modelMatrix;

        vPosition =  vec4<f32>((modelViewProjectionMatrix *  vec3<f32>(position, 1.0)).xy, 0.0, 1.0);
       
        vColor *= globalUniforms.uWorldColorAlpha;

        {{end}}

        {{return}}
    };
`,Xh=`
    @in vUV : vec2<f32>;
    @in vColor : vec4<f32>;
   
    {{header}}

    @fragment
    fn main(
        {{in}}
      ) -> @location(0) vec4<f32> {
        
        {{start}}

        var outColor:vec4<f32>;
      
        {{main}}
        
        var finalColor:vec4<f32> = outColor * vColor;

        {{end}}

        return finalColor;
      };
`,Kh=`
    in vec2 aPosition;
    in vec2 aUV;

    out vec4 vColor;
    out vec2 vUV;

    {{header}}

    void main(void){

        mat3 worldTransformMatrix = uWorldTransformMatrix;
        mat3 modelMatrix = mat3(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        vec2 position = aPosition;
        vec2 uv = aUV;
        
        {{start}}
        
        vColor = vec4(1.);
        
        {{main}}
        
        vUV = uv;
        
        mat3 modelViewProjectionMatrix = uProjectionMatrix * worldTransformMatrix * modelMatrix;

        gl_Position = vec4((modelViewProjectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);

        vColor *= uWorldColorAlpha;

        {{end}}
    }
`,Zh=`
   
    in vec4 vColor;
    in vec2 vUV;

    out vec4 finalColor;

    {{header}}

    void main(void) {
        
        {{start}}

        vec4 outColor;
      
        {{main}}
        
        finalColor = outColor * vColor;
        
        {{end}}
    }
`,Qh={name:"global-uniforms-bit",vertex:{header:`
        struct GlobalUniforms {
            uProjectionMatrix:mat3x3<f32>,
            uWorldTransformMatrix:mat3x3<f32>,
            uWorldColorAlpha: vec4<f32>,
            uResolution: vec2<f32>,
        }

        @group(0) @binding(0) var<uniform> globalUniforms : GlobalUniforms;
        `}},Jh={name:"global-uniforms-bit",vertex:{header:`
          uniform mat3 uProjectionMatrix;
          uniform mat3 uWorldTransformMatrix;
          uniform vec4 uWorldColorAlpha;
          uniform vec2 uResolution;
        `}};function tu({bits:e,name:t}){const o=Uh({template:{fragment:Xh,vertex:Yh},bits:[Qh,...e]});return Ni.from({name:t,vertex:{source:o.vertex,entryPoint:"main"},fragment:{source:o.fragment,entryPoint:"main"}})}function eu({bits:e,name:t}){return new Uc({name:t,...Vh({template:{vertex:Kh,fragment:Zh},bits:[Jh,...e]})})}const ou={name:"color-bit",vertex:{header:`
            @in aColor: vec4<f32>;
        `,main:`
            vColor *= vec4<f32>(aColor.rgb * aColor.a, aColor.a);
        `}},iu={name:"color-bit",vertex:{header:`
            in vec4 aColor;
        `,main:`
            vColor *= vec4(aColor.rgb * aColor.a, aColor.a);
        `}},bs={};function su(e){const t=[];if(e===1)t.push("@group(1) @binding(0) var textureSource1: texture_2d<f32>;"),t.push("@group(1) @binding(1) var textureSampler1: sampler;");else{let o=0;for(let i=0;i<e;i++)t.push(`@group(1) @binding(${o++}) var textureSource${i+1}: texture_2d<f32>;`),t.push(`@group(1) @binding(${o++}) var textureSampler${i+1}: sampler;`)}return t.join(`
`)}function nu(e){const t=[];if(e===1)t.push("outColor = textureSampleGrad(textureSource1, textureSampler1, vUV, uvDx, uvDy);");else{t.push("switch vTextureId {");for(let o=0;o<e;o++)o===e-1?t.push("  default:{"):t.push(`  case ${o}:{`),t.push(`      outColor = textureSampleGrad(textureSource${o+1}, textureSampler${o+1}, vUV, uvDx, uvDy);`),t.push("      break;}");t.push("}")}return t.join(`
`)}function ru(e){return bs[e]||(bs[e]={name:"texture-batch-bit",vertex:{header:`
                @in aTextureIdAndRound: vec2<u32>;
                @out @interpolate(flat) vTextureId : u32;
            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1)
                {
                    vPosition = vec4<f32>(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
                }
            `},fragment:{header:`
                @in @interpolate(flat) vTextureId: u32;

                ${su(e)}
            `,main:`
                var uvDx = dpdx(vUV);
                var uvDy = dpdy(vUV);

                ${nu(e)}
            `}}),bs[e]}const ws={};function au(e){const t=[];for(let o=0;o<e;o++)o>0&&t.push("else"),o<e-1&&t.push(`if(vTextureId < ${o}.5)`),t.push("{"),t.push(`	outColor = texture(uTextures[${o}], vUV);`),t.push("}");return t.join(`
`)}function lu(e){return ws[e]||(ws[e]={name:"texture-batch-bit",vertex:{header:`
                in vec2 aTextureIdAndRound;
                out float vTextureId;

            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1.)
                {
                    gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
                }
            `},fragment:{header:`
                in float vTextureId;

                uniform sampler2D uTextures[${e}];

            `,main:`

                ${au(e)}
            `}}),ws[e]}const cu={name:"round-pixels-bit",vertex:{header:`
            fn roundPixels(position: vec2<f32>, targetSize: vec2<f32>) -> vec2<f32> 
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},du={name:"round-pixels-bit",vertex:{header:`   
            vec2 roundPixels(vec2 position, vec2 targetSize)
            {       
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},pa={};function pu(e){let t=pa[e];if(t)return t;const o=new Int32Array(e);for(let i=0;i<e;i++)o[i]=i;return t=pa[e]=new Xc({uTextures:{value:o,type:"i32",size:e}},{isStatic:!0}),t}class yu extends Un{constructor(t){const o=eu({name:"batch",bits:[iu,lu(t),du]}),i=tu({name:"batch",bits:[ou,ru(t),cu]});super({glProgram:o,gpuProgram:i,resources:{batchSamplers:pu(t)}})}}let ya=null;const nd=class rd extends Ih{constructor(){super(...arguments),this.geometry=new Oh,this.shader=ya||(ya=new yu(this.maxTextures)),this.name=rd.extension.name,this.vertexSize=6}packAttributes(t,o,i,s,n){const r=n<<16|t.roundPixels&65535,a=t.transform,l=a.a,c=a.b,d=a.c,p=a.d,h=a.tx,y=a.ty,{positions:m,uvs:g}=t,f=t.color,k=t.attributeOffset,w=k+t.attributeSize;for(let B=k;B<w;B++){const P=B*2,E=m[P],R=m[P+1];o[s++]=l*E+d*R+h,o[s++]=p*R+c*E+y,o[s++]=g[P],o[s++]=g[P+1],i[s++]=f,i[s++]=r}}packQuadAttributes(t,o,i,s,n){const r=t.texture,a=t.transform,l=a.a,c=a.b,d=a.c,p=a.d,h=a.tx,y=a.ty,m=t.bounds,g=m.maxX,f=m.minX,k=m.maxY,w=m.minY,B=r.uvs,P=t.color,E=n<<16|t.roundPixels&65535;o[s+0]=l*f+d*w+h,o[s+1]=p*w+c*f+y,o[s+2]=B.x0,o[s+3]=B.y0,i[s+4]=P,i[s+5]=E,o[s+6]=l*g+d*w+h,o[s+7]=p*w+c*g+y,o[s+8]=B.x1,o[s+9]=B.y1,i[s+10]=P,i[s+11]=E,o[s+12]=l*g+d*k+h,o[s+13]=p*k+c*g+y,o[s+14]=B.x2,o[s+15]=B.y2,i[s+16]=P,i[s+17]=E,o[s+18]=l*f+d*k+h,o[s+19]=p*k+c*f+y,o[s+20]=B.x3,o[s+21]=B.y3,i[s+22]=P,i[s+23]=E}};nd.extension={type:[U.Batcher],name:"default"};let hu=nd;function uu(e,t,o,i,s,n,r,a=null){let l=0;o*=t,s*=n;const c=a.a,d=a.b,p=a.c,h=a.d,y=a.tx,m=a.ty;for(;l<r;){const g=e[o],f=e[o+1];i[s]=c*g+p*f+y,i[s+1]=d*g+h*f+m,s+=n,o+=t,l++}}function fu(e,t,o,i){let s=0;for(t*=o;s<i;)e[t]=0,e[t+1]=0,t+=o,s++}function ad(e,t,o,i,s){const n=t.a,r=t.b,a=t.c,l=t.d,c=t.tx,d=t.ty;o||(o=0),i||(i=2),s||(s=e.length/i-o);let p=o*i;for(let h=0;h<s;h++){const y=e[p],m=e[p+1];e[p]=n*y+a*m+c,e[p+1]=r*y+l*m+d,p+=i}}const mu=new it;class ld{constructor(){this.packAsQuad=!1,this.batcherName="default",this.topology="triangle-list",this.applyTransform=!0,this.roundPixels=0,this._batcher=null,this._batch=null}get uvs(){return this.geometryData.uvs}get positions(){return this.geometryData.vertices}get indices(){return this.geometryData.indices}get blendMode(){return this.applyTransform?this.renderable.groupBlendMode:"normal"}get color(){const t=this.baseColor,o=t>>16|t&65280|(t&255)<<16,i=this.renderable;return i?_c(o,i.groupColor)+(this.alpha*i.groupAlpha*255<<24):o+(this.alpha*255<<24)}get transform(){return this.renderable?.groupTransform||mu}copyTo(t){t.indexOffset=this.indexOffset,t.indexSize=this.indexSize,t.attributeOffset=this.attributeOffset,t.attributeSize=this.attributeSize,t.baseColor=this.baseColor,t.alpha=this.alpha,t.texture=this.texture,t.geometryData=this.geometryData,t.topology=this.topology}reset(){this.applyTransform=!0,this.renderable=null,this.topology="triangle-list"}}const Wo={extension:{type:U.ShapeBuilder,name:"circle"},build(e,t){let o,i,s,n,r,a;if(e.type==="circle"){const P=e;o=P.x,i=P.y,r=a=P.radius,s=n=0}else if(e.type==="ellipse"){const P=e;o=P.x,i=P.y,r=P.halfWidth,a=P.halfHeight,s=n=0}else{const P=e,E=P.width/2,R=P.height/2;o=P.x+E,i=P.y+R,r=a=Math.max(0,Math.min(P.radius,Math.min(E,R))),s=E-r,n=R-a}if(!(r>=0&&a>=0&&s>=0&&n>=0))return t;const l=Math.ceil(2.3*Math.sqrt(r+a)),c=l*8+(s?4:0)+(n?4:0);if(c===0)return t;if(l===0)return t[0]=t[6]=o+s,t[1]=t[3]=i+n,t[2]=t[4]=o-s,t[5]=t[7]=i-n,t;let d=0,p=l*4+(s?2:0)+2,h=p,y=c,m=s+r,g=n,f=o+m,k=o-m,w=i+g;if(t[d++]=f,t[d++]=w,t[--p]=w,t[--p]=k,n){const P=i-g;t[h++]=k,t[h++]=P,t[--y]=P,t[--y]=f}for(let P=1;P<l;P++){const E=Math.PI/2*(P/l),R=s+Math.cos(E)*r,M=n+Math.sin(E)*a,D=o+R,$=o-R,T=i+M,H=i-M;t[d++]=D,t[d++]=T,t[--p]=T,t[--p]=$,t[h++]=$,t[h++]=H,t[--y]=H,t[--y]=D}m=s,g=n+a,f=o+m,k=o-m,w=i+g;const B=i-g;return t[d++]=f,t[d++]=w,t[--y]=B,t[--y]=f,s&&(t[d++]=k,t[d++]=w,t[--y]=B,t[--y]=k),t},triangulate(e,t,o,i,s,n){if(e.length===0)return;let r=0,a=0;for(let d=0;d<e.length;d+=2)r+=e[d],a+=e[d+1];r/=e.length/2,a/=e.length/2;let l=i;t[l*o]=r,t[l*o+1]=a;const c=l++;for(let d=0;d<e.length;d+=2)t[l*o]=e[d],t[l*o+1]=e[d+1],d>0&&(s[n++]=l,s[n++]=c,s[n++]=l-1),l++;s[n++]=c+1,s[n++]=c,s[n++]=l-1}},gu={...Wo,extension:{...Wo.extension,name:"ellipse"}},xu={...Wo,extension:{...Wo.extension,name:"roundedRectangle"}},cd=1e-4,ha=1e-4;function bu(e){const t=e.length;if(t<6)return 1;let o=0;for(let i=0,s=e[t-2],n=e[t-1];i<t;i+=2){const r=e[i],a=e[i+1];o+=(r-s)*(a+n),s=r,n=a}return o<0?-1:1}function ua(e,t,o,i,s,n,r,a){const l=e-o*s,c=t-i*s,d=e+o*n,p=t+i*n;let h,y;r?(h=i,y=-o):(h=-i,y=o);const m=l+h,g=c+y,f=d+h,k=p+y;return a.push(m,g),a.push(f,k),2}function Me(e,t,o,i,s,n,r,a){const l=o-e,c=i-t;let d=Math.atan2(l,c),p=Math.atan2(s-e,n-t);a&&d<p?d+=Math.PI*2:!a&&d>p&&(p+=Math.PI*2);let h=d;const y=p-d,m=Math.abs(y),g=Math.sqrt(l*l+c*c),f=(15*m*Math.sqrt(g)/Math.PI>>0)+1,k=y/f;if(h+=k,a){r.push(e,t),r.push(o,i);for(let w=1,B=h;w<f;w++,B+=k)r.push(e,t),r.push(e+Math.sin(B)*g,t+Math.cos(B)*g);r.push(e,t),r.push(s,n)}else{r.push(o,i),r.push(e,t);for(let w=1,B=h;w<f;w++,B+=k)r.push(e+Math.sin(B)*g,t+Math.cos(B)*g),r.push(e,t);r.push(s,n),r.push(e,t)}return f*2}function wu(e,t,o,i,s,n){const r=cd;if(e.length===0)return;const a=t;let l=a.alignment;if(t.alignment!==.5){let v=bu(e);l=(l-.5)*v+.5}const c=new At(e[0],e[1]),d=new At(e[e.length-2],e[e.length-1]),p=i,h=Math.abs(c.x-d.x)<r&&Math.abs(c.y-d.y)<r;if(p){e=e.slice(),h&&(e.pop(),e.pop(),d.set(e[e.length-2],e[e.length-1]));const v=(c.x+d.x)*.5,z=(d.y+c.y)*.5;e.unshift(v,z),e.push(v,z)}const y=s,m=e.length/2;let g=e.length;const f=y.length/2,k=a.width/2,w=k*k,B=a.miterLimit*a.miterLimit;let P=e[0],E=e[1],R=e[2],M=e[3],D=0,$=0,T=-(E-M),H=P-R,Z=0,J=0,rt=Math.sqrt(T*T+H*H);T/=rt,H/=rt,T*=k,H*=k;const It=l,b=(1-It)*2,_=It*2;p||(a.cap==="round"?g+=Me(P-T*(b-_)*.5,E-H*(b-_)*.5,P-T*b,E-H*b,P+T*_,E+H*_,y,!0)+2:a.cap==="square"&&(g+=ua(P,E,T,H,b,_,!0,y))),y.push(P-T*b,E-H*b),y.push(P+T*_,E+H*_);for(let v=1;v<m-1;++v){P=e[(v-1)*2],E=e[(v-1)*2+1],R=e[v*2],M=e[v*2+1],D=e[(v+1)*2],$=e[(v+1)*2+1],T=-(E-M),H=P-R,rt=Math.sqrt(T*T+H*H),T/=rt,H/=rt,T*=k,H*=k,Z=-(M-$),J=R-D,rt=Math.sqrt(Z*Z+J*J),Z/=rt,J/=rt,Z*=k,J*=k;const z=R-P,A=E-M,C=R-D,I=$-M,j=z*C+A*I,N=A*C-I*z,V=N<0;if(Math.abs(N)<.001*Math.abs(j)){y.push(R-T*b,M-H*b),y.push(R+T*_,M+H*_),j>=0&&(a.join==="round"?g+=Me(R,M,R-T*b,M-H*b,R-Z*b,M-J*b,y,!1)+4:g+=2,y.push(R-Z*_,M-J*_),y.push(R+Z*b,M+J*b));continue}const q=(-T+P)*(-H+M)-(-T+R)*(-H+E),X=(-Z+D)*(-J+M)-(-Z+R)*(-J+$),st=(z*X-C*q)/N,K=(I*q-A*X)/N,me=(st-R)*(st-R)+(K-M)*(K-M),Tt=R+(st-R)*b,oe=M+(K-M)*b,ie=R-(st-R)*_,Q=M-(K-M)*_,et=Math.min(z*z+A*A,C*C+I*I),kr=V?b:_,_p=et+kr*kr*w;me<=_p?a.join==="bevel"||me/w>B?(V?(y.push(Tt,oe),y.push(R+T*_,M+H*_),y.push(Tt,oe),y.push(R+Z*_,M+J*_)):(y.push(R-T*b,M-H*b),y.push(ie,Q),y.push(R-Z*b,M-J*b),y.push(ie,Q)),g+=2):a.join==="round"?V?(y.push(Tt,oe),y.push(R+T*_,M+H*_),g+=Me(R,M,R+T*_,M+H*_,R+Z*_,M+J*_,y,!0)+4,y.push(Tt,oe),y.push(R+Z*_,M+J*_)):(y.push(R-T*b,M-H*b),y.push(ie,Q),g+=Me(R,M,R-T*b,M-H*b,R-Z*b,M-J*b,y,!1)+4,y.push(R-Z*b,M-J*b),y.push(ie,Q)):(y.push(Tt,oe),y.push(ie,Q)):(y.push(R-T*b,M-H*b),y.push(R+T*_,M+H*_),a.join==="round"?V?g+=Me(R,M,R+T*_,M+H*_,R+Z*_,M+J*_,y,!0)+2:g+=Me(R,M,R-T*b,M-H*b,R-Z*b,M-J*b,y,!1)+2:a.join==="miter"&&me/w<=B&&(V?(y.push(ie,Q),y.push(ie,Q)):(y.push(Tt,oe),y.push(Tt,oe)),g+=2),y.push(R-Z*b,M-J*b),y.push(R+Z*_,M+J*_),g+=2)}P=e[(m-2)*2],E=e[(m-2)*2+1],R=e[(m-1)*2],M=e[(m-1)*2+1],T=-(E-M),H=P-R,rt=Math.sqrt(T*T+H*H),T/=rt,H/=rt,T*=k,H*=k,y.push(R-T*b,M-H*b),y.push(R+T*_,M+H*_),p||(a.cap==="round"?g+=Me(R-T*(b-_)*.5,M-H*(b-_)*.5,R-T*b,M-H*b,R+T*_,M+H*_,y,!1)+2:a.cap==="square"&&(g+=ua(R,M,T,H,b,_,!1,y)));const S=ha*ha;for(let v=f;v<g+f-2;++v)P=y[v*2],E=y[v*2+1],R=y[(v+1)*2],M=y[(v+1)*2+1],D=y[(v+2)*2],$=y[(v+2)*2+1],!(Math.abs(P*(M-$)+R*($-E)+D*(E-M))<S)&&n.push(v,v+1,v+2)}function ku(e,t,o,i){const s=cd;if(e.length===0)return;const n=e[0],r=e[1],a=e[e.length-2],l=e[e.length-1],c=t||Math.abs(n-a)<s&&Math.abs(r-l)<s,d=o,p=e.length/2,h=d.length/2;for(let y=0;y<p;y++)d.push(e[y*2]),d.push(e[y*2+1]);for(let y=0;y<p-1;y++)i.push(h+y,h+y+1);c&&i.push(h+p-1,h)}function dd(e,t,o,i,s,n,r){const a=xh(e,t,2);if(!a)return;for(let c=0;c<a.length;c+=3)n[r++]=a[c]+s,n[r++]=a[c+1]+s,n[r++]=a[c+2]+s;let l=s*i;for(let c=0;c<e.length;c+=2)o[l]=e[c],o[l+1]=e[c+1],l+=i}const zu=[],vu={extension:{type:U.ShapeBuilder,name:"polygon"},build(e,t){for(let o=0;o<e.points.length;o++)t[o]=e.points[o];return t},triangulate(e,t,o,i,s,n){dd(e,zu,t,o,i,s,n)}},_u={extension:{type:U.ShapeBuilder,name:"rectangle"},build(e,t){const o=e,i=o.x,s=o.y,n=o.width,r=o.height;return n>=0&&r>=0&&(t[0]=i,t[1]=s,t[2]=i+n,t[3]=s,t[4]=i+n,t[5]=s+r,t[6]=i,t[7]=s+r),t},triangulate(e,t,o,i,s,n){let r=0;i*=o,t[i+r]=e[0],t[i+r+1]=e[1],r+=o,t[i+r]=e[2],t[i+r+1]=e[3],r+=o,t[i+r]=e[6],t[i+r+1]=e[7],r+=o,t[i+r]=e[4],t[i+r+1]=e[5],r+=o;const a=i/o;s[n++]=a,s[n++]=a+1,s[n++]=a+2,s[n++]=a+1,s[n++]=a+3,s[n++]=a+2}},Bu={extension:{type:U.ShapeBuilder,name:"triangle"},build(e,t){return t[0]=e.x,t[1]=e.y,t[2]=e.x2,t[3]=e.y2,t[4]=e.x3,t[5]=e.y3,t},triangulate(e,t,o,i,s,n){let r=0;i*=o,t[i+r]=e[0],t[i+r+1]=e[1],r+=o,t[i+r]=e[2],t[i+r+1]=e[3],r+=o,t[i+r]=e[4],t[i+r+1]=e[5];const a=i/o;s[n++]=a,s[n++]=a+1,s[n++]=a+2}},Hi={};Vt.handleByMap(U.ShapeBuilder,Hi);Vt.add(_u,vu,Bu,Wo,gu,xu);const Su=new mt;function Au(e,t){const{geometryData:o,batches:i}=t;i.length=0,o.indices.length=0,o.vertices.length=0,o.uvs.length=0;for(let s=0;s<e.instructions.length;s++){const n=e.instructions[s];if(n.action==="texture")Pu(n.data,i,o);else if(n.action==="fill"||n.action==="stroke"){const r=n.action==="stroke",a=n.data.path.shapePath,l=n.data.style,c=n.data.hole;r&&c&&fa(c.shapePath,l,null,!0,i,o),fa(a,l,c,r,i,o)}}}function Pu(e,t,o){const{vertices:i,uvs:s,indices:n}=o,r=n.length,a=i.length/2,l=[],c=Hi.rectangle,d=Su,p=e.image;d.x=e.dx,d.y=e.dy,d.width=e.dw,d.height=e.dh;const h=e.transform;c.build(d,l),h&&ad(l,h),c.triangulate(l,i,2,a,n,r);const y=p.uvs;s.push(y.x0,y.y0,y.x1,y.y1,y.x3,y.y3,y.x2,y.y2);const m=ke.get(ld);m.indexOffset=r,m.indexSize=n.length-r,m.attributeOffset=a,m.attributeSize=i.length/2-a,m.baseColor=e.style,m.alpha=e.alpha,m.texture=p,m.geometryData=o,t.push(m)}function fa(e,t,o,i,s,n){const{vertices:r,uvs:a,indices:l}=n,c=e.shapePrimitives.length-1;e.shapePrimitives.forEach(({shape:d,transform:p},h)=>{const y=l.length,m=r.length/2,g=[],f=Hi[d.type];let k="triangle-list";if(f.build(d,g),p&&ad(g,p),i){const E=d.closePath??!0,R=t;R.pixelLine?(ku(g,E,r,l),k="line-list"):wu(g,R,!1,E,r,l)}else if(o&&c===h){c!==0&&console.warn("[Pixi Graphics] only the last shape have be cut out");const E=[],R=g.slice();Ru(o.shapePath).forEach(D=>{E.push(R.length/2),R.push(...D)}),dd(R,E,r,2,m,l,y)}else f.triangulate(g,r,2,m,l,y);const w=a.length/2,B=t.texture;if(B!==tt.WHITE){const E=t.matrix;E&&(p&&E.append(p.clone().invert()),uu(r,2,m,a,w,2,r.length/2-m,E))}else fu(a,w,2,r.length/2-m);const P=ke.get(ld);P.indexOffset=y,P.indexSize=l.length-y,P.attributeOffset=m,P.attributeSize=r.length/2-m,P.baseColor=t.color,P.alpha=t.alpha,P.texture=B,P.geometryData=n,P.topology=k,s.push(P)})}function Ru(e){if(!e)return[];const t=e.shapePrimitives,o=[];for(let i=0;i<t.length;i++){const s=t[i].shape,n=[];Hi[s.type].build(s,n),o.push(n)}return o}class Cu{constructor(){this.batches=[],this.geometryData={vertices:[],uvs:[],indices:[]}}}class Mu{constructor(){this.batcher=new hu,this.instructions=new Pc}init(){this.instructions.reset()}get geometry(){return ft(ny,"GraphicsContextRenderData#geometry is deprecated, please use batcher.geometry instead."),this.batcher.geometry}}const Xn=class kn{constructor(t){this._gpuContextHash={},this._graphicsDataContextHash=Object.create(null),t.renderableGC.addManagedHash(this,"_gpuContextHash"),t.renderableGC.addManagedHash(this,"_graphicsDataContextHash")}init(t){kn.defaultOptions.bezierSmoothness=t?.bezierSmoothness??kn.defaultOptions.bezierSmoothness}getContextRenderData(t){return this._graphicsDataContextHash[t.uid]||this._initContextRenderData(t)}updateGpuContext(t){let o=this._gpuContextHash[t.uid]||this._initContext(t);if(t.dirty){o?this._cleanGraphicsContextData(t):o=this._initContext(t),Au(t,o);const i=t.batchMode;t.customShader||i==="no-batch"?o.isBatchable=!1:i==="auto"&&(o.isBatchable=o.geometryData.vertices.length<400),t.dirty=!1}return o}getGpuContext(t){return this._gpuContextHash[t.uid]||this._initContext(t)}_initContextRenderData(t){const o=ke.get(Mu),{batches:i,geometryData:s}=this._gpuContextHash[t.uid],n=s.vertices.length,r=s.indices.length;for(let d=0;d<i.length;d++)i[d].applyTransform=!1;const a=o.batcher;a.ensureAttributeBuffer(n),a.ensureIndexBuffer(r),a.begin();for(let d=0;d<i.length;d++){const p=i[d];a.add(p)}a.finish(o.instructions);const l=a.geometry;l.indexBuffer.setDataWithSize(a.indexBuffer,a.indexSize,!0),l.buffers[0].setDataWithSize(a.attributeBuffer.float32View,a.attributeSize,!0);const c=a.batches;for(let d=0;d<c.length;d++){const p=c[d];p.bindGroup=Ah(p.textures.textures,p.textures.count)}return this._graphicsDataContextHash[t.uid]=o,o}_initContext(t){const o=new Cu;return o.context=t,this._gpuContextHash[t.uid]=o,t.on("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[t.uid]}onGraphicsContextDestroy(t){this._cleanGraphicsContextData(t),t.off("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[t.uid]=null}_cleanGraphicsContextData(t){const o=this._gpuContextHash[t.uid];o.isBatchable||this._graphicsDataContextHash[t.uid]&&(ke.return(this.getContextRenderData(t)),this._graphicsDataContextHash[t.uid]=null),o.batches&&o.batches.forEach(i=>{ke.return(i)})}destroy(){for(const t in this._gpuContextHash)this._gpuContextHash[t]&&this.onGraphicsContextDestroy(this._gpuContextHash[t].context)}};Xn.extension={type:[U.WebGLSystem,U.WebGPUSystem,U.CanvasSystem],name:"graphicsContext"};Xn.defaultOptions={bezierSmoothness:.5};let pd=Xn;const Eu=8,ci=11920929e-14,Iu=1;function yd(e,t,o,i,s,n,r,a,l,c){const p=Math.min(.99,Math.max(0,c??pd.defaultOptions.bezierSmoothness));let h=(Iu-p)/1;return h*=h,Tu(t,o,i,s,n,r,a,l,e,h),e}function Tu(e,t,o,i,s,n,r,a,l,c){zn(e,t,o,i,s,n,r,a,l,c,0),l.push(r,a)}function zn(e,t,o,i,s,n,r,a,l,c,d){if(d>Eu)return;const p=(e+o)/2,h=(t+i)/2,y=(o+s)/2,m=(i+n)/2,g=(s+r)/2,f=(n+a)/2,k=(p+y)/2,w=(h+m)/2,B=(y+g)/2,P=(m+f)/2,E=(k+B)/2,R=(w+P)/2;if(d>0){let M=r-e,D=a-t;const $=Math.abs((o-r)*D-(i-a)*M),T=Math.abs((s-r)*D-(n-a)*M);if($>ci&&T>ci){if(($+T)*($+T)<=c*(M*M+D*D)){l.push(E,R);return}}else if($>ci){if($*$<=c*(M*M+D*D)){l.push(E,R);return}}else if(T>ci){if(T*T<=c*(M*M+D*D)){l.push(E,R);return}}else if(M=E-(e+r)/2,D=R-(t+a)/2,M*M+D*D<=c){l.push(E,R);return}}zn(e,t,p,h,k,w,E,R,l,c,d+1),zn(E,R,B,P,g,f,r,a,l,c,d+1)}const ju=8,Du=11920929e-14,$u=1;function Fu(e,t,o,i,s,n,r,a){const c=Math.min(.99,Math.max(0,a??pd.defaultOptions.bezierSmoothness));let d=($u-c)/1;return d*=d,Ou(t,o,i,s,n,r,e,d),e}function Ou(e,t,o,i,s,n,r,a){vn(r,e,t,o,i,s,n,a,0),r.push(s,n)}function vn(e,t,o,i,s,n,r,a,l){if(l>ju)return;const c=(t+i)/2,d=(o+s)/2,p=(i+n)/2,h=(s+r)/2,y=(c+p)/2,m=(d+h)/2;let g=n-t,f=r-o;const k=Math.abs((i-n)*f-(s-r)*g);if(k>Du){if(k*k<=a*(g*g+f*f)){e.push(y,m);return}}else if(g=y-(t+n)/2,f=m-(o+r)/2,g*g+f*f<=a){e.push(y,m);return}vn(e,t,o,c,d,y,m,a,l+1),vn(e,y,m,p,h,n,r,a,l+1)}function hd(e,t,o,i,s,n,r,a){let l=Math.abs(s-n);(!r&&s>n||r&&n>s)&&(l=2*Math.PI-l),a||(a=Math.max(6,Math.floor(6*Math.pow(i,1/3)*(l/Math.PI)))),a=Math.max(a,3);let c=l/a,d=s;c*=r?-1:1;for(let p=0;p<a+1;p++){const h=Math.cos(d),y=Math.sin(d),m=t+h*i,g=o+y*i;e.push(m,g),d+=c}}function Nu(e,t,o,i,s,n){const r=e[e.length-2],l=e[e.length-1]-o,c=r-t,d=s-o,p=i-t,h=Math.abs(l*p-c*d);if(h<1e-8||n===0){(e[e.length-2]!==t||e[e.length-1]!==o)&&e.push(t,o);return}const y=l*l+c*c,m=d*d+p*p,g=l*d+c*p,f=n*Math.sqrt(y)/h,k=n*Math.sqrt(m)/h,w=f*g/y,B=k*g/m,P=f*p+k*c,E=f*d+k*l,R=c*(k+w),M=l*(k+w),D=p*(f+B),$=d*(f+B),T=Math.atan2(M-E,R-P),H=Math.atan2($-E,D-P);hd(e,P+t,E+o,n,T,H,c*d>p*l)}const Oo=Math.PI*2,ks={centerX:0,centerY:0,ang1:0,ang2:0},zs=({x:e,y:t},o,i,s,n,r,a,l)=>{e*=o,t*=i;const c=s*e-n*t,d=n*e+s*t;return l.x=c+r,l.y=d+a,l};function Lu(e,t){const o=t===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(t/4),i=t===1.5707963267948966?.551915024494:o,s=Math.cos(e),n=Math.sin(e),r=Math.cos(e+t),a=Math.sin(e+t);return[{x:s-n*i,y:n+s*i},{x:r+a*i,y:a-r*i},{x:r,y:a}]}const ma=(e,t,o,i)=>{const s=e*i-t*o<0?-1:1;let n=e*o+t*i;return n>1&&(n=1),n<-1&&(n=-1),s*Math.acos(n)},Hu=(e,t,o,i,s,n,r,a,l,c,d,p,h)=>{const y=Math.pow(s,2),m=Math.pow(n,2),g=Math.pow(d,2),f=Math.pow(p,2);let k=y*m-y*f-m*g;k<0&&(k=0),k/=y*f+m*g,k=Math.sqrt(k)*(r===a?-1:1);const w=k*s/n*p,B=k*-n/s*d,P=c*w-l*B+(e+o)/2,E=l*w+c*B+(t+i)/2,R=(d-w)/s,M=(p-B)/n,D=(-d-w)/s,$=(-p-B)/n,T=ma(1,0,R,M);let H=ma(R,M,D,$);a===0&&H>0&&(H-=Oo),a===1&&H<0&&(H+=Oo),h.centerX=P,h.centerY=E,h.ang1=T,h.ang2=H};function Gu(e,t,o,i,s,n,r,a=0,l=0,c=0){if(n===0||r===0)return;const d=Math.sin(a*Oo/360),p=Math.cos(a*Oo/360),h=p*(t-i)/2+d*(o-s)/2,y=-d*(t-i)/2+p*(o-s)/2;if(h===0&&y===0)return;n=Math.abs(n),r=Math.abs(r);const m=Math.pow(h,2)/Math.pow(n,2)+Math.pow(y,2)/Math.pow(r,2);m>1&&(n*=Math.sqrt(m),r*=Math.sqrt(m)),Hu(t,o,i,s,n,r,l,c,d,p,h,y,ks);let{ang1:g,ang2:f}=ks;const{centerX:k,centerY:w}=ks;let B=Math.abs(f)/(Oo/4);Math.abs(1-B)<1e-7&&(B=1);const P=Math.max(Math.ceil(B),1);f/=P;let E=e[e.length-2],R=e[e.length-1];const M={x:0,y:0};for(let D=0;D<P;D++){const $=Lu(g,f),{x:T,y:H}=zs($[0],n,r,p,d,k,w,M),{x:Z,y:J}=zs($[1],n,r,p,d,k,w,M),{x:rt,y:It}=zs($[2],n,r,p,d,k,w,M);yd(e,E,R,T,H,Z,J,rt,It),E=rt,R=It,g+=f}}function Wu(e,t,o){const i=(r,a)=>{const l=a.x-r.x,c=a.y-r.y,d=Math.sqrt(l*l+c*c),p=l/d,h=c/d;return{len:d,nx:p,ny:h}},s=(r,a)=>{r===0?e.moveTo(a.x,a.y):e.lineTo(a.x,a.y)};let n=t[t.length-1];for(let r=0;r<t.length;r++){const a=t[r%t.length],l=a.radius??o;if(l<=0){s(r,a),n=a;continue}const c=t[(r+1)%t.length],d=i(a,n),p=i(a,c);if(d.len<1e-4||p.len<1e-4){s(r,a),n=a;continue}let h=Math.asin(d.nx*p.ny-d.ny*p.nx),y=1,m=!1;d.nx*p.nx-d.ny*-p.ny<0?h<0?h=Math.PI+h:(h=Math.PI-h,y=-1,m=!0):h>0&&(y=-1,m=!0);const g=h/2;let f,k=Math.abs(Math.cos(g)*l/Math.sin(g));k>Math.min(d.len/2,p.len/2)?(k=Math.min(d.len/2,p.len/2),f=Math.abs(k*Math.sin(g)/Math.cos(g))):f=l;const w=a.x+p.nx*k+-p.ny*f*y,B=a.y+p.ny*k+p.nx*f*y,P=Math.atan2(d.ny,d.nx)+Math.PI/2*y,E=Math.atan2(p.ny,p.nx)-Math.PI/2*y;r===0&&e.moveTo(w+Math.cos(P)*f,B+Math.sin(P)*f),e.arc(w,B,f,P,E,m),n=a}}function Uu(e,t,o,i){const s=(a,l)=>Math.sqrt((a.x-l.x)**2+(a.y-l.y)**2),n=(a,l,c)=>({x:a.x+(l.x-a.x)*c,y:a.y+(l.y-a.y)*c}),r=t.length;for(let a=0;a<r;a++){const l=t[(a+1)%r],c=l.radius??o;if(c<=0){a===0?e.moveTo(l.x,l.y):e.lineTo(l.x,l.y);continue}const d=t[a],p=t[(a+2)%r],h=s(d,l);let y;if(h<1e-4)y=l;else{const f=Math.min(h/2,c);y=n(l,d,f/h)}const m=s(p,l);let g;if(m<1e-4)g=l;else{const f=Math.min(m/2,c);g=n(l,p,f/m)}a===0?e.moveTo(y.x,y.y):e.lineTo(y.x,y.y),e.quadraticCurveTo(l.x,l.y,g.x,g.y,i)}}const Vu=new mt;class qu{constructor(t){this.shapePrimitives=[],this._currentPoly=null,this._bounds=new de,this._graphicsPath2D=t}moveTo(t,o){return this.startPoly(t,o),this}lineTo(t,o){this._ensurePoly();const i=this._currentPoly.points,s=i[i.length-2],n=i[i.length-1];return(s!==t||n!==o)&&i.push(t,o),this}arc(t,o,i,s,n,r){this._ensurePoly(!1);const a=this._currentPoly.points;return hd(a,t,o,i,s,n,r),this}arcTo(t,o,i,s,n){this._ensurePoly();const r=this._currentPoly.points;return Nu(r,t,o,i,s,n),this}arcToSvg(t,o,i,s,n,r,a){const l=this._currentPoly.points;return Gu(l,this._currentPoly.lastX,this._currentPoly.lastY,r,a,t,o,i,s,n),this}bezierCurveTo(t,o,i,s,n,r,a){this._ensurePoly();const l=this._currentPoly;return yd(this._currentPoly.points,l.lastX,l.lastY,t,o,i,s,n,r,a),this}quadraticCurveTo(t,o,i,s,n){this._ensurePoly();const r=this._currentPoly;return Fu(this._currentPoly.points,r.lastX,r.lastY,t,o,i,s,n),this}closePath(){return this.endPoly(!0),this}addPath(t,o){this.endPoly(),o&&!o.isIdentity()&&(t=t.clone(!0),t.transform(o));for(let i=0;i<t.instructions.length;i++){const s=t.instructions[i];this[s.action](...s.data)}return this}finish(t=!1){this.endPoly(t)}rect(t,o,i,s,n){return this.drawShape(new mt(t,o,i,s),n),this}circle(t,o,i,s){return this.drawShape(new Vn(t,o,i),s),this}poly(t,o,i){const s=new Fo(t);return s.closePath=o,this.drawShape(s,i),this}regularPoly(t,o,i,s,n=0,r){s=Math.max(s|0,3);const a=-1*Math.PI/2+n,l=Math.PI*2/s,c=[];for(let d=0;d<s;d++){const p=a-d*l;c.push(t+i*Math.cos(p),o+i*Math.sin(p))}return this.poly(c,!0,r),this}roundPoly(t,o,i,s,n,r=0,a){if(s=Math.max(s|0,3),n<=0)return this.regularPoly(t,o,i,s,r);const l=i*Math.sin(Math.PI/s)-.001;n=Math.min(n,l);const c=-1*Math.PI/2+r,d=Math.PI*2/s,p=(s-2)*Math.PI/s/2;for(let h=0;h<s;h++){const y=h*d+c,m=t+i*Math.cos(y),g=o+i*Math.sin(y),f=y+Math.PI+p,k=y-Math.PI-p,w=m+n*Math.cos(f),B=g+n*Math.sin(f),P=m+n*Math.cos(k),E=g+n*Math.sin(k);h===0?this.moveTo(w,B):this.lineTo(w,B),this.quadraticCurveTo(m,g,P,E,a)}return this.closePath()}roundShape(t,o,i=!1,s){return t.length<3?this:(i?Uu(this,t,o,s):Wu(this,t,o),this.closePath())}filletRect(t,o,i,s,n){if(n===0)return this.rect(t,o,i,s);const r=Math.min(i,s)/2,a=Math.min(r,Math.max(-r,n)),l=t+i,c=o+s,d=a<0?-a:0,p=Math.abs(a);return this.moveTo(t,o+p).arcTo(t+d,o+d,t+p,o,p).lineTo(l-p,o).arcTo(l-d,o+d,l,o+p,p).lineTo(l,c-p).arcTo(l-d,c-d,t+i-p,c,p).lineTo(t+p,c).arcTo(t+d,c-d,t,c-p,p).closePath()}chamferRect(t,o,i,s,n,r){if(n<=0)return this.rect(t,o,i,s);const a=Math.min(n,Math.min(i,s)/2),l=t+i,c=o+s,d=[t+a,o,l-a,o,l,o+a,l,c-a,l-a,c,t+a,c,t,c-a,t,o+a];for(let p=d.length-1;p>=2;p-=2)d[p]===d[p-2]&&d[p-1]===d[p-3]&&d.splice(p-1,2);return this.poly(d,!0,r)}ellipse(t,o,i,s,n){return this.drawShape(new qn(t,o,i,s),n),this}roundRect(t,o,i,s,n,r){return this.drawShape(new Yn(t,o,i,s,n),r),this}drawShape(t,o){return this.endPoly(),this.shapePrimitives.push({shape:t,transform:o}),this}startPoly(t,o){let i=this._currentPoly;return i&&this.endPoly(),i=new Fo,i.points.push(t,o),this._currentPoly=i,this}endPoly(t=!1){const o=this._currentPoly;return o&&o.points.length>2&&(o.closePath=t,this.shapePrimitives.push({shape:o})),this._currentPoly=null,this}_ensurePoly(t=!0){if(!this._currentPoly&&(this._currentPoly=new Fo,t)){const o=this.shapePrimitives[this.shapePrimitives.length-1];if(o){let i=o.shape.x,s=o.shape.y;if(o.transform&&!o.transform.isIdentity()){const n=o.transform,r=i;i=n.a*i+n.c*s+n.tx,s=n.b*r+n.d*s+n.ty}this._currentPoly.points.push(i,s)}else this._currentPoly.points.push(0,0)}}buildPath(){const t=this._graphicsPath2D;this.shapePrimitives.length=0,this._currentPoly=null;for(let o=0;o<t.instructions.length;o++){const i=t.instructions[o];this[i.action](...i.data)}this.finish()}get bounds(){const t=this._bounds;t.clear();const o=this.shapePrimitives;for(let i=0;i<o.length;i++){const s=o[i],n=s.shape.getBounds(Vu);s.transform?t.addRect(n,s.transform):t.addRect(n)}return t}}class lo{constructor(t){this.instructions=[],this.uid=gt("graphicsPath"),this._dirty=!0,typeof t=="string"?zh(t,this):this.instructions=t?.slice()??[]}get shapePath(){return this._shapePath||(this._shapePath=new qu(this)),this._dirty&&(this._dirty=!1,this._shapePath.buildPath()),this._shapePath}addPath(t,o){return t=t.clone(),this.instructions.push({action:"addPath",data:[t,o]}),this._dirty=!0,this}arc(...t){return this.instructions.push({action:"arc",data:t}),this._dirty=!0,this}arcTo(...t){return this.instructions.push({action:"arcTo",data:t}),this._dirty=!0,this}arcToSvg(...t){return this.instructions.push({action:"arcToSvg",data:t}),this._dirty=!0,this}bezierCurveTo(...t){return this.instructions.push({action:"bezierCurveTo",data:t}),this._dirty=!0,this}bezierCurveToShort(t,o,i,s,n){const r=this.instructions[this.instructions.length-1],a=this.getLastPoint(At.shared);let l=0,c=0;if(!r||r.action!=="bezierCurveTo")l=a.x,c=a.y;else{l=r.data[2],c=r.data[3];const d=a.x,p=a.y;l=d+(d-l),c=p+(p-c)}return this.instructions.push({action:"bezierCurveTo",data:[l,c,t,o,i,s,n]}),this._dirty=!0,this}closePath(){return this.instructions.push({action:"closePath",data:[]}),this._dirty=!0,this}ellipse(...t){return this.instructions.push({action:"ellipse",data:t}),this._dirty=!0,this}lineTo(...t){return this.instructions.push({action:"lineTo",data:t}),this._dirty=!0,this}moveTo(...t){return this.instructions.push({action:"moveTo",data:t}),this}quadraticCurveTo(...t){return this.instructions.push({action:"quadraticCurveTo",data:t}),this._dirty=!0,this}quadraticCurveToShort(t,o,i){const s=this.instructions[this.instructions.length-1],n=this.getLastPoint(At.shared);let r=0,a=0;if(!s||s.action!=="quadraticCurveTo")r=n.x,a=n.y;else{r=s.data[0],a=s.data[1];const l=n.x,c=n.y;r=l+(l-r),a=c+(c-a)}return this.instructions.push({action:"quadraticCurveTo",data:[r,a,t,o,i]}),this._dirty=!0,this}rect(t,o,i,s,n){return this.instructions.push({action:"rect",data:[t,o,i,s,n]}),this._dirty=!0,this}circle(t,o,i,s){return this.instructions.push({action:"circle",data:[t,o,i,s]}),this._dirty=!0,this}roundRect(...t){return this.instructions.push({action:"roundRect",data:t}),this._dirty=!0,this}poly(...t){return this.instructions.push({action:"poly",data:t}),this._dirty=!0,this}regularPoly(...t){return this.instructions.push({action:"regularPoly",data:t}),this._dirty=!0,this}roundPoly(...t){return this.instructions.push({action:"roundPoly",data:t}),this._dirty=!0,this}roundShape(...t){return this.instructions.push({action:"roundShape",data:t}),this._dirty=!0,this}filletRect(...t){return this.instructions.push({action:"filletRect",data:t}),this._dirty=!0,this}chamferRect(...t){return this.instructions.push({action:"chamferRect",data:t}),this._dirty=!0,this}star(t,o,i,s,n,r,a){n||(n=s/2);const l=-1*Math.PI/2+r,c=i*2,d=Math.PI*2/c,p=[];for(let h=0;h<c;h++){const y=h%2?n:s,m=h*d+l;p.push(t+y*Math.cos(m),o+y*Math.sin(m))}return this.poly(p,!0,a),this}clone(t=!1){const o=new lo;if(!t)o.instructions=this.instructions.slice();else for(let i=0;i<this.instructions.length;i++){const s=this.instructions[i];o.instructions.push({action:s.action,data:s.data.slice()})}return o}clear(){return this.instructions.length=0,this._dirty=!0,this}transform(t){if(t.isIdentity())return this;const o=t.a,i=t.b,s=t.c,n=t.d,r=t.tx,a=t.ty;let l=0,c=0,d=0,p=0,h=0,y=0,m=0,g=0;for(let f=0;f<this.instructions.length;f++){const k=this.instructions[f],w=k.data;switch(k.action){case"moveTo":case"lineTo":l=w[0],c=w[1],w[0]=o*l+s*c+r,w[1]=i*l+n*c+a;break;case"bezierCurveTo":d=w[0],p=w[1],h=w[2],y=w[3],l=w[4],c=w[5],w[0]=o*d+s*p+r,w[1]=i*d+n*p+a,w[2]=o*h+s*y+r,w[3]=i*h+n*y+a,w[4]=o*l+s*c+r,w[5]=i*l+n*c+a;break;case"quadraticCurveTo":d=w[0],p=w[1],l=w[2],c=w[3],w[0]=o*d+s*p+r,w[1]=i*d+n*p+a,w[2]=o*l+s*c+r,w[3]=i*l+n*c+a;break;case"arcToSvg":l=w[5],c=w[6],m=w[0],g=w[1],w[0]=o*m+s*g,w[1]=i*m+n*g,w[5]=o*l+s*c+r,w[6]=i*l+n*c+a;break;case"circle":w[4]=wo(w[3],t);break;case"rect":w[4]=wo(w[4],t);break;case"ellipse":w[8]=wo(w[8],t);break;case"roundRect":w[5]=wo(w[5],t);break;case"addPath":w[0].transform(t);break;case"poly":w[2]=wo(w[2],t);break;default:ut("unknown transform action",k.action);break}}return this._dirty=!0,this}get bounds(){return this.shapePath.bounds}getLastPoint(t){let o=this.instructions.length-1,i=this.instructions[o];if(!i)return t.x=0,t.y=0,t;for(;i.action==="closePath";){if(o--,o<0)return t.x=0,t.y=0,t;i=this.instructions[o]}switch(i.action){case"moveTo":case"lineTo":t.x=i.data[0],t.y=i.data[1];break;case"quadraticCurveTo":t.x=i.data[2],t.y=i.data[3];break;case"bezierCurveTo":t.x=i.data[4],t.y=i.data[5];break;case"arc":case"arcToSvg":t.x=i.data[5],t.y=i.data[6];break;case"addPath":i.data[0].getLastPoint(t);break}return t}}function wo(e,t){return e?e.prepend(t):t.clone()}function Yu(e,t){if(typeof e=="string"){const i=document.createElement("div");i.innerHTML=e.trim(),e=i.querySelector("svg")}const o={context:t,path:new lo};return ud(e,o,null,null),t}function ud(e,t,o,i){const s=e.children,{fillStyle:n,strokeStyle:r}=Xu(e);n&&o?o={...o,...n}:n&&(o=n),r&&i?i={...i,...r}:r&&(i=r),t.context.fillStyle=o,t.context.strokeStyle=i;let a,l,c,d,p,h,y,m,g,f,k,w,B,P,E,R,M;switch(e.nodeName.toLowerCase()){case"path":P=e.getAttribute("d"),E=new lo(P),t.context.path(E),o&&t.context.fill(),i&&t.context.stroke();break;case"circle":y=wt(e,"cx",0),m=wt(e,"cy",0),g=wt(e,"r",0),t.context.ellipse(y,m,g,g),o&&t.context.fill(),i&&t.context.stroke();break;case"rect":a=wt(e,"x",0),l=wt(e,"y",0),R=wt(e,"width",0),M=wt(e,"height",0),f=wt(e,"rx",0),k=wt(e,"ry",0),f||k?t.context.roundRect(a,l,R,M,f||k):t.context.rect(a,l,R,M),o&&t.context.fill(),i&&t.context.stroke();break;case"ellipse":y=wt(e,"cx",0),m=wt(e,"cy",0),f=wt(e,"rx",0),k=wt(e,"ry",0),t.context.beginPath(),t.context.ellipse(y,m,f,k),o&&t.context.fill(),i&&t.context.stroke();break;case"line":c=wt(e,"x1",0),d=wt(e,"y1",0),p=wt(e,"x2",0),h=wt(e,"y2",0),t.context.beginPath(),t.context.moveTo(c,d),t.context.lineTo(p,h),i&&t.context.stroke();break;case"polygon":B=e.getAttribute("points"),w=B.match(/\d+/g).map(D=>parseInt(D,10)),t.context.poly(w,!0),o&&t.context.fill(),i&&t.context.stroke();break;case"polyline":B=e.getAttribute("points"),w=B.match(/\d+/g).map(D=>parseInt(D,10)),t.context.poly(w,!1),i&&t.context.stroke();break;case"g":case"svg":break;default:{console.info(`[SVG parser] <${e.nodeName}> elements unsupported`);break}}for(let D=0;D<s.length;D++)ud(s[D],t,o,i)}function wt(e,t,o){const i=e.getAttribute(t);return i?Number(i):o}function Xu(e){const t=e.getAttribute("style"),o={},i={};let s=!1,n=!1;if(t){const r=t.split(";");for(let a=0;a<r.length;a++){const l=r[a],[c,d]=l.split(":");switch(c){case"stroke":d!=="none"&&(o.color=vt.shared.setValue(d).toNumber(),n=!0);break;case"stroke-width":o.width=Number(d);break;case"fill":d!=="none"&&(s=!0,i.color=vt.shared.setValue(d).toNumber());break;case"fill-opacity":i.alpha=Number(d);break;case"stroke-opacity":o.alpha=Number(d);break;case"opacity":i.alpha=Number(d),o.alpha=Number(d);break}}}else{const r=e.getAttribute("stroke");r&&r!=="none"&&(n=!0,o.color=vt.shared.setValue(r).toNumber(),o.width=wt(e,"stroke-width",1));const a=e.getAttribute("fill");a&&a!=="none"&&(s=!0,i.color=vt.shared.setValue(a).toNumber())}return{strokeStyle:n?o:null,fillStyle:s?i:null}}function Ku(e){return vt.isColorLike(e)}function ga(e){return e instanceof Li}function xa(e){return e instanceof Ho}function Zu(e,t,o){const i=vt.shared.setValue(t??0);return e.color=i.toNumber(),e.alpha=i.alpha===1?o.alpha:i.alpha,e.texture=tt.WHITE,{...o,...e}}function ba(e,t,o){return e.fill=t,e.color=16777215,e.texture=t.texture,e.matrix=t.transform,{...o,...e}}function wa(e,t,o){return t.buildLinearGradient(),e.fill=t,e.color=16777215,e.texture=t.texture,e.matrix=t.transform,{...o,...e}}function Qu(e,t){const o={...t,...e};if(o.texture){if(o.texture!==tt.WHITE){const n=o.matrix?.clone().invert()||new it;n.translate(o.texture.frame.x,o.texture.frame.y),n.scale(1/o.texture.source.width,1/o.texture.source.height),o.matrix=n}const s=o.texture.source.style;s.addressMode==="clamp-to-edge"&&(s.addressMode="repeat",s.update())}const i=vt.shared.setValue(o.color);return o.alpha*=i.alpha,o.color=i.toNumber(),o.matrix=o.matrix?o.matrix.clone():null,o}function Le(e,t){if(e==null)return null;const o={},i=e;return Ku(e)?Zu(o,e,t):ga(e)?ba(o,e,t):xa(e)?wa(o,e,t):i.fill&&ga(i.fill)?ba(i,i.fill,t):i.fill&&xa(i.fill)?wa(i,i.fill,t):Qu(i,t)}function Ei(e,t){const{width:o,alignment:i,miterLimit:s,cap:n,join:r,pixelLine:a,...l}=t,c=Le(e,l);return c?{width:o,alignment:i,miterLimit:s,cap:n,join:r,pixelLine:a,...c}:null}const Ju=new At,ka=new it,Kn=class ae extends ye{constructor(){super(...arguments),this.uid=gt("graphicsContext"),this.dirty=!0,this.batchMode="auto",this.instructions=[],this._activePath=new lo,this._transform=new it,this._fillStyle={...ae.defaultFillStyle},this._strokeStyle={...ae.defaultStrokeStyle},this._stateStack=[],this._tick=0,this._bounds=new de,this._boundsDirty=!0}clone(){const t=new ae;return t.batchMode=this.batchMode,t.instructions=this.instructions.slice(),t._activePath=this._activePath.clone(),t._transform=this._transform.clone(),t._fillStyle={...this._fillStyle},t._strokeStyle={...this._strokeStyle},t._stateStack=this._stateStack.slice(),t._bounds=this._bounds.clone(),t._boundsDirty=!0,t}get fillStyle(){return this._fillStyle}set fillStyle(t){this._fillStyle=Le(t,ae.defaultFillStyle)}get strokeStyle(){return this._strokeStyle}set strokeStyle(t){this._strokeStyle=Ei(t,ae.defaultStrokeStyle)}setFillStyle(t){return this._fillStyle=Le(t,ae.defaultFillStyle),this}setStrokeStyle(t){return this._strokeStyle=Le(t,ae.defaultStrokeStyle),this}texture(t,o,i,s,n,r){return this.instructions.push({action:"texture",data:{image:t,dx:i||0,dy:s||0,dw:n||t.frame.width,dh:r||t.frame.height,transform:this._transform.clone(),alpha:this._fillStyle.alpha,style:o?vt.shared.setValue(o).toNumber():16777215}}),this.onUpdate(),this}beginPath(){return this._activePath=new lo,this}fill(t,o){let i;const s=this.instructions[this.instructions.length-1];return this._tick===0&&s&&s.action==="stroke"?i=s.data.path:i=this._activePath.clone(),i?(t!=null&&(o!==void 0&&typeof t=="number"&&(ft(St,"GraphicsContext.fill(color, alpha) is deprecated, use GraphicsContext.fill({ color, alpha }) instead"),t={color:t,alpha:o}),this._fillStyle=Le(t,ae.defaultFillStyle)),this.instructions.push({action:"fill",data:{style:this.fillStyle,path:i}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}_initNextPathLocation(){const{x:t,y:o}=this._activePath.getLastPoint(At.shared);this._activePath.clear(),this._activePath.moveTo(t,o)}stroke(t){let o;const i=this.instructions[this.instructions.length-1];return this._tick===0&&i&&i.action==="fill"?o=i.data.path:o=this._activePath.clone(),o?(t!=null&&(this._strokeStyle=Ei(t,ae.defaultStrokeStyle)),this.instructions.push({action:"stroke",data:{style:this.strokeStyle,path:o}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}cut(){for(let t=0;t<2;t++){const o=this.instructions[this.instructions.length-1-t],i=this._activePath.clone();if(o&&(o.action==="stroke"||o.action==="fill"))if(o.data.hole)o.data.hole.addPath(i);else{o.data.hole=i;break}}return this._initNextPathLocation(),this}arc(t,o,i,s,n,r){this._tick++;const a=this._transform;return this._activePath.arc(a.a*t+a.c*o+a.tx,a.b*t+a.d*o+a.ty,i,s,n,r),this}arcTo(t,o,i,s,n){this._tick++;const r=this._transform;return this._activePath.arcTo(r.a*t+r.c*o+r.tx,r.b*t+r.d*o+r.ty,r.a*i+r.c*s+r.tx,r.b*i+r.d*s+r.ty,n),this}arcToSvg(t,o,i,s,n,r,a){this._tick++;const l=this._transform;return this._activePath.arcToSvg(t,o,i,s,n,l.a*r+l.c*a+l.tx,l.b*r+l.d*a+l.ty),this}bezierCurveTo(t,o,i,s,n,r,a){this._tick++;const l=this._transform;return this._activePath.bezierCurveTo(l.a*t+l.c*o+l.tx,l.b*t+l.d*o+l.ty,l.a*i+l.c*s+l.tx,l.b*i+l.d*s+l.ty,l.a*n+l.c*r+l.tx,l.b*n+l.d*r+l.ty,a),this}closePath(){return this._tick++,this._activePath?.closePath(),this}ellipse(t,o,i,s){return this._tick++,this._activePath.ellipse(t,o,i,s,this._transform.clone()),this}circle(t,o,i){return this._tick++,this._activePath.circle(t,o,i,this._transform.clone()),this}path(t){return this._tick++,this._activePath.addPath(t,this._transform.clone()),this}lineTo(t,o){this._tick++;const i=this._transform;return this._activePath.lineTo(i.a*t+i.c*o+i.tx,i.b*t+i.d*o+i.ty),this}moveTo(t,o){this._tick++;const i=this._transform,s=this._activePath.instructions,n=i.a*t+i.c*o+i.tx,r=i.b*t+i.d*o+i.ty;return s.length===1&&s[0].action==="moveTo"?(s[0].data[0]=n,s[0].data[1]=r,this):(this._activePath.moveTo(n,r),this)}quadraticCurveTo(t,o,i,s,n){this._tick++;const r=this._transform;return this._activePath.quadraticCurveTo(r.a*t+r.c*o+r.tx,r.b*t+r.d*o+r.ty,r.a*i+r.c*s+r.tx,r.b*i+r.d*s+r.ty,n),this}rect(t,o,i,s){return this._tick++,this._activePath.rect(t,o,i,s,this._transform.clone()),this}roundRect(t,o,i,s,n){return this._tick++,this._activePath.roundRect(t,o,i,s,n,this._transform.clone()),this}poly(t,o){return this._tick++,this._activePath.poly(t,o,this._transform.clone()),this}regularPoly(t,o,i,s,n=0,r){return this._tick++,this._activePath.regularPoly(t,o,i,s,n,r),this}roundPoly(t,o,i,s,n,r){return this._tick++,this._activePath.roundPoly(t,o,i,s,n,r),this}roundShape(t,o,i,s){return this._tick++,this._activePath.roundShape(t,o,i,s),this}filletRect(t,o,i,s,n){return this._tick++,this._activePath.filletRect(t,o,i,s,n),this}chamferRect(t,o,i,s,n,r){return this._tick++,this._activePath.chamferRect(t,o,i,s,n,r),this}star(t,o,i,s,n=0,r=0){return this._tick++,this._activePath.star(t,o,i,s,n,r,this._transform.clone()),this}svg(t){return this._tick++,Yu(t,this),this}restore(){const t=this._stateStack.pop();return t&&(this._transform=t.transform,this._fillStyle=t.fillStyle,this._strokeStyle=t.strokeStyle),this}save(){return this._stateStack.push({transform:this._transform.clone(),fillStyle:{...this._fillStyle},strokeStyle:{...this._strokeStyle}}),this}getTransform(){return this._transform}resetTransform(){return this._transform.identity(),this}rotate(t){return this._transform.rotate(t),this}scale(t,o=t){return this._transform.scale(t,o),this}setTransform(t,o,i,s,n,r){return t instanceof it?(this._transform.set(t.a,t.b,t.c,t.d,t.tx,t.ty),this):(this._transform.set(t,o,i,s,n,r),this)}transform(t,o,i,s,n,r){return t instanceof it?(this._transform.append(t),this):(ka.set(t,o,i,s,n,r),this._transform.append(ka),this)}translate(t,o=t){return this._transform.translate(t,o),this}clear(){return this._activePath.clear(),this.instructions.length=0,this.resetTransform(),this.onUpdate(),this}onUpdate(){this.dirty||(this.emit("update",this,16),this.dirty=!0,this._boundsDirty=!0)}get bounds(){if(!this._boundsDirty)return this._bounds;const t=this._bounds;t.clear();for(let o=0;o<this.instructions.length;o++){const i=this.instructions[o],s=i.action;if(s==="fill"){const n=i.data;t.addBounds(n.path.bounds)}else if(s==="texture"){const n=i.data;t.addFrame(n.dx,n.dy,n.dx+n.dw,n.dy+n.dh,n.transform)}if(s==="stroke"){const n=i.data,r=n.style.alignment,a=n.style.width*(1-r),l=n.path.bounds;t.addFrame(l.minX-a,l.minY-a,l.maxX+a,l.maxY+a)}}return t}containsPoint(t){if(!this.bounds.containsPoint(t.x,t.y))return!1;const o=this.instructions;let i=!1;for(let s=0;s<o.length;s++){const n=o[s],r=n.data,a=r.path;if(!n.action||!a)continue;const l=r.style,c=a.shapePath.shapePrimitives;for(let d=0;d<c.length;d++){const p=c[d].shape;if(!l||!p)continue;const h=c[d].transform,y=h?h.applyInverse(t,Ju):t;if(n.action==="fill")i=p.contains(y.x,y.y);else{const g=l;i=p.strokeContains(y.x,y.y,g.width,g.alignment)}const m=r.hole;if(m){const g=m.shapePath?.shapePrimitives;if(g)for(let f=0;f<g.length;f++)g[f].shape.contains(y.x,y.y)&&(i=!1)}if(i)return!0}}return i}destroy(t=!1){if(this._stateStack.length=0,this._transform=null,this.emit("destroy",this),this.removeAllListeners(),typeof t=="boolean"?t:t?.texture){const i=typeof t=="boolean"?t:t?.textureSource;this._fillStyle.texture&&this._fillStyle.texture.destroy(i),this._strokeStyle.texture&&this._strokeStyle.texture.destroy(i)}this._fillStyle=null,this._strokeStyle=null,this.instructions=null,this._activePath=null,this._bounds=null,this._stateStack=null,this.customShader=null,this._transform=null}};Kn.defaultFillStyle={color:16777215,alpha:1,texture:tt.WHITE,matrix:null,fill:null};Kn.defaultStrokeStyle={width:1,color:16777215,alpha:1,alignment:.5,miterLimit:10,cap:"butt",join:"miter",texture:tt.WHITE,matrix:null,fill:null,pixelLine:!1};let Fe=Kn;const za=["align","breakWords","cssOverrides","fontVariant","fontWeight","leading","letterSpacing","lineHeight","padding","textBaseline","trim","whiteSpace","wordWrap","wordWrapWidth","fontFamily","fontStyle","fontSize"];function tf(e){const t=[];let o=0;for(let i=0;i<za.length;i++){const s=`_${za[i]}`;t[o++]=e[s]}return o=fd(e._fill,t,o),o=ef(e._stroke,t,o),o=of(e.dropShadow,t,o),t.join("-")}function fd(e,t,o){return e&&(t[o++]=e.color,t[o++]=e.alpha,t[o++]=e.fill?.styleKey),o}function ef(e,t,o){return e&&(o=fd(e,t,o),t[o++]=e.width,t[o++]=e.alignment,t[o++]=e.cap,t[o++]=e.join,t[o++]=e.miterLimit),o}function of(e,t,o){return e&&(t[o++]=e.alpha,t[o++]=e.angle,t[o++]=e.blur,t[o++]=e.distance,t[o++]=vt.shared.setValue(e.color).toNumber()),o}const Zn=class eo extends ye{constructor(t={}){super(),sf(t);const o={...eo.defaultTextStyle,...t};for(const i in o){const s=i;this[s]=o[i]}this.update()}get align(){return this._align}set align(t){this._align=t,this.update()}get breakWords(){return this._breakWords}set breakWords(t){this._breakWords=t,this.update()}get dropShadow(){return this._dropShadow}set dropShadow(t){t!==null&&typeof t=="object"?this._dropShadow=this._createProxy({...eo.defaultDropShadow,...t}):this._dropShadow=t?this._createProxy({...eo.defaultDropShadow}):null,this.update()}get fontFamily(){return this._fontFamily}set fontFamily(t){this._fontFamily=t,this.update()}get fontSize(){return this._fontSize}set fontSize(t){typeof t=="string"?this._fontSize=parseInt(t,10):this._fontSize=t,this.update()}get fontStyle(){return this._fontStyle}set fontStyle(t){this._fontStyle=t.toLowerCase(),this.update()}get fontVariant(){return this._fontVariant}set fontVariant(t){this._fontVariant=t,this.update()}get fontWeight(){return this._fontWeight}set fontWeight(t){this._fontWeight=t,this.update()}get leading(){return this._leading}set leading(t){this._leading=t,this.update()}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing=t,this.update()}get lineHeight(){return this._lineHeight}set lineHeight(t){this._lineHeight=t,this.update()}get padding(){return this._padding}set padding(t){this._padding=t,this.update()}get trim(){return this._trim}set trim(t){this._trim=t,this.update()}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline=t,this.update()}get whiteSpace(){return this._whiteSpace}set whiteSpace(t){this._whiteSpace=t,this.update()}get wordWrap(){return this._wordWrap}set wordWrap(t){this._wordWrap=t,this.update()}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(t){this._wordWrapWidth=t,this.update()}get fill(){return this._originalFill}set fill(t){t!==this._originalFill&&(this._originalFill=t,this._isFillStyle(t)&&(this._originalFill=this._createProxy({...Fe.defaultFillStyle,...t},()=>{this._fill=Le({...this._originalFill},Fe.defaultFillStyle)})),this._fill=Le(t===0?"black":t,Fe.defaultFillStyle),this.update())}get stroke(){return this._originalStroke}set stroke(t){t!==this._originalStroke&&(this._originalStroke=t,this._isFillStyle(t)&&(this._originalStroke=this._createProxy({...Fe.defaultStrokeStyle,...t},()=>{this._stroke=Ei({...this._originalStroke},Fe.defaultStrokeStyle)})),this._stroke=Ei(t,Fe.defaultStrokeStyle),this.update())}_generateKey(){return this._styleKey=tf(this),this._styleKey}update(){this._styleKey=null,this.emit("update",this)}reset(){const t=eo.defaultTextStyle;for(const o in t)this[o]=t[o]}get styleKey(){return this._styleKey||this._generateKey()}clone(){return new eo({align:this.align,breakWords:this.breakWords,dropShadow:this._dropShadow?{...this._dropShadow}:null,fill:this._fill,fontFamily:this.fontFamily,fontSize:this.fontSize,fontStyle:this.fontStyle,fontVariant:this.fontVariant,fontWeight:this.fontWeight,leading:this.leading,letterSpacing:this.letterSpacing,lineHeight:this.lineHeight,padding:this.padding,stroke:this._stroke,textBaseline:this.textBaseline,whiteSpace:this.whiteSpace,wordWrap:this.wordWrap,wordWrapWidth:this.wordWrapWidth})}destroy(t=!1){if(this.removeAllListeners(),typeof t=="boolean"?t:t?.texture){const i=typeof t=="boolean"?t:t?.textureSource;this._fill?.texture&&this._fill.texture.destroy(i),this._originalFill?.texture&&this._originalFill.texture.destroy(i),this._stroke?.texture&&this._stroke.texture.destroy(i),this._originalStroke?.texture&&this._originalStroke.texture.destroy(i)}this._fill=null,this._stroke=null,this.dropShadow=null,this._originalStroke=null,this._originalFill=null}_createProxy(t,o){return new Proxy(t,{set:(i,s,n)=>(i[s]=n,o?.(s,n),this.update(),!0)})}_isFillStyle(t){return(t??null)!==null&&!(vt.isColorLike(t)||t instanceof Ho||t instanceof Li)}};Zn.defaultDropShadow={alpha:1,angle:Math.PI/6,blur:0,color:"black",distance:5};Zn.defaultTextStyle={align:"left",breakWords:!1,dropShadow:null,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,padding:0,stroke:null,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let Uo=Zn;function sf(e){const t=e;if(typeof t.dropShadow=="boolean"&&t.dropShadow){const o=Uo.defaultDropShadow;e.dropShadow={alpha:t.dropShadowAlpha??o.alpha,angle:t.dropShadowAngle??o.angle,blur:t.dropShadowBlur??o.blur,color:t.dropShadowColor??o.color,distance:t.dropShadowDistance??o.distance}}if(t.strokeThickness!==void 0){ft(St,"strokeThickness is now a part of stroke");const o=t.stroke;let i={};if(vt.isColorLike(o))i.color=o;else if(o instanceof Ho||o instanceof Li)i.fill=o;else if(Object.hasOwnProperty.call(o,"color")||Object.hasOwnProperty.call(o,"fill"))i=o;else throw new Error("Invalid stroke value.");e.stroke={...i,width:t.strokeThickness}}if(Array.isArray(t.fillGradientStops)){ft(St,"gradient fill is now a fill pattern: `new FillGradient(...)`");let o;e.fontSize==null?e.fontSize=Uo.defaultTextStyle.fontSize:typeof e.fontSize=="string"?o=parseInt(e.fontSize,10):o=e.fontSize;const i=new Ho(0,0,0,o*1.7),s=t.fillGradientStops.map(n=>vt.shared.setValue(n).toNumber());s.forEach((n,r)=>{const a=r/(s.length-1);i.addColorStop(a,n)}),e.fill={fill:i}}}class nf{constructor(t){this._canvasPool=Object.create(null),this.canvasOptions=t||{},this.enableFullScreen=!1}_createCanvasAndContext(t,o){const i=xt.get().createCanvas();i.width=t,i.height=o;const s=i.getContext("2d");return{canvas:i,context:s}}getOptimalCanvasAndContext(t,o,i=1){t=Math.ceil(t*i-1e-6),o=Math.ceil(o*i-1e-6),t=Ri(t),o=Ri(o);const s=(t<<17)+(o<<1);this._canvasPool[s]||(this._canvasPool[s]=[]);let n=this._canvasPool[s].pop();return n||(n=this._createCanvasAndContext(t,o)),n}returnCanvasAndContext(t){const o=t.canvas,{width:i,height:s}=o,n=(i<<17)+(s<<1);t.context.clearRect(0,0,i,s),this._canvasPool[n].push(t)}clear(){this._canvasPool={}}}const va=new nf,rf=["serif","sans-serif","monospace","cursive","fantasy","system-ui"];function _n(e){const t=typeof e.fontSize=="number"?`${e.fontSize}px`:e.fontSize;let o=e.fontFamily;Array.isArray(e.fontFamily)||(o=e.fontFamily.split(","));for(let i=o.length-1;i>=0;i--){let s=o[i].trim();!/([\"\'])[^\'\"]+\1/.test(s)&&!rf.includes(s)&&(s=`"${s}"`),o[i]=s}return`${e.fontStyle} ${e.fontVariant} ${e.fontWeight} ${t} ${o.join(",")}`}const vs={willReadFrequently:!0},te=class W{static get experimentalLetterSpacingSupported(){let t=W._experimentalLetterSpacingSupported;if(t!==void 0){const o=xt.get().getCanvasRenderingContext2D().prototype;t=W._experimentalLetterSpacingSupported="letterSpacing"in o||"textLetterSpacing"in o}return t}constructor(t,o,i,s,n,r,a,l,c){this.text=t,this.style=o,this.width=i,this.height=s,this.lines=n,this.lineWidths=r,this.lineHeight=a,this.maxLineWidth=l,this.fontProperties=c}static measureText(t=" ",o,i=W._canvas,s=o.wordWrap){const n=`${t}:${o.styleKey}`;if(W._measurementCache[n])return W._measurementCache[n];const r=_n(o),a=W.measureFont(r);a.fontSize===0&&(a.fontSize=o.fontSize,a.ascent=o.fontSize);const l=W.__context;l.font=r;const d=(s?W._wordWrap(t,o,i):t).split(/(?:\r\n|\r|\n)/),p=new Array(d.length);let h=0;for(let w=0;w<d.length;w++){const B=W._measureText(d[w],o.letterSpacing,l);p[w]=B,h=Math.max(h,B)}const y=o._stroke?.width||0;let m=h+y;o.dropShadow&&(m+=o.dropShadow.distance);const g=o.lineHeight||a.fontSize;let f=Math.max(g,a.fontSize+y)+(d.length-1)*(g+o.leading);return o.dropShadow&&(f+=o.dropShadow.distance),new W(t,o,m,f,d,p,g+o.leading,h,a)}static _measureText(t,o,i){let s=!1;W.experimentalLetterSpacingSupported&&(W.experimentalLetterSpacing?(i.letterSpacing=`${o}px`,i.textLetterSpacing=`${o}px`,s=!0):(i.letterSpacing="0px",i.textLetterSpacing="0px"));const n=i.measureText(t);let r=n.width;const a=-n.actualBoundingBoxLeft;let c=n.actualBoundingBoxRight-a;if(r>0)if(s)r-=o,c-=o;else{const d=(W.graphemeSegmenter(t).length-1)*o;r+=d,c+=d}return Math.max(r,c)}static _wordWrap(t,o,i=W._canvas){const s=i.getContext("2d",vs);let n=0,r="",a="";const l=Object.create(null),{letterSpacing:c,whiteSpace:d}=o,p=W._collapseSpaces(d),h=W._collapseNewlines(d);let y=!p;const m=o.wordWrapWidth+c,g=W._tokenize(t);for(let f=0;f<g.length;f++){let k=g[f];if(W._isNewline(k)){if(!h){a+=W._addLine(r),y=!p,r="",n=0;continue}k=" "}if(p){const B=W.isBreakingSpace(k),P=W.isBreakingSpace(r[r.length-1]);if(B&&P)continue}const w=W._getFromCache(k,c,l,s);if(w>m)if(r!==""&&(a+=W._addLine(r),r="",n=0),W.canBreakWords(k,o.breakWords)){const B=W.wordWrapSplit(k);for(let P=0;P<B.length;P++){let E=B[P],R=E,M=1;for(;B[P+M];){const $=B[P+M];if(!W.canBreakChars(R,$,k,P,o.breakWords))E+=$;else break;R=$,M++}P+=M-1;const D=W._getFromCache(E,c,l,s);D+n>m&&(a+=W._addLine(r),y=!1,r="",n=0),r+=E,n+=D}}else{r.length>0&&(a+=W._addLine(r),r="",n=0);const B=f===g.length-1;a+=W._addLine(k,!B),y=!1,r="",n=0}else w+n>m&&(y=!1,a+=W._addLine(r),r="",n=0),(r.length>0||!W.isBreakingSpace(k)||y)&&(r+=k,n+=w)}return a+=W._addLine(r,!1),a}static _addLine(t,o=!0){return t=W._trimRight(t),t=o?`${t}
`:t,t}static _getFromCache(t,o,i,s){let n=i[t];return typeof n!="number"&&(n=W._measureText(t,o,s)+o,i[t]=n),n}static _collapseSpaces(t){return t==="normal"||t==="pre-line"}static _collapseNewlines(t){return t==="normal"}static _trimRight(t){if(typeof t!="string")return"";for(let o=t.length-1;o>=0;o--){const i=t[o];if(!W.isBreakingSpace(i))break;t=t.slice(0,-1)}return t}static _isNewline(t){return typeof t!="string"?!1:W._newlines.includes(t.charCodeAt(0))}static isBreakingSpace(t,o){return typeof t!="string"?!1:W._breakingSpaces.includes(t.charCodeAt(0))}static _tokenize(t){const o=[];let i="";if(typeof t!="string")return o;for(let s=0;s<t.length;s++){const n=t[s],r=t[s+1];if(W.isBreakingSpace(n,r)||W._isNewline(n)){i!==""&&(o.push(i),i=""),o.push(n);continue}i+=n}return i!==""&&o.push(i),o}static canBreakWords(t,o){return o}static canBreakChars(t,o,i,s,n){return!0}static wordWrapSplit(t){return W.graphemeSegmenter(t)}static measureFont(t){if(W._fonts[t])return W._fonts[t];const o=W._context;o.font=t;const i=o.measureText(W.METRICS_STRING+W.BASELINE_SYMBOL),s={ascent:i.actualBoundingBoxAscent,descent:i.actualBoundingBoxDescent,fontSize:i.actualBoundingBoxAscent+i.actualBoundingBoxDescent};return W._fonts[t]=s,s}static clearMetrics(t=""){t?delete W._fonts[t]:W._fonts={}}static get _canvas(){if(!W.__canvas){let t;try{const o=new OffscreenCanvas(0,0);if(o.getContext("2d",vs)?.measureText)return W.__canvas=o,o;t=xt.get().createCanvas()}catch{t=xt.get().createCanvas()}t.width=t.height=10,W.__canvas=t}return W.__canvas}static get _context(){return W.__context||(W.__context=W._canvas.getContext("2d",vs)),W.__context}};te.METRICS_STRING="|ÉqÅ";te.BASELINE_SYMBOL="M";te.BASELINE_MULTIPLIER=1.4;te.HEIGHT_MULTIPLIER=2;te.graphemeSegmenter=(()=>{if(typeof Intl?.Segmenter=="function"){const e=new Intl.Segmenter;return t=>[...e.segment(t)].map(o=>o.segment)}return e=>[...e]})();te.experimentalLetterSpacing=!1;te._fonts={};te._newlines=[10,13];te._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];te._measurementCache={};let _a=te;function Ba(e,t){if(e.texture===tt.WHITE&&!e.fill)return vt.shared.setValue(e.color).setAlpha(e.alpha??1).toHexa();if(e.fill){if(e.fill instanceof Li){const o=e.fill,i=t.createPattern(o.texture.source.resource,"repeat"),s=o.transform.copyTo(it.shared);return s.scale(o.texture.frame.width,o.texture.frame.height),i.setTransform(s),i}else if(e.fill instanceof Ho){const o=e.fill;if(o.type==="linear"){const i=t.createLinearGradient(o.x0,o.y0,o.x1,o.y1);return o.gradientStops.forEach(s=>{i.addColorStop(s.offset,vt.shared.setValue(s.color).toHex())}),i}}}else{const o=t.createPattern(e.texture.source.resource,"repeat"),i=e.matrix.copyTo(it.shared);return i.scale(e.texture.frame.width,e.texture.frame.height),o.setTransform(i),o}return ut("FillStyle not recognised",e),"red"}function md(e){if(e==="")return[];typeof e=="string"&&(e=[e]);const t=[];for(let o=0,i=e.length;o<i;o++){const s=e[o];if(Array.isArray(s)){if(s.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${s.length}.`);if(s[0].length===0||s[1].length===0)throw new Error("[BitmapFont]: Invalid character delimiter.");const n=s[0].charCodeAt(0),r=s[1].charCodeAt(0);if(r<n)throw new Error("[BitmapFont]: Invalid character range.");for(let a=n,l=r;a<=l;a++)t.push(String.fromCharCode(a))}else t.push(...Array.from(s))}if(t.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return t}const gd=class xd extends Kc{constructor(t){super(),this.resolution=1,this.pages=[],this._padding=0,this._measureCache=Object.create(null),this._currentChars=[],this._currentX=0,this._currentY=0,this._currentPageIndex=-1,this._skipKerning=!1;const o={...xd.defaultOptions,...t};this._textureSize=o.textureSize,this._mipmap=o.mipmap;const i=o.style.clone();o.overrideFill&&(i._fill.color=16777215,i._fill.alpha=1,i._fill.texture=tt.WHITE,i._fill.fill=null),this.applyFillAsTint=o.overrideFill;const s=i.fontSize;i.fontSize=this.baseMeasurementFontSize;const n=_n(i);o.overrideSize?i._stroke&&(i._stroke.width*=this.baseRenderedFontSize/s):i.fontSize=this.baseRenderedFontSize=s,this._style=i,this._skipKerning=o.skipKerning??!1,this.resolution=o.resolution??1,this._padding=o.padding??4,this.fontMetrics=_a.measureFont(n),this.lineHeight=i.lineHeight||this.fontMetrics.fontSize||i.fontSize}ensureCharacters(t){const o=md(t).filter(f=>!this._currentChars.includes(f)).filter((f,k,w)=>w.indexOf(f)===k);if(!o.length)return;this._currentChars=[...this._currentChars,...o];let i;this._currentPageIndex===-1?i=this._nextPage():i=this.pages[this._currentPageIndex];let{canvas:s,context:n}=i.canvasAndContext,r=i.texture.source;const a=this._style;let l=this._currentX,c=this._currentY;const d=this.baseRenderedFontSize/this.baseMeasurementFontSize,p=this._padding*d;let h=0,y=!1;const m=s.width/this.resolution,g=s.height/this.resolution;for(let f=0;f<o.length;f++){const k=o[f],w=_a.measureText(k,a,s,!1);w.lineHeight=w.height;const B=w.width*d,P=Math.ceil((a.fontStyle==="italic"?2:1)*B),E=w.height*d,R=P+p*2,M=E+p*2;if(y=!1,k!==`
`&&k!=="\r"&&k!=="	"&&k!==" "&&(y=!0,h=Math.ceil(Math.max(M,h))),l+R>m&&(c+=h,h=M,l=0,c+h>g)){r.update();const $=this._nextPage();s=$.canvasAndContext.canvas,n=$.canvasAndContext.context,r=$.texture.source,c=0}const D=B/d-(a.dropShadow?.distance??0)-(a._stroke?.width??0);if(this.chars[k]={id:k.codePointAt(0),xOffset:-this._padding,yOffset:-this._padding,xAdvance:D,kerning:{}},y){this._drawGlyph(n,w,l+p,c+p,d,a);const $=r.width*d,T=r.height*d,H=new mt(l/$*r.width,c/T*r.height,R/$*r.width,M/T*r.height);this.chars[k].texture=new tt({source:r,frame:H}),l+=Math.ceil(R)}}r.update(),this._currentX=l,this._currentY=c,this._skipKerning&&this._applyKerning(o,n)}get pageTextures(){return ft(St,"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}_applyKerning(t,o){const i=this._measureCache;for(let s=0;s<t.length;s++){const n=t[s];for(let r=0;r<this._currentChars.length;r++){const a=this._currentChars[r];let l=i[n];l||(l=i[n]=o.measureText(n).width);let c=i[a];c||(c=i[a]=o.measureText(a).width);let d=o.measureText(n+a).width,p=d-(l+c);p&&(this.chars[n].kerning[a]=p),d=o.measureText(n+a).width,p=d-(l+c),p&&(this.chars[a].kerning[n]=p)}}}_nextPage(){this._currentPageIndex++;const t=this.resolution,o=va.getOptimalCanvasAndContext(this._textureSize,this._textureSize,t);this._setupContext(o.context,this._style,t);const i=t*(this.baseRenderedFontSize/this.baseMeasurementFontSize),s=new tt({source:new ho({resource:o.canvas,resolution:i,alphaMode:"premultiply-alpha-on-upload",autoGenerateMipmaps:this._mipmap})}),n={canvasAndContext:o,texture:s};return this.pages[this._currentPageIndex]=n,n}_setupContext(t,o,i){o.fontSize=this.baseRenderedFontSize,t.scale(i,i),t.font=_n(o),o.fontSize=this.baseMeasurementFontSize,t.textBaseline=o.textBaseline;const s=o._stroke,n=s?.width??0;if(s&&(t.lineWidth=n,t.lineJoin=s.join,t.miterLimit=s.miterLimit,t.strokeStyle=Ba(s,t)),o._fill&&(t.fillStyle=Ba(o._fill,t)),o.dropShadow){const r=o.dropShadow,a=vt.shared.setValue(r.color).toArray(),l=r.blur*i,c=r.distance*i;t.shadowColor=`rgba(${a[0]*255},${a[1]*255},${a[2]*255},${r.alpha})`,t.shadowBlur=l,t.shadowOffsetX=Math.cos(r.angle)*c,t.shadowOffsetY=Math.sin(r.angle)*c}else t.shadowColor="black",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0}_drawGlyph(t,o,i,s,n,r){const a=o.text,l=o.fontProperties,d=(r._stroke?.width??0)*n,p=i+d/2,h=s-d/2,y=l.descent*n,m=o.lineHeight*n;r.stroke&&d&&t.strokeText(a,p,h+m-y),r._fill&&t.fillText(a,p,h+m-y)}destroy(){super.destroy();for(let t=0;t<this.pages.length;t++){const{canvasAndContext:o,texture:i}=this.pages[t];va.returnCanvasAndContext(o),i.destroy(!0)}this.pages=null}};gd.defaultOptions={textureSize:512,style:new Uo,mipmap:!0};let Sa=gd;function af(e,t,o,i){const s={width:0,height:0,offsetY:0,scale:t.fontSize/o.baseMeasurementFontSize,lines:[{width:0,charPositions:[],spaceWidth:0,spacesIndex:[],chars:[]}]};s.offsetY=o.baseLineOffset;let n=s.lines[0],r=null,a=!0;const l={spaceWord:!1,width:0,start:0,index:0,positions:[],chars:[]},c=m=>{const g=n.width;for(let f=0;f<l.index;f++){const k=m.positions[f];n.chars.push(m.chars[f]),n.charPositions.push(k+g)}n.width+=m.width,a=!1,l.width=0,l.index=0,l.chars.length=0},d=()=>{let m=n.chars.length-1;if(i){let g=n.chars[m];for(;g===" ";)n.width-=o.chars[g].xAdvance,g=n.chars[--m]}s.width=Math.max(s.width,n.width),n={width:0,charPositions:[],chars:[],spaceWidth:0,spacesIndex:[]},a=!0,s.lines.push(n),s.height+=o.lineHeight},p=o.baseMeasurementFontSize/t.fontSize,h=t.letterSpacing*p,y=t.wordWrapWidth*p;for(let m=0;m<e.length+1;m++){let g;const f=m===e.length;f||(g=e[m]);const k=o.chars[g]||o.chars[" "];if(/(?:\s)/.test(g)||g==="\r"||g===`
`||f){if(!a&&t.wordWrap&&n.width+l.width-h>y?(d(),c(l),f||n.charPositions.push(0)):(l.start=n.width,c(l),f||n.charPositions.push(0)),g==="\r"||g===`
`)n.width!==0&&d();else if(!f){const E=k.xAdvance+(k.kerning[r]||0)+h;n.width+=E,n.spaceWidth=E,n.spacesIndex.push(n.charPositions.length),n.chars.push(g)}}else{const P=k.kerning[r]||0,E=k.xAdvance+P+h;l.positions[l.index++]=l.width+P,l.chars.push(g),l.width+=E}r=g}return d(),t.align==="center"?lf(s):t.align==="right"?cf(s):t.align==="justify"&&df(s),s}function lf(e){for(let t=0;t<e.lines.length;t++){const o=e.lines[t],i=e.width/2-o.width/2;for(let s=0;s<o.charPositions.length;s++)o.charPositions[s]+=i}}function cf(e){for(let t=0;t<e.lines.length;t++){const o=e.lines[t],i=e.width-o.width;for(let s=0;s<o.charPositions.length;s++)o.charPositions[s]+=i}}function df(e){const t=e.width;for(let o=0;o<e.lines.length;o++){const i=e.lines[o];let s=0,n=i.spacesIndex[s++],r=0;const a=i.spacesIndex.length,c=(t-i.width)/a;for(let d=0;d<i.charPositions.length;d++)d===n&&(n=i.spacesIndex[s++],r+=c),i.charPositions[d]+=r}}let di=0;class pf{constructor(){this.ALPHA=[["a","z"],["A","Z"]," "],this.NUMERIC=[["0","9"]],this.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],this.ASCII=[[" ","~"]],this.defaultOptions={chars:this.ALPHANUMERIC,resolution:1,padding:4,skipKerning:!1}}getFont(t,o){let i=`${o.fontFamily}-bitmap`,s=!0;if(o._fill.fill&&!o._stroke)i+=o._fill.fill.styleKey,s=!1;else if(o._stroke||o.dropShadow){let r=o.styleKey;r=r.substring(0,r.lastIndexOf("-")),i=`${r}-bitmap`,s=!1}if(!yt.has(i)){const r=new Sa({style:o,overrideFill:s,overrideSize:!0,...this.defaultOptions});di++,di>50&&ut("BitmapText",`You have dynamically created ${di} bitmap fonts, this can be inefficient. Try pre installing your font styles using \`BitmapFont.install({name:"style1", style})\``),r.once("destroy",()=>{di--,yt.remove(i)}),yt.set(i,r)}const n=yt.get(i);return n.ensureCharacters?.(t),n}getLayout(t,o,i=!0){const s=this.getFont(t,o);return af([...t],o,s,i)}measureText(t,o,i=!0){return this.getLayout(t,o,i)}install(...t){let o=t[0];typeof o=="string"&&(o={name:o,style:t[1],chars:t[2]?.chars,resolution:t[2]?.resolution,padding:t[2]?.padding,skipKerning:t[2]?.skipKerning},ft(St,"BitmapFontManager.install(name, style, options) is deprecated, use BitmapFontManager.install({name, style, ...options})"));const i=o?.name;if(!i)throw new Error("[BitmapFontManager] Property `name` is required.");o={...this.defaultOptions,...o};const s=o.style,n=s instanceof Uo?s:new Uo(s),r=n._fill.fill!==null&&n._fill.fill!==void 0,a=new Sa({style:n,overrideFill:r,skipKerning:o.skipKerning,padding:o.padding,resolution:o.resolution,overrideSize:!1}),l=md(o.chars);return a.ensureCharacters(l.join("")),yt.set(`${i}-bitmap`,a),a.once("destroy",()=>yt.remove(`${i}-bitmap`)),a}uninstall(t){const o=`${t}-bitmap`,i=yt.get(o);i&&i.destroy()}}const Aa=new pf;class bd extends Kc{constructor(t,o){super();const{textures:i,data:s}=t;Object.keys(s.pages).forEach(n=>{const r=s.pages[parseInt(n,10)],a=i[r.id];this.pages.push({texture:a})}),Object.keys(s.chars).forEach(n=>{const r=s.chars[n],{frame:a,source:l}=i[r.page],c=new mt(r.x+a.x,r.y+a.y,r.width,r.height),d=new tt({source:l,frame:c});this.chars[n]={id:n.codePointAt(0),xOffset:r.xOffset,yOffset:r.yOffset,xAdvance:r.xAdvance,kerning:r.kerning??{},texture:d}}),this.baseRenderedFontSize=s.fontSize,this.baseMeasurementFontSize=s.fontSize,this.fontMetrics={ascent:0,descent:0,fontSize:s.fontSize},this.baseLineOffset=s.baseLineOffset,this.lineHeight=s.lineHeight,this.fontFamily=s.fontFamily,this.distanceField=s.distanceField??{type:"none",range:0},this.url=o}destroy(){super.destroy();for(let t=0;t<this.pages.length;t++){const{texture:o}=this.pages[t];o.destroy(!0)}this.pages=null}static install(t){Aa.install(t)}static uninstall(t){Aa.uninstall(t)}}const _s={test(e){return typeof e=="string"&&e.startsWith("info face=")},parse(e){const t=e.match(/^[a-z]+\s+.+$/gm),o={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const p in t){const h=t[p].match(/^[a-z]+/gm)[0],y=t[p].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),m={};for(const g in y){const f=y[g].split("="),k=f[0],w=f[1].replace(/"/gm,""),B=parseFloat(w),P=isNaN(B)?w:B;m[k]=P}o[h].push(m)}const i={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},[s]=o.info,[n]=o.common,[r]=o.distanceField;r&&(i.distanceField={range:parseInt(r.distanceRange,10),type:r.fieldType}),i.fontSize=parseInt(s.size,10),i.fontFamily=s.face,i.lineHeight=parseInt(n.lineHeight,10);const a=o.page;for(let p=0;p<a.length;p++)i.pages.push({id:parseInt(a[p].id,10)||0,file:a[p].file});const l={};i.baseLineOffset=i.lineHeight-parseInt(n.base,10);const c=o.char;for(let p=0;p<c.length;p++){const h=c[p],y=parseInt(h.id,10);let m=h.letter??h.char??String.fromCharCode(y);m==="space"&&(m=" "),l[y]=m,i.chars[m]={id:y,page:parseInt(h.page,10)||0,x:parseInt(h.x,10),y:parseInt(h.y,10),width:parseInt(h.width,10),height:parseInt(h.height,10),xOffset:parseInt(h.xoffset,10),yOffset:parseInt(h.yoffset,10),xAdvance:parseInt(h.xadvance,10),kerning:{}}}const d=o.kerning;for(let p=0;p<d.length;p++){const h=parseInt(d[p].first,10),y=parseInt(d[p].second,10),m=parseInt(d[p].amount,10);i.chars[l[y]].kerning[l[h]]=m}return i}},Pa={test(e){const t=e;return typeof t!="string"&&"getElementsByTagName"in t&&t.getElementsByTagName("page").length&&t.getElementsByTagName("info")[0].getAttribute("face")!==null},parse(e){const t={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},o=e.getElementsByTagName("info")[0],i=e.getElementsByTagName("common")[0],s=e.getElementsByTagName("distanceField")[0];s&&(t.distanceField={type:s.getAttribute("fieldType"),range:parseInt(s.getAttribute("distanceRange"),10)});const n=e.getElementsByTagName("page"),r=e.getElementsByTagName("char"),a=e.getElementsByTagName("kerning");t.fontSize=parseInt(o.getAttribute("size"),10),t.fontFamily=o.getAttribute("face"),t.lineHeight=parseInt(i.getAttribute("lineHeight"),10);for(let c=0;c<n.length;c++)t.pages.push({id:parseInt(n[c].getAttribute("id"),10)||0,file:n[c].getAttribute("file")});const l={};t.baseLineOffset=t.lineHeight-parseInt(i.getAttribute("base"),10);for(let c=0;c<r.length;c++){const d=r[c],p=parseInt(d.getAttribute("id"),10);let h=d.getAttribute("letter")??d.getAttribute("char")??String.fromCharCode(p);h==="space"&&(h=" "),l[p]=h,t.chars[h]={id:p,page:parseInt(d.getAttribute("page"),10)||0,x:parseInt(d.getAttribute("x"),10),y:parseInt(d.getAttribute("y"),10),width:parseInt(d.getAttribute("width"),10),height:parseInt(d.getAttribute("height"),10),xOffset:parseInt(d.getAttribute("xoffset"),10),yOffset:parseInt(d.getAttribute("yoffset"),10),xAdvance:parseInt(d.getAttribute("xadvance"),10),kerning:{}}}for(let c=0;c<a.length;c++){const d=parseInt(a[c].getAttribute("first"),10),p=parseInt(a[c].getAttribute("second"),10),h=parseInt(a[c].getAttribute("amount"),10);t.chars[l[p]].kerning[l[d]]=h}return t}},Ra={test(e){return typeof e=="string"&&e.includes("<font>")?Pa.test(xt.get().parseXML(e)):!1},parse(e){return Pa.parse(xt.get().parseXML(e))}},yf=[".xml",".fnt"],hf={extension:{type:U.CacheParser,name:"cacheBitmapFont"},test:e=>e instanceof bd,getCacheableAssets(e,t){const o={};return e.forEach(i=>{o[i]=t,o[`${i}-bitmap`]=t}),o[`${t.fontFamily}-bitmap`]=t,o}},uf={extension:{type:U.LoadParser,priority:Re.Normal},name:"loadBitmapFont",test(e){return yf.includes(Ft.extname(e).toLowerCase())},async testParse(e){return _s.test(e)||Ra.test(e)},async parse(e,t,o){const i=_s.test(e)?_s.parse(e):Ra.parse(e),{src:s}=t,{pages:n}=i,r=[],a=i.distanceField?{scaleMode:"linear",alphaMode:"premultiply-alpha-on-upload",autoGenerateMipmaps:!1,resolution:1}:{};for(let p=0;p<n.length;++p){const h=n[p].file;let y=Ft.join(Ft.dirname(s),h);y=fn(y,s),r.push({src:y,data:a})}const l=await o.load(r),c=r.map(p=>l[p.src]);return new bd({data:i,textures:c},s)},async load(e,t){return await(await xt.get().fetch(e)).text()},async unload(e,t,o){await Promise.all(e.pages.map(i=>o.unload(i.texture.source._sourceOrigin))),e.destroy()}};class ff{constructor(t,o=!1){this._loader=t,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=o}add(t){t.forEach(o=>{this._assetList.push(o)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const t=[],o=Math.min(this._assetList.length,this._maxConcurrent);for(let i=0;i<o;i++)t.push(this._assetList.pop());await this._loader.load(t),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(t){this._isActive!==t&&(this._isActive=t,t&&!this._isLoading&&this._next())}}const mf={extension:{type:U.CacheParser,name:"cacheTextureArray"},test:e=>Array.isArray(e)&&e.every(t=>t instanceof tt),getCacheableAssets:(e,t)=>{const o={};return e.forEach(i=>{t.forEach((s,n)=>{o[i+(n===0?"":n+1)]=s})}),o}};async function wd(e){if("Image"in globalThis)return new Promise(t=>{const o=new Image;o.onload=()=>{t(!0)},o.onerror=()=>{t(!1)},o.src=e});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const t=await(await fetch(e)).blob();await createImageBitmap(t)}catch{return!1}return!0}return!1}const gf={extension:{type:U.DetectionParser,priority:1},test:async()=>wd("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async e=>[...e,"avif"],remove:async e=>e.filter(t=>t!=="avif")},Ca=["png","jpg","jpeg"],xf={extension:{type:U.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async e=>[...e,...Ca],remove:async e=>e.filter(t=>!Ca.includes(t))},bf="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function Qn(e){return bf?!1:document.createElement("video").canPlayType(e)!==""}const wf={extension:{type:U.DetectionParser,priority:0},test:async()=>Qn("video/mp4"),add:async e=>[...e,"mp4","m4v"],remove:async e=>e.filter(t=>t!=="mp4"&&t!=="m4v")},kf={extension:{type:U.DetectionParser,priority:0},test:async()=>Qn("video/ogg"),add:async e=>[...e,"ogv"],remove:async e=>e.filter(t=>t!=="ogv")},zf={extension:{type:U.DetectionParser,priority:0},test:async()=>Qn("video/webm"),add:async e=>[...e,"webm"],remove:async e=>e.filter(t=>t!=="webm")},vf={extension:{type:U.DetectionParser,priority:0},test:async()=>wd("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async e=>[...e,"webp"],remove:async e=>e.filter(t=>t!=="webp")};class _f{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(t,o,i)=>(this._parsersValidated=!1,t[o]=i,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(t,o){const i={promise:null,parser:null};return i.promise=(async()=>{let s=null,n=null;if(o.loadParser&&(n=this._parserHash[o.loadParser],n||ut(`[Assets] specified load parser "${o.loadParser}" not found while loading ${t}`)),!n){for(let r=0;r<this.parsers.length;r++){const a=this.parsers[r];if(a.load&&a.test?.(t,o,this)){n=a;break}}if(!n)return ut(`[Assets] ${t} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}s=await n.load(t,o,this),i.parser=n;for(let r=0;r<this.parsers.length;r++){const a=this.parsers[r];a.parse&&a.parse&&await a.testParse?.(s,o,this)&&(s=await a.parse(s,o,this)||s,i.parser=a)}return s})(),i}async load(t,o){this._parsersValidated||this._validateParsers();let i=0;const s={},n=Mi(t),r=Zt(t,c=>({alias:[c],src:c,data:{}})),a=r.length,l=r.map(async c=>{const d=Ft.toAbsolute(c.src);if(!s[c.src])try{this.promiseCache[d]||(this.promiseCache[d]=this._getLoadPromiseAndParser(d,c)),s[c.src]=await this.promiseCache[d].promise,o&&o(++i/a)}catch(p){throw delete this.promiseCache[d],delete s[c.src],new Error(`[Loader.load] Failed to load ${d}.
${p}`)}});return await Promise.all(l),n?s[r[0].src]:s}async unload(t){const i=Zt(t,s=>({alias:[s],src:s})).map(async s=>{const n=Ft.toAbsolute(s.src),r=this.promiseCache[n];if(r){const a=await r.promise;delete this.promiseCache[n],await r.parser?.unload?.(a,s,this)}});await Promise.all(i)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(t=>t.name).reduce((t,o)=>(o.name?t[o.name]&&ut(`[Assets] loadParser name conflict "${o.name}"`):ut("[Assets] loadParser should have a name"),{...t,[o.name]:o}),{})}}function fo(e,t){if(Array.isArray(t)){for(const o of t)if(e.startsWith(`data:${o}`))return!0;return!1}return e.startsWith(`data:${t}`)}function mo(e,t){const o=e.split("?")[0],i=Ft.extname(o).toLowerCase();return Array.isArray(t)?t.includes(i):i===t}const Bf=".json",Sf="application/json",Af={extension:{type:U.LoadParser,priority:Re.Low},name:"loadJson",test(e){return fo(e,Sf)||mo(e,Bf)},async load(e){return await(await xt.get().fetch(e)).json()}},Pf=".txt",Rf="text/plain",Cf={name:"loadTxt",extension:{type:U.LoadParser,priority:Re.Low,name:"loadTxt"},test(e){return fo(e,Rf)||mo(e,Pf)},async load(e){return await(await xt.get().fetch(e)).text()}},Mf=["normal","bold","100","200","300","400","500","600","700","800","900"],Ef=[".ttf",".otf",".woff",".woff2"],If=["font/ttf","font/otf","font/woff","font/woff2"],Tf=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function jf(e){const t=Ft.extname(e),s=Ft.basename(e,t).replace(/(-|_)/g," ").toLowerCase().split(" ").map(a=>a.charAt(0).toUpperCase()+a.slice(1));let n=s.length>0;for(const a of s)if(!a.match(Tf)){n=!1;break}let r=s.join(" ");return n||(r=`"${r.replace(/[\\"]/g,"\\$&")}"`),r}const Df=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function $f(e){return Df.test(e)?e:encodeURI(e)}const Ff={extension:{type:U.LoadParser,priority:Re.Low},name:"loadWebFont",test(e){return fo(e,If)||mo(e,Ef)},async load(e,t){const o=xt.get().getFontFaceSet();if(o){const i=[],s=t.data?.family??jf(e),n=t.data?.weights?.filter(a=>Mf.includes(a))??["normal"],r=t.data??{};for(let a=0;a<n.length;a++){const l=n[a],c=new FontFace(s,`url(${$f(e)})`,{...r,weight:l});await c.load(),o.add(c),i.push(c)}return yt.set(`${s}-and-url`,{url:e,fontFaces:i}),i.length===1?i[0]:i}return ut("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(e){(Array.isArray(e)?e:[e]).forEach(t=>{yt.remove(`${t.family}-and-url`),xt.get().getFontFaceSet().delete(t)})}};function Jn(e,t=1){const o=uo.RETINA_PREFIX?.exec(e);return o?parseFloat(o[1]):t}function tr(e,t,o){e.label=o,e._sourceOrigin=o;const i=new tt({source:e,label:o}),s=()=>{delete t.promiseCache[o],yt.has(o)&&yt.remove(o)};return i.source.once("destroy",()=>{t.promiseCache[o]&&(ut("[Assets] A TextureSource managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the TextureSource."),s())}),i.once("destroy",()=>{e.destroyed||(ut("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),s())}),i}const Of=".svg",Nf="image/svg+xml",Lf={extension:{type:U.LoadParser,priority:Re.Low,name:"loadSVG"},name:"loadSVG",config:{crossOrigin:"anonymous",parseAsGraphicsContext:!1},test(e){return fo(e,Nf)||mo(e,Of)},async load(e,t,o){return t.data.parseAsGraphicsContext??this.config.parseAsGraphicsContext?Gf(e):Hf(e,t,o,this.config.crossOrigin)},unload(e){e.destroy(!0)}};async function Hf(e,t,o,i){const n=await(await xt.get().fetch(e)).blob(),r=URL.createObjectURL(n),a=new Image;a.src=r,a.crossOrigin=i,await a.decode(),URL.revokeObjectURL(r);const l=document.createElement("canvas"),c=l.getContext("2d"),d=t.data?.resolution||Jn(e),p=t.data?.width??a.width,h=t.data?.height??a.height;l.width=p*d,l.height=h*d,c.drawImage(a,0,0,p*d,h*d);const{parseAsGraphicsContext:y,...m}=t.data,g=new ho({resource:l,alphaMode:"premultiply-alpha-on-upload",resolution:d,...m});return tr(g,o,e)}async function Gf(e){const o=await(await xt.get().fetch(e)).text(),i=new Fe;return i.svg(o),i}const Wf=`(function () {
    'use strict';

    const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
    async function checkImageBitmap() {
      try {
        if (typeof createImageBitmap !== "function")
          return false;
        const response = await fetch(WHITE_PNG);
        const imageBlob = await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);
        return imageBitmap.width === 1 && imageBitmap.height === 1;
      } catch (_e) {
        return false;
      }
    }
    void checkImageBitmap().then((result) => {
      self.postMessage(result);
    });

})();
`;let so=null,Bn=class{constructor(){so||(so=URL.createObjectURL(new Blob([Wf],{type:"application/javascript"}))),this.worker=new Worker(so)}};Bn.revokeObjectURL=function(){so&&(URL.revokeObjectURL(so),so=null)};const Uf=`(function () {
    'use strict';

    async function loadImageBitmap(url, alphaMode) {
      const response = await fetch(url);
      if (!response.ok) {
        throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
      }
      const imageBlob = await response.blob();
      return alphaMode === "premultiplied-alpha" ? createImageBitmap(imageBlob, { premultiplyAlpha: "none" }) : createImageBitmap(imageBlob);
    }
    self.onmessage = async (event) => {
      try {
        const imageBitmap = await loadImageBitmap(event.data.data[0], event.data.data[1]);
        self.postMessage({
          data: imageBitmap,
          uuid: event.data.uuid,
          id: event.data.id
        }, [imageBitmap]);
      } catch (e) {
        self.postMessage({
          error: e,
          uuid: event.data.uuid,
          id: event.data.id
        });
      }
    };

})();
`;let no=null;class kd{constructor(){no||(no=URL.createObjectURL(new Blob([Uf],{type:"application/javascript"}))),this.worker=new Worker(no)}}kd.revokeObjectURL=function(){no&&(URL.revokeObjectURL(no),no=null)};let Ma=0,Bs;class Vf{constructor(){this._initialized=!1,this._createdWorkers=0,this._workerPool=[],this._queue=[],this._resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(t=>{const{worker:o}=new Bn;o.addEventListener("message",i=>{o.terminate(),Bn.revokeObjectURL(),t(i.data)})}),this._isImageBitmapSupported)}loadImageBitmap(t,o){return this._run("loadImageBitmap",[t,o?.data?.alphaMode])}async _initWorkers(){this._initialized||(this._initialized=!0)}_getWorker(){Bs===void 0&&(Bs=navigator.hardwareConcurrency||4);let t=this._workerPool.pop();return!t&&this._createdWorkers<Bs&&(this._createdWorkers++,t=new kd().worker,t.addEventListener("message",o=>{this._complete(o.data),this._returnWorker(o.target),this._next()})),t}_returnWorker(t){this._workerPool.push(t)}_complete(t){t.error!==void 0?this._resolveHash[t.uuid].reject(t.error):this._resolveHash[t.uuid].resolve(t.data),this._resolveHash[t.uuid]=null}async _run(t,o){await this._initWorkers();const i=new Promise((s,n)=>{this._queue.push({id:t,arguments:o,resolve:s,reject:n})});return this._next(),i}_next(){if(!this._queue.length)return;const t=this._getWorker();if(!t)return;const o=this._queue.pop(),i=o.id;this._resolveHash[Ma]={resolve:o.resolve,reject:o.reject},t.postMessage({data:o.arguments,uuid:Ma++,id:i})}}const Ea=new Vf,qf=[".jpeg",".jpg",".png",".webp",".avif"],Yf=["image/jpeg","image/png","image/webp","image/avif"];async function Xf(e,t){const o=await xt.get().fetch(e);if(!o.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${e}: ${o.status} ${o.statusText}`);const i=await o.blob();return t?.data?.alphaMode==="premultiplied-alpha"?createImageBitmap(i,{premultiplyAlpha:"none"}):createImageBitmap(i)}const zd={name:"loadTextures",extension:{type:U.LoadParser,priority:Re.High,name:"loadTextures"},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(e){return fo(e,Yf)||mo(e,qf)},async load(e,t,o){let i=null;globalThis.createImageBitmap&&this.config.preferCreateImageBitmap?this.config.preferWorkers&&await Ea.isImageBitmapSupported()?i=await Ea.loadImageBitmap(e,t):i=await Xf(e,t):i=await new Promise(n=>{i=new Image,i.crossOrigin=this.config.crossOrigin,i.src=e,i.complete?n(i):i.onload=()=>{n(i)}});const s=new ho({resource:i,alphaMode:"premultiply-alpha-on-upload",resolution:t.data?.resolution||Jn(e),...t.data});return tr(s,o,e)},unload(e){e.destroy(!0)}},vd=[".mp4",".m4v",".webm",".ogg",".ogv",".h264",".avi",".mov"],Kf=vd.map(e=>`video/${e.substring(1)}`);function Zf(e,t,o){o===void 0&&!t.startsWith("data:")?e.crossOrigin=Jf(t):o!==!1&&(e.crossOrigin=typeof o=="string"?o:"anonymous")}function Qf(e){return new Promise((t,o)=>{e.addEventListener("canplaythrough",i),e.addEventListener("error",s),e.load();function i(){n(),t()}function s(r){n(),o(r)}function n(){e.removeEventListener("canplaythrough",i),e.removeEventListener("error",s)}})}function Jf(e,t=globalThis.location){if(e.startsWith("data:"))return"";t||(t=globalThis.location);const o=new URL(e,document.baseURI);return o.hostname!==t.hostname||o.port!==t.port||o.protocol!==t.protocol?"anonymous":""}const tm={name:"loadVideo",extension:{type:U.LoadParser,name:"loadVideo"},test(e){const t=fo(e,Kf),o=mo(e,vd);return t||o},async load(e,t,o){const i={..._i.defaultOptions,resolution:t.data?.resolution||Jn(e),alphaMode:t.data?.alphaMode||await $c(),...t.data},s=document.createElement("video"),n={preload:i.autoLoad!==!1?"auto":void 0,"webkit-playsinline":i.playsinline!==!1?"":void 0,playsinline:i.playsinline!==!1?"":void 0,muted:i.muted===!0?"":void 0,loop:i.loop===!0?"":void 0,autoplay:i.autoPlay!==!1?"":void 0};Object.keys(n).forEach(l=>{const c=n[l];c!==void 0&&s.setAttribute(l,c)}),i.muted===!0&&(s.muted=!0),Zf(s,e,i.crossorigin);const r=document.createElement("source");let a;if(e.startsWith("data:"))a=e.slice(5,e.indexOf(";"));else if(!e.startsWith("blob:")){const l=e.split("?")[0].slice(e.lastIndexOf(".")+1).toLowerCase();a=_i.MIME_TYPES[l]||`video/${l}`}return r.src=e,a&&(r.type=a),new Promise(l=>{const c=async()=>{const d=new _i({...i,resource:s});s.removeEventListener("canplay",c),t.data.preload&&await Qf(s),l(tr(d,o,e))};s.addEventListener("canplay",c),s.appendChild(r)})},unload(e){e.destroy(!0)}},_d={extension:{type:U.ResolveParser,name:"resolveTexture"},test:zd.test,parse:e=>({resolution:parseFloat(uo.RETINA_PREFIX.exec(e)?.[1]??"1"),format:e.split(".").pop(),src:e})},em={extension:{type:U.ResolveParser,priority:-2,name:"resolveJson"},test:e=>uo.RETINA_PREFIX.test(e)&&e.endsWith(".json"),parse:_d.parse};class om{constructor(){this._detections=[],this._initialized=!1,this.resolver=new uo,this.loader=new _f,this.cache=yt,this._backgroundLoader=new ff(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(t={}){if(this._initialized){ut("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,t.defaultSearchParams&&this.resolver.setDefaultSearchParams(t.defaultSearchParams),t.basePath&&(this.resolver.basePath=t.basePath),t.bundleIdentifier&&this.resolver.setBundleIdentifier(t.bundleIdentifier),t.manifest){let n=t.manifest;typeof n=="string"&&(n=await this.load(n)),this.resolver.addManifest(n)}const o=t.texturePreference?.resolution??1,i=typeof o=="number"?[o]:o,s=await this._detectFormats({preferredFormats:t.texturePreference?.format,skipDetections:t.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:s,resolution:i}}),t.preferences&&this.setPreferences(t.preferences)}add(t){this.resolver.add(t)}async load(t,o){this._initialized||await this.init();const i=Mi(t),s=Zt(t).map(a=>{if(typeof a!="string"){const l=this.resolver.getAlias(a);return l.some(c=>!this.resolver.hasKey(c))&&this.add(a),Array.isArray(l)?l[0]:l}return this.resolver.hasKey(a)||this.add({alias:a,src:a}),a}),n=this.resolver.resolve(s),r=await this._mapLoadToResolve(n,o);return i?r[s[0]]:r}addBundle(t,o){this.resolver.addBundle(t,o)}async loadBundle(t,o){this._initialized||await this.init();let i=!1;typeof t=="string"&&(i=!0,t=[t]);const s=this.resolver.resolveBundle(t),n={},r=Object.keys(s);let a=0,l=0;const c=()=>{o?.(++a/l)},d=r.map(p=>{const h=s[p];return l+=Object.keys(h).length,this._mapLoadToResolve(h,c).then(y=>{n[p]=y})});return await Promise.all(d),i?n[t[0]]:n}async backgroundLoad(t){this._initialized||await this.init(),typeof t=="string"&&(t=[t]);const o=this.resolver.resolve(t);this._backgroundLoader.add(Object.values(o))}async backgroundLoadBundle(t){this._initialized||await this.init(),typeof t=="string"&&(t=[t]);const o=this.resolver.resolveBundle(t);Object.values(o).forEach(i=>{this._backgroundLoader.add(Object.values(i))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(t){if(typeof t=="string")return yt.get(t);const o={};for(let i=0;i<t.length;i++)o[i]=yt.get(t[i]);return o}async _mapLoadToResolve(t,o){const i=[...new Set(Object.values(t))];this._backgroundLoader.active=!1;const s=await this.loader.load(i,o);this._backgroundLoader.active=!0;const n={};return i.forEach(r=>{const a=s[r.src],l=[r.src];r.alias&&l.push(...r.alias),l.forEach(c=>{n[c]=a}),yt.set(l,a)}),n}async unload(t){this._initialized||await this.init();const o=Zt(t).map(s=>typeof s!="string"?s.src:s),i=this.resolver.resolve(o);await this._unloadFromResolved(i)}async unloadBundle(t){this._initialized||await this.init(),t=Zt(t);const o=this.resolver.resolveBundle(t),i=Object.keys(o).map(s=>this._unloadFromResolved(o[s]));await Promise.all(i)}async _unloadFromResolved(t){const o=Object.values(t);o.forEach(i=>{yt.remove(i.src)}),await this.loader.unload(o)}async _detectFormats(t){let o=[];t.preferredFormats&&(o=Array.isArray(t.preferredFormats)?t.preferredFormats:[t.preferredFormats]);for(const i of t.detections)t.skipDetections||await i.test()?o=await i.add(o):t.skipDetections||(o=await i.remove(o));return o=o.filter((i,s)=>o.indexOf(i)===s),o}get detections(){return this._detections}setPreferences(t){this.loader.parsers.forEach(o=>{o.config&&Object.keys(o.config).filter(i=>i in t).forEach(i=>{o.config[i]=t[i]})})}}const Eo=new om;Vt.handleByList(U.LoadParser,Eo.loader.parsers).handleByList(U.ResolveParser,Eo.resolver.parsers).handleByList(U.CacheParser,Eo.cache.parsers).handleByList(U.DetectionParser,Eo.detections);Vt.add(mf,xf,gf,vf,wf,kf,zf,Af,Cf,Ff,Lf,zd,tm,uf,hf,_d,em);const Ia={loader:U.LoadParser,resolver:U.ResolveParser,cache:U.CacheParser,detection:U.DetectionParser};Vt.handle(U.Asset,e=>{const t=e.ref;Object.entries(Ia).filter(([o])=>!!t[o]).forEach(([o,i])=>Vt.add(Object.assign(t[o],{extension:t[o].extension??i})))},e=>{const t=e.ref;Object.keys(Ia).filter(o=>!!t[o]).forEach(o=>Vt.remove(t[o]))});Vt.add(Xp,Kp);const im="/assets/sprites-LtP9PTA-.png",Ye=e=>e[Symbol.iterator](),Ko=["away","towards","left","right"],sm=["awayRight","towardsRight","towardsLeft","awayLeft"],nm=[...Ko,...sm],rm=e=>e==="away"||e==="towards"?"y":"x",Tv=e=>e==="away"?"towards":e==="towards"?"away":e==="left"?"right":"left",jv=e=>am(rm(e)),am=e=>e==="x"?"y":"x",No=(e,...t)=>t.reduce((o,i)=>({x:o.x+(i.x??0),y:o.y+(i.y??0)}),e),Dv=(e,...t)=>t.reduce((o,i)=>({x:o.x-(i.x??0),y:o.y-(i.y??0)}),e),Bd=(e,t)=>({x:e.x*t,y:e.y*t}),lm=(e,t)=>({x:e.x*t,y:e.y*t,z:e.z*t}),$v=(e,t)=>({x:e.x*t.x,y:e.y*t.y,z:e.z*t.z}),Sd=({x:e,y:t,z:o})=>Math.sqrt(e*e+t*t+o*o),cm=({x:e,y:t})=>Math.sqrt(e*e+t*t),io=e=>lm(e,1/Sd(e)),dm=(...e)=>e.reduce(({x:t,y:o,z:i},{x:s=0,y:n=0,z:r=0})=>({x:t+s,y:o+n,z:i+r}),Io),Fv=(e,...t)=>t.reduce((o,i)=>({x:o.x-(i.x??0),y:o.y-(i.y??0),z:o.z-(i.z??0)}),e),pm=({x:e,y:t,z:o},{x:i,y:s,z:n})=>e===i&&t===s&&o===n,Ov=({x:e,y:t},{x:o,y:i})=>e===o&&t===i,Nv=({x:e=0,y:t=0,z:o=0})=>Number.isInteger(e)&&Number.isInteger(t)&&Number.isInteger(o),Lv=({x:e,y:t,z:o})=>({x:Math.round(e),y:Math.round(t),z:Math.round(o)}),Hv=Object.freeze({x:0,y:0}),Io=Object.freeze({x:0,y:0,z:0}),Gv=["x","y"],Wv=["x","y","z"],ym=(e,t)=>e.x*t.x+e.y*t.y+e.z*t.z,Uv=({x:e,y:t})=>t>e?t>-e?"away":"right":t>-e?"left":"towards",hm=["right","towardsRight","towards","towardsLeft","left","awayLeft","away","awayRight"],Vv=({x:e,y:t})=>{const o=Math.atan2(-t,-e),i=Math.round(8*o/(2*Math.PI))&7;return hm[i]},qv=({x:e,y:t},{x:o,y:i})=>Math.abs(o-e)**2+Math.abs(i-t)**2;var Ss={exports:{}},As={exports:{}},Ta;function Xe(){return Ta||(Ta=1,function(e){function t(o){"@babel/helpers - typeof";return e.exports=t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},e.exports.__esModule=!0,e.exports.default=e.exports,t(o)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(As)),As.exports}var ja;function um(){return ja||(ja=1,function(e){var t=Xe().default;function o(){e.exports=o=function(){return s},e.exports.__esModule=!0,e.exports.default=e.exports;var i,s={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(v,z,A){v[z]=A.value},l=typeof Symbol=="function"?Symbol:{},c=l.iterator||"@@iterator",d=l.asyncIterator||"@@asyncIterator",p=l.toStringTag||"@@toStringTag";function h(v,z,A){return Object.defineProperty(v,z,{value:A,enumerable:!0,configurable:!0,writable:!0}),v[z]}try{h({},"")}catch{h=function(A,C,I){return A[C]=I}}function y(v,z,A,C){var I=z&&z.prototype instanceof P?z:P,j=Object.create(I.prototype),N=new _(C||[]);return a(j,"_invoke",{value:J(v,A,N)}),j}function m(v,z,A){try{return{type:"normal",arg:v.call(z,A)}}catch(C){return{type:"throw",arg:C}}}s.wrap=y;var g="suspendedStart",f="suspendedYield",k="executing",w="completed",B={};function P(){}function E(){}function R(){}var M={};h(M,c,function(){return this});var D=Object.getPrototypeOf,$=D&&D(D(S([])));$&&$!==n&&r.call($,c)&&(M=$);var T=R.prototype=P.prototype=Object.create(M);function H(v){["next","throw","return"].forEach(function(z){h(v,z,function(A){return this._invoke(z,A)})})}function Z(v,z){function A(I,j,N,V){var q=m(v[I],v,j);if(q.type!=="throw"){var X=q.arg,st=X.value;return st&&t(st)=="object"&&r.call(st,"__await")?z.resolve(st.__await).then(function(K){A("next",K,N,V)},function(K){A("throw",K,N,V)}):z.resolve(st).then(function(K){X.value=K,N(X)},function(K){return A("throw",K,N,V)})}V(q.arg)}var C;a(this,"_invoke",{value:function(j,N){function V(){return new z(function(q,X){A(j,N,q,X)})}return C=C?C.then(V,V):V()}})}function J(v,z,A){var C=g;return function(I,j){if(C===k)throw Error("Generator is already running");if(C===w){if(I==="throw")throw j;return{value:i,done:!0}}for(A.method=I,A.arg=j;;){var N=A.delegate;if(N){var V=rt(N,A);if(V){if(V===B)continue;return V}}if(A.method==="next")A.sent=A._sent=A.arg;else if(A.method==="throw"){if(C===g)throw C=w,A.arg;A.dispatchException(A.arg)}else A.method==="return"&&A.abrupt("return",A.arg);C=k;var q=m(v,z,A);if(q.type==="normal"){if(C=A.done?w:f,q.arg===B)continue;return{value:q.arg,done:A.done}}q.type==="throw"&&(C=w,A.method="throw",A.arg=q.arg)}}}function rt(v,z){var A=z.method,C=v.iterator[A];if(C===i)return z.delegate=null,A==="throw"&&v.iterator.return&&(z.method="return",z.arg=i,rt(v,z),z.method==="throw")||A!=="return"&&(z.method="throw",z.arg=new TypeError("The iterator does not provide a '"+A+"' method")),B;var I=m(C,v.iterator,z.arg);if(I.type==="throw")return z.method="throw",z.arg=I.arg,z.delegate=null,B;var j=I.arg;return j?j.done?(z[v.resultName]=j.value,z.next=v.nextLoc,z.method!=="return"&&(z.method="next",z.arg=i),z.delegate=null,B):j:(z.method="throw",z.arg=new TypeError("iterator result is not an object"),z.delegate=null,B)}function It(v){var z={tryLoc:v[0]};1 in v&&(z.catchLoc=v[1]),2 in v&&(z.finallyLoc=v[2],z.afterLoc=v[3]),this.tryEntries.push(z)}function b(v){var z=v.completion||{};z.type="normal",delete z.arg,v.completion=z}function _(v){this.tryEntries=[{tryLoc:"root"}],v.forEach(It,this),this.reset(!0)}function S(v){if(v||v===""){var z=v[c];if(z)return z.call(v);if(typeof v.next=="function")return v;if(!isNaN(v.length)){var A=-1,C=function I(){for(;++A<v.length;)if(r.call(v,A))return I.value=v[A],I.done=!1,I;return I.value=i,I.done=!0,I};return C.next=C}}throw new TypeError(t(v)+" is not iterable")}return E.prototype=R,a(T,"constructor",{value:R,configurable:!0}),a(R,"constructor",{value:E,configurable:!0}),E.displayName=h(R,p,"GeneratorFunction"),s.isGeneratorFunction=function(v){var z=typeof v=="function"&&v.constructor;return!!z&&(z===E||(z.displayName||z.name)==="GeneratorFunction")},s.mark=function(v){return Object.setPrototypeOf?Object.setPrototypeOf(v,R):(v.__proto__=R,h(v,p,"GeneratorFunction")),v.prototype=Object.create(T),v},s.awrap=function(v){return{__await:v}},H(Z.prototype),h(Z.prototype,d,function(){return this}),s.AsyncIterator=Z,s.async=function(v,z,A,C,I){I===void 0&&(I=Promise);var j=new Z(y(v,z,A,C),I);return s.isGeneratorFunction(z)?j:j.next().then(function(N){return N.done?N.value:j.next()})},H(T),h(T,p,"Generator"),h(T,c,function(){return this}),h(T,"toString",function(){return"[object Generator]"}),s.keys=function(v){var z=Object(v),A=[];for(var C in z)A.push(C);return A.reverse(),function I(){for(;A.length;){var j=A.pop();if(j in z)return I.value=j,I.done=!1,I}return I.done=!0,I}},s.values=S,_.prototype={constructor:_,reset:function(z){if(this.prev=0,this.next=0,this.sent=this._sent=i,this.done=!1,this.delegate=null,this.method="next",this.arg=i,this.tryEntries.forEach(b),!z)for(var A in this)A.charAt(0)==="t"&&r.call(this,A)&&!isNaN(+A.slice(1))&&(this[A]=i)},stop:function(){this.done=!0;var z=this.tryEntries[0].completion;if(z.type==="throw")throw z.arg;return this.rval},dispatchException:function(z){if(this.done)throw z;var A=this;function C(X,st){return N.type="throw",N.arg=z,A.next=X,st&&(A.method="next",A.arg=i),!!st}for(var I=this.tryEntries.length-1;I>=0;--I){var j=this.tryEntries[I],N=j.completion;if(j.tryLoc==="root")return C("end");if(j.tryLoc<=this.prev){var V=r.call(j,"catchLoc"),q=r.call(j,"finallyLoc");if(V&&q){if(this.prev<j.catchLoc)return C(j.catchLoc,!0);if(this.prev<j.finallyLoc)return C(j.finallyLoc)}else if(V){if(this.prev<j.catchLoc)return C(j.catchLoc,!0)}else{if(!q)throw Error("try statement without catch or finally");if(this.prev<j.finallyLoc)return C(j.finallyLoc)}}}},abrupt:function(z,A){for(var C=this.tryEntries.length-1;C>=0;--C){var I=this.tryEntries[C];if(I.tryLoc<=this.prev&&r.call(I,"finallyLoc")&&this.prev<I.finallyLoc){var j=I;break}}j&&(z==="break"||z==="continue")&&j.tryLoc<=A&&A<=j.finallyLoc&&(j=null);var N=j?j.completion:{};return N.type=z,N.arg=A,j?(this.method="next",this.next=j.finallyLoc,B):this.complete(N)},complete:function(z,A){if(z.type==="throw")throw z.arg;return z.type==="break"||z.type==="continue"?this.next=z.arg:z.type==="return"?(this.rval=this.arg=z.arg,this.method="return",this.next="end"):z.type==="normal"&&A&&(this.next=A),B},finish:function(z){for(var A=this.tryEntries.length-1;A>=0;--A){var C=this.tryEntries[A];if(C.finallyLoc===z)return this.complete(C.completion,C.afterLoc),b(C),B}},catch:function(z){for(var A=this.tryEntries.length-1;A>=0;--A){var C=this.tryEntries[A];if(C.tryLoc===z){var I=C.completion;if(I.type==="throw"){var j=I.arg;b(C)}return j}}throw Error("illegal catch attempt")},delegateYield:function(z,A,C){return this.delegate={iterator:S(z),resultName:A,nextLoc:C},this.method==="next"&&(this.arg=i),B}},s}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports}(Ss)),Ss.exports}var Ps,Da;function Zo(){if(Da)return Ps;Da=1;var e=um()();Ps=e;try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}return Ps}var jt={},Rs={exports:{}},Cs={exports:{}},Ms={exports:{}},$a;function fm(){return $a||($a=1,function(e){var t=Xe().default;function o(i,s){if(t(i)!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var r=n.call(i,s||"default");if(t(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(i)}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports}(Ms)),Ms.exports}var Fa;function mm(){return Fa||(Fa=1,function(e){var t=Xe().default,o=fm();function i(s){var n=o(s,"string");return t(n)=="symbol"?n:n+""}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports}(Cs)),Cs.exports}var Oa;function gm(){return Oa||(Oa=1,function(e){var t=mm();function o(i,s,n){return(s=t(s))in i?Object.defineProperty(i,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[s]=n,i}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports}(Rs)),Rs.exports}var Es={exports:{}},Is={exports:{}},Ts={exports:{}},Na;function Ad(){return Na||(Na=1,function(e){function t(o,i){(i==null||i>o.length)&&(i=o.length);for(var s=0,n=Array(i);s<i;s++)n[s]=o[s];return n}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(Ts)),Ts.exports}var La;function xm(){return La||(La=1,function(e){var t=Ad();function o(i){if(Array.isArray(i))return t(i)}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports}(Is)),Is.exports}var js={exports:{}},Ha;function bm(){return Ha||(Ha=1,function(e){function t(o){if(typeof Symbol<"u"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(js)),js.exports}var Ds={exports:{}},Ga;function Pd(){return Ga||(Ga=1,function(e){var t=Ad();function o(i,s){if(i){if(typeof i=="string")return t(i,s);var n={}.toString.call(i).slice(8,-1);return n==="Object"&&i.constructor&&(n=i.constructor.name),n==="Map"||n==="Set"?Array.from(i):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(i,s):void 0}}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports}(Ds)),Ds.exports}var $s={exports:{}},Wa;function wm(){return Wa||(Wa=1,function(e){function t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}($s)),$s.exports}var Ua;function Rd(){return Ua||(Ua=1,function(e){var t=xm(),o=bm(),i=Pd(),s=wm();function n(r){return t(r)||o(r)||i(r)||s()}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(Es)),Es.exports}var Fs={},Os={},Va;function er(){if(Va)return Os;Va=1;function e(t){return typeof t<"u"}return Os.notUndefined=e,Os}var qa;function Cd(){if(qa)return Fs;qa=1;var e=er(),t=e.notUndefined;function o(i){return i!=null&&t(i[Symbol.iterator])}return Fs.isIterable=o,Fs}var Ns={},Ya;function km(){return Ya||(Ya=1,Ns.isLoopable=Cd().isIterable),Ns}var Ls={},Xa;function zm(){if(Xa)return Ls;Xa=1;var e=er(),t=e.notUndefined;function o(i){return i==null||t(i[Symbol.iterator])}return Ls.isWrappable=o,Ls}var pi={},Ka;function vm(){if(Ka)return pi;Ka=1;var e=Zo(),t=e.mark(i),o=e.mark(s);function i(n){return e.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.delegateYield(n,"t0",1);case 1:case"end":return a.stop()}},t)}pi.wrap=i;function s(n){return e.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(n==null){a.next=2;break}return a.delegateYield(n,"t0",2);case 2:case"end":return a.stop()}},o)}return pi.nullableWrap=s,pi}var yi={},Za;function _m(){if(Za)return yi;Za=1;var e=Rd();function t(s){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s.length,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return n<=l.length?s.apply(void 0,e(r).concat(l)):t(s,n-l.length,[].concat(e(r),l))}}yi.curry=t;function o(s,n){var r=s.fn,a=s.validateArgs,l=s.variadic,c=s.reduces,d=s.growRight,p=s.minArgs,h=s.maxArgs,y=s.isIterable,m=s.iterableType,g=s.applyOnIterableArgs,f=s.IterableClass;if(n.length>p){var k=!0,w=l?n.findIndex(function($,T){return y($)&&T>=p}):Math.min(h,n.length-1),B=l?n.length:w+1;if(l)for(var P=w;P<n.length;P++)k=k&&y(n[P]);else k=y(n[w]);if(n.length>h&&(w===-1||!k)){var E=l?"...".concat(m,"s"):m,R="".concat(r.name," takes up to ").concat(h," arguments, followed by ").concat(E,". ")+"You already passed ".concat(n.length," arguments");throw l?new Error("".concat(R," and the following arguments were not all ").concat(m,"s")):new Error("".concat(R," and the last argument was not ").concat(m))}if(w>=0&&k){for(var M=w;M<B;M++)n[M]=g(n[M]);var D=l?n.slice(w):n[w];return n.splice(w),d||n.reverse(),n.unshift(D),a(n),c?r.apply(void 0,e(n)):new f(r,n)}}return i(s,n)}function i(s){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return function(){for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];if(a.length===0)throw new Error("Cannot make a partial application with no arguments");return a.unshift.apply(a,e(n)),o(s,a)}}return yi.variadicCurryWithValidation=i,yi}var ko={},Qa;function Bm(){if(Qa)return ko;Qa=1;var e=Symbol.for("_");ko._=e;var t=Symbol("__iterate");ko.__iterate=t;var o=Symbol("split");return ko.split=o,ko}var Ja;function Qo(){if(Ja)return jt;Ja=1;var e=gm(),t=Rd(),o,i=Cd(),s=i.isIterable,n=km(),r=n.isLoopable,a=zm(),l=a.isWrappable,c=vm(),d=c.nullableWrap,p=_m(),h=p.variadicCurryWithValidation,y=Bm(),m=y._,g=y.__iterate;jt.wrap=d,jt.isIterable=s,jt.isLoopable=r,jt.isWrappable=l;function f(D){if(l(D))return s(D)?D:d(D);throw typeof D.next=="function"?new TypeError("iter-tools received a value that looked like an iterator but was not iterable. Get help fixing this: https://github.com/iter-tools/iter-tools/wiki/Making-iterators-iterable"):new TypeError("Expected an iterable, null, or undefined")}jt.ensureIterable=f;function k(D){"return"in D&&D.return()}jt.callReturn=k;function w(D,$){this[m]={fn:D,args:$,staticIterator:null}}jt.BaseIterableIterator=w,Object.assign(w.prototype,(o={constructor:w},e(o,g,function(){var D=this[m],$=D.fn,T=D.args;return $.apply(void 0,t(T))}),e(o,"next",function(){var $=this[m];return $.staticIterator=$.staticIterator||this[g](),$.staticIterator.next()}),e(o,"return",function($){var T=this[m];return T.staticIterator=T.staticIterator||this[g](),T.staticIterator.return($)}),e(o,"throw",function($){var T=this[m];return T.staticIterator=T.staticIterator||this[g](),T.staticIterator.throw($)}),o));function B(){for(var D=arguments.length,$=new Array(D),T=0;T<D;T++)$[T]=arguments[T];w.apply(this,$)}jt.IterableIterator=B,B.prototype=Object.assign(Object.create(w.prototype),e({constructor:B},Symbol.iterator,function(){return this[g]()}));function P(D){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},T=$.validateArgs,H=T===void 0?function(j){}:T,Z=$.variadic,J=Z===void 0?!1:Z,rt=$.reduces,It=rt===void 0?!1:rt,b=$.growRight,_=b===void 0?!1:b,S=$.minArgs,v=S===void 0?D.length-1:S,z=$.maxArgs,A=z===void 0?D.length-1:z,C=$.applyOnIterableArgs,I=C===void 0?f:C;return{fn:D,validateArgs:H,variadic:J,reduces:It,growRight:_,minArgs:v,maxArgs:A,isIterable:l,iterableType:"iterable",applyOnIterableArgs:I,IterableClass:B}}function E(D){return t(D)}jt.cache=E;function R(D){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},T=$.validateArgs,H=T===void 0?function(Z){return Z}:T;return function(){for(var Z=arguments.length,J=new Array(Z),rt=0;rt<Z;rt++)J[rt]=arguments[rt];return H(J),new B(D,J)}}jt.wrapWithIterableIterator=R;var M=function($,T){return h(P($,T))};return jt.iterableCurry=M,jt}var zo={},tl;function Sm(){if(tl)return zo;tl=1;function e(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return typeof i=="number"&&!isNaN(i)&&isFinite(i)&&!(s&&i===0)}zo.isInteger=e;function t(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return e(i)&&(s?i>0:i>=0)}zo.isPositiveInteger=t;function o(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return typeof i=="number"&&!isNaN(i)&&!(s&&i===0)}return zo.isIntegerOrInfinite=o,zo}var Hs={exports:{}},Gs={exports:{}},el;function Am(){return el||(el=1,function(e){function t(o){if(Array.isArray(o))return o}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(Gs)),Gs.exports}var Ws={exports:{}},ol;function Pm(){return ol||(ol=1,function(e){function t(o,i){var s=o==null?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(s!=null){var n,r,a,l,c=[],d=!0,p=!1;try{if(a=(s=s.call(o)).next,i===0){if(Object(s)!==s)return;d=!1}else for(;!(d=(n=a.call(s)).done)&&(c.push(n.value),c.length!==i);d=!0);}catch(h){p=!0,r=h}finally{try{if(!d&&s.return!=null&&(l=s.return(),Object(l)!==l))return}finally{if(p)throw r}}return c}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(Ws)),Ws.exports}var Us={exports:{}},il;function Rm(){return il||(il=1,function(e){function t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(Us)),Us.exports}var sl;function Cm(){return sl||(sl=1,function(e){var t=Am(),o=Pm(),i=Pd(),s=Rm();function n(r,a){return t(r)||o(r,a)||i(r,a)||s()}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(Hs)),Hs.exports}var Vs={},nl;function Mm(){if(nl)return Vs;nl=1;var e=Xe();function t(o){return e(o)==="object"&&o!==null}return Vs.isObject=t,Vs}var hi={},rl;function Em(){if(rl)return hi;rl=1;var e=Xe(),t=Zo(),o=t.mark(r),i=Qo(),s=i.wrapWithIterableIterator,n=Object.prototype.hasOwnProperty;function r(l){var c;return t.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(l!=null){p.next=2;break}return p.abrupt("return");case 2:p.t0=t.keys(l);case 3:if((p.t1=p.t0()).done){p.next=10;break}if(c=p.t1.value,!n.call(l,c)){p.next=8;break}return p.next=8,[c,l[c]];case 8:p.next=3;break;case 10:case"end":return p.stop()}},o)}hi.__objectEntries=r;var a=s(r,{validateArgs:function(c){if(!(c[0]==null||e(c[0])==="object"))throw new Error("obj argument to objectEntries must be an object, null, or undefined")}});return hi.objectEntries=a,hi}var ui={},al;function Im(){if(al)return ui;al=1;var e=Xe(),t=Zo(),o=t.mark(r),i=Qo(),s=i.wrapWithIterableIterator,n=Object.prototype.hasOwnProperty;function r(l){var c;return t.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(l!=null){p.next=2;break}return p.abrupt("return");case 2:p.t0=t.keys(l);case 3:if((p.t1=p.t0()).done){p.next=10;break}if(c=p.t1.value,!n.call(l,c)){p.next=8;break}return p.next=8,c;case 8:p.next=3;break;case 10:case"end":return p.stop()}},o)}ui.__objectKeys=r;var a=s(r,{validateArgs:function(c){if(!(c[0]==null||e(c[0])==="object"))throw new Error("obj argument to objectKeys must be an object, null, or undefined")}});return ui.objectKeys=a,ui}var fi={},ll;function Tm(){if(ll)return fi;ll=1;var e=Xe(),t=Zo(),o=t.mark(r),i=Qo(),s=i.wrapWithIterableIterator,n=Object.prototype.hasOwnProperty;function r(l){var c;return t.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(l!=null){p.next=2;break}return p.abrupt("return");case 2:p.t0=t.keys(l);case 3:if((p.t1=p.t0()).done){p.next=10;break}if(c=p.t1.value,!n.call(l,c)){p.next=8;break}return p.next=8,l[c];case 8:p.next=3;break;case 10:case"end":return p.stop()}},o)}fi.__objectValues=r;var a=s(r,{validateArgs:function(c){if(!(c[0]==null||e(c[0])==="object"))throw new Error("obj argument to objectValues must be an object, null, or undefined")}});return fi.objectValues=a,fi}var mi={},cl;function jm(){if(cl)return mi;cl=1;var e=Cm(),t=Zo(),o=t.mark(h),i=Qo(),s=i.wrapWithIterableIterator,n=Sm(),r=n.isInteger,a=n.isIntegerOrInfinite,l=Mm(),c=l.isObject,d=er(),p=d.notUndefined;function h(){var m,g,f,k,w=arguments;return t.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:m=w.length>0&&w[0]!==void 0?w[0]:0,g=w.length>1&&w[1]!==void 0?w[1]:1/0,f=w.length>2&&w[2]!==void 0?w[2]:1,k=m;case 4:if(!(f>0?k<g:k>g)){P.next=10;break}return P.next=7,k;case 7:k+=f,P.next=4;break;case 10:case"end":return P.stop()}},o)}mi.__range=h;var y=s(h,{growRight:!0,validateArgs:function(g){var f=e(g,3),k=f[0],w=f[1],B=w===void 0?1/0:w,P=f[2],E;if(c(k)?(E=k.start,B=k.end,P=k.step):g.length>1?E=k:B=k,p(E)&&!r(E))throw new TypeError("The specified start was not an integer");if(p(B)&&!a(B))throw new TypeError("The specified end was not an integer or infinite");if(p(P)&&!r(P,!0))throw new TypeError("The specified step was not a non-zero integer");g[0]=E,g[1]=B,g[2]=P}});return mi.range=y,mi}var gi={},dl;function Dm(){if(dl)return gi;dl=1;function e(a,l){var c;if(typeof Symbol>"u"||a[Symbol.iterator]==null){if(Array.isArray(a)||(c=t(a))||l){c&&(a=c);var d=0,p=function(){};return{s:p,n:function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function(f){throw f},f:p}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var h=!0,y=!1,m;return{s:function(){c=a[Symbol.iterator]()},n:function(){var f=c.next();return h=f.done,f},e:function(f){y=!0,m=f},f:function(){try{!h&&c.return!=null&&c.return()}finally{if(y)throw m}}}}function t(a,l){if(a){if(typeof a=="string")return o(a,l);var c=Object.prototype.toString.call(a).slice(8,-1);if(c==="Object"&&a.constructor&&(c=a.constructor.name),c==="Map"||c==="Set")return Array.from(a);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return o(a,l)}}function o(a,l){(l==null||l>a.length)&&(l=a.length);for(var c=0,d=new Array(l);c<l;c++)d[c]=a[c];return d}var i=Qo(),s=i.ensureIterable;function n(a){var l=s(a),c=0,d=e(l),p;try{for(d.s();!(p=d.n()).done;){var h=p.value;c++}}catch(y){d.e(y)}finally{d.f()}return c}gi.__size=n;var r=n;return gi.size=r,gi}var qs,pl;function $m(){return pl||(pl=1,qs=Em().objectEntries),qs}var Fm=$m();const Om=qt(Fm);var Ys,yl;function Nm(){return yl||(yl=1,Ys=Im().objectKeys),Ys}var Lm=Nm();const Hm=qt(Lm);var Xs,hl;function Gm(){return hl||(hl=1,Xs=Tm().objectValues),Xs}var Wm=Gm();const Md=qt(Wm);var Ks,ul;function Um(){return ul||(ul=1,Ks=jm().range),Ks}var Vm=Um();const qm=qt(Vm);var Zs,fl;function Ym(){return fl||(fl=1,Zs=Dm().size),Zs}var Xm=Ym();const Sn=qt(Xm),Ee=(e,{x:t,y:o},i)=>{function*s(){yield[`${e}.left`,{frame:{x:t,y:o,...i}}],yield[`${e}.away`,{frame:{x:t+i.w+1,y:o,...i}}],yield[`${e}.towards`,{frame:{x:t,y:o+i.h+1,...i}}],yield[`${e}.right`,{frame:{x:t+i.w+1,y:o+i.h+1,...i}}]}return Object.fromEntries(s())},ot=(e,t,{x:o,y:i},s)=>{function*n(){for(let r=0;r<t;r++)yield[`${e}.${r+1}`,{frame:{x:o+r*(s.w+1),y:i,...s}}]}return Object.fromEntries(n())},Km=(e,t,o,i)=>({...ot(`${e}.left`,t,o,i),...ot(`${e}.away`,t,No(o,{x:(i.w+1)*t}),i),...ot(`${e}.towards`,t,No(o,{y:i.h+1}),i),...ot(`${e}.right`,t,No(o,{x:(i.w+1)*t,y:i.h+1}),i)}),ml=(e,t)=>[...Ye(qm(1,t+1)).map(o=>`${e}.${String(o)}`)],To={w:32,h:16},le={w:16,h:56},at={w:32,h:28},F={w:24,h:24},He={w:8,h:8},O=e=>({x:e.x*(F.w+1)+1,y:e.y*(F.h+1)+2}),ct=e=>({x:e.x*(at.w+1)+1,y:e.y*(at.h+1)+396}),Yv=["yellow","cyan","green","magenta","white"],Xv=["basic","dimmed"],Ed=25,Kv=1e3/Ed,Qs={x:256,y:192},ht=(e,t)=>Object.assign([...e],{animationSpeed:t}),Zm=.5,vo=(e,t)=>{const i=Math.round(5e3/(Ed*4))-3,s=[...new Array(i).fill(`head.walking.${e}.${t}`),`head.blinking.${e}`,`head.walking.${e}.${t}`,`head.blinking.${e}`];return ht(s,.5)};function gl(e){function*t(o,i){yield`${o}.walking.${i}.1`,yield`${o}.walking.${i}.2`,yield`${o}.walking.${i}.3`,yield`${o}.walking.${i}.2`}return nm.reduce((o,i)=>({...o,[`${e}.walking.${i}`]:ht([...t(e,i)],Zm)}),{})}const Qm={...ot("bubbles.head",6,O({x:0,y:6}),F),...ot("head.walking.towards",3,O({x:1,y:11}),F),...ot("head.walking.right",3,O({x:4,y:11}),F),...ot("head.walking.left",3,O({x:1,y:9}),F),...ot("head.walking.away",3,O({x:4,y:9}),F),...ot("head.walking.towardsRight",3,O({x:2,y:12}),F),...ot("head.walking.towardsLeft",3,O({x:1,y:10}),F),...ot("head.walking.awayRight",3,O({x:4,y:10}),F),...ot("head.walking.awayLeft",3,O({x:2,y:8}),F),"head.blinking.towards":{frame:{...O({x:0,y:12}),...F}},"head.blinking.right":{frame:{...O({x:7,y:12}),...F}},"head.blinking.towardsRight":{frame:{...O({x:5,y:12}),...F}},"head.blinking.awayRight":{frame:{...O({x:7,y:9}),...F}},"head.blinking.towardsLeft":{frame:{...O({x:0,y:9}),...F}},"head.falling.towards":{frame:{...O({x:0,y:11}),...F}},"head.falling.right":{frame:{...O({x:7,y:11}),...F}},"head.falling.towardsRight":{frame:{...O({x:6,y:12}),...F}},"head.falling.awayRight":{frame:{...O({x:7,y:10}),...F}},"head.falling.towardsLeft":{frame:{...O({x:0,y:10}),...F}},...ot("bubbles.heels",6,O({x:6,y:6}),F),...ot("heels.walking.towards",3,O({x:8,y:11}),F),...ot("heels.walking.right",3,O({x:11,y:11}),F),...ot("heels.walking.left",3,O({x:8,y:9}),F),...ot("heels.walking.away",3,O({x:11,y:9}),F),...ot("heels.walking.towardsRight",3,O({x:10,y:12}),F),...ot("heels.walking.towardsLeft",3,O({x:8,y:10}),F),...ot("heels.walking.awayRight",3,O({x:11,y:10}),F),...ot("heels.walking.awayLeft",3,O({x:10,y:8}),F)},Id={frames:Qm,animations:{...gl("head"),...gl("heels"),"head.idle.right":vo("right",3),"head.idle.towards":vo("towards",3),"head.idle.towardsRight":vo("towardsRight",2),"head.idle.towardsLeft":vo("towardsLeft",2),"head.idle.awayRight":vo("awayRight",2),"head.fadeOut":ht(["bubbles.head.1","bubbles.head.2","bubbles.head.4","bubbles.head.3","bubbles.head.4","bubbles.head.6","bubbles.head.5","bubbles.head.6","bubbles.head.5"],.5),"heels.fadeOut":ht(["bubbles.heels.1","bubbles.heels.2","bubbles.heels.4","bubbles.heels.3","bubbles.heels.4","bubbles.heels.6","bubbles.heels.5","bubbles.heels.6","bubbles.heels.5"],.5)}},Td={jail:{walls:["bars"]},blacktooth:{walls:["armour","shield","plain"]},bookworld:{walls:["cowboy","book"]},egyptus:{walls:["sarcophagus","hieroglyphics"]},market:{walls:["passage","fruits","more-fruits"]},moonbase:{walls:["window1","window2","window3","coil"]},penitentiary:{walls:["loop","skeleton"]},safari:{walls:["window","shield","wall"]}},Zv=Object.keys(Td),_t=(e,t,o,i)=>{function*s(n,r,a){const{walls:l}=Td[n],{w:c,h:d}=le,p=c>>1,h=l.length;let y=0;for(;y<l.length;y++)yield[`${n}${i}.wall.${l[y]}.left`,{frame:{x:r+c*y,y:a-p*y,...le}}],yield[`${n}${i}.wall.${l[y]}.away`,{frame:{x:r+c*((h<<1)-y-1),y:a-p*y,...le}}];const m=y-1;yield[`${n}${i}.floor`,{frame:{x:r+m*c,y:a-m*p+d,...To}}]}return Object.fromEntries(s(e,t,o))},Jm={..._t("blacktooth",542,104,".dark"),..._t("blacktooth",542,29,""),..._t("bookworld",408,29,".dark"),..._t("bookworld",408,29,""),..._t("egyptus",475,29,""),..._t("egyptus",475,104,".dark"),..._t("jail",440,104,".dark"),..._t("jail",440,104,""),..._t("market",443,356,".dark"),..._t("market",443,356,""),..._t("moonbase",453,276,".dark"),..._t("moonbase",453,204,""),..._t("penitentiary",376,357,".dark"),..._t("penitentiary",376,357,""),..._t("safari",542,357,".dark"),..._t("safari",542,357,""),"floorEdge.right":{frame:{x:423,y:442,w:8,h:9}},"floorEdge.towards":{frame:{x:414,y:442,w:8,h:9}},"floorOverdraw.right":{frame:{x:423,y:432,w:8,h:9}},"floorOverdraw.towards":{frame:{x:414,y:432,w:8,h:9}},"generic.floor.overdraw":{frame:{x:435,y:452,w:le.w,h:To.h*2}},"generic.wall.overdraw":{frame:{x:452,y:452,w:le.w,h:To.h*2}},"shadow.wall.y":{frame:{x:432,y:435,w:36,h:16}},"generic.floor.deadly":{frame:{x:407,y:143,...To}},"generic.dark.floor.deadly":{frame:{x:407,y:160,...To}},"generic.door.legs.pillar":{frame:{x:524,y:476,w:le.w,h:12}},"generic.door.legs.base":{frame:{x:524,y:488,w:le.w,h:9}},"generic.door.legs.threshold.double.x":{frame:{x:508,y:452,w:le.w*2,h:24}},"generic.door.legs.threshold.double.y":{frame:{x:469,y:452,w:le.w*2,h:24}},"shadowMask.door.legs.threshold.double.y":{frame:{x:469,y:430,w:le.w*2,h:21,pivot:{x:0,y:21}}},"generic.door.floatingThreshold.x":{frame:{x:496,y:477,w:26,h:19,pivot:{x:18,y:12}}},"generic.door.floatingThreshold.y":{frame:{x:469,y:477,w:26,h:19,pivot:{x:8,y:12}}},"shadowMask.door.floatingThreshold.double.y":{frame:{x:541,y:480,w:42,h:21,pivot:{x:24,y:28}}},"shadow.door.floatingThreshold.double.y":{frame:{x:584,y:480,w:42,h:21,pivot:{x:8,y:20}}}},tg={frames:Jm,animations:{}},Qv=Object.entries,jd=Om,Dd=Object.keys,eg=Object.fromEntries,or=Object.fromEntries,og=(e,t)=>{const i=Ye(jd(e)).map(t);return eg(i)},ig={" ":"space","'":"singleQuote",":":"colon","<":"lt",">":"gt","`":"backtick"},$d=e=>ig[e]??e,sg=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","0","1","2","3","4","5","6","7","8","9"],ng=[" ","?","!",".",",",";",":","/","\\","‘","’","'","`","-","+","%","⬅","➡","⬆","⬇","↖","↘","↗","↙","(",")","[","]","<",">","⏩","⁌","⁍"],xl=(e,t)=>{function*o(){for(let i=0;i<e.length;i++){const s=e[i];yield[`hud.char.${$d(s)}`,{frame:{x:t.x+i*(He.w+1),y:t.y,...He}}]}}return or(o())},rg={frames:{...xl(sg,{x:151,y:2}),...xl(ng,{x:151,y:11}),"hud.fastSteps":{frame:{x:475,y:2,...He}},"hud.shield":{frame:{x:484,y:2,...He}},"hud.bigJumps":{frame:{x:493,y:2,...He}},"hud.char.🕹":{frame:{x:502,y:2,...He}}}},Je=(e,t,o)=>{const i=({x:n,y:r,w:a,h:l,pivot:c})=>t==="x"?{...No(o,{x:-n-a-1,y:r}),w:a,h:l,pivot:{x:a-c.x,y:c.y}}:{...No(o,{x:n+2,y:r}),w:a,h:l,pivot:c};function*s(){yield[`door.frame.${e}.${t}.far`,{frame:{...i({x:-18,y:0,w:17,h:57,pivot:{x:9,y:52}})}}],yield[`door.frame.${e}.${t}.near`,{frame:{...i({x:-41,y:6,w:20,h:58,pivot:{x:8,y:58}})}}],yield[`door.frame.${e}.${t}.top`,{frame:{...i({x:-57,y:-1,w:15,h:36,pivot:{x:0,y:36}})}}]}return or(s())},ag={frames:{...Je("generic","y",{x:580,y:415}),...Je("generic","x",{x:582,y:415}),...Je("moonbase","y",{x:451,y:204}),...Je("moonbase","x",{x:582,y:204}),...Je("moonbase.dark","y",{x:451,y:276}),...Je("moonbase.dark","x",{x:582,y:276})}},lg={...ot("dalek",2,O({x:0,y:0}),F),"shadowMask.dalek":{frame:{...O({x:2,y:0}),...F}},...ot("bubbles.cold",2,O({x:3,y:0}),F),homingBot:{frame:{...O({x:5,y:0}),...F}},ball:{frame:{...O({x:0,y:1}),...F}},...Ee("cyberman",O({x:1,y:1}),F),...Ee("charles",O({x:4,y:1}),F),...Ee("elephant",O({x:6,y:1}),F),"crown.blacktooth":{frame:{...O({x:8,y:1}),...F}},"crown.safari":{frame:{...O({x:9,y:1}),...F}},"crown.egyptus":{frame:{...O({x:10,y:1}),...F}},"crown.penitentiary":{frame:{...O({x:11,y:1}),...F}},"crown.bookworld":{frame:{...O({x:12,y:1}),...F}},"crown.dark":{frame:{...O({x:13,y:1}),...F}},sticks:{frame:{...O({x:8,y:2}),...F}},cube:{frame:{...O({x:9,y:2}),...F}},drum:{frame:{...O({x:10,y:2}),...F}},hooter:{frame:{...O({x:11,y:2}),...F}},bag:{frame:{...O({x:12,y:2}),...F}},joystick:{frame:{...O({x:13,y:2}),...F}},"shadowMask.joystick":{frame:{...O({x:14,y:2}),...F}},...Km("turtle",2,O({x:0,y:3}),F),...Ee("monkey",O({x:4,y:3}),F),...Ee("computerBot",O({x:6,y:3}),F),"spring.compressed":{frame:{...O({x:8,y:3}),...F}},"spring.released":{frame:{...O({x:9,y:3}),...F}},"switch.left":{frame:{...O({x:10,y:3}),...F}},"switch.right":{frame:{...O({x:11,y:3}),...F}},"shadowMask.switch":{frame:{...O({x:12,y:3}),...F}},tower:{frame:{...O({x:13,y:3}),...F}},"shadowMask.tower":{frame:{...O({x:14,y:3}),...F}},scroll:{frame:{...O({x:8,y:4}),...F,pivot:{x:17,y:24}}},"shadow.scroll":{frame:{...O({x:9,y:4}),...F,pivot:{x:17,y:24}}},"shadowMask.scroll":{frame:{...O({x:10,y:4}),...F,pivot:{x:17,y:24}}},puck:{frame:{...O({x:11,y:4}),...F}},"puck.deadly":{frame:{...O({x:12,y:4}),...F}},"shadow.smallRound":{frame:{...O({x:13,y:4}),...F}},"shadowMask.smallRound":{frame:{...O({x:14,y:4}),...F}},...ot("helicopterBug",4,O({x:0,y:5}),F),"barrier.x":{frame:{...O({x:4,y:5}),...F,pivot:{x:18,y:23}}},"barrier.y":{frame:{...O({x:5,y:5}),...F,pivot:{x:6,y:23}}},"shadow.barrier.y":{frame:{...O({x:6,y:5}),...F,pivot:{x:6,y:22}}},"shadowMask.barrier.y":{frame:{...O({x:7,y:5}),...F,pivot:{x:6,y:22}}},doughnuts:{frame:{...O({x:8,y:5}),...F}},...ot("bubbles.taupe",3,O({x:9,y:5}),F),whiteRabbit:{frame:{...O({x:12,y:5}),...F}},...ot("bubbles.white",3,O({x:13,y:5}),F),...ot("fish",2,O({x:12,y:6}),F),blank:{frame:{...O({x:14,y:6}),...F}},...ot("lift",4,O({x:7,y:7}),F),"lift.static":{frame:{...O({x:11,y:7}),...F}},"shadow.smallBlock":{frame:{...O({x:12,y:7}),...F}},"shadowMask.smallBlock":{frame:{...O({x:13,y:7}),...F}},...Ee("skiHead.greenAndPink",{x:1,y:327},{w:24,h:32}),...Ee("skiHead.starsAndStripes",{x:51,y:327},{w:24,h:32}),"block.organic":{frame:{...ct({x:0,y:0}),...at}},"block.organic.disappearing":{frame:{...ct({x:1,y:0}),...at}},"block.organic.dark":{frame:{...ct({x:2,y:0}),...at}},"block.organic.dark.disappearing":{frame:{...ct({x:3,y:0}),...at}},"block.artificial":{frame:{...ct({x:4,y:0}),...at}},"block.artificial.disappearing":{frame:{...ct({x:5,y:0}),...at}},"book.x":{frame:{...ct({x:6,y:0}),...at}},"book.y":{frame:{...ct({x:7,y:0}),...at}},"shadow.fullBlock":{frame:{...ct({x:8,y:0}),...at}},"shadowMask.fullBlock":{frame:{...ct({x:9,y:0}),...at}},stepStool:{frame:{...ct({x:0,y:1}),...at}},"shadowMask.stepStool":{frame:{...ct({x:1,y:1}),...at}},volcano:{frame:{...ct({x:2,y:1}),...at}},"shadowMask.volcano":{frame:{...ct({x:3,y:1}),...at}},hushPuppy:{frame:{...ct({x:4,y:1}),...at}},"shadowMask.hushPuppy":{frame:{...ct({x:5,y:1}),...at}},toaster:{frame:{...ct({x:6,y:1}),...at}},sandwich:{frame:{...ct({x:7,y:1}),...at}},spikes:{frame:{...ct({x:8,y:1}),...at}},"shadowMask.spikes":{frame:{...ct({x:9,y:1}),...at}},...ot("conveyor.x",7,ct({x:0,y:2}),at),"shadowMask.conveyor":{frame:{...ct({x:7,y:2}),...at}},...ot("conveyor.y",7,ct({x:0,y:3}),at),teleporter:{frame:{...ct({x:7,y:3}),...at}},...ot("teleporter.flashing",2,ct({x:8,y:3}),at),"shadowMask.teleporter":{frame:{...ct({x:10,y:3}),...at}}},Fd={frames:lg,animations:{"teleporter.flashing":ht(["teleporter.flashing.1","teleporter.flashing.2"],.5),fish:ht(["fish.1","fish.2"],.25),lift:ht(["lift.1","lift.2","lift.3","lift.4"],.5),dalek:ht(["dalek.1","dalek.2"],.5),"turtle.left":ht(["turtle.left.1","turtle.left.2"],.25),"turtle.away":ht(["turtle.away.1","turtle.away.2"],.25),"turtle.towards":ht(["turtle.towards.1","turtle.towards.2"],.25),"turtle.right":ht(["turtle.right.1","turtle.right.2"],.25),helicopterBug:ht(["helicopterBug.1","helicopterBug.2","helicopterBug.3","helicopterBug.4"],.5),"bubbles.cold":ht(["bubbles.cold.1","bubbles.cold.2"],.25),"bubbles.white":ht(["bubbles.white.1","bubbles.white.2","bubbles.white.3"],.5),"bubbles.doughnut":ht(["bubbles.taupe.1","bubbles.taupe.2"],.5),"conveyor.x":ht(ml("conveyor.x",7),.5),"conveyor.y":ht(ml("conveyor.y",7),.5),"spring.bounce":ht(["spring.released","spring.compressed","spring.released","spring.compressed","spring.released"],.5),switch:ht(["switch.left","switch.right"],.02)}},cg={...Fd.frames,...Id.frames,...tg.frames,...rg.frames,...ag.frames},Ge={frames:cg,animations:{...Id.animations,...Fd.animations},meta:{scale:1}};let An;try{An=await Eo.load(im)}catch{An=tt.EMPTY}const We=new mn(An,Ge),Od=async()=>(await We.parse(),We.textureSource.scaleMode="nearest",We),dg=Object.freeze(Object.defineProperty({__proto__:null,load:Od,spriteSheet:We},Symbol.toStringTag,{value:"Module"})),pg=()=>{const[e,t]=L.useState(!1);if(L.useEffect(()=>{(async()=>{await Od(),t(!0)})()}),!e)return null;const o=Object.keys(We.textures).sort();return u.jsxs("div",{className:"flex flex-wrap p-[8px] bg-pureBlack",children:[u.jsx("title",{children:"Sprites"}),o.map(i=>{const{frame:s}=We.data.frames[i];return u.jsxs("div",{className:"bg-shadow m-[8px] p-[16px]",children:[u.jsx("div",{className:"sprite bg-shadow hover:bg-metallicBlue hover:border-pink border-shadow border border-4 mb-1 box-content",style:{"--x":`${Ge.frames[i].frame.x}px`,"--y":`${Ge.frames[i].frame.y}px`,"--h":`${Ge.frames[i].frame.h}px`,"--w":`${Ge.frames[i].frame.w}px`}}),u.jsx("div",{className:"text-moss",children:i}),u.jsxs("div",{className:"text-lightGrey",children:[s.w," x ",s.h]}),u.jsxs("div",{className:"text-midGrey",children:["(",s.x,",",s.y,")"]})]},i)})]})};var Js={exports:{}},tn={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bl;function yg(){if(bl)return tn;bl=1;var e=yo();function t(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}var o=typeof Object.is=="function"?Object.is:t,i=e.useSyncExternalStore,s=e.useRef,n=e.useEffect,r=e.useMemo,a=e.useDebugValue;return tn.useSyncExternalStoreWithSelector=function(l,c,d,p,h){var y=s(null);if(y.current===null){var m={hasValue:!1,value:null};y.current=m}else m=y.current;y=r(function(){function f(E){if(!k){if(k=!0,w=E,E=p(E),h!==void 0&&m.hasValue){var R=m.value;if(h(R,E))return B=R}return B=E}if(R=B,o(w,E))return R;var M=p(E);return h!==void 0&&h(R,M)?(w=E,R):(w=E,B=M)}var k=!1,w,B,P=d===void 0?null:d;return[function(){return f(c())},P===null?void 0:function(){return f(P())}]},[c,d,p,h]);var g=i(l,y[0],y[1]);return n(function(){m.hasValue=!0,m.value=g},[g]),a(g),g},tn}var wl;function hg(){return wl||(wl=1,Js.exports=yg()),Js.exports}var ug=hg();function fg(e){e()}function mg(){let e=null,t=null;return{clear(){e=null,t=null},notify(){fg(()=>{let o=e;for(;o;)o.callback(),o=o.next})},get(){const o=[];let i=e;for(;i;)o.push(i),i=i.next;return o},subscribe(o){let i=!0;const s=t={callback:o,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!i||e===null||(i=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var kl={notify(){},get:()=>[]};function gg(e,t){let o,i=kl,s=0,n=!1;function r(g){d();const f=i.subscribe(g);let k=!1;return()=>{k||(k=!0,f(),p())}}function a(){i.notify()}function l(){m.onStateChange&&m.onStateChange()}function c(){return n}function d(){s++,o||(o=e.subscribe(l),i=mg())}function p(){s--,o&&s===0&&(o(),o=void 0,i.clear(),i=kl)}function h(){n||(n=!0,d())}function y(){n&&(n=!1,p())}const m={addNestedSub:r,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:c,trySubscribe:h,tryUnsubscribe:y,getListeners:()=>i};return m}var xg=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",bg=xg(),wg=()=>typeof navigator<"u"&&navigator.product==="ReactNative",kg=wg(),zg=()=>bg||kg?L.useLayoutEffect:L.useEffect,vg=zg(),_g=Symbol.for("react-redux-context"),Bg=typeof globalThis<"u"?globalThis:{};function Sg(){if(!L.createContext)return{};const e=Bg[_g]??=new Map;let t=e.get(L.createContext);return t||(t=L.createContext(null),e.set(L.createContext,t)),t}var Pe=Sg();function Ag(e){const{children:t,context:o,serverState:i,store:s}=e,n=L.useMemo(()=>{const l=gg(s);return{store:s,subscription:l,getServerState:i?()=>i:void 0}},[s,i]),r=L.useMemo(()=>s.getState(),[s]);vg(()=>{const{subscription:l}=n;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),r!==s.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[n,r]);const a=o||Pe;return L.createElement(a.Provider,{value:n},t)}var Pg=Ag;function ir(e=Pe){return function(){return L.useContext(e)}}var Nd=ir();function Ld(e=Pe){const t=e===Pe?Nd:ir(e),o=()=>{const{store:i}=t();return i};return Object.assign(o,{withTypes:()=>o}),o}var Hd=Ld();function Rg(e=Pe){const t=e===Pe?Hd:Ld(e),o=()=>t().dispatch;return Object.assign(o,{withTypes:()=>o}),o}var Cg=Rg(),Mg=(e,t)=>e===t;function Eg(e=Pe){const t=e===Pe?Nd:ir(e),o=(i,s={})=>{const{equalityFn:n=Mg}=typeof s=="function"?{equalityFn:s}:s,r=t(),{store:a,subscription:l,getServerState:c}=r;L.useRef(!0);const d=L.useCallback({[i.name](h){return i(h)}}[i.name],[i]),p=ug.useSyncExternalStoreWithSelector(l.addNestedSub,a.getState,c||a.getState,d,n);return L.useDebugValue(p),p};return Object.assign(o,{withTypes:()=>o}),o}var Ig=Eg(),en,zl;function Tg(){if(zl)return en;zl=1;function e(i){if(Array.isArray(i))return!0;var s=i.length;return typeof s=="number"&&s>-1?s?0 in i&&s-1 in i:!0:!1}function t(i){var s=typeof i;return s==="object"?i===null?"null":e(i)?"array":i.constructor===Object?"pure-object":"object":s}function o(i,s){if(i===s||i!==i&&s!==s)return!0;var n=t(i),r=t(s);if(n!==r)return!1;if(n==="pure-object"){if(i===s)return!0;var a=Object.keys(i),l=Object.keys(s).length;if(a.length!==l)return!1;for(var c=0,d=a.length;c<d;c++){var p=a[c];if(!s.hasOwnProperty(a[c]))return!1;var h=i[p],y=s[p];if(h===i||y===s||h===s||y===i)return h===y;if(!o(h,y))return!1}return!0}else if(n==="array"){if(i.length===s.length)for(var m=0;m<i.length;m++){var g=i[m],f=s[m];if(g===i||f===s||g===s||f===i)return g===f;if(!o(g,f))return!1}else return!1;return!0}else if(n==="object"){if(i.valueOf!==Object.prototype.valueOf()&&s.valueOf!==Object.prototype.valueOf())return i.valueOf()===s.valueOf();if(i.toString!==Object.prototype.toString()&&s.toString!==Object.prototype.toString())return i.toString()===s.toString()}return!1}return en=o,en}var jg=Tg();const Dg=qt(jg),Gd=Cg.withTypes(),lt=Ig.withTypes();Hd.withTypes();const $g=["jump","fire","carry","swop","hold","toggleColourisation","toggleShowFps","menu_select","menu_openOrExit","menu_exit",...Ko],Wd=e=>e==="left"?{axis:"x",direction:-1}:e==="right"?{axis:"x",direction:1}:e==="towards"?{axis:"y",direction:1}:e==="away"?{axis:"y",direction:-1}:void 0,Bt={dPadDown:13,dPadUp:12,dPadLeft:14,dPadRight:15,a:0,b:1,x:2,y:3,lb:4,lt:6,rb:5,rt:7,select:8,start:9,l3:10,r3:11},vl=og(Bt,([e,t])=>[t,e]),Fg={start:"1",coin:"5",directions:{up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight"},buttons:["Control","Alt"," ","Shift","Z","X"]},Og={start:"2",coin:"6",directions:{up:"R",down:"F",left:"D",right:"G"},buttons:["A","S","Q","W","I","K"]},Lt={dPadUp:"C",dPadDown:"D",dPadLeft:"E",dPadRight:"F",a:"J",b:"G",y:"H",x:"I",lb:"K",rb:"M",start:"O",select:"N"},Ke={presses:{right:{keys:["ArrowRight"],gamepadButtons:[]},towards:{keys:["ArrowDown"]},left:{keys:["ArrowLeft"]},away:{keys:["ArrowUp"]},menu_openOrExit:{keys:["Escape","Tab","§"]},menu_exit:{gamepadButtons:[Bt.b]},menu_select:{keys:["Enter"],gamepadButtons:[Bt.a]},toggleColourisation:{keys:["F10"]},toggleShowFps:{keys:["F9"]}}},Ud=[...$g,...Ko],Ai={presses:or(Ud.map(e=>[e,{keys:[],gamepadAxes:[],gamepadButtons:[]}])),axes:{x:[],y:[]}},_l=(e,t)=>Array.from(new Set([...e??[],...t??[]]));function Ze(...e){return{presses:e.reduce((t,o)=>{for(const i of Ud)t[i]={keys:_l(t[i]?.keys,o?.presses?.[i]?.keys),gamepadButtons:_l(t[i]?.gamepadButtons,o?.presses?.[i]?.gamepadButtons)};return t},structuredClone(Ai.presses)),axes:{x:Array.from(new Set([...Ai.axes.x,...e.map(t=>t.axes?.x??[]).flat()])),y:Array.from(new Set([...Ai.axes.y,...e.map(t=>t.axes?.y??[]).flat()]))}}}const go={inputAssignment:Ze(Ke,{presses:{right:{gamepadButtons:[Bt.dPadRight]},towards:{gamepadButtons:[Bt.dPadDown]},left:{gamepadButtons:[Bt.dPadLeft]},away:{gamepadButtons:[Bt.dPadUp]},jump:{gamepadButtons:[Bt.a,Bt.y]},carry:{gamepadButtons:[Bt.b,Bt.y]},fire:{gamepadButtons:[Bt.x]},swop:{gamepadButtons:[Bt.rb]},hold:{gamepadButtons:[Bt.start]},menu_openOrExit:{gamepadButtons:[Bt.select]},toggleColourisation:{gamepadButtons:[Bt.lt]}},axes:{x:[0],y:[1]}}),description:"Joysticks/gamepads with at least 4 buttons, but preferably 6 or more. Inc Playstation, xbox etc"},Ng={inputAssignment:Ze(Ke,go.inputAssignment,{presses:{right:{keys:["P","7"]},towards:{keys:["A","8"]},left:{keys:["O","6"]},away:{keys:["Q","9"]},jump:{keys:[" ","M","N","B","Alt"]},carry:{keys:[" ","Enter","L","K","J"]},fire:{keys:["Shift","Z","X","C","V"]},swop:{keys:["S","D","F","G"]},hold:{keys:["H"]}}}),description:"closely matches zx spectrum keys"},Lg={inputAssignment:Ze(Ke,go.inputAssignment,{presses:{carry:{keys:["F3","F5"]},fire:{keys:[" "]},jump:{keys:["F5"]},swop:{keys:["F1"]},hold:{keys:["H"]}}}),description:"closely matches Amiga version keys - heavy on the F-keys"},Hg={inputAssignment:Ze(Ke,go.inputAssignment,{presses:{right:{keys:["P","Numpad6"]},towards:{keys:["A","Numpad5"]},left:{keys:["O","Numpad8"]},away:{keys:["Q","Numpad9"]},jump:{keys:[" ","`","\\","Numpad0","Numpad-"]},carry:{keys:["Shift","`","\\","Numpad1","Numpad-"]},fire:{keys:["D","NumpadEnter"]},swop:{keys:["Enter","S","Numpad+"]},hold:{keys:["F8","H","Numpad."]}}}),description:"Default combined key and joystick/gamepad assignment, should work on most setups"},Gg={inputAssignment:Ze(Ke,go.inputAssignment,{presses:{right:{keys:["D"]},towards:{keys:["S"]},left:{keys:["A"]},away:{keys:["W"]},jump:{keys:[" ","F","P"]},carry:{keys:["Shift","F","I","P"]},fire:{keys:["E","O","Control"]},swop:{keys:["Q"]},hold:{keys:["H"]}}}),description:"Modern, minimalist WASD key layout"},Wg={inputAssignment:Ze(Ke,go.inputAssignment,{presses:{right:{keys:[Lt.dPadRight]},towards:{keys:[Lt.dPadDown]},left:{keys:[Lt.dPadLeft]},away:{keys:[Lt.dPadUp]},jump:{keys:[Lt.a,Lt.y]},carry:{keys:[Lt.b,Lt.y]},fire:{keys:[Lt.x]},swop:{keys:[Lt.rb]},hold:{keys:[Lt.start]},menu_openOrExit:{keys:[Lt.select]}}}),description:"8bitdo controllers in keyboard mode (identifies to OS as a keyboard). They work as controllers even on phones that don’t support controllers"},Bl=e=>({presses:{right:{keys:[e.directions.right]},towards:{keys:[e.directions.down]},left:{keys:[e.directions.left]},away:{keys:[e.directions.up]},jump:{keys:[e.buttons[0],e.buttons[3]]},carry:{keys:[e.buttons[1],e.buttons[3]]},fire:{keys:[e.buttons[2]]},swop:{keys:[e.start]},hold:{keys:[e.coin]},menu_openOrExit:{keys:[e.buttons[2]]}}}),Ug={inputAssignment:Ze(Ai,Ke,{presses:{menu_openOrExit:{keys:["`","Tab"]}}},Bl(Fg),Bl(Og)),description:"MAME key mappings. For arcade-style control panels"},Jo={default:Hg,"zx spectrum":Ng,amiga:Lg,mame:Ug,wasd:Gg,"🕹 8bitdo keyboard mode":Wg,"🕹 joystick":go},sr=()=>lt(e=>{const{upscale:{cssUpscale:t,gameEngineUpscale:o}}=e;return t*o}),Jv=e=>e.openMenus.length>0,Vd=()=>lt(e=>e.cheatsOn),qd=e=>e.assigningInput!==void 0,Yd=()=>lt(qd),Vg=e=>{for(const[t,o]of Ye(jd(Jo)))if(Dg(o.inputAssignment,e.userSettings.inputAssignment))return t},qg=e=>e.userSettings.showFps,Gi=()=>lt(e=>e.gameRunning),Yg=()=>lt(e=>e.userSettings.displaySettings.colourise),t3=e=>e.planetsLiberated.egyptus&&e.planetsLiberated.bookworld&&e.planetsLiberated.penitentiary&&e.planetsLiberated.safari,Ii=()=>lt(e=>e.userSettings.screenRelativeControl),Sl=()=>lt(e=>e.userSettings.analogueControl),Xg=e=>Sn(Ye(Md(e.planetsLiberated)).filter(Boolean)),Pn=({children:e,scaleFactor:t})=>{const o=sr();return u.jsx("div",{className:"contents set-spritesheet-vars",style:{"--scale":t??o,"--block":`${(t??o)*8}px`},children:e})},Xd=L.createContext(null),Kg=({gameApi:e,children:t})=>u.jsx(Xd,{value:e,children:t}),e3=()=>{const e=L.useContext(Xd);if(e===null)throw new Error("useGameApi must be used within a GameApiProvider");if(e===void 0)throw new Error("useGameApi must be called once we have a GameApi");return e};function zt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Zg=typeof Symbol=="function"&&Symbol.observable||"@@observable",Al=Zg,on=()=>Math.random().toString(36).substring(7).split("").join("."),Qg={INIT:`@@redux/INIT${on()}`,REPLACE:`@@redux/REPLACE${on()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${on()}`},Ti=Qg;function nr(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function rr(e,t,o){if(typeof e!="function")throw new Error(zt(2));if(typeof t=="function"&&typeof o=="function"||typeof o=="function"&&typeof arguments[3]=="function")throw new Error(zt(0));if(typeof t=="function"&&typeof o>"u"&&(o=t,t=void 0),typeof o<"u"){if(typeof o!="function")throw new Error(zt(1));return o(rr)(e,t)}let i=e,s=t,n=new Map,r=n,a=0,l=!1;function c(){r===n&&(r=new Map,n.forEach((f,k)=>{r.set(k,f)}))}function d(){if(l)throw new Error(zt(3));return s}function p(f){if(typeof f!="function")throw new Error(zt(4));if(l)throw new Error(zt(5));let k=!0;c();const w=a++;return r.set(w,f),function(){if(k){if(l)throw new Error(zt(6));k=!1,c(),r.delete(w),n=null}}}function h(f){if(!nr(f))throw new Error(zt(7));if(typeof f.type>"u")throw new Error(zt(8));if(typeof f.type!="string")throw new Error(zt(17));if(l)throw new Error(zt(9));try{l=!0,s=i(s,f)}finally{l=!1}return(n=r).forEach(w=>{w()}),f}function y(f){if(typeof f!="function")throw new Error(zt(10));i=f,h({type:Ti.REPLACE})}function m(){const f=p;return{subscribe(k){if(typeof k!="object"||k===null)throw new Error(zt(11));function w(){const P=k;P.next&&P.next(d())}return w(),{unsubscribe:f(w)}},[Al](){return this}}}return h({type:Ti.INIT}),{dispatch:h,subscribe:p,getState:d,replaceReducer:y,[Al]:m}}function Jg(e){Object.keys(e).forEach(t=>{const o=e[t];if(typeof o(void 0,{type:Ti.INIT})>"u")throw new Error(zt(12));if(typeof o(void 0,{type:Ti.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(zt(13))})}function t0(e){const t=Object.keys(e),o={};for(let n=0;n<t.length;n++){const r=t[n];typeof e[r]=="function"&&(o[r]=e[r])}const i=Object.keys(o);let s;try{Jg(o)}catch(n){s=n}return function(r={},a){if(s)throw s;let l=!1;const c={};for(let d=0;d<i.length;d++){const p=i[d],h=o[p],y=r[p],m=h(y,a);if(typeof m>"u")throw a&&a.type,new Error(zt(14));c[p]=m,l=l||m!==y}return l=l||i.length!==Object.keys(r).length,l?c:r}}function ji(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,o)=>(...i)=>t(o(...i)))}function e0(...e){return t=>(o,i)=>{const s=t(o,i);let n=()=>{throw new Error(zt(15))};const r={getState:s.getState,dispatch:(l,...c)=>n(l,...c)},a=e.map(l=>l(r));return n=ji(...a)(s.dispatch),{...s,dispatch:n}}}function o0(e){return nr(e)&&"type"in e&&typeof e.type=="string"}var Kd=Symbol.for("immer-nothing"),Pl=Symbol.for("immer-draftable"),Ot=Symbol.for("immer-state");function Qt(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var co=Object.getPrototypeOf;function Ue(e){return!!e&&!!e[Ot]}function ve(e){return e?Zd(e)||Array.isArray(e)||!!e[Pl]||!!e.constructor?.[Pl]||Ui(e)||Vi(e):!1}var i0=Object.prototype.constructor.toString();function Zd(e){if(!e||typeof e!="object")return!1;const t=co(e);if(t===null)return!0;const o=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return o===Object?!0:typeof o=="function"&&Function.toString.call(o)===i0}function Di(e,t){Wi(e)===0?Reflect.ownKeys(e).forEach(o=>{t(o,e[o],e)}):e.forEach((o,i)=>t(i,o,e))}function Wi(e){const t=e[Ot];return t?t.type_:Array.isArray(e)?1:Ui(e)?2:Vi(e)?3:0}function Rn(e,t){return Wi(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Qd(e,t,o){const i=Wi(e);i===2?e.set(t,o):i===3?e.add(o):e[t]=o}function s0(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Ui(e){return e instanceof Map}function Vi(e){return e instanceof Set}function Oe(e){return e.copy_||e.base_}function Cn(e,t){if(Ui(e))return new Map(e);if(Vi(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const o=Zd(e);if(t===!0||t==="class_only"&&!o){const i=Object.getOwnPropertyDescriptors(e);delete i[Ot];let s=Reflect.ownKeys(i);for(let n=0;n<s.length;n++){const r=s[n],a=i[r];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(i[r]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[r]})}return Object.create(co(e),i)}else{const i=co(e);if(i!==null&&o)return{...e};const s=Object.create(i);return Object.assign(s,e)}}function ar(e,t=!1){return qi(e)||Ue(e)||!ve(e)||(Wi(e)>1&&(e.set=e.add=e.clear=e.delete=n0),Object.freeze(e),t&&Object.entries(e).forEach(([o,i])=>ar(i,!0))),e}function n0(){Qt(2)}function qi(e){return Object.isFrozen(e)}var r0={};function Ve(e){const t=r0[e];return t||Qt(0,e),t}var Vo;function Jd(){return Vo}function a0(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Rl(e,t){t&&(Ve("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Mn(e){En(e),e.drafts_.forEach(l0),e.drafts_=null}function En(e){e===Vo&&(Vo=e.parent_)}function Cl(e){return Vo=a0(Vo,e)}function l0(e){const t=e[Ot];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Ml(e,t){t.unfinalizedDrafts_=t.drafts_.length;const o=t.drafts_[0];return e!==void 0&&e!==o?(o[Ot].modified_&&(Mn(t),Qt(4)),ve(e)&&(e=$i(t,e),t.parent_||Fi(t,e)),t.patches_&&Ve("Patches").generateReplacementPatches_(o[Ot].base_,e,t.patches_,t.inversePatches_)):e=$i(t,o,[]),Mn(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Kd?e:void 0}function $i(e,t,o){if(qi(t))return t;const i=t[Ot];if(!i)return Di(t,(s,n)=>El(e,i,t,s,n,o)),t;if(i.scope_!==e)return t;if(!i.modified_)return Fi(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let n=s,r=!1;i.type_===3&&(n=new Set(s),s.clear(),r=!0),Di(n,(a,l)=>El(e,i,s,a,l,o,r)),Fi(e,s,!1),o&&e.patches_&&Ve("Patches").generatePatches_(i,o,e.patches_,e.inversePatches_)}return i.copy_}function El(e,t,o,i,s,n,r){if(Ue(s)){const a=n&&t&&t.type_!==3&&!Rn(t.assigned_,i)?n.concat(i):void 0,l=$i(e,s,a);if(Qd(o,i,l),Ue(l))e.canAutoFreeze_=!1;else return}else r&&o.add(s);if(ve(s)&&!qi(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;$i(e,s),(!t||!t.scope_.parent_)&&typeof i!="symbol"&&Object.prototype.propertyIsEnumerable.call(o,i)&&Fi(e,s)}}function Fi(e,t,o=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&ar(t,o)}function c0(e,t){const o=Array.isArray(e),i={type_:o?1:0,scope_:t?t.scope_:Jd(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=i,n=lr;o&&(s=[i],n=qo);const{revoke:r,proxy:a}=Proxy.revocable(s,n);return i.draft_=a,i.revoke_=r,a}var lr={get(e,t){if(t===Ot)return e;const o=Oe(e);if(!Rn(o,t))return d0(e,o,t);const i=o[t];return e.finalized_||!ve(i)?i:i===sn(e.base_,t)?(nn(e),e.copy_[t]=Tn(i,e)):i},has(e,t){return t in Oe(e)},ownKeys(e){return Reflect.ownKeys(Oe(e))},set(e,t,o){const i=tp(Oe(e),t);if(i?.set)return i.set.call(e.draft_,o),!0;if(!e.modified_){const s=sn(Oe(e),t),n=s?.[Ot];if(n&&n.base_===o)return e.copy_[t]=o,e.assigned_[t]=!1,!0;if(s0(o,s)&&(o!==void 0||Rn(e.base_,t)))return!0;nn(e),In(e)}return e.copy_[t]===o&&(o!==void 0||t in e.copy_)||Number.isNaN(o)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=o,e.assigned_[t]=!0),!0},deleteProperty(e,t){return sn(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,nn(e),In(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const o=Oe(e),i=Reflect.getOwnPropertyDescriptor(o,t);return i&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:i.enumerable,value:o[t]}},defineProperty(){Qt(11)},getPrototypeOf(e){return co(e.base_)},setPrototypeOf(){Qt(12)}},qo={};Di(lr,(e,t)=>{qo[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});qo.deleteProperty=function(e,t){return qo.set.call(this,e,t,void 0)};qo.set=function(e,t,o){return lr.set.call(this,e[0],t,o,e[0])};function sn(e,t){const o=e[Ot];return(o?Oe(o):e)[t]}function d0(e,t,o){const i=tp(t,o);return i?"value"in i?i.value:i.get?.call(e.draft_):void 0}function tp(e,t){if(!(t in e))return;let o=co(e);for(;o;){const i=Object.getOwnPropertyDescriptor(o,t);if(i)return i;o=co(o)}}function In(e){e.modified_||(e.modified_=!0,e.parent_&&In(e.parent_))}function nn(e){e.copy_||(e.copy_=Cn(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var p0=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,o,i)=>{if(typeof t=="function"&&typeof o!="function"){const n=o;o=t;const r=this;return function(l=n,...c){return r.produce(l,d=>o.call(this,d,...c))}}typeof o!="function"&&Qt(6),i!==void 0&&typeof i!="function"&&Qt(7);let s;if(ve(t)){const n=Cl(this),r=Tn(t,void 0);let a=!0;try{s=o(r),a=!1}finally{a?Mn(n):En(n)}return Rl(n,i),Ml(s,n)}else if(!t||typeof t!="object"){if(s=o(t),s===void 0&&(s=t),s===Kd&&(s=void 0),this.autoFreeze_&&ar(s,!0),i){const n=[],r=[];Ve("Patches").generateReplacementPatches_(t,s,n,r),i(n,r)}return s}else Qt(1,t)},this.produceWithPatches=(t,o)=>{if(typeof t=="function")return(r,...a)=>this.produceWithPatches(r,l=>t(l,...a));let i,s;return[this.produce(t,o,(r,a)=>{i=r,s=a}),i,s]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){ve(e)||Qt(8),Ue(e)&&(e=y0(e));const t=Cl(this),o=Tn(e,void 0);return o[Ot].isManual_=!0,En(t),o}finishDraft(e,t){const o=e&&e[Ot];(!o||!o.isManual_)&&Qt(9);const{scope_:i}=o;return Rl(i,t),Ml(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let o;for(o=t.length-1;o>=0;o--){const s=t[o];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}o>-1&&(t=t.slice(o+1));const i=Ve("Patches").applyPatches_;return Ue(e)?i(e,t):this.produce(e,s=>i(s,t))}};function Tn(e,t){const o=Ui(e)?Ve("MapSet").proxyMap_(e,t):Vi(e)?Ve("MapSet").proxySet_(e,t):c0(e,t);return(t?t.scope_:Jd()).drafts_.push(o),o}function y0(e){return Ue(e)||Qt(10,e),ep(e)}function ep(e){if(!ve(e)||qi(e))return e;const t=e[Ot];let o;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,o=Cn(e,t.scope_.immer_.useStrictShallowCopy_)}else o=Cn(e,!0);return Di(o,(i,s)=>{Qd(o,i,ep(s))}),t&&(t.finalized_=!1),o}var Nt=new p0,op=Nt.produce;Nt.produceWithPatches.bind(Nt);Nt.setAutoFreeze.bind(Nt);Nt.setUseStrictShallowCopy.bind(Nt);Nt.applyPatches.bind(Nt);Nt.createDraft.bind(Nt);Nt.finishDraft.bind(Nt);function ip(e){return({dispatch:o,getState:i})=>s=>n=>typeof n=="function"?n(o,i,e):s(n)}var h0=ip(),u0=ip,f0=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ji:ji.apply(null,arguments)};function Il(e,t){function o(...i){if(t){let s=t(...i);if(!s)throw new Error(ze(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:i[0]}}return o.toString=()=>`${e}`,o.type=e,o.match=i=>o0(i)&&i.type===e,o}var sp=class jo extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,jo.prototype)}static get[Symbol.species](){return jo}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new jo(...t[0].concat(this)):new jo(...t.concat(this))}};function Tl(e){return ve(e)?op(e,()=>{}):e}function jl(e,t,o){return e.has(t)?e.get(t):e.set(t,o(t)).get(t)}function m0(e){return typeof e=="boolean"}var g0=()=>function(t){const{thunk:o=!0,immutableCheck:i=!0,serializableCheck:s=!0,actionCreatorCheck:n=!0}=t??{};let r=new sp;return o&&(m0(o)?r.push(h0):r.push(u0(o.extraArgument))),r},x0="RTK_autoBatch",Dl=e=>t=>{setTimeout(t,e)},b0=(e={type:"raf"})=>t=>(...o)=>{const i=t(...o);let s=!0,n=!1,r=!1;const a=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Dl(10):e.type==="callback"?e.queueNotification:Dl(e.timeout),c=()=>{r=!1,n&&(n=!1,a.forEach(d=>d()))};return Object.assign({},i,{subscribe(d){const p=()=>s&&d(),h=i.subscribe(p);return a.add(d),()=>{h(),a.delete(d)}},dispatch(d){try{return s=!d?.meta?.[x0],n=!s,n&&(r||(r=!0,l(c))),i.dispatch(d)}finally{s=!0}}})},w0=e=>function(o){const{autoBatch:i=!0}=o??{};let s=new sp(e);return i&&s.push(b0(typeof i=="object"?i:void 0)),s};function k0(e){const t=g0(),{reducer:o=void 0,middleware:i,devTools:s=!0,preloadedState:n=void 0,enhancers:r=void 0}=e;let a;if(typeof o=="function")a=o;else if(nr(o))a=t0(o);else throw new Error(ze(1));let l;typeof i=="function"?l=i(t):l=t();let c=ji;s&&(c=f0({trace:!1,...typeof s=="object"&&s}));const d=e0(...l),p=w0(d);let h=typeof r=="function"?r(p):p();const y=c(...h);return rr(a,n,y)}function np(e){const t={},o=[];let i;const s={addCase(n,r){const a=typeof n=="string"?n:n.type;if(!a)throw new Error(ze(28));if(a in t)throw new Error(ze(29));return t[a]=r,s},addMatcher(n,r){return o.push({matcher:n,reducer:r}),s},addDefaultCase(n){return i=n,s}};return e(s),[t,o,i]}function z0(e){return typeof e=="function"}function v0(e,t){let[o,i,s]=np(t),n;if(z0(e))n=()=>Tl(e());else{const a=Tl(e);n=()=>a}function r(a=n(),l){let c=[o[l.type],...i.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return c.filter(d=>!!d).length===0&&(c=[s]),c.reduce((d,p)=>{if(p)if(Ue(d)){const y=p(d,l);return y===void 0?d:y}else{if(ve(d))return op(d,h=>p(h,l));{const h=p(d,l);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},a)}return r.getInitialState=n,r}var _0=Symbol.for("rtk-slice-createasyncthunk");function B0(e,t){return`${e}/${t}`}function S0({creators:e}={}){const t=e?.asyncThunk?.[_0];return function(i){const{name:s,reducerPath:n=s}=i;if(!s)throw new Error(ze(11));const r=(typeof i.reducers=="function"?i.reducers(R0()):i.reducers)||{},a=Object.keys(r),l={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(w,B){const P=typeof w=="string"?w:w.type;if(!P)throw new Error(ze(12));if(P in l.sliceCaseReducersByType)throw new Error(ze(13));return l.sliceCaseReducersByType[P]=B,c},addMatcher(w,B){return l.sliceMatchers.push({matcher:w,reducer:B}),c},exposeAction(w,B){return l.actionCreators[w]=B,c},exposeCaseReducer(w,B){return l.sliceCaseReducersByName[w]=B,c}};a.forEach(w=>{const B=r[w],P={reducerName:w,type:B0(s,w),createNotation:typeof i.reducers=="function"};M0(B)?I0(P,B,c,t):C0(P,B,c)});function d(){const[w={},B=[],P=void 0]=typeof i.extraReducers=="function"?np(i.extraReducers):[i.extraReducers],E={...w,...l.sliceCaseReducersByType};return v0(i.initialState,R=>{for(let M in E)R.addCase(M,E[M]);for(let M of l.sliceMatchers)R.addMatcher(M.matcher,M.reducer);for(let M of B)R.addMatcher(M.matcher,M.reducer);P&&R.addDefaultCase(P)})}const p=w=>w,h=new Map;let y;function m(w,B){return y||(y=d()),y(w,B)}function g(){return y||(y=d()),y.getInitialState()}function f(w,B=!1){function P(R){let M=R[w];return typeof M>"u"&&B&&(M=g()),M}function E(R=p){const M=jl(h,B,()=>new WeakMap);return jl(M,R,()=>{const D={};for(const[$,T]of Object.entries(i.selectors??{}))D[$]=A0(T,R,g,B);return D})}return{reducerPath:w,getSelectors:E,get selectors(){return E(P)},selectSlice:P}}const k={name:s,reducer:m,actions:l.actionCreators,caseReducers:l.sliceCaseReducersByName,getInitialState:g,...f(n),injectInto(w,{reducerPath:B,...P}={}){const E=B??n;return w.inject({reducerPath:E,reducer:m},P),{...k,...f(E,!0)}}};return k}}function A0(e,t,o,i){function s(n,...r){let a=t(n);return typeof a>"u"&&i&&(a=o()),e(a,...r)}return s.unwrapped=e,s}var P0=S0();function R0(){function e(t,o){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...o}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...o){return t(...o)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,o){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:o}},asyncThunk:e}}function C0({type:e,reducerName:t,createNotation:o},i,s){let n,r;if("reducer"in i){if(o&&!E0(i))throw new Error(ze(17));n=i.reducer,r=i.prepare}else n=i;s.addCase(e,n).exposeCaseReducer(t,n).exposeAction(t,r?Il(e,r):Il(e))}function M0(e){return e._reducerDefinitionType==="asyncThunk"}function E0(e){return e._reducerDefinitionType==="reducerWithPrepare"}function I0({type:e,reducerName:t},o,i,s){if(!s)throw new Error(ze(18));const{payloadCreator:n,fulfilled:r,pending:a,rejected:l,settled:c,options:d}=o,p=s(e,n,d);i.exposeAction(t,p),r&&i.addCase(p.fulfilled,r),a&&i.addCase(p.pending,a),l&&i.addCase(p.rejected,l),c&&i.addMatcher(p.settled,c),i.exposeCaseReducer(t,{fulfilled:r||xi,pending:a||xi,rejected:l||xi,settled:c||xi})}function xi(){}function ze(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const T0=4,rp=(e,t,o)=>{const i=Bd(e,o),s=Math.floor(Math.min(i.x/t.x,i.y/t.y)),n={x:Math.floor(i.x/s),y:Math.floor(i.y/s)},r=Math.min(T0,s),a=s/r/o,l={x:Math.ceil(e.x/a),y:Math.ceil(e.y/a)};return{gameEngineUpscale:r,cssUpscale:a,gameEngineScreenSize:n,canvasSize:l}},j0=(e,t)=>t.split(".").reduce((o,i)=>o[i],e),D0=(e,t,o)=>{const i=t.split(".");let s=e;for(let n=0;n<i.length-1;n++){const r=i[n];s=s[r]}s[i[i.length-1]]=o},ap=typeof globalThis.window<"u",rn=ap?new URLSearchParams(window.location.search).has("cheats"):!1,lp={blacktooth:!1,bookworld:!1,egyptus:!1,penitentiary:!1,safari:!1},cp={userSettings:{inputAssignment:Jo.default.inputAssignment,infiniteLivesPoke:!1,displaySettings:{showBoundingBoxes:"none",showShadowMasks:!1,crtFilter:!1,colourise:!0,emulatedResolution:Qs},showFps:!1,analogueControl:!0,screenRelativeControl:!1},upscale:rp(ap?{x:globalThis.window.innerWidth,y:globalThis.window.innerHeight}:Qs,Qs,1),planetsLiberated:lp,roomsExplored:{},scrollsRead:{},gameRunning:rn,openMenus:rn?[]:[{menuId:"mainMenu",scrollableSelection:!1}],assigningInput:void 0,cheatsOn:rn},dp=P0({name:"gameMenus",initialState:cp,reducers:{setUpscale(e,{payload:t}){e.upscale=t},setEmulatedResolution(e,{payload:t}){e.userSettings.displaySettings.emulatedResolution=t},scrollRead(e,{payload:t}){e.scrollsRead[t]=!0,e.openMenus=[{menuId:`markdown/${t}`,scrollableSelection:!1}]},inputAddedDuringAssignment(e,{payload:t}){if(e.assigningInput===void 0)throw new Error("reducer called while not assigning keys");const o=(r,a)=>{r.includes(a)||r.push(a)},{presses:i,axes:s,action:n}=e.assigningInput;switch(t.type){case"key":o(i.keys,t.input);break;case"gamepadButtons":o(i.gamepadButtons,t.input);break;case"gamepadAxes":{Ko.includes(n)&&o(s,t.input);break}}},doneAssigningInput(e){if(e.assigningInput===void 0)throw new Error("illegal action for state");const{action:t,presses:o,axes:i}=e.assigningInput;o.keys.length+o.gamepadButtons.length+i.length>0&&(e.userSettings.inputAssignment.presses[t]=o,(t==="left"||t==="right")&&(e.userSettings.inputAssignment.axes.x=i),(t==="towards"||t==="away")&&(e.userSettings.inputAssignment.axes.y=i)),e.assigningInput=void 0},menuOpenOrExitPressed(e){if(e.openMenus.length>0){if(e.openMenus.length===1&&!e.gameRunning)return;const[,...t]=e.openMenus;e.openMenus=t}else e.openMenus=[{menuId:"mainMenu",scrollableSelection:!1}]},goToSubmenu(e,{payload:t}){e.openMenus=[{menuId:t,scrollableSelection:!1},...e.openMenus]},gameStarted(e){e.gameRunning?e.openMenus=[]:(e.openMenus=[{menuId:"crowns",scrollableSelection:!1}],e.gameRunning=!0,e.planetsLiberated=lp,e.roomsExplored={},e.scrollsRead={})},backToParentMenu(e){const[,...t]=e.openMenus;e.openMenus=t},assignInputStart(e,{payload:t}){e.assigningInput={action:t,presses:{gamepadButtons:[],keys:[]},axes:[]}},keyAssignmentPresetChosen(e,{payload:t}){const[,...o]=e.openMenus;e.openMenus=o,e.userSettings.inputAssignment=Jo[t].inputAssignment},setFocussedMenuItemId(e,{payload:{focussedItemId:t,scrollableSelection:o}}){const[i]=e.openMenus;i.focussedItemId=t,i.scrollableSelection=o},holdPressed(e,{payload:t}){e.openMenus.length>0?e.openMenus[0]?.menuId==="hold"&&t!=="hold"&&(e.openMenus=[]):t!=="unhold"&&(e.openMenus=[{menuId:"hold",scrollableSelection:!1}])},setShowBoundingBoxes(e,{payload:t}){e.userSettings.displaySettings.showBoundingBoxes=t},setShowShadowMasks(e,{payload:t}){e.userSettings.displaySettings.showShadowMasks=t},toggleBoolean(e,{payload:t}){D0(e,t,!j0(e,t))},crownCollected(e,{payload:t}){e.planetsLiberated[t]=!0,Object.values(e.planetsLiberated).every(i=>i)?e.openMenus=[{menuId:"proclaimEmperor",scrollableSelection:!1},{menuId:"crowns",scrollableSelection:!1}]:e.openMenus=[{menuId:"crowns",scrollableSelection:!1}]},roomExplored(e,{payload:t}){e.roomsExplored[t]=!0},gameOver(e){e.gameRunning=!1,e.openMenus=[{menuId:"gameOver",scrollableSelection:!1},{menuId:"mainMenu",scrollableSelection:!0}]}}}),{assignInputStart:se,backToParentMenu:ue,crownCollected:o3,doneAssigningInput:$0,gameOver:F0,gameStarted:O0,goToSubmenu:_e,holdPressed:N0,inputAddedDuringAssignment:L0,keyAssignmentPresetChosen:H0,menuOpenOrExitPressed:$l,setEmulatedResolution:i3,setFocussedMenuItemId:cr,setShowBoundingBoxes:s3,setShowShadowMasks:n3,setUpscale:G0,scrollRead:r3,toggleBoolean:Se,roomExplored:a3}=dp.actions,W0=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","Å","Ä","Ö","0","1","2","3","4","5","6","7","8","9","!","@","#","$","%","^","&","*","(",")","-","_","=","+","[","]","{","}",";",":","'",'"',",",".","/","<",">","?","\\","|"," ","Enter","Shift","Control","Alt","Meta","`","~","Tab","Backspace","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Numpad0","Numpad1","Numpad2","Numpad3","Numpad4","Numpad5","Numpad6","Numpad7","Numpad8","Numpad9","Numpad+","Numpad-","Numpad*","Numpad/","Numpad.","NumpadEnter","Numpad=","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","Escape","§"],U0=e=>W0.includes(e);let V0=1;const q0=()=>V0++,Y0=3,Fl=({key:e,location:t,repeat:o})=>{if(o)return;const i=e.length===1?e.toUpperCase():e,s=t===Y0?`Numpad${i}`:i;if(U0(s))return s;console.warn("unrecognised key",e)},X0=()=>new Map,K0=e=>{const t=s=>{const n=Fl(s);n!==void 0&&e.set(n,q0())},o=s=>{const n=Fl(s);n!==void 0&&e.delete(n)},i=()=>{e.clear()};return window.addEventListener("keydown",t,!1),window.addEventListener("keyup",o,!1),window.addEventListener("blur",i,!1),()=>{window.removeEventListener("keydown",t,!1),window.removeEventListener("keyup",o,!1),window.removeEventListener("blur",i,!1)}};var _o={},bi={},wi={},Ol;function Z0(){if(Ol)return wi;Ol=1,wi.__esModule=!0,wi.default=s;function e(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(a){return typeof a}:e=function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e(n)}function t(){}var o={getItem:t,setItem:t,removeItem:t};function i(n){if((typeof self>"u"?"undefined":e(self))!=="object"||!(n in self))return!1;try{var r=self[n],a="redux-persist ".concat(n," test");r.setItem(a,"test"),r.getItem(a),r.removeItem(a)}catch{return!1}return!0}function s(n){var r="".concat(n,"Storage");return i(r)?self[r]:o}return wi}var Nl;function Q0(){if(Nl)return bi;Nl=1,bi.__esModule=!0,bi.default=o;var e=t(Z0());function t(i){return i&&i.__esModule?i:{default:i}}function o(i){var s=(0,e.default)(i);return{getItem:function(r){return new Promise(function(a,l){a(s.getItem(r))})},setItem:function(r,a){return new Promise(function(l,c){l(s.setItem(r,a))})},removeItem:function(r){return new Promise(function(a,l){a(s.removeItem(r))})}}}return bi}var Ll;function J0(){if(Ll)return _o;Ll=1,_o.__esModule=!0,_o.default=void 0;var e=t(Q0());function t(i){return i&&i.__esModule?i:{default:i}}var o=(0,e.default)("local");return _o.default=o,_o}var tx=J0();const ex=qt(tx);var dr="persist:",pr="persist/FLUSH",Yi="persist/REHYDRATE",yr="persist/PAUSE",hr="persist/PERSIST",ur="persist/PURGE",fr="persist/REGISTER",pp=-1;function Pi(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Pi=function(o){return typeof o}:Pi=function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},Pi(e)}function Hl(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),o.push.apply(o,i)}return o}function ox(e){for(var t=1;t<arguments.length;t++){var o=arguments[t]!=null?arguments[t]:{};t%2?Hl(o,!0).forEach(function(i){ix(e,i,o[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):Hl(o).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(o,i))})}return e}function ix(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function sx(e,t,o,i){i.debug;var s=ox({},o);return e&&Pi(e)==="object"&&Object.keys(e).forEach(function(n){n!=="_persist"&&t[n]===o[n]&&(s[n]=e[n])}),s}function nx(e){var t=e.blacklist||null,o=e.whitelist||null,i=e.transforms||[],s=e.throttle||0,n="".concat(e.keyPrefix!==void 0?e.keyPrefix:dr).concat(e.key),r=e.storage,a;e.serialize===!1?a=function(E){return E}:typeof e.serialize=="function"?a=e.serialize:a=rx;var l=e.writeFailHandler||null,c={},d={},p=[],h=null,y=null,m=function(E){Object.keys(E).forEach(function(R){k(R)&&c[R]!==E[R]&&p.indexOf(R)===-1&&p.push(R)}),Object.keys(c).forEach(function(R){E[R]===void 0&&k(R)&&p.indexOf(R)===-1&&c[R]!==void 0&&p.push(R)}),h===null&&(h=setInterval(g,s)),c=E};function g(){if(p.length===0){h&&clearInterval(h),h=null;return}var P=p.shift(),E=i.reduce(function(R,M){return M.in(R,P,c)},c[P]);if(E!==void 0)try{d[P]=a(E)}catch(R){console.error("redux-persist/createPersistoid: error serializing state",R)}else delete d[P];p.length===0&&f()}function f(){Object.keys(d).forEach(function(P){c[P]===void 0&&delete d[P]}),y=r.setItem(n,a(d)).catch(w)}function k(P){return!(o&&o.indexOf(P)===-1&&P!=="_persist"||t&&t.indexOf(P)!==-1)}function w(P){l&&l(P)}var B=function(){for(;p.length!==0;)g();return y||Promise.resolve()};return{update:m,flush:B}}function rx(e){return JSON.stringify(e)}function ax(e){var t=e.transforms||[],o="".concat(e.keyPrefix!==void 0?e.keyPrefix:dr).concat(e.key),i=e.storage;e.debug;var s;return e.deserialize===!1?s=function(r){return r}:typeof e.deserialize=="function"?s=e.deserialize:s=lx,i.getItem(o).then(function(n){if(n)try{var r={},a=s(n);return Object.keys(a).forEach(function(l){r[l]=t.reduceRight(function(c,d){return d.out(c,l,a)},s(a[l]))}),r}catch(l){throw l}else return})}function lx(e){return JSON.parse(e)}function cx(e){var t=e.storage,o="".concat(e.keyPrefix!==void 0?e.keyPrefix:dr).concat(e.key);return t.removeItem(o,dx)}function dx(e){}function Gl(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),o.push.apply(o,i)}return o}function xe(e){for(var t=1;t<arguments.length;t++){var o=arguments[t]!=null?arguments[t]:{};t%2?Gl(o,!0).forEach(function(i){px(e,i,o[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):Gl(o).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(o,i))})}return e}function px(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function yx(e,t){if(e==null)return{};var o=hx(e,t),i,s;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(o[i]=e[i])}return o}function hx(e,t){if(e==null)return{};var o={},i=Object.keys(e),s,n;for(n=0;n<i.length;n++)s=i[n],!(t.indexOf(s)>=0)&&(o[s]=e[s]);return o}var ux=5e3;function fx(e,t){var o=e.version!==void 0?e.version:pp;e.debug;var i=e.stateReconciler===void 0?sx:e.stateReconciler,s=e.getStoredState||ax,n=e.timeout!==void 0?e.timeout:ux,r=null,a=!1,l=!0,c=function(p){return p._persist.rehydrated&&r&&!l&&r.update(p),p};return function(d,p){var h=d||{},y=h._persist,m=yx(h,["_persist"]),g=m;if(p.type===hr){var f=!1,k=function(D,$){f||(p.rehydrate(e.key,D,$),f=!0)};if(n&&setTimeout(function(){!f&&k(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(e.key,'"')))},n),l=!1,r||(r=nx(e)),y)return xe({},t(g,p),{_persist:y});if(typeof p.rehydrate!="function"||typeof p.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return p.register(e.key),s(e).then(function(M){var D=e.migrate||function($,T){return Promise.resolve($)};D(M,o).then(function($){k($)},function($){k(void 0,$)})},function(M){k(void 0,M)}),xe({},t(g,p),{_persist:{version:o,rehydrated:!1}})}else{if(p.type===ur)return a=!0,p.result(cx(e)),xe({},t(g,p),{_persist:y});if(p.type===pr)return p.result(r&&r.flush()),xe({},t(g,p),{_persist:y});if(p.type===yr)l=!0;else if(p.type===Yi){if(a)return xe({},g,{_persist:xe({},y,{rehydrated:!0})});if(p.key===e.key){var w=t(g,p),B=p.payload,P=i!==!1&&B!==void 0?i(B,d,w,e):w,E=xe({},P,{_persist:xe({},y,{rehydrated:!0})});return c(E)}}}if(!y)return t(d,p);var R=t(g,p);return R===g?d:c(xe({},R,{_persist:y}))}}function Wl(e){return xx(e)||gx(e)||mx()}function mx(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function gx(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function xx(e){if(Array.isArray(e)){for(var t=0,o=new Array(e.length);t<e.length;t++)o[t]=e[t];return o}}function Ul(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),o.push.apply(o,i)}return o}function jn(e){for(var t=1;t<arguments.length;t++){var o=arguments[t]!=null?arguments[t]:{};t%2?Ul(o,!0).forEach(function(i){bx(e,i,o[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):Ul(o).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(o,i))})}return e}function bx(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var yp={registry:[],bootstrapped:!1},wx=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:yp,o=arguments.length>1?arguments[1]:void 0;switch(o.type){case fr:return jn({},t,{registry:[].concat(Wl(t.registry),[o.key])});case Yi:var i=t.registry.indexOf(o.key),s=Wl(t.registry);return s.splice(i,1),jn({},t,{registry:s,bootstrapped:s.length===0});default:return t}};function kx(e,t,o){var i=rr(wx,yp,void 0),s=function(l){i.dispatch({type:fr,key:l})},n=function(l,c,d){var p={type:Yi,payload:c,err:d,key:l};e.dispatch(p),i.dispatch(p)},r=jn({},i,{purge:function(){var l=[];return e.dispatch({type:ur,result:function(d){l.push(d)}}),Promise.all(l)},flush:function(){var l=[];return e.dispatch({type:pr,result:function(d){l.push(d)}}),Promise.all(l)},pause:function(){e.dispatch({type:yr})},persist:function(){e.dispatch({type:hr,register:s,rehydrate:n})}});return r.persist(),r}function zx(e,t){return function(o,i){if(!o)return Promise.resolve(void 0);var s=o._persist&&o._persist.version!==void 0?o._persist.version:pp;if(s===i||s>i)return Promise.resolve(o);var n=Object.keys(e).map(function(a){return parseInt(a)}).filter(function(a){return i>=a&&a>s}).sort(function(a,l){return a-l});try{var r=n.reduce(function(a,l){return e[l](a)},o);return Promise.resolve(r)}catch(a){return Promise.reject(a)}}}const vx=(e,...t)=>{const o={};for(const i of t)o[i]=e[i];return o},l3=(e,...t)=>{const o={...e};for(const i of t)delete o[i];return o},Ie=e=>{const t=vx(cp,"userSettings");return console.log("migrating state: persisted is:",e,"am reverting to initial (partial) state:",t),t},_x={key:"hohol/gameMenus/userSettings",version:7,migrate:zx({1:Ie,2:Ie,3:Ie,4:Ie,5:Ie,6:Ie,7:Ie}),storage:ex,whitelist:["userSettings"]},Bx=fx(_x,dp.reducer),Mt=k0({reducer:Bx,middleware:e=>e({serializableCheck:{ignoredActions:[pr,Yi,yr,hr,ur,fr]}})});kx(Mt);const be={away:{x:0,y:1,z:0},left:{x:1,y:0,z:0},right:{x:-1,y:0,z:0},towards:{x:0,y:-1,z:0},down:{x:0,y:0,z:-1},up:{x:0,y:0,z:1},awayRight:io({x:1,y:1,z:0}),towardsRight:io({x:1,y:-1,z:0}),towardsLeft:io({x:-1,y:-1,z:0}),awayLeft:io({x:-1,y:1,z:0})},Sx=e=>e.map(t=>t===null?null:{buttons:t.buttons.map(o=>({pressed:o.pressed})),axes:t.axes.map(o=>o)}),Vl=-Math.PI/4,Ax=e=>{const t=Math.cos(Vl),o=Math.sin(Vl);return{x:e.x*t-e.y*o,y:e.x*o+e.y*t,z:0}};io({x:1,y:2,z:0});io({x:-1,y:2,z:0});const Px=(e,t)=>{const{x:o,y:i}=e,s=Math.sqrt(o*o+i*i);if(s===0)return{x:0,y:0};const n=Math.cos(t),r=o/s,a=i/s,l=Math.abs(r),c=Math.abs(a);if(l>c){if(l>=n)return{x:Math.sign(o)*s,y:0}}else if(c>=n)return{x:0,y:Math.sign(i)*s};return e},hp=[],up=new Set;up.add=()=>{throw new Error("emptySet.add")};up.clear=()=>{throw new Error("emptySet.clear")};const c3=Object.freeze({}),Rx=.2,Cx=13*(Math.PI/180),Mx=45,Ex=(e,t)=>!!e.keyboardState.has(t),fp=(e,t)=>{for(const o of e.gamepads)if(!(o===null||o.buttons.length<=t)&&o.buttons[t].pressed)return!0;return!1},Dn=.5,mp=(e,t,o)=>{for(const i of e.gamepads)if(!(i===null||i.axes.length<=t)){if(o===void 0){if(Math.abs(i.axes[t])>Dn)return!0}else if(i.axes[t]*o>Dn)return!0}return!1},ki=(e,t,o=!0)=>{const{inputAssignment:i}=Mt.getState().userSettings,s=i.presses[t];for(const n of s.keys)if(Ex(e,n))return!0;for(const n of s.gamepadButtons)if(fp(e,n))return!0;if(o){const n=Wd(t);if(n!==void 0){const r=i.axes[n.axis];for(const a of r)if(mp(e,a,n.direction))return!0}}return!1};class Ix{constructor(t){this.keyboardStateMap=t}#t=[];#e=Io;actionsHandled=new Set;#i=()=>{let t,o,i,s;switch("tap"){case(t=this.currentActionPress("left")):return be.left;case(o=this.currentActionPress("right")):return be.right;case(i=this.currentActionPress("away")):return be.away;case(s=this.currentActionPress("towards")):return be.towards}const n=(t!=="released"?1:0)+(o!=="released"?1:0)+(i!=="released"?1:0)+(s!=="released"?1:0);if(n>1)return this.#e;if(n===1)switch("hold"){case t:return be.left;case o:return be.right;case i:return be.away;case s:return be.towards}return Io};#s(){const t=this.#t.at(0);if(t===void 0)return Io;function*o(r){for(const a of Ko)ki(r,a,!1)&&(yield be[a])}function*i(r){const{userSettings:{inputAssignment:{axes:{x:a,y:l}}}}=Mt.getState();for(const c of r.gamepads){if(c===null)continue;let d=0,p=0;for(const y of a)c.axes.length<=y||(d-=c.axes[y]);for(const y of l)c.axes.length<=y||(p-=c.axes[y]);const h={x:d,y:p,z:0};Sd(h)>Rx&&(yield h)}}let s=[...o(t)],n;if(s.length===1){const[r]=s,a=[...Ye(this.#t).drop(1).map(l=>[...o(l)])];t:for(const l of a){if(l.length>2)break t;if(l.length===2&&l.some(c=>pm(c,r))){const c=l.find(d=>ym(d,r)<.001);if(c!==void 0){n=c;break t}}}if(!n)for(const l of a)l.length===0&&(s=hp)}return dm(n??Io,...s,...i(t))}#o=({lastTime:t})=>{const{userSettings:{analogueControl:o,screenRelativeControl:i}}=Mt.getState(),r=Px((i&&o?Ax:p=>p)(o?this.#s():this.#i()),Cx),a=cm(r);this.#e={...a>1?Bd(r,1/a):r,z:0};const l={keyboardState:new Map(this.keyboardStateMap),gamepads:Sx(navigator.getGamepads()),atTime:t};this.#t.unshift(l);const c=t-Mx,d=this.#t.findIndex(p=>p.atTime<c);d!==-1&&this.#t.splice(d+1);for(const p of this.actionsHandled)ki(l,p)||this.actionsHandled.delete(p)};currentActionPress(t){const o=this.#t.at(0);if(o===void 0)return"released";const i=ki(o,t);if(this.actionsHandled.has(t))return"released";if(i){const s=this.#t.at(1);return(s===void 0?!1:ki(s,t))?"hold":"tap"}return"released"}inputTap(){const t=this.#t.at(0),o=this.#t.at(1);if(t!==void 0){for(const i of this.keyboardStateMap.keys())if(o===void 0||!o.keyboardState.has(i))return{type:"key",input:i};for(const i of t.gamepads)if(i!==null){for(const[s,n]of i.buttons.entries())if(n.pressed&&(o===void 0||!fp(o,s)))return{type:"gamepadButtons",input:s};for(const[s,n]of i.axes.entries())if(Math.abs(n)>Dn&&(o===void 0||!mp(o,s)))return{type:"gamepadAxes",input:s}}}}get directionVector(){return this.#e}startTicking(){ce.shared.add(this.#o,void 0,Ci.INTERACTION)}stopTicking(){ce.shared.remove(this.#o)}}const gp=L.createContext(null),Tx=({children:e})=>{const[t]=L.useState(X0),[o]=L.useState(()=>new Ix(t));return L.useEffect(()=>{const i=K0(t);return o.startTicking(),()=>{i(),o.stopTicking()}},[o,t]),u.jsx(gp,{value:o,children:e})},mr=()=>{const e=L.useContext(gp);if(e===null)throw new Error("InputStateProvider required to use useInputState");return e},Jt=({handler:e,action:t,disabled:o=!1})=>{const i=L.useMemo(()=>Array.isArray(t)?t:[t],[t]),s=mr();L.useEffect(()=>{if(o)return;const n=()=>{for(const r of i)if(s.currentActionPress(r)==="tap"){if(!e(r))for(const c of i)s.actionsHandled.add(c);break}};return ce.shared.add(n),()=>{ce.shared.remove(n)}},[i,o,s,e])},jx=({handler:e,disabled:t=!1})=>{const o=mr();L.useEffect(()=>{if(t)return;const i=()=>{const s=o.inputTap();s!==void 0&&e(s,o)};return ce.shared.add(i),()=>{ce.shared.remove(i)}},[t,e,o])};function Y(e,t){const o=Gd();return L.useCallback(()=>{o(e(t))},[e,o,t])}const Dx=()=>{const e=lt(o=>o.assigningInput!==void 0),t=lt(o=>o.openMenus.length>0);Jt({action:"menu_openOrExit",handler:Y($l),disabled:e}),Jt({action:"menu_exit",handler:Y($l),disabled:!t}),Jt({action:"toggleShowFps",handler:Y(Se,"userSettings.showFps"),disabled:t}),Jt({action:"hold",handler:Y(N0,"toggle"),disabled:e}),L.useEffect(()=>{const o=()=>{};return window.addEventListener("blur",o,!1),()=>{window.removeEventListener("blur",o,!1)}}),Jt({action:"toggleColourisation",handler:Y(Se,"userSettings.displaySettings.colourise"),disabled:e})},an=()=>{const{userSettings:{displaySettings:{emulatedResolution:e}}}=Mt.getState(),t=rp({x:window.innerWidth,y:window.innerHeight},e,window.devicePixelRatio);console.log(`changing upscale to ${JSON.stringify(t)}x for ${window.innerWidth}x${window.innerHeight} window`),Mt.dispatch(G0(t))},$x=()=>{const e=Gd();L.useLayoutEffect(()=>{an()},[]),L.useLayoutEffect(()=>(window.addEventListener("resize",an),()=>window.removeEventListener("resize",an)),[e])},Fx=()=>($x(),Dx(),null),Ox=`## BAG

![](texture-bag)The *bag* may be used to carry small objects around a room. It is essential for
Heels to find and get the bag as it is impossible to get far without it.

The object in the bag will be displayed immediately above the bag’s icon at the
bottom right of the screen. To pick up an object just stand on top of it and
press the *CARRY* key. 

![](texture-cube)![](texture-drum)![](texture-spring.compressed)![](texture-sticks)

It is not possible to take items through doorways.

*> head over heels manual*

`,Nx=`## BLACKTOOTH

![](texture-blacktooth.wall.armour.left?bg-pureBlack)![](texture-blacktooth.wall.shield.away?bg-pureBlack&float-right)This planet has a large moon with three lunar space stations on it, the larger
of these, *Moon Station HQ*, is the main teleport center for the empire, with a
direct teleport to all the slave planets.

Sometime after the Egyptus episode,
the latest Emperor sent out a craft to find that same strange planet, and after
much exploration, it was finally located, and the craft landed. However, the
crew found the people had changed: instead of pyramids they used castles,
instead of wrapping corpses up in cloth, they wrapped living men in metal and
then tried to turn them into corpses with sharp metal sticks.

![](texture-teleporter)The Emperor, not to be outdone by his ancestor, built a castle on Blacktooth and
used it as his headquarters. The castle is surrounded by a small market, and
then a range of impassable mountains. The only way to leave is via teleport to
one of the three lunar space stations.

*> head over heels manual*`,Lx=`## BOOK WORLD

![](texture-bookworld.wall.cowboy.left?bg-pureBlack)![](texture-book.x?float-right&clear-right)![](texture-book.y?float-right&clear-right)The emperor is very keen
on *cowboy books* and has devoted an entire world to a *western library*.

Only the emperor's minions are permitted to read them.
Information is rigorously suppressed in the empire.

*> Head Over Heels Manual*
`,Hx=`## CONVEYOR BELTS

![](texture-animated-heels.walking.right?z-topSprite&relative&ml-centreSmallBlockOnLarge&mr-2)![](texture-animated-conveyor.x?&relative&clear-left&bottom-bottomStackPullup)The rollers on the conveyor simply push you along it. If you wish to go the
opposite direction you have to jump along.

*> head over heels manual*
`,Gx=`## CREDITS

Written by Jon Ritman and Bernie Drummond.  
Music and sound effect by Guy Stevens.  
Produced by D.C. Ward.  
©1987 Ocean Software Limited.
`,Wx=`## CROWNS

![](texture-crown.blacktooth)![](texture-crown.bookworld?float-right)![](texture-crown.egyptus?clear-left)![](texture-crown.penitentiary?float-right&clear-right)![](texture-crown.safari?clear-left)Find a crown and start a revolution. At the beginning of each game, a screen
showing all five planets with a crown above each will be displayed.

As each
crown is collected this screen will be shown again with the appropriate crowns
in a bright color.

*> head over heels manual*`,Ux=`## CUDDLY STUFFED WHITE RABBITS

![](texture-whiteRabbit?float-right)The *cute toy bunnies* magically enhance your powers. The status display at the
bottom of the screen will keep you informed as to which powers are temporarily
enhanced.

If Head and Heels are connected when they pick up a *Life* or *Iron pill*,
they will both get the enhanced power.

There are four types:

1. ![](texture-hud.char.2?sprite-tinted&text-metallicBlue)**Two extra lives**
2. ![](texture-hud.shield?sprite-tinted&text-metallicBlue)**Iron Pills** (to make you invulnerable)
3. ![](texture-hud.bigJumps?sprite-tinted&text-metallicBlue)**Jump higher bunny** (only works on Heels)
4. ![](texture-hud.fastSteps?sprite-tinted&text-metallicBlue)**Go faster bunny** (only works on slow-moving Head)

*> Head Over Heels Manual*
`,Vx=`## DOUGHNUTS

![](texture-doughnuts)Trays of *six doughnuts* are few and far between, so don’t waste shots. Only Head
may pick up doughnuts.

The number of remaining doughnuts will be displayed above
the doughnut icon at the bottom left of the screen.

*> Head Over Heels Manual*
`,qx=`## EGYPTUS

![](texture-egyptus.wall.sarcophagus.left)![](texture-egyptus.wall.sarcophagus.away?float-right)![](texture-egyptus.wall.hieroglyphics.left?clear-left)![](texture-egyptus.wall.hieroglyphics.away?float-right&clear-right)Once, a long time ago, a craft from Blacktooth got a bit lost while doing a
hyperspace jump and landed on an unknown planet.

Here the crew found a primitive
animal forming a sort of civilization that appeared to revolve around wrapping
corpses in lots of bandages and putting them into huge stone pyramids.

When they
returned to Blacktooth their emperor liked the sound of it so much that he
rebuilt the capital city of one of the slave planets to resemble the story.

*> Head Over Heels Manual*
`,Yx=`## HEAD 
### (HEADUS MOUTHION)

![](texture-animated-head.walking.towards?float-right)This creature is a symbiotic partner to Heels and will normally be found sitting
on top of one.

![](texture-head.falling.right)Head is descended from a breed of flying reptile and still has
rudimentary wings that allow Head to jump up to twice his own height and to
guide himself through the air.

*> Head Over Heels Manual*
`,Xx=`## HEELS 
### (FOOTUS UNDERIUM)

![](texture-animated-heels.walking.towards?float-right)During Heels’s evolution, the arms have totally disappeared while the legs have
become very powerful.

Heels can jump his own height and can also run very fast.

*> Head Over Heels Manual*`,Kx=`## HINTS AND TIPS

1. **1** *:* Beginners should aim to escape from Blacktooth and get back to Freedom initially. Only the very skillful can hope to liberate a planet or two.
2. **2** *:* ![](texture-animated-head.idle.towards?float-right&relative&z-topSprite)![](texture-heels.walking.towards.2&float-right&clear-right&relative&bottom-bottomStackPullup)When you first get Head and Heels in the same location, practice placing Head on top of Heels and joining them together accurately with the swop key. Both of their icons will light up when they are successfully joined.
3. **3** *:* Remember Head and Heels are a team. Just because both are in the same room does not mean you have to join them together, and in fact, some problems may only be solved by separating Head and Heels.
4. **4** *:* Make sure Head learns to climb ladders; this is an essential skill.
5. **5** *:* ![](texture-bag?float-right)![](texture-hooter?float-right)Both Heels’s bag and Head’s hooter must be collected at the initial stages for there to be any chance of completing the game.
6. **6** *:* If Head and Heels are in the same room, extra jumping height may be obtained by one jumping off the other’s back.
7. **7** *:* Find a safe spot and get used to how far Head and Heels may move over the edge of a brick before they fall. This will enable you to make the longest jumps. Both Head and Heels will jump slightly further if they are running as they jump.
8. **8** *:* Learn the difference in distance and control between Head’s jumps and Heels’s jumps.
9. **9** *:* Make a map.
10. **10** *:* ![](texture-doughnuts?float-right)Do not waste doughnuts; they are not easy to find.
11. **11** *:* Do not get confused; only Heels may carry anything, and only Head may fire.
12. **12** *:* ![](texture-spring.released?float-right&relative&z-topSprite)![](texture-cube?float-right&clear-right&relative&bottom-bottomStackPullup)To discover if there is a room above, pile objects as high as possible and jump from the top. If there is a spring in the room, put it on the top for extra jumping height.
13. **13** *:* If you can’t understand a room, try exiting and entering again, watching carefully for any movement in the room as you enter.

*> Head Over Heels Manual*`,Zx=`## HISTORY OF THE BLACKTOOTH EMPIRE

![](texture-crown.blacktooth)Far, far away from our star Sol lies the Blacktooth empire, an evil empire, four
worlds enslaved by the planet Blacktooth.

![](texture-animated-dalek?float-right)All of the slave worlds bubble with
unrest, but due to the oppressive nature of their rulers they never reach
boiling point, they all lack a leader to draw the masses of population together.

![](texture-animated-helicopterBug?float-right)Blacktooth itself is not any better, a world rigidly controlled by its dynastic
leaders for so long that the populace do not ever think about revolution.

![](texture-head.walking.right.2)The peoples of the neighbouring stars are getting very worried about signs of
military expansion from Blacktooth and have sent a spy from the planet Freedom
to see if he can push the slave planets into full rebellion by finding the
crowns lost when Blacktooth took over.

![](texture-heels.walking.right.2)The creatures of *Freedom* are very strange in that they are formed from a pair of
*symbiotic animals* that have adapted to operate either independently or, to their
mutual advantage, join together as one - Head saddled on Heels, and indeed these
ARE their names and both are highly trained spies.

*> head over heels manual*
`,Qx=`## HOOTER

![](texture-hooter)The *hooter* may be used by Head to fire *doughnuts* at attacking monsters.

This will freeze them in place as they lick the doughnut off their faces.

![](texture-doughnuts?float-right&clear-both)The hooter may only be used by Head and requires a tray of doughnuts to be of any use.

*> Head Over Heels Manual*
`,Jx=`## HUSH PUPPIES

![](texture-hushPuppy?float-right)These are a very strange type of beast; they are incredibly 
sleepy. In fact, they never wake up and it is quite normal for them to sleep for 
their entire lives.

They are often used as tables and even used as building bricks. 
They are a native of Freedom, ![](texture-head.walking.right.2?clear-both)and for many thousands of years Head and his ancestors 
have been mistaking them for Heels and causing so much trouble to the poor old hush
puppies that they evolved a defense mechanism they somehow learned to teleport
themselves away.

![](texture-animated-bubbles.white?float-right&clear-both)Nobody knows where they go, but
the instant they see any of Head’s race, they disappear and won’t return until they are sure the coast is
clear.

*> head over heels manual*
`,tb=`## PENITENTIARY
### The empire's prison planet

![](texture-penitentiary.wall.skeleton.left)Millions are imprisoned here. A harsh planet, very mountainous, much climbing,
skill required.

The worst place is The Pit, try not to fall into it!

*> Head Over Heels Manual*
`,eb=`## REINCARNATION FISH

![](texture-animated-fish)The strangest animal in the known universe! This fish likes to be eaten! There
have been cases of it jumping onto plates!

But there is more: when you eat one,
its prodigious memory remembers everything about you. Its memory is so good that
if you die at some later date, you will be reincarnated at the very place you
ate the fish, and you will even have its taste still in your mouth!

How a fish
can remember anything when it's been eaten has never been successfully
explained.

![](texture-fish.1)You must be very careful to check that the fish is
alive and wriggling as **dead fish decompose very quickly and it rapidly
turns so poisonous that a single lick can kill.**

### WARNING:

Even living reincarnation fish taste horrible!

*> head over heels manual*
`,ob=`## SAFARI

![](texture-monkey.right?float-left&relative&z-topSprite)![](texture-homingBot?float-left&clear-left&relative&bottom-bottomStackPullup)![](texture-elephant.towards?float-right&relative&z-topSprite)![](texture-homingBot?float-right&clear-right&relative&bottom-bottomStackPullup)A densely vegetated planet, mainly used for hunting.

The natives live in wooden forts in the jungle, **beware traps!**

*> Head Over Heels Manual*`,ib=`## SPRINGS

![](texture-spring.compressed)Jumping from a spring will give extra height to your jump.

*> head over heels manual*
`,sb=`## SWITCHES

![](texture-animated-switch)Simply push the switch to switch things off and on!  
**WARNING**: Switching a deadly monster off will stop him moving but he will
still be **deadly** to touch.

*> head over heels manual*
`,nb=`## SWOP KEY

If Head is sitting on Heels, the swop key will, on each push, give you control
of:

* *1* Heels.
* *2* Head + Heels.
* *3* Head.
* *4* Head + Heels.

If Head is not on Heels, the swop key will, on each push, give you control of:

* *1* Head.
* *2* Heels.

At all times, the character(s) whose icon is lit is under player control. When
Head and Heels are joined together, all their abilities are combined.

*> head over heels manual*`,rb=`## Exalted Emperor:

![](texture-teleporter)Sire, I took the liberty of installing this teleporter 
to aid your magnificent return to the moonbase after the daily crown inspections.

![](texture-cyberman.towards)Supplies are running short of teleporters, so I set it up one-way
until more come in.
May I humbly suggest you teleport after inspecting the crown or his grace
will have a long walk (well, ride on a minion’s back) to get back here.

Of course, those two spies we threw in jail might try to use it to grab the crown and escape.
Just kidding, they’ll never get this far!

*> Your humble minion*
`,ab=`## TELEPORTS

![](texture-teleporter)Standing on a teleport will activate its mechanism, which will sound a warning
siren. Pressing the *jump key* will cause you to teleport.

Not all teleports are two-way; some are linked in a chain.

*> Head Over Heels Manual* `,lb=`## THE EMPEROR’S GUARDIAN

![](texture-ball?relative&z-topSprite)![](texture-animated-bubbles.cold?relative&clear-both&bottom-bottomStackPullup)The guardian blocks the door to the throne room in Blacktooth castle. He is **very
dangerous**, and he *doesn't like doughnuts*.

Only a true hero may pass the guardian.

*> head over heels manual*
`,cb=`## THE GAME

![](texture-heels.walking.right.2)![](texture-animated-head.idle.towards?float-right&clear-left)Head and Heels have been captured, separated and imprisoned in the castle
headquarters of Blacktooth. Their cells contain ‘keep fit’ equipment, including
a wall ladder that Head really must learn to climb.

![](texture-market.wall.fruits.left?bg-pureBlack)![](texture-moonbase.wall.window2.away?bg-pureBlack&float-right)Your job is to get them both
out of the castle and into the *marketplace* so they can join up again. From
there, the journey leads to *Moonbase Headquarters*, where you will have to decide
either to try to escape back to *Freedom* or to be a true hero and teleport to one
of the slave planets to search for its lost crown!

![](texture-crown.bookworld)To overthrow the dictatorship on any of the slave planets would be a major blow
to Blacktooth and you could return to Freedom in glory. Of course, Blacktooth
would probably enslave them again eventually but it would slow down any
expansion plans for now.


![](texture-cyberman.towards?float-right&relative&z-topSprite)![](texture-animated-bubbles.cold?float-right&clear-right&relative&bottom-bottomStackPullup)The populace of Blacktooth are so heavily oppressed
that they would have to see all four of the slave planets revolt before the
Blacktooth crown could cause an uprising. ![](texture-animated-turtle.right)This of course would be the ultimate
accolade, and unfortunately, almost certain suicide.

*> Head Over Heels Manual*
`,dt=Object.assign({"./bag.md":Ox,"./blacktooth.md":Nx,"./bookWorld.md":Lx,"./conveyorBelts.md":Hx,"./credits.md":Gx,"./crowns.md":Wx,"./cuddlyStuffedWhiteRabbits.md":Ux,"./doughnuts.md":Vx,"./egyptus.md":qx,"./head.md":Yx,"./heels.md":Xx,"./hintsAndTips.md":Kx,"./historyOfTheBlacktoothEmpire.md":Zx,"./hooter.md":Qx,"./hushPuppies.md":Jx,"./penitentiary.md":tb,"./reincarnationFish.md":eb,"./safari.md":ob,"./springs.md":ib,"./switches.md":sb,"./swopKey.md":nb,"./teleportBack.md":rb,"./teleports.md":ab,"./theEmperorsGuardian.md":lb,"./theGame.md":cb}),gr={historyOfTheBlacktoothEmpire:dt["./historyOfTheBlacktoothEmpire.md"],theGame:dt["./theGame.md"],egyptus:dt["./egyptus.md"],penitentiary:dt["./penitentiary.md"],safari:dt["./safari.md"],bookWorld:dt["./bookWorld.md"],blacktooth:dt["./blacktooth.md"],head:dt["./head.md"],heels:dt["./heels.md"],reincarnationFish:dt["./reincarnationFish.md"],cuddlyStuffedWhiteRabbits:dt["./cuddlyStuffedWhiteRabbits.md"],hooter:dt["./hooter.md"],doughnuts:dt["./doughnuts.md"],bag:dt["./bag.md"],crowns:dt["./crowns.md"],teleports:dt["./teleports.md"],springs:dt["./springs.md"],switches:dt["./switches.md"],conveyorBelts:dt["./conveyorBelts.md"],hushPuppies:dt["./hushPuppies.md"],theEmperorsGuardian:dt["./theEmperorsGuardian.md"],swopKey:dt["./swopKey.md"],hintsAndTips:dt["./hintsAndTips.md"],credits:dt["./credits.md"]},db={...gr,teleportBack:dt["./teleportBack.md"]},pb=/^##\s+(.*)$/m,yb=e=>{const t=e.match(pb);if(t===null)return"no title found";const[,o]=t;return o};function xp(e){var t,o,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(o=xp(e[t]))&&(i&&(i+=" "),i+=o)}else for(o in e)e[o]&&(i&&(i+=" "),i+=o);return i}function bp(){for(var e,t,o=0,i="",s=arguments.length;o<s;o++)(e=arguments[o])&&(t=xp(e))&&(i&&(i+=" "),i+=t);return i}function d3(e){if(!$n(e))throw new Error(`Invalid textureId: "${e}"`)}function $n(e){return Ge.frames[e]!==void 0}function p3(e){return Ge.animations[e]!==void 0}const hb=({className:e,children:t})=>e?u.jsx("div",{className:`contents ${e}`,children:t}):t,G=({children:e,className:t,noSlitWords:o,classnameCycle:i,onClick:s})=>{const n=Array.isArray(e)?e.join(" "):typeof e=="number"?`${e}`:e;if(n.length===0)return null;const r=o?[n.toUpperCase()]:n.toUpperCase().split(/\s+/);return u.jsx("span",{className:bp(t),onClick:s,children:r.map((a,l)=>u.jsx("span",{className:Rt("text-nowrap inline-block",l===r.length-1?"":"me-1"),children:Array.from(a).map((c,d)=>{const p=`hud.char.${$d(c)}`;return $n(p)||console.error("no texture for char",c,c.charCodeAt(0),p,"we have:",Object.keys(We.textures)),u.jsx("span",{className:`sprite ${$n(p)?`texture-${p}`:"texture-hud.char.?"}
                  sprite-tinted
                  ${i===void 0?"":i[d%i.length]}`},d)})},l))})},ub=e=>e.props.children!==void 0,Gt=({children:e,className:t})=>u.jsx(hb,{className:t,children:Array.isArray(e)?e.map((o,i)=>u.jsx(Gt,{children:o},i)):typeof e=="number"?u.jsx(G,{children:String(e)}):typeof e=="string"?u.jsx(G,{children:e}):L.isValidElement(e)?e.type===G||e.type===Gt?e:ub(e)?L.cloneElement(e,void 0,typeof e.props.children=="string"?u.jsx(G,{children:`${e.props.children}`}):u.jsx(Gt,{children:e.props.children})):e:e}),fb=({flip:e=!1,focussed:t=!1})=>u.jsx(G,{className:"inline-block col-start-1 w-min mx-auto "+(e?"scale-[-1] relative bottom-oneScaledPix":""),children:t?"⏩⏩":"⁌⁍"});var Kt={},Bo={},So={},ql;function Xi(){if(ql)return So;ql=1;var e=So.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(So,"__esModule",{value:!0});const o=e(yo()).default.createContext({refs:{},renderItems:{},register:()=>{},unregister:()=>{}});return So.default=o,So}var Yl;function mb(){if(Yl)return Bo;Yl=1;var e=Bo.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Bo,"__esModule",{value:!0});const t=e(yo()),o=e(sc()),i=e(Xi()),s=({id:n,children:r})=>{const{refs:a,renderItems:l}=t.default.useContext(i.default),c=a[n],d=l[n];return c?d?o.default.createPortal(d(r),c,n):o.default.createPortal(r,c,n):null};return Bo.default=s,Bo}var Ao={},Xl;function gb(){if(Xl)return Ao;Xl=1;var e=Ao.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Ao,"__esModule",{value:!0});const t=e(yo()),o=e(Xi()),i=({id:s,renderItem:n=a=>a,className:r})=>{const{register:a,unregister:l}=t.default.useContext(o.default),c=t.default.useRef(null);return t.default.useEffect(()=>(c.current&&a(s,c.current,n),()=>l(s)),[s,c.current]),t.default.createElement("div",{className:[`portal-placeholder-${s}`,r].filter(d=>!!d).join(" "),ref:c})};return Ao.default=i,Ao}var to={},Kl;function xb(){if(Kl)return to;Kl=1;var e=to.__rest||function(n,r){var a={};for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&r.indexOf(l)<0&&(a[l]=n[l]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,l=Object.getOwnPropertySymbols(n);c<l.length;c++)r.indexOf(l[c])<0&&Object.prototype.propertyIsEnumerable.call(n,l[c])&&(a[l[c]]=n[l[c]]);return a},t=to.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(to,"__esModule",{value:!0});const o=t(yo()),i=t(Xi()),s=({children:n})=>{const[r,a]=o.default.useState({}),[l,c]=o.default.useState({}),d=o.default.useCallback((y,m,g)=>{a(f=>Object.assign(Object.assign({},f),{[y]:m})),c(f=>Object.assign(Object.assign({},f),{[y]:g}))},[]),p=o.default.useCallback(y=>{a(m=>{const g=m,f=y;return g[f],e(g,[typeof f=="symbol"?f:f+""])}),c(m=>{const g=m,f=y;return g[f],e(g,[typeof f=="symbol"?f:f+""])})},[]),h=o.default.useMemo(()=>({refs:r,renderItems:l,register:d,unregister:p}),[r,l,d,p]);return o.default.createElement(i.default.Provider,{value:h},n)};return to.default=s,to}var Zl;function bb(){if(Zl)return Kt;Zl=1;var e=Kt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Kt,"__esModule",{value:!0}),Kt.Context=Kt.Placeholder=Kt.Provider=void 0;const t=e(mb()),o=e(gb()),i=e(xb()),s=e(Xi());Kt.Provider=i.default,Kt.Placeholder=o.default,Kt.Context=s.default;const n=t.default;return n.Context=s.default,n.Placeholder=o.default,n.Provider=i.default,Kt.default=n,Kt}var wb=bb();const ti=qt(wb),Wt="leading-none [&_[class*='texture-hud.char']]:mb-oneScaledPix",kb=["menu_select","swop","jump"],Yo="data-menuitem_id",wp="data-menuitem_hidden",zb="data-menuitem_disabled",vb=()=>{},nt=({id:e,label:t,valueElement:o,flipLeader:i=!1,doubleHeightWhenFocussed:s,onSelect:n=vb,hidden:r=!1,disabled:a=!1,hintInline:l=!1,className:c,hint:d,leader:p})=>{const h=L.useRef(!0),y=lt(f=>f.openMenus[0].scrollableSelection),m=lt(f=>f.openMenus[0].focussedItemId===e);Jt({action:kb,handler:n,disabled:!m||r||a});const g=u.jsxs("div",{[Yo]:e,[wp]:r,[zb]:a,tabIndex:0,className:Rt("contents",r?"hidden":"",s&&m?"sprites-double-height":"",m?"selectedMenuItem":"",c),onMouseMove:Y(cr,{focussedItemId:e,scrollableSelection:!1}),onClick:a?void 0:n,children:[p||u.jsx(fb,{flip:i,focussed:m}),u.jsx("div",{ref:f=>{m&&y&&f?.scrollIntoView({behavior:h.current?"instant":"smooth",block:"center"}),h.current=!1},className:Rt(o===void 0?"col-span-2":""),children:typeof t=="string"?u.jsx(u.Fragment,{children:u.jsx(G,{children:t})}):t}),o!==void 0&&o,!m||d===void 0||l?null:u.jsx(ti,{children:typeof d=="string"?u.jsx(G,{className:Wt,children:d}):d})]});return l&&d&&m?u.jsxs(u.Fragment,{children:[g,u.jsx("div",{className:"col-span-2 col-start-2",children:d})]}):g},Ce=()=>u.jsx(nt,{id:"back",label:"Back",flipLeader:!0,doubleHeightWhenFocussed:!0,onSelect:Y(ue)}),po=()=>u.jsx("div",{className:"col-span-3 h-1"}),kp=e=>{const t=e.querySelectorAll(`[${Yo}]`);return Array.from(t)},Ql=(e,t)=>{const o=Mt.getState().openMenus[0].focussedItemId;if(o===void 0)return!0;const i=kp(e);if(i.length<=1)return!0;const s=i.findIndex(r=>r.getAttribute(Yo)===o);if(s===-1)return!0;let n=s;do n=(n+t+i.length)%i.length;while(i[n].getAttribute(wp)==="true");return Mt.dispatch(cr({focussedItemId:i[n].getAttribute(Yo),scrollableSelection:!0})),!1},_b=e=>{const t=Yd();Jt({action:"away",handler:L.useCallback(()=>{if(e.current!==null)return Ql(e.current,-1)},[e]),disabled:t}),Jt({action:"towards",handler:L.useCallback(()=>{if(e.current!==null)return Ql(e.current,1)},[e]),disabled:t})},fe=({className:e="",children:t})=>{const o=L.useRef(null);return L.useEffect(()=>{if(o.current===null||Mt.getState().openMenus[0].focussedItemId!==void 0)return;const i=kp(o.current);Mt.dispatch(cr({focussedItemId:i[0].getAttribute(Yo),scrollableSelection:!0}))},[]),_b(o),u.jsx("div",{ref:o,className:Rt("grid grid-cols-menuItems gap-x-1 gap-y-oneScaledPix",e),children:t})};var zp=sc();const y3=qt(zp),ee=({children:e})=>zp.createPortal(u.jsx(Pn,{children:e}),document.body),Bb=({pageName:e})=>{const t=gr[e],o=yb(t);return u.jsx(nt,{id:`markdown/${e}`,label:o,onSelect:Y(_e,`markdown/${e}`),doubleHeightWhenFocussed:!0})},Sb=()=>u.jsxs(ee,{children:[u.jsx(pe,{className:"bg-midGrey zx:bg-zxCyan",onClick:Y(ue)}),u.jsxs(Yt,{className:"bg-highlightBeige zx:bg-zxCyanDimmed !h-tallDialog max-h-[calc(var(--block)*40)]",children:[u.jsxs("div",{className:"text-moss zx:text-zxBlack mx-auto",children:[u.jsx("span",{className:"sprite texture-book.x zx:sprite-revert-to-white"}),u.jsx(G,{className:"sprites-double-height mx-1",children:"Read the manual"}),u.jsx("span",{className:"sprite texture-book.y zx:sprite-revert-to-white"})]}),u.jsxs(fe,{className:`text-redShadow zx:text-zxWhite ${Wt} !gap-y-0 selectedMenuItem:text-shadow zx:selectedMenuItem:text-zxBlack overflow-y-scroll scrollbar scrollbar-w-1 scrollbar-thumb-moss scrollbar-track-highlightBeige zx:scrollbar-thumb-zxBlack zx:scrollbar-track-zxCyanDimmed`,children:[[...Ye(Dd(gr)).map(e=>u.jsx(Bb,{pageName:e},e))],u.jsx(po,{}),u.jsx(Ce,{})]})]})]}),Ab={"":L.Fragment,pre:"pre",code:"code",ol:"ol",ul:"ul",hr:"hr",blockquote:"blockquote",li:"li",a:"a",img:"img",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",p:"p",em:"em",strong:"strong"},Jl=e=>e.replace(RegExp("^"+(e.match(/^(\t| )+/)||"")[0],"gm"),""),Pb=e=>e&&typeof e!="string"&&["div","ul","ol","pre","h1","h2","h3","h4","h5","h6"].includes(e.t),ln=e=>e.replace(/^\s+|\s+$/g," "),bt=(e,t=[],o={})=>({t:e,c:Array.isArray(t)?t:[t],p:o}),Do=(e,t=!1)=>{let o=/((?:^|\n+)(?:\n---+|\* \*(?: \*)+)\n)|(?:^``` *(\w*)\n([\s\S]*?)\n```$)|((?:(?:^|\n+)(?:\t|  {2,}).+)+\n*)|((?:(?:^|\n)([>*+-]|\d+\.)\s+.*)+)|(?:!\[([^\]]*?)\]\(([^)]+?)\))|(\[)|(\](?:\(([^)]+?)\))?)|(?:(?:^|\n+)([^\s].*)\n(-{3,}|={3,})(?:\n+|$))|(?:(?:^|\n+)(#{1,6})\s*(.+)(?:\n+|$))|(?:`([^`].*?)`)|(  \n\n*|\n{2,}|__|\*\*|[_*]|~~)/gm,i=0;const s=bt("");let n,r;t?(n=bt("p"),r=[s,n],s.c.push(n)):(n=s,r=[s]);let a;const l=(p,h=!0)=>(h&&r.push(p),n.c.push(p),h&&(n=p),p),c=p=>{const h=r.findIndex(y=>y.t===p);r=r.slice(0,h),n=r.at(-1)};for(;a=o.exec(e);){const p=e.substring(i,a.index);if(i=o.lastIndex,p!=="")if(n===s&&t){const h=bt("p",ln(p));s.c.push(h),r=[s,h],n=h}else n.c.push(ln(p));if(!p.match(/[^\\](\\\\)*\\$/)){if(a[3]||a[4]){const h=bt("pre",a[4]?Jl(a[4]):bt("code",Jl(a[3]),a[2]?{language:`language-${a[2].toLowerCase()}`}:{}));s.c.push(h),r=[s],n=s}else if(a[6]){const h=a[6],y=h!==">",m=!!h.match(/\./),g=y?m?"ol":"ul":"blockquote",f=a[5].split(`
`).map(w=>w.replace(/^(\*|-|\+|>|\d+\.)\s+/,"")),k=bt(g,y?f.map(w=>bt("li",Do(w).c)):Do(f.join(`
`)).c);s.c.push(k),r=[s,k],n=s}else if(a[8]){const h=bt("img",[],{src:a[8],...a[7]?{alt:a[7]}:{}});if(t&&n===s){const y=bt("p",h);s.c.push(y),n=y,r=[s,y]}else l(h,!1)}else if(a[10]){const h=r.find(y=>y.t==="a");h&&(h.p.href=a[11])}else if(a[9])l(bt("a"));else if(a[14]){const h="h"+a[14].length;s.c.push(bt(h,Do(a[15]).c)),r=[s],n=s}else if(a[13])s.c.push(bt("h1",Do(a[12]).c)),r=[s],n=s;else if(a[16])l(bt("code",a[16]),!1);else if(a[17]?.[0]===`
`||a[17]===`  
`){if(!(r[1]?.t==="p")){const m=s.c;let g;for(g=m.length-1;g>=0&&!Pb(m[g]);g--);if(g!==s.c.length-1){const f=s.c.splice(g+1);s.c.push(bt("p",f))}}const y=bt("p");s.c.push(y),r=[s,y],n=y}else if(a[1])l(bt("hr"),!1);else if(a[17]){const h=a[17].length===2?"strong":"em";r.findIndex(m=>m.t===h)===-1?l(bt(h)):c(h)}}}const d=ln(e.substring(i));if(d.length){const p=s.c.at(-1);let h;p?.t==="p"?h=p:t?(h=bt("p"),s.c.push(h)):h=s,h.c.push(d)}return s.c=s.c.filter(p=>typeof p=="string"||p.t!=="p"||p.c?.length>0),s},Rb=(e,t={})=>{const o={...Ab,...t},i=(s,n=0)=>{const r=s.t===""?L.Fragment:o[s.t];return L.createElement(r,{...s.p,key:n},s.c.length===0?void 0:s.c.map((a,l)=>typeof a=="string"?a:i(a,l)))};return i(Do(e,!0))},Cb=({markdown:e,customComponents:t})=>Rb(e,t),Mb={h2:function({children:t}){return u.jsx("h2",{className:`mb-1 sprites-double-height text-metallicBlue zx:text-zxBlue ${Wt}`,children:u.jsx(Gt,{children:t})})},h3:function({children:t}){return u.jsx("h3",{className:"mt-1 mb-1 text-metallicBlue zx:text-zxBlue",children:u.jsx(Gt,{children:t})})},p:function({children:t}){return u.jsx("div",{className:`mb-1 last:mb-0 ${Wt}`,children:u.jsx(Gt,{children:t})})},li:function({children:t}){return u.jsx("div",{className:`mb-1 clear-left ${Wt}`,children:u.jsx(Gt,{children:t})})},strong:function({children:t}){return u.jsx(Gt,{className:"strong text-midRed zx:text-zxRed",children:t})},em:function({children:t}){return u.jsx(Gt,{className:"em text-moss zx:text-zxBlue",children:t})},img:function({src:t}){const o=sr();if(t===void 0)throw new Error("image without src");const i=t.split(/\?|&/);return u.jsx("span",{style:{"--scale":o*2},children:u.jsx("span",{className:Rt("sprite float-left mr-1 mb-1 zx:sprite-revert-to-two-tone",i.join(" "))})})}},Ae=({markdown:e,className:t})=>u.jsx("div",{className:`contents ${t}`,children:u.jsx(Cb,{customComponents:Mb,markdown:e})}),Eb=4,tc=He.h,Ib=({pageName:e})=>{const t=L.useRef(null),o=sr(),i=db[e],s=L.useCallback(n=>{if(t.current===null)return;const{scrollTop:r}=t.current,a=r+o*Eb*(n==="down"?tc:-tc);t.current.scrollTo({top:a,behavior:"instant"})},[o]);return Jt({handler:L.useCallback(()=>{s("down")},[s]),action:"towards"}),Jt({handler:L.useCallback(()=>{s("up")},[s]),action:"away"}),u.jsxs(ee,{children:[u.jsx(pe,{className:"bg-midGrey zx:bg-zxWhiteDimmed",onClick:Y(ue)}),u.jsxs(Yt,{className:"bg-highlightBeige zx:bg-zxCyan text-shadow zx:text-zxBlack",children:[u.jsx("div",{className:Rt("overflow-y-scroll h-full scrollbar  scrollbar-w-1 scrollbar-thumb-midRed scrollbar-track-highlightBeige zx:scrollbar-thumb-zxCyanDimmed zx:scrollbar-track-zxCyan"),ref:t,children:u.jsx(Ae,{markdown:i})}),u.jsx(fe,{className:"hidden",children:u.jsx(Ce,{})})]})]})},ec={egyptus:["text-lightBeige","text-midRed","text-highlightBeige"],blacktooth:["text-midGrey","text-lightGrey","text-moss","text-midRed"],safari:["text-moss","text-midRed","text-highlightBeige"],bookworld:["text-midRed","text-redShadow","text-midGrey"],penitentiary:["text-shadow","text-metallicBlue","text-midGrey"]},Tb={egyptus:"texture-crown.egyptus",blacktooth:"texture-crown.blacktooth",bookworld:"texture-crown.bookworld",penitentiary:"texture-crown.penitentiary",safari:"texture-crown.safari"},Po=({planet:e,className:t,label:o=e})=>{const i=lt(n=>n.planetsLiberated[e]),s=Yg();return u.jsxs("div",{className:`flex flex-col ${t}`,children:[u.jsx("span",{className:`sprite block ${Tb[e]} ${i?"zx:sprite-revert-zxYellow":"colourised:opacity-halfBrite zx:sprite-revert-zxMagenta"} mx-auto`}),u.jsx("span",{className:`sprite block texture-ball zx:sprite-revert-zxYellow mx-auto ${i?"":"colourised:brightness-halfBrite"} ${ec[e][0]}`}),u.jsx(G,{classnameCycle:s?ec[e]:void 0,className:`block mx-auto zx:text-zxMagenta ${i?"":"colourised:brightness-halfBrite"}`,children:o})]})},jb=()=>u.jsxs(u.Fragment,{children:[u.jsx(G,{className:"block sprites-double-height text-highlightBeige zx:text-zxYellow ml-6",children:"The blacktooth empire"}),u.jsx(Po,{planet:"egyptus",className:"w-12 absolute left-[calc(var(--block,8px)*0)] top-[calc(var(--block,8px)*3)]"}),u.jsx(Po,{planet:"penitentiary",className:"w-12 absolute left-[calc(var(--block,8px)*20)] top-[calc(var(--block,8px)*3)]"}),u.jsx(Po,{planet:"safari",className:"w-12 absolute left-[calc(var(--block,8px)*0)] top-[calc(var(--block,8px)*17)]"}),u.jsx(Po,{planet:"bookworld",label:"book world",className:"w-12 absolute left-[calc(var(--block,8px)*20)] top-[calc(var(--block,8px)*17)]"}),u.jsx(Po,{planet:"blacktooth",className:"w-12 absolute left-[calc(var(--block,8px)*10)] top-[calc(var(--block,8px)*10)]"})]}),Db=()=>u.jsxs(ee,{children:[u.jsx(pe,{className:"bg-pureBlack zx:bg-zxBlack"}),u.jsxs(Yt,{className:"bg-pureBlack w-zx h-full block p-0",onClick:Y(ue),children:[u.jsx(jb,{}),u.jsx(fe,{className:"hidden",children:u.jsx(Ce,{})})]})]}),we=["text-pink zx:text-zxCyan","text-highlightBeige zx:text-zxYellow","text-moss zx:text-zxWhite"],$b=()=>u.jsx(u.Fragment,{children:u.jsxs("div",{className:"flex justify-center gap-2 leading-none",children:[u.jsxs("div",{className:"flex flex-col gap-y-oneScaledPix items-center",children:[u.jsx(G,{className:"text-metallicBlue zx:text-zxBlack",children:"1987 original"}),u.jsxs("div",{className:"flex gap-1",children:[u.jsxs("div",{className:"flex flex-col gap-y-oneScaledPix items-center",children:[u.jsx(G,{classnameCycle:we,children:"Jon"}),u.jsx(G,{classnameCycle:we,children:"Ritman"})]}),u.jsxs("div",{className:"flex flex-col gap-y-oneScaledPix items-center",children:[u.jsx(G,{classnameCycle:we,children:"Bernie"}),u.jsx(G,{classnameCycle:we,children:"Drummand"})]})]})]}),u.jsxs("div",{className:"flex flex-col gap-y-oneScaledPix items-center",children:[u.jsx(G,{className:"text-pink zx:text-zxBlack",children:"2025 remake"}),u.jsx("div",{className:"flex",children:u.jsxs("div",{className:"flex flex-col gap-y-oneScaledPix items-center",children:[u.jsx(G,{classnameCycle:we,children:"Jim"}),u.jsx(G,{classnameCycle:we,children:"Higson"})]})})]})]})}),xr=({noSubtitle:e})=>u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsxs("div",{className:"flex",children:[u.jsxs("div",{className:"flex flex-col gap-y-oneScaledPix items-center me-1",children:[u.jsx(G,{className:"sprites-double-height text-metallicBlue zx:text-zxYellow",children:"Head"}),u.jsxs("div",{className:"mt-1 relative",children:[u.jsx("span",{className:"sprite zx:sprite-revert-to-white texture-animated-head.idle.right hover:texture-animated-head.walking.right relative z-topSprite"}),u.jsx("span",{className:"sprite zx:hidden texture-shadow.smallRound absolute left-0 top-[calc(var(--scale)*1px)] opacity-halfBrite"})]})]}),u.jsx(G,{classnameCycle:we,className:"mt-1 me-1",children:"over"}),u.jsxs("div",{className:"flex flex-col items-center me-1",children:[u.jsx(G,{className:"sprites-double-height text-pink zx:text-zxYellow",children:"Heels"}),u.jsxs("div",{className:"mt-1 relative",children:[u.jsx("span",{className:"sprite zx:sprite-revert-to-white texture-heels.walking.towards.2 hover:texture-animated-heels.walking.towards relative z-topSprite"}),u.jsx("span",{className:"sprite zx:hidden texture-shadow.smallRound absolute left-0 top-[calc(var(--scale)*1px)] opacity-halfBrite"})]})]})]}),e||u.jsxs("div",{className:"mt-1 w-max",children:[u.jsx(G,{className:"text-pink zx:text-zxCyan",children:"block"}),u.jsx(G,{className:"text-highlightBeige zx:text-zxYellow",children:"stack"}),u.jsx(G,{className:"text-metallicBlue zx:text-zxBlack",children:"."}),u.jsx(G,{className:"text-moss zx:text-zxWhite",children:"ing"}),u.jsx(G,{classnameCycle:we,children:" remake"})]})]}),Fb=()=>{const e=Gi();return u.jsx(G,{children:e?"Resume the game":"Play the game"})},Ob=e=>{const t=Gi(),o=Y(_e,"crowns"),i=Y(_e,"gameOver"),s=L.useCallback(()=>{o(),i()},[o,i]);return u.jsxs(ee,{children:[u.jsx(pe,{className:"bg-metallicBlueHalfbrite zx:bg-zxRed"}),u.jsxs(Yt,{className:"bg-metallicBlueHalfbrite zx:bg-zxRed gap-y-2",children:[u.jsx(xr,{noSubtitle:t}),u.jsxs(fe,{className:"text-highlightBeige zx:text-zxCyan selectedMenuItem:text-white",children:[u.jsx(nt,{id:"playGame",label:u.jsx(Fb,{}),doubleHeightWhenFocussed:!0,onSelect:Y(O0)}),u.jsx(nt,{id:"viewCrowns",label:"Progress so far",onSelect:s,doubleHeightWhenFocussed:!0,hidden:!t}),u.jsx(po,{}),u.jsx(nt,{id:"selectKeys",label:"Control options",doubleHeightWhenFocussed:!0,onSelect:Y(_e,"selectKeys")}),u.jsx(nt,{id:"modernisationOptions",label:"Modernisation Options",doubleHeightWhenFocussed:!0,onSelect:Y(_e,"modernisationOptions")}),u.jsx(nt,{id:"readTheManual",label:"Read the manual",doubleHeightWhenFocussed:!0,onSelect:Y(_e,"readTheManual")}),t&&u.jsx(po,{}),u.jsx(nt,{id:"quitGame",label:"Quit this game",className:"text-midRed zx:text-zxYellow",onSelect:Y(_e,"quitGameConfirm"),doubleHeightWhenFocussed:!0,hidden:!t})]}),!t&&u.jsx($b,{})]})]})},br=({className:e})=>u.jsx("div",{className:Rt("contents",e),children:u.jsx(ti.Placeholder,{})}),Nb=()=>u.jsxs(ee,{children:[u.jsx(pe,{className:"bg-midRed zx:bg-zxYellow"}),u.jsx(Yt,{className:"bg-white zx:bg-zxRed",children:u.jsxs(ti.Provider,{children:[u.jsx(xr,{noSubtitle:!0}),u.jsx(G,{className:"ml-3 sprites-double-height mt-2",classnameCycle:["text-redShadow zx:text-zxWhite","text-midRed zx:text-zxYellow"],children:"Quit the game?"}),u.jsxs(fe,{className:"text-lightGrey zx:text-zxWhite selectedMenuItem:text-midRed zx:selectedMenuItem:text-zxYellow",children:[u.jsx(po,{}),u.jsx(nt,{doubleHeightWhenFocussed:!0,id:"no",label:"No",onSelect:Y(ue),hint:"Go back to the game"}),u.jsx(nt,{doubleHeightWhenFocussed:!0,id:"yes",label:"Yes",onSelect:Y(F0),hint:u.jsx(Ae,{className:"zx:[&_.strong]:text-zxYellow",markdown:"**Warning!** This game will end!"})})]}),u.jsx(br,{className:"text-midGrey zx:text-zxWhite"})]})})]}),x=e=>e,Lb=x({color:{hue:"yellow",shade:"basic"},floor:"jail",id:"blacktooth1head",items:{"barrier@5,0,0":{config:{axis:"y"},position:{x:5,y:0,z:0},type:"barrier"},"barrier@5,0,2":{config:{axis:"y"},position:{x:5,y:0,z:2},type:"barrier"},"barrier@5,0,4":{config:{axis:"y"},position:{x:5,y:0,z:4},type:"barrier"},"barrier@5,0,6":{config:{axis:"y"},position:{x:5,y:0,z:6},type:"barrier"},colouriseSwitch:{config:{store:{path:"userSettings.displaySettings.colourise"}},isExtra:!0,position:{x:5,y:3,z:0},type:"switch"},"door@0,3,0":{config:{direction:"right",toRoom:"blacktooth23heels"},position:{x:0,y:3,z:0},type:"door"},head:{config:{which:"head"},position:{x:2.5,y:2.5,z:0},type:"player"},"pickup@5,0,7":{config:{gives:"extra-life"},position:{x:5,y:0,z:7},type:"pickup"},scrollRabbit:{config:{gives:"scroll",page:"cuddlyStuffedWhiteRabbits"},position:{x:3,y:0,z:0},type:"pickup"},scrollTheGame:{config:{gives:"scroll",page:"theGame"},position:{x:3,y:7,z:0},type:"pickup"},"teleporter@5,7,0":{config:{toPosition:{x:5,y:7,z:0},toRoom:"blacktooth2"},position:{x:5,y:7,z:0},type:"teleporter"}},planet:"jail",size:{x:6,y:8},walls:{away:["bars","bars","bars","bars","bars","bars"],left:["bars","bars","bars","bars","bars","bars","bars","bars"]}}),Hb=x({color:{hue:"cyan",shade:"basic"},floor:"blacktooth",id:"blacktooth2",items:{"door@2,0,0":{config:{direction:"towards",toRoom:"blacktooth3"},position:{x:2,y:0,z:0},type:"door"},extra:{config:{movement:"free",style:"stepStool"},position:{x:1,y:1,z:0},type:"movableBlock"},extra2:{config:{movement:"free",style:"stepStool"},position:{x:1,y:4,z:0},type:"movableBlock"},extra3:{config:{movement:"free",style:"stepStool"},position:{x:1,y:3.5,z:1},type:"movableBlock"},extra4:{config:{movement:"free",style:"stepStool"},position:{x:1,y:1.5,z:1},type:"movableBlock"},extra5:{config:{movement:"free",style:"stepStool"},position:{x:1,y:2,z:2},type:"movableBlock"},extra6:{config:{movement:"free",style:"stepStool"},position:{x:1,y:3,z:2},type:"movableBlock"},extra7:{config:{movement:"free",style:"stepStool"},position:{x:1,y:2.5,z:3},type:"movableBlock"},scroll:{config:{gives:"scroll",page:"historyOfTheBlacktoothEmpire"},position:{x:1,y:2.5,z:4},type:"pickup"},"teleporter@5,7,0":{config:{toPosition:{x:5,y:7,z:0},toRoom:"blacktooth1head"},position:{x:5,y:7,z:0},type:"teleporter"}},planet:"blacktooth",size:{x:6,y:8},walls:{away:["plain","armour","shield","shield","armour","plain"],left:["plain","armour","plain","shield","shield","plain","armour","plain"]}}),Gb=x({color:{hue:"green",shade:"basic"},floor:"none",id:"blacktooth3",items:{"block@3,5,0":{config:{style:"organic",times:{x:2}},position:{x:3,y:5,z:0},type:"block"},"door@3,6,2":{config:{direction:"away",toRoom:"blacktooth2"},position:{x:3,y:6,z:2},type:"door"},scroll:{config:{gives:"scroll",page:"hintsAndTips"},position:{x:7,y:5,z:1},type:"pickup"},scrollBlock:{config:{style:"organic"},position:{x:7,y:5,z:0},type:"block"}},planet:"jail",roomBelow:"blacktooth4",size:{x:8,y:6},walls:{away:["bars","bars","bars","none","none","bars","bars","bars"],left:["bars","bars","bars","bars","bars","bars"]}}),Wb=x({color:{hue:"green",shade:"basic"},floor:"blacktooth",id:"blacktooth4",items:{"door@3,0,0":{config:{direction:"towards",toRoom:"blacktooth5"},position:{x:3,y:0,z:0},type:"door"},"lift@3,5,0":{config:{bottom:0,top:11},position:{x:3,y:5,z:0},type:"lift"}},planet:"blacktooth",roomAbove:"blacktooth3",size:{x:8,y:6},walls:{away:["plain","armour","plain","shield","shield","plain","armour","plain"],left:["plain","armour","shield","shield","armour","plain"]}}),Ub=x({color:{hue:"magenta",shade:"basic"},floor:"blacktooth",id:"blacktooth5",items:{"deadlyBlock@0,2,0":{config:{style:"toaster",times:{x:2}},position:{x:0,y:2,z:0},type:"deadlyBlock"},"door@0,0,0":{config:{direction:"towards",toRoom:"blacktooth7"},position:{x:0,y:0,z:0},type:"door"},"door@0,8,0":{config:{direction:"away",toRoom:"blacktooth4"},position:{x:0,y:8,z:0},type:"door"},"door@2,3,0":{config:{direction:"left",toRoom:"blacktooth6"},position:{x:2,y:3,z:0},type:"door"}},planet:"blacktooth",size:{x:2,y:8},walls:{away:["none","none"],left:["plain","shield","plain","none","none","plain","shield","plain"]}}),Vb=x({color:{hue:"cyan",shade:"dimmed"},floor:"deadly",id:"blacktooth6",items:{"block@0,0,0":{config:{style:"organic"},position:{x:0,y:0,z:0},type:"block"},"block@0,3,0":{config:{style:"organic",times:{y:2}},position:{x:0,y:3,z:0},type:"block"},"block@0,7,0":{config:{disappearing:"onStand",style:"organic"},position:{x:0,y:7,z:0},type:"block"},"block@3,0,0":{config:{style:"organic"},position:{x:3,y:0,z:0},type:"block"},"block@3,7,0":{config:{disappearing:"onStand",style:"organic"},position:{x:3,y:7,z:0},type:"block"},"block@6,0,0":{config:{style:"organic"},position:{x:6,y:0,z:0},type:"block"},"block@7,7,0":{config:{style:"organic"},position:{x:7,y:7,z:0},type:"block"},"door@0,3,1":{config:{direction:"right",toRoom:"blacktooth5"},position:{x:0,y:3,z:1},type:"door"},extraMonster:{config:{activated:!0,movement:"patrol-randomly-diagonal",which:"dalek"},isExtra:!0,position:{x:0,y:0,z:1},type:"monster"},extraMonster2:{config:{activated:!0,movement:"patrol-randomly-diagonal",which:"dalek"},isExtra:!0,position:{x:7,y:7,z:3},type:"monster"},"monster@3,0,1":{config:{activated:!0,movement:"patrol-randomly-diagonal",which:"dalek"},position:{x:3,y:0,z:1},type:"monster"},"pickup@7,7,1":{config:{gives:"doughnuts"},position:{x:7,y:7,z:1},type:"pickup"},scroll:{config:{gives:"scroll",page:"doughnuts"},position:{x:2,y:3,z:1},type:"pickup"},scrollBlock:{config:{style:"organic"},position:{x:2,y:3,z:0},type:"block"},"switch@6,0,1":{config:{activates:{"block@0,7,0":{left:{disappear:"onStand"},right:{disappear:null}},"block@3,7,0":{left:{disappear:"onStand"},right:{disappear:null}},extraMonster:{left:{activated:!0},right:{activated:!1}},extraMonster2:{left:{activated:!0},right:{activated:!1}},"monster@3,0,1":{left:{activated:!0},right:{activated:!1}}}},position:{x:6,y:0,z:1},type:"switch"}},planet:"blacktooth",size:{x:8,y:8},walls:{away:["plain","armour","plain","shield","shield","plain","armour","plain"],left:["plain","armour","plain","shield","shield","plain","armour","plain"]}}),qb=x({color:{hue:"white",shade:"dimmed"},floor:"blacktooth",id:"blacktooth7",items:{"door@0,0,0":{config:{direction:"towards",toRoom:"blacktooth8fish"},position:{x:0,y:0,z:0},type:"door"},"door@0,8,0":{config:{direction:"away",toRoom:"blacktooth5"},position:{x:0,y:8,z:0},type:"door"},"door@2,3,0":{config:{direction:"left",toRoom:"blacktooth10"},position:{x:2,y:3,z:0},type:"door"}},planet:"blacktooth",size:{x:2,y:8},walls:{away:["none","none"],left:["plain","shield","plain","none","none","plain","shield","plain"]}}),Yb=x({color:{hue:"cyan",shade:"basic"},floor:"blacktooth",id:"blacktooth8fish",items:{"block@3,0,0":{config:{style:"tower",times:{z:4}},position:{x:3,y:0,z:0},type:"block"},"door@0,3,0":{config:{direction:"right",toRoom:"blacktooth9"},position:{x:0,y:3,z:0},type:"door"},"door@1,8,2":{config:{direction:"away",toRoom:"blacktooth7"},position:{x:1,y:8,z:2},type:"door"},"monster@3,3,1":{config:{activated:!0,movement:"patrol-randomly-diagonal",which:"dalek"},position:{x:3,y:3,z:1},type:"monster"},"pickup@3,0,3":{config:{gives:"reincarnation"},position:{x:3,y:0,z:4},type:"pickup"},scroll:{config:{gives:"scroll",page:"reincarnationFish"},position:{x:3,y:7,z:0},type:"pickup"},"spring@3,3,0":{config:{},position:{x:3,y:3,z:0},type:"spring"}},planet:"blacktooth",size:{x:4,y:8},walls:{away:["shield","none","none","shield"],left:["plain","armour","plain","shield","shield","plain","armour","plain"]}}),Xb=x({color:{hue:"yellow",shade:"basic"},floor:"deadly",id:"blacktooth9",items:{"block@0,4,0":{config:{style:"organic",times:{z:3}},position:{x:0,y:4,z:0},type:"block"},"block@3,4,0":{config:{disappearing:"onStand",style:"organic"},position:{x:3,y:4,z:0},type:"block"},"block@3,4,1":{config:{disappearing:"onStand",style:"organic"},position:{x:3,y:4,z:1},type:"block"},"block@3,4,2":{config:{disappearing:"onStand",style:"organic"},position:{x:3,y:4,z:2},type:"block"},"block@3,7,0":{config:{disappearing:"onStand",style:"organic"},position:{x:3,y:7,z:0},type:"block"},"block@3,7,1":{config:{disappearing:"onStand",style:"organic"},position:{x:3,y:7,z:1},type:"block"},"block@3,7,2":{config:{disappearing:"onStand",style:"organic"},position:{x:3,y:7,z:2},type:"block"},"block@7,0,0":{config:{style:"organic",times:{y:8}},position:{x:7,y:0,z:0},type:"block"},"block@7,7,1":{config:{style:"organic",times:{z:2}},position:{x:7,y:7,z:1},type:"block"},"door@8,3,2":{config:{direction:"left",toRoom:"blacktooth8fish"},position:{x:8,y:3,z:2},type:"door"},"pickup@0,4,7":{config:{gives:"hooter"},position:{x:0,y:4,z:7},type:"pickup"},scroll:{config:{gives:"scroll",page:"hooter"},position:{x:7,y:1,z:1},type:"pickup"}},planet:"blacktooth",size:{x:8,y:8},walls:{away:["plain","armour","plain","shield","shield","plain","armour","plain"],left:["plain","shield","plain","none","none","plain","shield","plain"]}}),Kb=x({color:{hue:"yellow",shade:"dimmed"},floor:"blacktooth",id:"blacktooth10",items:{"deadlyBlock@3,0,0":{config:{style:"volcano",times:{y:6}},position:{x:3,y:0,z:0},type:"deadlyBlock"},"deadlyBlock@8,0,0":{config:{style:"volcano",times:{y:6}},position:{x:8,y:0,z:0},type:"deadlyBlock"},"door@0,2,0":{config:{direction:"right",toRoom:"blacktooth7"},position:{x:0,y:2,z:0},type:"door"},"door@12,2,0":{config:{direction:"left",toRoom:"blacktooth11"},position:{x:12,y:2,z:0},type:"door"}},planet:"blacktooth",size:{x:12,y:6},walls:{away:["plain","armour","shield","shield","armour","plain","plain","armour","shield","shield","armour","plain"],left:["plain","shield","none","none","shield","plain"]}}),Zb=x({color:{hue:"yellow",shade:"basic"},floor:"market",id:"blacktooth11",items:{"block@2,0,0":{config:{style:"organic",times:{y:8,z:2}},position:{x:2,y:0,z:0},type:"block"},"block@3,0,2":{config:{style:"organic",times:{x:2,y:8}},position:{x:3,y:0,z:2},type:"block"},"block@5,0,0":{config:{style:"organic",times:{y:8,z:2}},position:{x:5,y:0,z:0},type:"block"},"door@0,3,0":{config:{direction:"right",toRoom:"blacktooth10"},position:{x:0,y:3,z:0},type:"door"},"door@3,0,0":{config:{direction:"towards",toRoom:"blacktooth31"},position:{x:3,y:0,z:0},type:"door"},"door@3,8,0":{config:{direction:"away",toRoom:"blacktooth32"},position:{x:3,y:8,z:0},type:"door"},"door@8,3,0":{config:{direction:"left",toRoom:"blacktooth12"},position:{x:8,y:3,z:0},type:"door"}},planet:"jail",size:{x:8,y:8},walls:{away:["bars","bars","bars","none","none","bars","bars","bars"],left:["bars","bars","bars","none","none","bars","bars","bars"]}}),Qb=x({color:{hue:"magenta",shade:"basic"},floor:"deadly",id:"blacktooth12",items:{"block@0,0,3":{config:{style:"organic",times:{y:2}},position:{x:0,y:0,z:3},type:"block"},"block@4,0,3":{config:{disappearing:"onStand",style:"organic"},position:{x:4,y:0,z:3},type:"block"},"block@4,1,3":{config:{disappearing:"onStand",style:"organic"},position:{x:4,y:1,z:3},type:"block"},"block@7,0,3":{config:{style:"organic",times:{y:2}},position:{x:7,y:0,z:3},type:"block"},"door@0,0,5":{config:{direction:"right",toRoom:"blacktooth11"},position:{x:0,y:0,z:5},type:"door"},"door@8,0,5":{config:{direction:"left",toRoom:"blacktooth13"},position:{x:8,y:0,z:5},type:"door"}},planet:"blacktooth",size:{x:8,y:2},walls:{away:["plain","armour","plain","shield","shield","plain","armour","plain"],left:["none","none"]}}),Jb=x({color:{hue:"yellow",shade:"basic"},floor:"blacktooth",id:"blacktooth13",items:{"deadlyBlock@0,1,0":{config:{style:"volcano"},position:{x:0,y:1,z:0},type:"deadlyBlock"},"deadlyBlock@0,4,0":{config:{style:"volcano"},position:{x:0,y:4,z:0},type:"deadlyBlock"},"deadlyBlock@1,0,0":{config:{style:"volcano"},position:{x:1,y:0,z:0},type:"deadlyBlock"},"deadlyBlock@1,5,0":{config:{style:"volcano"},position:{x:1,y:5,z:0},type:"deadlyBlock"},"deadlyBlock@4,0,0":{config:{style:"volcano"},position:{x:4,y:0,z:0},type:"deadlyBlock"},"deadlyBlock@4,5,0":{config:{style:"volcano"},position:{x:4,y:5,z:0},type:"deadlyBlock"},"deadlyBlock@5,1,0":{config:{style:"volcano"},position:{x:5,y:1,z:0},type:"deadlyBlock"},"deadlyBlock@5,4,0":{config:{style:"volcano"},position:{x:5,y:4,z:0},type:"deadlyBlock"},"door@0,2,0":{config:{direction:"right",toRoom:"blacktooth12"},position:{x:0,y:2,z:0},type:"door"},"door@2,6,0":{config:{direction:"away",toRoom:"blacktooth15"},position:{x:2,y:6,z:0},type:"door"},"door@6,2,0":{config:{direction:"left",toRoom:"blacktooth14"},position:{x:6,y:2,z:0},type:"door"}},planet:"blacktooth",size:{x:6,y:6},walls:{away:["plain","shield","none","none","shield","plain"],left:["plain","shield","none","none","shield","plain"]}}),tw=x({color:{hue:"white",shade:"basic"},floor:"blacktooth",id:"blacktooth14",items:{"barrier@4,0,0":{config:{axis:"y",times:{y:6}},position:{x:4,y:0,z:0},type:"barrier"},"barrier@4,0,1":{config:{axis:"y",times:{z:2}},position:{x:4,y:0,z:1},type:"barrier"},"barrier@4,1,1":{config:{axis:"y",disappearing:"onTouch"},position:{x:4,y:1,z:1},type:"barrier"},"barrier@4,1,2":{config:{axis:"y",times:{y:5}},position:{x:4,y:1,z:2},type:"barrier"},"barrier@4,2,1":{config:{axis:"y",times:{y:4}},position:{x:4,y:2,z:1},type:"barrier"},"door@0,2,0":{config:{direction:"right",toRoom:"blacktooth13"},position:{x:0,y:2,z:0},type:"door"},"monster@7,2,0":{config:{activated:!0,movement:"patrol-randomly-xy8",which:"helicopterBug"},position:{x:7,y:2,z:0},type:"monster"},"pickup@7,1,0":{config:{gives:"doughnuts"},position:{x:7,y:1,z:0},type:"pickup"},"pickup@7,4,0":{config:{gives:"fast"},position:{x:7,y:4,z:0},type:"pickup"}},planet:"blacktooth",size:{x:8,y:6},walls:{away:["plain","armour","plain","shield","shield","plain","armour","plain"],left:["plain","armour","shield","shield","armour","plain"]}}),ew=x({color:{hue:"cyan",shade:"basic"},floor:"blacktooth",id:"blacktooth15",items:{"door@0,0,0":{config:{direction:"towards",toRoom:"blacktooth13"},position:{x:0,y:0,z:0},type:"door"},"door@0,8,0":{config:{direction:"away",toRoom:"blacktooth16"},position:{x:0,y:8,z:0},type:"door"}},planet:"blacktooth",size:{x:2,y:8},walls:{away:["none","none"],left:["plain","armour","plain","shield","shield","plain","armour","plain"]}}),ow=x({color:{hue:"green",shade:"basic"},floor:"blacktooth",id:"blacktooth16",items:{"door@3,0,0":{config:{direction:"towards",toRoom:"blacktooth15"},position:{x:3,y:0,z:0},type:"door"},"door@8,3,0":{config:{direction:"left",toRoom:"blacktooth17triple"},position:{x:8,y:3,z:0},type:"door"},"monster@0,7,0":{config:{activated:!0,movement:"patrol-randomly-xy8",which:"bubbleRobot"},position:{x:0,y:7,z:0},type:"monster"},"monster@7,0,0":{config:{activated:!0,movement:"patrol-randomly-xy8",which:"bubbleRobot"},position:{x:7,y:0,z:0},type:"monster"},"monster@7,7,0":{config:{activated:!0,movement:"patrol-randomly-xy8",which:"bubbleRobot"},position:{x:7,y:7,z:0},type:"monster"},"slidingDeadly@3,3,0":{config:{style:"puck"},position:{x:3,y:3,z:0},type:"slidingDeadly"},"slidingDeadly@4,4,0":{config:{style:"puck"},position:{x:4,y:4,z:0},type:"slidingDeadly"}},planet:"blacktooth",size:{x:8,y:8},walls:{away:["plain","armour","plain","shield","shield","plain","armour","plain"],left:["plain","shield","plain","none","none","plain","shield","plain"]}}),iw=x({color:{hue:"yellow",shade:"basic"},floor:"blacktooth",id:"blacktooth17triple",items:{"deadlyBlock@1,2,0":{config:{style:"volcano",times:{y:2}},position:{x:1,y:2,z:0},type:"deadlyBlock"},"deadlyBlock@1,8,0":{config:{style:"volcano",times:{y:2}},position:{x:1,y:8,z:0},type:"deadlyBlock"},"deadlyBlock@10,2,0":{config:{style:"volcano",times:{y:2}},position:{x:10,y:2,z:0},type:"deadlyBlock"},"deadlyBlock@2,1,0":{config:{style:"volcano",times:{x:2}},position:{x:2,y:1,z:0},type:"deadlyBlock"},"deadlyBlock@2,10,0":{config:{style:"volcano",times:{x:2}},position:{x:2,y:10,z:0},type:"deadlyBlock"},"deadlyBlock@2,4,0":{config:{style:"volcano",times:{x:2}},position:{x:2,y:4,z:0},type:"deadlyBlock"},"deadlyBlock@2,7,0":{config:{style:"volcano",times:{x:2}},position:{x:2,y:7,z:0},type:"deadlyBlock"},"deadlyBlock@4,2,0":{config:{style:"volcano",times:{y:2}},position:{x:4,y:2,z:0},type:"deadlyBlock"},"deadlyBlock@4,8,0":{config:{style:"volcano",times:{y:2}},position:{x:4,y:8,z:0},type:"deadlyBlock"},"deadlyBlock@7,2,0":{config:{style:"volcano",times:{y:2}},position:{x:7,y:2,z:0},type:"deadlyBlock"},"deadlyBlock@8,1,0":{config:{style:"volcano",times:{x:2}},position:{x:8,y:1,z:0},type:"deadlyBlock"},"deadlyBlock@8,4,0":{config:{style:"volcano",times:{x:2}},position:{x:8,y:4,z:0},type:"deadlyBlock"},"door@0,2,0":{config:{direction:"right",toRoom:"blacktooth16"},position:{x:0,y:2,z:0},type:"door"},"door@12,2,0":{config:{direction:"left",toRoom:"blacktooth19"},position:{x:12,y:2,z:0},type:"door"},"door@6,8,0":{config:{direction:"left",toRoom:"blacktooth18"},position:{x:6,y:8,z:0},type:"door"},"monster@3,0,0":{config:{activated:!0,movement:"patrol-randomly-xy8",which:"helicopterBug"},position:{x:3,y:0,z:0},type:"monster"},"pickup@3,9,0":{config:{gives:"shield"},position:{x:3,y:9,z:0},type:"pickup"},"wall@10,6,0":{config:{side:"away",style:"armour"},position:{x:10,y:6,z:0},type:"wall"},"wall@11,6,0":{config:{side:"away",style:"plain"},position:{x:11,y:6,z:0},type:"wall"},"wall@6,10,0":{config:{side:"left",style:"shield"},position:{x:6,y:10,z:0},type:"wall"},"wall@6,11,0":{config:{side:"left",style:"plain"},position:{x:6,y:11,z:0},type:"wall"},"wall@6,6,0:1TQrOi":{config:{side:"left",style:"plain"},position:{x:6,y:6,z:0},type:"wall"},"wall@6,6,0:Z7IKOn":{config:{side:"away",style:"plain"},position:{x:6,y:6,z:0},type:"wall"},"wall@6,7,0":{config:{side:"left",style:"shield"},position:{x:6,y:7,z:0},type:"wall"},"wall@7,6,0":{config:{side:"away",style:"armour"},position:{x:7,y:6,z:0},type:"wall"},"wall@8,6,0":{config:{side:"away",style:"shield"},position:{x:8,y:6,z:0},type:"wall"},"wall@9,6,0":{config:{side:"away",style:"shield"},position:{x:9,y:6,z:0},type:"wall"}},planet:"blacktooth",size:{x:12,y:12},walls:{away:["plain","armour","shield","shield","armour","plain","none","none","none","none","none","none"],left:["plain","shield","none","none","shield","plain","none","none","none","none","none","none"]}}),sw=x({color:{hue:"cyan",shade:"dimmed"},floor:"blacktooth",id:"blacktooth18",items:{"block@3,3,0":{config:{style:"book",times:{z:2}},position:{x:3,y:3,z:0},type:"block"},"door@0,2,0":{config:{direction:"right",toRoom:"blacktooth17triple"},position:{x:0,y:2,z:0},type:"door"},"door@8,2,4":{config:{direction:"left",toRoom:"blacktooth20"},position:{x:8,y:2,z:4},type:"door"},"monster@4,3,0":{config:{activated:!0,movement:"back-forth",startDirection:"towards",style:"greenAndPink",which:"skiHead"},position:{x:4,y:3,z:0},type:"monster"},"portableBlock@3,3,2":{config:{style:"cube"},position:{x:3,y:3,z:2},type:"portableBlock"}},planet:"blacktooth",size:{x:8,y:6},walls:{away:["plain","armour","plain","shield","shield","plain","armour","plain"],left:["plain","shield","none","none","shield","plain"]}}),nw=x({color:{hue:"white",shade:"basic"},floor:"blacktooth",id:"blacktooth19",items:{"block@2,2,0":{config:{style:"tower",times:{z:3}},position:{x:2,y:2,z:0},type:"block"},"block@2,2,3":{config:{style:"organic",times:{x:4}},position:{x:2,y:2,z:3},type:"block"},"block@6,2,0":{config:{style:"tower",times:{z:3}},position:{x:6,y:2,z:0},type:"block"},"conveyor@6,2,3":{config:{direction:"away"},position:{x:6,y:2,z:3},type:"conveyor"},"door@0,3,0":{config:{direction:"right",toRoom:"blacktooth17triple"},position:{x:0,y:3,z:0},type:"door"},"door@3,8,5":{config:{direction:"away",toRoom:"blacktooth20"},position:{x:3,y:8,z:5},type:"door"},"lift@1,2,0":{config:{bottom:0,top:7},position:{x:1,y:2,z:0},type:"lift"},"movableBlock@3,2,4":{config:{movement:"free",style:"stepStool"},position:{x:3,y:2,z:4},type:"movableBlock"},"movableBlock@4,2,4":{config:{movement:"free",style:"stepStool"},position:{x:4,y:2,z:4},type:"movableBlock"},"movableBlock@5,2,4":{config:{movement:"free",style:"stepStool"},position:{x:5,y:2,z:4},type:"movableBlock"}},planet:"blacktooth",size:{x:8,y:8},walls:{away:["plain","shield","plain","none","none","plain","shield","plain"],left:["plain","armour","plain","shield","shield","plain","armour","plain"]}}),rw=x({color:{hue:"yellow",shade:"basic"},floor:"blacktooth",id:"blacktooth20",items:{"door@0,2,0":{config:{direction:"right",toRoom:"blacktooth18"},position:{x:0,y:2,z:0},type:"door"},"door@2,0,0":{config:{direction:"towards",toRoom:"blacktooth19"},position:{x:2,y:0,z:0},type:"door"},"door@2,6,0":{config:{direction:"away",toRoom:"blacktooth21fish"},position:{x:2,y:6,z:0},type:"door"}},planet:"blacktooth",size:{x:6,y:6},walls:{away:["plain","shield","none","none","shield","plain"],left:["plain","armour","shield","shield","armour","plain"]}}),aw=x({color:{hue:"yellow",shade:"dimmed"},floor:"deadly",id:"blacktooth21fish",items:{"block@0,0,0":{config:{style:"organic",times:{y:8}},position:{x:0,y:0,z:0},type:"block"},"block@3,0,0":{config:{style:"organic",times:{x:2}},position:{x:3,y:0,z:0},type:"block"},"block@3,4,0":{config:{style:"organic"},position:{x:3,y:4,z:0},type:"block"},"block@3,7,0":{config:{style:"organic",times:{x:2}},position:{x:3,y:7,z:0},type:"block"},"block@6,4,0":{config:{disappearing:"onStand",style:"organic"},position:{x:6,y:4,z:0},type:"block"},"block@7,4,0":{config:{style:"tower",times:{z:3}},position:{x:7,y:4,z:0},type:"block"},"door@3,0,1":{config:{direction:"towards",toRoom:"blacktooth20"},position:{x:3,y:0,z:1},type:"door"},"door@3,8,1":{config:{direction:"away",toRoom:"blacktooth22"},position:{x:3,y:8,z:2},type:"door"},"pickup@7,4,3":{config:{gives:"reincarnation"},position:{x:7,y:4,z:3},type:"pickup"}},planet:"blacktooth",size:{x:8,y:8},walls:{away:["plain","shield","plain","none","none","plain","shield","plain"],left:["plain","armour","plain","shield","shield","plain","armour","plain"]}}),lw=x({color:{hue:"white",shade:"dimmed"},floor:"none",id:"blacktooth22",items:{"block@2,0,0":{config:{style:"organic",times:{x:2}},position:{x:2,y:0,z:0},type:"block"},"door@2,0,1":{config:{direction:"towards",toRoom:"blacktooth21fish"},position:{x:2,y:0,z:1},type:"door"}},planet:"jail",roomBelow:"blacktooth44market",size:{x:6,y:6},walls:{away:["bars","bars","bars","bars","bars","bars"],left:["bars","bars","bars","bars","bars","bars"]}}),cw=x({color:{hue:"cyan",shade:"basic"},floor:"jail",id:"blacktooth23heels",items:{"barrier@4,0,0":{config:{axis:"y",times:{y:8,z:3}},position:{x:4,y:0,z:0},type:"barrier"},"conveyor@0,1,0":{config:{direction:"away",times:{y:6}},position:{x:0,y:1,z:0},type:"conveyor"},"deadlyBlock@0,7,0":{config:{style:"volcano"},position:{x:0,y:7,z:0},type:"deadlyBlock"},"door@8,3,0":{config:{direction:"left",toRoom:"blacktooth1head"},position:{x:8,y:3,z:0},type:"door"},heels:{config:{which:"heels"},position:{x:3,y:3.5,z:0},type:"player"},scroll:{config:{gives:"scroll",page:"head"},isExtra:!0,position:{x:7,y:1,z:0},type:"pickup"},scroll2:{config:{gives:"scroll",page:"heels"},isExtra:!0,position:{x:3,y:7,z:0},type:"pickup"},"teleporter@0,0,0":{config:{toPosition:{x:0,y:0,z:0},toRoom:"blacktooth24"},position:{x:0,y:0,z:0},type:"teleporter"}},planet:"jail",size:{x:8,y:8},walls:{away:["bars","bars","bars","bars","bars","bars","bars","bars"],left:["bars","bars","bars","none","none","bars","bars","bars"]}}),dw=x({color:{hue:"white",shade:"basic"},floor:"blacktooth",id:"blacktooth24",items:{"door@8,3,3":{config:{direction:"left",toRoom:"blacktooth25"},position:{x:8,y:3,z:3},type:"door"},map:{config:{gives:"extra-life"},isExtra:!0,position:{x:6,y:7,z:6},type:"pickup"},mapStacka:{config:{style:"book",times:{z:3}},isExtra:!0,position:{x:4,y:7,z:0},type:"block"},mapStackb:{config:{style:"book",times:{z:6}},isExtra:!0,position:{x:5,y:7,z:0},type:"block"},mapStackc:{config:{style:"tower",times:{z:6}},isExtra:!0,position:{x:6,y:7,z:0},type:"block"},"spring@4,4,0":{config:{},position:{x:4,y:4,z:0},type:"spring"},"teleporter@0,0,0":{config:{toPosition:{x:0,y:0,z:0},toRoom:"blacktooth23heels"},position:{x:0,y:0,z:0},type:"teleporter"}},planet:"blacktooth",size:{x:8,y:8},walls:{away:["plain","armour","plain","shield","shield","plain","armour","plain"],left:["plain","shield","plain","none","none","plain","shield","plain"]}}),pw=x({color:{hue:"cyan",shade:"basic"},floor:"blacktooth",id:"blacktooth25",items:{"conveyor@1,5,1":{config:{direction:"right"},position:{x:1,y:5,z:1},type:"conveyor"},"deadlyBlock@0,5,0":{config:{style:"volcano"},position:{x:0,y:5,z:0},type:"deadlyBlock"},"door@0,2,0":{config:{direction:"right",toRoom:"blacktooth24"},position:{x:0,y:2,z:0},type:"door"},"lift@5,0,7":{config:{bottom:0,top:11},position:{x:5,y:0,z:7},type:"lift"},scroll:{config:{gives:"scroll",page:"conveyorBelts"},position:{x:3,y:5,z:0},type:"pickup"}},planet:"blacktooth",roomAbove:"blacktooth26",size:{x:6,y:6},walls:{away:["plain","armour","shield","shield","armour","plain"],left:["plain","armour","shield","shield","armour","plain"]}}),yw=x({color:{hue:"cyan",shade:"basic"},floor:"none",id:"blacktooth26",items:{"conveyor@2,5,0":{config:{direction:"right",times:{x:4}},position:{x:2,y:5,z:0},type:"conveyor"},"conveyor@5,2,0":{config:{direction:"away",times:{y:3}},position:{x:5,y:2,z:0},type:"conveyor"},"door@2,6,2":{config:{direction:"away",toRoom:"blacktooth27fish"},position:{x:2,y:6,z:2},type:"door"},"lift@5,0,0":{config:{bottom:0,top:7},position:{x:5,y:0,z:0},type:"lift"}},planet:"jail",roomBelow:"blacktooth25",size:{x:6,y:6},walls:{away:["bars","bars","none","none","bars","bars"],left:["bars","bars","bars","bars","bars","bars"]}}),hw=x({color:{hue:"yellow",shade:"dimmed"},floor:"blacktooth",id:"blacktooth27fish",items:{"door@0,3,0":{config:{direction:"right",toRoom:"blacktooth28"},position:{x:0,y:3,z:0},type:"door"},"door@1,0,0":{config:{direction:"towards",toRoom:"blacktooth26"},position:{x:1,y:0,z:0},type:"door"},"door@1,8,3":{config:{direction:"away",toRoom:"blacktooth29"},position:{x:1,y:8,z:3},type:"door"},"movableBlock@2,3,0":{config:{movement:"free",style:"stepStool"},position:{x:2,y:3,z:0},type:"movableBlock"},"pickup@2,3,1":{config:{gives:"reincarnation"},position:{x:2,y:3,z:1},type:"pickup"},"portableBlock@0,0,0":{config:{style:"drum"},position:{x:0,y:0,z:0},type:"portableBlock"},scroll:{config:{gives:"scroll",page:"reincarnationFish"},position:{x:0,y:7,z:0},type:"pickup"}},planet:"blacktooth",size:{x:4,y:8},walls:{away:["shield","none","none","shield"],left:["plain","armour","plain","shield","shield","plain","armour","plain"]}}),uw=x({color:{hue:"cyan",shade:"dimmed"},floor:"deadly",id:"blacktooth28",items:{"block@5,0,0":{config:{style:"organic",times:{x:3,y:3}},position:{x:5,y:0,z:0},type:"block"},"block@7,3,0":{config:{style:"organic",times:{y:5}},position:{x:7,y:3,z:0},type:"block"},"charles@3,4,0":{config:{},position:{x:3,y:4,z:0},type:"charles"},"conveyor@0,7,2":{config:{direction:"right",times:{x:3}},position:{x:0,y:7,z:2},type:"conveyor"},"door@8,3,2":{config:{direction:"left",toRoom:"blacktooth27fish"},position:{x:8,y:3,z:2},type:"door"},"joystick@6,1,1":{config:{controls:["charles@3,4,0"]},position:{x:6,y:1,z:1},type:"joystick"},"pickup@2,7,7":{config:{gives:"bag"},position:{x:2,y:7,z:7},type:"pickup"},"portableBlock@1,7,0":{config:{style:"cube"},position:{x:1,y:7,z:0},type:"portableBlock"},scroll:{config:{gives:"scroll",page:"bag"},isExtra:!0,position:{x:3,y:0,z:1},type:"pickup"},scrollBlock:{config:{style:"organic"},isExtra:!0,position:{x:3,y:0,z:0},type:"block"}},planet:"blacktooth",size:{x:8,y:8},walls:{away:["plain","armour","plain","shield","shield","plain","armour","plain"],left:["plain","shield","plain","none","none","plain","shield","plain"]}}),fw=x({color:{hue:"white",shade:"dimmed"},floor:"blacktooth",id:"blacktooth29",items:{"door@2,0,0":{config:{direction:"towards",toRoom:"blacktooth27fish"},position:{x:2,y:0,z:0},type:"door"},"lift@0,7,7":{config:{bottom:0,top:11},position:{x:0,y:7,z:7},type:"lift"},"monster@0,6,0":{config:{activated:!0,movement:"towards-on-shortest-axis-xy4",startDirection:"towards",which:"cyberman"},position:{x:0,y:6,z:0},type:"monster"}},planet:"blacktooth",roomAbove:"blacktooth30",size:{x:6,y:8},walls:{away:["plain","armour","shield","shield","armour","plain"],left:["plain","armour","plain","shield","shield","plain","armour","plain"]}}),mw=x({color:{hue:"white",shade:"dimmed"},floor:"none",id:"blacktooth30",items:{"block@0,0,0":{config:{style:"organic",times:{y:8}},position:{x:0,y:0,z:0},type:"block"},"door@0,3,1":{config:{direction:"right",toRoom:"blacktooth31"},position:{x:0,y:3,z:1},type:"door"}},planet:"jail",roomBelow:"blacktooth29",size:{x:6,y:8},walls:{away:["bars","bars","bars","bars","bars","bars"],left:["bars","bars","bars","bars","bars","bars","bars","bars"]}}),gw=x({color:{hue:"green",shade:"basic"},floor:"blacktooth",id:"blacktooth31",items:{"block@5,2,0":{config:{style:"organic",times:{y:2}},position:{x:5,y:2,z:0},type:"block"},"block@5,2,1":{config:{style:"organic"},position:{x:5,y:2,z:1},type:"block"},"deadlyBlock@0,1,0":{config:{style:"volcano"},position:{x:0,y:1,z:0},type:"deadlyBlock"},"deadlyBlock@0,10,0":{config:{style:"volcano"},position:{x:0,y:10,z:0},type:"deadlyBlock"},"deadlyBlock@0,4,0":{config:{style:"volcano"},position:{x:0,y:4,z:0},type:"deadlyBlock"},"deadlyBlock@0,7,0":{config:{style:"volcano"},position:{x:0,y:7,z:0},type:"deadlyBlock"},"deadlyBlock@1,0,0":{config:{style:"volcano"},position:{x:1,y:0,z:0},type:"deadlyBlock"},"deadlyBlock@1,11,0":{config:{style:"volcano"},position:{x:1,y:11,z:0},type:"deadlyBlock"},"deadlyBlock@1,5,0":{config:{style:"volcano",times:{y:2}},position:{x:1,y:5,z:0},type:"deadlyBlock"},"deadlyBlock@4,0,0":{config:{style:"volcano"},position:{x:4,y:0,z:0},type:"deadlyBlock"},"deadlyBlock@4,11,0":{config:{style:"volcano"},position:{x:4,y:11,z:0},type:"deadlyBlock"},"deadlyBlock@4,5,0":{config:{style:"volcano",times:{y:2}},position:{x:4,y:5,z:0},type:"deadlyBlock"},"deadlyBlock@5,1,0":{config:{style:"volcano"},position:{x:5,y:1,z:0},type:"deadlyBlock"},"deadlyBlock@5,10,0":{config:{style:"volcano"},position:{x:5,y:10,z:0},type:"deadlyBlock"},"deadlyBlock@5,4,0":{config:{style:"volcano"},position:{x:5,y:4,z:0},type:"deadlyBlock"},"deadlyBlock@5,7,0":{config:{style:"volcano"},position:{x:5,y:7,z:0},type:"deadlyBlock"},"door@2,12,3":{config:{direction:"away",toRoom:"blacktooth11"},position:{x:2,y:12,z:3},type:"door"},"door@6,2,3":{config:{direction:"left",toRoom:"blacktooth30"},position:{x:6,y:2,z:3},type:"door"},"portableBlock@2,8,0":{config:{style:"drum"},position:{x:2,y:8,z:0},type:"portableBlock"},"portableBlock@3,9,0":{config:{style:"drum"},position:{x:3,y:9,z:0},type:"portableBlock"}},planet:"blacktooth",size:{x:6,y:12},walls:{away:["plain","shield","none","none","shield","plain"],left:["plain","shield","none","none","shield","plain","plain","armour","shield","shield","armour","plain"]}}),xw=x({color:{hue:"green",shade:"basic"},floor:"blacktooth",id:"blacktooth32",items:{"door@0,0,0":{config:{direction:"towards",toRoom:"blacktooth11"},position:{x:0,y:0,z:0},type:"door"},"door@0,8,0":{config:{direction:"away",toRoom:"blacktooth33"},position:{x:0,y:8,z:0},type:"door"}},planet:"blacktooth",size:{x:2,y:8},walls:{away:["none","none"],left:["plain","armour","plain","shield","shield","plain","armour","plain"]}}),bw=x({color:{hue:"cyan",shade:"basic"},floor:"blacktooth",id:"blacktooth33",items:{"door@3,0,0":{config:{direction:"towards",toRoom:"blacktooth32"},position:{x:3,y:0,z:0},type:"door"},"lift@7,7,0":{config:{bottom:0,top:11},position:{x:7,y:7,z:0},type:"lift"},"monster@0,3,0":{config:{activated:!0,movement:"towards-on-shortest-axis-xy4",startDirection:"towards",which:"cyberman"},position:{x:0,y:3,z:0},type:"monster"},"monster@7,4,0":{config:{activated:!0,movement:"patrol-randomly-diagonal",which:"dalek"},position:{x:7,y:4,z:0},type:"monster"},"pickup@0,7,0":{config:{gives:"jumps"},position:{x:0,y:7,z:0},type:"pickup"}},planet:"blacktooth",roomAbove:"blacktooth34",size:{x:8,y:8},walls:{away:["plain","armour","plain","shield","shield","plain","armour","plain"],left:["plain","armour","plain","shield","shield","plain","armour","plain"]}}),ww=x({color:{hue:"cyan",shade:"basic"},floor:"none",id:"blacktooth34",items:{"block@3,7,0":{config:{style:"organic"},position:{x:3,y:7,z:0},type:"block"},"block@5,7,0":{config:{disappearing:"onStand",style:"organic"},position:{x:5,y:7,z:0},type:"block"},"door@3,8,2":{config:{direction:"away",toRoom:"blacktooth35"},position:{x:3,y:8,z:2},type:"door"},"lift@7,7,0":{config:{bottom:0,top:6},position:{x:7,y:7,z:0},type:"lift"},scroll:{config:{gives:"scroll",page:"springs"},position:{x:2,y:7,z:1},type:"pickup"},scrollBlock:{config:{style:"organic"},position:{x:2,y:7,z:0},type:"block"}},planet:"jail",roomBelow:"blacktooth33",size:{x:8,y:8},walls:{away:["bars","bars","bars","none","none","bars","bars","bars"],left:["bars","bars","bars","bars","bars","bars","bars","bars"]}}),kw=x({color:{hue:"cyan",shade:"dimmed"},floor:"deadly",id:"blacktooth35",items:{"block@1,0,0":{config:{style:"organic"},position:{x:1,y:0,z:0},type:"block"},"block@1,10,0":{config:{disappearing:"onStand",style:"organic"},position:{x:1,y:10,z:0},type:"block"},"block@1,12,0":{config:{style:"organic"},position:{x:1,y:12,z:0},type:"block"},"block@1,6,0":{config:{style:"organic"},position:{x:1,y:6,z:0},type:"block"},"block@1,7,0":{config:{disappearing:"onStand",style:"organic"},position:{x:1,y:7,z:0},type:"block"},"block@1,8,0":{config:{style:"organic"},position:{x:1,y:8,z:0},type:"block"},"block@3,12,0":{config:{style:"organic"},position:{x:3,y:12,z:0},type:"block"},"door@1,0,1":{config:{direction:"towards",toRoom:"blacktooth34"},position:{x:1,y:0,z:1},type:"door"},"door@4,11,2":{config:{direction:"left",toRoom:"blacktooth36"},position:{x:4,y:11,z:2},type:"door"},"spring@1,2,0":{config:{},position:{x:1,y:2,z:0},type:"spring"},"spring@1,4,0":{config:{},position:{x:1,y:4,z:0},type:"spring"}},planet:"blacktooth",size:{x:4,y:16},walls:{away:["plain","shield","shield","plain"],left:["plain","armour","plain","shield","shield","plain","armour","plain","plain","shield","plain","none","none","plain","shield","plain"]}}),zw=x({color:{hue:"yellow",shade:"dimmed"},floor:"blacktooth",id:"blacktooth36",items:{"door@0,2,0":{config:{direction:"right",toRoom:"blacktooth35"},position:{x:0,y:2,z:0},type:"door"},"door@2,6,0":{config:{direction:"away",toRoom:"blacktooth37"},position:{x:2,y:6,z:0},type:"door"},scroll:{config:{gives:"scroll",page:"switches"},position:{x:4,y:5,z:0},type:"pickup"}},planet:"blacktooth",size:{x:6,y:6},walls:{away:["plain","shield","none","none","shield","plain"],left:["plain","armour","shield","shield","armour","plain"]}}),vw=x({color:{hue:"green",shade:"basic"},floor:"blacktooth",id:"blacktooth37",items:{"ball@0,1,0":{config:{},position:{x:0,y:1,z:0},type:"ball"},"door@1,0,0":{config:{direction:"towards",toRoom:"blacktooth36"},position:{x:1,y:0,z:0},type:"door"},"door@1,8,0":{config:{direction:"away",toRoom:"blacktooth38"},position:{x:1,y:8,z:0},type:"door"},"monster@0,5,0":{config:{activated:!0,movement:"back-forth",startDirection:"right",style:"starsAndStripes",which:"skiHead"},position:{x:0,y:5,z:0},type:"monster"},"monster@2,4,0":{config:{activated:!0,movement:"back-forth",startDirection:"right",style:"greenAndPink",which:"skiHead"},position:{x:2,y:4,z:0},type:"monster"},"monster@3,3,0":{config:{activated:!0,movement:"back-forth",startDirection:"right",style:"starsAndStripes",which:"skiHead"},position:{x:3,y:3,z:0},type:"monster"},"switch@0,7,0":{config:{activates:{"monster@0,5,0":{left:{activated:!0},right:{activated:!1}},"monster@2,4,0":{left:{activated:!0},right:{activated:!1}},"monster@3,3,0":{left:{activated:!0},right:{activated:!1}}}},position:{x:0,y:7,z:0},type:"switch"}},planet:"blacktooth",size:{x:4,y:8},walls:{away:["shield","none","none","shield"],left:["plain","armour","plain","shield","shield","plain","armour","plain"]}}),_w=x({color:{hue:"magenta",shade:"basic"},floor:"none",id:"blacktooth38",items:{"block@2,0,0":{config:{style:"organic",times:{x:2}},position:{x:2,y:0,z:0},type:"block"},"door@2,0,1":{config:{direction:"towards",toRoom:"blacktooth37"},position:{x:2,y:0,z:1},type:"door"}},planet:"jail",roomBelow:"blacktooth39",size:{x:6,y:6},walls:{away:["bars","bars","bars","bars","bars","bars"],left:["bars","bars","bars","bars","bars","bars"]}}),Bw=x({color:{hue:"magenta",shade:"basic"},floor:"blacktooth",id:"blacktooth39",items:{"door@2,6,5":{config:{direction:"away",toRoom:"blacktooth40fish"},position:{x:2,y:6,z:5},type:"door"},"door@6,2,5":{config:{direction:"left",toRoom:"blacktooth41"},position:{x:6,y:2,z:5},type:"door"},"lift@2,0,0":{config:{bottom:0,top:11},position:{x:2,y:0,z:0},type:"lift"},"monster@3,3,0":{config:{activated:!0,movement:"patrol-randomly-diagonal",which:"dalek"},position:{x:3,y:3,z:0},type:"monster"},"portableBlock@1,1,0":{config:{style:"cube"},position:{x:1,y:1,z:0},type:"portableBlock"},"portableBlock@1,4,0":{config:{style:"cube"},position:{x:1,y:4,z:0},type:"portableBlock"},"portableBlock@4,1,0":{config:{style:"cube"},position:{x:4,y:1,z:0},type:"portableBlock"},"portableBlock@4,4,0":{config:{style:"cube"},position:{x:4,y:4,z:0},type:"portableBlock"}},planet:"blacktooth",roomAbove:"blacktooth38",size:{x:6,y:6},walls:{away:["plain","shield","none","none","shield","plain"],left:["plain","shield","none","none","shield","plain"]}}),Sw=x({color:{hue:"cyan",shade:"basic"},floor:"deadly",id:"blacktooth40fish",items:{"block@2,0,0":{config:{style:"organic",times:{x:2}},position:{x:2,y:0,z:0},type:"block"},"block@3,15,0":{config:{style:"organic",times:{x:3}},position:{x:3,y:15,z:0},type:"block"},"conveyor@0,1,0":{config:{direction:"left"},position:{x:0,y:1,z:0},type:"conveyor"},"conveyor@0,10,0":{config:{direction:"away"},position:{x:0,y:10,z:0},type:"conveyor"},"conveyor@0,12,0":{config:{direction:"left"},position:{x:0,y:12,z:0},type:"conveyor"},"conveyor@0,14,0":{config:{direction:"left",times:{x:4}},position:{x:0,y:14,z:0},type:"conveyor"},"conveyor@0,3,0":{config:{direction:"left"},position:{x:0,y:3,z:0},type:"conveyor"},"conveyor@0,4,0":{config:{direction:"right"},position:{x:0,y:4,z:0},type:"conveyor"},"conveyor@2,1,0":{config:{direction:"right"},position:{x:2,y:1,z:0},type:"conveyor"},"conveyor@2,10,0":{config:{direction:"left"},position:{x:2,y:10,z:0},type:"conveyor"},"conveyor@2,4,0":{config:{direction:"right"},position:{x:2,y:4,z:0},type:"conveyor"},"conveyor@4,10,0":{config:{direction:"left"},position:{x:4,y:10,z:0},type:"conveyor"},"conveyor@4,4,0":{config:{direction:"away",times:{y:6}},position:{x:4,y:4,z:0},type:"conveyor"},"door@2,0,1":{config:{direction:"towards",toRoom:"blacktooth39"},position:{x:2,y:0,z:1},type:"door"},"pickup@3,15,1":{config:{gives:"extra-life"},position:{x:3,y:15,z:1},type:"pickup"},"pickup@4,15,1":{config:{gives:"shield"},position:{x:4,y:15,z:1},type:"pickup"},"pickup@5,15,1":{config:{gives:"reincarnation"},position:{x:5,y:15,z:1},type:"pickup"}},planet:"blacktooth",size:{x:6,y:16},walls:{away:["plain","armour","shield","shield","armour","plain"],left:["plain","armour","plain","shield","shield","plain","armour","plain","plain","armour","plain","shield","shield","plain","armour","plain"]}}),Aw=x({color:{hue:"white",shade:"basic"},floor:"blacktooth",id:"blacktooth41",items:{"door@0,0,0":{config:{direction:"right",toRoom:"blacktooth39"},position:{x:0,y:0,z:0},type:"door"},"door@8,0,0":{config:{direction:"left",toRoom:"blacktooth42"},position:{x:8,y:0,z:0},type:"door"}},planet:"blacktooth",size:{x:8,y:2},walls:{away:["plain","armour","plain","shield","shield","plain","armour","plain"],left:["none","none"]}}),Pw=x({color:{hue:"yellow",shade:"basic"},floor:"blacktooth",id:"blacktooth42",items:{"door@0,0,0":{config:{direction:"right",toRoom:"blacktooth41"},position:{x:0,y:0,z:0},type:"door"},"door@8,0,0":{config:{direction:"left",toRoom:"blacktooth43"},position:{x:8,y:0,z:0},type:"door"},"monster@3,1,0":{config:{activated:!0,movement:"back-forth",startDirection:"towards",style:"greenAndPink",which:"skiHead"},position:{x:3,y:1,z:0},type:"monster"},"spring@1,1,0":{config:{},position:{x:1,y:1,z:0},type:"spring"}},planet:"blacktooth",size:{x:8,y:2},walls:{away:["plain","armour","plain","shield","shield","plain","armour","plain"],left:["none","none"]}}),Rw=x({color:{hue:"yellow",shade:"dimmed"},floor:"none",id:"blacktooth43",items:{"block@0,2,0":{config:{style:"organic",times:{y:2}},position:{x:0,y:2,z:0},type:"block"},"door@0,2,1":{config:{direction:"right",toRoom:"blacktooth42"},position:{x:0,y:2,z:1},type:"door"}},planet:"jail",roomBelow:"blacktooth46market",size:{x:6,y:6},walls:{away:["bars","bars","bars","bars","bars","bars"],left:["bars","bars","bars","bars","bars","bars"]}}),Cw=x({color:{hue:"white",shade:"dimmed"},floor:"market",id:"blacktooth44market",items:{"door@0,2,0":{config:{direction:"right",toRoom:"blacktooth45market"},position:{x:0,y:2,z:0},type:"door"}},planet:"market",roomAbove:"blacktooth22",size:{x:6,y:6},walls:{away:["passage","more-fruits","fruits","more-fruits","fruits","passage"],left:["passage","more-fruits","fruits","more-fruits","fruits","passage"]}}),Mw=x({color:{hue:"magenta",shade:"basic"},floor:"market",id:"blacktooth45market",items:{"block@0,0,1":{config:{disappearing:"onStand",style:"organic"},position:{x:0,y:0,z:1},type:"block"},"block@0,1,0":{config:{style:"organic"},position:{x:0,y:1,z:0},type:"block"},"block@1,0,0":{config:{style:"organic"},position:{x:1,y:0,z:0},type:"block"},"block@6,7,0":{config:{style:"organic"},position:{x:6,y:7,z:0},type:"block"},"block@7,6,0":{config:{style:"organic"},position:{x:7,y:6,z:0},type:"block"},"block@7,7,1":{config:{disappearing:"onStand",style:"organic"},position:{x:7,y:7,z:1},type:"block"},"deadlyBlock@7,7,0":{config:{style:"volcano"},position:{x:7,y:7,z:0},type:"deadlyBlock"},"door@3,8,0":{config:{direction:"away",toRoom:"blacktooth46market"},position:{x:3,y:8,z:0},type:"door"},"door@8,3,0":{config:{direction:"left",toRoom:"blacktooth44market"},position:{x:8,y:3,z:0},type:"door"},"pickup@0,0,0":{config:{gives:"extra-life"},position:{x:0,y:0,z:0},type:"pickup"}},planet:"market",size:{x:8,y:8},walls:{away:["passage","more-fruits","fruits","none","none","more-fruits","fruits","passage"],left:["passage","more-fruits","fruits","none","none","more-fruits","fruits","passage"]}}),Ew=x({color:{hue:"yellow",shade:"dimmed"},floor:"market",id:"blacktooth46market",items:{"door@2,0,0":{config:{direction:"towards",toRoom:"blacktooth45market"},position:{x:2,y:0,z:0},type:"door"},"door@2,6,3":{config:{direction:"away",toRoom:"blacktooth47market"},position:{x:2,y:6,z:3},type:"door"},"portableBlock@0,0,0":{config:{style:"cube"},position:{x:0,y:0,z:0},type:"portableBlock"}},planet:"market",roomAbove:"blacktooth43",size:{x:6,y:6},walls:{away:["more-fruits","fruits","none","none","more-fruits","fruits"],left:["passage","more-fruits","fruits","more-fruits","fruits","passage"]}}),Iw=x({color:{hue:"white",shade:"dimmed"},floor:"deadly",id:"blacktooth47market",items:{"block@0,1,0":{config:{style:"organic",times:{x:3}},position:{x:0,y:1,z:0},type:"block"},"block@1,0,0":{config:{style:"organic",times:{x:3}},position:{x:1,y:0,z:0},type:"block"},"block@1,2,0":{config:{style:"organic"},position:{x:1,y:2,z:0},type:"block"},"block@4,7,0":{config:{style:"organic",times:{x:3}},position:{x:4,y:7,z:0},type:"block"},"block@5,6,0":{config:{style:"organic",times:{x:3}},position:{x:5,y:6,z:0},type:"block"},"block@6,5,0":{config:{style:"organic"},position:{x:6,y:5,z:0},type:"block"},"charles@0,7,0":{config:{},position:{x:0,y:7,z:0},type:"charles"},"door@3,0,1":{config:{direction:"towards",toRoom:"blacktooth46market"},position:{x:3,y:0,z:1},type:"door"},"door@3,8,2":{config:{direction:"away",toRoom:"blacktooth48market"},position:{x:3,y:8,z:2},type:"door"},"joystick@0,1,1":{config:{controls:["charles@0,7,0"]},position:{x:0,y:1,z:1},type:"joystick"},"joystick@1,0,1":{config:{controls:["charles@0,7,0"]},position:{x:1,y:0,z:1},type:"joystick"},"joystick@1,2,1":{config:{controls:["charles@0,7,0"]},position:{x:1,y:2,z:1},type:"joystick"},"joystick@2,1,1":{config:{controls:["charles@0,7,0"]},position:{x:2,y:1,z:1},type:"joystick"},"joystick@5,6,1":{config:{controls:["charles@0,7,0"]},position:{x:5,y:6,z:1},type:"joystick"},"joystick@6,5,1":{config:{controls:["charles@0,7,0"]},position:{x:6,y:5,z:1},type:"joystick"},"joystick@6,7,1":{config:{controls:["charles@0,7,0"]},position:{x:6,y:7,z:1},type:"joystick"},"joystick@7,6,1":{config:{controls:["charles@0,7,0"]},position:{x:7,y:6,z:1},type:"joystick"}},planet:"market",size:{x:8,y:8},walls:{away:["passage","more-fruits","fruits","none","none","more-fruits","fruits","passage"],left:["more-fruits","fruits","passage","more-fruits","fruits","passage","more-fruits","fruits"]}}),Tw=x({color:{hue:"magenta",shade:"basic"},floor:"market",id:"blacktooth48market",items:{"door@0,0,0":{config:{direction:"towards",toRoom:"blacktooth47market"},position:{x:0,y:0,z:0},type:"door"},"door@2,3,0":{config:{direction:"left",toRoom:"blacktooth49market"},position:{x:2,y:3,z:0},type:"door"},scroll:{config:{gives:"scroll",page:"blacktooth"},position:{x:1,y:6,z:0},type:"pickup"}},planet:"market",size:{x:2,y:8},walls:{away:["more-fruits","fruits"],left:["passage","more-fruits","fruits","none","none","more-fruits","fruits","passage"]}}),jw=x({color:{hue:"white",shade:"basic"},floor:"market",id:"blacktooth49market",items:{"deadlyBlock@3,0,0":{config:{style:"volcano",times:{x:2,z:2}},position:{x:3,y:0,z:0},type:"deadlyBlock"},"deadlyBlock@3,1,1":{config:{style:"volcano",times:{x:2}},position:{x:3,y:1,z:1},type:"deadlyBlock"},"door@0,0,0":{config:{direction:"right",toRoom:"blacktooth48market"},position:{x:0,y:0,z:0},type:"door"},"door@8,0,0":{config:{direction:"left",toRoom:"blacktooth50market"},position:{x:8,y:0,z:0},type:"door"}},planet:"market",size:{x:8,y:2},walls:{away:["more-fruits","fruits","passage","more-fruits","fruits","passage","more-fruits","fruits"],left:["none","none"]}}),Dw=x({color:{hue:"cyan",shade:"dimmed"},floor:"market",id:"blacktooth50market",items:{"door@0,3,0":{config:{direction:"right",toRoom:"blacktooth49market"},position:{x:0,y:3,z:0},type:"door"},"door@3,0,0":{config:{direction:"towards",toRoom:"blacktooth51"},position:{x:3,y:0,z:0},type:"door"},"door@8,3,0":{config:{direction:"left",toRoom:"blacktooth52market"},position:{x:8,y:3,z:0},type:"door"},"monster@0,0,0":{config:{activated:!0,movement:"patrol-randomly-xy8",which:"helicopterBug"},position:{x:0,y:0,z:0},type:"monster"},"monster@4,7,0":{config:{activated:!0,movement:"towards-on-shortest-axis-xy4",startDirection:"towards",which:"cyberman"},position:{x:4,y:7,z:0},type:"monster"},"monster@7,0,0":{config:{activated:!0,movement:"patrol-randomly-xy8",which:"helicopterBug"},position:{x:7,y:0,z:0},type:"monster"}},planet:"market",size:{x:8,y:8},walls:{away:["more-fruits","fruits","passage","more-fruits","fruits","passage","more-fruits","fruits"],left:["passage","more-fruits","fruits","none","none","more-fruits","fruits","passage"]}}),$w=x({color:{hue:"yellow",shade:"basic"},floor:"market",id:"blacktooth51",items:{"door@2,8,0":{config:{direction:"away",toRoom:"blacktooth50market"},position:{x:2,y:8,z:0},type:"door"},"teleporter@2,3,0":{config:{toPosition:{x:3,y:3,z:0},toRoom:"moonbase1"},position:{x:2,y:3,z:0},type:"teleporter"},"teleporter@2,4,0":{config:{toPosition:{x:3,y:4,z:0},toRoom:"moonbase1"},position:{x:2,y:4,z:0},type:"teleporter"},"teleporter@3,3,0":{config:{toPosition:{x:4,y:3,z:0},toRoom:"moonbase1"},position:{x:3,y:3,z:0},type:"teleporter"},"teleporter@3,4,0":{config:{toPosition:{x:4,y:4,z:0},toRoom:"moonbase1"},position:{x:3,y:4,z:0},type:"teleporter"}},planet:"jail",size:{x:6,y:8},walls:{away:["bars","bars","none","none","bars","bars"],left:["bars","bars","bars","bars","bars","bars","bars","bars"]}}),Fw=x({color:{hue:"yellow",shade:"dimmed"},floor:"market",id:"blacktooth52market",items:{"deadlyBlock@0,0,0":{config:{style:"volcano"},position:{x:0,y:0,z:0},type:"deadlyBlock"},"deadlyBlock@0,5,0":{config:{style:"volcano"},position:{x:0,y:5,z:0},type:"deadlyBlock"},"deadlyBlock@1,2,0":{config:{style:"volcano",times:{y:2}},position:{x:1,y:2,z:0},type:"deadlyBlock"},"deadlyBlock@2,1,0":{config:{style:"volcano",times:{x:2}},position:{x:2,y:1,z:0},type:"deadlyBlock"},"deadlyBlock@2,4,0":{config:{style:"volcano",times:{x:2}},position:{x:2,y:4,z:0},type:"deadlyBlock"},"deadlyBlock@4,2,0":{config:{style:"volcano",times:{y:2}},position:{x:4,y:2,z:0},type:"deadlyBlock"},"deadlyBlock@5,0,0":{config:{style:"volcano"},position:{x:5,y:0,z:0},type:"deadlyBlock"},"deadlyBlock@5,5,0":{config:{style:"volcano"},position:{x:5,y:5,z:0},type:"deadlyBlock"},"door@0,2,0":{config:{direction:"right",toRoom:"blacktooth50market"},position:{x:0,y:2,z:0},type:"door"},"door@2,6,0":{config:{direction:"away",toRoom:"blacktooth53market"},position:{x:2,y:6,z:0},type:"door"}},planet:"market",size:{x:6,y:6},walls:{away:["more-fruits","fruits","none","none","more-fruits","fruits"],left:["passage","more-fruits","fruits","more-fruits","fruits","passage"]}}),Ow=x({color:{hue:"white",shade:"dimmed"},floor:"market",id:"blacktooth53market",items:{"deadlyBlock@2,1,0":{config:{style:"spikes"},position:{x:2,y:1,z:0},type:"deadlyBlock"},"deadlyBlock@2,6,0":{config:{style:"spikes"},position:{x:2,y:6,z:0},type:"deadlyBlock"},"deadlyBlock@5,3,0":{config:{style:"spikes",times:{y:2}},position:{x:5,y:3,z:0},type:"deadlyBlock"},"door@2,0,0":{config:{direction:"towards",toRoom:"blacktooth52market"},position:{x:2,y:0,z:0},type:"door"},"door@2,8,0":{config:{direction:"away",toRoom:"blacktooth54"},position:{x:2,y:8,z:0},type:"door"},"monster@2,4,0":{config:{activated:!0,movement:"towards-when-in-square-xy8",which:"helicopterBug"},position:{x:2,y:4,z:0},type:"monster"}},planet:"market",size:{x:6,y:8},walls:{away:["more-fruits","fruits","none","none","more-fruits","fruits"],left:["more-fruits","fruits","passage","more-fruits","fruits","passage","more-fruits","fruits"]}}),Nw=x({color:{hue:"yellow",shade:"dimmed"},floor:"none",id:"blacktooth54",items:{"block@3,0,0":{config:{style:"organic",times:{x:2}},position:{x:3,y:0,z:0},type:"block"},"door@3,0,1":{config:{direction:"towards",toRoom:"blacktooth53market"},position:{x:3,y:0,z:1},type:"door"}},planet:"jail",roomBelow:"blacktooth55",size:{x:8,y:6},walls:{away:["bars","bars","bars","bars","bars","bars","bars","bars"],left:["bars","bars","bars","bars","bars","bars"]}}),Lw=x({color:{hue:"yellow",shade:"dimmed"},floor:"market",id:"blacktooth55",items:{"door@0,2,0":{config:{direction:"right",toRoom:"blacktooth56"},position:{x:0,y:2,z:0},type:"door"},"door@3,6,0":{config:{direction:"away",toRoom:"blacktooth61"},position:{x:3,y:6,z:0},type:"door"},"lift@3,0,0":{config:{bottom:0,top:11},position:{x:3,y:0,z:0},type:"lift"},scroll:{config:{gives:"scroll",page:"hushPuppies"},position:{x:5,y:5,z:0},type:"pickup"}},planet:"jail",roomAbove:"blacktooth54",size:{x:8,y:6},walls:{away:["bars","bars","bars","none","none","bars","bars","bars"],left:["bars","bars","bars","bars","bars","bars"]}}),Hw=x({color:{hue:"white",shade:"dimmed"},floor:"market",id:"blacktooth56",items:{"block@3,0,0":{config:{style:"organic",times:{y:2,z:2}},position:{x:3,y:0,z:0},type:"block"},"block@3,0,3":{config:{style:"organic",times:{y:2}},position:{x:3,y:0,z:3},type:"block"},"block@3,1,2":{config:{style:"organic"},position:{x:3,y:1,z:2},type:"block"},"deadlyBlock@0,0,0":{config:{style:"spikes",times:{y:2}},position:{x:0,y:0,z:0},type:"deadlyBlock"},"door@0,0,4":{config:{direction:"right",toRoom:"blacktooth57"},position:{x:0,y:0,z:4},type:"door"},"door@8,0,0":{config:{direction:"left",toRoom:"blacktooth55"},position:{x:8,y:0,z:0},type:"door"}},planet:"jail",size:{x:8,y:2},walls:{away:["bars","bars","bars","bars","bars","bars","bars","bars"],left:["none","none"]}}),Gw=x({color:{hue:"green",shade:"basic"},floor:"bookworld",id:"blacktooth57",items:{"door@3,8,0":{config:{direction:"away",toRoom:"blacktooth58triple"},position:{x:3,y:8,z:0},type:"door"},"door@8,3,0":{config:{direction:"left",toRoom:"blacktooth56"},position:{x:8,y:3,z:0},type:"door"},"teleporter@3,3,0":{config:{toPosition:{x:2,y:2,z:0},toRoom:"moonbase9"},position:{x:3,y:3,z:0},type:"teleporter"},"teleporter@3,4,0":{config:{toPosition:{x:2,y:3,z:0},toRoom:"moonbase9"},position:{x:3,y:4,z:0},type:"teleporter"},"teleporter@4,3,0":{config:{toPosition:{x:3,y:2,z:0},toRoom:"moonbase9"},position:{x:4,y:3,z:0},type:"teleporter"},"teleporter@4,4,0":{config:{toPosition:{x:3,y:3,z:0},toRoom:"moonbase9"},position:{x:4,y:4,z:0},type:"teleporter"}},planet:"blacktooth",size:{x:8,y:8},walls:{away:["plain","shield","plain","none","none","plain","shield","plain"],left:["plain","shield","plain","none","none","plain","shield","plain"]}}),Ww=x({color:{hue:"white",shade:"basic"},floor:"deadly",id:"blacktooth58triple",items:{"block@0,11,0":{config:{disappearing:"onStand",style:"organic"},position:{x:0,y:11,z:0},type:"block"},"block@0,13,0":{config:{style:"organic",times:{x:6}},position:{x:0,y:13,z:0},type:"block"},"block@0,7,0":{config:{style:"organic",times:{x:6}},position:{x:0,y:7,z:0},type:"block"},"block@13,3,0":{config:{disappearing:"onStand",style:"organic"},position:{x:13,y:3,z:0},type:"block"},"block@2,0,0":{config:{style:"organic",times:{x:5}},position:{x:2,y:0,z:0},type:"block"},"block@8,0,0":{config:{style:"organic",times:{x:6}},position:{x:8,y:0,z:0},type:"block"},"block@8,5,0":{config:{style:"organic",times:{x:6}},position:{x:8,y:5,z:0},type:"block"},"conveyor@5,5,0":{config:{direction:"away",times:{y:2}},position:{x:5,y:5,z:0},type:"conveyor"},"conveyor@6,5,0":{config:{direction:"left"},position:{x:6,y:5,z:0},type:"conveyor"},"deadlyBlock@0,9,0":{config:{style:"spikes",times:{z:2}},position:{x:0,y:9,z:0},type:"deadlyBlock"},"deadlyBlock@4,8,0":{config:{style:"spikes",times:{y:2}},position:{x:4,y:8,z:0},type:"deadlyBlock"},"deadlyBlock@7,0,0":{config:{style:"volcano",times:{y:6}},position:{x:7,y:0,z:0},type:"deadlyBlock"},"door@2,0,1":{config:{direction:"towards",toRoom:"blacktooth57"},position:{x:2,y:0,z:1},type:"door"},"door@2,14,2":{config:{direction:"away",toRoom:"blacktooth59"},position:{x:2,y:14,z:2},type:"door"},"monster@4,9,1":{config:{activated:!0,movement:"towards-tripped-on-axis-xy4",which:"homingBot"},position:{x:4,y:9,z:1},type:"monster"},"monster@7,3,1":{config:{activated:!0,movement:"towards-tripped-on-axis-xy4",which:"homingBot"},position:{x:7,y:3,z:1},type:"monster"},"pickup@13,5,1":{config:{gives:"fast"},position:{x:13,y:5,z:1},type:"pickup"},"wall@10,6,0":{config:{side:"away",style:"bars"},position:{x:10,y:6,z:0},type:"wall"},"wall@11,6,0":{config:{side:"away",style:"bars"},position:{x:11,y:6,z:0},type:"wall"},"wall@12,6,0":{config:{side:"away",style:"bars"},position:{x:12,y:6,z:0},type:"wall"},"wall@13,6,0":{config:{side:"away",style:"bars"},position:{x:13,y:6,z:0},type:"wall"},"wall@6,10,0":{config:{side:"left",style:"bars"},position:{x:6,y:10,z:0},type:"wall"},"wall@6,11,0":{config:{side:"left",style:"bars"},position:{x:6,y:11,z:0},type:"wall"},"wall@6,12,0":{config:{side:"left",style:"bars"},position:{x:6,y:12,z:0},type:"wall"},"wall@6,13,0":{config:{side:"left",style:"bars"},position:{x:6,y:13,z:0},type:"wall"},"wall@6,6,0:Z2rXegQ":{config:{side:"away",style:"bars"},position:{x:6,y:6,z:0},type:"wall"},"wall@6,6,0:ZfQXkd":{config:{side:"left",style:"bars"},position:{x:6,y:6,z:0},type:"wall"},"wall@6,7,0":{config:{side:"left",style:"bars"},position:{x:6,y:7,z:0},type:"wall"},"wall@6,8,0":{config:{side:"left",style:"bars"},position:{x:6,y:8,z:0},type:"wall"},"wall@6,9,0":{config:{side:"left",style:"bars"},position:{x:6,y:9,z:0},type:"wall"},"wall@7,6,0":{config:{side:"away",style:"bars"},position:{x:7,y:6,z:0},type:"wall"},"wall@8,6,0":{config:{side:"away",style:"bars"},position:{x:8,y:6,z:0},type:"wall"},"wall@9,6,0":{config:{side:"away",style:"bars"},position:{x:9,y:6,z:0},type:"wall"}},planet:"jail",size:{x:14,y:14},walls:{away:["bars","bars","none","none","bars","bars","none","none","none","none","none","none","none","none"],left:["bars","bars","bars","bars","bars","bars","none","none","none","none","none","none","none","none"]}}),Uw=x({color:{hue:"yellow",shade:"basic"},floor:"bookworld",id:"blacktooth59",items:{"block@0,1,2":{config:{style:"book",times:{x:2}},position:{x:0,y:1,z:2},type:"block"},"block@0,1,4":{config:{style:"book",times:{x:2,z:2}},position:{x:0,y:1,z:4},type:"block"},"block@0,2,1":{config:{style:"book"},position:{x:0,y:2,z:1},type:"block"},"block@0,3,0":{config:{style:"book"},position:{x:0,y:3,z:0},type:"block"},"block@1,0,3":{config:{style:"organic",times:{x:6}},position:{x:1,y:0,z:3},type:"block"},"block@1,1,0":{config:{style:"book",times:{z:2}},position:{x:1,y:1,z:0},type:"block"},"block@1,1,3":{config:{style:"book"},position:{x:1,y:1,z:3},type:"block"},"deadlyBlock@0,0,0":{config:{style:"volcano"},position:{x:0,y:0,z:0},type:"deadlyBlock"},"deadlyBlock@0,1,6":{config:{style:"volcano",times:{x:2}},position:{x:0,y:1,z:6},type:"deadlyBlock"},"door@3,0,4":{config:{direction:"towards",toRoom:"blacktooth58triple"},position:{x:3,y:0,z:4},type:"door"},"door@3,8,0":{config:{direction:"away",toRoom:"blacktooth60"},position:{x:3,y:8,z:0},type:"door"},"door@8,3,0":{config:{direction:"left",toRoom:"blacktooth63"},position:{x:8,y:3,z:0},type:"door"}},planet:"jail",size:{x:8,y:8},walls:{away:["bars","bars","bars","none","none","bars","bars","bars"],left:["bars","bars","bars","none","none","bars","bars","bars"]}}),Vw=x({color:{hue:"cyan",shade:"dimmed"},floor:"bookworld",id:"blacktooth60",items:{"barrier@0,3,0":{config:{axis:"x",times:{x:3,z:3}},position:{x:0,y:3,z:0},type:"barrier"},"barrier@3,4,0":{config:{axis:"y",times:{y:4,z:3}},position:{x:3,y:4,z:0},type:"barrier"},"door@3,0,0":{config:{direction:"towards",toRoom:"blacktooth59"},position:{x:3,y:0,z:0},type:"door"},"pickup@0,4,0":{config:{gives:"extra-life"},position:{x:0,y:4,z:0},type:"pickup"},"teleporter@0,6,0":{config:{toPosition:{x:0,y:6,z:0},toRoom:"moonbase8"},position:{x:0,y:6,z:0},type:"teleporter"},"teleporter@0,7,0":{config:{toPosition:{x:0,y:7,z:0},toRoom:"moonbase8"},position:{x:0,y:7,z:0},type:"teleporter"},"teleporter@1,6,0":{config:{toPosition:{x:1,y:6,z:0},toRoom:"moonbase8"},position:{x:1,y:6,z:0},type:"teleporter"},"teleporter@1,7,0":{config:{toPosition:{x:1,y:7,z:0},toRoom:"moonbase8"},position:{x:1,y:7,z:0},type:"teleporter"},"teleporter@6,6,0":{config:{toPosition:{x:6,y:6,z:0},toRoom:"moonbase8"},position:{x:6,y:6,z:0},type:"teleporter"},"teleporter@6,7,0":{config:{toPosition:{x:6,y:7,z:0},toRoom:"moonbase8"},position:{x:6,y:7,z:0},type:"teleporter"},"teleporter@7,6,0":{config:{toPosition:{x:7,y:6,z:0},toRoom:"moonbase8"},position:{x:7,y:6,z:0},type:"teleporter"},"teleporter@7,7,0":{config:{toPosition:{x:7,y:7,z:0},toRoom:"moonbase8"},position:{x:7,y:7,z:0},type:"teleporter"}},planet:"blacktooth",size:{x:8,y:8},walls:{away:["plain","armour","plain","shield","shield","plain","armour","plain"],left:["plain","armour","plain","shield","shield","plain","armour","plain"]}}),qw=x({color:{hue:"magenta",shade:"basic"},floor:"bookworld",id:"blacktooth61",items:{"door@1,0,0":{config:{direction:"towards",toRoom:"blacktooth55"},position:{x:1,y:0,z:0},type:"door"},"door@1,8,5":{config:{direction:"away",toRoom:"blacktooth62fish"},position:{x:1,y:8,z:5},type:"door"},"hushPuppy@0,7,0":{config:{times:{x:3}},position:{x:0,y:7,z:0},type:"hushPuppy"},"hushPuppy@1,7,1":{config:{times:{x:2}},position:{x:1,y:7,z:1},type:"hushPuppy"},"hushPuppy@2,7,2":{config:{},position:{x:2,y:7,z:2},type:"hushPuppy"},"monster@3,7,1":{config:{activated:!0,movement:"patrol-randomly-diagonal",which:"dalek"},position:{x:3,y:7,z:1},type:"monster"},"portableBlock@3,7,0":{config:{style:"drum"},position:{x:3,y:7,z:0},type:"portableBlock"}},planet:"jail",size:{x:4,y:8},walls:{away:["bars","none","none","bars"],left:["bars","bars","bars","bars","bars","bars","bars","bars"]}}),Yw=x({color:{hue:"green",shade:"basic"},floor:"deadly",id:"blacktooth62fish",items:{"block@0,0,0":{config:{style:"organic",times:{x:6}},position:{x:0,y:0,z:0},type:"block"},"block@0,7,0":{config:{style:"organic",times:{y:9}},position:{x:0,y:7,z:0},type:"block"},"block@1,12,0":{config:{style:"organic"},position:{x:1,y:12,z:0},type:"block"},"block@5,15,0":{config:{style:"organic"},position:{x:5,y:15,z:0},type:"block"},"block@5,9,0":{config:{style:"organic",times:{y:2}},position:{x:5,y:9,z:0},type:"block"},"conveyor@5,4,0":{config:{direction:"away",times:{y:5}},position:{x:5,y:4,z:0},type:"conveyor"},"door@0,11,1":{config:{direction:"right",toRoom:"blacktooth63"},position:{x:0,y:11,z:1},type:"door"},"door@2,0,1":{config:{direction:"towards",toRoom:"blacktooth61"},position:{x:2,y:0,z:1},type:"door"},"pickup@5,15,1":{config:{gives:"reincarnation"},position:{x:5,y:15,z:1},type:"pickup"},"portableBlock@0,1,0":{config:{style:"cube"},position:{x:0,y:1,z:0},type:"portableBlock"},"portableBlock@0,2,0":{config:{style:"cube"},position:{x:0,y:2,z:0},type:"portableBlock"},"spring@0,6,0":{config:{},position:{x:0,y:6,z:0},type:"spring"},"spring@4,15,0":{config:{},position:{x:4,y:15,z:0},type:"spring"},"spring@5,12,0":{config:{},position:{x:5,y:12,z:0},type:"spring"}},planet:"jail",size:{x:6,y:16},walls:{away:["bars","bars","bars","bars","bars","bars"],left:["bars","bars","bars","bars","bars","bars","bars","bars","bars","bars","bars","bars","bars","bars","bars","bars"]}}),Xw=x({color:{hue:"cyan",shade:"basic"},floor:"bookworld",id:"blacktooth63",items:{"block@6,0,3":{config:{style:"artificial",times:{y:2}},position:{x:6,y:0,z:3},type:"block"},"block@7,0,3":{config:{disappearing:"onStand",style:"artificial"},position:{x:7,y:0,z:3},type:"block"},"block@7,1,3":{config:{disappearing:"onStand",style:"artificial"},position:{x:7,y:1,z:3},type:"block"},"door@0,0,0":{config:{direction:"right",toRoom:"blacktooth59"},position:{x:0,y:0,z:0},type:"door"},"door@8,0,5":{config:{direction:"left",toRoom:"blacktooth62fish"},position:{x:8,y:0,z:5},type:"door"},"hushPuppy@3,0,0":{config:{times:{y:2}},position:{x:3,y:0,z:0},type:"hushPuppy"},"hushPuppy@4,0,1":{config:{times:{y:2}},position:{x:4,y:0,z:1},type:"hushPuppy"},"hushPuppy@5,0,2":{config:{times:{y:2}},position:{x:5,y:0,z:2},type:"hushPuppy"},"monster@4,1,0":{config:{activated:!0,movement:"towards-when-in-square-xy8",which:"helicopterBug"},position:{x:4,y:1,z:0},type:"monster"},"pickup@5,1,3":{config:{gives:"jumps"},position:{x:5,y:1,z:3},type:"pickup"}},planet:"jail",size:{x:8,y:2},walls:{away:["bars","bars","bars","bars","bars","bars","bars","bars"],left:["none","none"]}}),Kw=x({color:{hue:"white",shade:"basic"},floor:"blacktooth",id:"blacktooth64",items:{"door@2,6,0":{config:{direction:"away",toRoom:"blacktooth65"},position:{x:2,y:6,z:0},type:"door"},"teleporter@2,2,0":{config:{toPosition:{x:2,y:2,z:0},toRoom:"moonbase31"},position:{x:2,y:2,z:0},type:"teleporter"},"teleporter@2,3,0":{config:{toPosition:{x:2,y:3,z:0},toRoom:"moonbase31"},position:{x:2,y:3,z:0},type:"teleporter"},"teleporter@3,2,0":{config:{toPosition:{x:3,y:2,z:0},toRoom:"moonbase31"},position:{x:3,y:2,z:0},type:"teleporter"},"teleporter@3,3,0":{config:{toPosition:{x:3,y:3,z:0},toRoom:"moonbase31"},position:{x:3,y:3,z:0},type:"teleporter"}},planet:"blacktooth",size:{x:6,y:6},walls:{away:["plain","shield","none","none","shield","plain"],left:["plain","armour","shield","shield","armour","plain"]}}),Zw=x({color:{hue:"white",shade:"basic"},floor:"blacktooth",id:"blacktooth65",items:{"door@0,0,0":{config:{direction:"towards",toRoom:"blacktooth64"},position:{x:0,y:0,z:0},type:"door"},"door@0,8,0":{config:{direction:"away",toRoom:"blacktooth66"},position:{x:0,y:8,z:0},type:"door"},"monster@1,4,0":{config:{activated:!0,movement:"clockwise",startDirection:"right",which:"turtle"},position:{x:1,y:4,z:0},type:"monster"}},planet:"blacktooth",size:{x:2,y:8},walls:{away:["none","none"],left:["plain","armour","plain","shield","shield","plain","armour","plain"]}}),Qw=x({color:{hue:"white",shade:"basic"},floor:"blacktooth",id:"blacktooth66",items:{"door@0,3,0":{config:{direction:"right",toRoom:"blacktooth67"},position:{x:0,y:3,z:0},type:"door"},"door@2,0,0":{config:{direction:"towards",toRoom:"blacktooth65"},position:{x:2,y:0,z:0},type:"door"},"door@2,8,0":{config:{direction:"away",toRoom:"blacktooth68"},position:{x:2,y:8,z:0},type:"door"}},planet:"blacktooth",size:{x:6,y:8},walls:{away:["plain","shield","none","none","shield","plain"],left:["plain","armour","plain","shield","shield","plain","armour","plain"]}}),Jw=x({color:{hue:"white",shade:"basic"},floor:"blacktooth",id:"blacktooth67",items:{"block@0,0,4":{config:{style:"organic",times:{y:8}},position:{x:0,y:0,z:4},type:"block"},"block@6,3,0":{config:{style:"organic",times:{x:2}},position:{x:6,y:3,z:0},type:"block"},"block@7,3,1":{config:{style:"organic",times:{y:2}},position:{x:7,y:3,z:1},type:"block"},"block@7,4,0":{config:{style:"organic"},position:{x:7,y:4,z:0},type:"block"},"block@7,4,2":{config:{style:"organic"},position:{x:7,y:4,z:2},type:"block"},"door@0,3,5":{config:{direction:"right",toRoom:"blacktooth69"},position:{x:0,y:3,z:5},type:"door"},"door@3,8,4":{config:{direction:"away",toRoom:"blacktooth70"},position:{x:3,y:8,z:4},type:"door"},"door@8,3,4":{config:{direction:"left",toRoom:"blacktooth66"},position:{x:8,y:3,z:4},type:"door"},"spring@0,0,5":{config:{},position:{x:0,y:0,z:5},type:"spring"},towerA0:{config:{style:"tower"},position:{x:0,y:0,z:0},type:"block"},towerA1:{config:{style:"tower"},position:{x:0,y:0,z:1},type:"block"},towerA2:{config:{style:"tower"},position:{x:0,y:0,z:2},type:"block"},towerA3:{config:{style:"tower"},position:{x:0,y:0,z:3},type:"block"},towerB0:{config:{style:"tower"},position:{x:0,y:7,z:0},type:"block"},towerB1:{config:{style:"tower"},position:{x:0,y:7,z:1},type:"block"},towerB2:{config:{style:"tower"},position:{x:0,y:7,z:2},type:"block"},towerB3:{config:{style:"tower"},position:{x:0,y:7,z:3},type:"block"}},planet:"blacktooth",size:{x:8,y:8},walls:{away:["plain","shield","plain","none","none","plain","shield","plain"],left:["plain","shield","plain","none","none","plain","shield","plain"]}}),tk=x({color:{hue:"white",shade:"basic"},floor:"deadly",id:"blacktooth68",items:{"block@0,0,0":{config:{disappearing:"onStand",style:"organic"},position:{x:0,y:0,z:0},type:"block"},"block@0,0,1":{config:{disappearing:"onStand",style:"organic"},position:{x:0,y:0,z:1},type:"block"},"block@0,0,2":{config:{disappearing:"onStand",style:"organic"},position:{x:0,y:0,z:2},type:"block"},"block@0,5,0":{config:{disappearing:"onStand",style:"organic"},position:{x:0,y:5,z:0},type:"block"},"block@0,5,1":{config:{disappearing:"onStand",style:"organic"},position:{x:0,y:5,z:1},type:"block"},"block@0,5,2":{config:{disappearing:"onStand",style:"organic"},position:{x:0,y:5,z:2},type:"block"},"block@2,7,0":{config:{disappearing:"onStand",style:"organic"},position:{x:2,y:7,z:0},type:"block"},"block@2,7,1":{config:{disappearing:"onStand",style:"organic"},position:{x:2,y:7,z:1},type:"block"},"block@2,7,2":{config:{disappearing:"onStand",style:"organic"},position:{x:2,y:7,z:2},type:"block"},"block@3,0,3":{config:{style:"organic",times:{x:2}},position:{x:3,y:0,z:3},type:"block"},"block@7,4,3":{config:{style:"organic"},position:{x:7,y:4,z:3},type:"block"},"block@7,7,0":{config:{disappearing:"onStand",style:"organic"},position:{x:7,y:7,z:0},type:"block"},"block@7,7,1":{config:{disappearing:"onStand",style:"organic"},position:{x:7,y:7,z:1},type:"block"},"block@7,7,2":{config:{disappearing:"onStand",style:"organic"},position:{x:7,y:7,z:2},type:"block"},"door@3,0,5":{config:{direction:"towards",toRoom:"blacktooth66"},position:{x:3,y:0,z:5},type:"door"},"door@8,3,5":{config:{direction:"left",toRoom:"blacktooth76"},position:{x:8,y:3,z:5},type:"door"}},planet:"blacktooth",size:{x:8,y:8},walls:{away:["plain","armour","plain","shield","shield","plain","armour","plain"],left:["plain","shield","plain","none","none","plain","shield","plain"]}}),ek=x({color:{hue:"white",shade:"basic"},floor:"blacktooth",id:"blacktooth69",items:{"door@6,2,0":{config:{direction:"left",toRoom:"blacktooth67"},position:{x:6,y:2,z:0},type:"door"},"teleporter@2,2,0":{config:{toPosition:{x:2,y:2,z:0},toRoom:"moonbase36"},position:{x:2,y:2,z:0},type:"teleporter"},"teleporter@2,3,0":{config:{toPosition:{x:2,y:3,z:0},toRoom:"moonbase36"},position:{x:2,y:3,z:0},type:"teleporter"},"teleporter@3,2,0":{config:{toPosition:{x:3,y:2,z:0},toRoom:"moonbase36"},position:{x:3,y:2,z:0},type:"teleporter"},"teleporter@3,3,0":{config:{toPosition:{x:3,y:3,z:0},toRoom:"moonbase36"},position:{x:3,y:3,z:0},type:"teleporter"}},planet:"blacktooth",size:{x:6,y:6},walls:{away:["plain","armour","shield","shield","armour","plain"],left:["plain","shield","none","none","shield","plain"]}}),ok=x({color:{hue:"white",shade:"basic"},floor:"blacktooth",id:"blacktooth70",items:{"block@0,5,0":{config:{style:"organic",times:{x:2,z:2}},position:{x:0,y:5,z:0},type:"block"},"block@0,6,1":{config:{style:"organic",times:{x:2,y:2}},position:{x:0,y:6,z:1},type:"block"},"deadlyBlock@0,5,4":{config:{style:"volcano",times:{x:2}},position:{x:0,y:5,z:4},type:"deadlyBlock"},"deadlyBlock@1,5,2":{config:{style:"volcano",times:{z:2}},position:{x:1,y:5,z:2},type:"deadlyBlock"},"door@0,0,0":{config:{direction:"towards",toRoom:"blacktooth67"},position:{x:0,y:0,z:0},type:"door"},"door@0,8,3":{config:{direction:"away",toRoom:"blacktooth71"},position:{x:0,y:8,z:3},type:"door"}},planet:"blacktooth",size:{x:2,y:8},walls:{away:["none","none"],left:["plain","armour","plain","shield","shield","plain","armour","plain"]}}),ik=x({color:{hue:"white",shade:"basic"},floor:"blacktooth",id:"blacktooth71",items:{"block@0,2,3":{config:{style:"organic",times:{y:2}},position:{x:0,y:2,z:3},type:"block"},"deadlyBlock@2,0,0":{config:{style:"volcano",times:{y:2}},position:{x:2,y:0,z:0},type:"deadlyBlock"},"deadlyBlock@2,4,0":{config:{style:"volcano",times:{y:2}},position:{x:2,y:4,z:0},type:"deadlyBlock"},"deadlyBlock@3,2,0":{config:{style:"volcano",times:{y:2}},position:{x:3,y:2,z:0},type:"deadlyBlock"},"door@0,2,4":{config:{direction:"right",toRoom:"blacktooth77"},position:{x:0,y:2,z:4},type:"door"},"door@3,0,0":{config:{direction:"towards",toRoom:"blacktooth70"},position:{x:3,y:0,z:0},type:"door"},"door@3,6,0":{config:{direction:"away",toRoom:"blacktooth72"},position:{x:3,y:6,z:0},type:"door"},"monster@2,3,0":{config:{activated:!0,movement:"patrol-randomly-diagonal",which:"dalek"},position:{x:2,y:3,z:0},type:"monster"},"portableBlock@0,5,0":{config:{style:"cube"},position:{x:0,y:5,z:0},type:"portableBlock"},scroll:{config:{gives:"scroll",page:"theEmperorsGuardian"},position:{x:7,y:3,z:0},type:"pickup"}},planet:"blacktooth",size:{x:8,y:6},walls:{away:["plain","shield","plain","none","none","plain","shield","plain"],left:["plain","armour","shield","shield","armour","plain"]}}),sk=x({color:{hue:"white",shade:"basic"},floor:"blacktooth",id:"blacktooth72",items:{"block@7,3,2":{config:{style:"organic"},position:{x:7,y:3,z:2},type:"block"},"block@7,4,1":{config:{style:"organic"},position:{x:7,y:4,z:1},type:"block"},"block@7,5,0":{config:{style:"organic"},position:{x:7,y:5,z:0},type:"block"},"door@0,2,0":{config:{direction:"right",toRoom:"blacktooth78"},position:{x:0,y:2,z:0},type:"door"},"door@3,0,0":{config:{direction:"towards",toRoom:"blacktooth71"},position:{x:3,y:0,z:0},type:"door"},"door@8,2,4":{config:{direction:"left",toRoom:"blacktooth73"},position:{x:8,y:2,z:4},type:"door"},"monster@0,5,0":{config:{activated:!0,movement:"patrol-randomly-diagonal",which:"dalek"},position:{x:0,y:5,z:0},type:"monster"},"monster@7,4,0":{config:{activated:!0,movement:"patrol-randomly-diagonal",which:"dalek"},position:{x:7,y:4,z:0},type:"monster"},tower0:{config:{style:"tower"},position:{x:7,y:3,z:0},type:"block"},tower1:{config:{style:"tower"},position:{x:7,y:3,z:1},type:"block"}},planet:"blacktooth",size:{x:8,y:6},walls:{away:["plain","armour","plain","shield","shield","plain","armour","plain"],left:["plain","shield","none","none","shield","plain"]}}),nk=x({color:{hue:"white",shade:"basic"},floor:"deadly",id:"blacktooth73",items:{"block@0,2,3":{config:{style:"organic",times:{y:2}},position:{x:0,y:2,z:3},type:"block"},"block@1,5,0":{config:{style:"organic",times:{x:7}},position:{x:1,y:5,z:0},type:"block"},"block@3,5,1":{config:{style:"organic",times:{z:2}},position:{x:3,y:5,z:1},type:"block"},"block@3,5,4":{config:{style:"organic"},position:{x:3,y:5,z:4},type:"block"},"block@7,2,0":{config:{style:"organic",times:{y:2}},position:{x:7,y:2,z:0},type:"block"},"deadlyBlock@5,5,2":{config:{style:"volcano",times:{x:2}},position:{x:5,y:5,z:2},type:"deadlyBlock"},"deadlyBlock@7,5,3":{config:{style:"volcano"},position:{x:7,y:5,z:3},type:"deadlyBlock"},"door@0,2,4":{config:{direction:"right",toRoom:"blacktooth72"},position:{x:0,y:2,z:4},type:"door"},"door@8,2,2":{config:{direction:"left",toRoom:"blacktooth74"},position:{x:8,y:2,z:2},type:"door"},"hushPuppy@0,1,2":{config:{},position:{x:0,y:1,z:2},type:"hushPuppy"},"hushPuppy@1,1,1":{config:{},position:{x:1,y:1,z:1},type:"hushPuppy"},"hushPuppy@2,1,0":{config:{},position:{x:2,y:1,z:0},type:"hushPuppy"},"hushPuppy@4,1,0":{config:{},position:{x:4,y:1,z:0},type:"hushPuppy"},"hushPuppy@4,3,0":{config:{},position:{x:4,y:3,z:0},type:"hushPuppy"}},planet:"blacktooth",size:{x:8,y:6},walls:{away:["plain","armour","plain","shield","shield","plain","armour","plain"],left:["plain","shield","none","none","shield","plain"]}}),rk=x({color:{hue:"white",shade:"basic"},floor:"blacktooth",id:"blacktooth74",items:{"block@0,2,4":{config:{style:"organic",times:{y:2}},position:{x:0,y:2,z:4},type:"block"},"block@1,3,4":{config:{style:"organic",times:{x:5}},position:{x:1,y:3,z:4},type:"block"},"door@0,2,5":{config:{direction:"right",toRoom:"blacktooth73"},position:{x:0,y:2,z:5},type:"door"},"door@2,0,1":{config:{direction:"towards",toRoom:"blacktooth75"},position:{x:2,y:0,z:1},type:"door"},"monster@3,3,0":{config:{activated:!0,movement:"patrol-randomly-xy4",which:"monkey"},position:{x:3,y:3,z:0},type:"monster"},"pickup@5,3,5":{config:{gives:"doughnuts"},position:{x:5,y:3,z:5},type:"pickup"},"portableBlock@0,2,0":{config:{style:"cube"},position:{x:0,y:2,z:0},type:"portableBlock"},"portableBlock@4,5,0":{config:{style:"cube"},position:{x:4,y:5,z:0},type:"portableBlock"},"portableBlock@5,0,0":{config:{style:"cube"},position:{x:5,y:0,z:0},type:"portableBlock"}},planet:"blacktooth",size:{x:6,y:6},walls:{away:["plain","armour","shield","shield","armour","plain"],left:["plain","armour","shield","shield","armour","plain"]}}),ak=x({color:{hue:"white",shade:"basic"},floor:"blacktooth",id:"blacktooth75",items:{"deadlyBlock@0,1,0":{config:{style:"volcano",times:{y:6}},position:{x:0,y:1,z:0},type:"deadlyBlock"},"deadlyBlock@1,4,0":{config:{style:"volcano"},position:{x:1,y:4,z:0},type:"deadlyBlock"},"deadlyBlock@4,3,0":{config:{style:"volcano",times:{x:2}},position:{x:4,y:3,z:0},type:"deadlyBlock"},"deadlyBlock@5,1,0":{config:{style:"volcano",times:{y:2}},position:{x:5,y:1,z:0},type:"deadlyBlock"},"deadlyBlock@5,4,0":{config:{style:"volcano",times:{y:3}},position:{x:5,y:4,z:0},type:"deadlyBlock"},"door@2,0,1":{config:{direction:"towards",toRoom:"blacktooth76"},position:{x:2,y:0,z:1},type:"door"},"door@2,8,2":{config:{direction:"away",toRoom:"blacktooth74"},position:{x:2,y:8,z:2},type:"door"},"monster@1,3,0":{config:{activated:!0,movement:"patrol-randomly-diagonal",which:"dalek"},position:{x:1,y:3,z:0},type:"monster"},"monster@4,4,0":{config:{activated:!0,movement:"patrol-randomly-diagonal",which:"dalek"},position:{x:4,y:4,z:0},type:"monster"}},planet:"blacktooth",size:{x:6,y:8},walls:{away:["plain","shield","none","none","shield","plain"],left:["plain","armour","plain","shield","shield","plain","armour","plain"]}}),lk=x({color:{hue:"white",shade:"basic"},floor:"blacktooth",id:"blacktooth76",items:{"deadlyBlock@1,2,0":{config:{style:"volcano"},position:{x:1,y:2,z:0},type:"deadlyBlock"},"deadlyBlock@2,1,0":{config:{style:"volcano"},position:{x:2,y:1,z:0},type:"deadlyBlock"},"deadlyBlock@2,6,0":{config:{style:"volcano",times:{z:2}},position:{x:2,y:6,z:0},type:"deadlyBlock"},"deadlyBlock@2,7,1":{config:{style:"volcano"},position:{x:2,y:7,z:1},type:"deadlyBlock"},"deadlyBlock@3,4,0":{config:{style:"volcano"},position:{x:3,y:4,z:0},type:"deadlyBlock"},"deadlyBlock@4,3,0":{config:{style:"volcano"},position:{x:4,y:3,z:0},type:"deadlyBlock"},"deadlyBlock@5,1,0":{config:{style:"volcano"},position:{x:5,y:1,z:0},type:"deadlyBlock"},"deadlyBlock@5,6,0":{config:{style:"volcano"},position:{x:5,y:6,z:0},type:"deadlyBlock"},"deadlyBlock@6,2,0":{config:{style:"volcano",times:{z:2}},position:{x:6,y:2,z:0},type:"deadlyBlock"},"deadlyBlock@6,5,0":{config:{style:"volcano"},position:{x:6,y:5,z:0},type:"deadlyBlock"},"deadlyBlock@7,2,1":{config:{style:"volcano"},position:{x:7,y:2,z:1},type:"deadlyBlock"},"door@0,3,0":{config:{direction:"right",toRoom:"blacktooth68"},position:{x:0,y:3,z:0},type:"door"},"door@3,8,0":{config:{direction:"away",toRoom:"blacktooth75"},position:{x:3,y:8,z:0},type:"door"},"monster@2,2,0":{config:{activated:!0,movement:"clockwise",startDirection:"right",style:"greenAndPink",which:"skiHead"},position:{x:2,y:2,z:0},type:"monster"},"monster@2,7,0":{config:{activated:!0,movement:"clockwise",startDirection:"right",which:"turtle"},position:{x:2,y:7,z:0},type:"monster"}},planet:"blacktooth",size:{x:8,y:8},walls:{away:["plain","shield","plain","none","none","plain","shield","plain"],left:["plain","armour","plain","shield","shield","plain","armour","plain"]}}),ck=x({color:{hue:"white",shade:"basic"},floor:"blacktooth",id:"blacktooth77",items:{"barrier@4,0,0":{config:{axis:"y",times:{y:4,z:3}},position:{x:4,y:0,z:0},type:"barrier"},"barrier@4,0,3":{config:{axis:"y",disappearing:"onTouch"},position:{x:4,y:0,z:3},type:"barrier"},"barrier@4,0,4":{config:{axis:"y",times:{z:2}},position:{x:4,y:0,z:4},type:"barrier"},"barrier@4,1,3":{config:{axis:"y",times:{y:3}},position:{x:4,y:1,z:3},type:"barrier"},"barrier@4,1,5":{config:{axis:"y",times:{y:3}},position:{x:4,y:1,z:5},type:"barrier"},"barrier@4,2,4":{config:{axis:"y",times:{y:2}},position:{x:4,y:2,z:4},type:"barrier"},"door@0,1,0":{config:{direction:"right",toRoom:"blacktooth84"},position:{x:0,y:1,z:0},type:"door"},"door@8,1,0":{config:{direction:"left",toRoom:"blacktooth71"},position:{x:8,y:1,z:0},type:"door"},"movableBlock@3,1,0":{config:{movement:"free",style:"stepStool"},position:{x:3,y:1,z:0},type:"movableBlock"},"portableBlock@3,3,0":{config:{style:"cube"},position:{x:3,y:3,z:0},type:"portableBlock"},"portableBlock@4,0,6":{config:{style:"cube"},position:{x:4,y:0,z:6},type:"portableBlock"}},planet:"blacktooth",size:{x:8,y:4},walls:{away:["plain","armour","plain","shield","shield","plain","armour","plain"],left:["shield","none","none","shield"]}}),dk=x({color:{hue:"white",shade:"basic"},floor:"blacktooth",id:"blacktooth78",items:{"block@0,1,0":{config:{style:"organic"},position:{x:0,y:1,z:0},type:"block"},"block@3,7,0":{config:{style:"tower"},isExtra:!0,position:{x:3,y:7,z:0},type:"block"},"block@3,7,1":{config:{style:"tower"},isExtra:!0,position:{x:3,y:7,z:1},type:"block"},"block@3,7,2":{config:{style:"tower"},isExtra:!0,position:{x:3,y:7,z:2},type:"block"},"block@3,7,3":{config:{style:"organic",times:{x:2}},position:{x:3,y:7,z:3},type:"block"},"block@4,7,0":{config:{style:"tower"},isExtra:!0,position:{x:4,y:7,z:0},type:"block"},"block@4,7,1":{config:{style:"tower"},isExtra:!0,position:{x:4,y:7,z:1},type:"block"},"block@4,7,2":{config:{style:"tower"},isExtra:!0,position:{x:4,y:7,z:2},type:"block"},"block@7,2,0":{config:{style:"organic"},position:{x:7,y:2,z:0},type:"block"},"block@7,3,0":{config:{style:"tower"},isExtra:!0,position:{x:7,y:3,z:0},type:"block"},"block@7,3,1":{config:{style:"tower"},isExtra:!0,position:{x:7,y:3,z:1},type:"block"},"block@7,3,2":{config:{style:"organic"},position:{x:7,y:3,z:2},type:"block"},"deadlyBlock@1,0,0":{config:{style:"volcano",times:{z:2}},position:{x:1,y:0,z:0},type:"deadlyBlock"},"deadlyBlock@1,2,0":{config:{style:"volcano",times:{z:2}},position:{x:1,y:2,z:0},type:"deadlyBlock"},"deadlyBlock@2,1,0":{config:{style:"volcano",times:{z:2}},position:{x:2,y:1,z:0},type:"deadlyBlock"},"door@3,8,5":{config:{direction:"away",toRoom:"blacktooth80"},position:{x:3,y:8,z:5},type:"door"},"door@8,3,5":{config:{direction:"left",toRoom:"blacktooth72"},position:{x:8,y:3,z:5},type:"door"},"lift@1,1,0":{config:{bottom:0,top:11},position:{x:1,y:1,z:0},type:"lift"},"monster@4,4,0":{config:{activated:!0,movement:"patrol-randomly-diagonal",which:"dalek"},position:{x:4,y:4,z:0},type:"monster"},"movableBlock@0,1,1":{config:{movement:"free",style:"stepStool"},position:{x:0,y:1,z:1},type:"movableBlock"},"movableBlock@1,1,1":{config:{activated:!0,movement:"back-forth",startDirection:"right",style:"stepStool"},position:{x:1,y:1,z:1},type:"movableBlock"}},planet:"blacktooth",roomAbove:"blacktooth79fish",size:{x:8,y:8},walls:{away:["plain","shield","plain","none","none","plain","shield","plain"],left:["plain","shield","plain","none","none","plain","shield","plain"]}}),pk=x({color:{hue:"white",shade:"basic"},floor:"none",id:"blacktooth79fish",items:{"block@1,0,0":{config:{style:"organic",times:{y:8}},position:{x:1,y:0,z:0},type:"block"},"block@6,0,0":{config:{disappearing:"onStand",style:"organic"},position:{x:6,y:0,z:0},type:"block"},"block@7,0,0":{config:{style:"organic"},position:{x:7,y:0,z:0},type:"block"},"pickup@7,0,1":{config:{gives:"reincarnation"},position:{x:7,y:0,z:1},type:"pickup"}},planet:"blacktooth",roomBelow:"blacktooth78",size:{x:8,y:8},walls:{away:["plain","armour","plain","shield","shield","plain","armour","plain"],left:["plain","armour","plain","shield","shield","plain","armour","plain"]}}),yk=x({color:{hue:"white",shade:"basic"},floor:"blacktooth",id:"blacktooth80",items:{"deadlyBlock@0,3,0":{config:{style:"volcano",times:{y:3}},position:{x:0,y:3,z:0},type:"deadlyBlock"},"deadlyBlock@1,2,0":{config:{style:"volcano",times:{x:2}},position:{x:1,y:2,z:0},type:"deadlyBlock"},"deadlyBlock@1,5,0":{config:{style:"volcano",times:{x:3}},position:{x:1,y:5,z:0},type:"deadlyBlock"},"deadlyBlock@3,3,0":{config:{style:"volcano",times:{y:2}},position:{x:3,y:3,z:0},type:"deadlyBlock"},"door@1,0,0":{config:{direction:"towards",toRoom:"blacktooth78"},position:{x:1,y:0,z:0},type:"door"},"door@1,8,0":{config:{direction:"away",toRoom:"blacktooth81"},position:{x:1,y:8,z:0},type:"door"},"monster@2,4,0":{config:{activated:!0,movement:"clockwise",startDirection:"right",style:"greenAndPink",which:"skiHead"},position:{x:2,y:4,z:0},type:"monster"}},planet:"blacktooth",size:{x:4,y:8},walls:{away:["shield","none","none","shield"],left:["plain","armour","plain","shield","shield","plain","armour","plain"]}}),hk=x({color:{hue:"white",shade:"basic"},floor:"blacktooth",id:"blacktooth81",items:{"block@0,7,2":{config:{style:"organic"},position:{x:0,y:7,z:2},type:"block"},"block@7,0,0":{config:{style:"organic",times:{y:8}},position:{x:7,y:0,z:0},type:"block"},"charles@0,7,3":{config:{},position:{x:0,y:7,z:3},type:"charles"},"door@3,0,0":{config:{direction:"towards",toRoom:"blacktooth80"},position:{x:3,y:0,z:0},type:"door"},"door@8,3,5":{config:{direction:"left",toRoom:"blacktooth82"},position:{x:8,y:3,z:5},type:"door"},"joystick@1,2,0":{config:{controls:["charles@0,7,3"]},position:{x:1,y:2,z:0},type:"joystick"},"joystick@1,5,0":{config:{controls:["charles@0,7,3"]},position:{x:1,y:5,z:0},type:"joystick"},"joystick@4,2,0":{config:{controls:["charles@0,7,3"]},position:{x:4,y:2,z:0},type:"joystick"},"joystick@4,5,0":{config:{controls:["charles@0,7,3"]},position:{x:4,y:5,z:0},type:"joystick"},"monster@6,7,1":{config:{activated:!0,movement:"patrol-randomly-diagonal",which:"dalek"},position:{x:6,y:7,z:1},type:"monster"},"movableBlock@6,7,0":{config:{activated:!0,movement:"back-forth",startDirection:"right",style:"stepStool"},position:{x:6,y:7,z:0},type:"movableBlock"}},planet:"blacktooth",size:{x:8,y:8},walls:{away:["plain","armour","plain","shield","shield","plain","armour","plain"],left:["plain","shield","plain","none","none","plain","shield","plain"]}}),uk=x({color:{hue:"white",shade:"basic"},floor:"blacktooth",id:"blacktooth82",items:{"deadlyBlock@2,0,0":{config:{style:"volcano",times:{y:2}},position:{x:2,y:0,z:0},type:"deadlyBlock"},"deadlyBlock@2,1,1":{config:{style:"volcano"},position:{x:2,y:1,z:1},type:"deadlyBlock"},"deadlyBlock@2,5,0":{config:{style:"volcano",times:{x:2}},position:{x:2,y:5,z:0},type:"deadlyBlock"},"deadlyBlock@3,3,0":{config:{style:"volcano"},position:{x:3,y:3,z:0},type:"deadlyBlock"},"deadlyBlock@4,0,0":{config:{style:"volcano",times:{x:2}},position:{x:4,y:0,z:0},type:"deadlyBlock"},"deadlyBlock@4,2,0":{config:{style:"volcano"},position:{x:4,y:2,z:0},type:"deadlyBlock"},"deadlyBlock@5,4,0":{config:{style:"volcano",times:{y:2}},position:{x:5,y:4,z:0},type:"deadlyBlock"},"deadlyBlock@5,4,1":{config:{style:"volcano"},position:{x:5,y:4,z:1},type:"deadlyBlock"},"door@0,2,0":{config:{direction:"right",toRoom:"blacktooth81"},position:{x:0,y:2,z:0},type:"door"},"door@8,2,0":{config:{direction:"left",toRoom:"blacktooth83tofreedom"},position:{x:8,y:2,z:0},type:"door"},"monster@2,2,0":{config:{activated:!0,movement:"back-forth",startDirection:"towards",style:"starsAndStripes",which:"skiHead"},position:{x:2,y:2,z:0},type:"monster"},"monster@5,3,0":{config:{activated:!0,movement:"back-forth",startDirection:"towards",style:"greenAndPink",which:"skiHead"},position:{x:5,y:3,z:0},type:"monster"}},planet:"blacktooth",size:{x:8,y:6},walls:{away:["plain","armour","plain","shield","shield","plain","armour","plain"],left:["plain","shield","none","none","shield","plain"]}}),fk=x({color:{hue:"white",shade:"basic"},floor:"deadly",id:"blacktooth83tofreedom",items:{"block@0,2,0":{config:{style:"organic",times:{y:4}},position:{x:0,y:2,z:0},type:"block"},"block@0,7,0":{config:{style:"organic",times:{z:2}},position:{x:0,y:7,z:0},type:"block"},"block@0,7,3":{config:{style:"organic"},position:{x:0,y:7,z:3},type:"block"},"block@5,3,0":{config:{disappearing:"onStand",style:"organic"},position:{x:5,y:3,z:0},type:"block"},"block@5,3,1":{config:{disappearing:"onStand",style:"organic"},position:{x:5,y:3,z:1},type:"block"},"block@5,3,2":{config:{disappearing:"onStand",style:"organic"},position:{x:5,y:3,z:2},type:"block"},"block@5,7,0":{config:{disappearing:"onStand",style:"organic"},position:{x:5,y:7,z:0},type:"block"},"block@5,7,1":{config:{disappearing:"onStand",style:"organic"},position:{x:5,y:7,z:1},type:"block"},"block@5,7,2":{config:{disappearing:"onStand",style:"organic"},position:{x:5,y:7,z:2},type:"block"},"block@6,2,2":{config:{style:"artificial"},position:{x:6,y:2,z:2},type:"block"},"block@7,1,2":{config:{style:"artificial"},position:{x:7,y:1,z:2},type:"block"},"block@7,2,0":{config:{style:"organic"},position:{x:7,y:2,z:0},type:"block"},"block@7,3,2":{config:{style:"artificial"},position:{x:7,y:3,z:2},type:"block"},"door@0,3,1":{config:{direction:"right",toRoom:"blacktooth82"},position:{x:0,y:3,z:1},type:"door"},"hushPuppy@0,0,0":{config:{},position:{x:0,y:0,z:0},type:"hushPuppy"},"hushPuppy@3,0,0":{config:{},position:{x:3,y:0,z:0},type:"hushPuppy"},"hushPuppy@6,0,0":{config:{times:{x:2}},position:{x:6,y:0,z:0},type:"hushPuppy"},"hushPuppy@7,0,1":{config:{},position:{x:7,y:0,z:1},type:"hushPuppy"},"teleporter@7,2,1":{config:{toPosition:{x:9,y:2,z:1},toRoom:"finalroom"},position:{x:7,y:2,z:1},type:"teleporter"}},planet:"blacktooth",size:{x:8,y:8},walls:{away:["plain","armour","plain","shield","shield","plain","armour","plain"],left:["plain","armour","plain","shield","shield","plain","armour","plain"]}}),mk=x({color:{hue:"white",shade:"basic"},floor:"deadly",id:"blacktooth84",items:{"block@0,0,0":{config:{style:"organic"},position:{x:0,y:0,z:0},type:"block"},"block@0,3,3":{config:{style:"organic",times:{y:2}},position:{x:0,y:3,z:3},type:"block"},"block@4,0,0":{config:{disappearing:"onStand",style:"organic"},position:{x:4,y:0,z:0},type:"block"},"block@4,3,0":{config:{disappearing:"onStand",style:"organic"},position:{x:4,y:3,z:0},type:"block"},"block@4,3,1":{config:{disappearing:"onStand",style:"organic"},position:{x:4,y:3,z:1},type:"block"},"block@7,3,0":{config:{style:"organic",times:{y:2}},position:{x:7,y:3,z:0},type:"block"},"door@0,3,4":{config:{direction:"right",toRoom:"blacktooth85"},position:{x:0,y:3,z:4},type:"door"},"door@8,3,2":{config:{direction:"left",toRoom:"blacktooth77"},position:{x:8,y:3,z:2},type:"door"},"portableBlock@4,7,0":{config:{style:"cube"},position:{x:4,y:7,z:0},type:"portableBlock"}},planet:"blacktooth",size:{x:8,y:8},walls:{away:["plain","armour","plain","shield","shield","plain","armour","plain"],left:["plain","shield","plain","none","none","plain","shield","plain"]}}),gk=x({color:{hue:"white",shade:"basic"},floor:"blacktooth",id:"blacktooth85",items:{"block@3,0,4":{config:{style:"organic",times:{x:2}},position:{x:3,y:0,z:4},type:"block"},"block@3,4,0":{config:{style:"organic",times:{z:2}},position:{x:3,y:4,z:0},type:"block"},"block@3,4,2":{config:{style:"tower"},position:{x:3,y:4,z:2},type:"block"},"block@3,4,3":{config:{style:"organic",times:{z:2}},position:{x:3,y:4,z:3},type:"block"},"door@3,0,5":{config:{direction:"towards",toRoom:"blacktooth86"},position:{x:3,y:0,z:5},type:"door"},"door@8,3,0":{config:{direction:"left",toRoom:"blacktooth84"},position:{x:8,y:6,z:0},type:"door"},"monster@0,7,1":{config:{activated:!0,movement:"patrol-randomly-xy4",which:"monkey"},position:{x:0,y:7,z:1},type:"monster"},"portableBlock@0,7,0":{config:{style:"cube"},position:{x:0,y:7,z:0},type:"portableBlock"},"portableBlock@3,4,5":{config:{style:"cube"},position:{x:3,y:4,z:5},type:"portableBlock"}},planet:"blacktooth",size:{x:8,y:8},walls:{away:["plain","armour","plain","shield","shield","plain","armour","plain"],left:["plain","shield","plain","plain","shield","plain","none","none"]}}),xk=x({color:{hue:"white",shade:"basic"},floor:"blacktooth",id:"blacktooth86",items:{"door@1,0,0":{config:{direction:"towards",toRoom:"blacktooth87crown"},position:{x:1,y:0,z:0},type:"door"},"door@1,8,0":{config:{direction:"away",toRoom:"blacktooth85"},position:{x:1,y:8,z:0},type:"door"},"monster@1,3,0":{config:{activated:!0,movement:"towards-when-in-square-xy8-unless-planet-crowns",which:"emperorsGuardian"},position:{x:1,y:3,z:0},type:"monster"}},planet:"blacktooth",size:{x:4,y:8},walls:{away:["shield","none","none","shield"],left:["plain","armour","plain","shield","shield","plain","armour","plain"]}}),bk=x({color:{hue:"white",shade:"basic"},floor:"blacktooth",id:"blacktooth87crown",items:{"deadlyBlock@6,1,0":{config:{style:"volcano",times:{x:2}},position:{x:6,y:1,z:0},type:"deadlyBlock"},"deadlyBlock@6,2,1":{config:{style:"volcano",times:{x:2}},position:{x:6,y:2,z:1},type:"deadlyBlock"},"deadlyBlock@6,3,0":{config:{style:"volcano"},position:{x:6,y:3,z:0},type:"deadlyBlock"},"deadlyBlock@6,4,1":{config:{style:"volcano",times:{x:2}},position:{x:6,y:4,z:1},type:"deadlyBlock"},"deadlyBlock@6,5,0":{config:{style:"volcano",times:{x:2}},position:{x:6,y:5,z:0},type:"deadlyBlock"},"deadlyBlock@7,3,1":{config:{style:"volcano",times:{z:2}},position:{x:7,y:3,z:1},type:"deadlyBlock"},"door@3,8,1":{config:{direction:"away",toRoom:"blacktooth86"},position:{x:3,y:8,z:1},type:"door"},"monster@3,3,0":{config:{activated:!0,movement:"patrol-randomly-diagonal",which:"dalek"},position:{x:3,y:3,z:0},type:"monster"},"monster@6,3,1":{config:{activated:!0,movement:"towards-when-in-square-xy8",which:"emperor"},position:{x:6,y:3,z:1},type:"monster"},"pickup@7,3,0":{config:{gives:"crown",planet:"blacktooth"},position:{x:7,y:3,z:0},type:"pickup"}},planet:"blacktooth",size:{x:8,y:8},walls:{away:["plain","shield","plain","none","none","plain","shield","plain"],left:["plain","armour","plain","shield","shield","plain","armour","plain"]}}),wk=x({color:{hue:"white",shade:"basic"},floor:"bookworld",id:"bookworld1",items:{"block@0,3,0":{config:{style:"book",times:{z:2}},position:{x:0,y:3,z:0},type:"block"},"block@0,3,3":{config:{style:"book"},position:{x:0,y:3,z:3},type:"block"},"door@0,3,4":{config:{direction:"right",toRoom:"bookworld2"},position:{x:0,y:3,z:4},type:"door"},"door@3,0,0":{config:{direction:"towards",toRoom:"bookworld7"},position:{x:3,y:0,z:0},type:"door"},"teleporter@6,3,0":{config:{toPosition:{x:6,y:3,z:0},toRoom:"moonbase25tobookworld"},position:{x:6,y:3,z:0},type:"teleporter"},"teleporter@6,4,0":{config:{toPosition:{x:6,y:4,z:0},toRoom:"moonbase25tobookworld"},position:{x:6,y:4,z:0},type:"teleporter"},"teleporter@7,3,0":{config:{toPosition:{x:7,y:3,z:0},toRoom:"moonbase25tobookworld"},position:{x:7,y:3,z:0},type:"teleporter"},"teleporter@7,4,0":{config:{toPosition:{x:7,y:4,z:0},toRoom:"moonbase25tobookworld"},position:{x:7,y:4,z:0},type:"teleporter"}},planet:"bookworld",size:{x:8,y:8},walls:{away:["book","book","cowboy","book","book","cowboy","book","book"],left:["book","book","cowboy","book","book","cowboy","book","book"]}}),kk=x({color:{hue:"cyan",shade:"dimmed"},floor:"deadly",id:"bookworld2",items:{canary:{config:{style:"cube"},position:{x:11,y:1,z:1},type:"portableBlock"},canary2:{config:{style:"cube"},position:{x:11,y:1,z:2},type:"portableBlock"},"conveyor@0,0,0":{config:{direction:"away",times:{y:3}},position:{x:0,y:0,z:0},type:"conveyor"},"conveyor@1,0,0":{config:{direction:"right"},position:{x:1,y:0,z:0},type:"conveyor"},"conveyor@10,5,0":{config:{direction:"right",times:{x:2}},position:{x:10,y:5,z:0},type:"conveyor"},"conveyor@11,2,0":{config:{direction:"away",times:{y:3}},position:{x:11,y:2,z:0},type:"conveyor"},"conveyor@2,0,0":{config:{direction:"right",disappearing:"onStand"},position:{x:2,y:0,z:0},type:"conveyor"},"conveyor@3,0,0":{config:{direction:"right",times:{x:2}},position:{x:3,y:0,z:0},type:"conveyor"},"conveyor@4,1,0":{config:{direction:"towards",times:{y:2}},position:{x:4,y:1,z:0},type:"conveyor"},"conveyor@4,3,0":{config:{direction:"towards",disappearing:"onStand"},position:{x:4,y:3,z:0},type:"conveyor"},"conveyor@4,4,0":{config:{direction:"towards",times:{y:2}},position:{x:4,y:4,z:0},type:"conveyor"},"conveyor@5,5,0":{config:{direction:"right",times:{x:4}},position:{x:5,y:5,z:0},type:"conveyor"},"conveyor@9,5,0":{config:{direction:"right",disappearing:"onStand"},position:{x:9,y:5,z:0},type:"conveyor"},"deadlyBlock@0,0,2":{config:{style:"toaster"},position:{x:0,y:0,z:2},type:"deadlyBlock"},"deadlyBlock@11,4,2":{config:{style:"toaster",times:{y:2}},position:{x:11,y:4,z:2},type:"deadlyBlock"},"deadlyBlock@4,0,2":{config:{style:"toaster"},position:{x:4,y:0,z:2},type:"deadlyBlock"},"deadlyBlock@5,5,2":{config:{style:"toaster",times:{x:3}},position:{x:5,y:5,z:2},type:"deadlyBlock"},"door@0,2,3":{config:{direction:"right",toRoom:"bookworld3"},position:{x:0,y:2,z:3},type:"door"},"door@12,2,3":{config:{direction:"left",toRoom:"bookworld1"},position:{x:12,y:2,z:3},type:"door"},extraBlock:{config:{style:"organic"},position:{x:11,y:1,z:0},type:"block"},extraBlock2:{config:{style:"organic"},position:{x:11,y:0,z:0},type:"block"}},planet:"bookworld",size:{x:12,y:6},walls:{away:["book","cowboy","book","book","cowboy","book","book","cowboy","book","book","cowboy","book"],left:["book","book","none","none","book","book"]}}),zk=x({color:{hue:"magenta",shade:"basic"},floor:"bookworld",id:"bookworld3",items:{"door@0,2,2":{config:{direction:"right",toRoom:"bookworld4"},position:{x:0,y:2,z:2},type:"door"},"door@8,2,0":{config:{direction:"left",toRoom:"bookworld2"},position:{x:8,y:2,z:0},type:"door"},"monster@3,5,0":{config:{activated:!0,movement:"patrol-randomly-xy4",which:"monkey"},position:{x:3,y:5,z:0},type:"monster"},"monster@4,0,0":{config:{activated:!0,movement:"patrol-randomly-xy4",which:"monkey"},position:{x:4,y:0,z:0},type:"monster"}},planet:"bookworld",size:{x:8,y:6},walls:{away:["book","book","cowboy","book","book","cowboy","book","book"],left:["book","book","none","none","book","book"]}}),vk=x({color:{hue:"green",shade:"basic"},floor:"bookworld",id:"bookworld4",items:{"block@0,7,0":{config:{style:"book",times:{z:2}},position:{x:0,y:7,z:0},type:"block"},"door@0,0,0":{config:{direction:"towards",toRoom:"bookworld5"},position:{x:0,y:0,z:0},type:"door"},"door@0,8,4":{config:{direction:"away",toRoom:"bookworld12fish"},position:{x:0,y:8,z:4},type:"door"},"door@2,3,4":{config:{direction:"left",toRoom:"bookworld3"},position:{x:2,y:3,z:4},type:"door"}},planet:"bookworld",size:{x:2,y:8},walls:{away:["none","none"],left:["book","book","cowboy","none","none","cowboy","book","book"]}}),_k=x({color:{hue:"white",shade:"basic"},floor:"bookworld",id:"bookworld5",items:{"door@1,0,0":{config:{direction:"towards",toRoom:"bookworld6"},position:{x:1,y:0,z:0},type:"door"},"door@1,8,0":{config:{direction:"away",toRoom:"bookworld4"},position:{x:1,y:8,z:0},type:"door"},"monster@1,3,0":{config:{activated:!0,movement:"patrol-randomly-xy8",which:"helicopterBug"},position:{x:1,y:3,z:0},type:"monster"},"monster@2,4,0":{config:{activated:!0,movement:"patrol-randomly-xy8",which:"helicopterBug"},position:{x:2,y:4,z:0},type:"monster"}},planet:"bookworld",size:{x:4,y:8},walls:{away:["book","none","none","book"],left:["book","book","cowboy","book","book","cowboy","book","book"]}}),Bk=x({color:{hue:"white",shade:"basic"},floor:"bookworld",id:"bookworld6",items:{"block@1,3,0":{config:{style:"book"},position:{x:1,y:3,z:0},type:"block"},"block@1,7,0":{config:{style:"book"},position:{x:1,y:7,z:0},type:"block"},"deadlyBlock@3,0,0":{config:{style:"toaster"},position:{x:3,y:0,z:0},type:"deadlyBlock"},"door@1,8,3":{config:{direction:"away",toRoom:"bookworld5"},position:{x:1,y:8,z:3},type:"door"},"door@4,3,3":{config:{direction:"left",toRoom:"bookworld11"},position:{x:4,y:3,z:3},type:"door"},"movableBlock@2,4,0":{config:{movement:"free",style:"stepStool"},position:{x:2,y:4,z:0},type:"movableBlock"},"movableBlock@2,5,0":{config:{movement:"free",style:"stepStool"},position:{x:2,y:5,z:0},type:"movableBlock"},"slidingBlock@1,3,1":{config:{style:"book"},position:{x:1,y:3,z:1},type:"slidingBlock"}},planet:"bookworld",size:{x:4,y:8},walls:{away:["book","none","none","book"],left:["book","book","cowboy","none","none","cowboy","book","book"]}}),Sk=x({color:{hue:"green",shade:"basic"},floor:"bookworld",id:"bookworld7",items:{"door@1,0,4":{config:{direction:"towards",toRoom:"bookworld8"},position:{x:1,y:0,z:4},type:"door"},"door@1,8,0":{config:{direction:"away",toRoom:"bookworld1"},position:{x:1,y:8,z:0},type:"door"},"hushPuppy@0,0,0":{config:{},position:{x:0,y:0,z:0},type:"hushPuppy"},"hushPuppy@1,0,1":{config:{},position:{x:1,y:0,z:1},type:"hushPuppy"},"hushPuppy@2,0,2":{config:{},position:{x:2,y:0,z:2},type:"hushPuppy"}},planet:"bookworld",size:{x:4,y:8},walls:{away:["book","none","none","book"],left:["book","book","cowboy","book","book","cowboy","book","book"]}}),Ak=x({color:{hue:"cyan",shade:"basic"},floor:"bookworld",id:"bookworld8",items:{"block@0,2,0":{config:{style:"book"},position:{x:0,y:2,z:0},type:"block"},"block@0,2,2":{config:{style:"book",times:{z:2}},position:{x:0,y:2,z:2},type:"block"},"block@0,3,3":{config:{style:"book"},position:{x:0,y:3,z:3},type:"block"},"door@0,3,4":{config:{direction:"right",toRoom:"bookworld9"},position:{x:0,y:3,z:4},type:"door"},"door@3,8,0":{config:{direction:"away",toRoom:"bookworld7"},position:{x:3,y:8,z:0},type:"door"},"portableBlock@3,3,0":{config:{style:"cube"},position:{x:3,y:3,z:0},type:"portableBlock"},"portableBlock@4,3,0":{config:{style:"cube"},position:{x:4,y:3,z:0},type:"portableBlock"}},planet:"bookworld",size:{x:8,y:8},walls:{away:["book","book","cowboy","none","none","cowboy","book","book"],left:["book","book","cowboy","book","book","cowboy","book","book"]}}),Pk=x({color:{hue:"white",shade:"basic"},floor:"bookworld",id:"bookworld9",items:{"door@0,1,0":{config:{direction:"right",toRoom:"bookworld10"},position:{x:0,y:1,z:0},type:"door"},"door@3,0,0":{config:{direction:"towards",toRoom:"bookworld21"},position:{x:3,y:0,z:0},type:"door"},"door@8,1,0":{config:{direction:"left",toRoom:"bookworld8"},position:{x:8,y:1,z:0},type:"door"},"slidingBlock@3,2,0":{config:{style:"book"},position:{x:3,y:2,z:0},type:"slidingBlock"}},planet:"bookworld",size:{x:8,y:4},walls:{away:["book","book","cowboy","book","book","cowboy","book","book"],left:["book","none","none","book"]}}),Rk=x({color:{hue:"yellow",shade:"basic"},floor:"bookworld",id:"bookworld10",items:{"door@0,3,1":{config:{direction:"right",toRoom:"bookworld11"},position:{x:0,y:3,z:1},type:"door"},"door@6,3,1":{config:{direction:"left",toRoom:"bookworld9"},position:{x:6,y:3,z:1},type:"door"},"monster@2,4,0":{config:{activated:!0,movement:"towards-on-shortest-axis-xy4",which:"monkey"},position:{x:2,y:4,z:0},type:"monster"}},planet:"bookworld",size:{x:6,y:8},walls:{away:["book","cowboy","book","book","cowboy","book"],left:["book","book","cowboy","none","none","cowboy","book","book"]}}),Ck=x({color:{hue:"yellow",shade:"dimmed"},floor:"bookworld",id:"bookworld11",items:{"door@0,0,0":{config:{direction:"right",toRoom:"bookworld6"},position:{x:0,y:0,z:0},type:"door"},"door@8,0,4":{config:{direction:"left",toRoom:"bookworld10"},position:{x:8,y:0,z:4},type:"door"},"hushPuppy@5,1,0":{config:{},position:{x:5,y:1,z:0},type:"hushPuppy"},"hushPuppy@6,1,1":{config:{},position:{x:6,y:1,z:1},type:"hushPuppy"},"hushPuppy@7,1,2":{config:{},position:{x:7,y:1,z:2},type:"hushPuppy"}},planet:"bookworld",size:{x:8,y:2},walls:{away:["book","book","cowboy","book","book","cowboy","book","book"],left:["none","none"]}}),Mk=x({color:{hue:"cyan",shade:"basic"},floor:"bookworld",id:"bookworld12fish",items:{"block@0,7,0":{config:{style:"book",times:{z:5}},position:{x:0,y:7,z:0},type:"block"},"door@0,3,0":{config:{direction:"right",toRoom:"bookworld13"},position:{x:0,y:3,z:0},type:"door"},"door@2,0,0":{config:{direction:"towards",toRoom:"bookworld4"},position:{x:2,y:0,z:0},type:"door"},"movableBlock@3,4,0":{config:{movement:"free",style:"stepStool"},position:{x:3,y:4,z:0},type:"movableBlock"},"pickup@0,7,5":{config:{gives:"reincarnation"},position:{x:0,y:7,z:5},type:"pickup"},"portableBlock@5,7,0":{config:{style:"cube"},position:{x:5,y:7,z:0},type:"portableBlock"}},planet:"bookworld",size:{x:6,y:8},walls:{away:["book","cowboy","book","book","cowboy","book"],left:["book","book","cowboy","book","book","cowboy","book","book"]}}),Ek=x({color:{hue:"yellow",shade:"basic"},floor:"bookworld",id:"bookworld13",items:{"door@0,0,0":{config:{direction:"right",toRoom:"bookworld14"},position:{x:0,y:0,z:0},type:"door"},"door@8,0,0":{config:{direction:"left",toRoom:"bookworld12fish"},position:{x:8,y:0,z:0},type:"door"}},planet:"bookworld",size:{x:8,y:2},walls:{away:["book","book","cowboy","book","book","cowboy","book","book"],left:["none","none"]}}),Ik=x({color:{hue:"white",shade:"basic"},floor:"bookworld",id:"bookworld14",items:{"barrier@6,3,0":{config:{axis:"y",times:{y:4,z:3}},position:{x:6,y:3,z:0},type:"barrier"},"barrier@7,2,0":{config:{axis:"x",times:{z:3}},position:{x:7,y:2,z:0},type:"barrier"},"deadlyBlock@3,4,0":{config:{style:"toaster"},position:{x:3,y:4,z:0},type:"deadlyBlock"},"deadlyBlock@4,3,0":{config:{style:"toaster"},position:{x:4,y:3,z:0},type:"deadlyBlock"},"door@3,0,0":{config:{direction:"towards",toRoom:"bookworld15"},position:{x:3,y:0,z:0},type:"door"},"door@8,3,0":{config:{direction:"left",toRoom:"bookworld13"},position:{x:8,y:3,z:0},type:"door"},"monster@3,3,0":{config:{activated:!0,movement:"patrol-randomly-diagonal",which:"dalek"},position:{x:3,y:3,z:0},type:"monster"},"monster@4,4,0":{config:{activated:!0,movement:"patrol-randomly-diagonal",which:"dalek"},position:{x:4,y:4,z:0},type:"monster"}},planet:"bookworld",size:{x:8,y:8},walls:{away:["book","book","cowboy","book","book","cowboy","book","book"],left:["book","book","cowboy","none","none","cowboy","book","book"]}}),Tk=x({color:{hue:"yellow",shade:"dimmed"},floor:"deadly",id:"bookworld15",items:{"block@0,0,0":{config:{disappearing:"onStand",style:"book"},position:{x:0,y:0,z:0},type:"block"},"block@0,3,0":{config:{disappearing:"onStand",style:"book"},position:{x:0,y:3,z:0},type:"block"},"block@0,7,0":{config:{disappearing:"onStand",style:"book"},position:{x:0,y:7,z:0},type:"block"},"block@3,7,0":{config:{style:"book"},position:{x:3,y:7,z:0},type:"block"},"block@4,0,0":{config:{style:"book"},position:{x:4,y:0,z:0},type:"block"},"door@3,0,1":{config:{direction:"towards",toRoom:"bookworld16"},position:{x:3,y:0,z:1},type:"door"},"door@3,8,3":{config:{direction:"away",toRoom:"bookworld14"},position:{x:3,y:8,z:3},type:"door"}},planet:"bookworld",size:{x:8,y:8},walls:{away:["book","book","cowboy","none","none","cowboy","book","book"],left:["book","book","cowboy","book","book","cowboy","book","book"]}}),jk=x({color:{hue:"cyan",shade:"dimmed"},floor:"bookworld",id:"bookworld16",items:{"door@0,3,0":{config:{direction:"right",toRoom:"bookworld17"},position:{x:0,y:3,z:0},type:"door"},"door@1,0,0":{config:{direction:"towards",toRoom:"bookworld18"},position:{x:1,y:0,z:0},type:"door"},"door@1,8,0":{config:{direction:"away",toRoom:"bookworld15"},position:{x:1,y:8,z:0},type:"door"}},planet:"bookworld",size:{x:4,y:8},walls:{away:["book","none","none","book"],left:["book","book","cowboy","book","book","cowboy","book","book"]}}),Dk=x({color:{hue:"white",shade:"basic"},floor:"bookworld",id:"bookworld17",items:{"door@8,2,4":{config:{direction:"left",toRoom:"bookworld16"},position:{x:8,y:2,z:4},type:"door"},"monster@0,3,0":{config:{activated:!0,movement:"patrol-randomly-diagonal",which:"dalek"},position:{x:0,y:3,z:0},type:"monster"},"monster@3,2,0":{config:{activated:!0,movement:"patrol-randomly-diagonal",which:"dalek"},position:{x:3,y:2,z:0},type:"monster"},"spring@2,2,0":{config:{},position:{x:2,y:2,z:0},type:"spring"}},planet:"bookworld",size:{x:8,y:6},walls:{away:["book","book","cowboy","book","book","cowboy","book","book"],left:["book","book","none","none","book","book"]}}),$k=x({color:{hue:"green",shade:"basic"},floor:"deadly",id:"bookworld18",items:{"block@0,5,0":{config:{disappearing:"onStand",style:"book"},position:{x:0,y:5,z:0},type:"block"},"block@0,5,1":{config:{disappearing:"onStand",style:"book"},position:{x:0,y:5,z:1},type:"block"},"block@0,5,2":{config:{disappearing:"onStand",style:"book"},position:{x:0,y:5,z:2},type:"block"},"block@0,5,3":{config:{disappearing:"onStand",style:"book"},position:{x:0,y:5,z:3},type:"block"},"block@0,7,0":{config:{disappearing:"onStand",style:"book"},position:{x:0,y:7,z:0},type:"block"},"block@0,7,1":{config:{disappearing:"onStand",style:"book"},position:{x:0,y:7,z:1},type:"block"},"block@2,0,0":{config:{style:"book"},position:{x:2,y:0,z:0},type:"block"},"block@3,7,0":{config:{style:"book"},position:{x:3,y:7,z:0},type:"block"},"door@2,0,2":{config:{direction:"towards",toRoom:"bookworld19"},position:{x:2,y:0,z:2},type:"door"},"door@2,8,2":{config:{direction:"away",toRoom:"bookworld16"},position:{x:2,y:8,z:2},type:"door"}},planet:"bookworld",size:{x:6,y:8},walls:{away:["book","book","none","none","book","book"],left:["book","book","cowboy","book","book","cowboy","book","book"]}}),Fk=x({color:{hue:"yellow",shade:"basic"},floor:"bookworld",id:"bookworld19",items:{"deadlyBlock@1,2,0":{config:{style:"toaster",times:{y:4}},position:{x:1,y:2,z:0},type:"deadlyBlock"},"deadlyBlock@1,3,1":{config:{style:"toaster",times:{y:2}},position:{x:1,y:3,z:1},type:"deadlyBlock"},"door@0,0,0":{config:{direction:"towards",toRoom:"bookworld20"},position:{x:0,y:0,z:0},type:"door"},"door@0,8,0":{config:{direction:"away",toRoom:"bookworld18"},position:{x:0,y:8,z:0},type:"door"},"monster@0,6,0":{config:{activated:!0,movement:"back-forth",startDirection:"towards",style:"greenAndPink",which:"skiHead"},position:{x:0,y:6,z:0},type:"monster"}},planet:"bookworld",size:{x:2,y:8},walls:{away:["none","none"],left:["book","book","cowboy","book","book","cowboy","book","book"]}}),Ok=x({color:{hue:"white",shade:"dimmed"},floor:"bookworld",id:"bookworld20",items:{"door@2,0,4":{config:{direction:"towards",toRoom:"bookworld34"},position:{x:2,y:0,z:4},type:"door"},"door@2,6,0":{config:{direction:"away",toRoom:"bookworld19"},position:{x:2,y:6,z:0},type:"door"},"door@6,2,0":{config:{direction:"left",toRoom:"bookworld26"},position:{x:6,y:2,z:0},type:"door"},"hushPuppy@1,0,0":{config:{},position:{x:1,y:0,z:0},type:"hushPuppy"},"hushPuppy@2,0,1":{config:{},position:{x:2,y:0,z:1},type:"hushPuppy"},"hushPuppy@3,0,2":{config:{},position:{x:3,y:0,z:2},type:"hushPuppy"}},planet:"bookworld",size:{x:6,y:6},walls:{away:["book","book","none","none","book","book"],left:["book","book","none","none","book","book"]}}),Nk=x({color:{hue:"yellow",shade:"dimmed"},floor:"bookworld",id:"bookworld21",items:{"block@1,5,0":{config:{style:"book",times:{y:2}},position:{x:1,y:5,z:0},type:"block"},"block@3,3,0":{config:{style:"book"},position:{x:3,y:3,z:0},type:"block"},"block@6,2,0":{config:{style:"book"},position:{x:6,y:2,z:0},type:"block"},"block@7,5,0":{config:{style:"book"},position:{x:7,y:5,z:0},type:"block"},"door@3,0,0":{config:{direction:"towards",toRoom:"bookworld22"},position:{x:3,y:0,z:0},type:"door"},"door@3,8,0":{config:{direction:"away",toRoom:"bookworld9"},position:{x:3,y:8,z:0},type:"door"},"monster@0,4,0":{config:{activated:!0,movement:"towards-tripped-on-axis-xy4",which:"homingBot"},position:{x:0,y:4,z:0},type:"monster"}},planet:"bookworld",size:{x:8,y:8},walls:{away:["book","book","cowboy","none","none","cowboy","book","book"],left:["book","book","cowboy","book","book","cowboy","book","book"]}}),Lk=x({color:{hue:"white",shade:"dimmed"},floor:"bookworld",id:"bookworld22",items:{"block@0,0,2":{config:{disappearing:"onStand",style:"book"},position:{x:0,y:0,z:2},type:"block"},"block@0,1,0":{config:{style:"book",times:{x:2,z:2}},position:{x:0,y:1,z:0},type:"block"},"block@1,0,3":{config:{style:"book"},position:{x:1,y:0,z:3},type:"block"},"block@1,1,2":{config:{style:"book"},position:{x:1,y:1,z:2},type:"block"},"deadlyBlock@0,0,0":{config:{style:"toaster"},position:{x:0,y:0,z:0},type:"deadlyBlock"},"door@0,3,0":{config:{direction:"right",toRoom:"bookworld23"},position:{x:0,y:3,z:0},type:"door"},"door@0,8,0":{config:{direction:"away",toRoom:"bookworld21"},position:{x:0,y:8,z:0},type:"door"},"pickup@1,0,0":{config:{gives:"shield"},position:{x:1,y:0,z:0},type:"pickup"},"portableBlock@0,5,0":{config:{style:"sticks"},position:{x:0,y:5,z:0},type:"portableBlock"}},planet:"bookworld",size:{x:2,y:8},walls:{away:["none","none"],left:["book","book","cowboy","book","book","cowboy","book","book"]}}),Hk=x({color:{hue:"cyan",shade:"dimmed"},floor:"bookworld",id:"bookworld23",items:{"door@0,2,0":{config:{direction:"right",toRoom:"bookworld24"},position:{x:0,y:2,z:0},type:"door"},"door@2,0,0":{config:{direction:"towards",toRoom:"bookworld27"},position:{x:2,y:0,z:0},type:"door"},"door@6,2,5":{config:{direction:"left",toRoom:"bookworld22"},position:{x:6,y:2,z:5},type:"door"}},planet:"bookworld",size:{x:6,y:6},walls:{away:["book","cowboy","book","book","cowboy","book"],left:["book","book","none","none","book","book"]}}),Gk=x({color:{hue:"magenta",shade:"basic"},floor:"deadly",id:"bookworld24",items:{"block@0,2,0":{config:{style:"book"},position:{x:0,y:2,z:0},type:"block"},"block@3,2,0":{config:{style:"book"},position:{x:3,y:2,z:0},type:"block"},"deadlyBlock@0,0,1":{config:{style:"toaster"},position:{x:0,y:0,z:1},type:"deadlyBlock"},"deadlyBlock@4,2,0":{config:{style:"toaster"},position:{x:4,y:2,z:0},type:"deadlyBlock"},"deadlyBlock@5,5,1":{config:{style:"toaster"},position:{x:5,y:5,z:1},type:"deadlyBlock"},"deadlyBlock@7,0,1":{config:{style:"toaster"},position:{x:7,y:0,z:1},type:"deadlyBlock"},"deadlyBlock@7,5,0":{config:{style:"toaster"},position:{x:7,y:5,z:0},type:"deadlyBlock"},"door@0,2,2":{config:{direction:"right",toRoom:"bookworld25"},position:{x:0,y:2,z:2},type:"door"},"door@8,2,2":{config:{direction:"left",toRoom:"bookworld23"},position:{x:8,y:2,z:2},type:"door"},"movableBlock@7,2,0":{config:{activated:"onStand",movement:"clockwise",startDirection:"right",style:"sandwich"},position:{x:7,y:2,z:0},type:"movableBlock"}},planet:"bookworld",size:{x:8,y:6},walls:{away:["book","book","cowboy","book","book","cowboy","book","book"],left:["book","book","none","none","book","book"]}}),Wk=x({color:{hue:"cyan",shade:"basic"},floor:"bookworld",id:"bookworld25",items:{"door@0,0,0":{config:{direction:"right",toRoom:"bookworld26"},position:{x:0,y:0,z:0},type:"door"},"door@8,0,0":{config:{direction:"left",toRoom:"bookworld24"},position:{x:8,y:0,z:0},type:"door"}},planet:"bookworld",size:{x:8,y:2},walls:{away:["book","book","cowboy","book","book","cowboy","book","book"],left:["none","none"]}}),Uk=x({color:{hue:"magenta",shade:"basic"},floor:"bookworld",id:"bookworld26",items:{"block@3,0,0":{config:{style:"book",times:{z:3}},position:{x:3,y:0,z:0},type:"block"},"block@3,0,4":{config:{style:"book"},position:{x:3,y:0,z:4},type:"block"},"door@0,3,0":{config:{direction:"right",toRoom:"bookworld20"},position:{x:0,y:3,z:0},type:"door"},"door@4,3,0":{config:{direction:"left",toRoom:"bookworld25"},position:{x:4,y:3,z:0},type:"door"},"monster@3,7,0":{config:{activated:!0,movement:"patrol-randomly-diagonal",which:"dalek"},position:{x:3,y:7,z:0},type:"monster"},"pickup@3,0,5":{config:{gives:"doughnuts"},position:{x:3,y:0,z:5},type:"pickup"}},planet:"bookworld",size:{x:4,y:8},walls:{away:["book","book","book","book"],left:["book","book","cowboy","none","none","cowboy","book","book"]}}),Vk=x({color:{hue:"green",shade:"basic"},floor:"bookworld",id:"bookworld27",items:{"block@0,0,0":{config:{style:"book",times:{z:2}},position:{x:0,y:0,z:0},type:"block"},"block@0,0,3":{config:{style:"book"},position:{x:0,y:0,z:3},type:"block"},"door@0,0,4":{config:{direction:"towards",toRoom:"bookworld28"},position:{x:0,y:0,z:4},type:"door"},"door@0,8,0":{config:{direction:"away",toRoom:"bookworld23"},position:{x:0,y:8,z:0},type:"door"}},planet:"bookworld",size:{x:2,y:8},walls:{away:["none","none"],left:["book","book","cowboy","book","book","cowboy","book","book"]}}),qk=x({ceilingRelativePoint:{x:4,y:4},color:{hue:"white",shade:"basic"},floor:"deadly",id:"bookworld28",items:{afterJumpingOFf:{config:{style:"organic",times:{y:4}},position:{x:0,y:4,z:0},type:"block"},afterJumpingOFf2:{config:{style:"organic",times:{x:4}},position:{x:4,y:0,z:0},type:"block"},"block@0,0,0":{config:{style:"organic",times:{x:3}},position:{x:0,y:0,z:0},type:"block"},"block@0,1,0":{config:{style:"organic",times:{y:2}},position:{x:0,y:1,z:0},type:"block"},"block@1,7,0":{config:{style:"organic",times:{x:7}},position:{x:1,y:7,z:0},type:"block"},"block@4,8,0":{config:{style:"organic",times:{x:2,y:8}},position:{x:3,y:8,z:0},type:"block"},"block@7,1,0":{config:{style:"organic",times:{y:6}},position:{x:7,y:1,z:0},type:"block"},"deadlyBlock@2,3,0":{config:{style:"toaster",times:{z:2}},position:{x:2,y:3,z:0},type:"deadlyBlock"},"deadlyBlock@3,2,0":{config:{style:"toaster",times:{z:2}},position:{x:3,y:2,z:0},type:"deadlyBlock"},"deadlyBlock@3,4,0":{config:{style:"toaster",times:{z:2}},position:{x:3,y:4,z:0},type:"deadlyBlock"},"deadlyBlock@4,3,0":{config:{style:"toaster",times:{z:2}},position:{x:4,y:3,z:0},type:"deadlyBlock"},"door@3,16,3":{config:{direction:"away",toRoom:"bookworld27"},position:{x:3,y:16,z:3},type:"door"},extraBarrier:{config:{axis:"y",times:{y:6}},isExtra:!0,position:{x:2.5,y:8,z:1},type:"barrier"},extraBarrier2:{config:{axis:"y",times:{y:6}},isExtra:!0,position:{x:4.5,y:8,z:1},type:"barrier"},extraBarrier3:{config:{axis:"y",times:{y:2}},isExtra:!0,position:{x:4.5,y:13,z:2},type:"barrier"},extraBarrier4:{config:{axis:"y",times:{y:2}},isExtra:!0,position:{x:4.5,y:14,z:3},type:"barrier"},extraBarrier5:{config:{axis:"y",times:{y:2}},isExtra:!0,position:{x:2.5,y:13,z:2},type:"barrier"},extraBarrier6:{config:{axis:"y",times:{y:2}},isExtra:!0,position:{x:2.5,y:14,z:3},type:"barrier"},extraStep:{config:{style:"organic",times:{x:2,z:2}},isExtra:!0,position:{x:3,y:15,z:1},type:"block"},extraStep2:{config:{style:"organic",times:{x:2}},isExtra:!0,position:{x:3,y:14,z:1},type:"block"},jumpingOff:{config:{style:"artificial"},position:{x:0,y:3,z:0},type:"block"},jumpingOff2:{config:{style:"artificial"},position:{x:3,y:0,z:0},type:"block"},"lift@3,3,1":{config:{bottom:0,top:16},position:{x:3,y:3,z:3},type:"lift"},test:{config:{style:"artificial",times:{x:2,y:2}},isExtra:!0,position:{x:0,y:14,z:0},type:"block"},test2:{config:{style:"artificial",times:{x:2,y:2}},isExtra:!0,position:{x:6,y:14,z:0},type:"block"}},planet:"bookworld",roomAbove:"bookworld29",size:{x:8,y:16},walls:{away:["book","book","cowboy","none","none","cowboy","book","book"],left:["book","cowboy","book","book","book","book","cowboy","book","book","cowboy","book","book","book","book","cowboy","book"]}}),Yk=x({color:{hue:"white",shade:"basic"},floor:"none",id:"bookworld29",items:{"block@0,0,0":{config:{style:"organic",times:{x:8}},position:{x:0,y:0,z:0},type:"block"},"block@0,1,0":{config:{style:"organic",times:{y:7}},position:{x:0,y:1,z:0},type:"block"},"block@1,7,0":{config:{style:"organic",times:{x:7}},position:{x:1,y:7,z:0},type:"block"},"block@7,1,0":{config:{style:"organic",times:{y:6}},position:{x:7,y:1,z:0},type:"block"},"door@0,3,3":{config:{direction:"right",toRoom:"bookworld30"},position:{x:0,y:3,z:3},type:"door"},"lift@3,3,0":{config:{bottom:-7,top:6},position:{x:3,y:3,z:0},type:"lift"}},planet:"bookworld",roomBelow:"bookworld28",size:{x:8,y:8},walls:{away:["book","book","cowboy","book","book","cowboy","book","book"],left:["book","book","cowboy","book","book","cowboy","book","book"]}}),Xk=x({color:{hue:"yellow",shade:"dimmed"},floor:"bookworld",id:"bookworld30",items:{"door@0,1,2":{config:{direction:"right",toRoom:"bookworld31"},position:{x:0,y:1,z:2},type:"door"},"door@8,1,2":{config:{direction:"left",toRoom:"bookworld29"},position:{x:8,y:1,z:2},type:"door"},"monster@3,2,0":{config:{activated:!0,movement:"patrol-randomly-diagonal",which:"dalek"},position:{x:3,y:2,z:0},type:"monster"},"monster@4,1,0":{config:{activated:!0,movement:"patrol-randomly-diagonal",which:"dalek"},position:{x:4,y:1,z:0},type:"monster"}},planet:"bookworld",size:{x:8,y:4},walls:{away:["book","book","cowboy","book","book","cowboy","book","book"],left:["book","none","none","book"]}}),Kk=x({color:{hue:"white",shade:"dimmed"},floor:"bookworld",id:"bookworld31",items:{"deadlyBlock@12,0,0":{config:{style:"volcano",times:{y:6}},position:{x:12,y:0,z:0},type:"deadlyBlock"},"deadlyBlock@3,0,0":{config:{style:"volcano",times:{y:6}},position:{x:3,y:0,z:0},type:"deadlyBlock"},"deadlyBlock@5,0,0":{config:{style:"volcano",times:{y:6}},position:{x:5,y:0,z:0},type:"deadlyBlock"},"door@0,2,0":{config:{direction:"right",toRoom:"bookworld32"},position:{x:0,y:2,z:0},type:"door"},"door@16,2,0":{config:{direction:"left",toRoom:"bookworld30"},position:{x:16,y:2,z:0},type:"door"},"monster@11,0,0":{config:{activated:!0,movement:"clockwise",startDirection:"right",style:"starsAndStripes",which:"skiHead"},position:{x:11,y:0,z:0},type:"monster"},"pickup@9,2,0":{config:{gives:"shield"},position:{x:9,y:2,z:0},type:"pickup"}},planet:"bookworld",size:{x:16,y:6},walls:{away:["book","cowboy","book","book","book","book","cowboy","book","book","cowboy","book","book","book","book","cowboy","book"],left:["book","book","none","none","book","book"]}}),Zk=x({color:{hue:"yellow",shade:"basic"},floor:"none",id:"bookworld32",items:{"door@8,3,1":{config:{direction:"left",toRoom:"bookworld31"},position:{x:8,y:3,z:1},type:"door"}},planet:"bookworld",roomBelow:"bookworld33",size:{x:8,y:8},walls:{away:["book","book","cowboy","book","book","cowboy","book","book"],left:["book","book","cowboy","none","none","cowboy","book","book"]}}),Qk=x({color:{hue:"yellow",shade:"dimmed"},floor:"bookworld",id:"bookworld33",items:{"door@0,3,0":{config:{direction:"right",toRoom:"bookworld35"},position:{x:0,y:3,z:0},type:"door"},"door@3,8,4":{config:{direction:"away",toRoom:"bookworld34"},position:{x:3,y:8,z:4},type:"door"},"hushPuppy@1,7,0":{config:{},position:{x:1,y:7,z:0},type:"hushPuppy"},"hushPuppy@2,7,1":{config:{},position:{x:2,y:7,z:1},type:"hushPuppy"},"hushPuppy@3,7,2":{config:{},position:{x:3,y:7,z:2},type:"hushPuppy"}},planet:"bookworld",roomAbove:"bookworld32",size:{x:8,y:8},walls:{away:["book","book","cowboy","none","none","cowboy","book","book"],left:["book","book","cowboy","book","book","cowboy","book","book"]}}),Jk=x({color:{hue:"white",shade:"basic"},floor:"bookworld",id:"bookworld34",items:{"block@0,10,0":{config:{style:"book",times:{x:2}},position:{x:0,y:10,z:0},type:"block"},"block@0,10,2":{config:{style:"book",times:{x:2}},position:{x:0,y:10,z:2},type:"block"},"block@0,13,0":{config:{style:"book"},position:{x:0,y:13,z:0},type:"block"},"block@0,4,0":{config:{style:"book",times:{y:2}},position:{x:0,y:4,z:0},type:"block"},"block@0,5,1":{config:{style:"book",times:{x:2}},position:{x:0,y:5,z:1},type:"block"},"block@0,5,3":{config:{style:"book",times:{x:2,y:5}},position:{x:0,y:5,z:3},type:"block"},"block@1,10,1":{config:{style:"book"},position:{x:1,y:10,z:1},type:"block"},"block@1,10,3":{config:{style:"book"},position:{x:1,y:10,z:3},type:"block"},"block@1,5,0":{config:{style:"book"},position:{x:1,y:5,z:0},type:"block"},"block@1,5,2":{config:{style:"book"},position:{x:1,y:5,z:2},type:"block"},"door@0,0,0":{config:{direction:"towards",toRoom:"bookworld33"},position:{x:0,y:0,z:0},type:"door"},"door@0,16,0":{config:{direction:"away",toRoom:"bookworld20"},position:{x:0,y:16,z:0},type:"door"},"pickup@1,9,0":{config:{gives:"jumps"},position:{x:1,y:9,z:0},type:"pickup"},"slidingBlock@0,10,-1":{config:{style:"book"},position:{x:0,y:10,z:1},type:"slidingBlock"},"slidingBlock@0,13,-1":{config:{style:"book"},position:{x:0,y:13,z:1},type:"slidingBlock"},"slidingBlock@0,5,-1":{config:{style:"book"},position:{x:0,y:5,z:2},type:"slidingBlock"}},planet:"bookworld",size:{x:2,y:16},walls:{away:["none","none"],left:["book","cowboy","book","book","book","book","cowboy","book","book","cowboy","book","book","book","book","cowboy","book"]}}),t1=x({color:{hue:"cyan",shade:"basic"},floor:"bookworld",id:"bookworld35",items:{"block@1,7,3":{config:{style:"book",times:{x:3}},position:{x:1,y:7,z:3},type:"block"},"block@5,1,0":{config:{style:"organic",times:{x:3}},position:{x:5,y:1,z:0},type:"block"},"block@5,7,4":{config:{style:"book"},position:{x:5,y:7,z:4},type:"block"},"block@6,0,0":{config:{style:"organic"},position:{x:6,y:0,z:0},type:"block"},"block@6,2,0":{config:{style:"organic"},position:{x:6,y:2,z:0},type:"block"},"charles@5,7,5":{config:{},position:{x:5,y:7,z:5},type:"charles"},"door@0,3,5":{config:{direction:"right",toRoom:"bookworld36"},position:{x:0,y:3,z:5},type:"door"},"door@8,3,0":{config:{direction:"left",toRoom:"bookworld33"},position:{x:8,y:3,z:0},type:"door"},"joystick@5,1,1":{config:{controls:["charles@5,7,5"]},position:{x:5,y:1,z:1},type:"joystick"},"joystick@6,0,1":{config:{controls:["charles@5,7,5"]},position:{x:6,y:0,z:1},type:"joystick"},"joystick@6,2,1":{config:{controls:["charles@5,7,5"]},position:{x:6,y:2,z:1},type:"joystick"},"joystick@7,1,1":{config:{controls:["charles@5,7,5"]},position:{x:7,y:1,z:1},type:"joystick"},"spring@1,7,4":{config:{},position:{x:1,y:7,z:4},type:"spring"}},planet:"bookworld",size:{x:8,y:8},walls:{away:["book","book","cowboy","book","book","cowboy","book","book"],left:["book","book","cowboy","none","none","cowboy","book","book"]}}),e1=x({color:{hue:"green",shade:"basic"},floor:"bookworld",id:"bookworld36",items:{"block@7,2,0":{config:{style:"book",times:{z:3}},position:{x:7,y:2,z:0},type:"block"},"door@3,6,5":{config:{direction:"away",toRoom:"bookworld37"},position:{x:3,y:6,z:5},type:"door"},"door@8,2,5":{config:{direction:"left",toRoom:"bookworld35"},position:{x:8,y:2,z:5},type:"door"},"monster@1,0,0":{config:{activated:!0,movement:"patrol-randomly-diagonal",which:"dalek"},position:{x:1,y:0,z:0},type:"monster"},"portableBlock@1,5,0":{config:{style:"sticks"},position:{x:1,y:5,z:0},type:"portableBlock"},"portableBlock@3,1,0":{config:{style:"sticks"},position:{x:3,y:1,z:0},type:"portableBlock"},"portableBlock@4,3,0":{config:{style:"sticks"},position:{x:4,y:3,z:0},type:"portableBlock"}},planet:"bookworld",size:{x:8,y:6},walls:{away:["book","book","cowboy","none","none","cowboy","book","book"],left:["book","book","none","none","book","book"]}}),o1=x({color:{hue:"cyan",shade:"basic"},floor:"bookworld",id:"bookworld37",items:{"deadlyBlock@0,3,0":{config:{style:"toaster",times:{x:2,y:2}},position:{x:0,y:3,z:0},type:"deadlyBlock"},"door@0,0,0":{config:{direction:"towards",toRoom:"bookworld36"},position:{x:0,y:0,z:0},type:"door"},"door@0,8,0":{config:{direction:"away",toRoom:"bookworld38"},position:{x:0,y:8,z:0},type:"door"}},planet:"bookworld",size:{x:2,y:8},walls:{away:["none","none"],left:["book","book","cowboy","book","book","cowboy","book","book"]}}),i1=x({color:{hue:"yellow",shade:"basic"},floor:"none",id:"bookworld38",items:{"door@3,0,5":{config:{direction:"towards",toRoom:"bookworld37"},position:{x:3,y:0,z:5},type:"door"}},planet:"bookworld",roomBelow:"bookworld39",size:{x:8,y:8},walls:{away:["book","book","cowboy","book","book","cowboy","book","book"],left:["book","book","cowboy","book","book","cowboy","book","book"]}}),s1=x({color:{hue:"yellow",shade:"basic"},floor:"none",id:"bookworld39",items:{"conveyor@0,0,0":{config:{direction:"left",times:{x:7}},position:{x:0,y:0,z:0},type:"conveyor"},"conveyor@7,0,0":{config:{direction:"away",times:{y:2}},position:{x:7,y:0,z:0},type:"conveyor"},scroll:{config:{gives:"scroll",page:"teleportBack"},position:{x:0,y:0,z:10},type:"pickup"},"teleporter@7,3,0":{config:{toPosition:{x:7,y:3,z:0},toRoom:"bookworld1"},position:{x:7,y:3,z:0},type:"teleporter"},"teleporter@7,4,0":{config:{toPosition:{x:7,y:4,z:0},toRoom:"bookworld1"},position:{x:7,y:4,z:0},type:"teleporter"}},planet:"bookworld",roomAbove:"bookworld38",roomBelow:"bookworld40",size:{x:8,y:8},walls:{away:["book","book","cowboy","book","book","cowboy","book","book"],left:["book","book","cowboy","book","book","cowboy","book","book"]}}),n1=x({color:{hue:"yellow",shade:"basic"},floor:"bookworld",id:"bookworld40",items:{"door@3,8,0":{config:{direction:"away",toRoom:"bookworld41crown"},position:{x:3,y:8,z:0},type:"door"},"lift@0,0,0":{config:{bottom:0,top:11},position:{x:0,y:0,z:0},type:"lift"}},planet:"bookworld",roomAbove:"bookworld39",size:{x:8,y:8},walls:{away:["book","book","cowboy","none","none","cowboy","book","book"],left:["book","book","cowboy","book","book","cowboy","book","book"]}}),r1=x({color:{hue:"white",shade:"basic"},floor:"bookworld",id:"bookworld41crown",items:{"barrier@3,4,0":{config:{axis:"y"},position:{x:3,y:4,z:0},type:"barrier"},"block@3,4,1":{config:{style:"book",times:{z:5}},position:{x:3,y:4,z:1},type:"block"},"door@2,0,0":{config:{direction:"towards",toRoom:"bookworld40"},position:{x:2,y:0,z:0},type:"door"},"monster@0,4,0":{config:{activated:!0,movement:"patrol-randomly-diagonal",which:"dalek"},position:{x:0,y:4,z:0},type:"monster"},"monster@4,4,0":{config:{activated:!0,movement:"patrol-randomly-diagonal",which:"dalek"},position:{x:4,y:4,z:0},type:"monster"},"pickup@3,4,6":{config:{gives:"crown",planet:"bookworld"},position:{x:3,y:4,z:6},type:"pickup"},"portableBlock@0,0,0":{config:{style:"sticks"},position:{x:0,y:0,z:0},type:"portableBlock"},"portableBlock@0,7,0":{config:{style:"sticks"},position:{x:0,y:7,z:0},type:"portableBlock"},"slidingBlock@2,4,0":{config:{style:"book"},position:{x:2,y:4,z:0},type:"slidingBlock"}},planet:"bookworld",size:{x:6,y:8},walls:{away:["book","cowboy","book","book","cowboy","book"],left:["book","book","cowboy","book","book","cowboy","book","book"]}}),a1=x({color:{hue:"yellow",shade:"dimmed"},floor:"egyptus",id:"egyptus1",items:{"door@8,3,0":{config:{direction:"left",toRoom:"egyptus2"},position:{x:8,y:3,z:0},type:"door"},"teleporter@3,3,0":{config:{toPosition:{x:3,y:3,z:0},toRoom:"moonbase24toegyptus"},position:{x:3,y:3,z:0},type:"teleporter"},"teleporter@3,4,0":{config:{toPosition:{x:3,y:4,z:0},toRoom:"moonbase24toegyptus"},position:{x:3,y:4,z:0},type:"teleporter"},"teleporter@4,3,0":{config:{toPosition:{x:4,y:3,z:0},toRoom:"moonbase24toegyptus"},position:{x:4,y:3,z:0},type:"teleporter"},"teleporter@4,4,0":{config:{toPosition:{x:4,y:4,z:0},toRoom:"moonbase24toegyptus"},position:{x:4,y:4,z:0},type:"teleporter"}},planet:"egyptus",size:{x:8,y:8},walls:{away:["hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics"],left:["hieroglyphics","sarcophagus","hieroglyphics","none","none","hieroglyphics","sarcophagus","hieroglyphics"]}}),l1=x({color:{hue:"white",shade:"basic"},floor:"egyptus",id:"egyptus2",items:{"block@0,3,0":{config:{style:"artificial",times:{y:2}},position:{x:0,y:3,z:0},type:"block"},"block@6,3,3":{config:{style:"artificial",times:{x:2,y:2}},position:{x:6,y:3,z:3},type:"block"},"door@0,3,1":{config:{direction:"right",toRoom:"egyptus1"},position:{x:0,y:3,z:1},type:"door"},"door@8,3,5":{config:{direction:"left",toRoom:"egyptus3"},position:{x:8,y:3,z:5},type:"door"},"hushPuppy@3,4,0":{config:{},position:{x:3,y:4,z:0},type:"hushPuppy"},"hushPuppy@4,4,1":{config:{},position:{x:4,y:4,z:1},type:"hushPuppy"},"hushPuppy@5,4,2":{config:{},position:{x:5,y:4,z:2},type:"hushPuppy"},"monster@2,3,0":{config:{activated:!0,movement:"patrol-randomly-diagonal",which:"dalek"},position:{x:2,y:3,z:0},type:"monster"},"monster@2,4,0":{config:{activated:!0,movement:"patrol-randomly-diagonal",which:"dalek"},position:{x:2,y:4,z:0},type:"monster"},"spring@6,3,4":{config:{},position:{x:6,y:3,z:4},type:"spring"}},planet:"egyptus",size:{x:8,y:8},walls:{away:["hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics"],left:["hieroglyphics","sarcophagus","hieroglyphics","none","none","hieroglyphics","sarcophagus","hieroglyphics"]}}),c1=x({color:{hue:"magenta",shade:"basic"},floor:"egyptus",id:"egyptus3",items:{"door@0,0,0":{config:{direction:"right",toRoom:"egyptus2"},position:{x:0,y:0,z:0},type:"door"},"door@8,0,4":{config:{direction:"left",toRoom:"egyptus4"},position:{x:8,y:0,z:4},type:"door"},"spring@4,1,0":{config:{},position:{x:4,y:1,z:0},type:"spring"}},planet:"egyptus",size:{x:8,y:2},walls:{away:["hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics"],left:["none","none"]}}),d1=x({color:{hue:"cyan",shade:"dimmed"},floor:"egyptus",id:"egyptus4",items:{"ball@1,1,3":{config:{},position:{x:1,y:1,z:3},type:"ball"},"ball@1,6,3":{config:{},position:{x:1,y:6,z:3},type:"ball"},"ball@6,1,3":{config:{},position:{x:6,y:1,z:3},type:"ball"},"ball@6,6,3":{config:{},position:{x:6,y:6,z:3},type:"ball"},"block@1,1,0":{config:{style:"tower",times:{z:3}},position:{x:1,y:1,z:0},type:"block"},"block@1,6,0":{config:{style:"tower",times:{z:3}},position:{x:1,y:6,z:0},type:"block"},"block@3,3,0":{config:{style:"organic",times:{x:2,y:2}},position:{x:3,y:3,z:0},type:"block"},"block@6,1,0":{config:{style:"tower",times:{z:3}},position:{x:6,y:1,z:0},type:"block"},"block@6,6,0":{config:{style:"tower",times:{z:3}},position:{x:6,y:6,z:0},type:"block"},"door@0,3,0":{config:{direction:"right",toRoom:"egyptus3"},position:{x:0,y:3,z:0},type:"door"},"door@3,8,0":{config:{direction:"away",toRoom:"egyptus5"},position:{x:3,y:8,z:0},type:"door"}},planet:"egyptus",size:{x:8,y:8},walls:{away:["hieroglyphics","sarcophagus","hieroglyphics","none","none","hieroglyphics","sarcophagus","hieroglyphics"],left:["hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics"]}}),p1=x({color:{hue:"green",shade:"basic"},floor:"egyptus",id:"egyptus5",items:{"deadlyBlock@0,1,0":{config:{style:"volcano"},position:{x:0,y:1,z:0},type:"deadlyBlock"},"deadlyBlock@0,4,0":{config:{style:"volcano"},position:{x:0,y:4,z:0},type:"deadlyBlock"},"deadlyBlock@1,0,0":{config:{style:"volcano"},position:{x:1,y:0,z:0},type:"deadlyBlock"},"deadlyBlock@1,5,0":{config:{style:"volcano"},position:{x:1,y:5,z:0},type:"deadlyBlock"},"deadlyBlock@4,0,0":{config:{style:"volcano"},position:{x:4,y:0,z:0},type:"deadlyBlock"},"deadlyBlock@4,5,0":{config:{style:"volcano"},position:{x:4,y:5,z:0},type:"deadlyBlock"},"deadlyBlock@5,1,0":{config:{style:"volcano"},position:{x:5,y:1,z:0},type:"deadlyBlock"},"deadlyBlock@5,4,0":{config:{style:"volcano"},position:{x:5,y:4,z:0},type:"deadlyBlock"},"door@2,0,0":{config:{direction:"towards",toRoom:"egyptus4"},position:{x:2,y:0,z:0},type:"door"},"door@2,6,0":{config:{direction:"away",toRoom:"egyptus7"},position:{x:2,y:6,z:0},type:"door"},"door@6,2,0":{config:{direction:"left",toRoom:"egyptus6"},position:{x:6,y:2,z:0},type:"door"}},planet:"egyptus",size:{x:6,y:6},walls:{away:["hieroglyphics","hieroglyphics","none","none","hieroglyphics","hieroglyphics"],left:["hieroglyphics","hieroglyphics","none","none","hieroglyphics","hieroglyphics"]}}),y1=x({color:{hue:"white",shade:"basic"},floor:"egyptus",id:"egyptus6",items:{"block@4,3,0":{config:{style:"tower",times:{z:3}},position:{x:4,y:3,z:0},type:"block"},"door@0,3,0":{config:{direction:"right",toRoom:"egyptus5"},position:{x:0,y:3,z:0},type:"door"},"door@3,8,5":{config:{direction:"away",toRoom:"egyptus8"},position:{x:3,y:8,z:5},type:"door"},"movableBlock@2,2,0":{config:{movement:"free",style:"sandwich"},position:{x:2,y:2,z:0},type:"movableBlock"},"movableBlock@2,2,1":{config:{movement:"free",style:"sandwich"},position:{x:2,y:2,z:1},type:"movableBlock"},"movableBlock@4,3,3":{config:{movement:"free",style:"sandwich"},position:{x:4,y:3,z:3},type:"movableBlock"}},planet:"egyptus",size:{x:8,y:8},walls:{away:["hieroglyphics","sarcophagus","hieroglyphics","none","none","hieroglyphics","sarcophagus","hieroglyphics"],left:["hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics"]}}),h1=x({color:{hue:"white",shade:"basic"},floor:"deadly",id:"egyptus7",items:{barrierForAnalogue:{config:{axis:"x",times:{x:2,z:3}},isExtra:!0,position:{x:3,y:.6,z:4},type:"barrier"},barrierForAnalogue2:{config:{axis:"y",times:{z:3}},isExtra:!0,position:{x:4.6,y:0,z:4},type:"barrier"},barrierForAnalogue3:{config:{axis:"y",times:{y:2,z:3}},isExtra:!0,position:{x:6.4,y:3,z:4},type:"barrier"},barrierForAnalogue4:{config:{axis:"x",times:{z:3}},isExtra:!0,position:{x:7,y:2.4,z:4},type:"barrier"},"block@0,0,3":{config:{style:"organic"},position:{x:0,y:0,z:3},type:"block"},"block@0,5,3":{config:{style:"organic"},position:{x:0,y:5,z:3},type:"block"},"block@0,7,3":{config:{style:"organic"},position:{x:0,y:7,z:3},type:"block"},"block@2,7,3":{config:{style:"organic"},position:{x:2,y:7,z:3},type:"block"},"block@3,0,3":{config:{style:"organic",times:{x:2}},position:{x:3,y:0,z:3},type:"block"},"block@7,3,3":{config:{style:"organic",times:{y:2}},position:{x:7,y:3,z:3},type:"block"},"block@7,7,3":{config:{style:"organic"},position:{x:7,y:7,z:3},type:"block"},"door@3,0,4":{config:{direction:"towards",toRoom:"egyptus5"},position:{x:3,y:0,z:4},type:"door"},"door@8,3,5":{config:{direction:"left",toRoom:"egyptus8"},position:{x:8,y:3,z:5},type:"door"},"extrablock0@0,0,3":{config:{style:"tower",times:{z:3}},isExtra:!0,position:{x:0,y:0,z:0},type:"block"},"extrablock0@0,5,3":{config:{style:"tower",times:{z:3}},isExtra:!0,position:{x:0,y:5,z:0},type:"block"},"extrablock0@0,7,3":{config:{style:"tower",times:{z:3}},isExtra:!0,position:{x:0,y:7,z:0},type:"block"},"extrablock0@2,7,3":{config:{style:"tower",times:{z:3}},isExtra:!0,position:{x:2,y:7,z:0},type:"block"},"extrablock0@3,0,3":{config:{style:"tower",times:{z:3}},isExtra:!0,position:{x:3,y:0,z:0},type:"block"},"extrablock0@4,0,3":{config:{style:"tower",times:{z:3}},isExtra:!0,position:{x:4,y:0,z:0},type:"block"},"extrablock0@7,3,3":{config:{style:"tower",times:{z:3}},isExtra:!0,position:{x:7,y:3,z:0},type:"block"},"extrablock0@7,4,3":{config:{style:"tower",times:{z:3}},isExtra:!0,position:{x:7,y:4,z:0},type:"block"},"extrablock0@7,7,3":{config:{style:"tower",times:{z:3}},isExtra:!0,position:{x:7,y:7,z:0},type:"block"}},planet:"egyptus",size:{x:8,y:8},walls:{away:["hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics"],left:["hieroglyphics","sarcophagus","hieroglyphics","none","none","hieroglyphics","sarcophagus","hieroglyphics"]}}),u1=x({color:{hue:"yellow",shade:"basic"},floor:"egyptus",id:"egyptus8",items:{"ball@1,1,3":{config:{},position:{x:1,y:1,z:3},type:"ball"},"ball@1,6,3":{config:{},position:{x:1,y:6,z:3},type:"ball"},"ball@6,1,3":{config:{},position:{x:6,y:1,z:3},type:"ball"},"ball@6,6,3":{config:{},position:{x:6,y:6,z:3},type:"ball"},"block@1,1,0":{config:{style:"tower",times:{z:3}},position:{x:1,y:1,z:0},type:"block"},"block@1,6,0":{config:{style:"tower",times:{z:3}},position:{x:1,y:6,z:0},type:"block"},"block@6,1,0":{config:{style:"tower",times:{z:3}},position:{x:6,y:1,z:0},type:"block"},"block@6,6,0":{config:{style:"tower",times:{z:3}},position:{x:6,y:6,z:0},type:"block"},"door@0,3,0":{config:{direction:"right",toRoom:"egyptus7"},position:{x:0,y:3,z:0},type:"door"},"door@3,0,0":{config:{direction:"towards",toRoom:"egyptus6"},position:{x:3,y:0,z:0},type:"door"},"door@3,8,0":{config:{direction:"away",toRoom:"egyptus9fish"},position:{x:3,y:8,z:0},type:"door"},"monster@4,2,0":{config:{activated:!0,movement:"patrol-randomly-diagonal",which:"dalek"},position:{x:4,y:2,z:0},type:"monster"},"monster@4,5,0":{config:{activated:!0,movement:"patrol-randomly-diagonal",which:"dalek"},position:{x:4,y:5,z:0},type:"monster"}},planet:"egyptus",size:{x:8,y:8},walls:{away:["hieroglyphics","sarcophagus","hieroglyphics","none","none","hieroglyphics","sarcophagus","hieroglyphics"],left:["hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics"]}}),f1=x({color:{hue:"white",shade:"dimmed"},floor:"egyptus",id:"egyptus9fish",items:{"block@2,0,4":{config:{style:"organic",times:{x:2}},position:{x:2,y:0,z:4},type:"block"},"block@3,1,4":{config:{style:"organic",times:{y:7}},position:{x:3,y:1,z:4},type:"block"},"door@1,0,0":{config:{direction:"towards",toRoom:"egyptus8"},position:{x:1,y:0,z:0},type:"door"},"door@1,8,0":{config:{direction:"away",toRoom:"egyptus10"},position:{x:1,y:8,z:0},type:"door"},extrapillar:{config:{style:"tower",times:{z:4}},position:{x:3,y:0,z:0},type:"block"},extrapillar2:{config:{style:"tower",times:{z:4}},position:{x:3,y:7,z:0},type:"block"},"pickup@3,3,5":{config:{gives:"reincarnation"},position:{x:3,y:3,z:5},type:"pickup"},"portableBlock@0,7,0":{config:{style:"sticks"},position:{x:0,y:7,z:0},type:"portableBlock"},"teleporter@2,0,5":{config:{toPosition:{x:4,y:0,z:5},toRoom:"egyptus13"},position:{x:2,y:0,z:5},type:"teleporter"}},planet:"egyptus",size:{x:4,y:8},walls:{away:["hieroglyphics","none","none","hieroglyphics"],left:["hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics"]}}),m1=x({color:{hue:"cyan",shade:"basic"},floor:"egyptus",id:"egyptus10",items:{"block@7,2,0":{config:{style:"organic",times:{z:2}},position:{x:7,y:2,z:0},type:"block"},"block@7,2,3":{config:{style:"organic",times:{y:3}},position:{x:7,y:2,z:3},type:"block"},"door@3,0,0":{config:{direction:"towards",toRoom:"egyptus9fish"},position:{x:3,y:0,z:0},type:"door"},"door@3,8,5":{config:{direction:"away",toRoom:"egyptus15"},position:{x:3,y:8,z:5},type:"door"},"door@8,3,5":{config:{direction:"left",toRoom:"egyptus11"},position:{x:8,y:3,z:5},type:"door"},"hushPuppy@1,7,0":{config:{},position:{x:1,y:7,z:0},type:"hushPuppy"},"hushPuppy@2,7,1":{config:{},position:{x:2,y:7,z:1},type:"hushPuppy"},"hushPuppy@3,7,2":{config:{},position:{x:3,y:7,z:2},type:"hushPuppy"},"hushPuppy@4,7,3":{config:{},position:{x:4,y:7,z:3},type:"hushPuppy"}},planet:"egyptus",size:{x:8,y:8},walls:{away:["hieroglyphics","sarcophagus","hieroglyphics","none","none","hieroglyphics","sarcophagus","hieroglyphics"],left:["hieroglyphics","sarcophagus","hieroglyphics","none","none","hieroglyphics","sarcophagus","hieroglyphics"]}}),g1=x({color:{hue:"cyan",shade:"dimmed"},floor:"egyptus",id:"egyptus11",items:{"door@0,0,0":{config:{direction:"right",toRoom:"egyptus10"},position:{x:0,y:0,z:0},type:"door"},"door@8,0,0":{config:{direction:"left",toRoom:"egyptus12"},position:{x:8,y:0,z:0},type:"door"}},planet:"egyptus",size:{x:8,y:2},walls:{away:["hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics"],left:["none","none"]}}),x1=x({color:{hue:"green",shade:"basic"},floor:"egyptus",id:"egyptus12",items:{"block@2,3,0":{config:{style:"organic",times:{x:3}},position:{x:2,y:3,z:0},type:"block"},"block@3,2,0":{config:{style:"organic"},position:{x:3,y:2,z:0},type:"block"},"block@3,4,0":{config:{style:"organic"},position:{x:3,y:4,z:0},type:"block"},"charles@7,2,1":{config:{},position:{x:7,y:2,z:1},type:"charles"},"deadlyBlock@6,4,3":{config:{style:"volcano",times:{x:2}},position:{x:6,y:4,z:3},type:"deadlyBlock"},"deadlyBlock@7,1,0":{config:{style:"volcano",times:{y:2}},position:{x:7,y:1,z:0},type:"deadlyBlock"},"deadlyBlock@7,1,3":{config:{style:"volcano",times:{y:3}},position:{x:7,y:1,z:3},type:"deadlyBlock"},"deadlyBlock@7,5,3":{config:{style:"volcano",times:{y:2}},position:{x:7,y:5,z:3},type:"deadlyBlock"},"door@0,3,0":{config:{direction:"right",toRoom:"egyptus11"},position:{x:0,y:3,z:0},type:"door"},"door@3,8,5":{config:{direction:"away",toRoom:"egyptus13"},position:{x:3,y:8,z:5},type:"door"},"joystick@2,3,1":{config:{controls:["charles@7,2,1"]},position:{x:2,y:3,z:1},type:"joystick"},"joystick@3,2,1":{config:{controls:["charles@7,2,1"]},position:{x:3,y:2,z:1},type:"joystick"},"joystick@3,4,1":{config:{controls:["charles@7,2,1"]},position:{x:3,y:4,z:1},type:"joystick"},"joystick@4,3,1":{config:{controls:["charles@7,2,1"]},position:{x:4,y:3,z:1},type:"joystick"},"lift@7,0,0":{config:{bottom:0,top:8},position:{x:7,y:0,z:0},type:"lift"},"movableBlock@6,4,4":{config:{movement:"free",style:"sandwich"},position:{x:6,y:4,z:4},type:"movableBlock"}},planet:"egyptus",size:{x:8,y:8},walls:{away:["hieroglyphics","sarcophagus","hieroglyphics","none","none","hieroglyphics","sarcophagus","hieroglyphics"],left:["hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics"]}}),b1=x({color:{hue:"yellow",shade:"basic"},floor:"egyptus",id:"egyptus13",items:{"block@2,0,4":{config:{style:"organic",times:{x:6}},position:{x:2,y:0,z:4},type:"block"},"block@7,0,6":{config:{style:"organic"},position:{x:7,y:0,z:6},type:"block"},"door@3,0,0":{config:{direction:"towards",toRoom:"egyptus12"},position:{x:3,y:0,z:0},type:"door"},"lift@0,0,2":{config:{bottom:2,top:5},position:{x:0,y:0,z:2},type:"lift"},"movableBlock@1,0,0":{config:{movement:"free",style:"stepStool"},position:{x:1,y:0,z:0},type:"movableBlock"},"spring@7,0,7":{config:{},position:{x:7,y:0,z:7},type:"spring"},"teleporter@4,0,5":{config:{toPosition:{x:2,y:0,z:5},toRoom:"egyptus9fish"},position:{x:4,y:0,z:5},type:"teleporter"}},planet:"egyptus",roomAbove:"egyptus14",size:{x:8,y:10,z:13},walls:{away:["hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics"],left:["hieroglyphics","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","hieroglyphics"]}}),w1=x({color:{hue:"yellow",shade:"basic"},floor:"none",id:"egyptus14",items:{"block@2,7,1":{config:{style:"organic",times:{x:3}},position:{x:2,y:9,z:1},type:"block"},"block@7,0,0":{config:{style:"organic"},position:{x:7,y:0,z:0},type:"block"},"block@7,0,4":{config:{style:"organic"},position:{x:7,y:0,z:4},type:"block"},"block@7,0,6":{config:{style:"organic"},position:{x:7,y:0,z:6},type:"block"},"block@7,1,7":{config:{style:"organic"},position:{x:7,y:1,z:7},type:"block"},"block@7,3,2":{config:{style:"organic"},position:{x:7,y:3,z:2},type:"block"},"door@3,8,3":{config:{direction:"away",toRoom:"egyptus18"},position:{x:3,y:10,z:3},type:"door"},"lift@0,7,0":{config:{bottom:0,top:11},position:{x:0,y:9,z:0},type:"lift"}},planet:"egyptus",roomAbove:"egyptus19",roomBelow:"egyptus13",size:{x:8,y:10,z:12},walls:{away:["hieroglyphics","sarcophagus","hieroglyphics","none","none","hieroglyphics","sarcophagus","hieroglyphics"],left:["hieroglyphics","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","hieroglyphics"]}}),k1=x({color:{hue:"white",shade:"basic"},floor:"egyptus",id:"egyptus15",items:{"block@0,5,2":{config:{disappearing:"onStand",style:"organic"},position:{x:0,y:5,z:2},type:"block"},"block@0,5,6":{config:{style:"organic"},position:{x:0,y:5,z:6},type:"block"},"block@1,5,1":{config:{style:"organic"},position:{x:1,y:5,z:1},type:"block"},"block@1,5,5":{config:{style:"organic"},position:{x:1,y:5,z:5},type:"block"},"block@2,5,3":{config:{style:"organic"},position:{x:2,y:5,z:3},type:"block"},"block@3,5,1":{config:{style:"organic"},position:{x:3,y:5,z:1},type:"block"},"block@3,5,4":{config:{disappearing:"onStand",style:"organic"},position:{x:3,y:5,z:4},type:"block"},"block@5,5,0":{config:{style:"organic"},position:{x:5,y:5,z:0},type:"block"},"deadlyBlock@0,5,0":{config:{style:"spikes"},position:{x:0,y:5,z:0},type:"deadlyBlock"},"door@2,0,0":{config:{direction:"towards",toRoom:"egyptus10"},position:{x:2,y:0,z:0},type:"door"},extra1:{config:{style:"organic"},isExtra:!0,position:{x:3,y:5,z:0},type:"block"},extra2:{config:{style:"organic"},isExtra:!0,position:{x:1,y:5,z:0},type:"block"},"spring@0,5,7":{config:{},position:{x:0,y:5,z:7},type:"spring"}},planet:"egyptus",roomAbove:"egyptus16",size:{x:6,y:6},walls:{away:["hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics"],left:["hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics"]}}),z1=x({color:{hue:"white",shade:"basic"},floor:"none",id:"egyptus16",items:{"block@0,5,0":{config:{style:"organic",times:{x:2}},position:{x:0,y:5,z:0},type:"block"},blockAddedToSplitAfterExistingBlockCausedCyclicZOrder:{config:{style:"organic",times:{x:4}},position:{x:2,y:5,z:0},type:"block"},"door@2,6,1":{config:{direction:"away",toRoom:"egyptus17"},position:{x:2,y:6,z:1},type:"door"}},planet:"egyptus",roomBelow:"egyptus15",size:{x:6,y:6},walls:{away:["hieroglyphics","hieroglyphics","none","none","hieroglyphics","hieroglyphics"],left:["hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics"]}}),v1=x({color:{hue:"cyan",shade:"basic"},floor:"deadly",id:"egyptus17",items:{"block@0,0,0":{config:{style:"organic",times:{x:7}},position:{x:0,y:0,z:0},type:"block"},"block@0,5,0":{config:{style:"organic",times:{x:12}},position:{x:0,y:5,z:0},type:"block"},"block@11,2,0":{config:{style:"organic",times:{y:2}},position:{x:11,y:2,z:0},type:"block"},"deadlyBlock@4,1,0":{config:{style:"spikes"},position:{x:4,y:1,z:0},type:"deadlyBlock"},"door@12,2,2":{config:{direction:"left",toRoom:"egyptus18"},position:{x:12,y:2,z:2},type:"door"},"door@2,0,1":{config:{direction:"towards",toRoom:"egyptus16"},position:{x:2,y:0,z:1},type:"door"},"monster@5,1,0":{config:{activated:!0,movement:"clockwise",startDirection:"away",which:"turtle"},position:{x:5,y:1,z:0},type:"monster"},"portableBlock@1,0,1":{config:{style:"sticks"},position:{x:1,y:0,z:1},type:"portableBlock"}},planet:"egyptus",size:{x:12,y:6},walls:{away:["hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics"],left:["hieroglyphics","hieroglyphics","none","none","hieroglyphics","hieroglyphics"]}}),_1=x({color:{hue:"magenta",shade:"basic"},floor:"egyptus",id:"egyptus18",items:{"door@0,2,4":{config:{direction:"right",toRoom:"egyptus17"},position:{x:0,y:2,z:4},type:"door"},"door@2,0,0":{config:{direction:"towards",toRoom:"egyptus14"},position:{x:2,y:0,z:0},type:"door"}},planet:"egyptus",size:{x:6,y:6},walls:{away:["hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics"],left:["hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics"]}}),B1=x({color:{hue:"yellow",shade:"basic"},floor:"none",id:"egyptus19",items:{"barrier@7,3,2":{config:{axis:"y"},position:{x:7,y:3,z:2},type:"barrier"},"barrier@7,3,4":{config:{axis:"y"},position:{x:7,y:3,z:4},type:"barrier"},"barrier@7,3,6":{config:{axis:"y"},position:{x:7,y:3,z:6},type:"barrier"},"block@0,7,0":{config:{style:"organic"},position:{x:0,y:9,z:0},type:"block"},"block@2,7,1":{config:{style:"organic"},position:{x:2,y:9,z:1},type:"block"},"block@4,7,2":{config:{style:"organic"},position:{x:4,y:9,z:2},type:"block"},"block@7,0,7":{config:{style:"organic"},position:{x:7,y:0,z:7},type:"block"},"block@7,1,0":{config:{style:"organic"},position:{x:7,y:1,z:0},type:"block"},"lift@5,7,0":{config:{bottom:0,top:11},position:{x:5,y:9,z:0},type:"lift"}},planet:"egyptus",roomAbove:"egyptus20",roomBelow:"egyptus14",size:{x:8,y:10,z:12},walls:{away:["hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics"],left:["hieroglyphics","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","hieroglyphics"]}}),S1=x({color:{hue:"yellow",shade:"basic"},floor:"none",id:"egyptus20",items:{"block@5,7,0":{config:{style:"organic"},position:{x:5,y:9,z:0},type:"block"},"block@7,0,0":{config:{style:"organic"},position:{x:7,y:0,z:0},type:"block"},"block@7,3,0":{config:{style:"organic",times:{y:2}},position:{x:7,y:3,z:0},type:"block"},"block@7,7,0":{config:{style:"organic"},position:{x:7,y:9,z:0},type:"block"},disappearingBlock:{config:{disappearing:"onStand",style:"organic"},position:{x:7,y:5,z:0},type:"block"},"door@8,3,2":{config:{direction:"left",toRoom:"egyptus21"},position:{x:8,y:3,z:2},type:"door"},newBlockForLongerRoom:{config:{style:"organic"},position:{x:7,y:7,z:0},type:"block"}},planet:"egyptus",roomBelow:"egyptus19",size:{x:8,y:10},walls:{away:["hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics"],left:["hieroglyphics","sarcophagus","hieroglyphics","none","none","hieroglyphics","sarcophagus","hieroglyphics","sarcophagus","hieroglyphics"]}}),A1=x({color:{hue:"white",shade:"basic"},floor:"egyptus",id:"egyptus21",items:{"door@0,0,0":{config:{direction:"right",toRoom:"egyptus20"},position:{x:0,y:0,z:0},type:"door"},"door@8,0,0":{config:{direction:"left",toRoom:"egyptus22"},position:{x:8,y:0,z:0},type:"door"}},planet:"egyptus",size:{x:8,y:2},walls:{away:["hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics"],left:["none","none"]}}),P1=x({color:{hue:"magenta",shade:"basic"},floor:"egyptus",id:"egyptus22",items:{"barrier@2,2,0":{config:{axis:"y",times:{y:4,z:3}},position:{x:2,y:2,z:0},type:"barrier"},"door@0,2,0":{config:{direction:"right",toRoom:"egyptus21"},position:{x:0,y:2,z:0},type:"door"},"door@3,6,0":{config:{direction:"away",toRoom:"egyptus23"},position:{x:3,y:6,z:0},type:"door"},"monster@4,0,0":{config:{activated:!0,movement:"patrol-randomly-diagonal",which:"dalek"},position:{x:4,y:0,z:0},type:"monster"},"monster@4,2,0":{config:{activated:!0,movement:"patrol-randomly-xy8",which:"helicopterBug"},position:{x:4,y:2,z:0},type:"monster"}},planet:"egyptus",size:{x:8,y:6},walls:{away:["hieroglyphics","sarcophagus","hieroglyphics","none","none","hieroglyphics","sarcophagus","hieroglyphics"],left:["hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics"]}}),R1=x({color:{hue:"white",shade:"dimmed"},floor:"egyptus",id:"egyptus23",items:{"block@0,3,5":{config:{style:"organic"},position:{x:0,y:3,z:5},type:"block"},"block@0,4,5":{config:{disappearing:"onStand",style:"organic"},position:{x:0,y:4,z:5},type:"block"},"block@0,5,5":{config:{style:"organic",times:{x:6}},position:{x:0,y:5,z:5},type:"block"},"block@7,1,0":{config:{style:"organic",times:{z:2}},position:{x:7,y:1,z:0},type:"block"},"block@7,5,0":{config:{style:"organic"},position:{x:7,y:5,z:0},type:"block"},"block@7,5,1":{config:{disappearing:"onStand",style:"organic"},position:{x:7,y:5,z:1},type:"block"},"block@7,5,2":{config:{disappearing:"onStand",style:"organic"},position:{x:7,y:5,z:2},type:"block"},"block@7,5,3":{config:{disappearing:"onStand",style:"organic"},position:{x:7,y:5,z:3},type:"block"},"deadlyBlock@0,0,0":{config:{style:"volcano",times:{x:3,y:6}},position:{x:0,y:0,z:0},type:"deadlyBlock"},"deadlyBlock@7,2,0":{config:{style:"spikes"},position:{x:7,y:2,z:0},type:"deadlyBlock"},"deadlyBlock@7,4,0":{config:{style:"spikes"},position:{x:7,y:4,z:0},type:"deadlyBlock"},"door@3,0,0":{config:{direction:"towards",toRoom:"egyptus22"},position:{x:3,y:0,z:0},type:"door"},"door@3,6,0":{config:{direction:"away",toRoom:"egyptus24"},position:{x:3,y:6,z:0},type:"door"},"pickup@0,3,6":{config:{gives:"extra-life"},position:{x:0,y:3,z:6},type:"pickup"}},planet:"egyptus",size:{x:8,y:6},walls:{away:["hieroglyphics","sarcophagus","hieroglyphics","none","none","hieroglyphics","sarcophagus","hieroglyphics"],left:["hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics"]}}),C1=x({color:{hue:"cyan",shade:"dimmed"},floor:"egyptus",id:"egyptus24",items:{"deadlyBlock@0,1,0":{config:{style:"volcano"},position:{x:0,y:1,z:0},type:"deadlyBlock"},"deadlyBlock@0,4,0":{config:{style:"volcano"},position:{x:0,y:4,z:0},type:"deadlyBlock"},"deadlyBlock@1,0,0":{config:{style:"volcano"},position:{x:1,y:0,z:0},type:"deadlyBlock"},"deadlyBlock@1,5,0":{config:{style:"volcano"},position:{x:1,y:5,z:0},type:"deadlyBlock"},"deadlyBlock@4,0,0":{config:{style:"volcano"},position:{x:4,y:0,z:0},type:"deadlyBlock"},"deadlyBlock@4,5,0":{config:{style:"volcano"},position:{x:4,y:5,z:0},type:"deadlyBlock"},"deadlyBlock@5,1,0":{config:{style:"volcano"},position:{x:5,y:1,z:0},type:"deadlyBlock"},"deadlyBlock@5,4,0":{config:{style:"volcano"},position:{x:5,y:4,z:0},type:"deadlyBlock"},"door@0,2,0":{config:{direction:"right",toRoom:"egyptus25"},position:{x:0,y:2,z:0},type:"door"},"door@2,0,0":{config:{direction:"towards",toRoom:"egyptus23"},position:{x:2,y:0,z:0},type:"door"}},planet:"egyptus",size:{x:6,y:6},walls:{away:["hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics"],left:["hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics"]}}),M1=x({color:{hue:"white",shade:"basic"},floor:"egyptus",id:"egyptus25",items:{"door@0,1,0":{config:{direction:"right",toRoom:"egyptus27"},position:{x:0,y:1,z:0},type:"door"},"door@3,4,0":{config:{direction:"away",toRoom:"egyptus26"},position:{x:3,y:4,z:0},type:"door"},"door@8,1,0":{config:{direction:"left",toRoom:"egyptus24"},position:{x:8,y:1,z:0},type:"door"}},planet:"egyptus",size:{x:8,y:4},walls:{away:["hieroglyphics","sarcophagus","hieroglyphics","none","none","hieroglyphics","sarcophagus","hieroglyphics"],left:["hieroglyphics","none","none","hieroglyphics"]}}),E1=x({color:{hue:"cyan",shade:"dimmed"},floor:"egyptus",id:"egyptus26",items:{"deadlyBlock@5,0,0":{config:{style:"volcano",times:{x:3,y:6}},position:{x:5,y:0,z:0},type:"deadlyBlock"},"door@0,2,0":{config:{direction:"right",toRoom:"egyptus28"},position:{x:0,y:2,z:0},type:"door"},"door@3,0,0":{config:{direction:"towards",toRoom:"egyptus25"},position:{x:3,y:0,z:0},type:"door"},"monster@7,5,1":{config:{activated:!0,movement:"patrol-randomly-diagonal",which:"dalek"},position:{x:7,y:5,z:1},type:"monster"},"pickup@7,3,1":{config:{gives:"extra-life"},position:{x:7,y:3,z:1},type:"pickup"}},planet:"egyptus",size:{x:8,y:6},walls:{away:["hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics"],left:["hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics"]}}),I1=x({color:{hue:"yellow",shade:"dimmed"},floor:"deadly",id:"egyptus27",items:{"block@0,7,0":{config:{style:"organic",times:{x:8}},position:{x:0,y:7,z:0},type:"block"},"block@7,0,0":{config:{style:"organic",times:{y:7}},position:{x:7,y:0,z:0},type:"block"},"door@3,8,2":{config:{direction:"away",toRoom:"egyptus28"},position:{x:3,y:8,z:2},type:"door"},"door@8,3,2":{config:{direction:"left",toRoom:"egyptus25"},position:{x:8,y:3,z:2},type:"door"},"pickup@2,2,0":{config:{gives:"shield"},position:{x:2,y:2,z:0},type:"pickup"}},planet:"egyptus",size:{x:8,y:8},walls:{away:["hieroglyphics","sarcophagus","hieroglyphics","none","none","hieroglyphics","sarcophagus","hieroglyphics"],left:["hieroglyphics","sarcophagus","hieroglyphics","none","none","hieroglyphics","sarcophagus","hieroglyphics"]}}),T1=x({color:{hue:"white",shade:"dimmed"},floor:"egyptus",id:"egyptus28",items:{"door@0,2,0":{config:{direction:"right",toRoom:"egyptus29"},position:{x:0,y:2,z:0},type:"door"},"door@3,0,0":{config:{direction:"towards",toRoom:"egyptus27"},position:{x:3,y:0,z:0},type:"door"},"door@8,2,0":{config:{direction:"left",toRoom:"egyptus26"},position:{x:8,y:2,z:0},type:"door"},"moveableDeadly@4,3,0":{config:{style:"deadFish"},position:{x:4,y:3,z:0},type:"moveableDeadly"}},planet:"egyptus",size:{x:8,y:6},walls:{away:["hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics"],left:["hieroglyphics","hieroglyphics","none","none","hieroglyphics","hieroglyphics"]}}),j1=x({color:{hue:"yellow",shade:"basic"},floor:"none",id:"egyptus29",items:{"block@5,0,0":{config:{style:"organic"},position:{x:5,y:0,z:0},type:"block"},"block@5,3,0":{config:{style:"organic",times:{y:2}},position:{x:5,y:3,z:0},type:"block"},"door@6,3,2":{config:{direction:"left",toRoom:"egyptus28"},position:{x:6,y:3,z:2},type:"door"}},planet:"egyptus",roomBelow:"egyptus30",size:{x:6,y:8},walls:{away:["hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics"],left:["hieroglyphics","sarcophagus","hieroglyphics","none","none","hieroglyphics","sarcophagus","hieroglyphics"]}}),D1=x({color:{hue:"yellow",shade:"basic"},floor:"none",id:"egyptus30",items:{"lift@5,0,0":{config:{bottom:0,top:11},position:{x:5,y:0,z:0},type:"lift"}},planet:"egyptus",roomAbove:"egyptus29",roomBelow:"egyptus31",size:{x:6,y:8},walls:{away:["hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics"],left:["hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics"]}}),$1=x({color:{hue:"yellow",shade:"basic"},floor:"egyptus",id:"egyptus31",items:{"door@0,3,0":{config:{direction:"right",toRoom:"egyptus32"},position:{x:0,y:3,z:0},type:"door"},"lift@5,0,0":{config:{bottom:0,top:11},position:{x:5,y:0,z:0},type:"lift"},"monster@2,0,0":{config:{activated:!0,movement:"patrol-randomly-xy8",which:"bubbleRobot"},position:{x:2,y:0,z:0},type:"monster"}},planet:"egyptus",roomAbove:"egyptus30",size:{x:6,y:8},walls:{away:["hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics"],left:["hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics"]}}),F1=x({color:{hue:"green",shade:"basic"},floor:"none",id:"egyptus32",items:{"block@7,0,3":{config:{style:"organic",times:{y:2}},position:{x:7,y:0,z:3},type:"block"},"door@8,0,5":{config:{direction:"left",toRoom:"egyptus31"},position:{x:8,y:0,z:5},type:"door"}},planet:"egyptus",roomBelow:"egyptus33",size:{x:8,y:2},walls:{away:["hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics"],left:["none","none"]}}),O1=x({color:{hue:"green",shade:"basic"},floor:"egyptus",id:"egyptus33",items:{"door@3,2,0":{config:{direction:"away",toRoom:"egyptus34fish"},position:{x:3,y:2,z:0},type:"door"}},planet:"egyptus",roomAbove:"egyptus32",size:{x:8,y:2},walls:{away:["hieroglyphics","sarcophagus","hieroglyphics","none","none","hieroglyphics","sarcophagus","hieroglyphics"],left:["hieroglyphics","hieroglyphics"]}}),N1=x({color:{hue:"white",shade:"basic"},floor:"egyptus",id:"egyptus34fish",items:{"ball@0,2,1":{config:{},position:{x:0,y:2,z:1},type:"ball"},"block@0,2,0":{config:{style:"artificial",times:{y:2}},position:{x:0,y:2,z:0},type:"block"},"block@0,6,0":{config:{style:"artificial",times:{y:2}},position:{x:0,y:6,z:0},type:"block"},"block@0,7,1":{config:{style:"artificial",times:{z:4}},position:{x:0,y:7,z:1},type:"block"},"door@2,0,0":{config:{direction:"towards",toRoom:"egyptus33"},position:{x:2,y:0,z:0},type:"door"},"door@2,8,0":{config:{direction:"away",toRoom:"egyptus35"},position:{x:2,y:8,z:0},type:"door"},"monster@5,4,0":{config:{activated:!0,movement:"patrol-randomly-diagonal",which:"dalek"},position:{x:5,y:4,z:0},type:"monster"},"pickup@0,7,5":{config:{gives:"reincarnation"},position:{x:0,y:7,z:5},type:"pickup"}},planet:"egyptus",size:{x:6,y:8},walls:{away:["hieroglyphics","hieroglyphics","none","none","hieroglyphics","hieroglyphics"],left:["hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics"]}}),L1=x({color:{hue:"yellow",shade:"basic"},floor:"egyptus",id:"egyptus35",items:{"block@1,2,4":{config:{style:"artificial",times:{y:2}},position:{x:1,y:2,z:4},type:"block"},"block@1,4,3":{config:{style:"artificial"},position:{x:1,y:4,z:3},type:"block"},"block@1,5,2":{config:{style:"artificial"},position:{x:1,y:5,z:2},type:"block"},"block@1,6,1":{config:{style:"artificial"},position:{x:1,y:6,z:1},type:"block"},"block@1,7,0":{config:{style:"artificial"},position:{x:1,y:7,z:0},type:"block"},"deadlyBlock@0,7,2":{config:{style:"toaster"},position:{x:0,y:7,z:2},type:"deadlyBlock"},"deadlyBlock@1,5,5":{config:{style:"toaster"},position:{x:1,y:5,z:5},type:"deadlyBlock"},"deadlyBlock@1,6,4":{config:{style:"toaster"},position:{x:1,y:6,z:4},type:"deadlyBlock"},"deadlyBlock@1,7,3":{config:{style:"toaster"},position:{x:1,y:7,z:3},type:"deadlyBlock"},"door@0,0,0":{config:{direction:"towards",toRoom:"egyptus34fish"},position:{x:0,y:0,z:0},type:"door"},extra0:{config:{style:"tower",times:{y:2,z:4}},isExtra:!0,position:{x:1,y:2,z:0},type:"block"},extrab0:{config:{style:"tower",times:{z:2}},isExtra:!0,position:{x:1,y:5,z:0},type:"block"},"portableBlock@0,2,0":{config:{style:"drum"},position:{x:0,y:2,z:0},type:"portableBlock"},"spring@1,2,5":{config:{},position:{x:1,y:2,z:5},type:"spring"}},planet:"egyptus",roomAbove:"egyptus36",size:{x:2,y:8,z:13},walls:{away:["hieroglyphics","hieroglyphics"],left:["hieroglyphics","hieroglyphics","hieroglyphics","hieroglyphics","hieroglyphics","hieroglyphics","hieroglyphics","hieroglyphics"]}}),H1=x({color:{hue:"yellow",shade:"basic"},floor:"none",id:"egyptus36",items:{"block@1,0,0":{config:{style:"organic",times:{y:8}},position:{x:1,y:0,z:0},type:"block"},"lift@0,0,0":{config:{bottom:0,top:11},position:{x:0,y:0,z:0},type:"lift"}},planet:"egyptus",roomAbove:"egyptus37",roomBelow:"egyptus35",size:{x:2,y:8},walls:{away:["hieroglyphics","hieroglyphics"],left:["hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics"]}}),G1=x({color:{hue:"yellow",shade:"basic"},floor:"none",id:"egyptus37",items:{"block@0,0,0":{config:{disappearing:"onStand",style:"artificial"},position:{x:0,y:0,z:0},type:"block"},"block@1,3,0":{config:{disappearing:"onStand",style:"artificial"},position:{x:1,y:3,z:0},type:"block"},"block@1,4,0":{config:{disappearing:"onStand",style:"artificial"},position:{x:1,y:4,z:0},type:"block"},"door@2,3,2":{config:{direction:"left",toRoom:"egyptus38"},position:{x:2,y:3,z:2},type:"door"}},planet:"egyptus",roomBelow:"egyptus36",size:{x:2,y:8},walls:{away:["hieroglyphics","hieroglyphics"],left:["hieroglyphics","sarcophagus","hieroglyphics","none","none","hieroglyphics","sarcophagus","hieroglyphics"]}}),W1=x({color:{hue:"yellow",shade:"dimmed"},floor:"egyptus",id:"egyptus38",items:{"ball@1,1,3":{config:{},position:{x:1,y:1,z:3},type:"ball"},"ball@1,6,3":{config:{},position:{x:1,y:6,z:3},type:"ball"},"ball@6,1,3":{config:{},position:{x:6,y:1,z:3},type:"ball"},"ball@6,6,3":{config:{},position:{x:6,y:6,z:3},type:"ball"},"block@1,1,0":{config:{style:"tower",times:{z:3}},position:{x:1,y:1,z:0},type:"block"},"block@1,6,0":{config:{style:"tower",times:{z:3}},position:{x:1,y:6,z:0},type:"block"},"block@6,1,0":{config:{style:"tower",times:{z:3}},position:{x:6,y:1,z:0},type:"block"},"block@6,6,0":{config:{style:"tower",times:{z:3}},position:{x:6,y:6,z:0},type:"block"},"door@0,3,0":{config:{direction:"right",toRoom:"egyptus37"},position:{x:0,y:3,z:0},type:"door"},"door@8,3,0":{config:{direction:"left",toRoom:"egyptus39crown"},position:{x:8,y:3,z:0},type:"door"},scroll:{config:{gives:"scroll",page:"teleportBack"},position:{x:5,y:6,z:6},type:"pickup"},"teleporter@3,3,0":{config:{toPosition:{x:3,y:3,z:0},toRoom:"egyptus4"},position:{x:3,y:3,z:0},type:"teleporter"},"teleporter@3,4,0":{config:{toPosition:{x:3,y:4,z:0},toRoom:"egyptus4"},position:{x:3,y:4,z:0},type:"teleporter"},"teleporter@4,3,0":{config:{toPosition:{x:4,y:3,z:0},toRoom:"egyptus4"},position:{x:4,y:3,z:0},type:"teleporter"},"teleporter@4,4,0":{config:{toPosition:{x:4,y:4,z:0},toRoom:"egyptus4"},position:{x:4,y:4,z:0},type:"teleporter"}},planet:"egyptus",size:{x:8,y:8},walls:{away:["hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics"],left:["hieroglyphics","sarcophagus","hieroglyphics","none","none","hieroglyphics","sarcophagus","hieroglyphics"]}}),U1=x({color:{hue:"white",shade:"basic"},floor:"egyptus",id:"egyptus39crown",items:{"block@3,3,0":{config:{style:"artificial",times:{x:2,z:3}},position:{x:3,y:3,z:0},type:"block"},"block@4,3,3":{config:{style:"artificial",times:{z:4}},position:{x:4,y:3,z:3},type:"block"},"door@0,3,0":{config:{direction:"right",toRoom:"egyptus38"},position:{x:0,y:3,z:0},type:"door"},"monster@3,0,0":{config:{activated:!0,movement:"patrol-randomly-diagonal",which:"dalek"},position:{x:3,y:0,z:0},type:"monster"},"monster@3,7,0":{config:{activated:!0,movement:"patrol-randomly-diagonal",which:"dalek"},position:{x:3,y:7,z:0},type:"monster"},"pickup@4,3,7":{config:{gives:"crown",planet:"egyptus"},position:{x:4,y:3,z:7},type:"pickup"},"portableBlock@3,3,3":{config:{style:"cube"},position:{x:3,y:3,z:3},type:"portableBlock"}},planet:"egyptus",size:{x:8,y:8},walls:{away:["hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics"],left:["hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics","sarcophagus","hieroglyphics","hieroglyphics"]}}),V1=x({color:{hue:"yellow",shade:"basic"},floor:"penitentiary",id:"finalroom",items:{"block@0,2,1":{config:{style:"artificial",times:{x:2}},position:{x:0,y:2,z:1},type:"block"},"block@0,7,0":{config:{style:"organic",times:{x:8}},position:{x:0,y:7,z:0},type:"block"},"block@7,1,0":{config:{style:"organic",times:{y:3}},position:{x:7,y:1,z:0},type:"block"},"block@7,2,1":{config:{style:"organic"},position:{x:7,y:2,z:1},type:"block"},crownBlacktooth:{config:{gives:"crown",planet:"blacktooth"},position:{x:7,y:2,z:6},type:"pickup"},crownBookworld:{config:{gives:"crown",planet:"bookworld"},position:{x:7,y:1,z:1},type:"pickup"},crownEgyptus:{config:{gives:"crown",planet:"egyptus"},position:{x:7,y:4,z:0},type:"pickup"},crownPenitentiary:{config:{gives:"crown",planet:"penitentiary"},position:{x:7,y:0,z:0},type:"pickup"},crownSafari:{config:{gives:"crown",planet:"safari"},position:{x:7,y:3,z:1},type:"pickup"},"movableBlock@0,2,0":{config:{activated:!1,movement:"clockwise",startDirection:"right",style:"stepStool"},position:{x:0,y:2,z:0},type:"movableBlock"},"sceneryPlayer@0,3,0":{config:{startDirection:"towards",which:"headOverHeels"},position:{x:0,y:3,z:0},type:"sceneryPlayer"},"sceneryPlayer@0,6,0":{config:{startDirection:"towardsLeft",which:"heels"},position:{x:0,y:6,z:0},type:"sceneryPlayer"},"sceneryPlayer@0,7,1":{config:{startDirection:"towardsLeft",which:"head"},position:{x:0,y:7,z:1},type:"sceneryPlayer"},"sceneryPlayer@1,6,0":{config:{startDirection:"towardsLeft",which:"head"},position:{x:1,y:6,z:0},type:"sceneryPlayer"},"sceneryPlayer@1,7,1":{config:{startDirection:"towardsLeft",which:"head"},position:{x:1,y:7,z:1},type:"sceneryPlayer"},"sceneryPlayer@11,0,0":{config:{startDirection:"awayRight",which:"headOverHeels"},position:{x:11,y:0,z:0},type:"sceneryPlayer"},"sceneryPlayer@11,1,0":{config:{startDirection:"right",which:"headOverHeels"},position:{x:11,y:1,z:0},type:"sceneryPlayer"},"sceneryPlayer@11,2,0":{config:{startDirection:"right",which:"headOverHeels"},position:{x:11,y:2,z:0},type:"sceneryPlayer"},"sceneryPlayer@11,3,0":{config:{startDirection:"right",which:"headOverHeels"},position:{x:11,y:3,z:0},type:"sceneryPlayer"},"sceneryPlayer@11,4,0":{config:{startDirection:"right",which:"headOverHeels"},position:{x:11,y:4,z:0},type:"sceneryPlayer"},"sceneryPlayer@11,5,0":{config:{startDirection:"towardsRight",which:"headOverHeels"},position:{x:11,y:5,z:0},type:"sceneryPlayer"},"sceneryPlayer@2,6,0":{config:{startDirection:"towards",which:"heels"},position:{x:2,y:6,z:0},type:"sceneryPlayer"},"sceneryPlayer@2,7,1":{config:{startDirection:"towards",which:"heels"},position:{x:2,y:7,z:1},type:"sceneryPlayer"},"sceneryPlayer@3,6,0":{config:{startDirection:"towards",which:"head"},position:{x:3,y:6,z:0},type:"sceneryPlayer"},"sceneryPlayer@3,7,1":{config:{startDirection:"towards",which:"heels"},position:{x:3,y:7,z:1},type:"sceneryPlayer"},"sceneryPlayer@4,6,0":{config:{startDirection:"towards",which:"heels"},position:{x:4,y:6,z:0},type:"sceneryPlayer"},"sceneryPlayer@4,7,1":{config:{startDirection:"towards",which:"head"},position:{x:4,y:7,z:1},type:"sceneryPlayer"},"sceneryPlayer@5,6,0":{config:{startDirection:"towards",which:"head"},position:{x:5,y:6,z:0},type:"sceneryPlayer"},"sceneryPlayer@5,7,1":{config:{startDirection:"towards",which:"head"},position:{x:5,y:7,z:1},type:"sceneryPlayer"},"sceneryPlayer@6,6,0":{config:{startDirection:"towards",which:"heels"},position:{x:6,y:6,z:0},type:"sceneryPlayer"},"sceneryPlayer@6,7,1":{config:{startDirection:"towards",which:"heels"},position:{x:6,y:7,z:1},type:"sceneryPlayer"},"sceneryPlayer@7,6,0":{config:{startDirection:"towards",which:"head"},position:{x:7,y:6,z:0},type:"sceneryPlayer"},"sceneryPlayer@7,7,1":{config:{startDirection:"towards",which:"heels"},position:{x:7,y:7,z:1},type:"sceneryPlayer"},"sceneryPlayer@8,7,0":{config:{startDirection:"towards",which:"headOverHeels"},position:{x:8,y:7,z:0},type:"sceneryPlayer"},"sceneryPlayer@9,7,0":{config:{startDirection:"towardsRight",which:"headOverHeels"},position:{x:9,y:7,z:0},type:"sceneryPlayer"},winner:{config:{startDirection:"right",which:"headOverHeels"},position:{x:7,y:2,z:2},type:"sceneryPlayer"}},planet:"jail",size:{x:12,y:8},walls:{away:["bars","bars","bars","bars","bars","bars","bars","bars","bars","bars","bars","bars"],left:["bars","bars","bars","bars","bars","bars","bars","bars"]}}),q1=x({color:{hue:"white",shade:"basic"},floor:"moonbase",id:"moonbase1",items:{"deadlyBlock@0,0,0":{config:{style:"toaster",times:{x:3}},position:{x:0,y:0,z:0},type:"deadlyBlock"},"deadlyBlock@0,7,0":{config:{style:"toaster",times:{x:3}},position:{x:0,y:7,z:0},type:"deadlyBlock"},"deadlyBlock@5,0,0":{config:{style:"toaster",times:{x:3}},position:{x:5,y:0,z:0},type:"deadlyBlock"},"deadlyBlock@5,7,0":{config:{style:"toaster",times:{x:3}},position:{x:5,y:7,z:0},type:"deadlyBlock"},"door@0,3,0":{config:{direction:"right",toRoom:"moonbase4"},position:{x:0,y:3,z:0},type:"door"},"door@8,3,0":{config:{direction:"left",toRoom:"moonbase2"},position:{x:8,y:3,z:0},type:"door"},"monster@0,0,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"away",wakes:!1,which:"cyberman"},position:{x:0,y:0,z:1},type:"monster"},"monster@0,7,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"towards",wakes:!1,which:"cyberman"},position:{x:0,y:7,z:1},type:"monster"},"monster@1,0,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"away",wakes:!1,which:"cyberman"},position:{x:1,y:0,z:1},type:"monster"},"monster@1,7,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"towards",wakes:!1,which:"cyberman"},position:{x:1,y:7,z:1},type:"monster"},"monster@2,0,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"away",wakes:!1,which:"cyberman"},position:{x:2,y:0,z:1},type:"monster"},"monster@2,7,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"towards",wakes:!1,which:"cyberman"},position:{x:2,y:7,z:1},type:"monster"},"monster@5,0,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"away",wakes:!1,which:"cyberman"},position:{x:5,y:0,z:1},type:"monster"},"monster@5,7,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"towards",wakes:!1,which:"cyberman"},position:{x:5,y:7,z:1},type:"monster"},"monster@6,0,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"away",wakes:!1,which:"cyberman"},position:{x:6,y:0,z:1},type:"monster"},"monster@6,7,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"towards",wakes:!1,which:"cyberman"},position:{x:6,y:7,z:1},type:"monster"},"monster@7,0,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"away",wakes:!1,which:"cyberman"},position:{x:7,y:0,z:1},type:"monster"},"monster@7,7,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"towards",wakes:!1,which:"cyberman"},position:{x:7,y:7,z:1},type:"monster"},scroll:{config:{gives:"scroll",page:"hushPuppies"},position:{x:7,y:5,z:0},type:"pickup"},"teleporter@3,3,0":{config:{toPosition:{x:2,y:3,z:0},toRoom:"blacktooth51"},position:{x:3,y:3,z:0},type:"teleporter"},"teleporter@3,4,0":{config:{toPosition:{x:2,y:4,z:0},toRoom:"blacktooth51"},position:{x:3,y:4,z:0},type:"teleporter"},"teleporter@4,3,0":{config:{toPosition:{x:3,y:3,z:0},toRoom:"blacktooth51"},position:{x:4,y:3,z:0},type:"teleporter"},"teleporter@4,4,0":{config:{toPosition:{x:3,y:4,z:0},toRoom:"blacktooth51"},position:{x:4,y:4,z:0},type:"teleporter"}},planet:"moonbase",size:{x:8,y:8},walls:{away:["window3","window1","coil","window2","window3","coil","window3","window1"],left:["window3","coil","window2","none","none","window2","coil","window1"]}}),Y1=x({color:{hue:"cyan",shade:"basic"},floor:"moonbase",id:"moonbase2",items:{"deadlyBlock@7,1,0":{config:{style:"toaster",times:{y:4}},position:{x:7,y:1,z:0},type:"deadlyBlock"},"door@0,2,0":{config:{direction:"right",toRoom:"moonbase1"},position:{x:0,y:2,z:0},type:"door"},"door@3,6,4":{config:{direction:"away",toRoom:"moonbase3"},position:{x:3,y:6,z:4},type:"door"},"hushPuppy@2,5,0":{config:{},position:{x:2,y:5,z:0},type:"hushPuppy"},"hushPuppy@3,5,1":{config:{},position:{x:3,y:5,z:1},type:"hushPuppy"},"hushPuppy@4,5,2":{config:{},position:{x:4,y:5,z:2},type:"hushPuppy"},"monster@0,5,0":{config:{activated:!0,movement:"patrol-randomly-diagonal",which:"dalek"},position:{x:0,y:5,z:0},type:"monster"},"monster@7,1,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"right",wakes:!1,which:"cyberman"},position:{x:7,y:1,z:1},type:"monster"},"monster@7,2,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"right",wakes:!1,which:"cyberman"},position:{x:7,y:2,z:1},type:"monster"},"monster@7,3,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"right",wakes:!1,which:"cyberman"},position:{x:7,y:3,z:1},type:"monster"},"monster@7,4,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"right",wakes:!1,which:"cyberman"},position:{x:7,y:4,z:1},type:"monster"}},planet:"moonbase",size:{x:8,y:6},walls:{away:["window3","coil","window2","none","none","window2","coil","window1"],left:["window1","coil","window2","window3","coil","window1"]}}),X1=x({color:{hue:"magenta",shade:"basic"},floor:"deadly",id:"moonbase3",items:{"block@1,1,0":{config:{style:"organic",times:{x:3}},position:{x:1,y:1,z:0},type:"block"},"block@2,0,0":{config:{style:"organic",times:{x:3}},position:{x:2,y:0,z:0},type:"block"},"block@2,2,0":{config:{style:"organic"},position:{x:2,y:2,z:0},type:"block"},"block@2,4,0":{config:{style:"organic"},position:{x:2,y:4,z:0},type:"block"},"charles@7,7,1":{config:{},position:{x:7,y:7,z:1},type:"charles"},"deadlyBlock@0,1,0":{config:{style:"spikes"},position:{x:0,y:1,z:0},type:"deadlyBlock"},"deadlyBlock@1,4,1":{config:{style:"spikes",times:{x:2}},position:{x:1,y:4,z:1},type:"deadlyBlock"},"deadlyBlock@7,7,0":{config:{style:"spikes"},position:{x:7,y:7,z:0},type:"deadlyBlock"},"door@3,0,1":{config:{direction:"towards",toRoom:"moonbase2"},position:{x:3,y:0,z:1},type:"door"},"door@3,8,2":{config:{direction:"away",toRoom:"moonbase13"},position:{x:3,y:8,z:2},type:"door"},"joystick@1,1,1":{config:{controls:["charles@7,7,1"]},position:{x:1,y:1,z:1},type:"joystick"},"joystick@2,0,1":{config:{controls:["charles@7,7,1"]},position:{x:2,y:0,z:1},type:"joystick"},"joystick@2,2,1":{config:{controls:["charles@7,7,1"]},position:{x:2,y:2,z:1},type:"joystick"},"joystick@3,1,1":{config:{controls:["charles@7,7,1"]},position:{x:3,y:1,z:1},type:"joystick"},"movableBlock@0,7,0":{config:{activated:!0,movement:"clockwise",startDirection:"towards",style:"sandwich"},position:{x:0,y:7,z:0},type:"movableBlock"},"spring@4,7,0":{config:{},position:{x:4,y:7,z:0},type:"spring"}},planet:"moonbase",size:{x:8,y:8},walls:{away:["window3","coil","window2","none","none","window2","coil","window1"],left:["window3","window1","coil","window2","window3","coil","window3","window1"]}}),K1=x({color:{hue:"cyan",shade:"basic"},floor:"moonbase",id:"moonbase4",items:{"block@1,7,0":{config:{style:"artificial",times:{z:2}},position:{x:1,y:7,z:0},type:"block"},"block@1,7,3":{config:{style:"artificial",times:{x:3}},position:{x:1,y:7,z:3},type:"block"},"block@7,0,0":{config:{style:"artificial"},position:{x:7,y:0,z:0},type:"block"},"block@7,1,1":{config:{style:"artificial"},position:{x:7,y:1,z:1},type:"block"},"block@7,2,2":{config:{style:"artificial"},position:{x:7,y:2,z:2},type:"block"},"block@7,3,3":{config:{style:"artificial"},position:{x:7,y:3,z:3},type:"block"},"deadlyBlock@1,1,0":{config:{style:"volcano"},position:{x:1,y:1,z:0},type:"deadlyBlock"},"deadlyBlock@1,6,0":{config:{style:"volcano"},position:{x:1,y:6,z:0},type:"deadlyBlock"},"deadlyBlock@2,3,0":{config:{style:"volcano",times:{y:2}},position:{x:2,y:3,z:0},type:"deadlyBlock"},"deadlyBlock@3,2,0":{config:{style:"volcano",times:{x:2}},position:{x:3,y:2,z:0},type:"deadlyBlock"},"deadlyBlock@3,5,0":{config:{style:"volcano",times:{x:2}},position:{x:3,y:5,z:0},type:"deadlyBlock"},"deadlyBlock@5,3,0":{config:{style:"volcano",times:{y:2}},position:{x:5,y:3,z:0},type:"deadlyBlock"},"deadlyBlock@6,1,0":{config:{style:"volcano"},position:{x:6,y:1,z:0},type:"deadlyBlock"},"deadlyBlock@6,6,0":{config:{style:"volcano"},position:{x:6,y:6,z:0},type:"deadlyBlock"},"door@3,8,5":{config:{direction:"away",toRoom:"moonbase5"},position:{x:3,y:8,z:5},type:"door"},"door@8,3,5":{config:{direction:"left",toRoom:"moonbase1"},position:{x:8,y:3,z:5},type:"door"},"monster@2,5,0":{config:{activated:!0,movement:"patrol-randomly-xy4",which:"computerBot"},position:{x:2,y:5,z:0},type:"monster"},"monster@5,2,0":{config:{activated:!0,movement:"patrol-randomly-xy4",which:"computerBot"},position:{x:5,y:2,z:0},type:"monster"}},planet:"moonbase",size:{x:8,y:8},walls:{away:["window3","coil","window2","none","none","window2","coil","window1"],left:["window3","coil","window2","none","none","window2","coil","window1"]}}),Z1=x({color:{hue:"green",shade:"basic"},floor:"moonbase",id:"moonbase5",items:{"door@1,0,0":{config:{direction:"towards",toRoom:"moonbase4"},position:{x:1,y:0,z:0},type:"door"},"door@1,8,0":{config:{direction:"away",toRoom:"moonbase6"},position:{x:1,y:8,z:0},type:"door"},"monster@0,4,0":{config:{activated:!0,movement:"towards-tripped-on-axis-xy4",which:"homingBot"},position:{x:0,y:4,z:0},type:"monster"},"monster@3,2,0":{config:{activated:!0,movement:"towards-tripped-on-axis-xy4",which:"homingBot"},position:{x:3,y:2,z:0},type:"monster"},"monster@3,6,0":{config:{activated:!0,movement:"towards-tripped-on-axis-xy4",which:"homingBot"},position:{x:3,y:6,z:0},type:"monster"}},planet:"moonbase",size:{x:4,y:8},walls:{away:["window2","none","none","window1"],left:["window3","window1","coil","window2","window3","coil","window3","window1"]}}),Q1=x({color:{hue:"magenta",shade:"basic"},floor:"moonbase",id:"moonbase6",items:{"deadlyBlock@0,3,0":{config:{style:"volcano",times:{x:2}},position:{x:0,y:3,z:0},type:"deadlyBlock"},"deadlyBlock@1,5,0":{config:{style:"volcano"},position:{x:1,y:5,z:0},type:"deadlyBlock"},"deadlyBlock@2,7,0":{config:{style:"volcano"},position:{x:2,y:7,z:0},type:"deadlyBlock"},"deadlyBlock@3,3,0":{config:{style:"volcano",times:{y:3}},position:{x:3,y:3,z:0},type:"deadlyBlock"},"deadlyBlock@4,6,0":{config:{style:"volcano",times:{x:2}},position:{x:4,y:6,z:0},type:"deadlyBlock"},"deadlyBlock@5,4,0":{config:{style:"volcano"},position:{x:5,y:4,z:0},type:"deadlyBlock"},"deadlyBlock@7,4,0":{config:{style:"volcano"},position:{x:7,y:4,z:0},type:"deadlyBlock"},"door@3,0,0":{config:{direction:"towards",toRoom:"moonbase5"},position:{x:3,y:0,z:0},type:"door"},"door@3,8,0":{config:{direction:"away",toRoom:"moonbase7"},position:{x:3,y:8,z:0},type:"door"},"monster@0,4,0":{config:{activated:!0,movement:"towards-tripped-on-axis-xy4",which:"homingBot"},position:{x:0,y:4,z:0},type:"monster"},"monster@7,5,0":{config:{activated:!0,movement:"towards-tripped-on-axis-xy4",which:"homingBot"},position:{x:7,y:5,z:0},type:"monster"},"pickup@0,5,0":{config:{gives:"extra-life"},position:{x:0,y:5,z:0},type:"pickup"}},planet:"moonbase",size:{x:8,y:8},walls:{away:["window3","coil","window2","none","none","window2","coil","window1"],left:["window3","window1","coil","window2","window3","coil","window3","window1"]}}),J1=x({color:{hue:"green",shade:"basic"},floor:"moonbase",id:"moonbase7",items:{"block@2,0,0":{config:{style:"organic",times:{z:2}},position:{x:2,y:0,z:0},type:"block"},"block@2,0,3":{config:{style:"organic",times:{x:2}},position:{x:2,y:0,z:3},type:"block"},"deadlyBlock@0,7,0":{config:{style:"toaster",times:{x:3}},position:{x:0,y:7,z:0},type:"deadlyBlock"},"deadlyBlock@5,7,0":{config:{style:"toaster",times:{x:3}},position:{x:5,y:7,z:0},type:"deadlyBlock"},"door@0,3,0":{config:{direction:"right",toRoom:"moonbase8"},position:{x:0,y:3,z:0},type:"door"},"door@3,0,4":{config:{direction:"towards",toRoom:"moonbase6"},position:{x:3,y:0,z:4},type:"door"},"door@8,3,0":{config:{direction:"left",toRoom:"moonbase15"},position:{x:8,y:3,z:0},type:"door"},"monster@0,7,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"towards",wakes:!1,which:"cyberman"},position:{x:0,y:7,z:1},type:"monster"},"monster@1,7,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"towards",wakes:!1,which:"cyberman"},position:{x:1,y:7,z:1},type:"monster"},"monster@2,7,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"towards",wakes:!1,which:"cyberman"},position:{x:2,y:7,z:1},type:"monster"},"monster@5,7,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"towards",wakes:!1,which:"cyberman"},position:{x:5,y:7,z:1},type:"monster"},"monster@6,7,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"towards",wakes:!1,which:"cyberman"},position:{x:6,y:7,z:1},type:"monster"},"monster@7,7,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"towards",wakes:!1,which:"cyberman"},position:{x:7,y:7,z:1},type:"monster"}},planet:"moonbase",size:{x:8,y:8},walls:{away:["window3","window1","coil","window2","window3","coil","window3","window1"],left:["window3","coil","window2","none","none","window2","coil","window1"]}}),tz=x({color:{hue:"yellow",shade:"basic"},floor:"moonbase",id:"moonbase8",items:{"deadlyBlock@0,0,0":{config:{style:"toaster",times:{x:3}},position:{x:0,y:0,z:0},type:"deadlyBlock"},"deadlyBlock@5,0,0":{config:{style:"toaster",times:{x:3}},position:{x:5,y:0,z:0},type:"deadlyBlock"},"door@8,3,0":{config:{direction:"left",toRoom:"moonbase7"},position:{x:8,y:3,z:0},type:"door"},"monster@0,0,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"away",wakes:!1,which:"cyberman"},position:{x:0,y:0,z:1},type:"monster"},"monster@1,0,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"away",wakes:!1,which:"cyberman"},position:{x:1,y:0,z:1},type:"monster"},"monster@2,0,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"away",wakes:!1,which:"cyberman"},position:{x:2,y:0,z:1},type:"monster"},"monster@5,0,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"away",wakes:!1,which:"cyberman"},position:{x:5,y:0,z:1},type:"monster"},"monster@6,0,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"away",wakes:!1,which:"cyberman"},position:{x:6,y:0,z:1},type:"monster"},"monster@7,0,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"away",wakes:!1,which:"cyberman"},position:{x:7,y:0,z:1},type:"monster"},"teleporter@0,6,0":{config:{toPosition:{x:0,y:6,z:0},toRoom:"blacktooth60"},position:{x:0,y:6,z:0},type:"teleporter"},"teleporter@0,7,0":{config:{toPosition:{x:0,y:7,z:0},toRoom:"blacktooth60"},position:{x:0,y:7,z:0},type:"teleporter"},"teleporter@1,6,0":{config:{toPosition:{x:1,y:6,z:0},toRoom:"blacktooth60"},position:{x:1,y:6,z:0},type:"teleporter"},"teleporter@1,7,0":{config:{toPosition:{x:1,y:7,z:0},toRoom:"blacktooth60"},position:{x:1,y:7,z:0},type:"teleporter"},"teleporter@6,6,0":{config:{toPosition:{x:6,y:6,z:0},toRoom:"blacktooth60"},position:{x:6,y:6,z:0},type:"teleporter"},"teleporter@6,7,0":{config:{toPosition:{x:6,y:7,z:0},toRoom:"blacktooth60"},position:{x:6,y:7,z:0},type:"teleporter"},"teleporter@7,6,0":{config:{toPosition:{x:7,y:6,z:0},toRoom:"blacktooth60"},position:{x:7,y:6,z:0},type:"teleporter"},"teleporter@7,7,0":{config:{toPosition:{x:7,y:7,z:0},toRoom:"blacktooth60"},position:{x:7,y:7,z:0},type:"teleporter"}},planet:"moonbase",size:{x:8,y:8},walls:{away:["window3","window1","coil","window2","window3","coil","window3","window1"],left:["window3","coil","window2","none","none","window2","coil","window1"]}}),ez=x({color:{hue:"cyan",shade:"basic"},floor:"moonbase",id:"moonbase9",items:{"door@6,2,0":{config:{direction:"left",toRoom:"moonbase10"},position:{x:6,y:2,z:0},type:"door"},"teleporter@2,2,0":{config:{toPosition:{x:3,y:3,z:0},toRoom:"blacktooth57"},position:{x:2,y:2,z:0},type:"teleporter"},"teleporter@2,3,0":{config:{toPosition:{x:3,y:4,z:0},toRoom:"blacktooth57"},position:{x:2,y:3,z:0},type:"teleporter"},"teleporter@3,2,0":{config:{toPosition:{x:4,y:3,z:0},toRoom:"blacktooth57"},position:{x:3,y:2,z:0},type:"teleporter"},"teleporter@3,3,0":{config:{toPosition:{x:4,y:4,z:0},toRoom:"blacktooth57"},position:{x:3,y:3,z:0},type:"teleporter"}},planet:"moonbase",size:{x:6,y:6},walls:{away:["window1","coil","window2","window3","coil","window1"],left:["window2","window3","none","none","window3","window1"]}}),oz=x({color:{hue:"yellow",shade:"basic"},floor:"deadly",id:"moonbase10",items:{"block@0,3,3":{config:{style:"artificial"},position:{x:0,y:3,z:3},type:"block"},"block@0,7,3":{config:{style:"artificial"},position:{x:0,y:7,z:3},type:"block"},"block@0,7,5":{config:{style:"artificial"},position:{x:0,y:7,z:5},type:"block"},"block@4,7,3":{config:{style:"artificial"},position:{x:4,y:7,z:3},type:"block"},"deadlyBlock@0,7,6":{config:{style:"toaster"},position:{x:0,y:7,z:6},type:"deadlyBlock"},"door@0,3,5":{config:{direction:"right",toRoom:"moonbase9"},position:{x:0,y:3,z:5},type:"door"},"door@3,8,5":{config:{direction:"away",toRoom:"moonbase11"},position:{x:3,y:8,z:5},type:"door"},extra0a:{config:{style:"tower"},isExtra:!0,position:{x:4,y:7,z:0},type:"block"},extra1a:{config:{style:"tower"},isExtra:!0,position:{x:4,y:7,z:1},type:"block"},extra2a:{config:{style:"tower"},isExtra:!0,position:{x:4,y:7,z:2},type:"block"},extrab0:{config:{style:"tower"},isExtra:!0,position:{x:0,y:3,z:0},type:"block"},extrab1:{config:{style:"tower"},isExtra:!0,position:{x:0,y:3,z:1},type:"block"},extrab2:{config:{style:"tower"},isExtra:!0,position:{x:0,y:3,z:2},type:"block"},extrac0:{config:{style:"tower"},isExtra:!0,position:{x:0,y:7,z:0},type:"block"},extrac1:{config:{style:"tower"},isExtra:!0,position:{x:0,y:7,z:1},type:"block"},extrac2:{config:{style:"tower"},isExtra:!0,position:{x:0,y:7,z:2},type:"block"}},planet:"moonbase",size:{x:8,y:8},walls:{away:["window3","coil","window2","none","none","window2","coil","window1"],left:["window3","window1","coil","window2","window3","coil","window3","window1"]}}),iz=x({color:{hue:"cyan",shade:"basic"},floor:"moonbase",id:"moonbase11",items:{"door@0,0,0":{config:{direction:"towards",toRoom:"moonbase10"},position:{x:0,y:0,z:0},type:"door"},"door@0,8,0":{config:{direction:"away",toRoom:"moonbase12"},position:{x:0,y:8,z:0},type:"door"},"door@2,3,0":{config:{direction:"left",toRoom:"moonbase19"},position:{x:2,y:3,z:0},type:"door"}},planet:"moonbase",size:{x:2,y:8},walls:{away:["none","none"],left:["window3","coil","window2","none","none","window2","coil","window1"]}}),sz=x({color:{hue:"yellow",shade:"dimmed"},floor:"moonbase",id:"moonbase12",items:{"block@0,0,3":{config:{style:"organic",times:{x:6}},position:{x:0,y:0,z:3},type:"block"},"block@0,2,3":{config:{style:"organic",times:{y:3}},position:{x:0,y:2,z:3},type:"block"},"door@0,3,4":{config:{direction:"right",toRoom:"moonbase18"},position:{x:0,y:3,z:4},type:"door"},"door@3,0,0":{config:{direction:"towards",toRoom:"moonbase11"},position:{x:3,y:0,z:0},type:"door"},"hushPuppy@5,0,0":{config:{},position:{x:5,y:0,z:0},type:"hushPuppy"},"hushPuppy@6,0,1":{config:{},position:{x:6,y:0,z:1},type:"hushPuppy"},"hushPuppy@7,0,2":{config:{},position:{x:7,y:0,z:2},type:"hushPuppy"}},planet:"moonbase",size:{x:8,y:8},walls:{away:["window3","window1","coil","window2","window3","coil","window3","window1"],left:["window3","window1","coil","window2","window3","coil","window3","window1"]}}),nz=x({color:{hue:"cyan",shade:"dimmed"},floor:"moonbase",id:"moonbase13",items:{"deadlyBlock@0,2,0":{config:{style:"toaster",times:{y:4}},position:{x:0,y:2,z:0},type:"deadlyBlock"},"door@1,0,0":{config:{direction:"towards",toRoom:"moonbase3"},position:{x:1,y:0,z:0},type:"door"},"door@1,8,0":{config:{direction:"away",toRoom:"moonbase14"},position:{x:1,y:8,z:0},type:"door"},"door@4,3,0":{config:{direction:"left",toRoom:"moonbase16"},position:{x:4,y:3,z:0},type:"door"},"monster@0,2,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"left",wakes:!1,which:"cyberman"},position:{x:0,y:2,z:1},type:"monster"},"monster@0,3,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"left",wakes:!1,which:"cyberman"},position:{x:0,y:3,z:1},type:"monster"},"monster@0,4,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"left",wakes:!1,which:"cyberman"},position:{x:0,y:4,z:1},type:"monster"},"monster@0,5,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"left",wakes:!1,which:"cyberman"},position:{x:0,y:5,z:1},type:"monster"}},planet:"moonbase",size:{x:4,y:8},walls:{away:["window2","none","none","window1"],left:["window3","coil","window2","none","none","window2","coil","window1"]}}),rz=x({color:{hue:"white",shade:"basic"},floor:"moonbase",id:"moonbase14",items:{"deadlyBlock@5,2,0":{config:{style:"toaster",times:{y:4}},position:{x:5,y:2,z:0},type:"deadlyBlock"},"door@0,3,0":{config:{direction:"right",toRoom:"moonbase15"},position:{x:0,y:3,z:0},type:"door"},"door@2,0,0":{config:{direction:"towards",toRoom:"moonbase13"},position:{x:2,y:0,z:0},type:"door"},"monster@2,7,0":{config:{activated:!0,movement:"towards-tripped-on-axis-xy4",which:"homingBot"},position:{x:2,y:7,z:0},type:"monster"},"monster@5,2,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"right",wakes:!1,which:"cyberman"},position:{x:5,y:2,z:1},type:"monster"},"monster@5,3,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"right",wakes:!1,which:"cyberman"},position:{x:5,y:3,z:1},type:"monster"},"monster@5,4,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"right",wakes:!1,which:"cyberman"},position:{x:5,y:4,z:1},type:"monster"},"monster@5,5,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"right",wakes:!1,which:"cyberman"},position:{x:5,y:5,z:1},type:"monster"}},planet:"moonbase",size:{x:6,y:8},walls:{away:["window1","coil","window2","window3","coil","window1"],left:["window3","window1","coil","window2","window3","coil","window3","window1"]}}),az=x({color:{hue:"yellow",shade:"dimmed"},floor:"moonbase",id:"moonbase15",items:{"door@0,0,0":{config:{direction:"right",toRoom:"moonbase7"},position:{x:0,y:0,z:0},type:"door"},"door@8,0,4":{config:{direction:"left",toRoom:"moonbase14"},position:{x:8,y:0,z:4},type:"door"},"hushPuppy@5,0,0":{config:{times:{y:2}},position:{x:5,y:0,z:0},type:"hushPuppy"},"hushPuppy@6,0,1":{config:{times:{y:2}},position:{x:6,y:0,z:1},type:"hushPuppy"},"hushPuppy@7,0,2":{config:{times:{y:2}},position:{x:7,y:0,z:2},type:"hushPuppy"},scroll:{config:{gives:"scroll",page:"hushPuppies"},position:{x:3,y:1,z:0},type:"pickup"}},planet:"moonbase",size:{x:8,y:2},walls:{away:["window3","window1","coil","window2","window3","coil","window3","window1"],left:["none","none"]}}),lz=x({color:{hue:"yellow",shade:"basic"},floor:"moonbase",id:"moonbase16",items:{barier1:{config:{axis:"y",times:{y:6}},isExtra:!0,position:{x:6,y:0,z:0},type:"barrier"},"deadlyBlock@2,0,0":{config:{style:"volcano",times:{y:6,z:2}},position:{x:2,y:0,z:0},type:"deadlyBlock"},"door@0,2,1":{config:{direction:"right",toRoom:"moonbase13"},position:{x:0,y:2,z:1},type:"door"},"door@8,0,0":{config:{direction:"towards",toRoom:"moonbase17"},position:{x:8,y:0,z:0},type:"door"},"monster@11,0,0":{config:{activated:!0,movement:"towards-on-shortest-axis-xy4",which:"computerBot"},position:{x:11,y:0,z:0},type:"monster"},"pickup@11,5,0":{config:{gives:"shield"},position:{x:11,y:5,z:0},type:"pickup"},"portableBlock@0,0,0":{config:{style:"drum"},position:{x:0,y:0,z:0},type:"portableBlock"},"portableBlock@0,1,0":{config:{style:"drum"},position:{x:0,y:1,z:0},type:"portableBlock"},"portableBlock@3,0,0":{config:{style:"drum"},position:{x:3,y:0,z:0},type:"portableBlock"},"portableBlock@4,0,0":{config:{style:"drum"},position:{x:4,y:0,z:0},type:"portableBlock"}},planet:"moonbase",size:{x:12,y:6},walls:{away:["window1","coil","window2","window3","coil","window1","window1","coil","window2","window3","coil","window1"],left:["window1","coil","window2","window3","coil","window1"]}}),cz=x({color:{hue:"white",shade:"basic"},floor:"moonbase",id:"moonbase17",items:{"door@2,6,0":{config:{direction:"away",toRoom:"moonbase16"},position:{x:2,y:6,z:0},type:"door"},"teleporter@2,2,0":{config:{toPosition:{x:2,y:2,z:0},toRoom:"moonbase18"},position:{x:2,y:2,z:0},type:"teleporter"},"teleporter@2,3,0":{config:{toPosition:{x:2,y:3,z:0},toRoom:"moonbase18"},position:{x:2,y:3,z:0},type:"teleporter"},"teleporter@3,2,0":{config:{toPosition:{x:3,y:2,z:0},toRoom:"moonbase18"},position:{x:3,y:2,z:0},type:"teleporter"},"teleporter@3,3,0":{config:{toPosition:{x:3,y:3,z:0},toRoom:"moonbase18"},position:{x:3,y:3,z:0},type:"teleporter"}},planet:"moonbase",size:{x:6,y:6},walls:{away:["window2","window3","none","none","window3","window1"],left:["window1","coil","window2","window3","coil","window1"]}}),dz=x({color:{hue:"cyan",shade:"basic"},floor:"moonbase",id:"moonbase18",items:{"door@6,2,0":{config:{direction:"left",toRoom:"moonbase12"},position:{x:6,y:2,z:0},type:"door"},"teleporter@2,2,0":{config:{toPosition:{x:2,y:2,z:0},toRoom:"moonbase17"},position:{x:2,y:2,z:0},type:"teleporter"},"teleporter@2,3,0":{config:{toPosition:{x:2,y:3,z:0},toRoom:"moonbase17"},position:{x:2,y:3,z:0},type:"teleporter"},"teleporter@3,2,0":{config:{toPosition:{x:3,y:2,z:0},toRoom:"moonbase17"},position:{x:3,y:2,z:0},type:"teleporter"},"teleporter@3,3,0":{config:{toPosition:{x:3,y:3,z:0},toRoom:"moonbase17"},position:{x:3,y:3,z:0},type:"teleporter"}},planet:"moonbase",size:{x:6,y:6},walls:{away:["window1","coil","window2","window3","coil","window1"],left:["window2","window3","none","none","window3","window1"]}}),pz=x({color:{hue:"white",shade:"dimmed"},floor:"moonbase",id:"moonbase19",items:{"deadlyBlock@3,0,0":{config:{style:"toaster",times:{x:3}},position:{x:3,y:0,z:0},type:"deadlyBlock"},"door@0,0,0":{config:{direction:"right",toRoom:"moonbase11"},position:{x:0,y:0,z:0},type:"door"},"door@8,0,0":{config:{direction:"left",toRoom:"moonbase20"},position:{x:8,y:0,z:0},type:"door"},"monster@3,0,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"away",wakes:!1,which:"cyberman"},position:{x:3,y:0,z:1},type:"monster"},"monster@4,0,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"away",wakes:!1,which:"cyberman"},position:{x:4,y:0,z:1},type:"monster"},"monster@5,0,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"away",wakes:!1,which:"cyberman"},position:{x:5,y:0,z:1},type:"monster"}},planet:"moonbase",size:{x:8,y:2},walls:{away:["window3","window1","coil","window2","window3","coil","window3","window1"],left:["none","none"]}}),yz=x({color:{hue:"cyan",shade:"dimmed"},floor:"moonbase",id:"moonbase20",items:{crownsScroll:{config:{gives:"scroll",page:"crowns"},isExtra:!0,position:{x:5,y:4,z:1},type:"pickup"},"door@0,3,0":{config:{direction:"right",toRoom:"moonbase19"},position:{x:0,y:3,z:0},type:"door"},"door@3,0,0":{config:{direction:"towards",toRoom:"moonbase22topenitentiary"},position:{x:3,y:0,z:0},type:"door"},"door@3,8,0":{config:{direction:"away",toRoom:"moonbase21tosafari"},position:{x:3,y:8,z:0},type:"door"},"door@8,3,0":{config:{direction:"left",toRoom:"moonbase23"},position:{x:8,y:3,z:0},type:"door"},"slidingBlock@1,4,0":{config:{style:"puck"},position:{x:1,y:4,z:0},type:"slidingBlock"},"slidingBlock@2,4,0":{config:{style:"puck"},position:{x:2,y:4,z:0},type:"slidingBlock"},"slidingBlock@3,4,0":{config:{style:"puck"},position:{x:3,y:4,z:0},type:"slidingBlock"},"slidingBlock@4,2,0":{config:{style:"puck"},position:{x:4,y:2,z:0},type:"slidingBlock"},"slidingBlock@4,4,0":{config:{style:"puck"},position:{x:4,y:4,z:0},type:"slidingBlock"},"slidingBlock@4,6,0":{config:{style:"puck"},position:{x:4,y:6,z:0},type:"slidingBlock"},"slidingBlock@5,3,0":{config:{style:"puck"},position:{x:5,y:3,z:0},type:"slidingBlock"},"slidingBlock@5,4,0":{config:{style:"puck"},position:{x:5,y:4,z:0},type:"slidingBlock"},"slidingBlock@5,5,0":{config:{style:"puck"},position:{x:5,y:5,z:0},type:"slidingBlock"},"slidingBlock@6,4,0":{config:{style:"puck"},position:{x:6,y:4,z:0},type:"slidingBlock"}},planet:"moonbase",size:{x:8,y:8},walls:{away:["window3","coil","window2","none","none","window2","coil","window1"],left:["window3","coil","window2","none","none","window2","coil","window1"]}}),hz=x({color:{hue:"white",shade:"dimmed"},floor:"moonbase",id:"moonbase21tosafari",items:{"deadlyBlock@0,7,0":{config:{style:"toaster",times:{x:6}},position:{x:0,y:7,z:0},type:"deadlyBlock"},"door@2,0,0":{config:{direction:"towards",toRoom:"moonbase20"},position:{x:2,y:0,z:0},type:"door"},"monster@0,7,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"towards",wakes:!1,which:"cyberman"},position:{x:0,y:7,z:1},type:"monster"},"monster@1,7,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"towards",wakes:!1,which:"cyberman"},position:{x:1,y:7,z:1},type:"monster"},"monster@2,7,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"towards",wakes:!1,which:"cyberman"},position:{x:2,y:7,z:1},type:"monster"},"monster@3,7,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"towards",wakes:!1,which:"cyberman"},position:{x:3,y:7,z:1},type:"monster"},"monster@4,7,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"towards",wakes:!1,which:"cyberman"},position:{x:4,y:7,z:1},type:"monster"},"monster@5,7,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"towards",wakes:!1,which:"cyberman"},position:{x:5,y:7,z:1},type:"monster"},scroll:{config:{gives:"scroll",page:"safari"},position:{x:1,y:3,z:0},type:"pickup"},"teleporter@2,3,0":{config:{toPosition:{x:2,y:3,z:0},toRoom:"safari1"},position:{x:2,y:3,z:0},type:"teleporter"},"teleporter@2,4,0":{config:{toPosition:{x:2,y:4,z:0},toRoom:"safari1"},position:{x:2,y:4,z:0},type:"teleporter"},"teleporter@3,3,0":{config:{toPosition:{x:3,y:3,z:0},toRoom:"safari1"},position:{x:3,y:3,z:0},type:"teleporter"},"teleporter@3,4,0":{config:{toPosition:{x:3,y:4,z:0},toRoom:"safari1"},position:{x:3,y:4,z:0},type:"teleporter"}},planet:"moonbase",size:{x:6,y:8},walls:{away:["window1","coil","window2","window3","coil","window1"],left:["window3","window1","coil","window2","window3","coil","window3","window1"]}}),uz=x({color:{hue:"yellow",shade:"basic"},floor:"moonbase",id:"moonbase22topenitentiary",items:{"deadlyBlock@0,0,0":{config:{style:"toaster",times:{x:6}},position:{x:0,y:0,z:0},type:"deadlyBlock"},"door@2,8,0":{config:{direction:"away",toRoom:"moonbase20"},position:{x:2,y:8,z:0},type:"door"},"monster@0,0,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"away",wakes:!1,which:"cyberman"},position:{x:0,y:0,z:1},type:"monster"},"monster@1,0,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"away",wakes:!1,which:"cyberman"},position:{x:1,y:0,z:1},type:"monster"},"monster@2,0,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"away",wakes:!1,which:"cyberman"},position:{x:2,y:0,z:1},type:"monster"},"monster@3,0,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"away",wakes:!1,which:"cyberman"},position:{x:3,y:0,z:1},type:"monster"},"monster@4,0,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"away",wakes:!1,which:"cyberman"},position:{x:4,y:0,z:1},type:"monster"},"monster@5,0,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"away",wakes:!1,which:"cyberman"},position:{x:5,y:0,z:1},type:"monster"},scroll:{config:{gives:"scroll",page:"penitentiary"},position:{x:1,y:4,z:0},type:"pickup"},"teleporter@2,3,0":{config:{toPosition:{x:2,y:3,z:0},toRoom:"penitentiary1"},position:{x:2,y:3,z:0},type:"teleporter"},"teleporter@2,4,0":{config:{toPosition:{x:2,y:4,z:0},toRoom:"penitentiary1"},position:{x:2,y:4,z:0},type:"teleporter"},"teleporter@3,3,0":{config:{toPosition:{x:3,y:3,z:0},toRoom:"penitentiary1"},position:{x:3,y:3,z:0},type:"teleporter"},"teleporter@3,4,0":{config:{toPosition:{x:3,y:4,z:0},toRoom:"penitentiary1"},position:{x:3,y:4,z:0},type:"teleporter"}},planet:"moonbase",size:{x:6,y:8},walls:{away:["window2","window3","none","none","window3","window1"],left:["window3","window1","coil","window2","window3","coil","window3","window1"]}}),fz=x({color:{hue:"magenta",shade:"basic"},floor:"moonbase",id:"moonbase23",items:{"door@0,3,0":{config:{direction:"right",toRoom:"moonbase20"},position:{x:0,y:3,z:0},type:"door"},"door@3,0,0":{config:{direction:"towards",toRoom:"moonbase25tobookworld"},position:{x:3,y:0,z:0},type:"door"},"door@3,8,0":{config:{direction:"away",toRoom:"moonbase24toegyptus"},position:{x:3,y:8,z:0},type:"door"},"door@8,3,0":{config:{direction:"left",toRoom:"moonbase26"},position:{x:8,y:3,z:0},type:"door"},"slidingBlock@1,4,0":{config:{style:"puck"},position:{x:1,y:4,z:0},type:"slidingBlock"},"slidingBlock@2,4,0":{config:{style:"puck"},position:{x:2,y:4,z:0},type:"slidingBlock"},"slidingBlock@3,4,0":{config:{style:"puck"},position:{x:3,y:4,z:0},type:"slidingBlock"},"slidingBlock@4,2,0":{config:{style:"puck"},position:{x:4,y:2,z:0},type:"slidingBlock"},"slidingBlock@4,4,0":{config:{style:"puck"},position:{x:4,y:4,z:0},type:"slidingBlock"},"slidingBlock@4,6,0":{config:{style:"puck"},position:{x:4,y:6,z:0},type:"slidingBlock"},"slidingBlock@5,3,0":{config:{style:"puck"},position:{x:5,y:3,z:0},type:"slidingBlock"},"slidingBlock@5,4,0":{config:{style:"puck"},position:{x:5,y:4,z:0},type:"slidingBlock"},"slidingBlock@5,5,0":{config:{style:"puck"},position:{x:5,y:5,z:0},type:"slidingBlock"},"slidingBlock@6,4,0":{config:{style:"puck"},position:{x:6,y:4,z:0},type:"slidingBlock"}},planet:"moonbase",size:{x:8,y:8},walls:{away:["window3","coil","window2","none","none","window2","coil","window1"],left:["window3","coil","window2","none","none","window2","coil","window1"]}}),mz=x({color:{hue:"cyan",shade:"basic"},floor:"moonbase",id:"moonbase24toegyptus",items:{"deadlyBlock@0,0,0":{config:{style:"toaster",times:{x:3}},position:{x:0,y:0,z:0},type:"deadlyBlock"},"deadlyBlock@0,7,0":{config:{style:"toaster",times:{x:3}},position:{x:0,y:7,z:0},type:"deadlyBlock"},"deadlyBlock@5,0,0":{config:{style:"toaster",times:{x:3}},position:{x:5,y:0,z:0},type:"deadlyBlock"},"deadlyBlock@5,7,0":{config:{style:"toaster",times:{x:3}},position:{x:5,y:7,z:0},type:"deadlyBlock"},"door@3,0,0":{config:{direction:"towards",toRoom:"moonbase23"},position:{x:3,y:0,z:0},type:"door"},"monster@0,0,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"away",wakes:!1,which:"cyberman"},position:{x:0,y:0,z:1},type:"monster"},"monster@0,7,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"towards",wakes:!1,which:"cyberman"},position:{x:0,y:7,z:1},type:"monster"},"monster@1,0,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"away",wakes:!1,which:"cyberman"},position:{x:1,y:0,z:1},type:"monster"},"monster@1,7,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"towards",wakes:!1,which:"cyberman"},position:{x:1,y:7,z:1},type:"monster"},"monster@2,0,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"away",wakes:!1,which:"cyberman"},position:{x:2,y:0,z:1},type:"monster"},"monster@2,7,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"towards",wakes:!1,which:"cyberman"},position:{x:2,y:7,z:1},type:"monster"},"monster@5,0,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"away",wakes:!1,which:"cyberman"},position:{x:5,y:0,z:1},type:"monster"},"monster@5,7,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"towards",wakes:!1,which:"cyberman"},position:{x:5,y:7,z:1},type:"monster"},"monster@6,0,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"away",wakes:!1,which:"cyberman"},position:{x:6,y:0,z:1},type:"monster"},"monster@6,7,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"towards",wakes:!1,which:"cyberman"},position:{x:6,y:7,z:1},type:"monster"},"monster@7,0,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"away",wakes:!1,which:"cyberman"},position:{x:7,y:0,z:1},type:"monster"},"monster@7,7,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"towards",wakes:!1,which:"cyberman"},position:{x:7,y:7,z:1},type:"monster"},scroll:{config:{gives:"scroll",page:"egyptus"},position:{x:2,y:3,z:0},type:"pickup"},"teleporter@3,3,0":{config:{toPosition:{x:3,y:3,z:0},toRoom:"egyptus1"},position:{x:3,y:3,z:0},type:"teleporter"},"teleporter@3,4,0":{config:{toPosition:{x:3,y:4,z:0},toRoom:"egyptus1"},position:{x:3,y:4,z:0},type:"teleporter"},"teleporter@4,3,0":{config:{toPosition:{x:4,y:3,z:0},toRoom:"egyptus1"},position:{x:4,y:3,z:0},type:"teleporter"},"teleporter@4,4,0":{config:{toPosition:{x:4,y:4,z:0},toRoom:"egyptus1"},position:{x:4,y:4,z:0},type:"teleporter"}},planet:"moonbase",size:{x:8,y:8},walls:{away:["window3","window1","coil","window2","window3","coil","window3","window1"],left:["window3","window1","coil","window2","window3","coil","window3","window1"]}}),gz=x({color:{hue:"white",shade:"basic"},floor:"moonbase",id:"moonbase25tobookworld",items:{"deadlyBlock@0,0,0":{config:{style:"toaster",times:{x:3}},position:{x:0,y:0,z:0},type:"deadlyBlock"},"deadlyBlock@0,7,0":{config:{style:"toaster",times:{x:3}},position:{x:0,y:7,z:0},type:"deadlyBlock"},"deadlyBlock@5,0,0":{config:{style:"toaster",times:{x:3}},position:{x:5,y:0,z:0},type:"deadlyBlock"},"deadlyBlock@5,7,0":{config:{style:"toaster",times:{x:3}},position:{x:5,y:7,z:0},type:"deadlyBlock"},"door@3,8,0":{config:{direction:"away",toRoom:"moonbase23"},position:{x:3,y:8,z:0},type:"door"},"monster@0,0,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"away",wakes:!1,which:"cyberman"},position:{x:0,y:0,z:1},type:"monster"},"monster@0,7,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"towards",wakes:!1,which:"cyberman"},position:{x:0,y:7,z:1},type:"monster"},"monster@1,0,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"away",wakes:!1,which:"cyberman"},position:{x:1,y:0,z:1},type:"monster"},"monster@1,7,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"towards",wakes:!1,which:"cyberman"},position:{x:1,y:7,z:1},type:"monster"},"monster@2,0,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"away",wakes:!1,which:"cyberman"},position:{x:2,y:0,z:1},type:"monster"},"monster@2,7,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"towards",wakes:!1,which:"cyberman"},position:{x:2,y:7,z:1},type:"monster"},"monster@5,0,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"away",wakes:!1,which:"cyberman"},position:{x:5,y:0,z:1},type:"monster"},"monster@5,7,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"towards",wakes:!1,which:"cyberman"},position:{x:5,y:7,z:1},type:"monster"},"monster@6,0,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"away",wakes:!1,which:"cyberman"},position:{x:6,y:0,z:1},type:"monster"},"monster@6,7,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"towards",wakes:!1,which:"cyberman"},position:{x:6,y:7,z:1},type:"monster"},"monster@7,0,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"away",wakes:!1,which:"cyberman"},position:{x:7,y:0,z:1},type:"monster"},"monster@7,7,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"towards",wakes:!1,which:"cyberman"},position:{x:7,y:7,z:1},type:"monster"},scroll:{config:{gives:"scroll",page:"bookWorld"},position:{x:6,y:6,z:0},type:"pickup"},"teleporter@6,3,0":{config:{toPosition:{x:6,y:3,z:0},toRoom:"bookworld1"},position:{x:6,y:3,z:0},type:"teleporter"},"teleporter@6,4,0":{config:{toPosition:{x:6,y:4,z:0},toRoom:"bookworld1"},position:{x:6,y:4,z:0},type:"teleporter"},"teleporter@7,3,0":{config:{toPosition:{x:7,y:3,z:0},toRoom:"bookworld1"},position:{x:7,y:3,z:0},type:"teleporter"},"teleporter@7,4,0":{config:{toPosition:{x:7,y:4,z:0},toRoom:"bookworld1"},position:{x:7,y:4,z:0},type:"teleporter"}},planet:"moonbase",size:{x:8,y:8},walls:{away:["window3","coil","window2","none","none","window2","coil","window1"],left:["window3","window1","coil","window2","window3","coil","window3","window1"]}}),xz=x({color:{hue:"green",shade:"basic"},floor:"moonbase",id:"moonbase26",items:{"deadlyBlock@2,0,0":{config:{style:"toaster",times:{x:4}},position:{x:2,y:0,z:0},type:"deadlyBlock"},"door@0,0,0":{config:{direction:"right",toRoom:"moonbase23"},position:{x:0,y:0,z:0},type:"door"},"door@8,0,0":{config:{direction:"left",toRoom:"moonbase27"},position:{x:8,y:0,z:0},type:"door"},"monster@3,0,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"away",wakes:!1,which:"cyberman"},position:{x:3,y:0,z:1},type:"monster"},"monster@4,0,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"away",wakes:!1,which:"cyberman"},position:{x:4,y:0,z:1},type:"monster"},"monster@5,0,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"away",wakes:!1,which:"cyberman"},position:{x:5,y:0,z:1},type:"monster"}},planet:"moonbase",size:{x:8,y:2},walls:{away:["window3","window1","coil","window2","window3","coil","window3","window1"],left:["none","none"]}}),bz=x({color:{hue:"cyan",shade:"basic"},floor:"moonbase",id:"moonbase27",items:{"door@0,0,0":{config:{direction:"towards",toRoom:"moonbase30"},position:{x:0,y:0,z:0},type:"door"},"door@0,3,0":{config:{direction:"right",toRoom:"moonbase26"},position:{x:0,y:3,z:0},type:"door"},"door@0,8,0":{config:{direction:"away",toRoom:"moonbase28"},position:{x:0,y:8,z:0},type:"door"}},planet:"moonbase",size:{x:2,y:8},walls:{away:["none","none"],left:["window3","window1","coil","window2","window3","coil","window3","window1"]}}),wz=x({color:{hue:"yellow",shade:"dimmed"},floor:"moonbase",id:"moonbase28",items:{"door@2,0,0":{config:{direction:"towards",toRoom:"moonbase27"},position:{x:2,y:0,z:0},type:"door"},"door@6,2,4":{config:{direction:"left",toRoom:"moonbase29"},position:{x:6,y:2,z:4},type:"door"},"hushPuppy@3,3,0":{config:{},position:{x:3,y:3,z:0},type:"hushPuppy"},"hushPuppy@4,3,1":{config:{},position:{x:4,y:3,z:1},type:"hushPuppy"},"hushPuppy@5,3,2":{config:{},position:{x:5,y:3,z:2},type:"hushPuppy"},"monster@0,5,0":{config:{activated:!0,movement:"towards-on-shortest-axis-xy4",startDirection:"towards",which:"cyberman"},position:{x:0,y:5,z:0},type:"monster"}},planet:"moonbase",size:{x:6,y:6},walls:{away:["window1","coil","window2","window3","coil","window1"],left:["window2","window3","none","none","window3","window1"]}}),kz=x({color:{hue:"white",shade:"dimmed"},floor:"moonbase",id:"moonbase29",items:{"deadlyBlock@0,0,0":{config:{style:"toaster",times:{x:3}},position:{x:0,y:0,z:0},type:"deadlyBlock"},"deadlyBlock@0,7,0":{config:{style:"toaster",times:{x:3}},position:{x:0,y:7,z:0},type:"deadlyBlock"},"deadlyBlock@5,0,0":{config:{style:"toaster",times:{x:3}},position:{x:5,y:0,z:0},type:"deadlyBlock"},"deadlyBlock@5,7,0":{config:{style:"toaster",times:{x:3}},position:{x:5,y:7,z:0},type:"deadlyBlock"},"door@0,3,0":{config:{direction:"right",toRoom:"moonbase28"},position:{x:0,y:3,z:0},type:"door"},"monster@0,0,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"away",wakes:!1,which:"cyberman"},position:{x:0,y:0,z:1},type:"monster"},"monster@0,7,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"towards",wakes:!1,which:"cyberman"},position:{x:0,y:7,z:1},type:"monster"},"monster@1,0,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"away",wakes:!1,which:"cyberman"},position:{x:1,y:0,z:1},type:"monster"},"monster@1,7,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"towards",wakes:!1,which:"cyberman"},position:{x:1,y:7,z:1},type:"monster"},"monster@2,0,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"away",wakes:!1,which:"cyberman"},position:{x:2,y:0,z:1},type:"monster"},"monster@2,7,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"towards",wakes:!1,which:"cyberman"},position:{x:2,y:7,z:1},type:"monster"},"monster@5,0,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"away",wakes:!1,which:"cyberman"},position:{x:5,y:0,z:1},type:"monster"},"monster@5,7,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"towards",wakes:!1,which:"cyberman"},position:{x:5,y:7,z:1},type:"monster"},"monster@6,0,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"away",wakes:!1,which:"cyberman"},position:{x:6,y:0,z:1},type:"monster"},"monster@6,7,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"towards",wakes:!1,which:"cyberman"},position:{x:6,y:7,z:1},type:"monster"},"monster@7,0,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"away",wakes:!1,which:"cyberman"},position:{x:7,y:0,z:1},type:"monster"},"monster@7,7,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"towards",wakes:!1,which:"cyberman"},position:{x:7,y:7,z:1},type:"monster"},"teleporter@3,3,0":{config:{toPosition:{x:3,y:3,z:0},toRoom:"moonbase32"},position:{x:3,y:3,z:0},type:"teleporter"},"teleporter@3,4,0":{config:{toPosition:{x:3,y:4,z:0},toRoom:"moonbase32"},position:{x:3,y:4,z:0},type:"teleporter"},"teleporter@4,3,0":{config:{toPosition:{x:4,y:3,z:0},toRoom:"moonbase32"},position:{x:4,y:3,z:0},type:"teleporter"},"teleporter@4,4,0":{config:{toPosition:{x:4,y:4,z:0},toRoom:"moonbase32"},position:{x:4,y:4,z:0},type:"teleporter"}},planet:"moonbase",size:{x:8,y:8},walls:{away:["window3","window1","coil","window2","window3","coil","window3","window1"],left:["window3","window1","coil","window2","window3","coil","window3","window1"]}}),zz=x({color:{hue:"yellow",shade:"basic"},floor:"moonbase",id:"moonbase30",items:{"door@2,6,0":{config:{direction:"away",toRoom:"moonbase27"},position:{x:2,y:6,z:0},type:"door"},"door@6,2,0":{config:{direction:"left",toRoom:"moonbase31"},position:{x:6,y:2,z:0},type:"door"}},planet:"moonbase",size:{x:6,y:6},walls:{away:["window2","window3","none","none","window3","window1"],left:["window2","window3","none","none","window3","window1"]}}),vz=x({color:{hue:"white",shade:"basic"},floor:"moonbase",id:"moonbase31",items:{"door@0,2,0":{config:{direction:"right",toRoom:"moonbase30"},position:{x:0,y:2,z:0},type:"door"},"teleporter@2,2,0":{config:{toPosition:{x:2,y:2,z:0},toRoom:"blacktooth64"},position:{x:2,y:2,z:0},type:"teleporter"},"teleporter@2,3,0":{config:{toPosition:{x:2,y:3,z:0},toRoom:"blacktooth64"},position:{x:2,y:3,z:0},type:"teleporter"},"teleporter@3,2,0":{config:{toPosition:{x:3,y:2,z:0},toRoom:"blacktooth64"},position:{x:3,y:2,z:0},type:"teleporter"},"teleporter@3,3,0":{config:{toPosition:{x:3,y:3,z:0},toRoom:"blacktooth64"},position:{x:3,y:3,z:0},type:"teleporter"}},planet:"moonbase",size:{x:6,y:6},walls:{away:["window1","coil","window2","window3","coil","window1"],left:["window1","coil","window2","window3","coil","window1"]}}),_z=x({color:{hue:"yellow",shade:"basic"},floor:"moonbase",id:"moonbase32",items:{"deadlyBlock@0,0,0":{config:{style:"toaster",times:{x:3}},position:{x:0,y:0,z:0},type:"deadlyBlock"},"deadlyBlock@0,7,0":{config:{style:"toaster",times:{x:3}},position:{x:0,y:7,z:0},type:"deadlyBlock"},"deadlyBlock@5,0,0":{config:{style:"toaster",times:{x:3}},position:{x:5,y:0,z:0},type:"deadlyBlock"},"deadlyBlock@5,7,0":{config:{style:"toaster",times:{x:3}},position:{x:5,y:7,z:0},type:"deadlyBlock"},"door@3,8,0":{config:{direction:"away",toRoom:"moonbase33triple"},position:{x:3,y:8,z:0},type:"door"},"monster@0,0,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"away",wakes:!1,which:"cyberman"},position:{x:0,y:0,z:1},type:"monster"},"monster@0,7,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"towards",wakes:!1,which:"cyberman"},position:{x:0,y:7,z:1},type:"monster"},"monster@1,0,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"away",wakes:!1,which:"cyberman"},position:{x:1,y:0,z:1},type:"monster"},"monster@1,7,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"towards",wakes:!1,which:"cyberman"},position:{x:1,y:7,z:1},type:"monster"},"monster@2,0,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"away",wakes:!1,which:"cyberman"},position:{x:2,y:0,z:1},type:"monster"},"monster@2,7,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"towards",wakes:!1,which:"cyberman"},position:{x:2,y:7,z:1},type:"monster"},"monster@5,0,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"away",wakes:!1,which:"cyberman"},position:{x:5,y:0,z:1},type:"monster"},"monster@5,7,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"towards",wakes:!1,which:"cyberman"},position:{x:5,y:7,z:1},type:"monster"},"monster@6,0,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"away",wakes:!1,which:"cyberman"},position:{x:6,y:0,z:1},type:"monster"},"monster@6,7,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"towards",wakes:!1,which:"cyberman"},position:{x:6,y:7,z:1},type:"monster"},"monster@7,0,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"away",wakes:!1,which:"cyberman"},position:{x:7,y:0,z:1},type:"monster"},"monster@7,7,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"towards",wakes:!1,which:"cyberman"},position:{x:7,y:7,z:1},type:"monster"},"teleporter@3,3,0":{config:{toPosition:{x:3,y:3,z:0},toRoom:"moonbase29"},position:{x:3,y:3,z:0},type:"teleporter"},"teleporter@3,4,0":{config:{toPosition:{x:3,y:4,z:0},toRoom:"moonbase29"},position:{x:3,y:4,z:0},type:"teleporter"},"teleporter@4,3,0":{config:{toPosition:{x:4,y:3,z:0},toRoom:"moonbase29"},position:{x:4,y:3,z:0},type:"teleporter"},"teleporter@4,4,0":{config:{toPosition:{x:4,y:4,z:0},toRoom:"moonbase29"},position:{x:4,y:4,z:0},type:"teleporter"}},planet:"moonbase",size:{x:8,y:8},walls:{away:["window3","coil","window2","none","none","window2","coil","window1"],left:["window3","window1","coil","window2","window3","coil","window3","window1"]}}),Bz=x({color:{hue:"white",shade:"basic"},floor:"moonbase",id:"moonbase33triple",items:{"deadlyBlock@0,10,0":{config:{style:"toaster",times:{y:4}},position:{x:0,y:10,z:0},type:"deadlyBlock"},"deadlyBlock@11,1,0":{config:{style:"toaster",times:{y:5}},position:{x:11,y:1,z:0},type:"deadlyBlock"},"deadlyBlock@11,14,0":{config:{style:"toaster"},position:{x:11,y:14,z:0},type:"deadlyBlock"},"deadlyBlock@11,9,0":{config:{style:"toaster"},position:{x:11,y:9,z:0},type:"deadlyBlock"},"deadlyBlock@5,10,0":{config:{style:"toaster",times:{x:2,y:4}},position:{x:5,y:10,z:0},type:"deadlyBlock"},"deadlyBlock@6,2,0":{config:{style:"toaster",times:{y:4}},position:{x:6,y:2,z:0},type:"deadlyBlock"},"door@12,11,0":{config:{direction:"left",toRoom:"moonbase34"},position:{x:12,y:11,z:0},type:"door"},"door@2,16,0":{config:{direction:"away",toRoom:"moonbase36"},position:{x:2,y:16,z:0},type:"door"},"door@8,0,0":{config:{direction:"towards",toRoom:"moonbase32"},position:{x:8,y:0,z:0},type:"door"},"monster@0,10,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"left",wakes:!1,which:"cyberman"},position:{x:0,y:10,z:1},type:"monster"},"monster@0,11,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"left",wakes:!1,which:"cyberman"},position:{x:0,y:11,z:1},type:"monster"},"monster@0,12,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"left",wakes:!1,which:"cyberman"},position:{x:0,y:12,z:1},type:"monster"},"monster@0,13,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"left",wakes:!1,which:"cyberman"},position:{x:0,y:13,z:1},type:"monster"},"monster@11,1,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"right",wakes:!1,which:"cyberman"},position:{x:11,y:1,z:1},type:"monster"},"monster@11,14,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"right",wakes:!0,which:"cyberman"},position:{x:11,y:14,z:1},type:"monster"},"monster@11,2,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"right",wakes:!1,which:"cyberman"},position:{x:11,y:2,z:1},type:"monster"},"monster@11,3,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"right",wakes:!1,which:"cyberman"},position:{x:11,y:3,z:1},type:"monster"},"monster@11,4,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"right",wakes:!1,which:"cyberman"},position:{x:11,y:4,z:1},type:"monster"},"monster@11,5,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"right",wakes:!0,which:"cyberman"},position:{x:11,y:5,z:1},type:"monster"},"monster@11,9,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"right",wakes:!1,which:"cyberman"},position:{x:11,y:9,z:1},type:"monster"},"monster@5,10,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"right",wakes:!1,which:"cyberman"},position:{x:5,y:10,z:1},type:"monster"},"monster@5,11,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"right",wakes:!1,which:"cyberman"},position:{x:5,y:11,z:1},type:"monster"},"monster@5,12,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"right",wakes:!1,which:"cyberman"},position:{x:5,y:12,z:1},type:"monster"},"monster@5,13,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"right",wakes:!1,which:"cyberman"},position:{x:5,y:13,z:1},type:"monster"},"monster@6,10,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"left",wakes:!1,which:"cyberman"},position:{x:6,y:10,z:1},type:"monster"},"monster@6,11,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"left",wakes:!1,which:"cyberman"},position:{x:6,y:11,z:1},type:"monster"},"monster@6,12,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"left",wakes:!1,which:"cyberman"},position:{x:6,y:12,z:1},type:"monster"},"monster@6,13,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"left",wakes:!1,which:"cyberman"},position:{x:6,y:13,z:1},type:"monster"},"monster@6,2,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"left",wakes:!1,which:"cyberman"},position:{x:6,y:2,z:1},type:"monster"},"monster@6,3,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"left",wakes:!1,which:"cyberman"},position:{x:6,y:3,z:1},type:"monster"},"monster@6,4,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"left",wakes:!1,which:"cyberman"},position:{x:6,y:4,z:1},type:"monster"},"monster@6,5,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"left",wakes:!1,which:"cyberman"},position:{x:6,y:5,z:1},type:"monster"},"wall@0,7,0":{config:{side:"towards",style:"coil"},position:{x:0,y:7,z:0},type:"wall"},"wall@1,7,0":{config:{side:"towards",style:"coil"},position:{x:1,y:7,z:0},type:"wall"},"wall@2,7,0":{config:{side:"towards",style:"coil"},position:{x:2,y:7,z:0},type:"wall"},"wall@3,7,0":{config:{side:"towards",style:"coil"},position:{x:3,y:7,z:0},type:"wall"},"wall@4,7,0":{config:{side:"towards",style:"coil"},position:{x:4,y:7,z:0},type:"wall"},"wall@5,0,0":{config:{side:"right",style:"coil"},position:{x:5,y:0,z:0},type:"wall"},"wall@5,1,0":{config:{side:"right",style:"coil"},position:{x:5,y:1,z:0},type:"wall"},"wall@5,2,0":{config:{side:"right",style:"coil"},position:{x:5,y:2,z:0},type:"wall"},"wall@5,3,0":{config:{side:"right",style:"coil"},position:{x:5,y:3,z:0},type:"wall"},"wall@5,4,0":{config:{side:"right",style:"coil"},position:{x:5,y:4,z:0},type:"wall"},"wall@5,5,0":{config:{side:"right",style:"coil"},position:{x:5,y:5,z:0},type:"wall"},"wall@5,6,0":{config:{side:"right",style:"coil"},position:{x:5,y:6,z:0},type:"wall"},"wall@5,7,0:FnJdh":{config:{side:"towards",style:"coil"},position:{x:5,y:7,z:0},type:"wall"},"wall@5,7,0:Z1v50S2":{config:{side:"right",style:"coil"},position:{x:5,y:7,z:0},type:"wall"}},planet:"moonbase",size:{x:12,y:16},walls:{away:["window2","window3","none","none","window3","window1","window1","coil","window2","window3","coil","window1"],left:["window3","window1","coil","window2","window3","coil","window3","window1","window3","coil","window2","none","none","window2","coil","window1"]}}),Sz=x({color:{hue:"cyan",shade:"basic"},floor:"moonbase",id:"moonbase34",items:{"deadlyBlock@7,0,0":{config:{style:"toaster",times:{y:4}},position:{x:7,y:0,z:0},type:"deadlyBlock"},"door@0,1,0":{config:{direction:"right",toRoom:"moonbase33triple"},position:{x:0,y:1,z:0},type:"door"},"door@3,4,0":{config:{direction:"away",toRoom:"moonbase35"},position:{x:3,y:4,z:0},type:"door"},"monster@7,0,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"right",wakes:!1,which:"cyberman"},position:{x:7,y:0,z:1},type:"monster"},"monster@7,1,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"right",wakes:!1,which:"cyberman"},position:{x:7,y:1,z:1},type:"monster"},"monster@7,2,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"right",wakes:!1,which:"cyberman"},position:{x:7,y:2,z:1},type:"monster"},"monster@7,3,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"right",wakes:!1,which:"cyberman"},position:{x:7,y:3,z:1},type:"monster"}},planet:"moonbase",size:{x:8,y:4},walls:{away:["window3","coil","window2","none","none","window2","coil","window1"],left:["window2","window3","window1","coil"]}}),Az=x({color:{hue:"green",shade:"basic"},floor:"moonbase",id:"moonbase35",items:{"deadlyBlock@0,1,0":{config:{style:"toaster",times:{y:4}},position:{x:0,y:1,z:0},type:"deadlyBlock"},"deadlyBlock@5,1,0":{config:{style:"toaster",times:{y:4}},position:{x:5,y:1,z:0},type:"deadlyBlock"},"door@2,0,0":{config:{direction:"towards",toRoom:"moonbase34"},position:{x:2,y:0,z:0},type:"door"},"monster@0,1,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"left",wakes:!1,which:"cyberman"},position:{x:0,y:1,z:1},type:"monster"},"monster@0,2,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"left",wakes:!1,which:"cyberman"},position:{x:0,y:2,z:1},type:"monster"},"monster@0,3,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"left",wakes:!1,which:"cyberman"},position:{x:0,y:3,z:1},type:"monster"},"monster@0,4,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"left",wakes:!1,which:"cyberman"},position:{x:0,y:4,z:1},type:"monster"},"monster@5,1,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"right",wakes:!1,which:"cyberman"},position:{x:5,y:1,z:1},type:"monster"},"monster@5,2,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"right",wakes:!1,which:"cyberman"},position:{x:5,y:2,z:1},type:"monster"},"monster@5,3,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"right",wakes:!1,which:"cyberman"},position:{x:5,y:3,z:1},type:"monster"},"monster@5,4,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"right",wakes:!1,which:"cyberman"},position:{x:5,y:4,z:1},type:"monster"},"teleporter@2,2,0":{config:{toPosition:{x:2,y:3,z:0},toRoom:"blacktooth51"},position:{x:2,y:2,z:0},type:"teleporter"},"teleporter@2,3,0":{config:{toPosition:{x:2,y:4,z:0},toRoom:"blacktooth51"},position:{x:2,y:3,z:0},type:"teleporter"},"teleporter@3,2,0":{config:{toPosition:{x:3,y:3,z:0},toRoom:"blacktooth51"},position:{x:3,y:2,z:0},type:"teleporter"},"teleporter@3,3,0":{config:{toPosition:{x:3,y:4,z:0},toRoom:"blacktooth51"},position:{x:3,y:3,z:0},type:"teleporter"}},planet:"moonbase",size:{x:6,y:6},walls:{away:["window1","coil","window2","window3","coil","window1"],left:["window1","coil","window2","window3","coil","window1"]}}),Pz=x({color:{hue:"yellow",shade:"dimmed"},floor:"moonbase",id:"moonbase36",items:{"deadlyBlock@0,1,0":{config:{style:"toaster",times:{y:4}},position:{x:0,y:1,z:0},type:"deadlyBlock"},"deadlyBlock@5,1,0":{config:{style:"toaster",times:{y:4}},position:{x:5,y:1,z:0},type:"deadlyBlock"},"door@2,0,0":{config:{direction:"towards",toRoom:"moonbase33triple"},position:{x:2,y:0,z:0},type:"door"},"monster@0,1,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"left",wakes:!1,which:"cyberman"},position:{x:0,y:1,z:1},type:"monster"},"monster@0,2,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"left",wakes:!1,which:"cyberman"},position:{x:0,y:2,z:1},type:"monster"},"monster@0,3,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"left",wakes:!1,which:"cyberman"},position:{x:0,y:3,z:1},type:"monster"},"monster@0,4,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"left",wakes:!1,which:"cyberman"},position:{x:0,y:4,z:1},type:"monster"},"monster@5,1,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"right",wakes:!1,which:"cyberman"},position:{x:5,y:1,z:1},type:"monster"},"monster@5,2,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"right",wakes:!1,which:"cyberman"},position:{x:5,y:2,z:1},type:"monster"},"monster@5,3,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"right",wakes:!1,which:"cyberman"},position:{x:5,y:3,z:1},type:"monster"},"monster@5,4,1":{config:{activated:!1,movement:"towards-on-shortest-axis-xy4",startDirection:"right",wakes:!1,which:"cyberman"},position:{x:5,y:4,z:1},type:"monster"},"teleporter@2,2,0":{config:{toPosition:{x:2,y:2,z:0},toRoom:"blacktooth69"},position:{x:2,y:2,z:0},type:"teleporter"},"teleporter@2,3,0":{config:{toPosition:{x:2,y:3,z:0},toRoom:"blacktooth69"},position:{x:2,y:3,z:0},type:"teleporter"},"teleporter@3,2,0":{config:{toPosition:{x:3,y:2,z:0},toRoom:"blacktooth69"},position:{x:3,y:2,z:0},type:"teleporter"},"teleporter@3,3,0":{config:{toPosition:{x:3,y:3,z:0},toRoom:"blacktooth69"},position:{x:3,y:3,z:0},type:"teleporter"}},planet:"moonbase",size:{x:6,y:6},walls:{away:["window1","coil","window2","window3","coil","window1"],left:["window1","coil","window2","window3","coil","window1"]}}),Rz=x({color:{hue:"white",shade:"dimmed"},floor:"penitentiary",id:"penitentiary1",items:{"door@2,8,0":{config:{direction:"away",toRoom:"penitentiary2"},position:{x:2,y:8,z:0},type:"door"},"teleporter@2,3,0":{config:{toPosition:{x:2,y:3,z:0},toRoom:"moonbase22topenitentiary"},position:{x:2,y:3,z:0},type:"teleporter"},"teleporter@2,4,0":{config:{toPosition:{x:2,y:4,z:0},toRoom:"moonbase22topenitentiary"},position:{x:2,y:4,z:0},type:"teleporter"},"teleporter@3,3,0":{config:{toPosition:{x:3,y:3,z:0},toRoom:"moonbase22topenitentiary"},position:{x:3,y:3,z:0},type:"teleporter"},"teleporter@3,4,0":{config:{toPosition:{x:3,y:4,z:0},toRoom:"moonbase22topenitentiary"},position:{x:3,y:4,z:0},type:"teleporter"}},planet:"penitentiary",size:{x:6,y:8},walls:{away:["loop","loop","none","none","loop","loop"],left:["loop","loop","skeleton","loop","loop","skeleton","loop","loop"]}}),Cz=x({color:{hue:"yellow",shade:"dimmed"},floor:"penitentiary",id:"penitentiary2",items:{"block@0,3,0":{config:{style:"artificial",times:{x:2,y:2}},position:{x:0,y:3,z:0},type:"block"},"block@4,7,3":{config:{style:"artificial"},position:{x:4,y:9,z:3},type:"block"},"block@6,3,0":{config:{style:"artificial",times:{z:2}},position:{x:6,y:3,z:0},type:"block"},"block@6,3,3":{config:{style:"artificial",times:{x:2}},position:{x:6,y:3,z:3},type:"block"},"block@7,4,3":{config:{style:"artificial"},position:{x:7,y:4,z:3},type:"block"},"door@3,0,0":{config:{direction:"towards",toRoom:"penitentiary1"},position:{x:3,y:0,z:0},type:"door"},"door@3,8,5":{config:{direction:"away",toRoom:"penitentiary13"},position:{x:3,y:10,z:5},type:"door"},"door@8,3,5":{config:{direction:"left",toRoom:"penitentiary3"},position:{x:8,y:3,z:5},type:"door"},extra0:{config:{style:"artificial",times:{z:3}},isExtra:!0,position:{x:4,y:9,z:0},type:"block"},extraMonster:{config:{activated:!0,movement:"patrol-randomly-diagonal",which:"dalek"},position:{x:6,y:3,z:5},type:"monster"},"hushPuppy@1,7,0":{config:{},position:{x:1,y:9,z:0},type:"hushPuppy"},"hushPuppy@2,7,1":{config:{},position:{x:2,y:9,z:1},type:"hushPuppy"},"hushPuppy@3,7,2":{config:{},position:{x:3,y:9,z:2},type:"hushPuppy"},"monster@6,3,2":{config:{activated:!0,movement:"patrol-randomly-diagonal",which:"dalek"},position:{x:6,y:3,z:2},type:"monster"}},planet:"penitentiary",size:{x:8,y:10},walls:{away:["loop","skeleton","loop","none","none","loop","skeleton","loop"],left:["loop","skeleton","loop","none","none","loop","loop","skeleton","loop","loop"]}}),Mz=x({color:{hue:"cyan",shade:"basic"},floor:"deadly",id:"penitentiary3",items:{"block@0,3,0":{config:{style:"artificial",times:{y:2}},position:{x:0,y:3,z:0},type:"block"},"block@4,7,0":{config:{style:"artificial"},position:{x:4,y:7,z:0},type:"block"},"block@7,3,0":{config:{style:"artificial",times:{y:2}},position:{x:7,y:3,z:0},type:"block"},"deadlyBlock@7,1,0":{config:{style:"toaster",times:{z:2}},position:{x:7,y:1,z:0},type:"deadlyBlock"},"door@0,3,1":{config:{direction:"right",toRoom:"penitentiary2"},position:{x:0,y:3,z:1},type:"door"},"door@8,3,2":{config:{direction:"left",toRoom:"penitentiary4"},position:{x:8,y:3,z:2},type:"door"},"movableBlock@0,1,0":{config:{activated:!1,movement:"clockwise",startDirection:"left",style:"sandwich"},position:{x:0,y:1,z:0},type:"movableBlock"},"switch@0,0,0":{config:{activates:{"movableBlock@0,1,0":{left:{activated:!1},right:{activated:!0}},"switch@7,7,0":{left:{setting:"left"},right:{setting:"right"}}}},position:{x:0,y:0,z:0},type:"switch"},"switch@7,7,0":{config:{activates:{"movableBlock@0,1,0":{left:{activated:!1},right:{activated:!0}},"switch@0,0,0":{left:{setting:"left"},right:{setting:"right"}}}},position:{x:7,y:7,z:0},type:"switch"}},planet:"penitentiary",size:{x:8,y:8},walls:{away:["loop","loop","skeleton","loop","loop","skeleton","loop","loop"],left:["loop","skeleton","loop","none","none","loop","skeleton","loop"]}}),Ez=x({color:{hue:"green",shade:"basic"},floor:"penitentiary",id:"penitentiary4",items:{"block@4,5,1":{config:{style:"artificial"},position:{x:4,y:5,z:1},type:"block"},"block@5,0,4":{config:{style:"artificial"},position:{x:5,y:0,z:4},type:"block"},"block@5,0,7":{config:{style:"artificial"},position:{x:5,y:0,z:7},type:"block"},"block@5,1,2":{config:{style:"artificial"},position:{x:5,y:1,z:2},type:"block"},"block@5,2,6":{config:{style:"artificial"},position:{x:5,y:2,z:6},type:"block"},"block@5,5,2":{config:{style:"artificial"},position:{x:5,y:5,z:2},type:"block"},"deadlyBlock@5,2,0":{config:{style:"spikes",times:{y:2}},position:{x:5,y:2,z:0},type:"deadlyBlock"},"door@0,2,0":{config:{direction:"right",toRoom:"penitentiary3"},position:{x:0,y:2,z:0},type:"door"},extra1:{config:{style:"artificial"},isExtra:!0,position:{x:4,y:5,z:0},type:"block"},extra2:{config:{style:"artificial"},isExtra:!0,position:{x:5,y:5,z:1},type:"block"},extra2b:{config:{style:"artificial"},isExtra:!0,position:{x:5,y:5,z:0},type:"block"},extra3:{config:{style:"artificial"},isExtra:!0,position:{x:5,y:1,z:1},type:"block"},extra4:{config:{style:"artificial"},isExtra:!0,position:{x:5,y:1,z:0},type:"block"},extra5:{config:{style:"artificial"},isExtra:!0,position:{x:5,y:0,z:3},type:"block"},extra6:{config:{style:"artificial"},isExtra:!0,position:{x:5,y:0,z:2},type:"block"},extra7:{config:{style:"artificial"},isExtra:!0,position:{x:5,y:0,z:1},type:"block"},extra8:{config:{style:"artificial"},isExtra:!0,position:{x:5,y:0,z:0},type:"block"}},planet:"penitentiary",roomAbove:"penitentiary5",size:{x:6,y:6,z:12},walls:{away:["loop","skeleton","loop","loop","skeleton","loop"],left:["loop","skeleton","loop","loop","skeleton","loop"]}}),Iz=x({color:{hue:"green",shade:"basic"},floor:"none",id:"penitentiary5",items:{"block@0,5,7":{config:{style:"artificial"},position:{x:0,y:5,z:7},type:"block"},"block@2,5,5":{config:{disappearing:"onStand",style:"artificial"},position:{x:2,y:5,z:5},type:"block"},"block@5,0,0":{config:{style:"artificial"},position:{x:5,y:0,z:0},type:"block"},"block@5,4,0":{config:{style:"artificial"},position:{x:5,y:4,z:0},type:"block"},"block@5,5,2":{config:{style:"artificial"},position:{x:5,y:5,z:2},type:"block"},"block@5,5,4":{config:{style:"artificial"},position:{x:5,y:5,z:4},type:"block"},extra1:{config:{disappearing:"onStand",style:"artificial"},isExtra:!0,position:{x:2,y:5,z:4},type:"block"},extra2:{config:{disappearing:"onStand",style:"artificial"},isExtra:!0,position:{x:2,y:5,z:3},type:"block"},extra3:{config:{disappearing:"onStand",style:"artificial"},isExtra:!0,position:{x:2,y:5,z:2},type:"block"},extra4:{config:{disappearing:"onStand",style:"artificial"},isExtra:!0,position:{x:2,y:5,z:1},type:"block"},extra5:{config:{disappearing:"onStand",style:"artificial"},isExtra:!0,position:{x:2,y:5,z:0},type:"block"},extra6:{config:{style:"artificial"},isExtra:!0,position:{x:5,y:5,z:1},type:"block"},extra7:{config:{style:"artificial"},isExtra:!0,position:{x:5,y:5,z:0},type:"block"}},planet:"penitentiary",roomAbove:"penitentiary6",roomBelow:"penitentiary4",size:{x:6,y:6,z:12},walls:{away:["loop","skeleton","loop","loop","skeleton","loop"],left:["loop","skeleton","loop","loop","skeleton","loop"]}}),Tz=x({color:{hue:"green",shade:"basic"},floor:"none",id:"penitentiary6",items:{"block@0,5,0":{config:{style:"artificial"},position:{x:0,y:5,z:0},type:"block"},"deadlyBlock@3,0,0":{config:{style:"volcano",times:{y:6}},position:{x:3,y:0,z:0},type:"deadlyBlock"},"door@6,2,3":{config:{direction:"left",toRoom:"penitentiary7"},position:{x:6,y:2,z:3},type:"door"},"movableBlock@3,0,1":{config:{activated:!0,movement:"back-forth",startDirection:"towards",style:"stepStool"},position:{x:3,y:0,z:1},type:"movableBlock"}},planet:"penitentiary",roomBelow:"penitentiary5",size:{x:6,y:6},walls:{away:["loop","skeleton","loop","loop","skeleton","loop"],left:["loop","loop","none","none","loop","loop"]}}),jz=x({color:{hue:"yellow",shade:"dimmed"},floor:"penitentiary",id:"penitentiary7",items:{"block@4,5,0":{config:{style:"artificial",times:{z:2}},position:{x:4,y:5,z:0},type:"block"},"block@4,5,3":{config:{style:"artificial"},position:{x:4,y:5,z:3},type:"block"},"door@0,2,0":{config:{direction:"right",toRoom:"penitentiary6"},position:{x:0,y:2,z:0},type:"door"},"door@3,6,5":{config:{direction:"away",toRoom:"penitentiary8"},position:{x:3,y:6,z:5},type:"door"},"monster@3,5,0":{config:{activated:!0,movement:"patrol-randomly-xy8",which:"bubbleRobot"},position:{x:3,y:5,z:0},type:"monster"},"monster@5,5,0":{config:{activated:!0,movement:"patrol-randomly-xy8",which:"bubbleRobot"},position:{x:5,y:5,z:0},type:"monster"}},planet:"penitentiary",size:{x:8,y:6},walls:{away:["loop","skeleton","loop","none","none","loop","skeleton","loop"],left:["loop","skeleton","loop","loop","skeleton","loop"]}}),Dz=x({color:{hue:"white",shade:"dimmed"},floor:"penitentiary",id:"penitentiary8",items:{"block@0,4,7":{config:{style:"artificial"},position:{x:0,y:4,z:7},type:"block"},"block@0,5,6":{config:{style:"artificial"},position:{x:0,y:5,z:6},type:"block"},"block@0,6,4":{config:{style:"artificial",times:{y:2}},position:{x:0,y:6,z:4},type:"block"},"block@1,2,2":{config:{style:"artificial"},position:{x:1,y:2,z:2},type:"block"},"door@0,0,0":{config:{direction:"towards",toRoom:"penitentiary7"},position:{x:0,y:0,z:0},type:"door"},extra1:{config:{style:"artificial"},isExtra:!0,position:{x:0,y:5,z:5},type:"block"},extra2:{config:{style:"artificial"},isExtra:!0,position:{x:0,y:5,z:4},type:"block"},extra3:{config:{style:"artificial"},isExtra:!0,position:{x:0,y:4,z:6},type:"block"},"portableBlock@1,2,0":{config:{style:"drum"},position:{x:1,y:2,z:0},type:"portableBlock"},"portableBlock@1,2,1":{config:{style:"drum"},position:{x:1,y:2,z:1},type:"portableBlock"},"portableBlock@1,2,3":{config:{style:"drum"},position:{x:1,y:2,z:3},type:"portableBlock"}},planet:"penitentiary",roomAbove:"penitentiary9",size:{x:2,y:8,z:12},walls:{away:["loop","loop"],left:["loop","loop","skeleton","loop","loop","skeleton","loop","loop"]}}),$z=x({color:{hue:"white",shade:"dimmed"},floor:"none",id:"penitentiary9",items:{"lift@0,4,0":{config:{bottom:0,top:11},position:{x:0,y:4,z:0},type:"lift"}},planet:"penitentiary",roomAbove:"penitentiary10",roomBelow:"penitentiary8",size:{x:2,y:8},walls:{away:["loop","loop"],left:["loop","loop","skeleton","loop","loop","skeleton","loop","loop"]}}),Fz=x({color:{hue:"white",shade:"dimmed"},floor:"none",id:"penitentiary10",items:{"block@0,4,0":{config:{style:"artificial"},position:{x:0,y:4,z:0},type:"block"},"block@0,7,0":{config:{style:"artificial",times:{x:2}},position:{x:0,y:7,z:0},type:"block"},"door@0,8,2":{config:{direction:"away",toRoom:"penitentiary11"},position:{x:0,y:8,z:2},type:"door"}},planet:"penitentiary",roomBelow:"penitentiary9",size:{x:2,y:8},walls:{away:["none","none"],left:["loop","loop","skeleton","loop","loop","skeleton","loop","loop"]}}),Oz=x({color:{hue:"yellow",shade:"dimmed"},floor:"penitentiary",id:"penitentiary11",items:{"block@5,5,0":{config:{style:"artificial",times:{z:3}},position:{x:5,y:5,z:0},type:"block"},"door@0,2,0":{config:{direction:"right",toRoom:"penitentiary12"},position:{x:0,y:2,z:0},type:"door"},"door@2,0,0":{config:{direction:"towards",toRoom:"penitentiary10"},position:{x:2,y:0,z:0},type:"door"},"moveableDeadly@5,5,3":{config:{style:"deadFish"},position:{x:5,y:5,z:3},type:"moveableDeadly"}},planet:"penitentiary",size:{x:6,y:6},walls:{away:["loop","skeleton","loop","loop","skeleton","loop"],left:["loop","skeleton","loop","loop","skeleton","loop"]}}),Nz=x({color:{hue:"magenta",shade:"basic"},floor:"penitentiary",id:"penitentiary12",items:{"block@0,2,3":{config:{style:"organic",times:{y:3}},position:{x:0,y:2,z:3},type:"block"},"block@7,0,0":{config:{style:"artificial",times:{z:3}},position:{x:7,y:0,z:0},type:"block"},"door@0,3,4":{config:{direction:"right",toRoom:"penitentiary18fish"},position:{x:0,y:3,z:4},type:"door"},"door@3,8,0":{config:{direction:"away",toRoom:"penitentiary19"},position:{x:3,y:8,z:0},type:"door"},"door@8,3,0":{config:{direction:"left",toRoom:"penitentiary11"},position:{x:8,y:3,z:0},type:"door"},"hushPuppy@0,0,0":{config:{},position:{x:0,y:0,z:0},type:"hushPuppy"},"hushPuppy@0,1,3":{config:{},position:{x:0,y:1,z:3},type:"hushPuppy"},"hushPuppy@1,0,1":{config:{},position:{x:1,y:0,z:1},type:"hushPuppy"},"hushPuppy@1,1,2":{config:{},position:{x:1,y:1,z:2},type:"hushPuppy"},"pickup@7,0,3":{config:{gives:"doughnuts"},position:{x:7,y:0,z:3},type:"pickup"}},planet:"penitentiary",size:{x:8,y:8},walls:{away:["loop","skeleton","loop","none","none","loop","skeleton","loop"],left:["loop","skeleton","loop","none","none","loop","skeleton","loop"]}}),Lz=x({color:{hue:"yellow",shade:"basic"},floor:"penitentiary",id:"penitentiary13",items:{"block@0,3,5":{config:{disappearing:"onStand",style:"artificial"},position:{x:0,y:3,z:5},type:"block"},"block@1,0,1":{config:{disappearing:"onStand",style:"artificial"},position:{x:1,y:0,z:1},type:"block"},"block@1,3,4":{config:{style:"artificial"},position:{x:1,y:3,z:4},type:"block"},"block@2,3,6":{config:{style:"artificial"},position:{x:2,y:3,z:6},type:"block"},"block@3,3,3":{config:{style:"artificial"},position:{x:3,y:3,z:3},type:"block"},"block@4,3,2":{config:{disappearing:"onStand",style:"artificial"},position:{x:4,y:3,z:2},type:"block"},"block@5,3,1":{config:{style:"artificial"},position:{x:5,y:3,z:1},type:"block"},"block@7,3,0":{config:{style:"artificial"},position:{x:7,y:3,z:0},type:"block"},"deadlyBlock@1,0,0":{config:{style:"toaster",times:{x:2}},position:{x:1,y:0,z:0},type:"deadlyBlock"},"deadlyBlock@4,3,0":{config:{style:"toaster"},position:{x:4,y:3,z:0},type:"deadlyBlock"},"door@3,0,0":{config:{direction:"towards",toRoom:"penitentiary2"},position:{x:3,y:0,z:0},type:"door"},extra1:{config:{style:"artificial"},isExtra:!0,position:{x:5,y:3,z:0},type:"block"},secondOverToaster:{config:{disappearing:"onStand",style:"artificial"},position:{x:2,y:0,z:1},type:"block"},"spring@2,3,7":{config:{},position:{x:2,y:3,z:7},type:"spring"}},planet:"penitentiary",roomAbove:"penitentiary14",size:{x:8,y:4},walls:{away:["loop","loop","skeleton","loop","loop","skeleton","loop","loop"],left:["loop","loop","skeleton","loop"]}}),Hz=x({color:{hue:"yellow",shade:"basic"},floor:"none",id:"penitentiary14",items:{"block@0,0,0":{config:{style:"organic",times:{x:8}},position:{x:0,y:0,z:0},type:"block"},"block@0,5,0":{config:{style:"organic",times:{x:8}},position:{x:0,y:5,z:0},type:"block"},"block@2,4,0":{config:{style:"organic"},position:{x:2,y:4,z:0},type:"block"},"lift@0,1,0":{config:{bottom:0,top:11},position:{x:7,y:1,z:0},type:"lift"},liftshaftAway0:{config:{axis:"x"},position:{x:7,y:1.5,z:0},type:"barrier"},liftshaftAway2:{config:{axis:"x"},position:{x:7,y:1.5,z:2},type:"barrier"},liftshaftAway4:{config:{axis:"x"},position:{x:7,y:1.5,z:4},type:"barrier"},liftshaftAway6:{config:{axis:"x"},position:{x:7,y:1.5,z:6},type:"barrier"},liftshaftRight1:{config:{axis:"y"},position:{x:6.5,y:1,z:1},type:"barrier"},liftshaftRight3:{config:{axis:"y"},position:{x:6.5,y:1,z:3},type:"barrier"},liftshaftRight5:{config:{axis:"y"},position:{x:6.5,y:1,z:5},type:"barrier"},liftshaftRight7:{config:{axis:"y"},position:{x:6.5,y:1,z:7},type:"barrier"},liftshaftToward2:{config:{axis:"x"},position:{x:7,y:.5,z:2},type:"barrier"},liftshaftToward4:{config:{axis:"x"},position:{x:7,y:.5,z:4},type:"barrier"},liftshaftToward6:{config:{axis:"x"},position:{x:7,y:.5,z:6},type:"barrier"},"portableBlock@6,5,1":{config:{style:"sticks"},position:{x:6,y:5,z:1},type:"portableBlock"},"portableBlock@7,5,1":{config:{style:"sticks"},position:{x:7,y:5,z:1},type:"portableBlock"}},planet:"penitentiary",roomAbove:"penitentiary15",roomBelow:"penitentiary13",size:{x:8,y:6},walls:{away:["loop","loop","skeleton","loop","loop","skeleton","loop","loop"],left:["loop","skeleton","loop","loop","skeleton","loop"]}}),Gz=x({color:{hue:"yellow",shade:"basic"},floor:"none",id:"penitentiary15",items:{"block@0,0,0":{config:{style:"organic",times:{x:8}},position:{x:0,y:0,z:0},type:"block"},"block@0,1,0":{config:{style:"organic",times:{y:7}},position:{x:0,y:1,z:0},type:"block"},"block@1,1,1":{config:{style:"organic"},position:{x:1,y:1,z:1},type:"block"},"block@1,2,1":{config:{disappearing:"onStand",style:"organic"},position:{x:1,y:2,z:1},type:"block"},"block@1,7,0":{config:{style:"organic",times:{x:7}},position:{x:1,y:7,z:0},type:"block"},"block@7,0,7":{config:{style:"organic"},position:{x:7,y:0,z:7},type:"block"},"block@7,1,0":{config:{style:"organic",times:{y:6}},position:{x:7,y:1,z:0},type:"block"},"block@7,1,6":{config:{style:"organic"},position:{x:7,y:1,z:6},type:"block"},"block@7,2,5":{config:{style:"organic",times:{y:2}},position:{x:7,y:2,z:5},type:"block"},"block@7,4,4":{config:{style:"organic",times:{y:3}},position:{x:7,y:4,z:4},type:"block"},"block@7,7,3":{config:{style:"organic"},position:{x:7,y:7,z:3},type:"block"},"monster@7,7,1":{config:{activated:!0,movement:"clockwise",startDirection:"right",which:"turtle"},position:{x:7,y:7,z:1},type:"monster"},"portableBlock@1,1,2":{config:{style:"cube"},position:{x:1,y:1,z:2},type:"portableBlock"},"portableBlock@1,1,3":{config:{style:"cube"},position:{x:1,y:1,z:3},type:"portableBlock"}},planet:"penitentiary",roomAbove:"penitentiary16",roomBelow:"penitentiary14",size:{x:8,y:8},walls:{away:["loop","loop","skeleton","loop","loop","skeleton","loop","loop"],left:["loop","loop","skeleton","loop","loop","skeleton","loop","loop"]}}),Wz=x({color:{hue:"yellow",shade:"basic"},floor:"none",id:"penitentiary16",items:{"block@7,0,0":{config:{style:"organic",times:{y:8}},position:{x:7,y:0,z:0},type:"block"},"lift@3,0,0":{config:{bottom:0,top:11},position:{x:3,y:0,z:0},type:"lift"},"portableBlock@7,5,1":{config:{style:"cube"},position:{x:7,y:5,z:1},type:"portableBlock"},"portableBlock@7,6,1":{config:{style:"cube"},position:{x:7,y:6,z:1},type:"portableBlock"},"portableBlock@7,7,1":{config:{style:"cube"},position:{x:7,y:7,z:1},type:"portableBlock"}},planet:"penitentiary",roomAbove:"penitentiary17",roomBelow:"penitentiary15",size:{x:8,y:8},walls:{away:["loop","loop","skeleton","loop","loop","skeleton","loop","loop"],left:["loop","loop","skeleton","loop","loop","skeleton","loop","loop"]}}),Uz=x({color:{hue:"yellow",shade:"basic"},floor:"none",id:"penitentiary17",items:{"block@3,0,0":{config:{style:"organic",times:{x:2,y:8}},position:{x:3,y:0,z:0},type:"block"},"door@3,8,2":{config:{direction:"away",toRoom:"penitentiary18fish"},position:{x:3,y:8,z:2},type:"door"}},planet:"penitentiary",roomBelow:"penitentiary16",size:{x:8,y:8},walls:{away:["loop","skeleton","loop","none","none","loop","skeleton","loop"],left:["loop","loop","skeleton","loop","loop","skeleton","loop","loop"]}}),Vz=x({color:{hue:"yellow",shade:"dimmed"},floor:"penitentiary",id:"penitentiary18fish",items:{"block@0,4,3":{config:{style:"organic",times:{x:16}},position:{x:0,y:4,z:3},type:"block"},"door@16,2,2":{config:{direction:"left",toRoom:"penitentiary12"},position:{x:16,y:2,z:2},type:"door"},"door@3,0,0":{config:{direction:"towards",toRoom:"penitentiary17"},position:{x:3,y:0,z:0},type:"door"},"pickup@12,4,4":{config:{gives:"reincarnation"},position:{x:12,y:4,z:4},type:"pickup"},"portableBlock@11,1,0":{config:{style:"sticks"},position:{x:11,y:1,z:0},type:"portableBlock"},"teleporter@0,4,4":{config:{toPosition:{x:0,y:3,z:4},toRoom:"penitentiary30"},position:{x:0,y:4,z:4},type:"teleporter"},"teleporter@15,4,4":{config:{toPosition:{x:7,y:5,z:4},toRoom:"penitentiary34crown"},position:{x:15,y:4,z:4},type:"teleporter"}},planet:"penitentiary",size:{x:16,y:6},walls:{away:["loop","loop","skeleton","loop","loop","skeleton","loop","loop","loop","loop","skeleton","loop","loop","skeleton","loop","loop"],left:["loop","loop","none","none","loop","loop"]}}),qz=x({color:{hue:"white",shade:"dimmed"},floor:"penitentiary",id:"penitentiary19",items:{"door@1,0,0":{config:{direction:"towards",toRoom:"penitentiary12"},position:{x:1,y:0,z:0},type:"door"},"door@1,8,3":{config:{direction:"away",toRoom:"penitentiary21"},position:{x:1,y:8,z:3},type:"door"},"monster@1,3,0":{config:{activated:!0,movement:"patrol-randomly-diagonal",which:"dalek"},position:{x:1,y:3,z:0},type:"monster"},"monster@2,4,0":{config:{activated:!0,movement:"patrol-randomly-diagonal",which:"dalek"},position:{x:2,y:4,z:0},type:"monster"},"portableBlock@2,3,0":{config:{style:"drum"},position:{x:2,y:3,z:0},type:"portableBlock"}},planet:"penitentiary",size:{x:4,y:8},walls:{away:["loop","none","none","loop"],left:["loop","loop","skeleton","loop","loop","skeleton","loop","loop"]}}),Yz=x({color:{hue:"white",shade:"dimmed"},floor:"penitentiary",id:"penitentiary20",items:{"monster@2,3,1":{config:{activated:!0,movement:"patrol-randomly-diagonal",which:"dalek"},position:{x:2,y:3,z:1},type:"monster"},"portableBlock@1,1,0":{config:{style:"cube"},position:{x:1,y:1,z:0},type:"portableBlock"},"portableBlock@1,4,0":{config:{style:"cube"},position:{x:1,y:4,z:0},type:"portableBlock"},"portableBlock@2,2,0":{config:{style:"cube"},position:{x:2,y:2,z:0},type:"portableBlock"},"portableBlock@2,3,0":{config:{style:"cube"},position:{x:2,y:3,z:0},type:"portableBlock"},"portableBlock@3,2,0":{config:{style:"cube"},position:{x:3,y:2,z:0},type:"portableBlock"},"portableBlock@3,3,0":{config:{style:"cube"},position:{x:3,y:3,z:0},type:"portableBlock"},"portableBlock@4,1,0":{config:{style:"cube"},position:{x:4,y:1,z:0},type:"portableBlock"},"spring@3,2,1":{config:{},position:{x:3,y:2,z:1},type:"spring"}},planet:"penitentiary",roomAbove:"penitentiary21",size:{x:6,y:6},walls:{away:["loop","skeleton","loop","loop","skeleton","loop"],left:["loop","skeleton","loop","loop","skeleton","loop"]}}),Xz=x({color:{hue:"white",shade:"basic"},floor:"none",id:"penitentiary21",items:{"block@0,0,0":{config:{style:"organic",times:{x:8}},position:{x:0,y:0,z:0},type:"block"},"block@0,1,0":{config:{style:"organic",times:{y:7}},position:{x:0,y:1,z:0},type:"block"},"block@0,7,6":{config:{style:"organic"},position:{x:0,y:7,z:6},type:"block"},"block@1,1,0":{config:{disappearing:"onStand",style:"organic"},position:{x:1,y:1,z:0},type:"block"},"block@1,7,0":{config:{style:"organic",times:{x:7}},position:{x:1,y:7,z:0},type:"block"},"block@1,7,4":{config:{style:"organic",times:{x:3}},position:{x:1,y:7,z:4},type:"block"},"block@3,7,2":{config:{style:"organic",times:{z:2}},position:{x:3,y:7,z:2},type:"block"},"block@7,1,0":{config:{style:"organic",times:{y:6}},position:{x:7,y:1,z:0},type:"block"},"block@7,1,3":{config:{style:"organic"},position:{x:7,y:1,z:3},type:"block"},"block@7,2,2":{config:{style:"organic",times:{y:2}},position:{x:7,y:2,z:2},type:"block"},"door@3,0,1":{config:{direction:"towards",toRoom:"penitentiary19"},position:{x:3,y:0,z:1},type:"door"},"monster@6,7,1":{config:{activated:!0,movement:"clockwise",startDirection:"right",which:"turtle"},position:{x:6,y:7,z:1},type:"monster"},"portableBlock@7,7,1":{config:{style:"drum"},position:{x:7,y:7,z:1},type:"portableBlock"}},planet:"penitentiary",roomAbove:"penitentiary22",roomBelow:"penitentiary20",size:{x:8,y:8,z:13},walls:{away:["loop","loop","skeleton","loop","loop","skeleton","loop","loop"],left:["loop","loop","skeleton","loop","loop","skeleton","loop","loop"]}}),Kz=x({color:{hue:"white",shade:"basic"},floor:"none",id:"penitentiary22",items:{"block@0,0,0":{config:{style:"organic",times:{x:8}},position:{x:0,y:0,z:0},type:"block"},"block@0,1,0":{config:{style:"organic",times:{y:7}},position:{x:0,y:1,z:0},type:"block"},"block@0,4,7":{config:{style:"artificial"},position:{x:0,y:4,z:7},type:"block"},"block@1,4,6":{config:{disappearing:"onStand",style:"organic"},position:{x:1,y:4,z:6},type:"block"},"block@1,7,0":{config:{style:"organic",times:{x:7}},position:{x:1,y:7,z:0},type:"block"},"block@2,4,5":{config:{disappearing:"onStand",style:"organic"},position:{x:2,y:4,z:5},type:"block"},"block@3,4,4":{config:{style:"artificial",times:{x:2}},position:{x:3,y:4,z:4},type:"block"},"block@4,1,1":{config:{disappearing:"onStand",style:"organic"},position:{x:4,y:1,z:1},type:"block"},"block@4,2,2":{config:{disappearing:"onStand",style:"organic"},position:{x:4,y:2,z:2},type:"block"},"block@4,3,3":{config:{disappearing:"onStand",style:"organic"},position:{x:4,y:3,z:3},type:"block"},"block@7,1,0":{config:{style:"organic",times:{y:6}},position:{x:7,y:1,z:0},type:"block"},extra1:{config:{style:"tower"},position:{x:0,y:4,z:1},type:"block"},extra2:{config:{style:"tower"},position:{x:0,y:4,z:2},type:"block"},extra3:{config:{style:"tower"},position:{x:0,y:4,z:3},type:"block"},extra4:{config:{style:"tower"},position:{x:0,y:4,z:4},type:"block"},extra5:{config:{style:"tower"},position:{x:0,y:4,z:5},type:"block"},extra6:{config:{style:"tower"},position:{x:0,y:4,z:6},type:"block"},"pickup@4,4,5":{config:{gives:"extra-life"},position:{x:4,y:4,z:5},type:"pickup"}},planet:"penitentiary",roomAbove:"penitentiary23",roomBelow:"penitentiary21",size:{x:8,y:8,z:13},walls:{away:["loop","loop","skeleton","loop","loop","skeleton","loop","loop"],left:["loop","loop","skeleton","loop","loop","skeleton","loop","loop"]}}),Zz=x({color:{hue:"white",shade:"basic"},floor:"none",id:"penitentiary23",items:{"block@0,0,0":{config:{style:"organic",times:{x:8}},position:{x:0,y:0,z:0},type:"block"},"block@0,1,0":{config:{style:"organic",times:{y:7}},position:{x:0,y:1,z:0},type:"block"},"block@1,7,0":{config:{style:"organic",times:{x:7}},position:{x:1,y:7,z:0},type:"block"},"block@4,4,0":{config:{disappearing:"onStand",style:"organic"},position:{x:4,y:4,z:0},type:"block"},"block@4,5,0":{config:{disappearing:"onStand",style:"organic"},position:{x:4,y:5,z:0},type:"block"},"block@4,6,0":{config:{disappearing:"onStand",style:"organic"},position:{x:4,y:6,z:0},type:"block"},"block@7,1,0":{config:{style:"organic",times:{y:6}},position:{x:7,y:1,z:0},type:"block"},"lift@4,3,0":{config:{bottom:0,top:11},position:{x:4,y:3,z:0},type:"lift"}},planet:"penitentiary",roomAbove:"penitentiary24",roomBelow:"penitentiary22",size:{x:8,y:8},walls:{away:["loop","loop","skeleton","loop","loop","skeleton","loop","loop"],left:["loop","loop","skeleton","loop","loop","skeleton","loop","loop"]}}),Qz=x({color:{hue:"white",shade:"basic"},floor:"none",id:"penitentiary24",items:{"door@3,8,1":{config:{direction:"away",toRoom:"penitentiary25"},position:{x:3,y:8,z:1},type:"door"},"lift@4,3,0":{config:{bottom:0,top:6},position:{x:4,y:3,z:0},type:"lift"}},planet:"penitentiary",roomBelow:"penitentiary23",size:{x:8,y:8},walls:{away:["loop","skeleton","loop","none","none","loop","skeleton","loop"],left:["loop","loop","skeleton","loop","loop","skeleton","loop","loop"]}}),Jz=x({color:{hue:"cyan",shade:"dimmed"},floor:"penitentiary",id:"penitentiary25",items:{"door@0,0,0":{config:{direction:"towards",toRoom:"penitentiary24"},position:{x:0,y:0,z:0},type:"door"},"door@0,8,0":{config:{direction:"away",toRoom:"penitentiary26"},position:{x:0,y:8,z:0},type:"door"}},planet:"penitentiary",size:{x:2,y:8},walls:{away:["none","none"],left:["loop","loop","skeleton","loop","loop","skeleton","loop","loop"]}}),t2=x({color:{hue:"white",shade:"dimmed"},floor:"deadly",id:"penitentiary26",items:{"block@0,4,0":{config:{style:"organic"},position:{x:0,y:4,z:0},type:"block"},"block@4,0,0":{config:{style:"organic"},position:{x:4,y:0,z:0},type:"block"},"deadlyBlock@0,7,1":{config:{style:"volcano"},position:{x:0,y:7,z:1},type:"deadlyBlock"},"deadlyBlock@7,3,0":{config:{style:"volcano",times:{z:2}},position:{x:7,y:3,z:0},type:"deadlyBlock"},"door@0,3,1":{config:{direction:"right",toRoom:"penitentiary27"},position:{x:0,y:3,z:1},type:"door"},"door@3,0,1":{config:{direction:"towards",toRoom:"penitentiary25"},position:{x:3,y:0,z:1},type:"door"},"movableBlock@4,1,0":{config:{activated:"onStand",movement:"clockwise",startDirection:"away",style:"sandwich"},position:{x:4,y:1,z:0},type:"movableBlock"}},planet:"penitentiary",size:{x:8,y:8},walls:{away:["loop","loop","skeleton","loop","loop","skeleton","loop","loop"],left:["loop","loop","skeleton","loop","loop","skeleton","loop","loop"]}}),e2=x({color:{hue:"yellow",shade:"basic"},floor:"deadly",id:"penitentiary27",items:{"block@0,0,0":{config:{style:"organic"},position:{x:0,y:0,z:0},type:"block"},"block@7,0,0":{config:{style:"organic"},position:{x:7,y:0,z:0},type:"block"},"deadlyBlock@3,0,1":{config:{style:"volcano",times:{y:2}},position:{x:3,y:0,z:1},type:"deadlyBlock"},"deadlyBlock@3,1,0":{config:{style:"volcano"},position:{x:3,y:1,z:0},type:"deadlyBlock"},"door@0,0,1":{config:{direction:"right",toRoom:"penitentiary28"},position:{x:0,y:0,z:1},type:"door"},"door@8,0,2":{config:{direction:"left",toRoom:"penitentiary26"},position:{x:8,y:0,z:2},type:"door"},"movableBlock@6,0,0":{config:{activated:"onStand",movement:"clockwise",startDirection:"right",style:"sandwich"},position:{x:6,y:0,z:0},type:"movableBlock"}},planet:"penitentiary",size:{x:8,y:2},walls:{away:["loop","loop","skeleton","loop","loop","skeleton","loop","loop"],left:["none","none"]}}),o2=x({color:{hue:"yellow",shade:"dimmed"},floor:"penitentiary",id:"penitentiary28",items:{"block@0,3,0":{config:{style:"organic",times:{z:2}},position:{x:0,y:3,z:0},type:"block"},"block@0,3,3":{config:{style:"organic"},position:{x:0,y:3,z:3},type:"block"},"door@0,3,4":{config:{direction:"right",toRoom:"penitentiary29"},position:{x:0,y:3,z:4},type:"door"},"door@3,0,4":{config:{direction:"towards",toRoom:"penitentiary30"},position:{x:3,y:0,z:4},type:"door"},"door@8,3,0":{config:{direction:"left",toRoom:"penitentiary27"},position:{x:8,y:3,z:0},type:"door"},"hushPuppy@2,0,0":{config:{},position:{x:2,y:0,z:0},type:"hushPuppy"},"hushPuppy@3,0,1":{config:{},position:{x:3,y:0,z:1},type:"hushPuppy"},"hushPuppy@4,0,2":{config:{},position:{x:4,y:0,z:2},type:"hushPuppy"}},planet:"penitentiary",size:{x:8,y:8},walls:{away:["loop","loop","skeleton","loop","loop","skeleton","loop","loop"],left:["loop","skeleton","loop","none","none","loop","skeleton","loop"]}}),i2=x({color:{hue:"yellow",shade:"basic"},floor:"none",id:"penitentiary29",items:{"block@2,0,0":{config:{style:"organic",times:{x:6,y:2}},position:{x:2,y:0,z:0},type:"block"},"door@8,0,3":{config:{direction:"left",toRoom:"penitentiary28"},position:{x:8,y:0,z:3},type:"door"},"slidingDeadly@2,0,1":{config:{style:"puck"},position:{x:2,y:0,z:1},type:"slidingDeadly"},"slidingDeadly@2,1,1":{config:{style:"puck"},position:{x:2,y:1,z:1},type:"slidingDeadly"}},planet:"penitentiary",roomBelow:"penitentiary35",size:{x:8,y:2},walls:{away:["loop","loop","skeleton","loop","loop","skeleton","loop","loop"],left:["none","none"]}}),s2=x({color:{hue:"green",shade:"basic"},floor:"penitentiary",id:"penitentiary30",items:{"block@0,3,3":{config:{style:"organic",times:{x:6}},position:{x:0,y:3,z:3},type:"block"},"door@3,4,0":{config:{direction:"away",toRoom:"penitentiary28"},position:{x:3,y:4,z:0},type:"door"},"portableBlock@0,3,0":{config:{style:"sticks"},position:{x:0,y:3,z:0},type:"portableBlock"},"portableBlock@7,0,0":{config:{style:"sticks"},position:{x:7,y:0,z:0},type:"portableBlock"},"portableBlock@7,3,0":{config:{style:"sticks"},position:{x:7,y:3,z:0},type:"portableBlock"},"teleporter@0,3,4":{config:{toPosition:{x:0,y:4,z:4},toRoom:"penitentiary18fish"},position:{x:0,y:3,z:4},type:"teleporter"}},planet:"penitentiary",size:{x:8,y:4},walls:{away:["loop","skeleton","loop","none","none","loop","skeleton","loop"],left:["loop","loop","skeleton","loop"]}}),n2=x({color:{hue:"white",shade:"basic"},floor:"none",id:"penitentiary31",items:{"block@0,0,0":{config:{style:"organic",times:{x:6,y:2}},position:{x:0,y:0,z:0},type:"block"},"portableBlock@1,1,1":{config:{style:"sticks"},position:{x:1,y:1,z:1},type:"portableBlock"},"slidingDeadly@5,0,1":{config:{style:"puck"},position:{x:5,y:0,z:1},type:"slidingDeadly"},"slidingDeadly@5,0,2":{config:{style:"puck"},position:{x:5,y:0,z:2},type:"slidingDeadly"},"slidingDeadly@5,1,1":{config:{style:"puck"},position:{x:5,y:1,z:1},type:"slidingDeadly"},"slidingDeadly@5,1,2":{config:{style:"puck"},position:{x:5,y:1,z:2},type:"slidingDeadly"}},planet:"penitentiary",roomAbove:"penitentiary30",roomBelow:"penitentiary32",size:{x:8,y:2},walls:{away:["loop","loop","skeleton","loop","loop","skeleton","loop","loop"],left:["loop","loop"]}}),r2=x({color:{hue:"yellow",shade:"basic"},floor:"penitentiary",id:"penitentiary32",items:{"block@2,0,4":{config:{style:"organic",times:{x:6,y:2}},position:{x:2,y:0,z:4},type:"block"},"door@3,0,0":{config:{direction:"towards",toRoom:"penitentiary33"},position:{x:3,y:0,z:0},type:"door"},"monster@0,1,0":{config:{activated:!0,movement:"patrol-randomly-diagonal",which:"dalek"},position:{x:0,y:1,z:0},type:"monster"},"slidingDeadly@2,0,5":{config:{style:"puck"},position:{x:2,y:0,z:5},type:"slidingDeadly"},"slidingDeadly@2,1,5":{config:{style:"puck"},position:{x:2,y:1,z:5},type:"slidingDeadly"}},planet:"penitentiary",roomAbove:"penitentiary35",size:{x:8,y:2},walls:{away:["loop","loop","skeleton","loop","loop","skeleton","loop","loop"],left:["loop","loop"]}}),a2=x({color:{hue:"cyan",shade:"dimmed"},floor:"penitentiary",id:"penitentiary33",items:{"ball@1,1,3":{config:{},position:{x:1,y:1,z:3},type:"ball"},"ball@1,6,3":{config:{},position:{x:1,y:6,z:3},type:"ball"},"ball@6,1,3":{config:{},position:{x:6,y:1,z:3},type:"ball"},"ball@6,6,3":{config:{},position:{x:6,y:6,z:3},type:"ball"},"block@1,1,0":{config:{style:"tower",times:{z:3}},position:{x:1,y:1,z:0},type:"block"},"block@1,6,0":{config:{style:"tower",times:{z:3}},position:{x:1,y:6,z:0},type:"block"},"block@6,1,0":{config:{style:"tower",times:{z:3}},position:{x:6,y:1,z:0},type:"block"},"block@6,6,0":{config:{style:"tower",times:{z:3}},position:{x:6,y:6,z:0},type:"block"},"door@3,0,0":{config:{direction:"towards",toRoom:"penitentiary34crown"},position:{x:3,y:0,z:0},type:"door"},"door@3,8,0":{config:{direction:"away",toRoom:"penitentiary32"},position:{x:3,y:8,z:0},type:"door"},scroll:{config:{gives:"scroll",page:"teleportBack"},position:{x:5,y:6,z:2},type:"pickup"},"teleporter@0,3,0":{config:{toPosition:{x:0,y:3,z:0},toRoom:"penitentiary2"},position:{x:0,y:3,z:0},type:"teleporter"},"teleporter@0,4,0":{config:{toPosition:{x:0,y:4,z:0},toRoom:"penitentiary2"},position:{x:0,y:4,z:0},type:"teleporter"},"teleporter@1,3,0":{config:{toPosition:{x:1,y:3,z:0},toRoom:"penitentiary2"},position:{x:1,y:3,z:0},type:"teleporter"},"teleporter@1,4,0":{config:{toPosition:{x:1,y:4,z:0},toRoom:"penitentiary2"},position:{x:1,y:4,z:0},type:"teleporter"}},planet:"penitentiary",size:{x:8,y:8},walls:{away:["loop","skeleton","loop","none","none","loop","skeleton","loop"],left:["loop","loop","skeleton","loop","loop","skeleton","loop","loop"]}}),l2=x({color:{hue:"white",shade:"basic"},floor:"penitentiary",id:"penitentiary34crown",items:{"block@0,0,0":{config:{style:"artificial",times:{y:2}},position:{x:0,y:0,z:0},type:"block"},"block@0,0,1":{config:{style:"artificial",times:{z:5}},position:{x:0,y:0,z:1},type:"block"},"block@0,7,2":{config:{style:"artificial"},position:{x:0,y:7,z:2},type:"block"},"block@7,3,4":{config:{style:"artificial",times:{y:2}},position:{x:7,y:3,z:4},type:"block"},"door@3,8,1":{config:{direction:"away",toRoom:"penitentiary33"},position:{x:3,y:8,z:1},type:"door"},"movableBlock@7,3,5":{config:{movement:"free",style:"sandwich"},position:{x:7,y:3,z:5},type:"movableBlock"},"pickup@0,0,6":{config:{gives:"crown",planet:"penitentiary"},position:{x:0,y:0,z:6},type:"pickup"},"portableBlock@0,7,3":{config:{style:"sticks"},position:{x:0,y:7,z:3},type:"portableBlock"},"teleporter@7,5,4":{config:{toPosition:{x:15,y:4,z:4},toRoom:"penitentiary18fish"},position:{x:7,y:5,z:4},type:"teleporter"}},planet:"penitentiary",size:{x:8,y:8},walls:{away:["loop","skeleton","loop","none","none","loop","skeleton","loop"],left:["loop","loop","skeleton","loop","loop","skeleton","loop","loop"]}}),c2=x({color:{hue:"yellow",shade:"basic"},floor:"none",id:"penitentiary35",items:{"block@0,0,0":{config:{style:"organic"},position:{x:0,y:0,z:0},type:"block"},"block@0,1,0":{config:{style:"organic"},position:{x:0,y:1,z:0},type:"block"},"block@1,0,0":{config:{style:"organic"},position:{x:1,y:0,z:0},type:"block"},"block@1,1,0":{config:{style:"organic"},position:{x:1,y:1,z:0},type:"block"},"block@2,0,0":{config:{style:"organic"},position:{x:2,y:0,z:0},type:"block"},"block@2,1,0":{config:{style:"organic"},position:{x:2,y:1,z:0},type:"block"},"block@3,0,0":{config:{style:"organic"},position:{x:3,y:0,z:0},type:"block"},"block@3,1,0":{config:{style:"organic"},position:{x:3,y:1,z:0},type:"block"},"block@4,0,0":{config:{style:"organic"},position:{x:4,y:0,z:0},type:"block"},"block@4,1,0":{config:{style:"organic"},position:{x:4,y:1,z:0},type:"block"},"block@5,0,0":{config:{style:"organic"},position:{x:5,y:0,z:0},type:"block"},"block@5,1,0":{config:{style:"organic"},position:{x:5,y:1,z:0},type:"block"},"portableBlock@1,1,1":{config:{style:"sticks"},position:{x:1,y:1,z:1},type:"portableBlock"},"slidingDeadly@5,0,1":{config:{style:"puck"},position:{x:5,y:0,z:1},type:"slidingDeadly"},"slidingDeadly@5,0,2":{config:{style:"puck"},position:{x:5,y:0,z:2},type:"slidingDeadly"},"slidingDeadly@5,1,1":{config:{style:"puck"},position:{x:5,y:1,z:1},type:"slidingDeadly"},"slidingDeadly@5,1,2":{config:{style:"puck"},position:{x:5,y:1,z:2},type:"slidingDeadly"}},planet:"penitentiary",roomAbove:"penitentiary29",roomBelow:"penitentiary32",size:{x:8,y:2},walls:{away:["loop","loop","skeleton","loop","loop","skeleton","loop","loop"],left:["loop","loop"]}}),d2=x({color:{hue:"white",shade:"dimmed"},floor:"safari",id:"safari1",items:{"door@2,8,0":{config:{direction:"away",toRoom:"safari2"},position:{x:2,y:8,z:0},type:"door"},"teleporter@2,3,0":{config:{toPosition:{x:2,y:3,z:0},toRoom:"moonbase21tosafari"},position:{x:2,y:3,z:0},type:"teleporter"},"teleporter@2,4,0":{config:{toPosition:{x:2,y:4,z:0},toRoom:"moonbase21tosafari"},position:{x:2,y:4,z:0},type:"teleporter"},"teleporter@3,3,0":{config:{toPosition:{x:3,y:3,z:0},toRoom:"moonbase21tosafari"},position:{x:3,y:3,z:0},type:"teleporter"},"teleporter@3,4,0":{config:{toPosition:{x:3,y:4,z:0},toRoom:"moonbase21tosafari"},position:{x:3,y:4,z:0},type:"teleporter"}},planet:"safari",size:{x:6,y:8},walls:{away:["wall","shield","none","none","shield","wall"],left:["wall","window","wall","shield","shield","wall","window","wall"]}}),p2=x({color:{hue:"white",shade:"basic"},floor:"deadly",id:"safari2",items:{"block@3,0,0":{config:{style:"organic",times:{x:2}},position:{x:3,y:0,z:0},type:"block"},"block@3,7,1":{config:{style:"organic",times:{x:2}},position:{x:3,y:7,z:1},type:"block"},"block@7,4,0":{config:{style:"organic"},position:{x:7,y:4,z:0},type:"block"},"deadlyBlock@0,0,0":{config:{style:"volcano",times:{z:2}},position:{x:0,y:0,z:0},type:"deadlyBlock"},"deadlyBlock@0,1,1":{config:{style:"volcano"},position:{x:0,y:1,z:1},type:"deadlyBlock"},"deadlyBlock@0,7,0":{config:{style:"volcano"},position:{x:0,y:7,z:0},type:"deadlyBlock"},"deadlyBlock@2,3,0":{config:{style:"volcano"},position:{x:2,y:3,z:0},type:"deadlyBlock"},"deadlyBlock@4,3,0":{config:{style:"volcano"},position:{x:4,y:3,z:0},type:"deadlyBlock"},"deadlyBlock@6,0,1":{config:{style:"volcano",times:{x:2}},position:{x:6,y:0,z:1},type:"deadlyBlock"},"deadlyBlock@7,0,0":{config:{style:"volcano"},position:{x:7,y:0,z:0},type:"deadlyBlock"},"door@3,0,1":{config:{direction:"towards",toRoom:"safari1"},position:{x:3,y:0,z:1},type:"door"},"door@3,8,3":{config:{direction:"away",toRoom:"safari3"},position:{x:3,y:8,z:3},type:"door"},"movableBlock@7,1,0":{config:{activated:!0,movement:"clockwise",startDirection:"away",style:"sandwich"},position:{x:7,y:1,z:0},type:"movableBlock"}},planet:"safari",size:{x:8,y:8},walls:{away:["wall","shield","wall","none","none","wall","window","wall"],left:["wall","window","wall","shield","shield","wall","window","wall"]}}),y2=x({color:{hue:"cyan",shade:"basic"},floor:"deadly",id:"safari3",items:{"block@1,0,0":{config:{style:"organic",times:{x:2}},position:{x:1,y:0,z:0},type:"block"},"block@1,7,0":{config:{style:"organic",times:{x:2}},position:{x:1,y:7,z:0},type:"block"},"door@1,0,5":{config:{direction:"towards",toRoom:"safari2"},position:{x:1,y:0,z:5},type:"door"},"door@1,8,5":{config:{direction:"away",toRoom:"safari4"},position:{x:1,y:8,z:5},type:"door"},"lift@1,4,0":{config:{bottom:0,top:8},position:{x:1,y:4,z:0},type:"lift"},liftExtra:{config:{bottom:0,top:8},isExtra:!0,position:{x:2,y:4,z:0},type:"lift"}},planet:"safari",size:{x:4,y:8},walls:{away:["wall","none","none","wall"],left:["wall","window","wall","shield","shield","wall","window","wall"]}}),h2=x({color:{hue:"cyan",shade:"dimmed"},floor:"safari",id:"safari4",items:{"block@3,7,0":{config:{style:"organic",times:{z:2}},position:{x:3,y:7,z:0},type:"block"},"block@3,7,3":{config:{style:"organic"},position:{x:3,y:7,z:3},type:"block"},"block@7,3,0":{config:{style:"organic",times:{y:2}},position:{x:7,y:3,z:0},type:"block"},"block@7,3,1":{config:{style:"organic",times:{z:2}},position:{x:7,y:3,z:1},type:"block"},"door@3,0,0":{config:{direction:"towards",toRoom:"safari3"},position:{x:3,y:0,z:0},type:"door"},"door@3,8,5":{config:{direction:"away",toRoom:"safari18"},position:{x:3,y:8,z:5},type:"door"},"door@8,3,5":{config:{direction:"left",toRoom:"safari5"},position:{x:8,y:3,z:5},type:"door"},"monster@7,4,1":{config:{activated:!0,movement:"patrol-randomly-diagonal",which:"dalek"},position:{x:7,y:4,z:1},type:"monster"}},planet:"safari",size:{x:8,y:8},walls:{away:["wall","shield","wall","none","none","wall","window","wall"],left:["wall","shield","wall","none","none","wall","window","wall"]}}),u2=x({color:{hue:"yellow",shade:"dimmed"},floor:"safari",id:"safari5",items:{"door@0,1,0":{config:{direction:"right",toRoom:"safari4"},position:{x:0,y:1,z:0},type:"door"},"door@8,1,4":{config:{direction:"left",toRoom:"safari6triple"},position:{x:8,y:1,z:4},type:"door"},"hushPuppy@5,1,0":{config:{times:{y:2}},position:{x:5,y:1,z:0},type:"hushPuppy"},"hushPuppy@6,1,1":{config:{times:{y:2}},position:{x:6,y:1,z:1},type:"hushPuppy"},"hushPuppy@7,1,2":{config:{times:{y:2}},position:{x:7,y:1,z:2},type:"hushPuppy"}},planet:"safari",size:{x:8,y:4},walls:{away:["wall","window","wall","shield","shield","wall","window","wall"],left:["wall","none","none","wall"]}}),f2=x({color:{hue:"white",shade:"basic"},floor:"deadly",id:"safari6triple",items:{"block@0,0,0":{config:{style:"organic"},position:{x:0,y:0,z:0},type:"block"},"block@0,11,0":{config:{style:"organic"},position:{x:0,y:11,z:0},type:"block"},"block@0,2,0":{config:{style:"organic",times:{y:2}},position:{x:0,y:2,z:0},type:"block"},"block@1,10,0":{config:{style:"organic"},position:{x:1,y:10,z:0},type:"block"},"block@1,8,0":{config:{style:"organic"},position:{x:1,y:8,z:0},type:"block"},"block@10,2,0":{config:{style:"organic",times:{x:2}},position:{x:10,y:2,z:0},type:"block"},"block@10,4,0":{config:{disappearing:"onStand",style:"organic",times:{y:2}},position:{x:10,y:4,z:0},type:"block"},"block@11,0,0":{config:{style:"organic"},position:{x:11,y:0,z:0},type:"block"},"block@2,0,0":{config:{style:"organic",times:{x:2}},position:{x:2,y:0,z:0},type:"block"},"block@3,2,0":{config:{disappearing:"onStand",style:"organic"},position:{x:3,y:2,z:0},type:"block"},"block@3,8,0":{config:{disappearing:"onStand",style:"organic"},position:{x:3,y:8,z:0},type:"block"},"block@5,2,0":{config:{style:"organic",times:{x:3}},position:{x:5,y:2,z:0},type:"block"},"block@5,5,0":{config:{style:"organic",times:{x:2}},position:{x:5,y:5,z:0},type:"block"},"block@5,6,0":{config:{style:"organic"},position:{x:5,y:6,z:0},type:"block"},"block@5,8,0":{config:{style:"organic"},position:{x:5,y:8,z:0},type:"block"},"block@7,0,0":{config:{style:"organic"},position:{x:7,y:0,z:0},type:"block"},"block@8,5,0":{config:{disappearing:"onStand",style:"organic"},position:{x:8,y:5,z:0},type:"block"},"block@9,0,0":{config:{disappearing:"onStand",style:"organic"},position:{x:9,y:0,z:0},type:"block"},"door@0,2,1":{config:{direction:"right",toRoom:"safari5"},position:{x:0,y:2,z:1},type:"door"},"door@6,8,2":{config:{direction:"left",toRoom:"safari7"},position:{x:6,y:8,z:2},type:"door"},"door@8,6,2":{config:{direction:"away",toRoom:"safari7"},position:{x:8,y:6,z:2},type:"door"},"pickup@0,11,1":{config:{gives:"shield"},position:{x:0,y:11,z:1},type:"pickup"},"wall@10,6,0":{config:{side:"away",style:"shield"},position:{x:10,y:6,z:0},type:"wall"},"wall@11,6,0":{config:{side:"away",style:"wall"},position:{x:11,y:6,z:0},type:"wall"},"wall@6,10,0":{config:{side:"left",style:"shield"},position:{x:6,y:10,z:0},type:"wall"},"wall@6,11,0":{config:{side:"left",style:"wall"},position:{x:6,y:11,z:0},type:"wall"},"wall@6,6,0:Z1Jyjna":{config:{side:"away",style:"wall"},position:{x:6,y:6,z:0},type:"wall"},"wall@6,6,0:rwVyt":{config:{side:"left",style:"wall"},position:{x:6,y:6,z:0},type:"wall"},"wall@6,7,0":{config:{side:"left",style:"shield"},position:{x:6,y:7,z:0},type:"wall"},"wall@7,6,0":{config:{side:"away",style:"shield"},position:{x:7,y:6,z:0},type:"wall"}},planet:"safari",size:{x:12,y:12},walls:{away:["shield","wall","window","window","wall","shield","none","none","none","none","none","none","none"],left:["shield","wall","window","window","wall","shield","none","none","none","none","none","none","none"]}}),m2=x({color:{hue:"magenta",shade:"basic"},floor:"deadly",id:"safari7",items:{"block@0,3,0":{config:{style:"organic",times:{x:6}},position:{x:0,y:3,z:0},type:"block"},"block@2,0,0":{config:{style:"organic"},position:{x:2,y:0,z:0},type:"block"},"block@2,1,0":{config:{disappearing:"onStand",style:"organic"},position:{x:2,y:1,z:0},type:"block"},"block@2,2,0":{config:{style:"organic"},position:{x:2,y:2,z:0},type:"block"},"door@0,2,1":{config:{direction:"right",toRoom:"safari6triple"},position:{x:0,y:2,z:1},type:"door"},"door@2,0,1":{config:{direction:"towards",toRoom:"safari6triple"},position:{x:2,y:0,z:1},type:"door"},"door@6,2,2":{config:{direction:"left",toRoom:"safari8"},position:{x:6,y:2,z:2},type:"door"}},planet:"safari",size:{x:6,y:6},walls:{away:["shield","wall","window","window","wall","shield"],left:["wall","shield","none","none","shield","wall"]}}),g2=x({color:{hue:"green",shade:"basic"},floor:"safari",id:"safari8",items:{"door@0,0,1":{config:{direction:"right",toRoom:"safari7"},position:{x:0,y:0,z:1},type:"door"},"door@8,0,1":{config:{direction:"left",toRoom:"safari9"},position:{x:8,y:0,z:1},type:"door"}},planet:"safari",size:{x:8,y:2},walls:{away:["wall","window","wall","shield","shield","wall","window","wall"],left:["none","none"]}}),x2=x({color:{hue:"green",shade:"basic"},floor:"none",id:"safari9",items:{"block@0,2,3":{config:{style:"organic"},position:{x:0,y:2,z:3},type:"block"},"block@7,2,3":{config:{style:"organic"},position:{x:7,y:2,z:3},type:"block"},"deadlyBlock@0,1,2":{config:{style:"volcano",times:{x:8}},position:{x:0,y:1,z:2},type:"deadlyBlock"},"door@0,2,4":{config:{direction:"right",toRoom:"safari8"},position:{x:0,y:2,z:4},type:"door"},"door@8,2,5":{config:{direction:"left",toRoom:"safari14"},position:{x:8,y:2,z:5},type:"door"},"movableBlock@0,1,3":{config:{activated:"onStand",movement:"clockwise",startDirection:"left",style:"sandwich"},position:{x:0,y:1,z:3},type:"movableBlock"}},planet:"safari",roomBelow:"safari10",size:{x:8,y:6},walls:{away:["wall","window","wall","shield","shield","wall","window","wall"],left:["wall","shield","none","none","shield","wall"]}}),b2=x({color:{hue:"green",shade:"basic"},floor:"safari",id:"safari10",items:{"barrier@4,0,0":{config:{axis:"y",times:{y:6,z:3}},position:{x:4,y:0,z:0},type:"barrier"},"door@8,2,0":{config:{direction:"left",toRoom:"safari11"},position:{x:8,y:2,z:0},type:"door"},"spring@0,5,0":{config:{},position:{x:0,y:5,z:0},type:"spring"}},planet:"safari",roomAbove:"safari9",size:{x:8,y:6},walls:{away:["wall","window","wall","shield","shield","wall","window","wall"],left:["wall","shield","none","none","shield","wall"]}}),w2=x({color:{hue:"white",shade:"dimmed"},floor:"safari",id:"safari11",items:{"door@0,2,0":{config:{direction:"right",toRoom:"safari10"},position:{x:0,y:2,z:0},type:"door"},"door@6,2,0":{config:{direction:"left",toRoom:"safari12"},position:{x:6,y:2,z:0},type:"door"},"monster@0,0,0":{config:{activated:!0,movement:"patrol-randomly-xy4",which:"elephant"},position:{x:0,y:0,z:0},type:"monster"},"monster@2,3,0":{config:{activated:!0,movement:"unmoving",startDirection:"right",which:"elephantHead"},position:{x:2,y:3,z:0},type:"monster"},"monster@3,1,0":{config:{activated:!0,movement:"unmoving",startDirection:"right",which:"elephantHead"},position:{x:3,y:1,z:0},type:"monster"},"monster@3,5,0":{config:{activated:!0,movement:"unmoving",startDirection:"right",which:"elephantHead"},position:{x:3,y:5,z:0},type:"monster"}},planet:"safari",size:{x:6,y:6},walls:{away:["shield","wall","window","window","wall","shield"],left:["wall","shield","none","none","shield","wall"]}}),k2=x({color:{hue:"yellow",shade:"dimmed"},floor:"safari",id:"safari12",items:{"barrier@4,0,1":{config:{axis:"y",times:{y:6,z:2}},position:{x:4,y:0,z:1},type:"barrier"},"barrier@4,1,0":{config:{axis:"y",times:{y:5}},position:{x:4,y:1,z:0},type:"barrier"},"deadlyBlock@2,1,0":{config:{style:"volcano",times:{x:2}},position:{x:2,y:1,z:0},type:"deadlyBlock"},"door@0,2,0":{config:{direction:"right",toRoom:"safari11"},position:{x:0,y:2,z:0},type:"door"},"lift@7,5,0":{config:{bottom:0,top:11},position:{x:7,y:5,z:0},type:"lift"},"monster@5,5,0":{config:{activated:!0,movement:"patrol-randomly-diagonal",which:"dalek"},position:{x:5,y:5,z:0},type:"monster"},"portableBlock@3,5,0":{config:{style:"drum"},position:{x:3,y:5,z:0},type:"portableBlock"},"slidingDeadly@4,0,0":{config:{style:"puck"},position:{x:4,y:0,z:0},type:"slidingDeadly"}},planet:"safari",roomAbove:"safari13",size:{x:8,y:6},walls:{away:["wall","window","wall","shield","shield","wall","window","wall"],left:["shield","wall","window","window","wall","shield"]}}),z2=x({color:{hue:"yellow",shade:"dimmed"},floor:"none",id:"safari13",items:{"block@0,3,0":{config:{style:"organic"},position:{x:0,y:3,z:0},type:"block"},"block@0,5,0":{config:{style:"organic"},position:{x:0,y:5,z:0},type:"block"},"block@1,5,0":{config:{disappearing:"onStand",style:"organic"},position:{x:1,y:5,z:0},type:"block"},"block@3,5,0":{config:{style:"organic"},position:{x:3,y:5,z:0},type:"block"},"block@5,5,0":{config:{disappearing:"onStand",style:"organic"},position:{x:5,y:5,z:0},type:"block"},"block@7,5,0":{config:{style:"organic"},position:{x:7,y:5,z:0},type:"block"},"door@0,2,2":{config:{direction:"right",toRoom:"safari14"},position:{x:0,y:2,z:2},type:"door"},"door@3,6,2":{config:{direction:"away",toRoom:"safari15"},position:{x:3,y:6,z:2},type:"door"}},planet:"safari",roomBelow:"safari12",size:{x:8,y:6},walls:{away:["wall","shield","wall","none","none","wall","window","wall"],left:["shield","wall","window","window","wall","shield"]}}),v2=x({color:{hue:"white",shade:"basic"},floor:"safari",id:"safari14",items:{"block@3,7,1":{config:{style:"organic",times:{x:3}},position:{x:3,y:7,z:1},type:"block"},"block@4,6,0":{config:{style:"organic"},position:{x:4,y:6,z:0},type:"block"},"door@0,3,0":{config:{direction:"right",toRoom:"safari9"},position:{x:0,y:3,z:0},type:"door"},"door@8,3,0":{config:{direction:"left",toRoom:"safari13"},position:{x:8,y:3,z:0},type:"door"},"pickup@4,7,0":{config:{gives:"jumps"},position:{x:4,y:7,z:0},type:"pickup"},"portableBlock@4,7,2":{config:{style:"drum"},position:{x:4,y:7,z:2},type:"portableBlock"},"slidingDeadly@3,7,0":{config:{style:"puck"},position:{x:3,y:7,z:0},type:"slidingDeadly"},"slidingDeadly@5,7,0":{config:{style:"puck"},position:{x:5,y:7,z:0},type:"slidingDeadly"}},planet:"safari",size:{x:8,y:8},walls:{away:["wall","window","wall","shield","shield","wall","window","wall"],left:["wall","shield","wall","none","none","wall","window","wall"]}}),_2=x({color:{hue:"white",shade:"dimmed"},floor:"safari",id:"safari15",items:{"deadlyBlock@0,13,0":{config:{style:"spikes"},position:{x:0,y:13,z:0},type:"deadlyBlock"},"deadlyBlock@0,9,0":{config:{style:"spikes"},position:{x:0,y:9,z:0},type:"deadlyBlock"},"deadlyBlock@1,11,0":{config:{style:"spikes"},position:{x:1,y:11,z:0},type:"deadlyBlock"},"deadlyBlock@2,12,0":{config:{style:"spikes"},position:{x:2,y:12,z:0},type:"deadlyBlock"},"deadlyBlock@2,9,0":{config:{style:"spikes"},position:{x:2,y:9,z:0},type:"deadlyBlock"},"deadlyBlock@3,10,0":{config:{style:"spikes"},position:{x:3,y:10,z:0},type:"deadlyBlock"},"deadlyBlock@3,14,0":{config:{style:"spikes"},position:{x:3,y:14,z:0},type:"deadlyBlock"},"deadlyBlock@3,2,0":{config:{style:"volcano"},position:{x:3,y:2,z:0},type:"deadlyBlock"},"deadlyBlock@3,4,0":{config:{style:"volcano"},position:{x:3,y:4,z:0},type:"deadlyBlock"},"deadlyBlock@3,6,0":{config:{style:"volcano"},position:{x:3,y:6,z:0},type:"deadlyBlock"},"door@1,0,0":{config:{direction:"towards",toRoom:"safari13"},position:{x:1,y:0,z:0},type:"door"},"door@1,16,0":{config:{direction:"away",toRoom:"safari16"},position:{x:1,y:16,z:0},type:"door"},"monster@0,6,0":{config:{activated:!0,movement:"back-forth",startDirection:"right",style:"greenAndPink",which:"skiHead"},position:{x:0,y:6,z:0},type:"monster"},"monster@1,4,0":{config:{activated:!0,movement:"back-forth",startDirection:"right",style:"greenAndPink",which:"skiHead"},position:{x:1,y:4,z:0},type:"monster"},"monster@2,12,1":{config:{activated:!0,movement:"patrol-randomly-diagonal",which:"dalek"},position:{x:2,y:12,z:1},type:"monster"},"monster@2,2,0":{config:{activated:!0,movement:"back-forth",startDirection:"right",style:"greenAndPink",which:"skiHead"},position:{x:2,y:2,z:0},type:"monster"},monsterpen:{config:{axis:"x"},position:{x:1,y:9.5,z:0},type:"barrier"}},planet:"safari",size:{x:4,y:16},walls:{away:["wall","none","none","wall"],left:["wall","window","wall","shield","shield","wall","window","wall","wall","window","wall","shield","shield","wall","window","wall"]}}),B2=x({color:{hue:"cyan",shade:"dimmed"},floor:"safari",id:"safari16",items:{"deadlyBlock@0,4,0":{config:{style:"volcano"},position:{x:0,y:4,z:0},type:"deadlyBlock"},"deadlyBlock@1,1,0":{config:{style:"volcano",times:{y:3}},position:{x:1,y:1,z:0},type:"deadlyBlock"},"deadlyBlock@1,5,0":{config:{style:"volcano",times:{y:2}},position:{x:1,y:5,z:0},type:"deadlyBlock"},"deadlyBlock@3,1,0":{config:{style:"volcano",times:{y:6}},position:{x:3,y:1,z:0},type:"deadlyBlock"},"door@1,0,0":{config:{direction:"towards",toRoom:"safari15"},position:{x:1,y:0,z:0},type:"door"},"door@1,8,0":{config:{direction:"away",toRoom:"safari17fish"},position:{x:1,y:8,z:0},type:"door"},"monster@2,6,0":{config:{activated:!0,movement:"back-forth",startDirection:"towards",style:"greenAndPink",which:"skiHead"},position:{x:2,y:6,z:0},type:"monster"}},planet:"safari",size:{x:4,y:8},walls:{away:["wall","none","none","wall"],left:["wall","window","wall","shield","shield","wall","window","wall"]}}),S2=x({color:{hue:"magenta",shade:"basic"},floor:"safari",id:"safari17fish",items:{"block@3,0,3":{config:{style:"organic",times:{x:2,y:8}},position:{x:3,y:0,z:3},type:"block"},"door@3,0,4":{config:{direction:"towards",toRoom:"safari16"},position:{x:3,y:0,z:4},type:"door"},"door@3,8,0":{config:{direction:"away",toRoom:"safari30"},position:{x:3,y:8,z:0},type:"door"},"door@8,3,0":{config:{direction:"left",toRoom:"safari31"},position:{x:8,y:3,z:0},type:"door"},"hushPuppy@0,3,0":{config:{},position:{x:0,y:3,z:0},type:"hushPuppy"},"hushPuppy@1,3,1":{config:{},position:{x:1,y:3,z:1},type:"hushPuppy"},"hushPuppy@2,3,2":{config:{},position:{x:2,y:3,z:2},type:"hushPuppy"},"pickup@4,7,4":{config:{gives:"reincarnation"},position:{x:4,y:7,z:4},type:"pickup"}},planet:"safari",size:{x:8,y:8},walls:{away:["wall","shield","wall","none","none","wall","window","wall"],left:["wall","shield","wall","none","none","wall","window","wall"]}}),A2=x({color:{hue:"magenta",shade:"basic"},floor:"deadly",id:"safari18",items:{"block@0,0,2":{config:{style:"organic",times:{y:4}},position:{x:0,y:0,z:2},type:"block"},"block@1,10,0":{config:{disappearing:"onStand",style:"organic"},position:{x:1,y:10,z:0},type:"block"},"block@1,11,0":{config:{style:"organic"},position:{x:1,y:11,z:0},type:"block"},"block@1,12,0":{config:{disappearing:"onStand",style:"organic"},position:{x:1,y:12,z:0},type:"block"},"block@1,13,0":{config:{disappearing:"onStand",style:"organic"},position:{x:1,y:13,z:0},type:"block"},"block@1,14,0":{config:{disappearing:"onStand",style:"organic"},position:{x:1,y:14,z:0},type:"block"},"block@1,15,0":{config:{style:"organic"},position:{x:1,y:15,z:0},type:"block"},"block@1,5,0":{config:{style:"organic",times:{y:5}},position:{x:1,y:5,z:0},type:"block"},"door@0,0,3":{config:{direction:"towards",toRoom:"safari4"},position:{x:0,y:0,z:3},type:"door"},"door@0,16,2":{config:{direction:"away",toRoom:"safari19triple"},position:{x:0,y:16,z:2},type:"door"}},planet:"safari",size:{x:2,y:16},walls:{away:["none","none"],left:["wall","window","wall","shield","shield","wall","window","wall","wall","window","wall","shield","shield","wall","window","wall"]}}),P2=x({color:{hue:"white",shade:"basic"},floor:"safari",id:"safari19triple",items:{"barrier@13,0,0":{config:{axis:"y",times:{y:4,z:3}},position:{x:13,y:0,z:0},type:"barrier"},"block@0,9,0":{config:{style:"tower",times:{z:6}},position:{x:0,y:9,z:0},type:"block"},"block@6,6,0":{config:{style:"organic",times:{y:3}},position:{x:6,y:6,z:0},type:"block"},"door@16,1,0":{config:{direction:"left",toRoom:"safari20"},position:{x:16,y:1,z:0},type:"door"},"door@3,0,0":{config:{direction:"towards",toRoom:"safari18"},position:{x:3,y:0,z:0},type:"door"},"door@3,10,0":{config:{direction:"away",toRoom:"safari25"},position:{x:3,y:10,z:0},type:"door"},keepMonsterInPlace0:{config:{axis:"y"},position:{x:8,y:0,z:0},type:"barrier"},keepMonsterInPlace1:{config:{axis:"y"},position:{x:8,y:1,z:0},type:"barrier"},keepMonsterInPlace2:{config:{axis:"y"},position:{x:8,y:2,z:0},type:"barrier"},keepMonsterInPlace3:{config:{axis:"y"},position:{x:8,y:3,z:0},type:"barrier"},"monster@12,0,0":{config:{activated:!0,movement:"patrol-randomly-diagonal",which:"dalek"},position:{x:12,y:0,z:0},type:"monster"},"pickup@0,9,6":{config:{gives:"extra-life"},position:{x:0,y:9,z:6},type:"pickup"},"portableBlock@12,0,1":{config:{style:"drum"},position:{x:12,y:0,z:1},type:"portableBlock"},"portableBlock@6,6,1":{config:{style:"drum"},position:{x:6,y:6,z:1},type:"portableBlock"},"portableBlock@6,8,1":{config:{style:"drum"},position:{x:6,y:8,z:1},type:"portableBlock"},"spring@6,7,1":{config:{},position:{x:6,y:7,z:1},type:"spring"},"wall@10,4,0":{config:{side:"away",style:"wall"},position:{x:10,y:4,z:0},type:"wall"},"wall@11,4,0":{config:{side:"away",style:"shield"},position:{x:11,y:4,z:0},type:"wall"},"wall@12,4,0":{config:{side:"away",style:"shield"},position:{x:12,y:4,z:0},type:"wall"},"wall@13,4,0":{config:{side:"away",style:"wall"},position:{x:13,y:4,z:0},type:"wall"},"wall@14,4,0":{config:{side:"away",style:"window"},position:{x:14,y:4,z:0},type:"wall"},"wall@15,4,0":{config:{side:"away",style:"wall"},position:{x:15,y:4,z:0},type:"wall"},"wall@8,4,0:BKGHK":{config:{side:"left",style:"shield"},position:{x:8,y:4,z:0},type:"wall"},"wall@8,4,0:Z1Jyjna":{config:{side:"away",style:"wall"},position:{x:8,y:4,z:0},type:"wall"},"wall@8,5,0":{config:{side:"left",style:"wall"},position:{x:8,y:5,z:0},type:"wall"},"wall@8,6,0":{config:{side:"left",style:"window"},position:{x:8,y:6,z:0},type:"wall"},"wall@8,7,0":{config:{side:"left",style:"window"},position:{x:8,y:7,z:0},type:"wall"},"wall@8,8,0":{config:{side:"left",style:"wall"},position:{x:8,y:8,z:0},type:"wall"},"wall@8,9,0":{config:{side:"left",style:"shield"},position:{x:8,y:9,z:0},type:"wall"},"wall@9,4,0":{config:{side:"away",style:"window"},position:{x:9,y:4,z:0},type:"wall"}},planet:"safari",size:{x:16,y:10},walls:{away:["wall","window","wall","none","none","wall","window","wall","none","none","none","none","none","none","none","none"],left:["wall","none","none","wall","none","none","none","none","none","none"]}}),R2=x({color:{hue:"cyan",shade:"dimmed"},floor:"safari",id:"safari20",items:{"door@0,3,0":{config:{direction:"right",toRoom:"safari19triple"},position:{x:0,y:3,z:0},type:"door"},"door@1,8,0":{config:{direction:"away",toRoom:"safari22"},position:{x:1,y:8,z:0},type:"door"},"door@4,3,0":{config:{direction:"left",toRoom:"safari21"},position:{x:4,y:3,z:0},type:"door"}},planet:"safari",size:{x:4,y:8},walls:{away:["wall","none","none","wall"],left:["wall","shield","wall","none","none","wall","window","wall"]}}),C2=x({color:{hue:"yellow",shade:"basic"},floor:"safari",id:"safari21",items:{"block@0,7,4":{config:{style:"organic"},position:{x:0,y:7,z:4},type:"block"},"block@1,7,3":{config:{disappearing:"onStand",style:"organic"},position:{x:1,y:7,z:3},type:"block"},"block@4,7,2":{config:{style:"organic"},position:{x:4,y:7,z:2},type:"block"},"block@7,7,1":{config:{style:"organic"},position:{x:7,y:7,z:1},type:"block"},"door@0,3,0":{config:{direction:"right",toRoom:"safari20"},position:{x:0,y:3,z:0},type:"door"},"monster@2,5,0":{config:{activated:!0,movement:"towards-tripped-on-axis-xy4",which:"homingBot"},position:{x:2,y:5,z:0},type:"monster"},"monster@3,2,0":{config:{activated:!0,movement:"towards-tripped-on-axis-xy4",which:"homingBot"},position:{x:3,y:2,z:0},type:"monster"},"monster@4,4,0":{config:{activated:!0,movement:"patrol-randomly-diagonal",which:"dalek"},position:{x:4,y:4,z:0},type:"monster"},"monster@5,4,0":{config:{activated:!0,movement:"towards-tripped-on-axis-xy4",which:"homingBot"},position:{x:5,y:4,z:0},type:"monster"},"pickup@0,7,5":{config:{gives:"doughnuts"},position:{x:0,y:7,z:5},type:"pickup"}},planet:"safari",size:{x:8,y:8},walls:{away:["wall","window","wall","shield","shield","wall","window","wall"],left:["wall","window","wall","shield","shield","wall","window","wall"]}}),M2=x({color:{hue:"white",shade:"dimmed"},floor:"safari",id:"safari22",items:{"deadlyBlock@1,1,0":{config:{style:"volcano",times:{y:6}},position:{x:1,y:1,z:0},type:"deadlyBlock"},"door@0,0,0":{config:{direction:"towards",toRoom:"safari20"},position:{x:0,y:0,z:0},type:"door"},"door@0,8,0":{config:{direction:"away",toRoom:"safari23"},position:{x:0,y:8,z:0},type:"door"},"monster@0,4,0":{config:{activated:!0,movement:"patrol-randomly-diagonal",which:"dalek"},position:{x:0,y:4,z:0},type:"monster"}},planet:"safari",size:{x:2,y:8},walls:{away:["none","none"],left:["wall","window","wall","shield","shield","wall","window","wall"]}}),E2=x({color:{hue:"yellow",shade:"dimmed"},floor:"safari",id:"safari23",items:{"deadlyBlock@0,0,0":{config:{style:"volcano"},position:{x:0,y:0,z:0},type:"deadlyBlock"},"deadlyBlock@0,5,0":{config:{style:"volcano"},position:{x:0,y:5,z:0},type:"deadlyBlock"},"deadlyBlock@1,2,0":{config:{style:"volcano",times:{y:2}},position:{x:1,y:2,z:0},type:"deadlyBlock"},"deadlyBlock@2,1,0":{config:{style:"volcano",times:{x:2}},position:{x:2,y:1,z:0},type:"deadlyBlock"},"deadlyBlock@2,4,0":{config:{style:"volcano",times:{x:2}},position:{x:2,y:4,z:0},type:"deadlyBlock"},"deadlyBlock@4,2,0":{config:{style:"volcano",times:{y:2}},position:{x:4,y:2,z:0},type:"deadlyBlock"},"deadlyBlock@5,0,0":{config:{style:"volcano"},position:{x:5,y:0,z:0},type:"deadlyBlock"},"deadlyBlock@5,5,0":{config:{style:"volcano"},position:{x:5,y:5,z:0},type:"deadlyBlock"},"door@0,2,0":{config:{direction:"right",toRoom:"safari24"},position:{x:0,y:2,z:0},type:"door"},"door@2,0,0":{config:{direction:"towards",toRoom:"safari22"},position:{x:2,y:0,z:0},type:"door"},"door@6,2,0":{config:{direction:"left",toRoom:"safari26"},position:{x:6,y:2,z:0},type:"door"}},planet:"safari",size:{x:6,y:6},walls:{away:["shield","wall","window","window","wall","shield"],left:["wall","shield","none","none","shield","wall"]}}),I2=x({color:{hue:"yellow",shade:"basic"},floor:"deadly",id:"safari24",items:{"block@1,2,0":{config:{style:"organic"},position:{x:1,y:2,z:0},type:"block"},"block@7,2,1":{config:{style:"organic"},position:{x:7,y:2,z:1},type:"block"},"deadlyBlock@4,0,1":{config:{style:"volcano",times:{y:2}},position:{x:4,y:0,z:1},type:"deadlyBlock"},"deadlyBlock@4,1,0":{config:{style:"volcano"},position:{x:4,y:1,z:0},type:"deadlyBlock"},"deadlyBlock@4,4,0":{config:{style:"volcano",times:{z:2}},position:{x:4,y:4,z:0},type:"deadlyBlock"},"deadlyBlock@4,5,1":{config:{style:"volcano"},position:{x:4,y:5,z:1},type:"deadlyBlock"},"door@0,2,1":{config:{direction:"right",toRoom:"safari25"},position:{x:0,y:2,z:1},type:"door"},"door@8,2,3":{config:{direction:"left",toRoom:"safari23"},position:{x:8,y:2,z:3},type:"door"},"movableBlock@0,2,0":{config:{activated:"onStand",movement:"clockwise",startDirection:"towards",style:"sandwich"},position:{x:0,y:2,z:0},type:"movableBlock"}},planet:"safari",size:{x:8,y:6},walls:{away:["wall","window","wall","shield","shield","wall","window","wall"],left:["wall","shield","none","none","shield","wall"]}}),T2=x({color:{hue:"cyan",shade:"basic"},floor:"deadly",id:"safari25",items:{"block@3,0,0":{config:{style:"organic"},position:{x:3,y:0,z:0},type:"block"},"block@3,4,0":{config:{disappearing:"onStand",style:"organic"},position:{x:3,y:4,z:0},type:"block"},"block@7,4,0":{config:{style:"organic"},position:{x:7,y:4,z:0},type:"block"},"door@3,0,3":{config:{direction:"towards",toRoom:"safari19triple"},position:{x:3,y:0,z:3},type:"door"},"door@8,3,3":{config:{direction:"left",toRoom:"safari24"},position:{x:8,y:3,z:3},type:"door"}},planet:"safari",size:{x:8,y:8},walls:{away:["wall","window","wall","shield","shield","wall","window","wall"],left:["wall","shield","wall","none","none","wall","window","wall"]}}),j2=x({color:{hue:"white",shade:"basic"},floor:"safari",id:"safari26",items:{"ball@1,10,0":{config:{},position:{x:1,y:10,z:0},type:"ball"},"barrier@4,0,0":{config:{axis:"y",times:{y:12,z:3}},position:{x:4,y:0,z:0},type:"barrier"},"block@7,0,3":{config:{style:"organic"},position:{x:7,y:0,z:3},type:"block"},"deadlyBlock@1,7,0":{config:{style:"volcano"},position:{x:1,y:7,z:0},type:"deadlyBlock"},"deadlyBlock@2,10,0":{config:{style:"volcano",times:{y:2}},position:{x:2,y:10,z:0},type:"deadlyBlock"},"deadlyBlock@2,5,0":{config:{style:"volcano",times:{y:2}},position:{x:2,y:5,z:0},type:"deadlyBlock"},"deadlyBlock@3,8,0":{config:{style:"volcano",times:{z:3}},position:{x:3,y:8,z:0},type:"deadlyBlock"},"door@0,2,0":{config:{direction:"right",toRoom:"safari23"},position:{x:0,y:2,z:0},type:"door"},"door@8,8,0":{config:{direction:"left",toRoom:"safari27"},position:{x:8,y:8,z:0},type:"door"},"pickup@7,0,4":{config:{gives:"extra-life"},position:{x:7,y:0,z:4},type:"pickup"}},planet:"safari",size:{x:8,y:12},walls:{away:["wall","window","wall","shield","shield","wall","window","wall"],left:["shield","wall","window","window","wall","shield","wall","shield","none","none","shield","wall"]}}),D2=x({color:{hue:"yellow",shade:"dimmed"},floor:"safari",id:"safari27",items:{"door@0,2,4":{config:{direction:"right",toRoom:"safari26"},position:{x:0,y:2,z:4},type:"door"},"door@8,2,4":{config:{direction:"left",toRoom:"safari28"},position:{x:8,y:2,z:4},type:"door"},"monster@3,3,0":{config:{activated:!0,movement:"patrol-randomly-xy8",which:"helicopterBug"},position:{x:3,y:3,z:0},type:"monster"},"monster@4,2,0":{config:{activated:!0,movement:"patrol-randomly-xy8",which:"helicopterBug"},position:{x:4,y:2,z:0},type:"monster"},"monster@4,3,0":{config:{activated:!0,movement:"patrol-randomly-xy4",which:"elephant"},position:{x:4,y:3,z:0},type:"monster"},"spring@3,2,0":{config:{},position:{x:3,y:2,z:0},type:"spring"}},planet:"safari",size:{x:8,y:6},walls:{away:["wall","window","wall","shield","shield","wall","window","wall"],left:["wall","shield","none","none","shield","wall"]}}),$2=x({color:{hue:"yellow",shade:"dimmed"},floor:"safari",id:"safari28",items:{"deadlyBlock@4,3,0":{config:{style:"volcano"},position:{x:4,y:3,z:0},type:"deadlyBlock"},"door@0,3,0":{config:{direction:"right",toRoom:"safari27"},position:{x:0,y:3,z:0},type:"door"},"door@8,3,0":{config:{direction:"left",toRoom:"safari29"},position:{x:8,y:3,z:0},type:"door"},"moveableDeadly@4,3,1":{config:{style:"deadFish"},position:{x:4,y:3,z:1},type:"moveableDeadly"}},planet:"safari",size:{x:8,y:8},walls:{away:["wall","window","wall","shield","shield","wall","window","wall"],left:["wall","shield","wall","none","none","wall","window","wall"]}}),F2=x({color:{hue:"white",shade:"dimmed"},floor:"safari",id:"safari29",items:{"deadlyBlock@2,2,0":{config:{style:"volcano"},position:{x:2,y:2,z:0},type:"deadlyBlock"},"deadlyBlock@3,0,0":{config:{style:"volcano",times:{y:2}},position:{x:3,y:0,z:0},type:"deadlyBlock"},"door@0,3,0":{config:{direction:"right",toRoom:"safari28"},position:{x:0,y:3,z:0},type:"door"},"door@8,3,0":{config:{direction:"left",toRoom:"safari30"},position:{x:8,y:3,z:0},type:"door"},"monster@7,7,0":{config:{activated:!0,movement:"towards-on-shortest-axis-xy4",startDirection:"towards",which:"cyberman"},position:{x:7,y:7,z:0},type:"monster"}},planet:"safari",size:{x:8,y:8},walls:{away:["wall","window","wall","shield","shield","wall","window","wall"],left:["wall","shield","wall","none","none","wall","window","wall"]}}),O2=x({color:{hue:"cyan",shade:"dimmed"},floor:"safari",id:"safari30",items:{"door@0,0,0":{config:{direction:"towards",toRoom:"safari17fish"},position:{x:0,y:0,z:0},type:"door"},"door@0,3,5":{config:{direction:"right",toRoom:"safari29"},position:{x:0,y:3,z:5},type:"door"}},planet:"safari",size:{x:2,y:8},walls:{away:["wall","wall"],left:["wall","window","wall","shield","shield","wall","window","wall"]}}),N2=x({color:{hue:"green",shade:"basic"},floor:"deadly",id:"safari31",items:{"block@0,3,0":{config:{style:"organic",times:{y:4}},position:{x:0,y:3,z:0},type:"block"},"block@1,5,0":{config:{style:"organic",times:{y:3}},position:{x:1,y:5,z:0},type:"block"},"block@2,6,0":{config:{style:"organic"},position:{x:2,y:6,z:0},type:"block"},"block@7,3,1":{config:{style:"organic",times:{y:2}},position:{x:7,y:3,z:1},type:"block"},"charles@6,6,1":{config:{},position:{x:6,y:6,z:1},type:"charles"},"deadlyBlock@0,0,0":{config:{style:"volcano",times:{x:8}},position:{x:0,y:0,z:0},type:"deadlyBlock"},"deadlyBlock@6,1,0":{config:{style:"volcano",times:{y:6}},position:{x:6,y:1,z:0},type:"deadlyBlock"},"door@0,3,1":{config:{direction:"right",toRoom:"safari17fish"},position:{x:0,y:3,z:1},type:"door"},"door@8,3,5":{config:{direction:"left",toRoom:"safari32"},position:{x:8,y:3,z:5},type:"door"},"joystick@0,6,1":{config:{controls:["charles@6,6,1"]},position:{x:0,y:6,z:1},type:"joystick"},"joystick@1,5,1":{config:{controls:["charles@6,6,1"]},position:{x:1,y:5,z:1},type:"joystick"},"joystick@1,7,1":{config:{controls:["charles@6,6,1"]},position:{x:1,y:7,z:1},type:"joystick"},"joystick@2,6,1":{config:{controls:["charles@6,6,1"]},position:{x:2,y:6,z:1},type:"joystick"},"portableBlock@4,0,1":{config:{style:"drum"},position:{x:4,y:0,z:1},type:"portableBlock"}},planet:"safari",size:{x:8,y:8},walls:{away:["wall","window","wall","shield","shield","wall","window","wall"],left:["wall","shield","wall","none","none","wall","window","wall"]}}),L2=x({color:{hue:"magenta",shade:"basic"},floor:"safari",id:"safari32",items:{"door@0,0,0":{config:{direction:"right",toRoom:"safari31"},position:{x:0,y:0,z:0},type:"door"},"door@8,0,0":{config:{direction:"left",toRoom:"safari33"},position:{x:8,y:0,z:0},type:"door"}},planet:"safari",size:{x:8,y:2},walls:{away:["wall","window","wall","shield","shield","wall","window","wall"],left:["none","none"]}}),H2=x({color:{hue:"cyan",shade:"dimmed"},floor:"safari",id:"safari33",items:{"block@7,3,0":{config:{style:"organic",times:{z:3}},position:{x:7,y:3,z:0},type:"block"},"door@0,3,0":{config:{direction:"right",toRoom:"safari32"},position:{x:0,y:3,z:0},type:"door"},"door@3,8,5":{config:{direction:"away",toRoom:"safari37crown"},position:{x:3,y:8,z:5},type:"door"},"door@8,3,5":{config:{direction:"left",toRoom:"safari34"},position:{x:8,y:3,z:5},type:"door"},"monster@4,4,0":{config:{activated:!0,movement:"patrol-randomly-xy4",which:"elephant"},position:{x:4,y:4,z:0},type:"monster"},"movableBlock@1,1,0":{config:{movement:"free",style:"stepStool"},position:{x:1,y:1,z:0},type:"movableBlock"}},planet:"safari",roomAbove:"safari36",size:{x:8,y:8},walls:{away:["wall","shield","wall","none","none","wall","window","wall"],left:["wall","shield","wall","none","none","wall","window","wall"]}}),G2=x({color:{hue:"yellow",shade:"dimmed"},floor:"safari",id:"safari34",items:{"block@4,0,3":{config:{style:"organic",times:{y:8}},position:{x:4,y:0,z:3},type:"block"},"deadlyBlock@4,0,0":{config:{style:"volcano",times:{y:8}},position:{x:4,y:0,z:0},type:"deadlyBlock"},"door@0,3,0":{config:{direction:"right",toRoom:"safari33"},position:{x:0,y:3,z:0},type:"door"},"lift@7,7,0":{config:{bottom:0,top:11},position:{x:7,y:7,z:0},type:"lift"},"portableBlock@1,0,0":{config:{style:"drum"},position:{x:1,y:0,z:0},type:"portableBlock"},scroll:{config:{gives:"scroll",page:"teleportBack"},position:{x:3,y:6,z:0},type:"pickup"},"teleporter@3,3,0":{config:{toPosition:{x:2,y:3,z:0},toRoom:"safari1"},position:{x:3,y:3,z:0},type:"teleporter"},"teleporter@3,4,0":{config:{toPosition:{x:2,y:4,z:0},toRoom:"safari1"},position:{x:3,y:4,z:0},type:"teleporter"}},planet:"safari",roomAbove:"safari35",size:{x:8,y:8},walls:{away:["wall","window","wall","shield","shield","wall","window","wall"],left:["wall","window","wall","shield","shield","wall","window","wall"]}}),W2=x({color:{hue:"yellow",shade:"dimmed"},floor:"none",id:"safari35",items:{"block@0,3,0":{config:{style:"organic"},position:{x:0,y:3,z:0},type:"block"},"block@7,7,0":{config:{style:"organic"},position:{x:7,y:7,z:0},type:"block"},"door@0,3,1":{config:{direction:"right",toRoom:"safari36"},position:{x:0,y:3,z:1},type:"door"},"movableBlock@7,5,1":{config:{activated:"onStand",movement:"clockwise",startDirection:"right",style:"sandwich"},position:{x:7,y:5,z:1},type:"movableBlock"}},planet:"safari",roomBelow:"safari34",size:{x:8,y:8},walls:{away:["wall","window","wall","shield","shield","wall","window","wall"],left:["wall","window","wall","shield","shield","wall","window","wall"]}}),U2=x({color:{hue:"cyan",shade:"dimmed"},floor:"none",id:"safari36",items:{"block@4,3,0":{config:{style:"organic",times:{x:2}},position:{x:4,y:3,z:0},type:"block"},"block@4,4,0":{config:{disappearing:"onStand",style:"organic"},position:{x:4,y:4,z:0},type:"block"},"block@4,5,0":{config:{disappearing:"onStand",style:"organic"},position:{x:4,y:5,z:0},type:"block"},"block@4,6,0":{config:{style:"organic"},position:{x:4,y:6,z:0},type:"block"},"block@6,3,0":{config:{disappearing:"onStand",style:"organic"},position:{x:6,y:3,z:0},type:"block"},"block@7,3,0":{config:{style:"organic",times:{y:2}},position:{x:7,y:3,z:0},type:"block"},"deadlyBlock@4,3,1":{config:{style:"spikes"},position:{x:4,y:3,z:1},type:"deadlyBlock"},"door@8,3,2":{config:{direction:"left",toRoom:"safari35"},position:{x:8,y:3,z:2},type:"door"}},planet:"safari",roomBelow:"safari33",size:{x:8,y:8},walls:{away:["wall","window","wall","shield","shield","wall","window","wall"],left:["wall","shield","wall","none","none","wall","window","wall"]}}),V2=x({color:{hue:"white",shade:"basic"},floor:"safari",id:"safari37crown",items:{"block@0,2,0":{config:{style:"organic",times:{x:8}},position:{x:0,y:2,z:0},type:"block"},"block@0,4,0":{config:{style:"organic"},position:{x:0,y:4,z:0},type:"block"},"block@0,7,0":{config:{style:"artificial",times:{z:6}},position:{x:0,y:7,z:0},type:"block"},"block@1,4,0":{config:{disappearing:"onStand",style:"organic"},position:{x:1,y:4,z:0},type:"block"},"block@2,4,0":{config:{style:"organic",times:{x:6}},position:{x:2,y:4,z:0},type:"block"},"block@6,3,0":{config:{style:"tower",times:{z:3}},position:{x:6,y:3,z:0},type:"block"},"block@7,3,0":{config:{style:"organic"},position:{x:7,y:3,z:0},type:"block"},"door@3,0,0":{config:{direction:"towards",toRoom:"safari33"},position:{x:3,y:0,z:0},type:"door"},"monster@7,2,1":{config:{activated:!0,movement:"back-forth",startDirection:"right",style:"starsAndStripes",which:"skiHead"},position:{x:7,y:2,z:1},type:"monster"},"movableBlock@0,7,6":{config:{activated:!1,movement:"clockwise",startDirection:"right",style:"stepStool"},position:{x:0,y:7,z:6},type:"movableBlock"},"movableBlock@3,5,0":{config:{movement:"free",style:"stepStool"},position:{x:3,y:5,z:0},type:"movableBlock"},"pickup@0,7,7":{config:{gives:"crown",planet:"safari"},position:{x:0,y:7,z:7},type:"pickup"},"portableBlock@7,3,1":{config:{style:"drum"},position:{x:7,y:3,z:1},type:"portableBlock"}},planet:"safari",size:{x:8,y:8},walls:{away:["wall","window","wall","shield","shield","wall","window","wall"],left:["wall","window","wall","shield","shield","wall","window","wall"]}}),vp={rooms:{blacktooth1head:Lb,blacktooth2:Hb,blacktooth3:Gb,blacktooth4:Wb,blacktooth5:Ub,blacktooth6:Vb,blacktooth7:qb,blacktooth8fish:Yb,blacktooth9:Xb,blacktooth10:Kb,blacktooth11:Zb,blacktooth12:Qb,blacktooth13:Jb,blacktooth14:tw,blacktooth15:ew,blacktooth16:ow,blacktooth17triple:iw,blacktooth18:sw,blacktooth19:nw,blacktooth20:rw,blacktooth21fish:aw,blacktooth22:lw,blacktooth23heels:cw,blacktooth24:dw,blacktooth25:pw,blacktooth26:yw,blacktooth27fish:hw,blacktooth28:uw,blacktooth29:fw,blacktooth30:mw,blacktooth31:gw,blacktooth32:xw,blacktooth33:bw,blacktooth34:ww,blacktooth35:kw,blacktooth36:zw,blacktooth37:vw,blacktooth38:_w,blacktooth39:Bw,blacktooth40fish:Sw,blacktooth41:Aw,blacktooth42:Pw,blacktooth43:Rw,blacktooth44market:Cw,blacktooth45market:Mw,blacktooth46market:Ew,blacktooth47market:Iw,blacktooth48market:Tw,blacktooth49market:jw,blacktooth50market:Dw,blacktooth51:$w,blacktooth52market:Fw,blacktooth53market:Ow,blacktooth54:Nw,blacktooth55:Lw,blacktooth56:Hw,blacktooth57:Gw,blacktooth58triple:Ww,blacktooth59:Uw,blacktooth60:Vw,blacktooth61:qw,blacktooth62fish:Yw,blacktooth63:Xw,blacktooth64:Kw,blacktooth65:Zw,blacktooth66:Qw,blacktooth67:Jw,blacktooth68:tk,blacktooth69:ek,blacktooth70:ok,blacktooth71:ik,blacktooth72:sk,blacktooth73:nk,blacktooth74:rk,blacktooth75:ak,blacktooth76:lk,blacktooth77:ck,blacktooth78:dk,blacktooth79fish:pk,blacktooth80:yk,blacktooth81:hk,blacktooth82:uk,blacktooth83tofreedom:fk,blacktooth84:mk,blacktooth85:gk,blacktooth86:xk,blacktooth87crown:bk,bookworld1:wk,bookworld2:kk,bookworld3:zk,bookworld4:vk,bookworld5:_k,bookworld6:Bk,bookworld7:Sk,bookworld8:Ak,bookworld9:Pk,bookworld10:Rk,bookworld11:Ck,bookworld12fish:Mk,bookworld13:Ek,bookworld14:Ik,bookworld15:Tk,bookworld16:jk,bookworld17:Dk,bookworld18:$k,bookworld19:Fk,bookworld20:Ok,bookworld21:Nk,bookworld22:Lk,bookworld23:Hk,bookworld24:Gk,bookworld25:Wk,bookworld26:Uk,bookworld27:Vk,bookworld28:qk,bookworld29:Yk,bookworld30:Xk,bookworld31:Kk,bookworld32:Zk,bookworld33:Qk,bookworld34:Jk,bookworld35:t1,bookworld36:e1,bookworld37:o1,bookworld38:i1,bookworld39:s1,bookworld40:n1,bookworld41crown:r1,egyptus1:a1,egyptus2:l1,egyptus3:c1,egyptus4:d1,egyptus5:p1,egyptus6:y1,egyptus7:h1,egyptus8:u1,egyptus9fish:f1,egyptus10:m1,egyptus11:g1,egyptus12:x1,egyptus13:b1,egyptus14:w1,egyptus15:k1,egyptus16:z1,egyptus17:v1,egyptus18:_1,egyptus19:B1,egyptus20:S1,egyptus21:A1,egyptus22:P1,egyptus23:R1,egyptus24:C1,egyptus25:M1,egyptus26:E1,egyptus27:I1,egyptus28:T1,egyptus29:j1,egyptus30:D1,egyptus31:$1,egyptus32:F1,egyptus33:O1,egyptus34fish:N1,egyptus35:L1,egyptus36:H1,egyptus37:G1,egyptus38:W1,egyptus39crown:U1,finalroom:V1,moonbase1:q1,moonbase2:Y1,moonbase3:X1,moonbase4:K1,moonbase5:Z1,moonbase6:Q1,moonbase7:J1,moonbase8:tz,moonbase9:ez,moonbase10:oz,moonbase11:iz,moonbase12:sz,moonbase13:nz,moonbase14:rz,moonbase15:az,moonbase16:lz,moonbase17:cz,moonbase18:dz,moonbase19:pz,moonbase20:yz,moonbase21tosafari:hz,moonbase22topenitentiary:uz,moonbase23:fz,moonbase24toegyptus:mz,moonbase25tobookworld:gz,moonbase26:xz,moonbase27:bz,moonbase28:wz,moonbase29:kz,moonbase30:zz,moonbase31:vz,moonbase32:_z,moonbase33triple:Bz,moonbase34:Sz,moonbase35:Az,moonbase36:Pz,penitentiary1:Rz,penitentiary2:Cz,penitentiary3:Mz,penitentiary4:Ez,penitentiary5:Iz,penitentiary6:Tz,penitentiary7:jz,penitentiary8:Dz,penitentiary9:$z,penitentiary10:Fz,penitentiary11:Oz,penitentiary12:Nz,penitentiary13:Lz,penitentiary14:Hz,penitentiary15:Gz,penitentiary16:Wz,penitentiary17:Uz,penitentiary18fish:Vz,penitentiary19:qz,penitentiary20:Yz,penitentiary21:Xz,penitentiary22:Kz,penitentiary23:Zz,penitentiary24:Qz,penitentiary25:Jz,penitentiary26:t2,penitentiary27:e2,penitentiary28:o2,penitentiary29:i2,penitentiary30:s2,penitentiary31:n2,penitentiary32:r2,penitentiary33:a2,penitentiary34crown:l2,penitentiary35:c2,safari1:d2,safari2:p2,safari3:y2,safari4:h2,safari5:u2,safari6triple:f2,safari7:m2,safari8:g2,safari9:x2,safari10:b2,safari11:w2,safari12:k2,safari13:z2,safari14:v2,safari15:_2,safari16:B2,safari17fish:S2,safari18:A2,safari19triple:P2,safari20:R2,safari21:C2,safari22:M2,safari23:E2,safari24:I2,safari25:T2,safari26:j2,safari27:D2,safari28:$2,safari29:F2,safari30:O2,safari31:N2,safari32:L2,safari33:H2,safari34:G2,safari35:W2,safari36:U2,safari37crown:V2}},q2=Object.freeze(Object.defineProperty({__proto__:null,campaign:vp},Symbol.toStringTag,{value:"Module"})),oc=(e,t)=>e*160+t*1e4,Y2=()=>{const e=lt(Xg),t=lt(r=>Sn(Ye(Md(r.roomsExplored)))),o=oc(t,e),i=Sn(Hm(vp.rooms)),s=oc(i,5),n=o<8e3?"dummy":o<2e4?"novice":o<3e4?"spy":o<55e3?"master-spy":o<84e3?"hero":o<s?"liberator":"completionist";return u.jsxs(ee,{children:[u.jsx(pe,{className:"bg-metallicBlue zx:bg-zxCyan"}),u.jsxs(Yt,{className:"bg-metallicBlueHalfbrite zx:bg-zxRed w-zx h-full block",onClick:Y(ue),children:[u.jsx(xr,{noSubtitle:!0}),u.jsx(G,{classnameCycle:we,className:"mt-2 block text-center mx-auto sprites-double-height",children:n}),u.jsxs(G,{className:"mt-2 block text-center mx-auto text-highlightBeige zx:text-zxYellow",children:["Score ",o.toLocaleString()]}),u.jsxs(G,{className:"mt-2 block text-center mx-auto text-pink zx:text-zxCyan",children:["Explored ",t," / ",i," rooms"," ",`(${(100*t/i).toFixed(1)}%)`]}),u.jsxs(G,{className:"mt-2 block text-center mx-auto text-lightGrey zx:text-zxWhite",children:["Liberated ",e," planets"]}),u.jsx(fe,{className:"hidden",children:u.jsx(Ce,{})})]})]})},Ne="text-mossHalfbrite zx:text-zxGreen selectedMenuItem:text-moss zx:selectedMenuItem:text-zxGreen",X2=e=>{const t=/(Numpad|F)(.*)/.exec(e);if(t!==null)return u.jsxs(u.Fragment,{children:[u.jsx("span",{className:Ne,children:t[1]}),t[2]]});switch(e){case" ":return"space";case"ArrowDown":return u.jsxs(u.Fragment,{children:[u.jsx("span",{className:Ne,children:"Cursor"}),"⬇"]});case"ArrowUp":return u.jsxs(u.Fragment,{children:[u.jsx("span",{className:Ne,children:"Cursor"}),"⬆"]});case"ArrowLeft":return u.jsxs(u.Fragment,{children:[u.jsx("span",{className:Ne,children:"Cursor"}),"⬅"]});case"ArrowRight":return u.jsxs(u.Fragment,{children:[u.jsx("span",{className:Ne,children:"Cursor"}),"➡"]});default:return e}},K2=e=>e===0?"⬅➡":e===1?"⬆⬇":`axis${e}`,Z2=e=>{switch(vl[e]){case"dPadDown":return"d-Pad⬇";case"dPadUp":return"d-Pad⬆";case"dPadLeft":return"d-Pad⬅";case"dPadRight":return"d-Pad➡";case"a":return u.jsx("span",{className:"colourised:text-mossHalfbrite colourised:selectedMenuItem:text-moss zx:text-zxGreen",children:"a"});case"b":return u.jsx("span",{className:"colourised:text-midRedHalfbrite colourised:selectedMenuItem:text-midRed zx:text-zxRed",children:"b"});case"x":return u.jsx("span",{className:"colourised:text-metallicBlueHalfbrite colourised:selectedMenuItem:text-metallicBlue zx:text-zxBlue",children:"x"});case"y":return u.jsx("span",{className:"colourised:text-highlightBeigeHalfbrite colourised:selectedMenuItem:text-highlightBeige zx:text-zxYellow",children:"y"})}return vl[e]??e},wr=({action:e,keyClassName:t,className:o,flashingCursor:i=!1})=>{const s=lt(r=>r.assigningInput?.action===e?r.assigningInput?.presses:r.userSettings.inputAssignment.presses[e]),n=lt(r=>{const a=Wd(e);return a===void 0?hp:r.assigningInput?.action===e?r.assigningInput.axes:r.userSettings.inputAssignment.axes[a.axis]});return u.jsxs("div",{className:o,children:[s.keys.map(r=>u.jsx("span",{className:Rt("text-nowrap",t),children:u.jsx(Gt,{children:X2(r)})},`key:${r}`)),n.map(r=>u.jsx("span",{className:Rt("text-nowrap",t),children:u.jsxs(Gt,{children:[u.jsx("span",{className:Ne,children:"🕹"}),K2(r)]})},`gamePadAxis:${r}`)),s.gamepadButtons.map(r=>u.jsx("span",{className:Rt("text-nowrap",t),children:u.jsxs(Gt,{children:[u.jsx("span",{className:Ne,children:"🕹"}),Z2(r)]})},`gamePadButton:${r}`)),i&&u.jsx("span",{className:"sprite texture-hud.char.space bg-[currentColor] animate-flash"})]})},Q2=({action:e,className:t,keyClassName:o="text-pink zx:text-zxRed"})=>u.jsxs("div",{className:`${t} bg-zxBlack py-oneScaledPix`,children:[u.jsx(G,{className:"me-1",children:"Press"}),u.jsx(G,{className:Rt("me-1",o),children:e}),u.jsx(G,{children:"to continue"}),u.jsxs("div",{className:"flex flex-row gap-1 w-min mx-auto",children:[u.jsx(G,{children:"("}),u.jsx(wr,{className:"flex flex-row gap-1",keyClassName:o,action:"hold"}),u.jsx(G,{children:")"})]})]}),J2=()=>u.jsx(ee,{children:u.jsxs(Yt,{className:"!h-min !w-max text-center text-zxBlue p-0",children:[u.jsx(G,{className:"block w-min mx-auto px-1 sprites-double-height bg-zxBlack py-oneScaledPix",children:"hold"}),u.jsx("span",{className:"zx",children:u.jsx(Q2,{className:`${Wt} px-1`,action:"hold"})})]})}),oo=({className:e,value:t,onClick:o})=>u.jsx(G,{onClick:i=>o?.(i,!t),className:bp("inline-block w-min h-min",t?"bg-shadowHalfbrite text-moss zx:bg-zxBlack zx:text-zxGreen":"bg-redShadowHalfbrite text-midRed zx:bg-zxBlack zx:text-zxRed",e),noSlitWords:!0,children:t?"  ON":"OFF "}),zi="[&_.em]:text-lightBeige zx:[&_.em]:text-zxCyan",tv=`![](texture-animated-head.walking.towards?float-right)**off**: Original *two-tone* spectrum graphics

**on**: *16-colour* palette with colourised sprites`,ev=`pokes can’t be set mid-game

**off**: *8* lives to start; extra life rabbits spread thinly through the game

*A true hero leaves this* **off**`,ov=`**off**: *faithful* to the original rooms

**on**: *extra items* slightly modernisess the gameplay.
none of these fundamentally change how the rooms play.`,iv=`*zx spectrum* (**256**x**192**)

*Amiga*/*c64*/*Atari-ST* PAL (**320**x**256**)`,sv=()=>u.jsxs(ee,{children:[u.jsx(pe,{className:"bg-moss zx:bg-zxGreenDimmed",onClick:Y(ue)}),u.jsx(Yt,{className:"bg-pinkHalfbrite zx:bg-zxBlue pr-1",children:u.jsxs(ti.Provider,{children:[u.jsx(G,{className:"ml-3 text-moss zx:text-zxGreen sprites-double-height",children:"Modernisation options"}),u.jsxs(fe,{className:"text-lightGrey zx:text-zxWhite selectedMenuItem:text-white disabledMenuItem:text-midGrey zx:selectedMenuItem:text-zxGreen",children:[u.jsx(nt,{doubleHeightWhenFocussed:!0,id:"colourise",label:"Colourise",valueElement:u.jsx(oo,{value:lt(e=>e.userSettings.displaySettings.colourise)}),onSelect:Y(Se,"userSettings.displaySettings.colourise"),hint:u.jsx(Ae,{className:zi,markdown:tv})}),u.jsx(nt,{doubleHeightWhenFocussed:!0,id:"livesModel",label:"Infinite Lives poke",hint:u.jsx(Ae,{className:zi,markdown:ev}),valueElement:u.jsx(oo,{value:lt(e=>e.userSettings.infiniteLivesPoke)}),onSelect:Y(Se,"userSettings.infiniteLivesPoke"),disabled:Gi()}),u.jsx(nt,{doubleHeightWhenFocussed:!0,id:"extraItems",label:"Extra items",valueElement:u.jsx(oo,{value:!0}),hint:u.jsx(Ae,{className:zi,markdown:ov}),disabled:!0}),u.jsx(nt,{doubleHeightWhenFocussed:!0,id:"showFps",label:"Show FPS",valueElement:u.jsx(oo,{value:lt(qg)}),onSelect:Y(Se,"userSettings.showFps"),hint:"show frame rate (frames per second) in the top-left corner"}),u.jsx(nt,{doubleHeightWhenFocussed:!0,id:"crtFilter",label:"CRT TV effect",valueElement:u.jsx(oo,{value:lt(e=>e.userSettings.displaySettings.crtFilter)}),onSelect:Y(Se,"userSettings.displaySettings.crtFilter"),hint:"Subtle screen glow a bit like an old tv"}),u.jsx(nt,{doubleHeightWhenFocussed:!0,id:"emulatedResolution",label:"Emulated resolution",valueElement:u.jsx(G,{className:"mr-1",children:"specy"}),hint:u.jsx(Ae,{className:zi,markdown:iv}),disabled:!0}),u.jsx(po,{}),u.jsx(Ce,{})]}),u.jsx(br,{className:"text-moss zx:text-zxGreen"})]})})]}),ne=({className:e,action:t})=>{const o=lt(i=>i.assigningInput?.action===t);return u.jsx(wr,{className:Rt("flex flex-wrap gap-y-oneScaledPix gap-x-1",e),action:t,keyClassName:"text-pinkHalfbrite zx:text-zxRed selectedMenuItem:text-pink zx:selectedMenuItem:text-zxRed",flashingCursor:o})},ic="text-pink zx:text-zxCyan",nv=()=>{const e=lt(t=>t.assigningInput?.action);return e===void 0?null:u.jsxs("div",{className:`
        bg-metallicBlueHalfbrite text-white
        zx:bg-zxBlueDimmed zx:text-zxCyanDimmed

        ${Wt} inline-block absolute inset-x-0 bottom-0 h-min pt-1 px-1`,children:[u.jsx(G,{children:"Press "}),u.jsx(wr,{className:`inline ${ic}`,action:"menu_openOrExit",keyClassName:"me-1"}),u.jsx(G,{children:"when done selecting keys for "}),u.jsx(G,{className:ic,children:e})]})},Ht="sprite zx:sprite-revert-to-two-tone colourised:brightness-halfBrite selectedMenuItem:filter-none zx:selectedMenuItem:sprite-revert-zxYellow",rv="**world**: Control is relative to directions in the isometric world",av="**screen**: Control is relative to the screen. More intuitive if you find directions confusing in isometric games",lv=({className:e})=>u.jsxs("span",{children:[u.jsx(G,{className:Rt("text-nowrap me-1","text-pinkHalfbrite zx:text-zxRed selectedMenuItem:text-pink zx:selectedMenuItem:text-zxRed",e),children:Ii()?"screen":"world"}),u.jsx(G,{className:Rt("text-nowrap","text-moss zx:text-zxBlue selectedMenuItem:text-mossHalfbrite zx:selectedMenuItem:text-zxBlue",e),children:Ii()?"⬅ ➡ ⬆ ⬇":"↖ ↘ ↗ ↙"})]}),cv=()=>{const e=Ii();return u.jsx(nt,{id:"screenRelativeControl",label:"axes",leader:u.jsx("span",{className:`${Ht} ${e?"texture-heels.walking.towardsRight.2":"texture-heels.walking.right.2"}`}),valueElement:u.jsx(lv,{}),onSelect:Y(Se,"userSettings.screenRelativeControl"),hintInline:!0,hint:u.jsx(Ae,{className:"text-midGrey zx:text-zxBlack",markdown:e?av:rv})})},dv="**analog off**: true to the original with *4-way* movement",pv="**analog on**: move in *any* direction with analogue stick, or *8-way* with d-pad/keys",yv=()=>{const e=!Yd();Jt({action:"menu_openOrExit",handler:L.useCallback(()=>{Mt.dispatch($0())},[]),disabled:e}),jx({handler:L.useCallback((t,o)=>{o.currentActionPress("menu_openOrExit")==="released"&&qd(Mt.getState())&&Mt.dispatch(L0(t))},[]),disabled:e})},hv=({className:e})=>{const t=lt(Vg);return u.jsx(G,{className:Rt("text-nowrap","text-pinkHalfbrite zx:text-zxRed selectedMenuItem:text-pink zx:selectedMenuItem:text-zxRed",e),children:t??"custom"})},uv=()=>{yv();const e=Ii();return u.jsxs(ee,{children:[u.jsx(pe,{className:"bg-lightGrey zx:bg-zxRedDimmed",onClick:Y(ue)}),u.jsxs(Yt,{className:"bg-white zx:bg-zxWhite pr-0 !h-tallDialog !w-wideDialog max-w-widestDialog",children:[u.jsxs("div",{className:"overflow-y-scroll scrollbar  scrollbar-w-1 scrollbar-thumb-midGrey scrollbar-track-white zx:scrollbar-thumb-zxBlue zx:scrollbar-track-zxWhite ",children:[u.jsx(G,{className:"text-midRed zx:text-zxBlue sprites-double-height block mb-1",children:"control options"}),u.jsxs(fe,{className:"text-metallicBlueHalfbrite zx:text-zxBlue !gap-y-1 selectedMenuItem:text-metallicBlue zx:selectedMenuItem:text-zxGreen",children:[u.jsx(nt,{id:"analogueControl",label:u.jsx(G,{className:`inline-block w-6 ${Wt}`,children:"Analog/ 8-way control"}),leader:u.jsx("span",{className:`${Ht} texture-joystick`}),valueElement:u.jsx(oo,{value:lt(t=>t.userSettings.analogueControl)}),onSelect:Y(Se,"userSettings.analogueControl"),hintInline:!0,hint:u.jsx(Ae,{className:"text-midGrey zx:text-zxBlack",markdown:Sl()?pv:dv})}),Sl()&&u.jsx(cv,{}),u.jsx(G,{className:"text-midRed zx:text-zxBlue sprites-double-height mt-1 block col-span-3",children:"keys / buttons"}),u.jsx(nt,{id:"preset",label:u.jsx(G,{className:`inline-block w-6 ${Wt}`,children:"key/ button preset"}),valueElement:u.jsx(hv,{}),onSelect:Y(_e,"inputPreset")}),u.jsx(nt,{id:"left",label:`Left ${e?"⬅":"↖"}`,leader:u.jsx("span",{className:`${Ht} ${e?"texture-head.walking.towardsLeft.2 selectedMenuItem:texture-animated-head.walking.towardsLeft":"texture-head.walking.left.2 selectedMenuItem:texture-animated-head.walking.left"}`}),valueElement:u.jsx(ne,{action:"left"}),onSelect:Y(se,"left")}),u.jsx(nt,{id:"right",label:`Right ${e?"➡":"↘"}`,leader:u.jsx("span",{className:`${Ht} ${e?"texture-head.walking.awayRight.2 selectedMenuItem:texture-animated-head.walking.awayRight":"texture-head.walking.right.2 selectedMenuItem:texture-animated-head.walking.right"}`}),valueElement:u.jsx(ne,{action:"right"}),onSelect:Y(se,"right")}),u.jsx(nt,{id:"up",label:`Up ${e?"⬆":"↗"}`,leader:u.jsx("span",{className:`${Ht} ${e?"texture-head.walking.awayLeft.2 selectedMenuItem:texture-animated-head.walking.awayLeft":"texture-head.walking.away.2 selectedMenuItem:texture-animated-head.walking.away"}`}),valueElement:u.jsx(ne,{action:"away"}),onSelect:Y(se,"away")}),u.jsx(nt,{id:"down",label:`Down ${e?"⬇":"↙"}`,leader:u.jsx("span",{className:`${Ht} ${e?"texture-head.walking.towardsRight.2 selectedMenuItem:texture-animated-head.walking.towardsRight":"texture-head.walking.towards.2 selectedMenuItem:texture-animated-head.walking.towards"}`}),valueElement:u.jsx(ne,{action:"towards"}),onSelect:Y(se,"towards")}),u.jsxs("div",{className:`${Wt} col-span-3`,children:[u.jsx(G,{className:"text-midRed bg-pureBlack inline-block zx:text-zxRed zx:bg-zxYellow me-1",children:"Note:"}),u.jsx(G,{className:"text-midGrey zx:text-zxBlack",children:"some puzzles require you to jump and pick up simultaneously - assign a key for both jump and carry"})]}),u.jsx(nt,{id:"jump",label:"Jump",leader:u.jsx("span",{className:`${Ht} texture-spring.released selectedMenuItem:texture-spring.compressed`}),valueElement:u.jsx(ne,{action:"jump"}),onSelect:Y(se,"jump")}),u.jsx(nt,{id:"carry",label:"Carry",leader:u.jsx("span",{className:`${Ht} texture-bag`}),valueElement:u.jsx(ne,{action:"carry"}),onSelect:Y(se,"carry")}),u.jsx(nt,{id:"fire",label:u.jsx(G,{className:`inline-block w-6 ${Wt}`,children:"fire dough- nuts"}),leader:u.jsx("span",{className:`${Ht} texture-doughnuts`}),valueElement:u.jsx(ne,{action:"fire"}),onSelect:Y(se,"fire")}),u.jsx(nt,{id:"swop",label:"Swop",valueElement:u.jsx(ne,{action:"swop"}),onSelect:Y(se,"swop"),leader:u.jsxs("span",{className:`${Ht} texture-blank relative overflow-hidden`,children:[u.jsx("span",{className:`${Ht} texture-head.walking.towardsRight.2 selectedMenuItem:texture-animated-head.walking.towardsRight absolute right-[50%]`}),u.jsx("span",{className:`${Ht} texture-heels.walking.towardsRight.2 selectedMenuItem:texture-animated-heels.walking.towardsRight absolute left-[50%]`})]})}),u.jsx(nt,{id:"hold",label:"Pause",valueElement:u.jsx(ne,{action:"hold"}),onSelect:Y(se,"hold")}),u.jsx(nt,{id:"toggleColourisation",label:u.jsx(G,{className:`inline-block w-6 ${Wt}`,children:"toggle colour- isation"}),valueElement:u.jsx(ne,{action:"toggleColourisation"}),onSelect:Y(se,"toggleColourisation")}),u.jsx(Ce,{})]})]}),u.jsx(nv,{})]})]})},fv=({presetName:e})=>u.jsx(nt,{id:e,label:e,doubleHeightWhenFocussed:!0,hint:Jo[e].description,onSelect:Y(H0,e)},e),mv=()=>u.jsxs(ee,{children:[u.jsx(pe,{className:"bg-midGrey zx:bg-zxWhiteDimmed",onClick:Y(ue)}),u.jsx(Yt,{className:"bg-white",children:u.jsxs(ti.Provider,{children:[u.jsx(G,{className:"text-midRed zx:text-zxRed sprites-double-height ml-3",children:"Key presets"}),u.jsxs(fe,{className:"text-metallicBlue zx:text-zxBlue selectedMenuItem:text-moss zx:selectedMenuItem:text-zxMagenta",children:[Dd(Jo).map(e=>u.jsx(fv,{presetName:e},e)),u.jsx(po,{}),u.jsx(Ce,{})]}),u.jsx(br,{className:"text-midGrey zx:text-zxMagenta"})]})})]}),gv=()=>u.jsxs(ee,{children:[u.jsx(pe,{className:"bg-pureBlack zx:bg-zxBlack"}),u.jsx(Yt,{className:"bg-pureBlack w-zx h-full block p-0",onClick:Y(ue),children:u.jsxs("div",{className:"flex flex-col gap-3 items-center",children:[u.jsxs("div",{className:"flex gap-7",children:[u.jsxs("div",{className:"flex flex-col gap-y-oneScaledPix items-center me-1",children:[u.jsx("span",{className:"sprite texture-crown.blacktooth zx:sprite-revert-zxYellow"}),u.jsx("span",{className:"sprite zx:sprite-revert-zxYellow texture-animated-head.idle.right hover:texture-animated-head.walking.right relative z-topSprite"})]}),u.jsxs("div",{className:"flex flex-col items-center me-1",children:[u.jsx("span",{className:"sprite texture-crown.blacktooth zx:sprite-revert-zxYellow"}),u.jsx("span",{className:"sprite zx:sprite-revert-zxYellow texture-heels.walking.towards.2 hover:texture-animated-heels.walking.towards relative z-topSprite"})]})]}),u.jsxs("div",{className:"flex flex-col gap-1 items-center text-lightGrey zx:text-zxCyan",children:[u.jsx(G,{children:"The people salute your heroism"}),u.jsx(G,{children:"and proclaim you"})]}),u.jsx(G,{className:"text-highlightBeige sprites-double-height",classnameCycle:["text-pink zx:text-zxMagenta","text-metallicBlue zx:text-zxCyan","text-highlightBeige zx:text-zxYellow"],children:"EMPEROR"}),u.jsx(fe,{className:"hidden",children:u.jsx(Ce,{})})]})})]}),xv=e=>e.startsWith("markdown/"),bv=e=>{const t=lt(o=>o.openMenus.at(0)?.menuId);if(t===void 0)return null;if(xv(t))return u.jsx(Ib,{pageName:t.slice(9)});switch(t){case"mainMenu":return u.jsx(Ob,{});case"quitGameConfirm":return u.jsx(Nb,{});case"readTheManual":return u.jsx(Sb,{});case"crowns":return u.jsx(Db,{});case"gameOver":return u.jsx(Y2,{});case"hold":return u.jsx(J2,{});case"modernisationOptions":return u.jsx(sv,{});case"selectKeys":return u.jsx(uv,{});case"inputPreset":return u.jsx(mv,{});case"proclaimEmperor":return u.jsx(gv,{});default:return u.jsx(Yt,{children:u.jsx(G,{children:`unknown dialog ${t}`})})}},wv=Xo(()=>qe(()=>import("./Cheats-BXCQhw5C.js"),__vite__mapDeps([6,4,5,7]))),kv=Xo(()=>qe(()=>import("./gameMain-C2yweqwd.js").then(e=>e.g),__vite__mapDeps([8,7,4,5,2]))),zv=Xo(()=>qe(()=>Promise.resolve().then(()=>q2),void 0)),vv=Xo(()=>qe(()=>import("./testCampaign-DIuz24we.js"),__vite__mapDeps([9,4,5]))),_v=Xo(()=>qe(()=>Promise.resolve().then(()=>dg),void 0)),Bv=L.lazy(wv),Sv=()=>{const[e,t]=L.useState(),o=Gi(),i=mr(),s=Vd();return L.useEffect(()=>{if(!o){t(void 0);return}let n=!1,r;return(async()=>{const[l,c,d,p]=await Promise.all([_v(),kv(),zv(),s?vv():void 0]);await l.load();const h=s?{rooms:{...d.campaign.rooms,...p?.testCampaign.rooms}}:d.campaign;r=await c.default(h,i),n?r.stop():t(r)})(),()=>{r?.stop(),n=!0}},[s,o,i]),e},Av=()=>{L.useEffect(()=>{document.body.classList.add("overscroll-none","overflow-hidden")},[])},Pv=()=>{const[e,t]=L.useState(null),o=Vd(),i=Sv(),{cssUpscale:s,canvasSize:n}=lt(r=>r.upscale);return Av(),L.useEffect(()=>{e===null||i===void 0||i.renderIn(e)},[i,e]),L.useEffect(()=>{i?.resizeTo(n)},[n,i]),u.jsxs(u.Fragment,{children:[u.jsx("div",{style:{transform:`scale3d(${s}, ${s}, 1)`,width:n.x,height:n.y},className:"origin-top-left",ref:t}),u.jsx(Fx,{}),u.jsxs(Kg,{gameApi:i,children:[u.jsx(bv,{}),i&&o&&u.jsx(L.Suspense,{fallback:null,children:u.jsx(Bv,{})})]})]})},Rv=()=>{const e=lt(t=>!t.userSettings.displaySettings.colourise);return L.useEffect(()=>{document.body.classList.toggle("zx",e),document.body.classList.toggle("colourised",!e)},[e]),u.jsxs(Pn,{children:[u.jsx(Rr,{path:"/",children:u.jsx(Tx,{children:u.jsx(Pv,{})})}),u.jsx(Rr,{path:"/sprites",children:u.jsx(Pn,{children:u.jsx(pg,{})})})]})},Cv=()=>u.jsx(Pg,{store:Mt,children:u.jsx(Rv,{})}),h3=Object.freeze(Object.defineProperty({__proto__:null,App:Cv},Symbol.toStringTag,{value:"Module"}));export{Hv as $,Qo as A,Ct as B,Et as C,xt as D,U as E,Ed as F,Fe as G,Fv as H,$v as I,up as J,jv as K,Io as L,it as M,dm as N,be as O,At as P,lm as Q,xn as R,Ch as S,ce as T,Ci as U,Ly as V,am as W,Mt as X,c3 as Y,rm as Z,Ye as _,Zv as a,cm as a$,Md as a0,Qv as a1,Ge as a2,ym as a3,pm as a4,a3 as a5,vx as a6,cy as a7,Ni as a8,Uc as a9,Rp as aA,Pn as aB,lt as aC,Gd as aD,oo as aE,s3 as aF,n3 as aG,$t as aH,Uo as aI,_a as aJ,Zo as aK,or as aL,We as aM,l3 as aN,Kv as aO,hp as aP,He as aQ,F as aR,qg as aS,d3 as aT,Sd as aU,io as aV,Ov as aW,Uv as aX,Tv as aY,t3 as aZ,Dv as a_,hu as aa,ke as ab,zc as ac,$y as ad,de as ae,Gr as af,Lo as ag,lh as ah,gt as ai,mt as aj,Ur as ak,qr as al,Ny as am,ls as an,vt as ao,Bc as ap,Dh as aq,eu as ar,iu as as,lu as at,du as au,pu as av,zp as aw,e3 as ax,y3 as ay,bp as az,Xv as b,qv as b0,Ko as b1,nm as b2,sm as b3,o3 as b4,r3 as b5,jd as b6,Se as b7,F0 as b8,Nv as b9,h3 as bA,Lv as ba,Wv as bb,No as bc,Vv as bd,Zm as be,$n as bf,p3 as bg,Gv as bh,j0 as bi,le as bj,Om as bk,Jv as bl,ly as bm,ao as bn,tf as bo,ld as bp,oa as bq,ta as br,Aa as bs,af as bt,yt as bu,dy as bv,_n as bw,Ba as bx,Ri as by,pd as bz,ye as c,ft as d,Vt as e,ea as f,Ah as g,Go as h,Bi as i,Wn as j,jc as k,he as l,Xc as m,va as n,tu as o,ou as p,ru as q,vy as r,Td as s,Qc as t,cu as u,St as v,ut as w,Un as x,tt as y,Yv as z};
