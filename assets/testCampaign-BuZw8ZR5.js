import{i as z,w as k,p as b,t as v,s as a,z as l,a as m}from"./App-DlP92f5R.js";import{c as u}from"./consolidateItems-Dv2mepAH.js";import"./index-lntGmhh3.js";const f=o=>Object.fromEntries(o.map(n=>[w(n,o),n])),w=(o,n)=>o.id?o.id:(s=>s.type==="wall"&&n.some(e=>e!==o&&e.type==="wall"&&e.position.x===o.position.x&&e.position.y===o.position.y&&e.position.z===o.position.z))(o)?`${o.type}(${o.config.direction})@${o.position.x},${o.position.y},${o.position.z}`:`${o.type}@${o.position.x},${o.position.y},${o.position.z}`,h=(o,n)=>{const c=k[o];return c[n%c.length]},d=o=>{const n=[],c=(i,t)=>{const p=v(t),x=b(p);return z(o).some(g=>g.type==="door"&&g.config.direction===t&&(g.position[x]===i[x]||g.position[x]+1===i[x])&&g.position[p]===i[p])},s=z(o).find(i=>i.type==="floor");if(s===void 0)throw new Error("No floor found in room to add perimeter walls to");const e=s.config.times;for(let i=0;i<e.x;i++)for(const t of[0,e.y]){const p=t===0?"towards":"away";c({x:i,y:t},p)||n.push({type:"wall",config:{direction:p,tiles:t===0?[]:[h(o.planet,i)]},position:{x:i,y:t,z:0}})}for(let i=0;i<e.y;i++)for(const t of[0,e.x]){const p=t===0?"right":"left";c({x:t,y:i},p)||n.push({type:"wall",config:{direction:p,tiles:t===0?[]:[h(o.planet,i)]},position:{x:t,y:i,z:0}})}const r=u(f(n)),y=structuredClone(o);return y.items={...y.items,...r},y},B=()=>{const o=[{type:"deadlyBlock",config:{style:"volcano"},position:{x:6,y:6,z:0}},{type:"block",config:{style:"organic"},position:{x:4,y:6,z:0}},{type:"block",config:{style:"book"},position:{x:4,y:6,z:0}},{type:"monster",config:{which:"cyberman",movement:"towards-on-shortest-axis-xy4",activated:"off",startDirection:"away"},position:{x:6,y:0,z:0}}],n={x:8,y:8};function*c(){for(let s=0;s<a.length;s++){const e=a[s];for(let r=0;r<l.length;r++){const y=l[r];for(let i=0;i<m.length;i++){const t=m[i];yield[`${e}-${y}-${t}`,d({color:{hue:y,shade:t},planet:e,items:f([{type:"floor",config:{floorType:"standable",scenery:e,times:{x:n.x,y:n.y}},position:{x:0,y:0,z:0}},{type:"teleporter",position:{x:2,y:2,z:0},config:{toRoom:"laboratory",toPosition:{x:2,y:2,z:0}}},{type:"door",position:{x:0,y:0,z:3},config:{direction:"towards",toRoom:`${e}-${l[(l.length+r-1)%l.length]}-${t}`}},{type:"door",position:{x:4,y:8,z:3},config:{direction:"away",toRoom:`${e}-${l[(r+1)%l.length]}-${t}`}},{type:"door",position:{x:0,y:4,z:3},config:{direction:"right",toRoom:`${a[(a.length+s-1)%a.length]}-${y}-${t}`}},{type:"door",position:{x:8,y:4,z:4},config:{direction:"left",toRoom:`${a[(a.length+s+1)%a.length]}-${y}-${t}`}},{type:"door",position:{x:8,y:1,z:0},config:{direction:"left",toRoom:`${e}-${y}-${t==="basic"?"dimmed":"basic"}`}},...o]),id:`${e}-${y}-${t}`})]}}}}return Object.fromEntries(c())},$={lift:d({planet:"safari",color:{hue:"yellow",shade:"dimmed"},id:"lift",items:f([{type:"floor",config:{floorType:"standable",scenery:"safari",times:{x:4,y:4}},position:{x:0,y:0,z:0}},{type:"door",config:{toRoom:"laboratory",direction:"towards"},position:{x:0,y:0,z:1}}])}),laboratory:d({planet:"egyptus",color:{hue:"yellow",shade:"dimmed"},id:"laboratory",items:f([{type:"floor",config:{floorType:"standable",scenery:"bookworld",times:{x:18,y:14}},position:{x:0,y:0,z:0}},{type:"teleporter",config:{toRoom:"blacktooth-cyan-dimmed",toPosition:{x:1,y:0,z:0}},position:{x:1,y:0,z:0}},{type:"emitter",config:{emits:{type:"monster",config:{which:"dalek",activated:"on",movement:"patrol-randomly-diagonal"}},period:1e3,maximum:5},position:{x:17,y:0,z:7}},{type:"door",config:{toRoom:"renderEverything",direction:"towards"},position:{x:5,y:0,z:2}},{type:"door",config:{toRoom:"lift",direction:"away"},position:{x:5,y:14,z:2}},{type:"block",config:{style:"organic"},position:{x:5,y:0,z:0}},{type:"portableBlock",position:{x:0,y:0,z:7},config:{style:"cube"}},{type:"portableBlock",position:{x:0,y:0,z:2},config:{style:"cube"}},{type:"conveyor",position:{x:0,y:0,z:0},config:{direction:"away",times:{y:2}}},{type:"pushableBlock",config:{},position:{x:10,y:7,z:0}},{type:"pushableBlock",config:{},position:{x:10,y:7,z:1}},{type:"pushableBlock",config:{},position:{x:10,y:7,z:2}},{type:"pushableBlock",config:{},position:{x:10,y:7,z:3}},{type:"pushableBlock",config:{},position:{x:10,y:7,z:4}},{type:"pushableBlock",config:{},position:{x:10,y:7,z:5}},{type:"barrier",config:{axis:"x"},position:{x:10,y:6,z:0}},{type:"barrier",config:{axis:"x",disappearing:{on:"touch"}},position:{x:10,y:6,z:1}},{type:"barrier",config:{axis:"x"},position:{x:10,y:8,z:0}},{type:"barrier",config:{axis:"x",disappearing:{on:"touch"}},position:{x:10,y:8,z:1}},{type:"lift",config:{bottom:0,top:11},position:{x:0,y:4,z:3}},{type:"monster",config:{which:"skiHead",movement:"back-forth",activated:"on",startDirection:"left",style:"starsAndStripes"},position:{x:0,y:4,z:1}},{type:"block",config:{disappearing:{on:"stand"},style:"organic"},position:{x:0,y:4,z:0}},{type:"pickup",config:{gives:"doughnuts"},position:{x:0,y:4,z:9}},{type:"lift",config:{bottom:0,top:11},position:{x:1,y:4,z:2}},{type:"pickup",config:{gives:"hooter"},position:{x:1,y:4,z:9}},{type:"lift",config:{bottom:0,top:11},position:{x:2,y:4,z:1}},{type:"lift",config:{bottom:0,top:11},position:{x:3,y:4,z:0}},{type:"block",config:{style:"organic"},position:{x:3,y:5,z:8}},{type:"block",config:{style:"organic"},position:{x:3,y:3,z:8}},{type:"charles",id:"ch1",config:{},position:{x:3,y:3,z:9}},{type:"charles",id:"ch2",config:{},position:{x:3,y:5,z:9}},{type:"pickup",config:{gives:"crown",planet:"penitentiary"},position:{x:3,y:5,z:11}},{type:"joystick",config:{controls:["ch2"]},position:{x:5,y:3,z:0}},{type:"block",config:{style:"artificial"},position:{x:4,y:3,z:0}},{type:"monster",config:{which:"skiHead",movement:"back-forth",startDirection:"away",style:"greenAndPink",activated:"on"},position:{x:4,y:2,z:0}},{type:"monster",config:{which:"skiHead",movement:"back-forth",startDirection:"away",style:"greenAndPink",activated:"on"},position:{x:4,y:0,z:0}},{type:"joystick",config:{controls:["ch1"]},position:{x:4,y:1,z:0}},{type:"conveyor",config:{direction:"away",times:{y:3}},position:{x:3,y:6,z:0}},{type:"conveyor",config:{direction:"left",times:{x:3}},position:{x:3,y:9,z:0}},{type:"conveyor",config:{direction:"towards",times:{y:3}},position:{x:6,y:7,z:0}},{type:"conveyor",config:{direction:"right",times:{x:3}},position:{x:4,y:6,z:0}},{type:"conveyor",config:{direction:"right"},position:{x:4,y:6,z:5}},{type:"monster",config:{which:"cyberman",movement:"towards-on-shortest-axis-xy4",activated:"on",startDirection:"away"},position:{x:4,y:8,z:5}},{type:"pickup",config:{gives:"extra-life"},position:{x:4,y:6,z:9}},{type:"pickup",config:{gives:"bag"},position:{x:4,y:6,z:10}},{type:"pickup",config:{gives:"reincarnation"},position:{x:4,y:6,z:13}},{type:"pickup",config:{gives:"crown",planet:"egyptus"},position:{x:4,y:6,z:1}},{type:"portableBlock",config:{style:"drum"},position:{x:4,y:6,z:2}},{type:"portableBlock",config:{style:"cube"},position:{x:5,y:6,z:10}},{type:"block",config:{style:"organic"},position:{x:6,y:6,z:2}},{type:"block",config:{style:"organic"},position:{x:8,y:0,z:0}},{type:"block",config:{style:"organic",disappearing:{on:"stand"}},position:{x:9,y:0,z:0}},{type:"block",config:{style:"organic",disappearing:{on:"stand"}},position:{x:9,y:0,z:1}},{type:"block",config:{style:"organic",disappearing:{on:"stand"}},position:{x:9,y:0,z:3}},{type:"block",config:{style:"organic",disappearing:{on:"stand"}},position:{x:10,y:0,z:0}},{type:"block",config:{style:"organic",disappearing:{on:"stand"}},position:{x:11,y:0,z:0}},{type:"monster",config:{which:"skiHead",movement:"back-forth",startDirection:"right",style:"starsAndStripes",activated:"on"},position:{x:1,y:7,z:0}},{type:"monster",config:{which:"skiHead",movement:"back-forth",startDirection:"right",style:"greenAndPink",activated:"on"},position:{x:2,y:8,z:0}},{type:"monster",config:{which:"skiHead",movement:"back-forth",startDirection:"away",style:"starsAndStripes",activated:"on"},position:{x:1,y:8,z:0}},{type:"pushableBlock",config:{},position:{x:2,y:6,z:0}},{type:"pushableBlock",config:{},position:{x:2,y:9,z:0}},{type:"pushableBlock",config:{},position:{x:1,y:6,z:0}},{type:"pushableBlock",config:{},position:{x:1,y:6,z:1}},{type:"pushableBlock",config:{},position:{x:1,y:6,z:2}},{type:"pushableBlock",config:{},position:{x:2,y:6,z:1}},{type:"pushableBlock",config:{},position:{x:2,y:6,z:2}},{type:"portableBlock",config:{style:"cube"},position:{x:13,y:1,z:0}},{type:"portableBlock",config:{style:"cube"},position:{x:13,y:1,z:1}},{type:"portableBlock",config:{style:"cube"},position:{x:13,y:1,z:2}},{type:"spring",config:{},position:{x:13,y:0,z:0}},{type:"spring",config:{},position:{x:14,y:0,z:0}},{type:"portableBlock",config:{style:"sticks"},position:{x:13,y:2,z:0}},{type:"portableBlock",config:{style:"drum"},position:{x:13,y:3,z:0}},{type:"pickup",config:{gives:"bag"},position:{x:12,y:0,z:0}},{type:"portableBlock",config:{style:"cube"},position:{x:13,y:4,z:0}},{type:"block",config:{style:"tower",times:{z:2}},position:{x:14,y:3,z:0}},{type:"portableBlock",config:{style:"drum"},position:{x:13.5,y:3,z:2}},{type:"block",config:{style:"tower"},position:{x:13,y:5,z:0}},{type:"lift",config:{top:2,bottom:1},position:{x:13,y:6,z:1}},{type:"block",config:{style:"tower"},position:{x:13,y:7,z:0}},{type:"block",config:{style:"tower"},position:{x:13,y:5,z:1}},{type:"block",config:{style:"organic"},position:{x:13,y:5,z:2}},{type:"block",config:{style:"organic"},position:{x:13,y:4,z:2}},{type:"block",config:{style:"organic"},position:{x:13,y:4,z:3}},{type:"block",config:{style:"organic"},position:{x:13,y:3,z:3}},{type:"portableBlock",config:{style:"cube"},position:{x:13,y:3,z:4}},{type:"ball",config:{},position:{x:7,y:4,z:0}},{type:"ball",config:{},position:{x:7,y:2,z:0}},{type:"ball",config:{},position:{x:9,y:4,z:0}},{type:"ball",config:{},position:{x:10,y:4,z:0}},{type:"monster",id:"t2",config:{which:"turtle",movement:"clockwise",startDirection:"left",activated:"on"},position:{x:12,y:12,z:0}},{type:"monster",id:"t1",config:{which:"turtle",movement:"clockwise",startDirection:"towards",activated:"on"},position:{x:16,y:13,z:1}},{type:"switch",config:{type:"in-room",initialSetting:"left",modifies:[{expectType:"monster",targets:["t1"],leftState:{activated:!1},rightState:{activated:!0,everActivated:!0}}]},position:{x:17,y:12,z:0}},{type:"block",config:{style:"artificial"},position:{x:15.5,y:8,z:0}},{type:"block",config:{style:"artificial"},position:{x:15,y:9,z:.5}},{type:"block",config:{style:"artificial"},position:{x:16,y:8.5,z:1}},{type:"pickup",config:{gives:"shield"},position:{x:17,y:1,z:0}},{type:"pickup",config:{gives:"shield"},position:{x:17,y:1,z:1}},{type:"pickup",config:{gives:"shield"},position:{x:17,y:1,z:2}},{type:"pickup",config:{gives:"shield"},position:{x:16,y:1,z:0}},{type:"pickup",config:{gives:"shield"},position:{x:16,y:1,z:1}},{type:"pickup",config:{gives:"shield"},position:{x:15,y:1,z:0}},{type:"deadlyBlock",config:{style:"volcano",times:{y:4}},position:{x:17,y:2,z:0}},{type:"deadlyBlock",config:{style:"volcano",times:{y:3}},position:{x:17,y:3,z:1}},{type:"deadlyBlock",config:{style:"volcano",times:{y:2}},position:{x:17,y:4,z:2}},{type:"deadlyBlock",config:{style:"volcano"},position:{x:17,y:5,z:3}},{type:"portableBlock",config:{style:"cube"},position:{x:5,y:13,z:0}},{type:"portableBlock",config:{style:"cube"},position:{x:4,y:13,z:0}},{type:"portableBlock",config:{style:"cube"},position:{x:3,y:13,z:0}}])}),renderEverything:d({id:"renderEverything",items:f([{type:"floor",config:{floorType:"standable",scenery:"bookworld",times:{x:18,y:18}},position:{x:0,y:0,z:0}},{type:"door",config:{toRoom:"laboratory",direction:"away"},position:{x:1,y:11,z:4}},{type:"block",config:{style:"organic"},position:{x:1,y:10,z:3}},{type:"block",config:{style:"organic"},position:{x:0,y:10,z:3}},{type:"block",config:{style:"organic"},position:{x:2,y:10,z:3}},{type:"pickup",config:{gives:"crown",planet:"egyptus"},position:{x:0,y:10,z:8}},{type:"pickup",config:{gives:"crown",planet:"bookworld"},position:{x:0,y:10,z:10}},{type:"pickup",config:{gives:"crown",planet:"penitentiary"},position:{x:0,y:10,z:12}},{type:"pickup",config:{gives:"crown",planet:"safari"},position:{x:0,y:10,z:6}},{type:"monster",config:{which:"dalek",activated:"on",movement:"patrol-randomly-diagonal"},position:{x:1,y:1,z:0}},{type:"monster",config:{which:"bubbleRobot",activated:"on",movement:"patrol-randomly-xy8"},position:{x:1,y:10,z:0}},{type:"monster",config:{which:"skiHead",activated:"on",movement:"back-forth",style:"greenAndPink",startDirection:"away"},position:{x:1,y:3,z:0}},{type:"monster",config:{which:"skiHead",activated:"on",movement:"back-forth",style:"starsAndStripes",startDirection:"right"},position:{x:1,y:5,z:0}},{type:"monster",config:{which:"skiHead",activated:"on",movement:"back-forth",style:"greenAndPink",startDirection:"left"},position:{x:3,y:5,z:0}},{type:"monster",config:{which:"skiHead",activated:"on",movement:"back-forth",style:"starsAndStripes",startDirection:"towards"},position:{x:3,y:7,z:0}},{type:"monster",config:{which:"cyberman",activated:"on",movement:"towards-on-shortest-axis-xy4",startDirection:"towards"},position:{x:6,y:7,z:0}},{type:"deadlyBlock",config:{style:"toaster"},position:{x:4,y:10,z:0}},{type:"spikes",config:{},position:{x:2,y:10,z:0}},{type:"monster",config:{which:"cyberman",activated:"off",movement:"towards-on-shortest-axis-xy4",startDirection:"towards"},position:{x:4,y:10,z:1}},{type:"monster",config:{which:"turtle",activated:"on",movement:"clockwise",startDirection:"away"},position:{x:0,y:8,z:0}},{type:"monster",config:{which:"turtle",activated:"on",movement:"clockwise",startDirection:"towards"},position:{x:0,y:6,z:0}},{type:"monster",config:{which:"turtle",activated:"on",movement:"clockwise",startDirection:"left"},position:{x:0,y:4,z:0}},{type:"monster",config:{which:"helicopterBug",activated:"on",movement:"patrol-randomly-xy8"},position:{x:0,y:1,z:0}},{type:"monster",config:{which:"homingBot",activated:"on",movement:"towards-tripped-on-axis-xy4"},position:{x:10,y:4,z:0}},{type:"monster",config:{which:"monkey",activated:"on",movement:"patrol-randomly-xy4"},position:{x:9,y:2,z:0}},{type:"monster",config:{which:"elephant",activated:"on",movement:"patrol-randomly-xy4"},position:{x:9,y:10,z:0}},{type:"monster",config:{which:"emperorsGuardian",activated:"while-player-near",movement:"towards-analogue-unless-planet-crowns"},position:{x:0,y:10,z:0}},{type:"monster",config:{which:"emperor",activated:"while-player-near",movement:"towards-analogue"},position:{x:0,y:14,z:4}},{type:"monster",config:{which:"computerBot",activated:"on",movement:"patrol-randomly-xy4-and-reverse"},position:{x:6,y:0,z:0}},{type:"charles",config:{},position:{x:10,y:6,z:0}},{type:"block",config:{style:"artificial"},position:{x:3,y:3,z:0}},{type:"slidingBlock",config:{style:"book"},position:{x:4,y:2,z:0}},{type:"block",config:{style:"book"},position:{x:4,y:2,z:1}},{type:"block",config:{style:"organic"},position:{x:5,y:5,z:0}},{type:"block",config:{style:"tower",times:{z:2}},position:{x:7,y:7,z:0}},{type:"pushableBlock",config:{},position:{x:9,y:7,z:0}},{type:"conveyor",config:{direction:"away"},position:{x:10,y:7,z:2}},{type:"conveyor",config:{direction:"left"},position:{x:10,y:4,z:2}},{type:"pushableBlock",config:{},position:{x:10,y:9,z:0}},{type:"slidingDeadly",config:{style:"spikyBall",startingPhase:1},position:{x:1,y:0,z:0}},{type:"slidingDeadly",config:{style:"spikyBall",startingPhase:2},position:{x:7,y:0,z:0}},{type:"pickup",config:{gives:"extra-life"},position:{x:9,y:5,z:0}},{type:"pickup",config:{gives:"bag"},position:{x:9,y:3,z:0}},{type:"pickup",config:{gives:"doughnuts"},position:{x:7,y:3,z:0}},{type:"pickup",config:{gives:"hooter"},position:{x:7,y:5,z:0}},{type:"pickup",config:{gives:"reincarnation"},position:{x:7,y:4,z:0}},{type:"moveableDeadly",config:{style:"deadFish"},position:{x:5,y:4,z:0}},{type:"portableBlock",config:{style:"cube"},position:{x:5,y:9,z:0}},{type:"portableBlock",config:{style:"cube"},position:{x:5,y:9,z:1}},{type:"portableBlock",config:{style:"drum"},position:{x:3,y:9,z:0}},{type:"portableBlock",config:{style:"sticks"},position:{x:1,y:9,z:0}},{type:"lift",config:{top:9,bottom:0},position:{x:1,y:7,z:0}},{type:"barrier",config:{axis:"y"},position:{x:6,y:1,z:0}},{type:"barrier",config:{axis:"x"},position:{x:8,y:1,z:0}},{type:"sceneryPlayer",config:{which:"head",startDirection:"left"},position:{x:3,y:1,z:0}},{type:"sceneryPlayer",config:{which:"heels",startDirection:"right"},position:{x:5,y:1,z:0}},{type:"sceneryPlayer",config:{which:"headOverHeels",startDirection:"towards"},position:{x:10,y:1,z:0}}]),planet:"bookworld",color:{hue:"magenta",shade:"basic"}}),...B()},S={rooms:$};export{S as testCampaign};
