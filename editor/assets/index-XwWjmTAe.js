const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browserAll-MXRuZjB-.js","assets/webworkerAll-DVZP2lOx.js","assets/colorToUniform-3MxHuUz8.js","assets/CanvasTextGenerator-Ce7kS2I4.js","assets/campaign-DgIbF5_z.js","assets/RoomJson-HgV8Top1.js","assets/LevelEditor-BZ7Unhah.js","assets/levelEditorSlice-D4H0WZb1.js"])))=>i.map(i=>d[i]);
function tE(t,e){for(var i=0;i<e.length;i++){const s=e[i];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in t)){const l=Object.getOwnPropertyDescriptor(s,a);l&&Object.defineProperty(t,a,l.get?l:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var mU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function nE(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var i=function s(){var a=!1;try{a=this instanceof s}catch{}return a?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};i.prototype=e.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var a=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(i,s,a.get?a:{enumerable:!0,get:function(){return t[s]}})}),i}var cd={exports:{}},Ja={};var rv;function iE(){if(rv)return Ja;rv=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:c,ref:a!==void 0?a:null,props:l}}return Ja.Fragment=e,Ja.jsx=i,Ja.jsxs=i,Ja}var av;function sE(){return av||(av=1,cd.exports=iE()),cd.exports}var Co=sE(),hd={exports:{}},pe={};var ov;function rE(){if(ov)return pe;ov=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),v=Symbol.iterator;function b(j){return j===null||typeof j!="object"?null:(j=v&&j[v]||j["@@iterator"],typeof j=="function"?j:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,x={};function T(j,F,Z){this.props=j,this.context=F,this.refs=x,this.updater=Z||w}T.prototype.isReactComponent={},T.prototype.setState=function(j,F){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,F,"setState")},T.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function C(){}C.prototype=T.prototype;function S(j,F,Z){this.props=j,this.context=F,this.refs=x,this.updater=Z||w}var E=S.prototype=new C;E.constructor=S,A(E,T.prototype),E.isPureReactComponent=!0;var z=Array.isArray;function O(){}var k={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function P(j,F,Z){var te=Z.ref;return{$$typeof:t,type:j,key:F,ref:te!==void 0?te:null,props:Z}}function B(j,F){return P(j.type,F,j.props)}function N(j){return typeof j=="object"&&j!==null&&j.$$typeof===t}function V(j){var F={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(Z){return F[Z]})}var W=/\/+/g;function ee(j,F){return typeof j=="object"&&j!==null&&j.key!=null?V(""+j.key):F.toString(36)}function ae(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(O,O):(j.status="pending",j.then(function(F){j.status==="pending"&&(j.status="fulfilled",j.value=F)},function(F){j.status==="pending"&&(j.status="rejected",j.reason=F)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function D(j,F,Z,te,re){var oe=typeof j;(oe==="undefined"||oe==="boolean")&&(j=null);var ye=!1;if(j===null)ye=!0;else switch(oe){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(j.$$typeof){case t:case e:ye=!0;break;case m:return ye=j._init,D(ye(j._payload),F,Z,te,re)}}if(ye)return re=re(j),ye=te===""?"."+ee(j,0):te,z(re)?(Z="",ye!=null&&(Z=ye.replace(W,"$&/")+"/"),D(re,F,Z,"",function(zt){return zt})):re!=null&&(N(re)&&(re=B(re,Z+(re.key==null||j&&j.key===re.key?"":(""+re.key).replace(W,"$&/")+"/")+ye)),F.push(re)),1;ye=0;var Ze=te===""?".":te+":";if(z(j))for(var ke=0;ke<j.length;ke++)te=j[ke],oe=Ze+ee(te,ke),ye+=D(te,F,Z,oe,re);else if(ke=b(j),typeof ke=="function")for(j=ke.call(j),ke=0;!(te=j.next()).done;)te=te.value,oe=Ze+ee(te,ke++),ye+=D(te,F,Z,oe,re);else if(oe==="object"){if(typeof j.then=="function")return D(ae(j),F,Z,te,re);throw F=String(j),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return ye}function I(j,F,Z){if(j==null)return j;var te=[],re=0;return D(j,te,"","",function(oe){return F.call(Z,oe,re++)}),te}function J(j){if(j._status===-1){var F=j._result;F=F(),F.then(function(Z){(j._status===0||j._status===-1)&&(j._status=1,j._result=Z)},function(Z){(j._status===0||j._status===-1)&&(j._status=2,j._result=Z)}),j._status===-1&&(j._status=0,j._result=F)}if(j._status===1)return j._result.default;throw j._result}var se=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},ce={map:I,forEach:function(j,F,Z){I(j,function(){F.apply(this,arguments)},Z)},count:function(j){var F=0;return I(j,function(){F++}),F},toArray:function(j){return I(j,function(F){return F})||[]},only:function(j){if(!N(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return pe.Activity=g,pe.Children=ce,pe.Component=T,pe.Fragment=i,pe.Profiler=a,pe.PureComponent=S,pe.StrictMode=s,pe.Suspense=f,pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,pe.__COMPILER_RUNTIME={__proto__:null,c:function(j){return k.H.useMemoCache(j)}},pe.cache=function(j){return function(){return j.apply(null,arguments)}},pe.cacheSignal=function(){return null},pe.cloneElement=function(j,F,Z){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var te=A({},j.props),re=j.key;if(F!=null)for(oe in F.key!==void 0&&(re=""+F.key),F)!R.call(F,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&F.ref===void 0||(te[oe]=F[oe]);var oe=arguments.length-2;if(oe===1)te.children=Z;else if(1<oe){for(var ye=Array(oe),Ze=0;Ze<oe;Ze++)ye[Ze]=arguments[Ze+2];te.children=ye}return P(j.type,re,te)},pe.createContext=function(j){return j={$$typeof:c,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:l,_context:j},j},pe.createElement=function(j,F,Z){var te,re={},oe=null;if(F!=null)for(te in F.key!==void 0&&(oe=""+F.key),F)R.call(F,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(re[te]=F[te]);var ye=arguments.length-2;if(ye===1)re.children=Z;else if(1<ye){for(var Ze=Array(ye),ke=0;ke<ye;ke++)Ze[ke]=arguments[ke+2];re.children=Ze}if(j&&j.defaultProps)for(te in ye=j.defaultProps,ye)re[te]===void 0&&(re[te]=ye[te]);return P(j,oe,re)},pe.createRef=function(){return{current:null}},pe.forwardRef=function(j){return{$$typeof:h,render:j}},pe.isValidElement=N,pe.lazy=function(j){return{$$typeof:m,_payload:{_status:-1,_result:j},_init:J}},pe.memo=function(j,F){return{$$typeof:y,type:j,compare:F===void 0?null:F}},pe.startTransition=function(j){var F=k.T,Z={};k.T=Z;try{var te=j(),re=k.S;re!==null&&re(Z,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(O,se)}catch(oe){se(oe)}finally{F!==null&&Z.types!==null&&(F.types=Z.types),k.T=F}},pe.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},pe.use=function(j){return k.H.use(j)},pe.useActionState=function(j,F,Z){return k.H.useActionState(j,F,Z)},pe.useCallback=function(j,F){return k.H.useCallback(j,F)},pe.useContext=function(j){return k.H.useContext(j)},pe.useDebugValue=function(){},pe.useDeferredValue=function(j,F){return k.H.useDeferredValue(j,F)},pe.useEffect=function(j,F){return k.H.useEffect(j,F)},pe.useEffectEvent=function(j){return k.H.useEffectEvent(j)},pe.useId=function(){return k.H.useId()},pe.useImperativeHandle=function(j,F,Z){return k.H.useImperativeHandle(j,F,Z)},pe.useInsertionEffect=function(j,F){return k.H.useInsertionEffect(j,F)},pe.useLayoutEffect=function(j,F){return k.H.useLayoutEffect(j,F)},pe.useMemo=function(j,F){return k.H.useMemo(j,F)},pe.useOptimistic=function(j,F){return k.H.useOptimistic(j,F)},pe.useReducer=function(j,F,Z){return k.H.useReducer(j,F,Z)},pe.useRef=function(j){return k.H.useRef(j)},pe.useState=function(j){return k.H.useState(j)},pe.useSyncExternalStore=function(j,F,Z){return k.H.useSyncExternalStore(j,F,Z)},pe.useTransition=function(){return k.H.useTransition()},pe.version="19.2.3",pe}var lv;function Uc(){return lv||(lv=1,hd.exports=rE()),hd.exports}var ue=Uc();const aE=xi(ue),gU=tE({__proto__:null,default:aE},[ue]);var fd={exports:{}},eo={},dd={exports:{}},yd={};var uv;function oE(){return uv||(uv=1,(function(t){function e(D,I){var J=D.length;D.push(I);e:for(;0<J;){var se=J-1>>>1,ce=D[se];if(0<a(ce,I))D[se]=I,D[J]=ce,J=se;else break e}}function i(D){return D.length===0?null:D[0]}function s(D){if(D.length===0)return null;var I=D[0],J=D.pop();if(J!==I){D[0]=J;e:for(var se=0,ce=D.length,j=ce>>>1;se<j;){var F=2*(se+1)-1,Z=D[F],te=F+1,re=D[te];if(0>a(Z,J))te<ce&&0>a(re,Z)?(D[se]=re,D[te]=J,se=te):(D[se]=Z,D[F]=J,se=F);else if(te<ce&&0>a(re,J))D[se]=re,D[te]=J,se=te;else break e}}return I}function a(D,I){var J=D.sortIndex-I.sortIndex;return J!==0?J:D.id-I.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var f=[],y=[],m=1,g=null,v=3,b=!1,w=!1,A=!1,x=!1,T=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function E(D){for(var I=i(y);I!==null;){if(I.callback===null)s(y);else if(I.startTime<=D)s(y),I.sortIndex=I.expirationTime,e(f,I);else break;I=i(y)}}function z(D){if(A=!1,E(D),!w)if(i(f)!==null)w=!0,O||(O=!0,V());else{var I=i(y);I!==null&&ae(z,I.startTime-D)}}var O=!1,k=-1,R=5,P=-1;function B(){return x?!0:!(t.unstable_now()-P<R)}function N(){if(x=!1,O){var D=t.unstable_now();P=D;var I=!0;try{e:{w=!1,A&&(A=!1,C(k),k=-1),b=!0;var J=v;try{t:{for(E(D),g=i(f);g!==null&&!(g.expirationTime>D&&B());){var se=g.callback;if(typeof se=="function"){g.callback=null,v=g.priorityLevel;var ce=se(g.expirationTime<=D);if(D=t.unstable_now(),typeof ce=="function"){g.callback=ce,E(D),I=!0;break t}g===i(f)&&s(f),E(D)}else s(f);g=i(f)}if(g!==null)I=!0;else{var j=i(y);j!==null&&ae(z,j.startTime-D),I=!1}}break e}finally{g=null,v=J,b=!1}I=void 0}}finally{I?V():O=!1}}}var V;if(typeof S=="function")V=function(){S(N)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,ee=W.port2;W.port1.onmessage=N,V=function(){ee.postMessage(null)}}else V=function(){T(N,0)};function ae(D,I){k=T(function(){D(t.unstable_now())},I)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(D){switch(v){case 1:case 2:case 3:var I=3;break;default:I=v}var J=v;v=I;try{return D()}finally{v=J}},t.unstable_requestPaint=function(){x=!0},t.unstable_runWithPriority=function(D,I){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var J=v;v=D;try{return I()}finally{v=J}},t.unstable_scheduleCallback=function(D,I,J){var se=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?se+J:se):J=se,D){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=J+ce,D={id:m++,callback:I,priorityLevel:D,startTime:J,expirationTime:ce,sortIndex:-1},J>se?(D.sortIndex=J,e(y,D),i(f)===null&&D===i(y)&&(A?(C(k),k=-1):A=!0,ae(z,J-se))):(D.sortIndex=ce,e(f,D),w||b||(w=!0,O||(O=!0,V()))),D},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(D){var I=v;return function(){var J=v;v=I;try{return D.apply(this,arguments)}finally{v=J}}}})(yd)),yd}var cv;function lE(){return cv||(cv=1,dd.exports=oE()),dd.exports}var pd={exports:{}},Et={};var hv;function uE(){if(hv)return Et;hv=1;var t=Uc();function e(f){var y="https://react.dev/errors/"+f;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)y+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(f,y,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:f,containerInfo:y,implementation:m}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,y){if(f==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Et.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Et.createPortal=function(f,y){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return l(f,y,null,m)},Et.flushSync=function(f){var y=c.T,m=s.p;try{if(c.T=null,s.p=2,f)return f()}finally{c.T=y,s.p=m,s.d.f()}},Et.preconnect=function(f,y){typeof f=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(f,y))},Et.prefetchDNS=function(f){typeof f=="string"&&s.d.D(f)},Et.preinit=function(f,y){if(typeof f=="string"&&y&&typeof y.as=="string"){var m=y.as,g=h(m,y.crossOrigin),v=typeof y.integrity=="string"?y.integrity:void 0,b=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;m==="style"?s.d.S(f,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:b}):m==="script"&&s.d.X(f,{crossOrigin:g,integrity:v,fetchPriority:b,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Et.preinitModule=function(f,y){if(typeof f=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var m=h(y.as,y.crossOrigin);s.d.M(f,{crossOrigin:m,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(f)},Et.preload=function(f,y){if(typeof f=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var m=y.as,g=h(m,y.crossOrigin);s.d.L(f,m,{crossOrigin:g,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Et.preloadModule=function(f,y){if(typeof f=="string")if(y){var m=h(y.as,y.crossOrigin);s.d.m(f,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:m,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(f)},Et.requestFormReset=function(f){s.d.r(f)},Et.unstable_batchedUpdates=function(f,y){return f(y)},Et.useFormState=function(f,y,m){return c.H.useFormState(f,y,m)},Et.useFormStatus=function(){return c.H.useHostTransitionStatus()},Et.version="19.2.3",Et}var fv;function cE(){if(fv)return pd.exports;fv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),pd.exports=uE(),pd.exports}var dv;function hE(){if(dv)return eo;dv=1;var t=lE(),e=Uc(),i=cE();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var r=n,o=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(o=r.return),n=r.return;while(n)}return r.tag===3?o:null}function c(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function h(n){if(n.tag===31){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function f(n){if(l(n)!==n)throw Error(s(188))}function y(n){var r=n.alternate;if(!r){if(r=l(n),r===null)throw Error(s(188));return r!==n?null:n}for(var o=n,u=r;;){var d=o.return;if(d===null)break;var p=d.alternate;if(p===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===o)return f(d),n;if(p===u)return f(d),r;p=p.sibling}throw Error(s(188))}if(o.return!==u.return)o=d,u=p;else{for(var _=!1,M=d.child;M;){if(M===o){_=!0,o=d,u=p;break}if(M===u){_=!0,u=d,o=p;break}M=M.sibling}if(!_){for(M=p.child;M;){if(M===o){_=!0,o=p,u=d;break}if(M===u){_=!0,u=p,o=d;break}M=M.sibling}if(!_)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?n:r}function m(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=m(n),r!==null)return r;n=n.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),S=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function V(n){return n===null||typeof n!="object"?null:(n=N&&n[N]||n["@@iterator"],typeof n=="function"?n:null)}var W=Symbol.for("react.client.reference");function ee(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===W?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case A:return"Fragment";case T:return"Profiler";case x:return"StrictMode";case z:return"Suspense";case O:return"SuspenseList";case P:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case w:return"Portal";case S:return n.displayName||"Context";case C:return(n._context.displayName||"Context")+".Consumer";case E:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case k:return r=n.displayName||null,r!==null?r:ee(n.type)||"Memo";case R:r=n._payload,n=n._init;try{return ee(n(r))}catch{}}return null}var ae=Array.isArray,D=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},se=[],ce=-1;function j(n){return{current:n}}function F(n){0>ce||(n.current=se[ce],se[ce]=null,ce--)}function Z(n,r){ce++,se[ce]=n.current,n.current=r}var te=j(null),re=j(null),oe=j(null),ye=j(null);function Ze(n,r){switch(Z(oe,r),Z(re,n),Z(te,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?Cb(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=Cb(r),n=kb(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}F(te),Z(te,n)}function ke(){F(te),F(re),F(oe)}function zt(n){n.memoizedState!==null&&Z(ye,n);var r=te.current,o=kb(r,n.type);r!==o&&(Z(re,n),Z(te,o))}function cn(n){re.current===n&&(F(te),F(re)),ye.current===n&&(F(ye),Qa._currentValue=J)}var Ut,hn;function ct(n){if(Ut===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Ut=r&&r[1]||"",hn=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ut+n+hn}var Xt=!1;function aa(n,r){if(!n||Xt)return"";Xt=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(Y){var $=Y}Reflect.construct(n,[],K)}else{try{K.call()}catch(Y){$=Y}n.call(K.prototype)}}else{try{throw Error()}catch(Y){$=Y}(K=n())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(Y){if(Y&&$&&typeof Y.stack=="string")return[Y.stack,$.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),_=p[0],M=p[1];if(_&&M){var U=_.split(`
`),H=M.split(`
`);for(d=u=0;u<U.length&&!U[u].includes("DetermineComponentFrameRoot");)u++;for(;d<H.length&&!H[d].includes("DetermineComponentFrameRoot");)d++;if(u===U.length||d===H.length)for(u=U.length-1,d=H.length-1;1<=u&&0<=d&&U[u]!==H[d];)d--;for(;1<=u&&0<=d;u--,d--)if(U[u]!==H[d]){if(u!==1||d!==1)do if(u--,d--,0>d||U[u]!==H[d]){var X=`
`+U[u].replace(" at new "," at ");return n.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",n.displayName)),X}while(1<=u&&0<=d);break}}}finally{Xt=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?ct(o):""}function hl(n,r){switch(n.tag){case 26:case 27:case 5:return ct(n.type);case 16:return ct("Lazy");case 13:return n.child!==r&&r!==null?ct("Suspense Fallback"):ct("Suspense");case 19:return ct("SuspenseList");case 0:case 15:return aa(n.type,!1);case 11:return aa(n.type.render,!1);case 1:return aa(n.type,!0);case 31:return ct("Activity");default:return""}}function fl(n){try{var r="",o=null;do r+=hl(n,o),o=n,n=n.return;while(n);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var dl=Object.prototype.hasOwnProperty,Qc=t.unstable_scheduleCallback,Kc=t.unstable_cancelCallback,z1=t.unstable_shouldYield,U1=t.unstable_requestPaint,Qt=t.unstable_now,j1=t.unstable_getCurrentPriorityLevel,am=t.unstable_ImmediatePriority,om=t.unstable_UserBlockingPriority,yl=t.unstable_NormalPriority,P1=t.unstable_LowPriority,lm=t.unstable_IdlePriority,B1=t.log,N1=t.unstable_setDisableYieldValue,oa=null,Kt=null;function Si(n){if(typeof B1=="function"&&N1(n),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(oa,n)}catch{}}var Zt=Math.clz32?Math.clz32:q1,L1=Math.log,I1=Math.LN2;function q1(n){return n>>>=0,n===0?32:31-(L1(n)/I1|0)|0}var pl=256,ml=262144,gl=4194304;function as(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function bl(n,r,o){var u=n.pendingLanes;if(u===0)return 0;var d=0,p=n.suspendedLanes,_=n.pingedLanes;n=n.warmLanes;var M=u&134217727;return M!==0?(u=M&~p,u!==0?d=as(u):(_&=M,_!==0?d=as(_):o||(o=M&~n,o!==0&&(d=as(o))))):(M=u&~p,M!==0?d=as(M):_!==0?d=as(_):o||(o=u&~n,o!==0&&(d=as(o)))),d===0?0:r!==0&&r!==d&&(r&p)===0&&(p=d&-d,o=r&-r,p>=o||p===32&&(o&4194048)!==0)?r:d}function la(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function G1(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function um(){var n=gl;return gl<<=1,(gl&62914560)===0&&(gl=4194304),n}function Zc(n){for(var r=[],o=0;31>o;o++)r.push(n);return r}function ua(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function H1(n,r,o,u,d,p){var _=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var M=n.entanglements,U=n.expirationTimes,H=n.hiddenUpdates;for(o=_&~o;0<o;){var X=31-Zt(o),K=1<<X;M[X]=0,U[X]=-1;var $=H[X];if($!==null)for(H[X]=null,X=0;X<$.length;X++){var Y=$[X];Y!==null&&(Y.lane&=-536870913)}o&=~K}u!==0&&cm(n,u,0),p!==0&&d===0&&n.tag!==0&&(n.suspendedLanes|=p&~(_&~r))}function cm(n,r,o){n.pendingLanes|=r,n.suspendedLanes&=~r;var u=31-Zt(r);n.entangledLanes|=r,n.entanglements[u]=n.entanglements[u]|1073741824|o&261930}function hm(n,r){var o=n.entangledLanes|=r;for(n=n.entanglements;o;){var u=31-Zt(o),d=1<<u;d&r|n[u]&r&&(n[u]|=r),o&=~d}}function fm(n,r){var o=r&-r;return o=(o&42)!==0?1:Wc(o),(o&(n.suspendedLanes|r))!==0?0:o}function Wc(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Jc(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function dm(){var n=I.p;return n!==0?n:(n=window.event,n===void 0?32:Wb(n.type))}function ym(n,r){var o=I.p;try{return I.p=n,r()}finally{I.p=o}}var Ai=Math.random().toString(36).slice(2),bt="__reactFiber$"+Ai,Nt="__reactProps$"+Ai,Fs="__reactContainer$"+Ai,eh="__reactEvents$"+Ai,$1="__reactListeners$"+Ai,F1="__reactHandles$"+Ai,pm="__reactResources$"+Ai,ca="__reactMarker$"+Ai;function th(n){delete n[bt],delete n[Nt],delete n[eh],delete n[$1],delete n[F1]}function Vs(n){var r=n[bt];if(r)return r;for(var o=n.parentNode;o;){if(r=o[Fs]||o[bt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(n=Pb(n);n!==null;){if(o=n[bt])return o;n=Pb(n)}return r}n=o,o=n.parentNode}return null}function Ys(n){if(n=n[bt]||n[Fs]){var r=n.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return n}return null}function ha(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function Xs(n){var r=n[pm];return r||(r=n[pm]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ht(n){n[ca]=!0}var mm=new Set,gm={};function os(n,r){Qs(n,r),Qs(n+"Capture",r)}function Qs(n,r){for(gm[n]=r,n=0;n<r.length;n++)mm.add(r[n])}var V1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bm={},vm={};function Y1(n){return dl.call(vm,n)?!0:dl.call(bm,n)?!1:V1.test(n)?vm[n]=!0:(bm[n]=!0,!1)}function vl(n,r,o){if(Y1(r))if(o===null)n.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+o)}}function _l(n,r,o){if(o===null)n.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+o)}}function Vn(n,r,o,u){if(u===null)n.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(r,o,""+u)}}function fn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function _m(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function X1(n,r,o){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,r);if(!n.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var d=u.get,p=u.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return d.call(this)},set:function(_){o=""+_,p.call(this,_)}}),Object.defineProperty(n,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function nh(n){if(!n._valueTracker){var r=_m(n)?"checked":"value";n._valueTracker=X1(n,r,""+n[r])}}function xm(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return n&&(u=_m(n)?n.checked?"true":"false":n.value),n=u,n!==o?(r.setValue(n),!0):!1}function xl(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Q1=/[\n"\\]/g;function dn(n){return n.replace(Q1,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function ih(n,r,o,u,d,p,_,M){n.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.type=_:n.removeAttribute("type"),r!=null?_==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+fn(r)):n.value!==""+fn(r)&&(n.value=""+fn(r)):_!=="submit"&&_!=="reset"||n.removeAttribute("value"),r!=null?sh(n,_,fn(r)):o!=null?sh(n,_,fn(o)):u!=null&&n.removeAttribute("value"),d==null&&p!=null&&(n.defaultChecked=!!p),d!=null&&(n.checked=d&&typeof d!="function"&&typeof d!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?n.name=""+fn(M):n.removeAttribute("name")}function wm(n,r,o,u,d,p,_,M){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(n.type=p),r!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||r!=null)){nh(n);return}o=o!=null?""+fn(o):"",r=r!=null?""+fn(r):o,M||r===n.value||(n.value=r),n.defaultValue=r}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=M?n.checked:!!u,n.defaultChecked=!!u,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(n.name=_),nh(n)}function sh(n,r,o){r==="number"&&xl(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function Ks(n,r,o,u){if(n=n.options,r){r={};for(var d=0;d<o.length;d++)r["$"+o[d]]=!0;for(o=0;o<n.length;o++)d=r.hasOwnProperty("$"+n[o].value),n[o].selected!==d&&(n[o].selected=d),d&&u&&(n[o].defaultSelected=!0)}else{for(o=""+fn(o),r=null,d=0;d<n.length;d++){if(n[d].value===o){n[d].selected=!0,u&&(n[d].defaultSelected=!0);return}r!==null||n[d].disabled||(r=n[d])}r!==null&&(r.selected=!0)}}function Sm(n,r,o){if(r!=null&&(r=""+fn(r),r!==n.value&&(n.value=r),o==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=o!=null?""+fn(o):""}function Am(n,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(ae(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=fn(r),n.defaultValue=o,u=n.textContent,u===o&&u!==""&&u!==null&&(n.value=u),nh(n)}function Zs(n,r){if(r){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=r;return}}n.textContent=r}var K1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tm(n,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":u?n.setProperty(r,o):typeof o!="number"||o===0||K1.has(r)?r==="float"?n.cssFloat=o:n[r]=(""+o).trim():n[r]=o+"px"}function Em(n,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var d in r)u=r[d],r.hasOwnProperty(d)&&o[d]!==u&&Tm(n,d,u)}else for(var p in r)r.hasOwnProperty(p)&&Tm(n,p,r[p])}function rh(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Z1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),W1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wl(n){return W1.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Yn(){}var ah=null;function oh(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ws=null,Js=null;function Mm(n){var r=Ys(n);if(r&&(n=r.stateNode)){var o=n[Nt]||null;e:switch(n=r.stateNode,r.type){case"input":if(ih(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+dn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==n&&u.form===n.form){var d=u[Nt]||null;if(!d)throw Error(s(90));ih(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===n.form&&xm(u)}break e;case"textarea":Sm(n,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&Ks(n,!!o.multiple,r,!1)}}}var lh=!1;function Cm(n,r,o){if(lh)return n(r,o);lh=!0;try{var u=n(r);return u}finally{if(lh=!1,(Ws!==null||Js!==null)&&(uu(),Ws&&(r=Ws,n=Js,Js=Ws=null,Mm(r),n)))for(r=0;r<n.length;r++)Mm(n[r])}}function fa(n,r){var o=n.stateNode;if(o===null)return null;var u=o[Nt]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uh=!1;if(Xn)try{var da={};Object.defineProperty(da,"passive",{get:function(){uh=!0}}),window.addEventListener("test",da,da),window.removeEventListener("test",da,da)}catch{uh=!1}var Ti=null,ch=null,Sl=null;function km(){if(Sl)return Sl;var n,r=ch,o=r.length,u,d="value"in Ti?Ti.value:Ti.textContent,p=d.length;for(n=0;n<o&&r[n]===d[n];n++);var _=o-n;for(u=1;u<=_&&r[o-u]===d[p-u];u++);return Sl=d.slice(n,1<u?1-u:void 0)}function Al(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function Tl(){return!0}function Rm(){return!1}function Lt(n){function r(o,u,d,p,_){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=p,this.target=_,this.currentTarget=null;for(var M in n)n.hasOwnProperty(M)&&(o=n[M],this[M]=o?o(p):p[M]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Tl:Rm,this.isPropagationStopped=Rm,this}return g(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Tl)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Tl)},persist:function(){},isPersistent:Tl}),r}var ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},El=Lt(ls),ya=g({},ls,{view:0,detail:0}),J1=Lt(ya),hh,fh,pa,Ml=g({},ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yh,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==pa&&(pa&&n.type==="mousemove"?(hh=n.screenX-pa.screenX,fh=n.screenY-pa.screenY):fh=hh=0,pa=n),hh)},movementY:function(n){return"movementY"in n?n.movementY:fh}}),Om=Lt(Ml),eA=g({},Ml,{dataTransfer:0}),tA=Lt(eA),nA=g({},ya,{relatedTarget:0}),dh=Lt(nA),iA=g({},ls,{animationName:0,elapsedTime:0,pseudoElement:0}),sA=Lt(iA),rA=g({},ls,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),aA=Lt(rA),oA=g({},ls,{data:0}),Dm=Lt(oA),lA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hA(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=cA[n])?!!r[n]:!1}function yh(){return hA}var fA=g({},ya,{key:function(n){if(n.key){var r=lA[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=Al(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?uA[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yh,charCode:function(n){return n.type==="keypress"?Al(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Al(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),dA=Lt(fA),yA=g({},Ml,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zm=Lt(yA),pA=g({},ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yh}),mA=Lt(pA),gA=g({},ls,{propertyName:0,elapsedTime:0,pseudoElement:0}),bA=Lt(gA),vA=g({},Ml,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),_A=Lt(vA),xA=g({},ls,{newState:0,oldState:0}),wA=Lt(xA),SA=[9,13,27,32],ph=Xn&&"CompositionEvent"in window,ma=null;Xn&&"documentMode"in document&&(ma=document.documentMode);var AA=Xn&&"TextEvent"in window&&!ma,Um=Xn&&(!ph||ma&&8<ma&&11>=ma),jm=" ",Pm=!1;function Bm(n,r){switch(n){case"keyup":return SA.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nm(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var er=!1;function TA(n,r){switch(n){case"compositionend":return Nm(r);case"keypress":return r.which!==32?null:(Pm=!0,jm);case"textInput":return n=r.data,n===jm&&Pm?null:n;default:return null}}function EA(n,r){if(er)return n==="compositionend"||!ph&&Bm(n,r)?(n=km(),Sl=ch=Ti=null,er=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Um&&r.locale!=="ko"?null:r.data;default:return null}}var MA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lm(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!MA[n.type]:r==="textarea"}function Im(n,r,o,u){Ws?Js?Js.push(u):Js=[u]:Ws=u,r=mu(r,"onChange"),0<r.length&&(o=new El("onChange","change",null,o,u),n.push({event:o,listeners:r}))}var ga=null,ba=null;function CA(n){wb(n,0)}function Cl(n){var r=ha(n);if(xm(r))return n}function qm(n,r){if(n==="change")return r}var Gm=!1;if(Xn){var mh;if(Xn){var gh="oninput"in document;if(!gh){var Hm=document.createElement("div");Hm.setAttribute("oninput","return;"),gh=typeof Hm.oninput=="function"}mh=gh}else mh=!1;Gm=mh&&(!document.documentMode||9<document.documentMode)}function $m(){ga&&(ga.detachEvent("onpropertychange",Fm),ba=ga=null)}function Fm(n){if(n.propertyName==="value"&&Cl(ba)){var r=[];Im(r,ba,n,oh(n)),Cm(CA,r)}}function kA(n,r,o){n==="focusin"?($m(),ga=r,ba=o,ga.attachEvent("onpropertychange",Fm)):n==="focusout"&&$m()}function RA(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Cl(ba)}function OA(n,r){if(n==="click")return Cl(r)}function DA(n,r){if(n==="input"||n==="change")return Cl(r)}function zA(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var Wt=typeof Object.is=="function"?Object.is:zA;function va(n,r){if(Wt(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var o=Object.keys(n),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!dl.call(r,d)||!Wt(n[d],r[d]))return!1}return!0}function Vm(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Ym(n,r){var o=Vm(n);n=0;for(var u;o;){if(o.nodeType===3){if(u=n+o.textContent.length,n<=r&&u>=r)return{node:o,offset:r-n};n=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Vm(o)}}function Xm(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?Xm(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function Qm(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=xl(n.document);r instanceof n.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)n=r.contentWindow;else break;r=xl(n.document)}return r}function bh(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var UA=Xn&&"documentMode"in document&&11>=document.documentMode,tr=null,vh=null,_a=null,_h=!1;function Km(n,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;_h||tr==null||tr!==xl(u)||(u=tr,"selectionStart"in u&&bh(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),_a&&va(_a,u)||(_a=u,u=mu(vh,"onSelect"),0<u.length&&(r=new El("onSelect","select",null,r,o),n.push({event:r,listeners:u}),r.target=tr)))}function us(n,r){var o={};return o[n.toLowerCase()]=r.toLowerCase(),o["Webkit"+n]="webkit"+r,o["Moz"+n]="moz"+r,o}var nr={animationend:us("Animation","AnimationEnd"),animationiteration:us("Animation","AnimationIteration"),animationstart:us("Animation","AnimationStart"),transitionrun:us("Transition","TransitionRun"),transitionstart:us("Transition","TransitionStart"),transitioncancel:us("Transition","TransitionCancel"),transitionend:us("Transition","TransitionEnd")},xh={},Zm={};Xn&&(Zm=document.createElement("div").style,"AnimationEvent"in window||(delete nr.animationend.animation,delete nr.animationiteration.animation,delete nr.animationstart.animation),"TransitionEvent"in window||delete nr.transitionend.transition);function cs(n){if(xh[n])return xh[n];if(!nr[n])return n;var r=nr[n],o;for(o in r)if(r.hasOwnProperty(o)&&o in Zm)return xh[n]=r[o];return n}var Wm=cs("animationend"),Jm=cs("animationiteration"),eg=cs("animationstart"),jA=cs("transitionrun"),PA=cs("transitionstart"),BA=cs("transitioncancel"),tg=cs("transitionend"),ng=new Map,wh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wh.push("scrollEnd");function Cn(n,r){ng.set(n,r),os(r,[n])}var kl=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},yn=[],ir=0,Sh=0;function Rl(){for(var n=ir,r=Sh=ir=0;r<n;){var o=yn[r];yn[r++]=null;var u=yn[r];yn[r++]=null;var d=yn[r];yn[r++]=null;var p=yn[r];if(yn[r++]=null,u!==null&&d!==null){var _=u.pending;_===null?d.next=d:(d.next=_.next,_.next=d),u.pending=d}p!==0&&ig(o,d,p)}}function Ol(n,r,o,u){yn[ir++]=n,yn[ir++]=r,yn[ir++]=o,yn[ir++]=u,Sh|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Ah(n,r,o,u){return Ol(n,r,o,u),Dl(n)}function hs(n,r){return Ol(n,null,null,r),Dl(n)}function ig(n,r,o){n.lanes|=o;var u=n.alternate;u!==null&&(u.lanes|=o);for(var d=!1,p=n.return;p!==null;)p.childLanes|=o,u=p.alternate,u!==null&&(u.childLanes|=o),p.tag===22&&(n=p.stateNode,n===null||n._visibility&1||(d=!0)),n=p,p=p.return;return n.tag===3?(p=n.stateNode,d&&r!==null&&(d=31-Zt(o),n=p.hiddenUpdates,u=n[d],u===null?n[d]=[r]:u.push(r),r.lane=o|536870912),p):null}function Dl(n){if(50<Ga)throw Ga=0,Uf=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var sr={};function NA(n,r,o,u){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jt(n,r,o,u){return new NA(n,r,o,u)}function Th(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Qn(n,r){var o=n.alternate;return o===null?(o=Jt(n.tag,r,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=r,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,r=n.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function sg(n,r){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,r=o.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function zl(n,r,o,u,d,p){var _=0;if(u=n,typeof n=="function")Th(n)&&(_=1);else if(typeof n=="string")_=HT(n,o,te.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case P:return n=Jt(31,o,r,d),n.elementType=P,n.lanes=p,n;case A:return fs(o.children,d,p,r);case x:_=8,d|=24;break;case T:return n=Jt(12,o,r,d|2),n.elementType=T,n.lanes=p,n;case z:return n=Jt(13,o,r,d),n.elementType=z,n.lanes=p,n;case O:return n=Jt(19,o,r,d),n.elementType=O,n.lanes=p,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case S:_=10;break e;case C:_=9;break e;case E:_=11;break e;case k:_=14;break e;case R:_=16,u=null;break e}_=29,o=Error(s(130,n===null?"null":typeof n,"")),u=null}return r=Jt(_,o,r,d),r.elementType=n,r.type=u,r.lanes=p,r}function fs(n,r,o,u){return n=Jt(7,n,u,r),n.lanes=o,n}function Eh(n,r,o){return n=Jt(6,n,null,r),n.lanes=o,n}function rg(n){var r=Jt(18,null,null,0);return r.stateNode=n,r}function Mh(n,r,o){return r=Jt(4,n.children!==null?n.children:[],n.key,r),r.lanes=o,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var ag=new WeakMap;function pn(n,r){if(typeof n=="object"&&n!==null){var o=ag.get(n);return o!==void 0?o:(r={value:n,source:r,stack:fl(r)},ag.set(n,r),r)}return{value:n,source:r,stack:fl(r)}}var rr=[],ar=0,Ul=null,xa=0,mn=[],gn=0,Ei=null,Bn=1,Nn="";function Kn(n,r){rr[ar++]=xa,rr[ar++]=Ul,Ul=n,xa=r}function og(n,r,o){mn[gn++]=Bn,mn[gn++]=Nn,mn[gn++]=Ei,Ei=n;var u=Bn;n=Nn;var d=32-Zt(u)-1;u&=~(1<<d),o+=1;var p=32-Zt(r)+d;if(30<p){var _=d-d%5;p=(u&(1<<_)-1).toString(32),u>>=_,d-=_,Bn=1<<32-Zt(r)+d|o<<d|u,Nn=p+n}else Bn=1<<p|o<<d|u,Nn=n}function Ch(n){n.return!==null&&(Kn(n,1),og(n,1,0))}function kh(n){for(;n===Ul;)Ul=rr[--ar],rr[ar]=null,xa=rr[--ar],rr[ar]=null;for(;n===Ei;)Ei=mn[--gn],mn[gn]=null,Nn=mn[--gn],mn[gn]=null,Bn=mn[--gn],mn[gn]=null}function lg(n,r){mn[gn++]=Bn,mn[gn++]=Nn,mn[gn++]=Ei,Bn=r.id,Nn=r.overflow,Ei=n}var vt=null,Ve=null,Ce=!1,Mi=null,bn=!1,Rh=Error(s(519));function Ci(n){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw wa(pn(r,n)),Rh}function ug(n){var r=n.stateNode,o=n.type,u=n.memoizedProps;switch(r[bt]=n,r[Nt]=u,o){case"dialog":Ae("cancel",r),Ae("close",r);break;case"iframe":case"object":case"embed":Ae("load",r);break;case"video":case"audio":for(o=0;o<$a.length;o++)Ae($a[o],r);break;case"source":Ae("error",r);break;case"img":case"image":case"link":Ae("error",r),Ae("load",r);break;case"details":Ae("toggle",r);break;case"input":Ae("invalid",r),wm(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Ae("invalid",r);break;case"textarea":Ae("invalid",r),Am(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||Eb(r.textContent,o)?(u.popover!=null&&(Ae("beforetoggle",r),Ae("toggle",r)),u.onScroll!=null&&Ae("scroll",r),u.onScrollEnd!=null&&Ae("scrollend",r),u.onClick!=null&&(r.onclick=Yn),r=!0):r=!1,r||Ci(n,!0)}function cg(n){for(vt=n.return;vt;)switch(vt.tag){case 5:case 31:case 13:bn=!1;return;case 27:case 3:bn=!0;return;default:vt=vt.return}}function or(n){if(n!==vt)return!1;if(!Ce)return cg(n),Ce=!0,!1;var r=n.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||Qf(n.type,n.memoizedProps)),o=!o),o&&Ve&&Ci(n),cg(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));Ve=jb(n)}else if(r===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));Ve=jb(n)}else r===27?(r=Ve,Gi(n.type)?(n=ed,ed=null,Ve=n):Ve=r):Ve=vt?_n(n.stateNode.nextSibling):null;return!0}function ds(){Ve=vt=null,Ce=!1}function Oh(){var n=Mi;return n!==null&&(Ht===null?Ht=n:Ht.push.apply(Ht,n),Mi=null),n}function wa(n){Mi===null?Mi=[n]:Mi.push(n)}var Dh=j(null),ys=null,Zn=null;function ki(n,r,o){Z(Dh,r._currentValue),r._currentValue=o}function Wn(n){n._currentValue=Dh.current,F(Dh)}function zh(n,r,o){for(;n!==null;){var u=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),n===o)break;n=n.return}}function Uh(n,r,o,u){var d=n.child;for(d!==null&&(d.return=n);d!==null;){var p=d.dependencies;if(p!==null){var _=d.child;p=p.firstContext;e:for(;p!==null;){var M=p;p=d;for(var U=0;U<r.length;U++)if(M.context===r[U]){p.lanes|=o,M=p.alternate,M!==null&&(M.lanes|=o),zh(p.return,o,n),u||(_=null);break e}p=M.next}}else if(d.tag===18){if(_=d.return,_===null)throw Error(s(341));_.lanes|=o,p=_.alternate,p!==null&&(p.lanes|=o),zh(_,o,n),_=null}else _=d.child;if(_!==null)_.return=d;else for(_=d;_!==null;){if(_===n){_=null;break}if(d=_.sibling,d!==null){d.return=_.return,_=d;break}_=_.return}d=_}}function lr(n,r,o,u){n=null;for(var d=r,p=!1;d!==null;){if(!p){if((d.flags&524288)!==0)p=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var _=d.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var M=d.type;Wt(d.pendingProps.value,_.value)||(n!==null?n.push(M):n=[M])}}else if(d===ye.current){if(_=d.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(n!==null?n.push(Qa):n=[Qa])}d=d.return}n!==null&&Uh(r,n,o,u),r.flags|=262144}function jl(n){for(n=n.firstContext;n!==null;){if(!Wt(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ps(n){ys=n,Zn=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function _t(n){return hg(ys,n)}function Pl(n,r){return ys===null&&ps(n),hg(n,r)}function hg(n,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Zn===null){if(n===null)throw Error(s(308));Zn=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else Zn=Zn.next=r;return o}var LA=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(o,u){n.push(u)}};this.abort=function(){r.aborted=!0,n.forEach(function(o){return o()})}},IA=t.unstable_scheduleCallback,qA=t.unstable_NormalPriority,st={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jh(){return{controller:new LA,data:new Map,refCount:0}}function Sa(n){n.refCount--,n.refCount===0&&IA(qA,function(){n.controller.abort()})}var Aa=null,Ph=0,ur=0,cr=null;function GA(n,r){if(Aa===null){var o=Aa=[];Ph=0,ur=If(),cr={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Ph++,r.then(fg,fg),r}function fg(){if(--Ph===0&&Aa!==null){cr!==null&&(cr.status="fulfilled");var n=Aa;Aa=null,ur=0,cr=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function HA(n,r){var o=[],u={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return n.then(function(){u.status="fulfilled",u.value=r;for(var d=0;d<o.length;d++)(0,o[d])(r)},function(d){for(u.status="rejected",u.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),u}var dg=D.S;D.S=function(n,r){K0=Qt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&GA(n,r),dg!==null&&dg(n,r)};var ms=j(null);function Bh(){var n=ms.current;return n!==null?n:Ge.pooledCache}function Bl(n,r){r===null?Z(ms,ms.current):Z(ms,r.pool)}function yg(){var n=Bh();return n===null?null:{parent:st._currentValue,pool:n}}var hr=Error(s(460)),Nh=Error(s(474)),Nl=Error(s(542)),Ll={then:function(){}};function pg(n){return n=n.status,n==="fulfilled"||n==="rejected"}function mg(n,r,o){switch(o=n[o],o===void 0?n.push(r):o!==r&&(r.then(Yn,Yn),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,bg(n),n;default:if(typeof r.status=="string")r.then(Yn,Yn);else{if(n=Ge,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(u){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=u}},function(u){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,bg(n),n}throw bs=r,hr}}function gs(n){try{var r=n._init;return r(n._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(bs=o,hr):o}}var bs=null;function gg(){if(bs===null)throw Error(s(459));var n=bs;return bs=null,n}function bg(n){if(n===hr||n===Nl)throw Error(s(483))}var fr=null,Ta=0;function Il(n){var r=Ta;return Ta+=1,fr===null&&(fr=[]),mg(fr,n,r)}function Ea(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function ql(n,r){throw r.$$typeof===v?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function vg(n){function r(q,L){if(n){var G=q.deletions;G===null?(q.deletions=[L],q.flags|=16):G.push(L)}}function o(q,L){if(!n)return null;for(;L!==null;)r(q,L),L=L.sibling;return null}function u(q){for(var L=new Map;q!==null;)q.key!==null?L.set(q.key,q):L.set(q.index,q),q=q.sibling;return L}function d(q,L){return q=Qn(q,L),q.index=0,q.sibling=null,q}function p(q,L,G){return q.index=G,n?(G=q.alternate,G!==null?(G=G.index,G<L?(q.flags|=67108866,L):G):(q.flags|=67108866,L)):(q.flags|=1048576,L)}function _(q){return n&&q.alternate===null&&(q.flags|=67108866),q}function M(q,L,G,Q){return L===null||L.tag!==6?(L=Eh(G,q.mode,Q),L.return=q,L):(L=d(L,G),L.return=q,L)}function U(q,L,G,Q){var fe=G.type;return fe===A?X(q,L,G.props.children,Q,G.key):L!==null&&(L.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===R&&gs(fe)===L.type)?(L=d(L,G.props),Ea(L,G),L.return=q,L):(L=zl(G.type,G.key,G.props,null,q.mode,Q),Ea(L,G),L.return=q,L)}function H(q,L,G,Q){return L===null||L.tag!==4||L.stateNode.containerInfo!==G.containerInfo||L.stateNode.implementation!==G.implementation?(L=Mh(G,q.mode,Q),L.return=q,L):(L=d(L,G.children||[]),L.return=q,L)}function X(q,L,G,Q,fe){return L===null||L.tag!==7?(L=fs(G,q.mode,Q,fe),L.return=q,L):(L=d(L,G),L.return=q,L)}function K(q,L,G){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Eh(""+L,q.mode,G),L.return=q,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case b:return G=zl(L.type,L.key,L.props,null,q.mode,G),Ea(G,L),G.return=q,G;case w:return L=Mh(L,q.mode,G),L.return=q,L;case R:return L=gs(L),K(q,L,G)}if(ae(L)||V(L))return L=fs(L,q.mode,G,null),L.return=q,L;if(typeof L.then=="function")return K(q,Il(L),G);if(L.$$typeof===S)return K(q,Pl(q,L),G);ql(q,L)}return null}function $(q,L,G,Q){var fe=L!==null?L.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return fe!==null?null:M(q,L,""+G,Q);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case b:return G.key===fe?U(q,L,G,Q):null;case w:return G.key===fe?H(q,L,G,Q):null;case R:return G=gs(G),$(q,L,G,Q)}if(ae(G)||V(G))return fe!==null?null:X(q,L,G,Q,null);if(typeof G.then=="function")return $(q,L,Il(G),Q);if(G.$$typeof===S)return $(q,L,Pl(q,G),Q);ql(q,G)}return null}function Y(q,L,G,Q,fe){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return q=q.get(G)||null,M(L,q,""+Q,fe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case b:return q=q.get(Q.key===null?G:Q.key)||null,U(L,q,Q,fe);case w:return q=q.get(Q.key===null?G:Q.key)||null,H(L,q,Q,fe);case R:return Q=gs(Q),Y(q,L,G,Q,fe)}if(ae(Q)||V(Q))return q=q.get(G)||null,X(L,q,Q,fe,null);if(typeof Q.then=="function")return Y(q,L,G,Il(Q),fe);if(Q.$$typeof===S)return Y(q,L,G,Pl(L,Q),fe);ql(L,Q)}return null}function le(q,L,G,Q){for(var fe=null,De=null,he=L,_e=L=0,Me=null;he!==null&&_e<G.length;_e++){he.index>_e?(Me=he,he=null):Me=he.sibling;var ze=$(q,he,G[_e],Q);if(ze===null){he===null&&(he=Me);break}n&&he&&ze.alternate===null&&r(q,he),L=p(ze,L,_e),De===null?fe=ze:De.sibling=ze,De=ze,he=Me}if(_e===G.length)return o(q,he),Ce&&Kn(q,_e),fe;if(he===null){for(;_e<G.length;_e++)he=K(q,G[_e],Q),he!==null&&(L=p(he,L,_e),De===null?fe=he:De.sibling=he,De=he);return Ce&&Kn(q,_e),fe}for(he=u(he);_e<G.length;_e++)Me=Y(he,q,_e,G[_e],Q),Me!==null&&(n&&Me.alternate!==null&&he.delete(Me.key===null?_e:Me.key),L=p(Me,L,_e),De===null?fe=Me:De.sibling=Me,De=Me);return n&&he.forEach(function(Yi){return r(q,Yi)}),Ce&&Kn(q,_e),fe}function de(q,L,G,Q){if(G==null)throw Error(s(151));for(var fe=null,De=null,he=L,_e=L=0,Me=null,ze=G.next();he!==null&&!ze.done;_e++,ze=G.next()){he.index>_e?(Me=he,he=null):Me=he.sibling;var Yi=$(q,he,ze.value,Q);if(Yi===null){he===null&&(he=Me);break}n&&he&&Yi.alternate===null&&r(q,he),L=p(Yi,L,_e),De===null?fe=Yi:De.sibling=Yi,De=Yi,he=Me}if(ze.done)return o(q,he),Ce&&Kn(q,_e),fe;if(he===null){for(;!ze.done;_e++,ze=G.next())ze=K(q,ze.value,Q),ze!==null&&(L=p(ze,L,_e),De===null?fe=ze:De.sibling=ze,De=ze);return Ce&&Kn(q,_e),fe}for(he=u(he);!ze.done;_e++,ze=G.next())ze=Y(he,q,_e,ze.value,Q),ze!==null&&(n&&ze.alternate!==null&&he.delete(ze.key===null?_e:ze.key),L=p(ze,L,_e),De===null?fe=ze:De.sibling=ze,De=ze);return n&&he.forEach(function(eE){return r(q,eE)}),Ce&&Kn(q,_e),fe}function Ie(q,L,G,Q){if(typeof G=="object"&&G!==null&&G.type===A&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case b:e:{for(var fe=G.key;L!==null;){if(L.key===fe){if(fe=G.type,fe===A){if(L.tag===7){o(q,L.sibling),Q=d(L,G.props.children),Q.return=q,q=Q;break e}}else if(L.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===R&&gs(fe)===L.type){o(q,L.sibling),Q=d(L,G.props),Ea(Q,G),Q.return=q,q=Q;break e}o(q,L);break}else r(q,L);L=L.sibling}G.type===A?(Q=fs(G.props.children,q.mode,Q,G.key),Q.return=q,q=Q):(Q=zl(G.type,G.key,G.props,null,q.mode,Q),Ea(Q,G),Q.return=q,q=Q)}return _(q);case w:e:{for(fe=G.key;L!==null;){if(L.key===fe)if(L.tag===4&&L.stateNode.containerInfo===G.containerInfo&&L.stateNode.implementation===G.implementation){o(q,L.sibling),Q=d(L,G.children||[]),Q.return=q,q=Q;break e}else{o(q,L);break}else r(q,L);L=L.sibling}Q=Mh(G,q.mode,Q),Q.return=q,q=Q}return _(q);case R:return G=gs(G),Ie(q,L,G,Q)}if(ae(G))return le(q,L,G,Q);if(V(G)){if(fe=V(G),typeof fe!="function")throw Error(s(150));return G=fe.call(G),de(q,L,G,Q)}if(typeof G.then=="function")return Ie(q,L,Il(G),Q);if(G.$$typeof===S)return Ie(q,L,Pl(q,G),Q);ql(q,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,L!==null&&L.tag===6?(o(q,L.sibling),Q=d(L,G),Q.return=q,q=Q):(o(q,L),Q=Eh(G,q.mode,Q),Q.return=q,q=Q),_(q)):o(q,L)}return function(q,L,G,Q){try{Ta=0;var fe=Ie(q,L,G,Q);return fr=null,fe}catch(he){if(he===hr||he===Nl)throw he;var De=Jt(29,he,null,q.mode);return De.lanes=Q,De.return=q,De}}}var vs=vg(!0),_g=vg(!1),Ri=!1;function Lh(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ih(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Oi(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Di(n,r,o){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Ue&2)!==0){var d=u.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),u.pending=r,r=Dl(n),ig(n,null,o),r}return Ol(n,u,r,o),Dl(n)}function Ma(n,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=n.pendingLanes,o|=u,r.lanes=o,hm(n,o)}}function qh(n,r){var o=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var _={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?d=p=_:p=p.next=_,o=o.next}while(o!==null);p===null?d=p=r:p=p.next=r}else d=p=r;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=r:n.next=r,o.lastBaseUpdate=r}var Gh=!1;function Ca(){if(Gh){var n=cr;if(n!==null)throw n}}function ka(n,r,o,u){Gh=!1;var d=n.updateQueue;Ri=!1;var p=d.firstBaseUpdate,_=d.lastBaseUpdate,M=d.shared.pending;if(M!==null){d.shared.pending=null;var U=M,H=U.next;U.next=null,_===null?p=H:_.next=H,_=U;var X=n.alternate;X!==null&&(X=X.updateQueue,M=X.lastBaseUpdate,M!==_&&(M===null?X.firstBaseUpdate=H:M.next=H,X.lastBaseUpdate=U))}if(p!==null){var K=d.baseState;_=0,X=H=U=null,M=p;do{var $=M.lane&-536870913,Y=$!==M.lane;if(Y?(Ee&$)===$:(u&$)===$){$!==0&&$===ur&&(Gh=!0),X!==null&&(X=X.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var le=n,de=M;$=r;var Ie=o;switch(de.tag){case 1:if(le=de.payload,typeof le=="function"){K=le.call(Ie,K,$);break e}K=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=de.payload,$=typeof le=="function"?le.call(Ie,K,$):le,$==null)break e;K=g({},K,$);break e;case 2:Ri=!0}}$=M.callback,$!==null&&(n.flags|=64,Y&&(n.flags|=8192),Y=d.callbacks,Y===null?d.callbacks=[$]:Y.push($))}else Y={lane:$,tag:M.tag,payload:M.payload,callback:M.callback,next:null},X===null?(H=X=Y,U=K):X=X.next=Y,_|=$;if(M=M.next,M===null){if(M=d.shared.pending,M===null)break;Y=M,M=Y.next,Y.next=null,d.lastBaseUpdate=Y,d.shared.pending=null}}while(!0);X===null&&(U=K),d.baseState=U,d.firstBaseUpdate=H,d.lastBaseUpdate=X,p===null&&(d.shared.lanes=0),Bi|=_,n.lanes=_,n.memoizedState=K}}function xg(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function wg(n,r){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)xg(o[n],r)}var dr=j(null),Gl=j(0);function Sg(n,r){n=oi,Z(Gl,n),Z(dr,r),oi=n|r.baseLanes}function Hh(){Z(Gl,oi),Z(dr,dr.current)}function $h(){oi=Gl.current,F(dr),F(Gl)}var en=j(null),vn=null;function zi(n){var r=n.alternate;Z(nt,nt.current&1),Z(en,n),vn===null&&(r===null||dr.current!==null||r.memoizedState!==null)&&(vn=n)}function Fh(n){Z(nt,nt.current),Z(en,n),vn===null&&(vn=n)}function Ag(n){n.tag===22?(Z(nt,nt.current),Z(en,n),vn===null&&(vn=n)):Ui()}function Ui(){Z(nt,nt.current),Z(en,en.current)}function tn(n){F(en),vn===n&&(vn=null),F(nt)}var nt=j(0);function Hl(n){for(var r=n;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Wf(o)||Jf(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Jn=0,be=null,Ne=null,rt=null,$l=!1,yr=!1,_s=!1,Fl=0,Ra=0,pr=null,$A=0;function Je(){throw Error(s(321))}function Vh(n,r){if(r===null)return!1;for(var o=0;o<r.length&&o<n.length;o++)if(!Wt(n[o],r[o]))return!1;return!0}function Yh(n,r,o,u,d,p){return Jn=p,be=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,D.H=n===null||n.memoizedState===null?o0:uf,_s=!1,p=o(u,d),_s=!1,yr&&(p=Eg(r,o,u,d)),Tg(n),p}function Tg(n){D.H=za;var r=Ne!==null&&Ne.next!==null;if(Jn=0,rt=Ne=be=null,$l=!1,Ra=0,pr=null,r)throw Error(s(300));n===null||at||(n=n.dependencies,n!==null&&jl(n)&&(at=!0))}function Eg(n,r,o,u){be=n;var d=0;do{if(yr&&(pr=null),Ra=0,yr=!1,25<=d)throw Error(s(301));if(d+=1,rt=Ne=null,n.updateQueue!=null){var p=n.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}D.H=l0,p=r(o,u)}while(yr);return p}function FA(){var n=D.H,r=n.useState()[0];return r=typeof r.then=="function"?Oa(r):r,n=n.useState()[0],(Ne!==null?Ne.memoizedState:null)!==n&&(be.flags|=1024),r}function Xh(){var n=Fl!==0;return Fl=0,n}function Qh(n,r,o){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~o}function Kh(n){if($l){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}$l=!1}Jn=0,rt=Ne=be=null,yr=!1,Ra=Fl=0,pr=null}function jt(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?be.memoizedState=rt=n:rt=rt.next=n,rt}function it(){if(Ne===null){var n=be.alternate;n=n!==null?n.memoizedState:null}else n=Ne.next;var r=rt===null?be.memoizedState:rt.next;if(r!==null)rt=r,Ne=n;else{if(n===null)throw be.alternate===null?Error(s(467)):Error(s(310));Ne=n,n={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},rt===null?be.memoizedState=rt=n:rt=rt.next=n}return rt}function Vl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Oa(n){var r=Ra;return Ra+=1,pr===null&&(pr=[]),n=mg(pr,n,r),r=be,(rt===null?r.memoizedState:rt.next)===null&&(r=r.alternate,D.H=r===null||r.memoizedState===null?o0:uf),n}function Yl(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Oa(n);if(n.$$typeof===S)return _t(n)}throw Error(s(438,String(n)))}function Zh(n){var r=null,o=be.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=be.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Vl(),be.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(n),u=0;u<n;u++)o[u]=B;return r.index++,o}function ei(n,r){return typeof r=="function"?r(n):r}function Xl(n){var r=it();return Wh(r,Ne,n)}function Wh(n,r,o){var u=n.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var d=n.baseQueue,p=u.pending;if(p!==null){if(d!==null){var _=d.next;d.next=p.next,p.next=_}r.baseQueue=d=p,u.pending=null}if(p=n.baseState,d===null)n.memoizedState=p;else{r=d.next;var M=_=null,U=null,H=r,X=!1;do{var K=H.lane&-536870913;if(K!==H.lane?(Ee&K)===K:(Jn&K)===K){var $=H.revertLane;if($===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),K===ur&&(X=!0);else if((Jn&$)===$){H=H.next,$===ur&&(X=!0);continue}else K={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},U===null?(M=U=K,_=p):U=U.next=K,be.lanes|=$,Bi|=$;K=H.action,_s&&o(p,K),p=H.hasEagerState?H.eagerState:o(p,K)}else $={lane:K,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},U===null?(M=U=$,_=p):U=U.next=$,be.lanes|=K,Bi|=K;H=H.next}while(H!==null&&H!==r);if(U===null?_=p:U.next=M,!Wt(p,n.memoizedState)&&(at=!0,X&&(o=cr,o!==null)))throw o;n.memoizedState=p,n.baseState=_,n.baseQueue=U,u.lastRenderedState=p}return d===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function Jh(n){var r=it(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=n;var u=o.dispatch,d=o.pending,p=r.memoizedState;if(d!==null){o.pending=null;var _=d=d.next;do p=n(p,_.action),_=_.next;while(_!==d);Wt(p,r.memoizedState)||(at=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,u]}function Mg(n,r,o){var u=be,d=it(),p=Ce;if(p){if(o===void 0)throw Error(s(407));o=o()}else o=r();var _=!Wt((Ne||d).memoizedState,o);if(_&&(d.memoizedState=o,at=!0),d=d.queue,nf(Rg.bind(null,u,d,n),[n]),d.getSnapshot!==r||_||rt!==null&&rt.memoizedState.tag&1){if(u.flags|=2048,mr(9,{destroy:void 0},kg.bind(null,u,d,o,r),null),Ge===null)throw Error(s(349));p||(Jn&127)!==0||Cg(u,r,o)}return o}function Cg(n,r,o){n.flags|=16384,n={getSnapshot:r,value:o},r=be.updateQueue,r===null?(r=Vl(),be.updateQueue=r,r.stores=[n]):(o=r.stores,o===null?r.stores=[n]:o.push(n))}function kg(n,r,o,u){r.value=o,r.getSnapshot=u,Og(r)&&Dg(n)}function Rg(n,r,o){return o(function(){Og(r)&&Dg(n)})}function Og(n){var r=n.getSnapshot;n=n.value;try{var o=r();return!Wt(n,o)}catch{return!0}}function Dg(n){var r=hs(n,2);r!==null&&$t(r,n,2)}function ef(n){var r=jt();if(typeof n=="function"){var o=n;if(n=o(),_s){Si(!0);try{o()}finally{Si(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:n},r}function zg(n,r,o,u){return n.baseState=o,Wh(n,Ne,typeof u=="function"?u:ei)}function VA(n,r,o,u,d){if(Zl(n))throw Error(s(485));if(n=r.action,n!==null){var p={payload:d,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){p.listeners.push(_)}};D.T!==null?o(!0):p.isTransition=!1,u(p),o=r.pending,o===null?(p.next=r.pending=p,Ug(r,p)):(p.next=o.next,r.pending=o.next=p)}}function Ug(n,r){var o=r.action,u=r.payload,d=n.state;if(r.isTransition){var p=D.T,_={};D.T=_;try{var M=o(d,u),U=D.S;U!==null&&U(_,M),jg(n,r,M)}catch(H){tf(n,r,H)}finally{p!==null&&_.types!==null&&(p.types=_.types),D.T=p}}else try{p=o(d,u),jg(n,r,p)}catch(H){tf(n,r,H)}}function jg(n,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Pg(n,r,u)},function(u){return tf(n,r,u)}):Pg(n,r,o)}function Pg(n,r,o){r.status="fulfilled",r.value=o,Bg(r),n.state=o,r=n.pending,r!==null&&(o=r.next,o===r?n.pending=null:(o=o.next,r.next=o,Ug(n,o)))}function tf(n,r,o){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,Bg(r),r=r.next;while(r!==u)}n.action=null}function Bg(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function Ng(n,r){return r}function Lg(n,r){if(Ce){var o=Ge.formState;if(o!==null){e:{var u=be;if(Ce){if(Ve){t:{for(var d=Ve,p=bn;d.nodeType!==8;){if(!p){d=null;break t}if(d=_n(d.nextSibling),d===null){d=null;break t}}p=d.data,d=p==="F!"||p==="F"?d:null}if(d){Ve=_n(d.nextSibling),u=d.data==="F!";break e}}Ci(u)}u=!1}u&&(r=o[0])}}return o=jt(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ng,lastRenderedState:r},o.queue=u,o=s0.bind(null,be,u),u.dispatch=o,u=ef(!1),p=lf.bind(null,be,!1,u.queue),u=jt(),d={state:r,dispatch:null,action:n,pending:null},u.queue=d,o=VA.bind(null,be,d,p,o),d.dispatch=o,u.memoizedState=n,[r,o,!1]}function Ig(n){var r=it();return qg(r,Ne,n)}function qg(n,r,o){if(r=Wh(n,r,Ng)[0],n=Xl(ei)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Oa(r)}catch(_){throw _===hr?Nl:_}else u=r;r=it();var d=r.queue,p=d.dispatch;return o!==r.memoizedState&&(be.flags|=2048,mr(9,{destroy:void 0},YA.bind(null,d,o),null)),[u,p,n]}function YA(n,r){n.action=r}function Gg(n){var r=it(),o=Ne;if(o!==null)return qg(r,o,n);it(),r=r.memoizedState,o=it();var u=o.queue.dispatch;return o.memoizedState=n,[r,u,!1]}function mr(n,r,o,u){return n={tag:n,create:o,deps:u,inst:r,next:null},r=be.updateQueue,r===null&&(r=Vl(),be.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=n.next=n:(u=o.next,o.next=n,n.next=u,r.lastEffect=n),n}function Hg(){return it().memoizedState}function Ql(n,r,o,u){var d=jt();be.flags|=n,d.memoizedState=mr(1|r,{destroy:void 0},o,u===void 0?null:u)}function Kl(n,r,o,u){var d=it();u=u===void 0?null:u;var p=d.memoizedState.inst;Ne!==null&&u!==null&&Vh(u,Ne.memoizedState.deps)?d.memoizedState=mr(r,p,o,u):(be.flags|=n,d.memoizedState=mr(1|r,p,o,u))}function $g(n,r){Ql(8390656,8,n,r)}function nf(n,r){Kl(2048,8,n,r)}function XA(n){be.flags|=4;var r=be.updateQueue;if(r===null)r=Vl(),be.updateQueue=r,r.events=[n];else{var o=r.events;o===null?r.events=[n]:o.push(n)}}function Fg(n){var r=it().memoizedState;return XA({ref:r,nextImpl:n}),function(){if((Ue&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function Vg(n,r){return Kl(4,2,n,r)}function Yg(n,r){return Kl(4,4,n,r)}function Xg(n,r){if(typeof r=="function"){n=n();var o=r(n);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function Qg(n,r,o){o=o!=null?o.concat([n]):null,Kl(4,4,Xg.bind(null,r,n),o)}function sf(){}function Kg(n,r){var o=it();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&Vh(r,u[1])?u[0]:(o.memoizedState=[n,r],n)}function Zg(n,r){var o=it();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&Vh(r,u[1]))return u[0];if(u=n(),_s){Si(!0);try{n()}finally{Si(!1)}}return o.memoizedState=[u,r],u}function rf(n,r,o){return o===void 0||(Jn&1073741824)!==0&&(Ee&261930)===0?n.memoizedState=r:(n.memoizedState=o,n=W0(),be.lanes|=n,Bi|=n,o)}function Wg(n,r,o,u){return Wt(o,r)?o:dr.current!==null?(n=rf(n,o,u),Wt(n,r)||(at=!0),n):(Jn&42)===0||(Jn&1073741824)!==0&&(Ee&261930)===0?(at=!0,n.memoizedState=o):(n=W0(),be.lanes|=n,Bi|=n,r)}function Jg(n,r,o,u,d){var p=I.p;I.p=p!==0&&8>p?p:8;var _=D.T,M={};D.T=M,lf(n,!1,r,o);try{var U=d(),H=D.S;if(H!==null&&H(M,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var X=HA(U,u);Da(n,r,X,rn(n))}else Da(n,r,u,rn(n))}catch(K){Da(n,r,{then:function(){},status:"rejected",reason:K},rn())}finally{I.p=p,_!==null&&M.types!==null&&(_.types=M.types),D.T=_}}function QA(){}function af(n,r,o,u){if(n.tag!==5)throw Error(s(476));var d=e0(n).queue;Jg(n,d,r,J,o===null?QA:function(){return t0(n),o(u)})}function e0(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:J},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:o},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function t0(n){var r=e0(n);r.next===null&&(r=n.alternate.memoizedState),Da(n,r.next.queue,{},rn())}function of(){return _t(Qa)}function n0(){return it().memoizedState}function i0(){return it().memoizedState}function KA(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var o=rn();n=Oi(o);var u=Di(r,n,o);u!==null&&($t(u,r,o),Ma(u,r,o)),r={cache:jh()},n.payload=r;return}r=r.return}}function ZA(n,r,o){var u=rn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Zl(n)?r0(r,o):(o=Ah(n,r,o,u),o!==null&&($t(o,n,u),a0(o,r,u)))}function s0(n,r,o){var u=rn();Da(n,r,o,u)}function Da(n,r,o,u){var d={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Zl(n))r0(r,d);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var _=r.lastRenderedState,M=p(_,o);if(d.hasEagerState=!0,d.eagerState=M,Wt(M,_))return Ol(n,r,d,0),Ge===null&&Rl(),!1}catch{}if(o=Ah(n,r,d,u),o!==null)return $t(o,n,u),a0(o,r,u),!0}return!1}function lf(n,r,o,u){if(u={lane:2,revertLane:If(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Zl(n)){if(r)throw Error(s(479))}else r=Ah(n,o,u,2),r!==null&&$t(r,n,2)}function Zl(n){var r=n.alternate;return n===be||r!==null&&r===be}function r0(n,r){yr=$l=!0;var o=n.pending;o===null?r.next=r:(r.next=o.next,o.next=r),n.pending=r}function a0(n,r,o){if((o&4194048)!==0){var u=r.lanes;u&=n.pendingLanes,o|=u,r.lanes=o,hm(n,o)}}var za={readContext:_t,use:Yl,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useLayoutEffect:Je,useInsertionEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useSyncExternalStore:Je,useId:Je,useHostTransitionStatus:Je,useFormState:Je,useActionState:Je,useOptimistic:Je,useMemoCache:Je,useCacheRefresh:Je};za.useEffectEvent=Je;var o0={readContext:_t,use:Yl,useCallback:function(n,r){return jt().memoizedState=[n,r===void 0?null:r],n},useContext:_t,useEffect:$g,useImperativeHandle:function(n,r,o){o=o!=null?o.concat([n]):null,Ql(4194308,4,Xg.bind(null,r,n),o)},useLayoutEffect:function(n,r){return Ql(4194308,4,n,r)},useInsertionEffect:function(n,r){Ql(4,2,n,r)},useMemo:function(n,r){var o=jt();r=r===void 0?null:r;var u=n();if(_s){Si(!0);try{n()}finally{Si(!1)}}return o.memoizedState=[u,r],u},useReducer:function(n,r,o){var u=jt();if(o!==void 0){var d=o(r);if(_s){Si(!0);try{o(r)}finally{Si(!1)}}}else d=r;return u.memoizedState=u.baseState=d,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:d},u.queue=n,n=n.dispatch=ZA.bind(null,be,n),[u.memoizedState,n]},useRef:function(n){var r=jt();return n={current:n},r.memoizedState=n},useState:function(n){n=ef(n);var r=n.queue,o=s0.bind(null,be,r);return r.dispatch=o,[n.memoizedState,o]},useDebugValue:sf,useDeferredValue:function(n,r){var o=jt();return rf(o,n,r)},useTransition:function(){var n=ef(!1);return n=Jg.bind(null,be,n.queue,!0,!1),jt().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,o){var u=be,d=jt();if(Ce){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),Ge===null)throw Error(s(349));(Ee&127)!==0||Cg(u,r,o)}d.memoizedState=o;var p={value:o,getSnapshot:r};return d.queue=p,$g(Rg.bind(null,u,p,n),[n]),u.flags|=2048,mr(9,{destroy:void 0},kg.bind(null,u,p,o,r),null),o},useId:function(){var n=jt(),r=Ge.identifierPrefix;if(Ce){var o=Nn,u=Bn;o=(u&~(1<<32-Zt(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Fl++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=$A++,r="_"+r+"r_"+o.toString(32)+"_";return n.memoizedState=r},useHostTransitionStatus:of,useFormState:Lg,useActionState:Lg,useOptimistic:function(n){var r=jt();r.memoizedState=r.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=lf.bind(null,be,!0,o),o.dispatch=r,[n,r]},useMemoCache:Zh,useCacheRefresh:function(){return jt().memoizedState=KA.bind(null,be)},useEffectEvent:function(n){var r=jt(),o={impl:n};return r.memoizedState=o,function(){if((Ue&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},uf={readContext:_t,use:Yl,useCallback:Kg,useContext:_t,useEffect:nf,useImperativeHandle:Qg,useInsertionEffect:Vg,useLayoutEffect:Yg,useMemo:Zg,useReducer:Xl,useRef:Hg,useState:function(){return Xl(ei)},useDebugValue:sf,useDeferredValue:function(n,r){var o=it();return Wg(o,Ne.memoizedState,n,r)},useTransition:function(){var n=Xl(ei)[0],r=it().memoizedState;return[typeof n=="boolean"?n:Oa(n),r]},useSyncExternalStore:Mg,useId:n0,useHostTransitionStatus:of,useFormState:Ig,useActionState:Ig,useOptimistic:function(n,r){var o=it();return zg(o,Ne,n,r)},useMemoCache:Zh,useCacheRefresh:i0};uf.useEffectEvent=Fg;var l0={readContext:_t,use:Yl,useCallback:Kg,useContext:_t,useEffect:nf,useImperativeHandle:Qg,useInsertionEffect:Vg,useLayoutEffect:Yg,useMemo:Zg,useReducer:Jh,useRef:Hg,useState:function(){return Jh(ei)},useDebugValue:sf,useDeferredValue:function(n,r){var o=it();return Ne===null?rf(o,n,r):Wg(o,Ne.memoizedState,n,r)},useTransition:function(){var n=Jh(ei)[0],r=it().memoizedState;return[typeof n=="boolean"?n:Oa(n),r]},useSyncExternalStore:Mg,useId:n0,useHostTransitionStatus:of,useFormState:Gg,useActionState:Gg,useOptimistic:function(n,r){var o=it();return Ne!==null?zg(o,Ne,n,r):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:Zh,useCacheRefresh:i0};l0.useEffectEvent=Fg;function cf(n,r,o,u){r=n.memoizedState,o=o(u,r),o=o==null?r:g({},r,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var hf={enqueueSetState:function(n,r,o){n=n._reactInternals;var u=rn(),d=Oi(u);d.payload=r,o!=null&&(d.callback=o),r=Di(n,d,u),r!==null&&($t(r,n,u),Ma(r,n,u))},enqueueReplaceState:function(n,r,o){n=n._reactInternals;var u=rn(),d=Oi(u);d.tag=1,d.payload=r,o!=null&&(d.callback=o),r=Di(n,d,u),r!==null&&($t(r,n,u),Ma(r,n,u))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var o=rn(),u=Oi(o);u.tag=2,r!=null&&(u.callback=r),r=Di(n,u,o),r!==null&&($t(r,n,o),Ma(r,n,o))}};function u0(n,r,o,u,d,p,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,p,_):r.prototype&&r.prototype.isPureReactComponent?!va(o,u)||!va(d,p):!0}function c0(n,r,o,u){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==n&&hf.enqueueReplaceState(r,r.state,null)}function xs(n,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(n=n.defaultProps){o===r&&(o=g({},o));for(var d in n)o[d]===void 0&&(o[d]=n[d])}return o}function h0(n){kl(n)}function f0(n){console.error(n)}function d0(n){kl(n)}function Wl(n,r){try{var o=n.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function y0(n,r,o){try{var u=n.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function ff(n,r,o){return o=Oi(o),o.tag=3,o.payload={element:null},o.callback=function(){Wl(n,r)},o}function p0(n){return n=Oi(n),n.tag=3,n}function m0(n,r,o,u){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var p=u.value;n.payload=function(){return d(p)},n.callback=function(){y0(r,o,u)}}var _=o.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(n.callback=function(){y0(r,o,u),typeof d!="function"&&(Ni===null?Ni=new Set([this]):Ni.add(this));var M=u.stack;this.componentDidCatch(u.value,{componentStack:M!==null?M:""})})}function WA(n,r,o,u,d){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&lr(r,o,d,!0),o=en.current,o!==null){switch(o.tag){case 31:case 13:return vn===null?cu():o.alternate===null&&et===0&&(et=3),o.flags&=-257,o.flags|=65536,o.lanes=d,u===Ll?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),Bf(n,u,d)),!1;case 22:return o.flags|=65536,u===Ll?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),Bf(n,u,d)),!1}throw Error(s(435,o.tag))}return Bf(n,u,d),cu(),!1}if(Ce)return r=en.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,u!==Rh&&(n=Error(s(422),{cause:u}),wa(pn(n,o)))):(u!==Rh&&(r=Error(s(423),{cause:u}),wa(pn(r,o))),n=n.current.alternate,n.flags|=65536,d&=-d,n.lanes|=d,u=pn(u,o),d=ff(n.stateNode,u,d),qh(n,d),et!==4&&(et=2)),!1;var p=Error(s(520),{cause:u});if(p=pn(p,o),qa===null?qa=[p]:qa.push(p),et!==4&&(et=2),r===null)return!0;u=pn(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,n=d&-d,o.lanes|=n,n=ff(o.stateNode,u,n),qh(o,n),!1;case 1:if(r=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Ni===null||!Ni.has(p))))return o.flags|=65536,d&=-d,o.lanes|=d,d=p0(d),m0(d,n,o,u),qh(o,d),!1}o=o.return}while(o!==null);return!1}var df=Error(s(461)),at=!1;function xt(n,r,o,u){r.child=n===null?_g(r,null,o,u):vs(r,n.child,o,u)}function g0(n,r,o,u,d){o=o.render;var p=r.ref;if("ref"in u){var _={};for(var M in u)M!=="ref"&&(_[M]=u[M])}else _=u;return ps(r),u=Yh(n,r,o,_,p,d),M=Xh(),n!==null&&!at?(Qh(n,r,d),ti(n,r,d)):(Ce&&M&&Ch(r),r.flags|=1,xt(n,r,u,d),r.child)}function b0(n,r,o,u,d){if(n===null){var p=o.type;return typeof p=="function"&&!Th(p)&&p.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=p,v0(n,r,p,u,d)):(n=zl(o.type,null,u,r,r.mode,d),n.ref=r.ref,n.return=r,r.child=n)}if(p=n.child,!xf(n,d)){var _=p.memoizedProps;if(o=o.compare,o=o!==null?o:va,o(_,u)&&n.ref===r.ref)return ti(n,r,d)}return r.flags|=1,n=Qn(p,u),n.ref=r.ref,n.return=r,r.child=n}function v0(n,r,o,u,d){if(n!==null){var p=n.memoizedProps;if(va(p,u)&&n.ref===r.ref)if(at=!1,r.pendingProps=u=p,xf(n,d))(n.flags&131072)!==0&&(at=!0);else return r.lanes=n.lanes,ti(n,r,d)}return yf(n,r,o,u,d)}function _0(n,r,o,u){var d=u.children,p=n!==null?n.memoizedState:null;if(n===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(p=p!==null?p.baseLanes|o:o,n!==null){for(u=r.child=n.child,d=0;u!==null;)d=d|u.lanes|u.childLanes,u=u.sibling;u=d&~p}else u=0,r.child=null;return x0(n,r,p,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&Bl(r,p!==null?p.cachePool:null),p!==null?Sg(r,p):Hh(),Ag(r);else return u=r.lanes=536870912,x0(n,r,p!==null?p.baseLanes|o:o,o,u)}else p!==null?(Bl(r,p.cachePool),Sg(r,p),Ui(),r.memoizedState=null):(n!==null&&Bl(r,null),Hh(),Ui());return xt(n,r,d,o),r.child}function Ua(n,r){return n!==null&&n.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function x0(n,r,o,u,d){var p=Bh();return p=p===null?null:{parent:st._currentValue,pool:p},r.memoizedState={baseLanes:o,cachePool:p},n!==null&&Bl(r,null),Hh(),Ag(r),n!==null&&lr(n,r,u,!0),r.childLanes=d,null}function Jl(n,r){return r=tu({mode:r.mode,children:r.children},n.mode),r.ref=n.ref,n.child=r,r.return=n,r}function w0(n,r,o){return vs(r,n.child,null,o),n=Jl(r,r.pendingProps),n.flags|=2,tn(r),r.memoizedState=null,n}function JA(n,r,o){var u=r.pendingProps,d=(r.flags&128)!==0;if(r.flags&=-129,n===null){if(Ce){if(u.mode==="hidden")return n=Jl(r,u),r.lanes=536870912,Ua(null,n);if(Fh(r),(n=Ve)?(n=Ub(n,bn),n=n!==null&&n.data==="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:Ei!==null?{id:Bn,overflow:Nn}:null,retryLane:536870912,hydrationErrors:null},o=rg(n),o.return=r,r.child=o,vt=r,Ve=null)):n=null,n===null)throw Ci(r);return r.lanes=536870912,null}return Jl(r,u)}var p=n.memoizedState;if(p!==null){var _=p.dehydrated;if(Fh(r),d)if(r.flags&256)r.flags&=-257,r=w0(n,r,o);else if(r.memoizedState!==null)r.child=n.child,r.flags|=128,r=null;else throw Error(s(558));else if(at||lr(n,r,o,!1),d=(o&n.childLanes)!==0,at||d){if(u=Ge,u!==null&&(_=fm(u,o),_!==0&&_!==p.retryLane))throw p.retryLane=_,hs(n,_),$t(u,n,_),df;cu(),r=w0(n,r,o)}else n=p.treeContext,Ve=_n(_.nextSibling),vt=r,Ce=!0,Mi=null,bn=!1,n!==null&&lg(r,n),r=Jl(r,u),r.flags|=4096;return r}return n=Qn(n.child,{mode:u.mode,children:u.children}),n.ref=r.ref,r.child=n,n.return=r,n}function eu(n,r){var o=r.ref;if(o===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(n===null||n.ref!==o)&&(r.flags|=4194816)}}function yf(n,r,o,u,d){return ps(r),o=Yh(n,r,o,u,void 0,d),u=Xh(),n!==null&&!at?(Qh(n,r,d),ti(n,r,d)):(Ce&&u&&Ch(r),r.flags|=1,xt(n,r,o,d),r.child)}function S0(n,r,o,u,d,p){return ps(r),r.updateQueue=null,o=Eg(r,u,o,d),Tg(n),u=Xh(),n!==null&&!at?(Qh(n,r,p),ti(n,r,p)):(Ce&&u&&Ch(r),r.flags|=1,xt(n,r,o,p),r.child)}function A0(n,r,o,u,d){if(ps(r),r.stateNode===null){var p=sr,_=o.contextType;typeof _=="object"&&_!==null&&(p=_t(_)),p=new o(u,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=hf,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=u,p.state=r.memoizedState,p.refs={},Lh(r),_=o.contextType,p.context=typeof _=="object"&&_!==null?_t(_):sr,p.state=r.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(cf(r,o,_,u),p.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(_=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),_!==p.state&&hf.enqueueReplaceState(p,p.state,null),ka(r,u,p,d),Ca(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(n===null){p=r.stateNode;var M=r.memoizedProps,U=xs(o,M);p.props=U;var H=p.context,X=o.contextType;_=sr,typeof X=="object"&&X!==null&&(_=_t(X));var K=o.getDerivedStateFromProps;X=typeof K=="function"||typeof p.getSnapshotBeforeUpdate=="function",M=r.pendingProps!==M,X||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(M||H!==_)&&c0(r,p,u,_),Ri=!1;var $=r.memoizedState;p.state=$,ka(r,u,p,d),Ca(),H=r.memoizedState,M||$!==H||Ri?(typeof K=="function"&&(cf(r,o,K,u),H=r.memoizedState),(U=Ri||u0(r,o,U,u,$,H,_))?(X||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=H),p.props=u,p.state=H,p.context=_,u=U):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{p=r.stateNode,Ih(n,r),_=r.memoizedProps,X=xs(o,_),p.props=X,K=r.pendingProps,$=p.context,H=o.contextType,U=sr,typeof H=="object"&&H!==null&&(U=_t(H)),M=o.getDerivedStateFromProps,(H=typeof M=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(_!==K||$!==U)&&c0(r,p,u,U),Ri=!1,$=r.memoizedState,p.state=$,ka(r,u,p,d),Ca();var Y=r.memoizedState;_!==K||$!==Y||Ri||n!==null&&n.dependencies!==null&&jl(n.dependencies)?(typeof M=="function"&&(cf(r,o,M,u),Y=r.memoizedState),(X=Ri||u0(r,o,X,u,$,Y,U)||n!==null&&n.dependencies!==null&&jl(n.dependencies))?(H||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,Y,U),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,Y,U)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||_===n.memoizedProps&&$===n.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&$===n.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=Y),p.props=u,p.state=Y,p.context=U,u=X):(typeof p.componentDidUpdate!="function"||_===n.memoizedProps&&$===n.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&$===n.memoizedState||(r.flags|=1024),u=!1)}return p=u,eu(n,r),u=(r.flags&128)!==0,p||u?(p=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,n!==null&&u?(r.child=vs(r,n.child,null,d),r.child=vs(r,null,o,d)):xt(n,r,o,d),r.memoizedState=p.state,n=r.child):n=ti(n,r,d),n}function T0(n,r,o,u){return ds(),r.flags|=256,xt(n,r,o,u),r.child}var pf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mf(n){return{baseLanes:n,cachePool:yg()}}function gf(n,r,o){return n=n!==null?n.childLanes&~o:0,r&&(n|=sn),n}function E0(n,r,o){var u=r.pendingProps,d=!1,p=(r.flags&128)!==0,_;if((_=p)||(_=n!==null&&n.memoizedState===null?!1:(nt.current&2)!==0),_&&(d=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,n===null){if(Ce){if(d?zi(r):Ui(),(n=Ve)?(n=Ub(n,bn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:Ei!==null?{id:Bn,overflow:Nn}:null,retryLane:536870912,hydrationErrors:null},o=rg(n),o.return=r,r.child=o,vt=r,Ve=null)):n=null,n===null)throw Ci(r);return Jf(n)?r.lanes=32:r.lanes=536870912,null}var M=u.children;return u=u.fallback,d?(Ui(),d=r.mode,M=tu({mode:"hidden",children:M},d),u=fs(u,d,o,null),M.return=r,u.return=r,M.sibling=u,r.child=M,u=r.child,u.memoizedState=mf(o),u.childLanes=gf(n,_,o),r.memoizedState=pf,Ua(null,u)):(zi(r),bf(r,M))}var U=n.memoizedState;if(U!==null&&(M=U.dehydrated,M!==null)){if(p)r.flags&256?(zi(r),r.flags&=-257,r=vf(n,r,o)):r.memoizedState!==null?(Ui(),r.child=n.child,r.flags|=128,r=null):(Ui(),M=u.fallback,d=r.mode,u=tu({mode:"visible",children:u.children},d),M=fs(M,d,o,null),M.flags|=2,u.return=r,M.return=r,u.sibling=M,r.child=u,vs(r,n.child,null,o),u=r.child,u.memoizedState=mf(o),u.childLanes=gf(n,_,o),r.memoizedState=pf,r=Ua(null,u));else if(zi(r),Jf(M)){if(_=M.nextSibling&&M.nextSibling.dataset,_)var H=_.dgst;_=H,u=Error(s(419)),u.stack="",u.digest=_,wa({value:u,source:null,stack:null}),r=vf(n,r,o)}else if(at||lr(n,r,o,!1),_=(o&n.childLanes)!==0,at||_){if(_=Ge,_!==null&&(u=fm(_,o),u!==0&&u!==U.retryLane))throw U.retryLane=u,hs(n,u),$t(_,n,u),df;Wf(M)||cu(),r=vf(n,r,o)}else Wf(M)?(r.flags|=192,r.child=n.child,r=null):(n=U.treeContext,Ve=_n(M.nextSibling),vt=r,Ce=!0,Mi=null,bn=!1,n!==null&&lg(r,n),r=bf(r,u.children),r.flags|=4096);return r}return d?(Ui(),M=u.fallback,d=r.mode,U=n.child,H=U.sibling,u=Qn(U,{mode:"hidden",children:u.children}),u.subtreeFlags=U.subtreeFlags&65011712,H!==null?M=Qn(H,M):(M=fs(M,d,o,null),M.flags|=2),M.return=r,u.return=r,u.sibling=M,r.child=u,Ua(null,u),u=r.child,M=n.child.memoizedState,M===null?M=mf(o):(d=M.cachePool,d!==null?(U=st._currentValue,d=d.parent!==U?{parent:U,pool:U}:d):d=yg(),M={baseLanes:M.baseLanes|o,cachePool:d}),u.memoizedState=M,u.childLanes=gf(n,_,o),r.memoizedState=pf,Ua(n.child,u)):(zi(r),o=n.child,n=o.sibling,o=Qn(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,n!==null&&(_=r.deletions,_===null?(r.deletions=[n],r.flags|=16):_.push(n)),r.child=o,r.memoizedState=null,o)}function bf(n,r){return r=tu({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function tu(n,r){return n=Jt(22,n,null,r),n.lanes=0,n}function vf(n,r,o){return vs(r,n.child,null,o),n=bf(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function M0(n,r,o){n.lanes|=r;var u=n.alternate;u!==null&&(u.lanes|=r),zh(n.return,r,o)}function _f(n,r,o,u,d,p){var _=n.memoizedState;_===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d,treeForkCount:p}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=u,_.tail=o,_.tailMode=d,_.treeForkCount=p)}function C0(n,r,o){var u=r.pendingProps,d=u.revealOrder,p=u.tail;u=u.children;var _=nt.current,M=(_&2)!==0;if(M?(_=_&1|2,r.flags|=128):_&=1,Z(nt,_),xt(n,r,u,o),u=Ce?xa:0,!M&&n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&M0(n,o,r);else if(n.tag===19)M0(n,o,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(d){case"forwards":for(o=r.child,d=null;o!==null;)n=o.alternate,n!==null&&Hl(n)===null&&(d=o),o=o.sibling;o=d,o===null?(d=r.child,r.child=null):(d=o.sibling,o.sibling=null),_f(r,!1,d,o,p,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,d=r.child,r.child=null;d!==null;){if(n=d.alternate,n!==null&&Hl(n)===null){r.child=d;break}n=d.sibling,d.sibling=o,o=d,d=n}_f(r,!0,o,null,p,u);break;case"together":_f(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function ti(n,r,o){if(n!==null&&(r.dependencies=n.dependencies),Bi|=r.lanes,(o&r.childLanes)===0)if(n!==null){if(lr(n,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,o=Qn(n,n.pendingProps),r.child=o,o.return=r;n.sibling!==null;)n=n.sibling,o=o.sibling=Qn(n,n.pendingProps),o.return=r;o.sibling=null}return r.child}function xf(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&jl(n)))}function eT(n,r,o){switch(r.tag){case 3:Ze(r,r.stateNode.containerInfo),ki(r,st,n.memoizedState.cache),ds();break;case 27:case 5:zt(r);break;case 4:Ze(r,r.stateNode.containerInfo);break;case 10:ki(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Fh(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(zi(r),r.flags|=128,null):(o&r.child.childLanes)!==0?E0(n,r,o):(zi(r),n=ti(n,r,o),n!==null?n.sibling:null);zi(r);break;case 19:var d=(n.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(lr(n,r,o,!1),u=(o&r.childLanes)!==0),d){if(u)return C0(n,r,o);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Z(nt,nt.current),u)break;return null;case 22:return r.lanes=0,_0(n,r,o,r.pendingProps);case 24:ki(r,st,n.memoizedState.cache)}return ti(n,r,o)}function k0(n,r,o){if(n!==null)if(n.memoizedProps!==r.pendingProps)at=!0;else{if(!xf(n,o)&&(r.flags&128)===0)return at=!1,eT(n,r,o);at=(n.flags&131072)!==0}else at=!1,Ce&&(r.flags&1048576)!==0&&og(r,xa,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(n=gs(r.elementType),r.type=n,typeof n=="function")Th(n)?(u=xs(n,u),r.tag=1,r=A0(null,r,n,u,o)):(r.tag=0,r=yf(null,r,n,u,o));else{if(n!=null){var d=n.$$typeof;if(d===E){r.tag=11,r=g0(null,r,n,u,o);break e}else if(d===k){r.tag=14,r=b0(null,r,n,u,o);break e}}throw r=ee(n)||n,Error(s(306,r,""))}}return r;case 0:return yf(n,r,r.type,r.pendingProps,o);case 1:return u=r.type,d=xs(u,r.pendingProps),A0(n,r,u,d,o);case 3:e:{if(Ze(r,r.stateNode.containerInfo),n===null)throw Error(s(387));u=r.pendingProps;var p=r.memoizedState;d=p.element,Ih(n,r),ka(r,u,null,o);var _=r.memoizedState;if(u=_.cache,ki(r,st,u),u!==p.cache&&Uh(r,[st],o,!0),Ca(),u=_.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){r=T0(n,r,u,o);break e}else if(u!==d){d=pn(Error(s(424)),r),wa(d),r=T0(n,r,u,o);break e}else for(n=r.stateNode.containerInfo,n.nodeType===9?n=n.body:n=n.nodeName==="HTML"?n.ownerDocument.body:n,Ve=_n(n.firstChild),vt=r,Ce=!0,Mi=null,bn=!0,o=_g(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(ds(),u===d){r=ti(n,r,o);break e}xt(n,r,u,o)}r=r.child}return r;case 26:return eu(n,r),n===null?(o=Ib(r.type,null,r.pendingProps,null))?r.memoizedState=o:Ce||(o=r.type,n=r.pendingProps,u=gu(oe.current).createElement(o),u[bt]=r,u[Nt]=n,wt(u,o,n),ht(u),r.stateNode=u):r.memoizedState=Ib(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return zt(r),n===null&&Ce&&(u=r.stateNode=Bb(r.type,r.pendingProps,oe.current),vt=r,bn=!0,d=Ve,Gi(r.type)?(ed=d,Ve=_n(u.firstChild)):Ve=d),xt(n,r,r.pendingProps.children,o),eu(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&Ce&&((d=u=Ve)&&(u=RT(u,r.type,r.pendingProps,bn),u!==null?(r.stateNode=u,vt=r,Ve=_n(u.firstChild),bn=!1,d=!0):d=!1),d||Ci(r)),zt(r),d=r.type,p=r.pendingProps,_=n!==null?n.memoizedProps:null,u=p.children,Qf(d,p)?u=null:_!==null&&Qf(d,_)&&(r.flags|=32),r.memoizedState!==null&&(d=Yh(n,r,FA,null,null,o),Qa._currentValue=d),eu(n,r),xt(n,r,u,o),r.child;case 6:return n===null&&Ce&&((n=o=Ve)&&(o=OT(o,r.pendingProps,bn),o!==null?(r.stateNode=o,vt=r,Ve=null,n=!0):n=!1),n||Ci(r)),null;case 13:return E0(n,r,o);case 4:return Ze(r,r.stateNode.containerInfo),u=r.pendingProps,n===null?r.child=vs(r,null,u,o):xt(n,r,u,o),r.child;case 11:return g0(n,r,r.type,r.pendingProps,o);case 7:return xt(n,r,r.pendingProps,o),r.child;case 8:return xt(n,r,r.pendingProps.children,o),r.child;case 12:return xt(n,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,ki(r,r.type,u.value),xt(n,r,u.children,o),r.child;case 9:return d=r.type._context,u=r.pendingProps.children,ps(r),d=_t(d),u=u(d),r.flags|=1,xt(n,r,u,o),r.child;case 14:return b0(n,r,r.type,r.pendingProps,o);case 15:return v0(n,r,r.type,r.pendingProps,o);case 19:return C0(n,r,o);case 31:return JA(n,r,o);case 22:return _0(n,r,o,r.pendingProps);case 24:return ps(r),u=_t(st),n===null?(d=Bh(),d===null&&(d=Ge,p=jh(),d.pooledCache=p,p.refCount++,p!==null&&(d.pooledCacheLanes|=o),d=p),r.memoizedState={parent:u,cache:d},Lh(r),ki(r,st,d)):((n.lanes&o)!==0&&(Ih(n,r),ka(r,null,null,o),Ca()),d=n.memoizedState,p=r.memoizedState,d.parent!==u?(d={parent:u,cache:u},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),ki(r,st,u)):(u=p.cache,ki(r,st,u),u!==d.cache&&Uh(r,[st],o,!0))),xt(n,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function ni(n){n.flags|=4}function wf(n,r,o,u,d){if((r=(n.mode&32)!==0)&&(r=!1),r){if(n.flags|=16777216,(d&335544128)===d)if(n.stateNode.complete)n.flags|=8192;else if(nb())n.flags|=8192;else throw bs=Ll,Nh}else n.flags&=-16777217}function R0(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Fb(r))if(nb())n.flags|=8192;else throw bs=Ll,Nh}function nu(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?um():536870912,n.lanes|=r,_r|=r)}function ja(n,r){if(!Ce)switch(n.tailMode){case"hidden":r=n.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function Ye(n){var r=n.alternate!==null&&n.alternate.child===n.child,o=0,u=0;if(r)for(var d=n.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=u,n.childLanes=o,r}function tT(n,r,o){var u=r.pendingProps;switch(kh(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(r),null;case 1:return Ye(r),null;case 3:return o=r.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Wn(st),ke(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(or(r)?ni(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Oh())),Ye(r),null;case 26:var d=r.type,p=r.memoizedState;return n===null?(ni(r),p!==null?(Ye(r),R0(r,p)):(Ye(r),wf(r,d,null,u,o))):p?p!==n.memoizedState?(ni(r),Ye(r),R0(r,p)):(Ye(r),r.flags&=-16777217):(n=n.memoizedProps,n!==u&&ni(r),Ye(r),wf(r,d,n,u,o)),null;case 27:if(cn(r),o=oe.current,d=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==u&&ni(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return Ye(r),null}n=te.current,or(r)?ug(r):(n=Bb(d,u,o),r.stateNode=n,ni(r))}return Ye(r),null;case 5:if(cn(r),d=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==u&&ni(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return Ye(r),null}if(p=te.current,or(r))ug(r);else{var _=gu(oe.current);switch(p){case 1:p=_.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:p=_.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":p=_.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":p=_.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":p=_.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof u.is=="string"?_.createElement("select",{is:u.is}):_.createElement("select"),u.multiple?p.multiple=!0:u.size&&(p.size=u.size);break;default:p=typeof u.is=="string"?_.createElement(d,{is:u.is}):_.createElement(d)}}p[bt]=r,p[Nt]=u;e:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)p.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break e;for(;_.sibling===null;){if(_.return===null||_.return===r)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=p;e:switch(wt(p,d,u),d){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&ni(r)}}return Ye(r),wf(r,r.type,n===null?null:n.memoizedProps,r.pendingProps,o),null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==u&&ni(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(n=oe.current,or(r)){if(n=r.stateNode,o=r.memoizedProps,u=null,d=vt,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}n[bt]=r,n=!!(n.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Eb(n.nodeValue,o)),n||Ci(r,!0)}else n=gu(n).createTextNode(u),n[bt]=r,r.stateNode=n}return Ye(r),null;case 31:if(o=r.memoizedState,n===null||n.memoizedState!==null){if(u=or(r),o!==null){if(n===null){if(!u)throw Error(s(318));if(n=r.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(557));n[bt]=r}else ds(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Ye(r),n=!1}else o=Oh(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=o),n=!0;if(!n)return r.flags&256?(tn(r),r):(tn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return Ye(r),null;case 13:if(u=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(d=or(r),u!==null&&u.dehydrated!==null){if(n===null){if(!d)throw Error(s(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[bt]=r}else ds(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Ye(r),d=!1}else d=Oh(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(tn(r),r):(tn(r),null)}return tn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,n=n!==null&&n.memoizedState!==null,o&&(u=r.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool),p=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==d&&(u.flags|=2048)),o!==n&&o&&(r.child.flags|=8192),nu(r,r.updateQueue),Ye(r),null);case 4:return ke(),n===null&&$f(r.stateNode.containerInfo),Ye(r),null;case 10:return Wn(r.type),Ye(r),null;case 19:if(F(nt),u=r.memoizedState,u===null)return Ye(r),null;if(d=(r.flags&128)!==0,p=u.rendering,p===null)if(d)ja(u,!1);else{if(et!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(p=Hl(n),p!==null){for(r.flags|=128,ja(u,!1),n=p.updateQueue,r.updateQueue=n,nu(r,n),r.subtreeFlags=0,n=o,o=r.child;o!==null;)sg(o,n),o=o.sibling;return Z(nt,nt.current&1|2),Ce&&Kn(r,u.treeForkCount),r.child}n=n.sibling}u.tail!==null&&Qt()>ou&&(r.flags|=128,d=!0,ja(u,!1),r.lanes=4194304)}else{if(!d)if(n=Hl(p),n!==null){if(r.flags|=128,d=!0,n=n.updateQueue,r.updateQueue=n,nu(r,n),ja(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!Ce)return Ye(r),null}else 2*Qt()-u.renderingStartTime>ou&&o!==536870912&&(r.flags|=128,d=!0,ja(u,!1),r.lanes=4194304);u.isBackwards?(p.sibling=r.child,r.child=p):(n=u.last,n!==null?n.sibling=p:r.child=p,u.last=p)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=Qt(),n.sibling=null,o=nt.current,Z(nt,d?o&1|2:o&1),Ce&&Kn(r,u.treeForkCount),n):(Ye(r),null);case 22:case 23:return tn(r),$h(),u=r.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(Ye(r),r.subtreeFlags&6&&(r.flags|=8192)):Ye(r),o=r.updateQueue,o!==null&&nu(r,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),n!==null&&F(ms),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Wn(st),Ye(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function nT(n,r){switch(kh(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Wn(st),ke(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return cn(r),null;case 31:if(r.memoizedState!==null){if(tn(r),r.alternate===null)throw Error(s(340));ds()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 13:if(tn(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ds()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return F(nt),null;case 4:return ke(),null;case 10:return Wn(r.type),null;case 22:case 23:return tn(r),$h(),n!==null&&F(ms),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return Wn(st),null;case 25:return null;default:return null}}function O0(n,r){switch(kh(r),r.tag){case 3:Wn(st),ke();break;case 26:case 27:case 5:cn(r);break;case 4:ke();break;case 31:r.memoizedState!==null&&tn(r);break;case 13:tn(r);break;case 19:F(nt);break;case 10:Wn(r.type);break;case 22:case 23:tn(r),$h(),n!==null&&F(ms);break;case 24:Wn(st)}}function Pa(n,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&n)===n){u=void 0;var p=o.create,_=o.inst;u=p(),_.destroy=u}o=o.next}while(o!==d)}}catch(M){Be(r,r.return,M)}}function ji(n,r,o){try{var u=r.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var p=d.next;u=p;do{if((u.tag&n)===n){var _=u.inst,M=_.destroy;if(M!==void 0){_.destroy=void 0,d=r;var U=o,H=M;try{H()}catch(X){Be(d,U,X)}}}u=u.next}while(u!==p)}}catch(X){Be(r,r.return,X)}}function D0(n){var r=n.updateQueue;if(r!==null){var o=n.stateNode;try{wg(r,o)}catch(u){Be(n,n.return,u)}}}function z0(n,r,o){o.props=xs(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(u){Be(n,r,u)}}function Ba(n,r){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof o=="function"?n.refCleanup=o(u):o.current=u}}catch(d){Be(n,r,d)}}function Ln(n,r){var o=n.ref,u=n.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(d){Be(n,r,d)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){Be(n,r,d)}else o.current=null}function U0(n){var r=n.type,o=n.memoizedProps,u=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(d){Be(n,n.return,d)}}function Sf(n,r,o){try{var u=n.stateNode;AT(u,n.type,o,r),u[Nt]=r}catch(d){Be(n,n.return,d)}}function j0(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Gi(n.type)||n.tag===4}function Af(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||j0(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Gi(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Tf(n,r,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(n),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Yn));else if(u!==4&&(u===27&&Gi(n.type)&&(o=n.stateNode,r=null),n=n.child,n!==null))for(Tf(n,r,o),n=n.sibling;n!==null;)Tf(n,r,o),n=n.sibling}function iu(n,r,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?o.insertBefore(n,r):o.appendChild(n);else if(u!==4&&(u===27&&Gi(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(iu(n,r,o),n=n.sibling;n!==null;)iu(n,r,o),n=n.sibling}function P0(n){var r=n.stateNode,o=n.memoizedProps;try{for(var u=n.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);wt(r,u,o),r[bt]=n,r[Nt]=o}catch(p){Be(n,n.return,p)}}var ii=!1,ot=!1,Ef=!1,B0=typeof WeakSet=="function"?WeakSet:Set,ft=null;function iT(n,r){if(n=n.containerInfo,Yf=Au,n=Qm(n),bh(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var _=0,M=-1,U=-1,H=0,X=0,K=n,$=null;t:for(;;){for(var Y;K!==o||d!==0&&K.nodeType!==3||(M=_+d),K!==p||u!==0&&K.nodeType!==3||(U=_+u),K.nodeType===3&&(_+=K.nodeValue.length),(Y=K.firstChild)!==null;)$=K,K=Y;for(;;){if(K===n)break t;if($===o&&++H===d&&(M=_),$===p&&++X===u&&(U=_),(Y=K.nextSibling)!==null)break;K=$,$=K.parentNode}K=Y}o=M===-1||U===-1?null:{start:M,end:U}}else o=null}o=o||{start:0,end:0}}else o=null;for(Xf={focusedElem:n,selectionRange:o},Au=!1,ft=r;ft!==null;)if(r=ft,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,ft=n;else for(;ft!==null;){switch(r=ft,p=r.alternate,n=r.flags,r.tag){case 0:if((n&4)!==0&&(n=r.updateQueue,n=n!==null?n.events:null,n!==null))for(o=0;o<n.length;o++)d=n[o],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&p!==null){n=void 0,o=r,d=p.memoizedProps,p=p.memoizedState,u=o.stateNode;try{var le=xs(o.type,d);n=u.getSnapshotBeforeUpdate(le,p),u.__reactInternalSnapshotBeforeUpdate=n}catch(de){Be(o,o.return,de)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,o=n.nodeType,o===9)Zf(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Zf(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,ft=n;break}ft=r.return}}function N0(n,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:ri(n,o),u&4&&Pa(5,o);break;case 1:if(ri(n,o),u&4)if(n=o.stateNode,r===null)try{n.componentDidMount()}catch(_){Be(o,o.return,_)}else{var d=xs(o.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(d,r,n.__reactInternalSnapshotBeforeUpdate)}catch(_){Be(o,o.return,_)}}u&64&&D0(o),u&512&&Ba(o,o.return);break;case 3:if(ri(n,o),u&64&&(n=o.updateQueue,n!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{wg(n,r)}catch(_){Be(o,o.return,_)}}break;case 27:r===null&&u&4&&P0(o);case 26:case 5:ri(n,o),r===null&&u&4&&U0(o),u&512&&Ba(o,o.return);break;case 12:ri(n,o);break;case 31:ri(n,o),u&4&&q0(n,o);break;case 13:ri(n,o),u&4&&G0(n,o),u&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=fT.bind(null,o),DT(n,o))));break;case 22:if(u=o.memoizedState!==null||ii,!u){r=r!==null&&r.memoizedState!==null||ot,d=ii;var p=ot;ii=u,(ot=r)&&!p?ai(n,o,(o.subtreeFlags&8772)!==0):ri(n,o),ii=d,ot=p}break;case 30:break;default:ri(n,o)}}function L0(n){var r=n.alternate;r!==null&&(n.alternate=null,L0(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&th(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Qe=null,It=!1;function si(n,r,o){for(o=o.child;o!==null;)I0(n,r,o),o=o.sibling}function I0(n,r,o){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(oa,o)}catch{}switch(o.tag){case 26:ot||Ln(o,r),si(n,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:ot||Ln(o,r);var u=Qe,d=It;Gi(o.type)&&(Qe=o.stateNode,It=!1),si(n,r,o),Va(o.stateNode),Qe=u,It=d;break;case 5:ot||Ln(o,r);case 6:if(u=Qe,d=It,Qe=null,si(n,r,o),Qe=u,It=d,Qe!==null)if(It)try{(Qe.nodeType===9?Qe.body:Qe.nodeName==="HTML"?Qe.ownerDocument.body:Qe).removeChild(o.stateNode)}catch(p){Be(o,r,p)}else try{Qe.removeChild(o.stateNode)}catch(p){Be(o,r,p)}break;case 18:Qe!==null&&(It?(n=Qe,Db(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),Cr(n)):Db(Qe,o.stateNode));break;case 4:u=Qe,d=It,Qe=o.stateNode.containerInfo,It=!0,si(n,r,o),Qe=u,It=d;break;case 0:case 11:case 14:case 15:ji(2,o,r),ot||ji(4,o,r),si(n,r,o);break;case 1:ot||(Ln(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&z0(o,r,u)),si(n,r,o);break;case 21:si(n,r,o);break;case 22:ot=(u=ot)||o.memoizedState!==null,si(n,r,o),ot=u;break;default:si(n,r,o)}}function q0(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Cr(n)}catch(o){Be(r,r.return,o)}}}function G0(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Cr(n)}catch(o){Be(r,r.return,o)}}function sT(n){switch(n.tag){case 31:case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new B0),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new B0),r;default:throw Error(s(435,n.tag))}}function su(n,r){var o=sT(n);r.forEach(function(u){if(!o.has(u)){o.add(u);var d=dT.bind(null,n,u);u.then(d,d)}})}function qt(n,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u],p=n,_=r,M=_;e:for(;M!==null;){switch(M.tag){case 27:if(Gi(M.type)){Qe=M.stateNode,It=!1;break e}break;case 5:Qe=M.stateNode,It=!1;break e;case 3:case 4:Qe=M.stateNode.containerInfo,It=!0;break e}M=M.return}if(Qe===null)throw Error(s(160));I0(p,_,d),Qe=null,It=!1,p=d.alternate,p!==null&&(p.return=null),d.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)H0(r,n),r=r.sibling}var kn=null;function H0(n,r){var o=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:qt(r,n),Gt(n),u&4&&(ji(3,n,n.return),Pa(3,n),ji(5,n,n.return));break;case 1:qt(r,n),Gt(n),u&512&&(ot||o===null||Ln(o,o.return)),u&64&&ii&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var d=kn;if(qt(r,n),Gt(n),u&512&&(ot||o===null||Ln(o,o.return)),u&4){var p=o!==null?o.memoizedState:null;if(u=n.memoizedState,o===null)if(u===null)if(n.stateNode===null){e:{u=n.type,o=n.memoizedProps,d=d.ownerDocument||d;t:switch(u){case"title":p=d.getElementsByTagName("title")[0],(!p||p[ca]||p[bt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=d.createElement(u),d.head.insertBefore(p,d.querySelector("head > title"))),wt(p,u,o),p[bt]=n,ht(p),u=p;break e;case"link":var _=Hb("link","href",d).get(u+(o.href||""));if(_){for(var M=0;M<_.length;M++)if(p=_[M],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){_.splice(M,1);break t}}p=d.createElement(u),wt(p,u,o),d.head.appendChild(p);break;case"meta":if(_=Hb("meta","content",d).get(u+(o.content||""))){for(M=0;M<_.length;M++)if(p=_[M],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){_.splice(M,1);break t}}p=d.createElement(u),wt(p,u,o),d.head.appendChild(p);break;default:throw Error(s(468,u))}p[bt]=n,ht(p),u=p}n.stateNode=u}else $b(d,n.type,n.stateNode);else n.stateNode=Gb(d,u,n.memoizedProps);else p!==u?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,u===null?$b(d,n.type,n.stateNode):Gb(d,u,n.memoizedProps)):u===null&&n.stateNode!==null&&Sf(n,n.memoizedProps,o.memoizedProps)}break;case 27:qt(r,n),Gt(n),u&512&&(ot||o===null||Ln(o,o.return)),o!==null&&u&4&&Sf(n,n.memoizedProps,o.memoizedProps);break;case 5:if(qt(r,n),Gt(n),u&512&&(ot||o===null||Ln(o,o.return)),n.flags&32){d=n.stateNode;try{Zs(d,"")}catch(le){Be(n,n.return,le)}}u&4&&n.stateNode!=null&&(d=n.memoizedProps,Sf(n,d,o!==null?o.memoizedProps:d)),u&1024&&(Ef=!0);break;case 6:if(qt(r,n),Gt(n),u&4){if(n.stateNode===null)throw Error(s(162));u=n.memoizedProps,o=n.stateNode;try{o.nodeValue=u}catch(le){Be(n,n.return,le)}}break;case 3:if(_u=null,d=kn,kn=bu(r.containerInfo),qt(r,n),kn=d,Gt(n),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Cr(r.containerInfo)}catch(le){Be(n,n.return,le)}Ef&&(Ef=!1,$0(n));break;case 4:u=kn,kn=bu(n.stateNode.containerInfo),qt(r,n),Gt(n),kn=u;break;case 12:qt(r,n),Gt(n);break;case 31:qt(r,n),Gt(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,su(n,u)));break;case 13:qt(r,n),Gt(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(au=Qt()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,su(n,u)));break;case 22:d=n.memoizedState!==null;var U=o!==null&&o.memoizedState!==null,H=ii,X=ot;if(ii=H||d,ot=X||U,qt(r,n),ot=X,ii=H,Gt(n),u&8192)e:for(r=n.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(o===null||U||ii||ot||ws(n)),o=null,r=n;;){if(r.tag===5||r.tag===26){if(o===null){U=o=r;try{if(p=U.stateNode,d)_=p.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{M=U.stateNode;var K=U.memoizedProps.style,$=K!=null&&K.hasOwnProperty("display")?K.display:null;M.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(le){Be(U,U.return,le)}}}else if(r.tag===6){if(o===null){U=r;try{U.stateNode.nodeValue=d?"":U.memoizedProps}catch(le){Be(U,U.return,le)}}}else if(r.tag===18){if(o===null){U=r;try{var Y=U.stateNode;d?zb(Y,!0):zb(U.stateNode,!1)}catch(le){Be(U,U.return,le)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=n.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,su(n,o))));break;case 19:qt(r,n),Gt(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,su(n,u)));break;case 30:break;case 21:break;default:qt(r,n),Gt(n)}}function Gt(n){var r=n.flags;if(r&2){try{for(var o,u=n.return;u!==null;){if(j0(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var d=o.stateNode,p=Af(n);iu(n,p,d);break;case 5:var _=o.stateNode;o.flags&32&&(Zs(_,""),o.flags&=-33);var M=Af(n);iu(n,M,_);break;case 3:case 4:var U=o.stateNode.containerInfo,H=Af(n);Tf(n,H,U);break;default:throw Error(s(161))}}catch(X){Be(n,n.return,X)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function $0(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;$0(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function ri(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)N0(n,r.alternate,r),r=r.sibling}function ws(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:ji(4,r,r.return),ws(r);break;case 1:Ln(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&z0(r,r.return,o),ws(r);break;case 27:Va(r.stateNode);case 26:case 5:Ln(r,r.return),ws(r);break;case 22:r.memoizedState===null&&ws(r);break;case 30:ws(r);break;default:ws(r)}n=n.sibling}}function ai(n,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,d=n,p=r,_=p.flags;switch(p.tag){case 0:case 11:case 15:ai(d,p,o),Pa(4,p);break;case 1:if(ai(d,p,o),u=p,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(H){Be(u,u.return,H)}if(u=p,d=u.updateQueue,d!==null){var M=u.stateNode;try{var U=d.shared.hiddenCallbacks;if(U!==null)for(d.shared.hiddenCallbacks=null,d=0;d<U.length;d++)xg(U[d],M)}catch(H){Be(u,u.return,H)}}o&&_&64&&D0(p),Ba(p,p.return);break;case 27:P0(p);case 26:case 5:ai(d,p,o),o&&u===null&&_&4&&U0(p),Ba(p,p.return);break;case 12:ai(d,p,o);break;case 31:ai(d,p,o),o&&_&4&&q0(d,p);break;case 13:ai(d,p,o),o&&_&4&&G0(d,p);break;case 22:p.memoizedState===null&&ai(d,p,o),Ba(p,p.return);break;case 30:break;default:ai(d,p,o)}r=r.sibling}}function Mf(n,r){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&Sa(o))}function Cf(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Sa(n))}function Rn(n,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)F0(n,r,o,u),r=r.sibling}function F0(n,r,o,u){var d=r.flags;switch(r.tag){case 0:case 11:case 15:Rn(n,r,o,u),d&2048&&Pa(9,r);break;case 1:Rn(n,r,o,u);break;case 3:Rn(n,r,o,u),d&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Sa(n)));break;case 12:if(d&2048){Rn(n,r,o,u),n=r.stateNode;try{var p=r.memoizedProps,_=p.id,M=p.onPostCommit;typeof M=="function"&&M(_,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(U){Be(r,r.return,U)}}else Rn(n,r,o,u);break;case 31:Rn(n,r,o,u);break;case 13:Rn(n,r,o,u);break;case 23:break;case 22:p=r.stateNode,_=r.alternate,r.memoizedState!==null?p._visibility&2?Rn(n,r,o,u):Na(n,r):p._visibility&2?Rn(n,r,o,u):(p._visibility|=2,gr(n,r,o,u,(r.subtreeFlags&10256)!==0||!1)),d&2048&&Mf(_,r);break;case 24:Rn(n,r,o,u),d&2048&&Cf(r.alternate,r);break;default:Rn(n,r,o,u)}}function gr(n,r,o,u,d){for(d=d&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var p=n,_=r,M=o,U=u,H=_.flags;switch(_.tag){case 0:case 11:case 15:gr(p,_,M,U,d),Pa(8,_);break;case 23:break;case 22:var X=_.stateNode;_.memoizedState!==null?X._visibility&2?gr(p,_,M,U,d):Na(p,_):(X._visibility|=2,gr(p,_,M,U,d)),d&&H&2048&&Mf(_.alternate,_);break;case 24:gr(p,_,M,U,d),d&&H&2048&&Cf(_.alternate,_);break;default:gr(p,_,M,U,d)}r=r.sibling}}function Na(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=n,u=r,d=u.flags;switch(u.tag){case 22:Na(o,u),d&2048&&Mf(u.alternate,u);break;case 24:Na(o,u),d&2048&&Cf(u.alternate,u);break;default:Na(o,u)}r=r.sibling}}var La=8192;function br(n,r,o){if(n.subtreeFlags&La)for(n=n.child;n!==null;)V0(n,r,o),n=n.sibling}function V0(n,r,o){switch(n.tag){case 26:br(n,r,o),n.flags&La&&n.memoizedState!==null&&$T(o,kn,n.memoizedState,n.memoizedProps);break;case 5:br(n,r,o);break;case 3:case 4:var u=kn;kn=bu(n.stateNode.containerInfo),br(n,r,o),kn=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=La,La=16777216,br(n,r,o),La=u):br(n,r,o));break;default:br(n,r,o)}}function Y0(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Ia(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];ft=u,Q0(u,n)}Y0(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)X0(n),n=n.sibling}function X0(n){switch(n.tag){case 0:case 11:case 15:Ia(n),n.flags&2048&&ji(9,n,n.return);break;case 3:Ia(n);break;case 12:Ia(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,ru(n)):Ia(n);break;default:Ia(n)}}function ru(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];ft=u,Q0(u,n)}Y0(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:ji(8,r,r.return),ru(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,ru(r));break;default:ru(r)}n=n.sibling}}function Q0(n,r){for(;ft!==null;){var o=ft;switch(o.tag){case 0:case 11:case 15:ji(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Sa(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,ft=u;else e:for(o=n;ft!==null;){u=ft;var d=u.sibling,p=u.return;if(L0(u),u===o){ft=null;break e}if(d!==null){d.return=p,ft=d;break e}ft=p}}}var rT={getCacheForType:function(n){var r=_t(st),o=r.data.get(n);return o===void 0&&(o=n(),r.data.set(n,o)),o},cacheSignal:function(){return _t(st).controller.signal}},aT=typeof WeakMap=="function"?WeakMap:Map,Ue=0,Ge=null,Se=null,Ee=0,Pe=0,nn=null,Pi=!1,vr=!1,kf=!1,oi=0,et=0,Bi=0,Ss=0,Rf=0,sn=0,_r=0,qa=null,Ht=null,Of=!1,au=0,K0=0,ou=1/0,lu=null,Ni=null,ut=0,Li=null,xr=null,li=0,Df=0,zf=null,Z0=null,Ga=0,Uf=null;function rn(){return(Ue&2)!==0&&Ee!==0?Ee&-Ee:D.T!==null?If():dm()}function W0(){if(sn===0)if((Ee&536870912)===0||Ce){var n=ml;ml<<=1,(ml&3932160)===0&&(ml=262144),sn=n}else sn=536870912;return n=en.current,n!==null&&(n.flags|=32),sn}function $t(n,r,o){(n===Ge&&(Pe===2||Pe===9)||n.cancelPendingCommit!==null)&&(wr(n,0),Ii(n,Ee,sn,!1)),ua(n,o),((Ue&2)===0||n!==Ge)&&(n===Ge&&((Ue&2)===0&&(Ss|=o),et===4&&Ii(n,Ee,sn,!1)),In(n))}function J0(n,r,o){if((Ue&6)!==0)throw Error(s(327));var u=!o&&(r&127)===0&&(r&n.expiredLanes)===0||la(n,r),d=u?uT(n,r):Pf(n,r,!0),p=u;do{if(d===0){vr&&!u&&Ii(n,r,0,!1);break}else{if(o=n.current.alternate,p&&!oT(o)){d=Pf(n,r,!1),p=!1;continue}if(d===2){if(p=r,n.errorRecoveryDisabledLanes&p)var _=0;else _=n.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var M=n;d=qa;var U=M.current.memoizedState.isDehydrated;if(U&&(wr(M,_).flags|=256),_=Pf(M,_,!1),_!==2){if(kf&&!U){M.errorRecoveryDisabledLanes|=p,Ss|=p,d=4;break e}p=Ht,Ht=d,p!==null&&(Ht===null?Ht=p:Ht.push.apply(Ht,p))}d=_}if(p=!1,d!==2)continue}}if(d===1){wr(n,0),Ii(n,r,0,!0);break}e:{switch(u=n,p=d,p){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Ii(u,r,sn,!Pi);break e;case 2:Ht=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(d=au+300-Qt(),10<d)){if(Ii(u,r,sn,!Pi),bl(u,0,!0)!==0)break e;li=r,u.timeoutHandle=Rb(eb.bind(null,u,o,Ht,lu,Of,r,sn,Ss,_r,Pi,p,"Throttled",-0,0),d);break e}eb(u,o,Ht,lu,Of,r,sn,Ss,_r,Pi,p,null,-0,0)}}break}while(!0);In(n)}function eb(n,r,o,u,d,p,_,M,U,H,X,K,$,Y){if(n.timeoutHandle=-1,K=r.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yn},V0(r,p,K);var le=(p&62914560)===p?au-Qt():(p&4194048)===p?K0-Qt():0;if(le=FT(K,le),le!==null){li=p,n.cancelPendingCommit=le(lb.bind(null,n,r,p,o,u,d,_,M,U,X,K,null,$,Y)),Ii(n,p,_,!H);return}}lb(n,r,p,o,u,d,_,M,U)}function oT(n){for(var r=n;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var d=o[u],p=d.getSnapshot;d=d.value;try{if(!Wt(p(),d))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ii(n,r,o,u){r&=~Rf,r&=~Ss,n.suspendedLanes|=r,n.pingedLanes&=~r,u&&(n.warmLanes|=r),u=n.expirationTimes;for(var d=r;0<d;){var p=31-Zt(d),_=1<<p;u[p]=-1,d&=~_}o!==0&&cm(n,o,r)}function uu(){return(Ue&6)===0?(Ha(0),!1):!0}function jf(){if(Se!==null){if(Pe===0)var n=Se.return;else n=Se,Zn=ys=null,Kh(n),fr=null,Ta=0,n=Se;for(;n!==null;)O0(n.alternate,n),n=n.return;Se=null}}function wr(n,r){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,MT(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),li=0,jf(),Ge=n,Se=o=Qn(n.current,null),Ee=r,Pe=0,nn=null,Pi=!1,vr=la(n,r),kf=!1,_r=sn=Rf=Ss=Bi=et=0,Ht=qa=null,Of=!1,(r&8)!==0&&(r|=r&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=r;0<u;){var d=31-Zt(u),p=1<<d;r|=n[d],u&=~p}return oi=r,Rl(),o}function tb(n,r){be=null,D.H=za,r===hr||r===Nl?(r=gg(),Pe=3):r===Nh?(r=gg(),Pe=4):Pe=r===df?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,nn=r,Se===null&&(et=1,Wl(n,pn(r,n.current)))}function nb(){var n=en.current;return n===null?!0:(Ee&4194048)===Ee?vn===null:(Ee&62914560)===Ee||(Ee&536870912)!==0?n===vn:!1}function ib(){var n=D.H;return D.H=za,n===null?za:n}function sb(){var n=D.A;return D.A=rT,n}function cu(){et=4,Pi||(Ee&4194048)!==Ee&&en.current!==null||(vr=!0),(Bi&134217727)===0&&(Ss&134217727)===0||Ge===null||Ii(Ge,Ee,sn,!1)}function Pf(n,r,o){var u=Ue;Ue|=2;var d=ib(),p=sb();(Ge!==n||Ee!==r)&&(lu=null,wr(n,r)),r=!1;var _=et;e:do try{if(Pe!==0&&Se!==null){var M=Se,U=nn;switch(Pe){case 8:jf(),_=6;break e;case 3:case 2:case 9:case 6:en.current===null&&(r=!0);var H=Pe;if(Pe=0,nn=null,Sr(n,M,U,H),o&&vr){_=0;break e}break;default:H=Pe,Pe=0,nn=null,Sr(n,M,U,H)}}lT(),_=et;break}catch(X){tb(n,X)}while(!0);return r&&n.shellSuspendCounter++,Zn=ys=null,Ue=u,D.H=d,D.A=p,Se===null&&(Ge=null,Ee=0,Rl()),_}function lT(){for(;Se!==null;)rb(Se)}function uT(n,r){var o=Ue;Ue|=2;var u=ib(),d=sb();Ge!==n||Ee!==r?(lu=null,ou=Qt()+500,wr(n,r)):vr=la(n,r);e:do try{if(Pe!==0&&Se!==null){r=Se;var p=nn;t:switch(Pe){case 1:Pe=0,nn=null,Sr(n,r,p,1);break;case 2:case 9:if(pg(p)){Pe=0,nn=null,ab(r);break}r=function(){Pe!==2&&Pe!==9||Ge!==n||(Pe=7),In(n)},p.then(r,r);break e;case 3:Pe=7;break e;case 4:Pe=5;break e;case 7:pg(p)?(Pe=0,nn=null,ab(r)):(Pe=0,nn=null,Sr(n,r,p,7));break;case 5:var _=null;switch(Se.tag){case 26:_=Se.memoizedState;case 5:case 27:var M=Se;if(_?Fb(_):M.stateNode.complete){Pe=0,nn=null;var U=M.sibling;if(U!==null)Se=U;else{var H=M.return;H!==null?(Se=H,hu(H)):Se=null}break t}}Pe=0,nn=null,Sr(n,r,p,5);break;case 6:Pe=0,nn=null,Sr(n,r,p,6);break;case 8:jf(),et=6;break e;default:throw Error(s(462))}}cT();break}catch(X){tb(n,X)}while(!0);return Zn=ys=null,D.H=u,D.A=d,Ue=o,Se!==null?0:(Ge=null,Ee=0,Rl(),et)}function cT(){for(;Se!==null&&!z1();)rb(Se)}function rb(n){var r=k0(n.alternate,n,oi);n.memoizedProps=n.pendingProps,r===null?hu(n):Se=r}function ab(n){var r=n,o=r.alternate;switch(r.tag){case 15:case 0:r=S0(o,r,r.pendingProps,r.type,void 0,Ee);break;case 11:r=S0(o,r,r.pendingProps,r.type.render,r.ref,Ee);break;case 5:Kh(r);default:O0(o,r),r=Se=sg(r,oi),r=k0(o,r,oi)}n.memoizedProps=n.pendingProps,r===null?hu(n):Se=r}function Sr(n,r,o,u){Zn=ys=null,Kh(r),fr=null,Ta=0;var d=r.return;try{if(WA(n,d,r,o,Ee)){et=1,Wl(n,pn(o,n.current)),Se=null;return}}catch(p){if(d!==null)throw Se=d,p;et=1,Wl(n,pn(o,n.current)),Se=null;return}r.flags&32768?(Ce||u===1?n=!0:vr||(Ee&536870912)!==0?n=!1:(Pi=n=!0,(u===2||u===9||u===3||u===6)&&(u=en.current,u!==null&&u.tag===13&&(u.flags|=16384))),ob(r,n)):hu(r)}function hu(n){var r=n;do{if((r.flags&32768)!==0){ob(r,Pi);return}n=r.return;var o=tT(r.alternate,r,oi);if(o!==null){Se=o;return}if(r=r.sibling,r!==null){Se=r;return}Se=r=n}while(r!==null);et===0&&(et=5)}function ob(n,r){do{var o=nT(n.alternate,n);if(o!==null){o.flags&=32767,Se=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(n=n.sibling,n!==null)){Se=n;return}Se=n=o}while(n!==null);et=6,Se=null}function lb(n,r,o,u,d,p,_,M,U){n.cancelPendingCommit=null;do fu();while(ut!==0);if((Ue&6)!==0)throw Error(s(327));if(r!==null){if(r===n.current)throw Error(s(177));if(p=r.lanes|r.childLanes,p|=Sh,H1(n,o,p,_,M,U),n===Ge&&(Se=Ge=null,Ee=0),xr=r,Li=n,li=o,Df=p,zf=d,Z0=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,yT(yl,function(){return db(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=D.T,D.T=null,d=I.p,I.p=2,_=Ue,Ue|=4;try{iT(n,r,o)}finally{Ue=_,I.p=d,D.T=u}}ut=1,ub(),cb(),hb()}}function ub(){if(ut===1){ut=0;var n=Li,r=xr,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=D.T,D.T=null;var u=I.p;I.p=2;var d=Ue;Ue|=4;try{H0(r,n);var p=Xf,_=Qm(n.containerInfo),M=p.focusedElem,U=p.selectionRange;if(_!==M&&M&&M.ownerDocument&&Xm(M.ownerDocument.documentElement,M)){if(U!==null&&bh(M)){var H=U.start,X=U.end;if(X===void 0&&(X=H),"selectionStart"in M)M.selectionStart=H,M.selectionEnd=Math.min(X,M.value.length);else{var K=M.ownerDocument||document,$=K&&K.defaultView||window;if($.getSelection){var Y=$.getSelection(),le=M.textContent.length,de=Math.min(U.start,le),Ie=U.end===void 0?de:Math.min(U.end,le);!Y.extend&&de>Ie&&(_=Ie,Ie=de,de=_);var q=Ym(M,de),L=Ym(M,Ie);if(q&&L&&(Y.rangeCount!==1||Y.anchorNode!==q.node||Y.anchorOffset!==q.offset||Y.focusNode!==L.node||Y.focusOffset!==L.offset)){var G=K.createRange();G.setStart(q.node,q.offset),Y.removeAllRanges(),de>Ie?(Y.addRange(G),Y.extend(L.node,L.offset)):(G.setEnd(L.node,L.offset),Y.addRange(G))}}}}for(K=[],Y=M;Y=Y.parentNode;)Y.nodeType===1&&K.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<K.length;M++){var Q=K[M];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Au=!!Yf,Xf=Yf=null}finally{Ue=d,I.p=u,D.T=o}}n.current=r,ut=2}}function cb(){if(ut===2){ut=0;var n=Li,r=xr,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=D.T,D.T=null;var u=I.p;I.p=2;var d=Ue;Ue|=4;try{N0(n,r.alternate,r)}finally{Ue=d,I.p=u,D.T=o}}ut=3}}function hb(){if(ut===4||ut===3){ut=0,U1();var n=Li,r=xr,o=li,u=Z0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?ut=5:(ut=0,xr=Li=null,fb(n,n.pendingLanes));var d=n.pendingLanes;if(d===0&&(Ni=null),Jc(o),r=r.stateNode,Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(oa,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=D.T,d=I.p,I.p=2,D.T=null;try{for(var p=n.onRecoverableError,_=0;_<u.length;_++){var M=u[_];p(M.value,{componentStack:M.stack})}}finally{D.T=r,I.p=d}}(li&3)!==0&&fu(),In(n),d=n.pendingLanes,(o&261930)!==0&&(d&42)!==0?n===Uf?Ga++:(Ga=0,Uf=n):Ga=0,Ha(0)}}function fb(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,Sa(r)))}function fu(){return ub(),cb(),hb(),db()}function db(){if(ut!==5)return!1;var n=Li,r=Df;Df=0;var o=Jc(li),u=D.T,d=I.p;try{I.p=32>o?32:o,D.T=null,o=zf,zf=null;var p=Li,_=li;if(ut=0,xr=Li=null,li=0,(Ue&6)!==0)throw Error(s(331));var M=Ue;if(Ue|=4,X0(p.current),F0(p,p.current,_,o),Ue=M,Ha(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(oa,p)}catch{}return!0}finally{I.p=d,D.T=u,fb(n,r)}}function yb(n,r,o){r=pn(o,r),r=ff(n.stateNode,r,2),n=Di(n,r,2),n!==null&&(ua(n,2),In(n))}function Be(n,r,o){if(n.tag===3)yb(n,n,o);else for(;r!==null;){if(r.tag===3){yb(r,n,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ni===null||!Ni.has(u))){n=pn(o,n),o=p0(2),u=Di(r,o,2),u!==null&&(m0(o,u,r,n),ua(u,2),In(u));break}}r=r.return}}function Bf(n,r,o){var u=n.pingCache;if(u===null){u=n.pingCache=new aT;var d=new Set;u.set(r,d)}else d=u.get(r),d===void 0&&(d=new Set,u.set(r,d));d.has(o)||(kf=!0,d.add(o),n=hT.bind(null,n,r,o),r.then(n,n))}function hT(n,r,o){var u=n.pingCache;u!==null&&u.delete(r),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,Ge===n&&(Ee&o)===o&&(et===4||et===3&&(Ee&62914560)===Ee&&300>Qt()-au?(Ue&2)===0&&wr(n,0):Rf|=o,_r===Ee&&(_r=0)),In(n)}function pb(n,r){r===0&&(r=um()),n=hs(n,r),n!==null&&(ua(n,r),In(n))}function fT(n){var r=n.memoizedState,o=0;r!==null&&(o=r.retryLane),pb(n,o)}function dT(n,r){var o=0;switch(n.tag){case 31:case 13:var u=n.stateNode,d=n.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),pb(n,o)}function yT(n,r){return Qc(n,r)}var du=null,Ar=null,Nf=!1,yu=!1,Lf=!1,qi=0;function In(n){n!==Ar&&n.next===null&&(Ar===null?du=Ar=n:Ar=Ar.next=n),yu=!0,Nf||(Nf=!0,mT())}function Ha(n,r){if(!Lf&&yu){Lf=!0;do for(var o=!1,u=du;u!==null;){if(n!==0){var d=u.pendingLanes;if(d===0)var p=0;else{var _=u.suspendedLanes,M=u.pingedLanes;p=(1<<31-Zt(42|n)+1)-1,p&=d&~(_&~M),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,vb(u,p))}else p=Ee,p=bl(u,u===Ge?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||la(u,p)||(o=!0,vb(u,p));u=u.next}while(o);Lf=!1}}function pT(){mb()}function mb(){yu=Nf=!1;var n=0;qi!==0&&ET()&&(n=qi);for(var r=Qt(),o=null,u=du;u!==null;){var d=u.next,p=gb(u,r);p===0?(u.next=null,o===null?du=d:o.next=d,d===null&&(Ar=o)):(o=u,(n!==0||(p&3)!==0)&&(yu=!0)),u=d}ut!==0&&ut!==5||Ha(n),qi!==0&&(qi=0)}function gb(n,r){for(var o=n.suspendedLanes,u=n.pingedLanes,d=n.expirationTimes,p=n.pendingLanes&-62914561;0<p;){var _=31-Zt(p),M=1<<_,U=d[_];U===-1?((M&o)===0||(M&u)!==0)&&(d[_]=G1(M,r)):U<=r&&(n.expiredLanes|=M),p&=~M}if(r=Ge,o=Ee,o=bl(n,n===r?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,o===0||n===r&&(Pe===2||Pe===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&Kc(u),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||la(n,o)){if(r=o&-o,r===n.callbackPriority)return r;switch(u!==null&&Kc(u),Jc(o)){case 2:case 8:o=om;break;case 32:o=yl;break;case 268435456:o=lm;break;default:o=yl}return u=bb.bind(null,n),o=Qc(o,u),n.callbackPriority=r,n.callbackNode=o,r}return u!==null&&u!==null&&Kc(u),n.callbackPriority=2,n.callbackNode=null,2}function bb(n,r){if(ut!==0&&ut!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(fu()&&n.callbackNode!==o)return null;var u=Ee;return u=bl(n,n===Ge?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(J0(n,u,r),gb(n,Qt()),n.callbackNode!=null&&n.callbackNode===o?bb.bind(null,n):null)}function vb(n,r){if(fu())return null;J0(n,r,!0)}function mT(){CT(function(){(Ue&6)!==0?Qc(am,pT):mb()})}function If(){if(qi===0){var n=ur;n===0&&(n=pl,pl<<=1,(pl&261888)===0&&(pl=256)),qi=n}return qi}function _b(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:wl(""+n)}function xb(n,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,n.id&&o.setAttribute("form",n.id),r.parentNode.insertBefore(o,r),n=new FormData(n),o.parentNode.removeChild(o),n}function gT(n,r,o,u,d){if(r==="submit"&&o&&o.stateNode===d){var p=_b((d[Nt]||null).action),_=u.submitter;_&&(r=(r=_[Nt]||null)?_b(r.formAction):_.getAttribute("formAction"),r!==null&&(p=r,_=null));var M=new El("action","action",null,u,d);n.push({event:M,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(qi!==0){var U=_?xb(d,_):new FormData(d);af(o,{pending:!0,data:U,method:d.method,action:p},null,U)}}else typeof p=="function"&&(M.preventDefault(),U=_?xb(d,_):new FormData(d),af(o,{pending:!0,data:U,method:d.method,action:p},p,U))},currentTarget:d}]})}}for(var qf=0;qf<wh.length;qf++){var Gf=wh[qf],bT=Gf.toLowerCase(),vT=Gf[0].toUpperCase()+Gf.slice(1);Cn(bT,"on"+vT)}Cn(Wm,"onAnimationEnd"),Cn(Jm,"onAnimationIteration"),Cn(eg,"onAnimationStart"),Cn("dblclick","onDoubleClick"),Cn("focusin","onFocus"),Cn("focusout","onBlur"),Cn(jA,"onTransitionRun"),Cn(PA,"onTransitionStart"),Cn(BA,"onTransitionCancel"),Cn(tg,"onTransitionEnd"),Qs("onMouseEnter",["mouseout","mouseover"]),Qs("onMouseLeave",["mouseout","mouseover"]),Qs("onPointerEnter",["pointerout","pointerover"]),Qs("onPointerLeave",["pointerout","pointerover"]),os("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),os("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),os("onBeforeInput",["compositionend","keypress","textInput","paste"]),os("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),os("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),os("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $a="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_T=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($a));function wb(n,r){r=(r&4)!==0;for(var o=0;o<n.length;o++){var u=n[o],d=u.event;u=u.listeners;e:{var p=void 0;if(r)for(var _=u.length-1;0<=_;_--){var M=u[_],U=M.instance,H=M.currentTarget;if(M=M.listener,U!==p&&d.isPropagationStopped())break e;p=M,d.currentTarget=H;try{p(d)}catch(X){kl(X)}d.currentTarget=null,p=U}else for(_=0;_<u.length;_++){if(M=u[_],U=M.instance,H=M.currentTarget,M=M.listener,U!==p&&d.isPropagationStopped())break e;p=M,d.currentTarget=H;try{p(d)}catch(X){kl(X)}d.currentTarget=null,p=U}}}}function Ae(n,r){var o=r[eh];o===void 0&&(o=r[eh]=new Set);var u=n+"__bubble";o.has(u)||(Sb(r,n,2,!1),o.add(u))}function Hf(n,r,o){var u=0;r&&(u|=4),Sb(o,n,u,r)}var pu="_reactListening"+Math.random().toString(36).slice(2);function $f(n){if(!n[pu]){n[pu]=!0,mm.forEach(function(o){o!=="selectionchange"&&(_T.has(o)||Hf(o,!1,n),Hf(o,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[pu]||(r[pu]=!0,Hf("selectionchange",!1,r))}}function Sb(n,r,o,u){switch(Wb(r)){case 2:var d=XT;break;case 8:d=QT;break;default:d=rd}o=d.bind(null,r,o,n),d=void 0,!uh||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),u?d!==void 0?n.addEventListener(r,o,{capture:!0,passive:d}):n.addEventListener(r,o,!0):d!==void 0?n.addEventListener(r,o,{passive:d}):n.addEventListener(r,o,!1)}function Ff(n,r,o,u,d){var p=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var M=u.stateNode.containerInfo;if(M===d)break;if(_===4)for(_=u.return;_!==null;){var U=_.tag;if((U===3||U===4)&&_.stateNode.containerInfo===d)return;_=_.return}for(;M!==null;){if(_=Vs(M),_===null)return;if(U=_.tag,U===5||U===6||U===26||U===27){u=p=_;continue e}M=M.parentNode}}u=u.return}Cm(function(){var H=p,X=oh(o),K=[];e:{var $=ng.get(n);if($!==void 0){var Y=El,le=n;switch(n){case"keypress":if(Al(o)===0)break e;case"keydown":case"keyup":Y=dA;break;case"focusin":le="focus",Y=dh;break;case"focusout":le="blur",Y=dh;break;case"beforeblur":case"afterblur":Y=dh;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Om;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=tA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=mA;break;case Wm:case Jm:case eg:Y=sA;break;case tg:Y=bA;break;case"scroll":case"scrollend":Y=J1;break;case"wheel":Y=_A;break;case"copy":case"cut":case"paste":Y=aA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=zm;break;case"toggle":case"beforetoggle":Y=wA}var de=(r&4)!==0,Ie=!de&&(n==="scroll"||n==="scrollend"),q=de?$!==null?$+"Capture":null:$;de=[];for(var L=H,G;L!==null;){var Q=L;if(G=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||G===null||q===null||(Q=fa(L,q),Q!=null&&de.push(Fa(L,Q,G))),Ie)break;L=L.return}0<de.length&&($=new Y($,le,null,o,X),K.push({event:$,listeners:de}))}}if((r&7)===0){e:{if($=n==="mouseover"||n==="pointerover",Y=n==="mouseout"||n==="pointerout",$&&o!==ah&&(le=o.relatedTarget||o.fromElement)&&(Vs(le)||le[Fs]))break e;if((Y||$)&&($=X.window===X?X:($=X.ownerDocument)?$.defaultView||$.parentWindow:window,Y?(le=o.relatedTarget||o.toElement,Y=H,le=le?Vs(le):null,le!==null&&(Ie=l(le),de=le.tag,le!==Ie||de!==5&&de!==27&&de!==6)&&(le=null)):(Y=null,le=H),Y!==le)){if(de=Om,Q="onMouseLeave",q="onMouseEnter",L="mouse",(n==="pointerout"||n==="pointerover")&&(de=zm,Q="onPointerLeave",q="onPointerEnter",L="pointer"),Ie=Y==null?$:ha(Y),G=le==null?$:ha(le),$=new de(Q,L+"leave",Y,o,X),$.target=Ie,$.relatedTarget=G,Q=null,Vs(X)===H&&(de=new de(q,L+"enter",le,o,X),de.target=G,de.relatedTarget=Ie,Q=de),Ie=Q,Y&&le)t:{for(de=xT,q=Y,L=le,G=0,Q=q;Q;Q=de(Q))G++;Q=0;for(var fe=L;fe;fe=de(fe))Q++;for(;0<G-Q;)q=de(q),G--;for(;0<Q-G;)L=de(L),Q--;for(;G--;){if(q===L||L!==null&&q===L.alternate){de=q;break t}q=de(q),L=de(L)}de=null}else de=null;Y!==null&&Ab(K,$,Y,de,!1),le!==null&&Ie!==null&&Ab(K,Ie,le,de,!0)}}e:{if($=H?ha(H):window,Y=$.nodeName&&$.nodeName.toLowerCase(),Y==="select"||Y==="input"&&$.type==="file")var De=qm;else if(Lm($))if(Gm)De=DA;else{De=RA;var he=kA}else Y=$.nodeName,!Y||Y.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?H&&rh(H.elementType)&&(De=qm):De=OA;if(De&&(De=De(n,H))){Im(K,De,o,X);break e}he&&he(n,$,H),n==="focusout"&&H&&$.type==="number"&&H.memoizedProps.value!=null&&sh($,"number",$.value)}switch(he=H?ha(H):window,n){case"focusin":(Lm(he)||he.contentEditable==="true")&&(tr=he,vh=H,_a=null);break;case"focusout":_a=vh=tr=null;break;case"mousedown":_h=!0;break;case"contextmenu":case"mouseup":case"dragend":_h=!1,Km(K,o,X);break;case"selectionchange":if(UA)break;case"keydown":case"keyup":Km(K,o,X)}var _e;if(ph)e:{switch(n){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else er?Bm(n,o)&&(Me="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(Me="onCompositionStart");Me&&(Um&&o.locale!=="ko"&&(er||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&er&&(_e=km()):(Ti=X,ch="value"in Ti?Ti.value:Ti.textContent,er=!0)),he=mu(H,Me),0<he.length&&(Me=new Dm(Me,n,null,o,X),K.push({event:Me,listeners:he}),_e?Me.data=_e:(_e=Nm(o),_e!==null&&(Me.data=_e)))),(_e=AA?TA(n,o):EA(n,o))&&(Me=mu(H,"onBeforeInput"),0<Me.length&&(he=new Dm("onBeforeInput","beforeinput",null,o,X),K.push({event:he,listeners:Me}),he.data=_e)),gT(K,n,H,o,X)}wb(K,r)})}function Fa(n,r,o){return{instance:n,listener:r,currentTarget:o}}function mu(n,r){for(var o=r+"Capture",u=[];n!==null;){var d=n,p=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||p===null||(d=fa(n,o),d!=null&&u.unshift(Fa(n,d,p)),d=fa(n,r),d!=null&&u.push(Fa(n,d,p))),n.tag===3)return u;n=n.return}return[]}function xT(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Ab(n,r,o,u,d){for(var p=r._reactName,_=[];o!==null&&o!==u;){var M=o,U=M.alternate,H=M.stateNode;if(M=M.tag,U!==null&&U===u)break;M!==5&&M!==26&&M!==27||H===null||(U=H,d?(H=fa(o,p),H!=null&&_.unshift(Fa(o,H,U))):d||(H=fa(o,p),H!=null&&_.push(Fa(o,H,U)))),o=o.return}_.length!==0&&n.push({event:r,listeners:_})}var wT=/\r\n?/g,ST=/\u0000|\uFFFD/g;function Tb(n){return(typeof n=="string"?n:""+n).replace(wT,`
`).replace(ST,"")}function Eb(n,r){return r=Tb(r),Tb(n)===r}function Le(n,r,o,u,d,p){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||Zs(n,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&Zs(n,""+u);break;case"className":_l(n,"class",u);break;case"tabIndex":_l(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":_l(n,o,u);break;case"style":Em(n,u,p);break;case"data":if(r!=="object"){_l(n,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){n.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=wl(""+u),n.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(r!=="input"&&Le(n,r,"name",d.name,d,null),Le(n,r,"formEncType",d.formEncType,d,null),Le(n,r,"formMethod",d.formMethod,d,null),Le(n,r,"formTarget",d.formTarget,d,null)):(Le(n,r,"encType",d.encType,d,null),Le(n,r,"method",d.method,d,null),Le(n,r,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=wl(""+u),n.setAttribute(o,u);break;case"onClick":u!=null&&(n.onclick=Yn);break;case"onScroll":u!=null&&Ae("scroll",n);break;case"onScrollEnd":u!=null&&Ae("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(s(60));n.innerHTML=o}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}o=wl(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""+u):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":u===!0?n.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,u):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(o,u):n.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(o):n.setAttribute(o,u);break;case"popover":Ae("beforetoggle",n),Ae("toggle",n),vl(n,"popover",u);break;case"xlinkActuate":Vn(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Vn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Vn(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Vn(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Vn(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Vn(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Vn(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Vn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Vn(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":vl(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Z1.get(o)||o,vl(n,o,u))}}function Vf(n,r,o,u,d,p){switch(o){case"style":Em(n,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(s(60));n.innerHTML=o}}break;case"children":typeof u=="string"?Zs(n,u):(typeof u=="number"||typeof u=="bigint")&&Zs(n,""+u);break;case"onScroll":u!=null&&Ae("scroll",n);break;case"onScrollEnd":u!=null&&Ae("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Yn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gm.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),r=o.slice(2,d?o.length-7:void 0),p=n[Nt]||null,p=p!=null?p[o]:null,typeof p=="function"&&n.removeEventListener(r,p,d),typeof u=="function")){typeof p!="function"&&p!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(r,u,d);break e}o in n?n[o]=u:u===!0?n.setAttribute(o,""):vl(n,o,u)}}}function wt(n,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ae("error",n),Ae("load",n);var u=!1,d=!1,p;for(p in o)if(o.hasOwnProperty(p)){var _=o[p];if(_!=null)switch(p){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Le(n,r,p,_,o,null)}}d&&Le(n,r,"srcSet",o.srcSet,o,null),u&&Le(n,r,"src",o.src,o,null);return;case"input":Ae("invalid",n);var M=p=_=d=null,U=null,H=null;for(u in o)if(o.hasOwnProperty(u)){var X=o[u];if(X!=null)switch(u){case"name":d=X;break;case"type":_=X;break;case"checked":U=X;break;case"defaultChecked":H=X;break;case"value":p=X;break;case"defaultValue":M=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:Le(n,r,u,X,o,null)}}wm(n,p,M,U,H,_,d,!1);return;case"select":Ae("invalid",n),u=_=p=null;for(d in o)if(o.hasOwnProperty(d)&&(M=o[d],M!=null))switch(d){case"value":p=M;break;case"defaultValue":_=M;break;case"multiple":u=M;default:Le(n,r,d,M,o,null)}r=p,o=_,n.multiple=!!u,r!=null?Ks(n,!!u,r,!1):o!=null&&Ks(n,!!u,o,!0);return;case"textarea":Ae("invalid",n),p=d=u=null;for(_ in o)if(o.hasOwnProperty(_)&&(M=o[_],M!=null))switch(_){case"value":u=M;break;case"defaultValue":d=M;break;case"children":p=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(s(91));break;default:Le(n,r,_,M,o,null)}Am(n,u,d,p);return;case"option":for(U in o)o.hasOwnProperty(U)&&(u=o[U],u!=null)&&(U==="selected"?n.selected=u&&typeof u!="function"&&typeof u!="symbol":Le(n,r,U,u,o,null));return;case"dialog":Ae("beforetoggle",n),Ae("toggle",n),Ae("cancel",n),Ae("close",n);break;case"iframe":case"object":Ae("load",n);break;case"video":case"audio":for(u=0;u<$a.length;u++)Ae($a[u],n);break;case"image":Ae("error",n),Ae("load",n);break;case"details":Ae("toggle",n);break;case"embed":case"source":case"link":Ae("error",n),Ae("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in o)if(o.hasOwnProperty(H)&&(u=o[H],u!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Le(n,r,H,u,o,null)}return;default:if(rh(r)){for(X in o)o.hasOwnProperty(X)&&(u=o[X],u!==void 0&&Vf(n,r,X,u,o,void 0));return}}for(M in o)o.hasOwnProperty(M)&&(u=o[M],u!=null&&Le(n,r,M,u,o,null))}function AT(n,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,p=null,_=null,M=null,U=null,H=null,X=null;for(Y in o){var K=o[Y];if(o.hasOwnProperty(Y)&&K!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":U=K;default:u.hasOwnProperty(Y)||Le(n,r,Y,null,u,K)}}for(var $ in u){var Y=u[$];if(K=o[$],u.hasOwnProperty($)&&(Y!=null||K!=null))switch($){case"type":p=Y;break;case"name":d=Y;break;case"checked":H=Y;break;case"defaultChecked":X=Y;break;case"value":_=Y;break;case"defaultValue":M=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:Y!==K&&Le(n,r,$,Y,u,K)}}ih(n,_,M,U,H,X,p,d);return;case"select":Y=_=M=$=null;for(p in o)if(U=o[p],o.hasOwnProperty(p)&&U!=null)switch(p){case"value":break;case"multiple":Y=U;default:u.hasOwnProperty(p)||Le(n,r,p,null,u,U)}for(d in u)if(p=u[d],U=o[d],u.hasOwnProperty(d)&&(p!=null||U!=null))switch(d){case"value":$=p;break;case"defaultValue":M=p;break;case"multiple":_=p;default:p!==U&&Le(n,r,d,p,u,U)}r=M,o=_,u=Y,$!=null?Ks(n,!!o,$,!1):!!u!=!!o&&(r!=null?Ks(n,!!o,r,!0):Ks(n,!!o,o?[]:"",!1));return;case"textarea":Y=$=null;for(M in o)if(d=o[M],o.hasOwnProperty(M)&&d!=null&&!u.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:Le(n,r,M,null,u,d)}for(_ in u)if(d=u[_],p=o[_],u.hasOwnProperty(_)&&(d!=null||p!=null))switch(_){case"value":$=d;break;case"defaultValue":Y=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==p&&Le(n,r,_,d,u,p)}Sm(n,$,Y);return;case"option":for(var le in o)$=o[le],o.hasOwnProperty(le)&&$!=null&&!u.hasOwnProperty(le)&&(le==="selected"?n.selected=!1:Le(n,r,le,null,u,$));for(U in u)$=u[U],Y=o[U],u.hasOwnProperty(U)&&$!==Y&&($!=null||Y!=null)&&(U==="selected"?n.selected=$&&typeof $!="function"&&typeof $!="symbol":Le(n,r,U,$,u,Y));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var de in o)$=o[de],o.hasOwnProperty(de)&&$!=null&&!u.hasOwnProperty(de)&&Le(n,r,de,null,u,$);for(H in u)if($=u[H],Y=o[H],u.hasOwnProperty(H)&&$!==Y&&($!=null||Y!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:Le(n,r,H,$,u,Y)}return;default:if(rh(r)){for(var Ie in o)$=o[Ie],o.hasOwnProperty(Ie)&&$!==void 0&&!u.hasOwnProperty(Ie)&&Vf(n,r,Ie,void 0,u,$);for(X in u)$=u[X],Y=o[X],!u.hasOwnProperty(X)||$===Y||$===void 0&&Y===void 0||Vf(n,r,X,$,u,Y);return}}for(var q in o)$=o[q],o.hasOwnProperty(q)&&$!=null&&!u.hasOwnProperty(q)&&Le(n,r,q,null,u,$);for(K in u)$=u[K],Y=o[K],!u.hasOwnProperty(K)||$===Y||$==null&&Y==null||Le(n,r,K,$,u,Y)}function Mb(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function TT(){if(typeof performance.getEntriesByType=="function"){for(var n=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var d=o[u],p=d.transferSize,_=d.initiatorType,M=d.duration;if(p&&M&&Mb(_)){for(_=0,M=d.responseEnd,u+=1;u<o.length;u++){var U=o[u],H=U.startTime;if(H>M)break;var X=U.transferSize,K=U.initiatorType;X&&Mb(K)&&(U=U.responseEnd,_+=X*(U<M?1:(M-H)/(U-H)))}if(--u,r+=8*(p+_)/(d.duration/1e3),n++,10<n)break}}if(0<n)return r/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Yf=null,Xf=null;function gu(n){return n.nodeType===9?n:n.ownerDocument}function Cb(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kb(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function Qf(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Kf=null;function ET(){var n=window.event;return n&&n.type==="popstate"?n===Kf?!1:(Kf=n,!0):(Kf=null,!1)}var Rb=typeof setTimeout=="function"?setTimeout:void 0,MT=typeof clearTimeout=="function"?clearTimeout:void 0,Ob=typeof Promise=="function"?Promise:void 0,CT=typeof queueMicrotask=="function"?queueMicrotask:typeof Ob<"u"?function(n){return Ob.resolve(null).then(n).catch(kT)}:Rb;function kT(n){setTimeout(function(){throw n})}function Gi(n){return n==="head"}function Db(n,r){var o=r,u=0;do{var d=o.nextSibling;if(n.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"||o==="/&"){if(u===0){n.removeChild(d),Cr(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")Va(n.ownerDocument.documentElement);else if(o==="head"){o=n.ownerDocument.head,Va(o);for(var p=o.firstChild;p;){var _=p.nextSibling,M=p.nodeName;p[ca]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&p.rel.toLowerCase()==="stylesheet"||o.removeChild(p),p=_}}else o==="body"&&Va(n.ownerDocument.body);o=d}while(o);Cr(r)}function zb(n,r){var o=n;n=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(n===0)break;n--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||n++;o=u}while(o)}function Zf(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Zf(o),th(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function RT(n,r,o,u){for(;n.nodeType===1;){var d=o;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[ca])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(p=n.getAttribute("rel"),p==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(p!==d.rel||n.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||n.getAttribute("title")!==(d.title==null?null:d.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(p=n.getAttribute("src"),(p!==(d.src==null?null:d.src)||n.getAttribute("type")!==(d.type==null?null:d.type)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&p&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var p=d.name==null?null:""+d.name;if(d.type==="hidden"&&n.getAttribute("name")===p)return n}else return n;if(n=_n(n.nextSibling),n===null)break}return null}function OT(n,r,o){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=_n(n.nextSibling),n===null))return null;return n}function Ub(n,r){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!r||(n=_n(n.nextSibling),n===null))return null;return n}function Wf(n){return n.data==="$?"||n.data==="$~"}function Jf(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function DT(n,r){var o=n.ownerDocument;if(n.data==="$~")n._reactRetry=r;else if(n.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function _n(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return n}var ed=null;function jb(n){n=n.nextSibling;for(var r=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"||o==="/&"){if(r===0)return _n(n.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}n=n.nextSibling}return null}function Pb(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return n;r--}else o!=="/$"&&o!=="/&"||r++}n=n.previousSibling}return null}function Bb(n,r,o){switch(r=gu(o),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Va(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);th(n)}var xn=new Map,Nb=new Set;function bu(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var ui=I.d;I.d={f:zT,r:UT,D:jT,C:PT,L:BT,m:NT,X:IT,S:LT,M:qT};function zT(){var n=ui.f(),r=uu();return n||r}function UT(n){var r=Ys(n);r!==null&&r.tag===5&&r.type==="form"?t0(r):ui.r(n)}var Tr=typeof document>"u"?null:document;function Lb(n,r,o){var u=Tr;if(u&&typeof r=="string"&&r){var d=dn(r);d='link[rel="'+n+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),Nb.has(d)||(Nb.add(d),n={rel:n,crossOrigin:o,href:r},u.querySelector(d)===null&&(r=u.createElement("link"),wt(r,"link",n),ht(r),u.head.appendChild(r)))}}function jT(n){ui.D(n),Lb("dns-prefetch",n,null)}function PT(n,r){ui.C(n,r),Lb("preconnect",n,r)}function BT(n,r,o){ui.L(n,r,o);var u=Tr;if(u&&n&&r){var d='link[rel="preload"][as="'+dn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+dn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+dn(o.imageSizes)+'"]')):d+='[href="'+dn(n)+'"]';var p=d;switch(r){case"style":p=Er(n);break;case"script":p=Mr(n)}xn.has(p)||(n=g({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:n,as:r},o),xn.set(p,n),u.querySelector(d)!==null||r==="style"&&u.querySelector(Ya(p))||r==="script"&&u.querySelector(Xa(p))||(r=u.createElement("link"),wt(r,"link",n),ht(r),u.head.appendChild(r)))}}function NT(n,r){ui.m(n,r);var o=Tr;if(o&&n){var u=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+dn(u)+'"][href="'+dn(n)+'"]',p=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Mr(n)}if(!xn.has(p)&&(n=g({rel:"modulepreload",href:n},r),xn.set(p,n),o.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Xa(p)))return}u=o.createElement("link"),wt(u,"link",n),ht(u),o.head.appendChild(u)}}}function LT(n,r,o){ui.S(n,r,o);var u=Tr;if(u&&n){var d=Xs(u).hoistableStyles,p=Er(n);r=r||"default";var _=d.get(p);if(!_){var M={loading:0,preload:null};if(_=u.querySelector(Ya(p)))M.loading=5;else{n=g({rel:"stylesheet",href:n,"data-precedence":r},o),(o=xn.get(p))&&td(n,o);var U=_=u.createElement("link");ht(U),wt(U,"link",n),U._p=new Promise(function(H,X){U.onload=H,U.onerror=X}),U.addEventListener("load",function(){M.loading|=1}),U.addEventListener("error",function(){M.loading|=2}),M.loading|=4,vu(_,r,u)}_={type:"stylesheet",instance:_,count:1,state:M},d.set(p,_)}}}function IT(n,r){ui.X(n,r);var o=Tr;if(o&&n){var u=Xs(o).hoistableScripts,d=Mr(n),p=u.get(d);p||(p=o.querySelector(Xa(d)),p||(n=g({src:n,async:!0},r),(r=xn.get(d))&&nd(n,r),p=o.createElement("script"),ht(p),wt(p,"link",n),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(d,p))}}function qT(n,r){ui.M(n,r);var o=Tr;if(o&&n){var u=Xs(o).hoistableScripts,d=Mr(n),p=u.get(d);p||(p=o.querySelector(Xa(d)),p||(n=g({src:n,async:!0,type:"module"},r),(r=xn.get(d))&&nd(n,r),p=o.createElement("script"),ht(p),wt(p,"link",n),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(d,p))}}function Ib(n,r,o,u){var d=(d=oe.current)?bu(d):null;if(!d)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Er(o.href),o=Xs(d).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=Er(o.href);var p=Xs(d).hoistableStyles,_=p.get(n);if(_||(d=d.ownerDocument||d,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(n,_),(p=d.querySelector(Ya(n)))&&!p._p&&(_.instance=p,_.state.loading=5),xn.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},xn.set(n,o),p||GT(d,n,o,_.state))),r&&u===null)throw Error(s(528,""));return _}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Mr(o),o=Xs(d).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function Er(n){return'href="'+dn(n)+'"'}function Ya(n){return'link[rel="stylesheet"]['+n+"]"}function qb(n){return g({},n,{"data-precedence":n.precedence,precedence:null})}function GT(n,r,o,u){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=n.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),wt(r,"link",o),ht(r),n.head.appendChild(r))}function Mr(n){return'[src="'+dn(n)+'"]'}function Xa(n){return"script[async]"+n}function Gb(n,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=n.querySelector('style[data-href~="'+dn(o.href)+'"]');if(u)return r.instance=u,ht(u),u;var d=g({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),ht(u),wt(u,"style",d),vu(u,o.precedence,n),r.instance=u;case"stylesheet":d=Er(o.href);var p=n.querySelector(Ya(d));if(p)return r.state.loading|=4,r.instance=p,ht(p),p;u=qb(o),(d=xn.get(d))&&td(u,d),p=(n.ownerDocument||n).createElement("link"),ht(p);var _=p;return _._p=new Promise(function(M,U){_.onload=M,_.onerror=U}),wt(p,"link",u),r.state.loading|=4,vu(p,o.precedence,n),r.instance=p;case"script":return p=Mr(o.src),(d=n.querySelector(Xa(p)))?(r.instance=d,ht(d),d):(u=o,(d=xn.get(p))&&(u=g({},o),nd(u,d)),n=n.ownerDocument||n,d=n.createElement("script"),ht(d),wt(d,"link",u),n.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,vu(u,o.precedence,n));return r.instance}function vu(n,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,p=d,_=0;_<u.length;_++){var M=u[_];if(M.dataset.precedence===r)p=M;else if(p!==d)break}p?p.parentNode.insertBefore(n,p.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(n,r.firstChild))}function td(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function nd(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var _u=null;function Hb(n,r,o){if(_u===null){var u=new Map,d=_u=new Map;d.set(o,u)}else d=_u,u=d.get(o),u||(u=new Map,d.set(o,u));if(u.has(n))return u;for(u.set(n,null),o=o.getElementsByTagName(n),d=0;d<o.length;d++){var p=o[d];if(!(p[ca]||p[bt]||n==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var _=p.getAttribute(r)||"";_=n+_;var M=u.get(_);M?M.push(p):u.set(_,[p])}}return u}function $b(n,r,o){n=n.ownerDocument||n,n.head.insertBefore(o,r==="title"?n.querySelector("head > title"):null)}function HT(n,r,o){if(o===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(n=r.disabled,typeof r.precedence=="string"&&n==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Fb(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function $T(n,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var d=Er(u.href),p=r.querySelector(Ya(d));if(p){r=p._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(n.count++,n=xu.bind(n),r.then(n,n)),o.state.loading|=4,o.instance=p,ht(p);return}p=r.ownerDocument||r,u=qb(u),(d=xn.get(d))&&td(u,d),p=p.createElement("link"),ht(p);var _=p;_._p=new Promise(function(M,U){_.onload=M,_.onerror=U}),wt(p,"link",u),o.instance=p}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(n.count++,o=xu.bind(n),r.addEventListener("load",o),r.addEventListener("error",o))}}var id=0;function FT(n,r){return n.stylesheets&&n.count===0&&Su(n,n.stylesheets),0<n.count||0<n.imgCount?function(o){var u=setTimeout(function(){if(n.stylesheets&&Su(n,n.stylesheets),n.unsuspend){var p=n.unsuspend;n.unsuspend=null,p()}},6e4+r);0<n.imgBytes&&id===0&&(id=62500*TT());var d=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Su(n,n.stylesheets),n.unsuspend)){var p=n.unsuspend;n.unsuspend=null,p()}},(n.imgBytes>id?50:800)+r);return n.unsuspend=o,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(d)}}:null}function xu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Su(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var wu=null;function Su(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,wu=new Map,r.forEach(VT,n),wu=null,xu.call(n))}function VT(n,r){if(!(r.state.loading&4)){var o=wu.get(n);if(o)var u=o.get(null);else{o=new Map,wu.set(n,o);for(var d=n.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<d.length;p++){var _=d[p];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(o.set(_.dataset.precedence,_),u=_)}u&&o.set(null,u)}d=r.instance,_=d.getAttribute("data-precedence"),p=o.get(_)||u,p===u&&o.set(null,d),o.set(_,d),this.count++,u=xu.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),p?p.parentNode.insertBefore(d,p.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(d,n.firstChild)),r.state.loading|=4}}var Qa={$$typeof:S,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function YT(n,r,o,u,d,p,_,M,U){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zc(0),this.hiddenUpdates=Zc(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=p,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function Vb(n,r,o,u,d,p,_,M,U,H,X,K){return n=new YT(n,r,o,_,U,H,X,K,M),r=1,p===!0&&(r|=24),p=Jt(3,null,null,r),n.current=p,p.stateNode=n,r=jh(),r.refCount++,n.pooledCache=r,r.refCount++,p.memoizedState={element:u,isDehydrated:o,cache:r},Lh(p),n}function Yb(n){return n?(n=sr,n):sr}function Xb(n,r,o,u,d,p){d=Yb(d),u.context===null?u.context=d:u.pendingContext=d,u=Oi(r),u.payload={element:o},p=p===void 0?null:p,p!==null&&(u.callback=p),o=Di(n,u,r),o!==null&&($t(o,n,r),Ma(o,n,r))}function Qb(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<r?o:r}}function sd(n,r){Qb(n,r),(n=n.alternate)&&Qb(n,r)}function Kb(n){if(n.tag===13||n.tag===31){var r=hs(n,67108864);r!==null&&$t(r,n,67108864),sd(n,67108864)}}function Zb(n){if(n.tag===13||n.tag===31){var r=rn();r=Wc(r);var o=hs(n,r);o!==null&&$t(o,n,r),sd(n,r)}}var Au=!0;function XT(n,r,o,u){var d=D.T;D.T=null;var p=I.p;try{I.p=2,rd(n,r,o,u)}finally{I.p=p,D.T=d}}function QT(n,r,o,u){var d=D.T;D.T=null;var p=I.p;try{I.p=8,rd(n,r,o,u)}finally{I.p=p,D.T=d}}function rd(n,r,o,u){if(Au){var d=ad(u);if(d===null)Ff(n,r,u,Tu,o),Jb(n,u);else if(ZT(d,n,r,o,u))u.stopPropagation();else if(Jb(n,u),r&4&&-1<KT.indexOf(n)){for(;d!==null;){var p=Ys(d);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var _=as(p.pendingLanes);if(_!==0){var M=p;for(M.pendingLanes|=2,M.entangledLanes|=2;_;){var U=1<<31-Zt(_);M.entanglements[1]|=U,_&=~U}In(p),(Ue&6)===0&&(ou=Qt()+500,Ha(0))}}break;case 31:case 13:M=hs(p,2),M!==null&&$t(M,p,2),uu(),sd(p,2)}if(p=ad(u),p===null&&Ff(n,r,u,Tu,o),p===d)break;d=p}d!==null&&u.stopPropagation()}else Ff(n,r,u,null,o)}}function ad(n){return n=oh(n),od(n)}var Tu=null;function od(n){if(Tu=null,n=Vs(n),n!==null){var r=l(n);if(r===null)n=null;else{var o=r.tag;if(o===13){if(n=c(r),n!==null)return n;n=null}else if(o===31){if(n=h(r),n!==null)return n;n=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return Tu=n,null}function Wb(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(j1()){case am:return 2;case om:return 8;case yl:case P1:return 32;case lm:return 268435456;default:return 32}default:return 32}}var ld=!1,Hi=null,$i=null,Fi=null,Ka=new Map,Za=new Map,Vi=[],KT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jb(n,r){switch(n){case"focusin":case"focusout":Hi=null;break;case"dragenter":case"dragleave":$i=null;break;case"mouseover":case"mouseout":Fi=null;break;case"pointerover":case"pointerout":Ka.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Za.delete(r.pointerId)}}function Wa(n,r,o,u,d,p){return n===null||n.nativeEvent!==p?(n={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[d]},r!==null&&(r=Ys(r),r!==null&&Kb(r)),n):(n.eventSystemFlags|=u,r=n.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),n)}function ZT(n,r,o,u,d){switch(r){case"focusin":return Hi=Wa(Hi,n,r,o,u,d),!0;case"dragenter":return $i=Wa($i,n,r,o,u,d),!0;case"mouseover":return Fi=Wa(Fi,n,r,o,u,d),!0;case"pointerover":var p=d.pointerId;return Ka.set(p,Wa(Ka.get(p)||null,n,r,o,u,d)),!0;case"gotpointercapture":return p=d.pointerId,Za.set(p,Wa(Za.get(p)||null,n,r,o,u,d)),!0}return!1}function ev(n){var r=Vs(n.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){n.blockedOn=r,ym(n.priority,function(){Zb(o)});return}}else if(r===31){if(r=h(o),r!==null){n.blockedOn=r,ym(n.priority,function(){Zb(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Eu(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var o=ad(n.nativeEvent);if(o===null){o=n.nativeEvent;var u=new o.constructor(o.type,o);ah=u,o.target.dispatchEvent(u),ah=null}else return r=Ys(o),r!==null&&Kb(r),n.blockedOn=o,!1;r.shift()}return!0}function tv(n,r,o){Eu(n)&&o.delete(r)}function WT(){ld=!1,Hi!==null&&Eu(Hi)&&(Hi=null),$i!==null&&Eu($i)&&($i=null),Fi!==null&&Eu(Fi)&&(Fi=null),Ka.forEach(tv),Za.forEach(tv)}function Mu(n,r){n.blockedOn===r&&(n.blockedOn=null,ld||(ld=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,WT)))}var Cu=null;function nv(n){Cu!==n&&(Cu=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Cu===n&&(Cu=null);for(var r=0;r<n.length;r+=3){var o=n[r],u=n[r+1],d=n[r+2];if(typeof u!="function"){if(od(u||o)===null)continue;break}var p=Ys(o);p!==null&&(n.splice(r,3),r-=3,af(p,{pending:!0,data:d,method:o.method,action:u},u,d))}}))}function Cr(n){function r(U){return Mu(U,n)}Hi!==null&&Mu(Hi,n),$i!==null&&Mu($i,n),Fi!==null&&Mu(Fi,n),Ka.forEach(r),Za.forEach(r);for(var o=0;o<Vi.length;o++){var u=Vi[o];u.blockedOn===n&&(u.blockedOn=null)}for(;0<Vi.length&&(o=Vi[0],o.blockedOn===null);)ev(o),o.blockedOn===null&&Vi.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var d=o[u],p=o[u+1],_=d[Nt]||null;if(typeof p=="function")_||nv(o);else if(_){var M=null;if(p&&p.hasAttribute("formAction")){if(d=p,_=p[Nt]||null)M=_.formAction;else if(od(d)!==null)continue}else M=_.action;typeof M=="function"?o[u+1]=M:(o.splice(u,3),u-=3),nv(o)}}}function iv(){function n(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(_){return d=_})},focusReset:"manual",scroll:"manual"})}function r(){d!==null&&(d(),d=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,d=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),d!==null&&(d(),d=null)}}}function ud(n){this._internalRoot=n}ku.prototype.render=ud.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=rn();Xb(o,u,n,r,null,null)},ku.prototype.unmount=ud.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;Xb(n.current,2,null,n,null,null),uu(),r[Fs]=null}};function ku(n){this._internalRoot=n}ku.prototype.unstable_scheduleHydration=function(n){if(n){var r=dm();n={blockedOn:null,target:n,priority:r};for(var o=0;o<Vi.length&&r!==0&&r<Vi[o].priority;o++);Vi.splice(o,0,n),o===0&&ev(n)}};var sv=e.version;if(sv!=="19.2.3")throw Error(s(527,sv,"19.2.3"));I.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=y(r),n=n!==null?m(n):null,n=n===null?null:n.stateNode,n};var JT={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ru.isDisabled&&Ru.supportsFiber)try{oa=Ru.inject(JT),Kt=Ru}catch{}}return eo.createRoot=function(n,r){if(!a(n))throw Error(s(299));var o=!1,u="",d=h0,p=f0,_=d0;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=Vb(n,1,!1,null,null,o,u,null,d,p,_,iv),n[Fs]=r.current,$f(n),new ud(r)},eo.hydrateRoot=function(n,r,o){if(!a(n))throw Error(s(299));var u=!1,d="",p=h0,_=f0,M=d0,U=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(M=o.onRecoverableError),o.formState!==void 0&&(U=o.formState)),r=Vb(n,1,!0,r,o??null,u,d,U,p,_,M,iv),r.context=Yb(null),o=r.current,u=rn(),u=Wc(u),d=Oi(u),d.callback=null,Di(o,d,u),o=u,r.current.lanes=o,ua(r,o),In(r),n[Fs]=r.current,$f(n),new ku(r)},eo.version="19.2.3",eo}var yv;function fE(){if(yv)return fd.exports;yv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),fd.exports=hE(),fd.exports}var dE=fE(),md={exports:{}},gd={};var pv;function yE(){if(pv)return gd;pv=1;var t=Uc();function e(f,y){return f===y&&(f!==0||1/f===1/y)||f!==f&&y!==y}var i=typeof Object.is=="function"?Object.is:e,s=t.useSyncExternalStore,a=t.useRef,l=t.useEffect,c=t.useMemo,h=t.useDebugValue;return gd.useSyncExternalStoreWithSelector=function(f,y,m,g,v){var b=a(null);if(b.current===null){var w={hasValue:!1,value:null};b.current=w}else w=b.current;b=c(function(){function x(z){if(!T){if(T=!0,C=z,z=g(z),v!==void 0&&w.hasValue){var O=w.value;if(v(O,z))return S=O}return S=z}if(O=S,i(C,z))return O;var k=g(z);return v!==void 0&&v(O,k)?(C=z,O):(C=z,S=k)}var T=!1,C,S,E=m===void 0?null:m;return[function(){return x(y())},E===null?void 0:function(){return x(E())}]},[y,m,g,v]);var A=s(f,b[0],b[1]);return l(function(){w.hasValue=!0,w.value=A},[A]),h(A),A},gd}var mv;function pE(){return mv||(mv=1,md.exports=yE()),md.exports}var mE=pE();function tw(t){t()}function gE(){let t=null,e=null;return{clear(){t=null,e=null},notify(){tw(()=>{let i=t;for(;i;)i.callback(),i=i.next})},get(){const i=[];let s=t;for(;s;)i.push(s),s=s.next;return i},subscribe(i){let s=!0;const a=e={callback:i,next:null,prev:e};return a.prev?a.prev.next=a:t=a,function(){!s||t===null||(s=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var gv={notify(){},get:()=>[]};function bE(t,e){let i,s=gv,a=0,l=!1;function c(A){m();const x=s.subscribe(A);let T=!1;return()=>{T||(T=!0,x(),g())}}function h(){s.notify()}function f(){w.onStateChange&&w.onStateChange()}function y(){return l}function m(){a++,i||(i=t.subscribe(f),s=gE())}function g(){a--,i&&a===0&&(i(),i=void 0,s.clear(),s=gv)}function v(){l||(l=!0,m())}function b(){l&&(l=!1,g())}const w={addNestedSub:c,notifyNestedSubs:h,handleChangeWrapper:f,isSubscribed:y,trySubscribe:v,tryUnsubscribe:b,getListeners:()=>s};return w}var vE=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_E=vE(),xE=()=>typeof navigator<"u"&&navigator.product==="ReactNative",wE=xE(),SE=()=>_E||wE?ue.useLayoutEffect:ue.useEffect,AE=SE();function bv(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function ko(t,e){if(bv(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const i=Object.keys(t),s=Object.keys(e);if(i.length!==s.length)return!1;for(let a=0;a<i.length;a++)if(!Object.prototype.hasOwnProperty.call(e,i[a])||!bv(t[i[a]],e[i[a]]))return!1;return!0}var TE=Symbol.for("react-redux-context"),EE=typeof globalThis<"u"?globalThis:{};function ME(){if(!ue.createContext)return{};const t=EE[TE]??=new Map;let e=t.get(ue.createContext);return e||(e=ue.createContext(null),t.set(ue.createContext,e)),e}var ts=ME();function CE(t){const{children:e,context:i,serverState:s,store:a}=t,l=ue.useMemo(()=>{const f=bE(a);return{store:a,subscription:f,getServerState:s?()=>s:void 0}},[a,s]),c=ue.useMemo(()=>a.getState(),[a]);AE(()=>{const{subscription:f}=l;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),c!==a.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[l,c]);const h=i||ts;return ue.createElement(h.Provider,{value:l},e)}var kE=CE;function cp(t=ts){return function(){return ue.useContext(t)}}var nw=cp();function iw(t=ts){const e=t===ts?nw:cp(t),i=()=>{const{store:s}=e();return s};return Object.assign(i,{withTypes:()=>i}),i}var hp=iw();function RE(t=ts){const e=t===ts?hp:iw(t),i=()=>e().dispatch;return Object.assign(i,{withTypes:()=>i}),i}var sw=RE(),OE=(t,e)=>t===e;function DE(t=ts){const e=t===ts?nw:cp(t),i=(s,a={})=>{const{equalityFn:l=OE}=typeof a=="function"?{equalityFn:a}:a,c=e(),{store:h,subscription:f,getServerState:y}=c;ue.useRef(!0);const m=ue.useCallback({[s.name](v){return s(v)}}[s.name],[s]),g=mE.useSyncExternalStoreWithSelector(f.addNestedSub,h.getState,y||h.getState,m,l);return ue.useDebugValue(g),g};return Object.assign(i,{withTypes:()=>i}),i}var rw=DE(),zE=tw;function At(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var UE=typeof Symbol=="function"&&Symbol.observable||"@@observable",vv=UE,bd=()=>Math.random().toString(36).substring(7).split("").join("."),jE={INIT:`@@redux/INIT${bd()}`,REPLACE:`@@redux/REPLACE${bd()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${bd()}`},gc=jE;function Kr(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function fp(t,e,i){if(typeof t!="function")throw new Error(At(2));if(typeof e=="function"&&typeof i=="function"||typeof i=="function"&&typeof arguments[3]=="function")throw new Error(At(0));if(typeof e=="function"&&typeof i>"u"&&(i=e,e=void 0),typeof i<"u"){if(typeof i!="function")throw new Error(At(1));return i(fp)(t,e)}let s=t,a=e,l=new Map,c=l,h=0,f=!1;function y(){c===l&&(c=new Map,l.forEach((x,T)=>{c.set(T,x)}))}function m(){if(f)throw new Error(At(3));return a}function g(x){if(typeof x!="function")throw new Error(At(4));if(f)throw new Error(At(5));let T=!0;y();const C=h++;return c.set(C,x),function(){if(T){if(f)throw new Error(At(6));T=!1,y(),c.delete(C),l=null}}}function v(x){if(!Kr(x))throw new Error(At(7));if(typeof x.type>"u")throw new Error(At(8));if(typeof x.type!="string")throw new Error(At(17));if(f)throw new Error(At(9));try{f=!0,a=s(a,x)}finally{f=!1}return(l=c).forEach(C=>{C()}),x}function b(x){if(typeof x!="function")throw new Error(At(10));s=x,v({type:gc.REPLACE})}function w(){const x=g;return{subscribe(T){if(typeof T!="object"||T===null)throw new Error(At(11));function C(){const E=T;E.next&&E.next(m())}return C(),{unsubscribe:x(C)}},[vv](){return this}}}return v({type:gc.INIT}),{dispatch:v,subscribe:g,getState:m,replaceReducer:b,[vv]:w}}function PE(t){Object.keys(t).forEach(e=>{const i=t[e];if(typeof i(void 0,{type:gc.INIT})>"u")throw new Error(At(12));if(typeof i(void 0,{type:gc.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(At(13))})}function dp(t){const e=Object.keys(t),i={};for(let l=0;l<e.length;l++){const c=e[l];typeof t[c]=="function"&&(i[c]=t[c])}const s=Object.keys(i);let a;try{PE(i)}catch(l){a=l}return function(c={},h){if(a)throw a;let f=!1;const y={};for(let m=0;m<s.length;m++){const g=s[m],v=i[g],b=c[g],w=v(b,h);if(typeof w>"u")throw h&&h.type,new Error(At(14));y[g]=w,f=f||w!==b}return f=f||s.length!==Object.keys(c).length,f?y:c}}function bc(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,i)=>(...s)=>e(i(...s)))}function BE(...t){return e=>(i,s)=>{const a=e(i,s);let l=()=>{throw new Error(At(15))};const c={getState:a.getState,dispatch:(f,...y)=>l(f,...y)},h=t.map(f=>f(c));return l=bc(...h)(a.dispatch),{...a,dispatch:l}}}function yp(t){return Kr(t)&&"type"in t&&typeof t.type=="string"}var pp=Symbol.for("immer-nothing"),Ro=Symbol.for("immer-draftable"),Yt=Symbol.for("immer-state");function Tt(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Bs=Object.getPrototypeOf;function $n(t){return!!t&&!!t[Yt]}function jn(t){return t?aw(t)||Array.isArray(t)||!!t[Ro]||!!t.constructor?.[Ro]||tl(t)||nl(t):!1}var NE=Object.prototype.constructor.toString();function aw(t){if(!t||typeof t!="object")return!1;const e=Bs(t);if(e===null)return!0;const i=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return i===Object?!0:typeof i=="function"&&Function.toString.call(i)===NE}function LE(t){return $n(t)||Tt(15,t),t[Yt].base_}function Lo(t,e){Ns(t)===0?Reflect.ownKeys(t).forEach(i=>{e(i,t[i],t)}):t.forEach((i,s)=>e(s,i,t))}function Ns(t){const e=t[Yt];return e?e.type_:Array.isArray(t)?1:tl(t)?2:nl(t)?3:0}function Io(t,e){return Ns(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function vd(t,e){return Ns(t)===2?t.get(e):t[e]}function ow(t,e,i){const s=Ns(t);s===2?t.set(e,i):s===3?t.add(i):t[e]=i}function IE(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function tl(t){return t instanceof Map}function nl(t){return t instanceof Set}function Cs(t){return t.copy_||t.base_}function gy(t,e){if(tl(t))return new Map(t);if(nl(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const i=aw(t);if(e===!0||e==="class_only"&&!i){const s=Object.getOwnPropertyDescriptors(t);delete s[Yt];let a=Reflect.ownKeys(s);for(let l=0;l<a.length;l++){const c=a[l],h=s[c];h.writable===!1&&(h.writable=!0,h.configurable=!0),(h.get||h.set)&&(s[c]={configurable:!0,writable:!0,enumerable:h.enumerable,value:t[c]})}return Object.create(Bs(t),s)}else{const s=Bs(t);if(s!==null&&i)return{...t};const a=Object.create(s);return Object.assign(a,t)}}function mp(t,e=!1){return jc(t)||$n(t)||!jn(t)||(Ns(t)>1&&(t.set=t.add=t.clear=t.delete=qE),Object.freeze(t),e&&Object.entries(t).forEach(([i,s])=>mp(s,!0))),t}function qE(){Tt(2)}function jc(t){return Object.isFrozen(t)}var by={};function Ls(t){const e=by[t];return e||Tt(0,t),e}function GE(t,e){by[t]||(by[t]=e)}var qo;function lw(){return qo}function HE(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function _v(t,e){e&&(Ls("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function vy(t){_y(t),t.drafts_.forEach($E),t.drafts_=null}function _y(t){t===qo&&(qo=t.parent_)}function xv(t){return qo=HE(qo,t)}function $E(t){const e=t[Yt];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function wv(t,e){e.unfinalizedDrafts_=e.drafts_.length;const i=e.drafts_[0];return t!==void 0&&t!==i?(i[Yt].modified_&&(vy(e),Tt(4)),jn(t)&&(t=vc(e,t),e.parent_||_c(e,t)),e.patches_&&Ls("Patches").generateReplacementPatches_(i[Yt].base_,t,e.patches_,e.inversePatches_)):t=vc(e,i,[]),vy(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==pp?t:void 0}function vc(t,e,i){if(jc(e))return e;const s=e[Yt];if(!s)return Lo(e,(a,l)=>Sv(t,s,e,a,l,i)),e;if(s.scope_!==t)return e;if(!s.modified_)return _c(t,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const a=s.copy_;let l=a,c=!1;s.type_===3&&(l=new Set(a),a.clear(),c=!0),Lo(l,(h,f)=>Sv(t,s,a,h,f,i,c)),_c(t,a,!1),i&&t.patches_&&Ls("Patches").generatePatches_(s,i,t.patches_,t.inversePatches_)}return s.copy_}function Sv(t,e,i,s,a,l,c){if($n(a)){const h=l&&e&&e.type_!==3&&!Io(e.assigned_,s)?l.concat(s):void 0,f=vc(t,a,h);if(ow(i,s,f),$n(f))t.canAutoFreeze_=!1;else return}else c&&i.add(a);if(jn(a)&&!jc(a)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;vc(t,a),(!e||!e.scope_.parent_)&&typeof s!="symbol"&&Object.prototype.propertyIsEnumerable.call(i,s)&&_c(t,a)}}function _c(t,e,i=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&mp(e,i)}function FE(t,e){const i=Array.isArray(t),s={type_:i?1:0,scope_:e?e.scope_:lw(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=s,l=gp;i&&(a=[s],l=Go);const{revoke:c,proxy:h}=Proxy.revocable(a,l);return s.draft_=h,s.revoke_=c,h}var gp={get(t,e){if(e===Yt)return t;const i=Cs(t);if(!Io(i,e))return VE(t,i,e);const s=i[e];return t.finalized_||!jn(s)?s:s===_d(t.base_,e)?(xd(t),t.copy_[e]=wy(s,t)):s},has(t,e){return e in Cs(t)},ownKeys(t){return Reflect.ownKeys(Cs(t))},set(t,e,i){const s=uw(Cs(t),e);if(s?.set)return s.set.call(t.draft_,i),!0;if(!t.modified_){const a=_d(Cs(t),e),l=a?.[Yt];if(l&&l.base_===i)return t.copy_[e]=i,t.assigned_[e]=!1,!0;if(IE(i,a)&&(i!==void 0||Io(t.base_,e)))return!0;xd(t),xy(t)}return t.copy_[e]===i&&(i!==void 0||e in t.copy_)||Number.isNaN(i)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=i,t.assigned_[e]=!0),!0},deleteProperty(t,e){return _d(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,xd(t),xy(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const i=Cs(t),s=Reflect.getOwnPropertyDescriptor(i,e);return s&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:s.enumerable,value:i[e]}},defineProperty(){Tt(11)},getPrototypeOf(t){return Bs(t.base_)},setPrototypeOf(){Tt(12)}},Go={};Lo(gp,(t,e)=>{Go[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Go.deleteProperty=function(t,e){return Go.set.call(this,t,e,void 0)};Go.set=function(t,e,i){return gp.set.call(this,t[0],e,i,t[0])};function _d(t,e){const i=t[Yt];return(i?Cs(i):t)[e]}function VE(t,e,i){const s=uw(e,i);return s?"value"in s?s.value:s.get?.call(t.draft_):void 0}function uw(t,e){if(!(e in t))return;let i=Bs(t);for(;i;){const s=Object.getOwnPropertyDescriptor(i,e);if(s)return s;i=Bs(i)}}function xy(t){t.modified_||(t.modified_=!0,t.parent_&&xy(t.parent_))}function xd(t){t.copy_||(t.copy_=gy(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var YE=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,i,s)=>{if(typeof e=="function"&&typeof i!="function"){const l=i;i=e;const c=this;return function(f=l,...y){return c.produce(f,m=>i.call(this,m,...y))}}typeof i!="function"&&Tt(6),s!==void 0&&typeof s!="function"&&Tt(7);let a;if(jn(e)){const l=xv(this),c=wy(e,void 0);let h=!0;try{a=i(c),h=!1}finally{h?vy(l):_y(l)}return _v(l,s),wv(a,l)}else if(!e||typeof e!="object"){if(a=i(e),a===void 0&&(a=e),a===pp&&(a=void 0),this.autoFreeze_&&mp(a,!0),s){const l=[],c=[];Ls("Patches").generateReplacementPatches_(e,a,l,c),s(l,c)}return a}else Tt(1,e)},this.produceWithPatches=(e,i)=>{if(typeof e=="function")return(c,...h)=>this.produceWithPatches(c,f=>e(f,...h));let s,a;return[this.produce(e,i,(c,h)=>{s=c,a=h}),s,a]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){jn(t)||Tt(8),$n(t)&&(t=XE(t));const e=xv(this),i=wy(t,void 0);return i[Yt].isManual_=!0,_y(e),i}finishDraft(t,e){const i=t&&t[Yt];(!i||!i.isManual_)&&Tt(9);const{scope_:s}=i;return _v(s,e),wv(void 0,s)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let i;for(i=e.length-1;i>=0;i--){const a=e[i];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}i>-1&&(e=e.slice(i+1));const s=Ls("Patches").applyPatches_;return $n(t)?s(t,e):this.produce(t,a=>s(a,e))}};function wy(t,e){const i=tl(t)?Ls("MapSet").proxyMap_(t,e):nl(t)?Ls("MapSet").proxySet_(t,e):FE(t,e);return(e?e.scope_:lw()).drafts_.push(i),i}function XE(t){return $n(t)||Tt(10,t),cw(t)}function cw(t){if(!jn(t)||jc(t))return t;const e=t[Yt];let i;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,i=gy(t,e.scope_.immer_.useStrictShallowCopy_)}else i=gy(t,!0);return Lo(i,(s,a)=>{ow(i,s,cw(a))}),e&&(e.finalized_=!1),i}function QE(){const e="replace",s="remove";function a(v,b,w,A){switch(v.type_){case 0:case 2:return c(v,b,w,A);case 1:return l(v,b,w,A);case 3:return h(v,b,w,A)}}function l(v,b,w,A){let{base_:x,assigned_:T}=v,C=v.copy_;C.length<x.length&&([x,C]=[C,x],[w,A]=[A,w]);for(let S=0;S<x.length;S++)if(T[S]&&C[S]!==x[S]){const E=b.concat([S]);w.push({op:e,path:E,value:g(C[S])}),A.push({op:e,path:E,value:g(x[S])})}for(let S=x.length;S<C.length;S++){const E=b.concat([S]);w.push({op:"add",path:E,value:g(C[S])})}for(let S=C.length-1;x.length<=S;--S){const E=b.concat([S]);A.push({op:s,path:E})}}function c(v,b,w,A){const{base_:x,copy_:T}=v;Lo(v.assigned_,(C,S)=>{const E=vd(x,C),z=vd(T,C),O=S?Io(x,C)?e:"add":s;if(E===z&&O===e)return;const k=b.concat(C);w.push(O===s?{op:O,path:k}:{op:O,path:k,value:z}),A.push(O==="add"?{op:s,path:k}:O===s?{op:"add",path:k,value:g(E)}:{op:e,path:k,value:g(E)})})}function h(v,b,w,A){let{base_:x,copy_:T}=v,C=0;x.forEach(S=>{if(!T.has(S)){const E=b.concat([C]);w.push({op:s,path:E,value:S}),A.unshift({op:"add",path:E,value:S})}C++}),C=0,T.forEach(S=>{if(!x.has(S)){const E=b.concat([C]);w.push({op:"add",path:E,value:S}),A.unshift({op:s,path:E,value:S})}C++})}function f(v,b,w,A){w.push({op:e,path:[],value:b===pp?void 0:b}),A.push({op:e,path:[],value:v})}function y(v,b){return b.forEach(w=>{const{path:A,op:x}=w;let T=v;for(let z=0;z<A.length-1;z++){const O=Ns(T);let k=A[z];typeof k!="string"&&typeof k!="number"&&(k=""+k),(O===0||O===1)&&(k==="__proto__"||k==="constructor")&&Tt(19),typeof T=="function"&&k==="prototype"&&Tt(19),T=vd(T,k),typeof T!="object"&&Tt(18,A.join("/"))}const C=Ns(T),S=m(w.value),E=A[A.length-1];switch(x){case e:switch(C){case 2:return T.set(E,S);case 3:Tt(16);default:return T[E]=S}case"add":switch(C){case 1:return E==="-"?T.push(S):T.splice(E,0,S);case 2:return T.set(E,S);case 3:return T.add(S);default:return T[E]=S}case s:switch(C){case 1:return T.splice(E,1);case 2:return T.delete(E);case 3:return T.delete(w.value);default:return delete T[E]}default:Tt(17,x)}}),v}function m(v){if(!jn(v))return v;if(Array.isArray(v))return v.map(m);if(tl(v))return new Map(Array.from(v.entries()).map(([w,A])=>[w,m(A)]));if(nl(v))return new Set(Array.from(v).map(m));const b=Object.create(Bs(v));for(const w in v)b[w]=m(v[w]);return Io(v,Ro)&&(b[Ro]=v[Ro]),b}function g(v){return $n(v)?m(v):v}GE("Patches",{applyPatches_:y,generatePatches_:a,generateReplacementPatches_:f})}var un=new YE,il=un.produce,hw=un.produceWithPatches.bind(un);un.setAutoFreeze.bind(un);un.setUseStrictShallowCopy.bind(un);var Av=un.applyPatches.bind(un);un.createDraft.bind(un);un.finishDraft.bind(un);function KE(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function ZE(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function WE(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(i=>typeof i=="function")){const i=t.map(s=>typeof s=="function"?`function ${s.name||"unnamed"}()`:typeof s).join(", ");throw new TypeError(`${e}[${i}]`)}}var Tv=t=>Array.isArray(t)?t:[t];function JE(t){const e=Array.isArray(t[0])?t[0]:t;return WE(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function e2(t,e){const i=[],{length:s}=t;for(let a=0;a<s;a++)i.push(t[a].apply(null,e));return i}var t2=class{constructor(t){this.value=t}deref(){return this.value}},n2=typeof WeakRef<"u"?WeakRef:t2,i2=0,Ev=1;function Ou(){return{s:i2,v:void 0,o:null,p:null}}function xc(t,e={}){let i=Ou();const{resultEqualityCheck:s}=e;let a,l=0;function c(){let h=i;const{length:f}=arguments;for(let g=0,v=f;g<v;g++){const b=arguments[g];if(typeof b=="function"||typeof b=="object"&&b!==null){let w=h.o;w===null&&(h.o=w=new WeakMap);const A=w.get(b);A===void 0?(h=Ou(),w.set(b,h)):h=A}else{let w=h.p;w===null&&(h.p=w=new Map);const A=w.get(b);A===void 0?(h=Ou(),w.set(b,h)):h=A}}const y=h;let m;if(h.s===Ev)m=h.v;else if(m=t.apply(null,arguments),l++,s){const g=a?.deref?.()??a;g!=null&&s(g,m)&&(m=g,l!==0&&l--),a=typeof m=="object"&&m!==null||typeof m=="function"?new n2(m):m}return y.s=Ev,y.v=m,m}return c.clearCache=()=>{i=Ou(),c.resetResultsCount()},c.resultsCount=()=>l,c.resetResultsCount=()=>{l=0},c}function s2(t,...e){const i=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,s=(...a)=>{let l=0,c=0,h,f={},y=a.pop();typeof y=="object"&&(f=y,y=a.pop()),KE(y,`createSelector expects an output function after the inputs, but received: [${typeof y}]`);const m={...i,...f},{memoize:g,memoizeOptions:v=[],argsMemoize:b=xc,argsMemoizeOptions:w=[]}=m,A=Tv(v),x=Tv(w),T=JE(a),C=g(function(){return l++,y.apply(null,arguments)},...A),S=b(function(){c++;const z=e2(T,arguments);return h=C.apply(null,z),h},...x);return Object.assign(S,{resultFunc:y,memoizedResultFunc:C,dependencies:T,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>h,recomputations:()=>l,resetRecomputations:()=>{l=0},memoize:g,argsMemoize:b})};return Object.assign(s,{withTypes:()=>s}),s}var bp=s2(xc),r2=Object.assign((t,e=bp)=>{ZE(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const i=Object.keys(t),s=i.map(l=>t[l]);return e(s,(...l)=>l.reduce((c,h,f)=>(c[i[f]]=h,c),{}))},{withTypes:()=>r2});function fw(t){return({dispatch:i,getState:s})=>a=>l=>typeof l=="function"?l(i,s,t):a(l)}var a2=fw(),o2=fw,l2=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?bc:bc.apply(null,arguments)},u2=t=>t&&typeof t.match=="function";function Bt(t,e){function i(...s){if(e){let a=e(...s);if(!a)throw new Error(gt(0));return{type:t,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:t,payload:s[0]}}return i.toString=()=>`${t}`,i.type=t,i.match=s=>yp(s)&&s.type===t,i}var dw=class _o extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,_o.prototype)}static get[Symbol.species](){return _o}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new _o(...e[0].concat(this)):new _o(...e.concat(this))}};function Mv(t){return jn(t)?il(t,()=>{}):t}function Sy(t,e,i){return t.has(e)?t.get(e):t.set(e,i(e)).get(e)}function c2(t){return typeof t=="boolean"}var h2=()=>function(e){const{thunk:i=!0,immutableCheck:s=!0,serializableCheck:a=!0,actionCreatorCheck:l=!0}=e??{};let c=new dw;return i&&(c2(i)?c.push(a2):c.push(o2(i.extraArgument))),c},Pc="RTK_autoBatch",to=()=>t=>({payload:t,meta:{[Pc]:!0}}),Cv=t=>e=>{setTimeout(e,t)},f2=(t={type:"raf"})=>e=>(...i)=>{const s=e(...i);let a=!0,l=!1,c=!1;const h=new Set,f=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Cv(10):t.type==="callback"?t.queueNotification:Cv(t.timeout),y=()=>{c=!1,l&&(l=!1,h.forEach(m=>m()))};return Object.assign({},s,{subscribe(m){const g=()=>a&&m(),v=s.subscribe(g);return h.add(m),()=>{v(),h.delete(m)}},dispatch(m){try{return a=!m?.meta?.[Pc],l=!a,l&&(c||(c=!0,f(y))),s.dispatch(m)}finally{a=!0}}})},d2=t=>function(i){const{autoBatch:s=!0}=i??{};let a=new dw(t);return s&&a.push(f2(typeof s=="object"?s:void 0)),a};function y2(t){const e=h2(),{reducer:i=void 0,middleware:s,devTools:a=!0,preloadedState:l=void 0,enhancers:c=void 0}=t||{};let h;if(typeof i=="function")h=i;else if(Kr(i))h=dp(i);else throw new Error(gt(1));let f;typeof s=="function"?f=s(e):f=e();let y=bc;a&&(y=l2({trace:!1,...typeof a=="object"&&a}));const m=BE(...f),g=d2(m);let v=typeof c=="function"?c(g):g();const b=y(...v);return fp(h,l,b)}function yw(t){const e={},i=[];let s;const a={addCase(l,c){const h=typeof l=="string"?l:l.type;if(!h)throw new Error(gt(28));if(h in e)throw new Error(gt(29));return e[h]=c,a},addMatcher(l,c){return i.push({matcher:l,reducer:c}),a},addDefaultCase(l){return s=l,a}};return t(a),[e,i,s]}function p2(t){return typeof t=="function"}function m2(t,e){let[i,s,a]=yw(e),l;if(p2(t))l=()=>Mv(t());else{const h=Mv(t);l=()=>h}function c(h=l(),f){let y=[i[f.type],...s.filter(({matcher:m})=>m(f)).map(({reducer:m})=>m)];return y.filter(m=>!!m).length===0&&(y=[a]),y.reduce((m,g)=>{if(g)if($n(m)){const b=g(m,f);return b===void 0?m:b}else{if(jn(m))return il(m,v=>g(v,f));{const v=g(m,f);if(v===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return m},h)}return c.getInitialState=l,c}var pw=(t,e)=>u2(t)?t.match(e):t(e);function _i(...t){return e=>t.some(i=>pw(i,e))}function Oo(...t){return e=>t.every(i=>pw(i,e))}function Bc(t,e){if(!t||!t.meta)return!1;const i=typeof t.meta.requestId=="string",s=e.indexOf(t.meta.requestStatus)>-1;return i&&s}function sl(t){return typeof t[0]=="function"&&"pending"in t[0]&&"fulfilled"in t[0]&&"rejected"in t[0]}function vp(...t){return t.length===0?e=>Bc(e,["pending"]):sl(t)?_i(...t.map(e=>e.pending)):vp()(t[0])}function Zr(...t){return t.length===0?e=>Bc(e,["rejected"]):sl(t)?_i(...t.map(e=>e.rejected)):Zr()(t[0])}function Nc(...t){const e=i=>i&&i.meta&&i.meta.rejectedWithValue;return t.length===0?Oo(Zr(...t),e):sl(t)?Oo(Zr(...t),e):Nc()(t[0])}function ns(...t){return t.length===0?e=>Bc(e,["fulfilled"]):sl(t)?_i(...t.map(e=>e.fulfilled)):ns()(t[0])}function Ay(...t){return t.length===0?e=>Bc(e,["pending","fulfilled","rejected"]):sl(t)?_i(...t.flatMap(e=>[e.pending,e.rejected,e.fulfilled])):Ay()(t[0])}var g2="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",rl=(t=21)=>{let e="",i=t;for(;i--;)e+=g2[Math.random()*64|0];return e},b2=["name","message","stack","code"],wd=class{constructor(t,e){this.payload=t,this.meta=e}_type},kv=class{constructor(t,e){this.payload=t,this.meta=e}_type},v2=t=>{if(typeof t=="object"&&t!==null){const e={};for(const i of b2)typeof t[i]=="string"&&(e[i]=t[i]);return e}return{message:String(t)}},Rv="External signal was aborted",Ov=(()=>{function t(e,i,s){const a=Bt(e+"/fulfilled",(f,y,m,g)=>({payload:f,meta:{...g||{},arg:m,requestId:y,requestStatus:"fulfilled"}})),l=Bt(e+"/pending",(f,y,m)=>({payload:void 0,meta:{...m||{},arg:y,requestId:f,requestStatus:"pending"}})),c=Bt(e+"/rejected",(f,y,m,g,v)=>({payload:g,error:(s&&s.serializeError||v2)(f||"Rejected"),meta:{...v||{},arg:m,requestId:y,rejectedWithValue:!!g,requestStatus:"rejected",aborted:f?.name==="AbortError",condition:f?.name==="ConditionError"}}));function h(f,{signal:y}={}){return(m,g,v)=>{const b=s?.idGenerator?s.idGenerator(f):rl(),w=new AbortController;let A,x;function T(S){x=S,w.abort()}y&&(y.aborted?T(Rv):y.addEventListener("abort",()=>T(Rv),{once:!0}));const C=(async function(){let S;try{let z=s?.condition?.(f,{getState:g,extra:v});if(x2(z)&&(z=await z),z===!1||w.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const O=new Promise((k,R)=>{A=()=>{R({name:"AbortError",message:x||"Aborted"})},w.signal.addEventListener("abort",A)});m(l(b,f,s?.getPendingMeta?.({requestId:b,arg:f},{getState:g,extra:v}))),S=await Promise.race([O,Promise.resolve(i(f,{dispatch:m,getState:g,extra:v,requestId:b,signal:w.signal,abort:T,rejectWithValue:(k,R)=>new wd(k,R),fulfillWithValue:(k,R)=>new kv(k,R)})).then(k=>{if(k instanceof wd)throw k;return k instanceof kv?a(k.payload,b,f,k.meta):a(k,b,f)})])}catch(z){S=z instanceof wd?c(null,b,f,z.payload,z.meta):c(z,b,f)}finally{A&&w.signal.removeEventListener("abort",A)}return s&&!s.dispatchConditionRejection&&c.match(S)&&S.meta.condition||m(S),S})();return Object.assign(C,{abort:T,requestId:b,arg:f,unwrap(){return C.then(_2)}})}}return Object.assign(h,{pending:l,rejected:c,fulfilled:a,settled:_i(c,a),typePrefix:e})}return t.withTypes=()=>t,t})();function _2(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function x2(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var w2=Symbol.for("rtk-slice-createasyncthunk");function S2(t,e){return`${t}/${e}`}function A2({creators:t}={}){const e=t?.asyncThunk?.[w2];return function(s){const{name:a,reducerPath:l=a}=s;if(!a)throw new Error(gt(11));const c=(typeof s.reducers=="function"?s.reducers(E2()):s.reducers)||{},h=Object.keys(c),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},y={addCase(C,S){const E=typeof C=="string"?C:C.type;if(!E)throw new Error(gt(12));if(E in f.sliceCaseReducersByType)throw new Error(gt(13));return f.sliceCaseReducersByType[E]=S,y},addMatcher(C,S){return f.sliceMatchers.push({matcher:C,reducer:S}),y},exposeAction(C,S){return f.actionCreators[C]=S,y},exposeCaseReducer(C,S){return f.sliceCaseReducersByName[C]=S,y}};h.forEach(C=>{const S=c[C],E={reducerName:C,type:S2(a,C),createNotation:typeof s.reducers=="function"};C2(S)?R2(E,S,y,e):M2(E,S,y)});function m(){const[C={},S=[],E=void 0]=typeof s.extraReducers=="function"?yw(s.extraReducers):[s.extraReducers],z={...C,...f.sliceCaseReducersByType};return m2(s.initialState,O=>{for(let k in z)O.addCase(k,z[k]);for(let k of f.sliceMatchers)O.addMatcher(k.matcher,k.reducer);for(let k of S)O.addMatcher(k.matcher,k.reducer);E&&O.addDefaultCase(E)})}const g=C=>C,v=new Map;let b;function w(C,S){return b||(b=m()),b(C,S)}function A(){return b||(b=m()),b.getInitialState()}function x(C,S=!1){function E(O){let k=O[C];return typeof k>"u"&&S&&(k=A()),k}function z(O=g){const k=Sy(v,S,()=>new WeakMap);return Sy(k,O,()=>{const R={};for(const[P,B]of Object.entries(s.selectors??{}))R[P]=T2(B,O,A,S);return R})}return{reducerPath:C,getSelectors:z,get selectors(){return z(E)},selectSlice:E}}const T={name:a,reducer:w,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:A,...x(l),injectInto(C,{reducerPath:S,...E}={}){const z=S??l;return C.inject({reducerPath:z,reducer:w},E),{...T,...x(z,!0)}}};return T}}function T2(t,e,i,s){function a(l,...c){let h=e(l);return typeof h>"u"&&s&&(h=i()),t(h,...c)}return a.unwrapped=t,a}var pi=A2();function E2(){function t(e,i){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...i}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...i){return e(...i)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,i){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:i}},asyncThunk:t}}function M2({type:t,reducerName:e,createNotation:i},s,a){let l,c;if("reducer"in s){if(i&&!k2(s))throw new Error(gt(17));l=s.reducer,c=s.prepare}else l=s;a.addCase(t,l).exposeCaseReducer(e,l).exposeAction(e,c?Bt(t,c):Bt(t))}function C2(t){return t._reducerDefinitionType==="asyncThunk"}function k2(t){return t._reducerDefinitionType==="reducerWithPrepare"}function R2({type:t,reducerName:e},i,s,a){if(!a)throw new Error(gt(18));const{payloadCreator:l,fulfilled:c,pending:h,rejected:f,settled:y,options:m}=i,g=a(t,l,m);s.exposeAction(e,g),c&&s.addCase(g.fulfilled,c),h&&s.addCase(g.pending,h),f&&s.addCase(g.rejected,f),y&&s.addMatcher(g.settled,y),s.exposeCaseReducer(e,{fulfilled:c||Du,pending:h||Du,rejected:f||Du,settled:y||Du})}function Du(){}var O2="task",mw="listener",gw="completed",_p="cancelled",D2=`task-${_p}`,z2=`task-${gw}`,Ty=`${mw}-${_p}`,U2=`${mw}-${gw}`,Lc=class{constructor(t){this.code=t,this.message=`${O2} ${_p} (reason: ${t})`}name="TaskAbortError";message},xp=(t,e)=>{if(typeof t!="function")throw new TypeError(gt(32))},wc=()=>{},bw=(t,e=wc)=>(t.catch(e),t),vw=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),js=(t,e)=>{const i=t.signal;i.aborted||("reason"in i||Object.defineProperty(i,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},Ps=t=>{if(t.aborted){const{reason:e}=t;throw new Lc(e)}};function _w(t,e){let i=wc;return new Promise((s,a)=>{const l=()=>a(new Lc(t.reason));if(t.aborted){l();return}i=vw(t,l),e.finally(()=>i()).then(s,a)}).finally(()=>{i=wc})}var j2=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(i){return{status:i instanceof Lc?"cancelled":"rejected",error:i}}finally{e?.()}},Sc=t=>e=>bw(_w(t,e).then(i=>(Ps(t),i))),xw=t=>{const e=Sc(t);return i=>e(new Promise(s=>setTimeout(s,i)))},{assign:Yr}=Object,Dv={},Ic="listenerMiddleware",P2=(t,e)=>{const i=s=>vw(t,()=>js(s,t.reason));return(s,a)=>{xp(s);const l=new AbortController;i(l);const c=j2(async()=>{Ps(t),Ps(l.signal);const h=await s({pause:Sc(l.signal),delay:xw(l.signal),signal:l.signal});return Ps(l.signal),h},()=>js(l,z2));return a?.autoJoin&&e.push(c.catch(wc)),{result:Sc(t)(c),cancel(){js(l,D2)}}}},B2=(t,e)=>{const i=async(s,a)=>{Ps(e);let l=()=>{};const h=[new Promise((f,y)=>{let m=t({predicate:s,effect:(g,v)=>{v.unsubscribe(),f([g,v.getState(),v.getOriginalState()])}});l=()=>{m(),y()}})];a!=null&&h.push(new Promise(f=>setTimeout(f,a,null)));try{const f=await _w(e,Promise.race(h));return Ps(e),f}finally{l()}};return(s,a)=>bw(i(s,a))},ww=t=>{let{type:e,actionCreator:i,matcher:s,predicate:a,effect:l}=t;if(e)a=Bt(e).match;else if(i)e=i.type,a=i.match;else if(s)a=s;else if(!a)throw new Error(gt(21));return xp(l),{predicate:a,type:e,effect:l}},Sw=Yr(t=>{const{type:e,predicate:i,effect:s}=ww(t);return{id:rl(),effect:s,type:e,predicate:i,pending:new Set,unsubscribe:()=>{throw new Error(gt(22))}}},{withTypes:()=>Sw}),zv=(t,e)=>{const{type:i,effect:s,predicate:a}=ww(e);return Array.from(t.values()).find(l=>(typeof i=="string"?l.type===i:l.predicate===a)&&l.effect===s)},Ey=t=>{t.pending.forEach(e=>{js(e,Ty)})},N2=t=>()=>{t.forEach(Ey),t.clear()},Uv=(t,e,i)=>{try{t(e,i)}catch(s){setTimeout(()=>{throw s},0)}},Aw=Yr(Bt(`${Ic}/add`),{withTypes:()=>Aw}),L2=Bt(`${Ic}/removeAll`),Tw=Yr(Bt(`${Ic}/remove`),{withTypes:()=>Tw}),I2=(...t)=>{console.error(`${Ic}/error`,...t)},q2=(t={})=>{const e=new Map,{extra:i,onError:s=I2}=t;xp(s);const a=m=>(m.unsubscribe=()=>e.delete(m.id),e.set(m.id,m),g=>{m.unsubscribe(),g?.cancelActive&&Ey(m)}),l=m=>{const g=zv(e,m)??Sw(m);return a(g)};Yr(l,{withTypes:()=>l});const c=m=>{const g=zv(e,m);return g&&(g.unsubscribe(),m.cancelActive&&Ey(g)),!!g};Yr(c,{withTypes:()=>c});const h=async(m,g,v,b)=>{const w=new AbortController,A=B2(l,w.signal),x=[];try{m.pending.add(w),await Promise.resolve(m.effect(g,Yr({},v,{getOriginalState:b,condition:(T,C)=>A(T,C).then(Boolean),take:A,delay:xw(w.signal),pause:Sc(w.signal),extra:i,signal:w.signal,fork:P2(w.signal,x),unsubscribe:m.unsubscribe,subscribe:()=>{e.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((T,C,S)=>{T!==w&&(js(T,Ty),S.delete(T))})},cancel:()=>{js(w,Ty),m.pending.delete(w)},throwIfCancelled:()=>{Ps(w.signal)}})))}catch(T){T instanceof Lc||Uv(s,T,{raisedBy:"effect"})}finally{await Promise.all(x),js(w,U2),m.pending.delete(w)}},f=N2(e);return{middleware:m=>g=>v=>{if(!yp(v))return g(v);if(Aw.match(v))return l(v.payload);if(L2.match(v)){f();return}if(Tw.match(v))return c(v.payload);let b=m.getState();const w=()=>{if(b===Dv)throw new Error(gt(23));return b};let A;try{if(A=g(v),e.size>0){const x=m.getState(),T=Array.from(e.values());for(const C of T){let S=!1;try{S=C.predicate(v,x,b)}catch(E){S=!1,Uv(s,E,{raisedBy:"predicate"})}S&&h(C,v,m,w)}}}finally{b=Dv}return A},startListening:l,stopListening:c,clearListeners:f}},G2=t=>"reducerPath"in t&&typeof t.reducerPath=="string",H2=t=>t.flatMap(e=>G2(e)?[[e.reducerPath,e.reducer]]:Object.entries(e)),wp=Symbol.for("rtk-state-proxy-original"),$2=t=>!!t&&!!t[wp],F2=new WeakMap,V2=(t,e)=>Sy(F2,t,()=>new Proxy(t,{get:(i,s,a)=>{if(s===wp)return i;const l=Reflect.get(i,s,a);if(typeof l>"u"){const c=e[s.toString()];if(c){const h=c(void 0,{type:rl()});if(typeof h>"u")throw new Error(gt(24));return h}}return l}})),Y2=t=>{if(!$2(t))throw new Error(gt(25));return t[wp]},X2=(t={})=>t;function Q2(...t){const e=Object.fromEntries(H2(t)),i=()=>Object.keys(e).length?dp(e):X2;let s=i();function a(h,f){return s(h,f)}a.withLazyLoadedSlices=()=>a;const l=(h,f={})=>{const{reducerPath:y,reducer:m}=h,g=e[y];return!f.overrideExisting&&g&&g!==m||(e[y]=m,s=i()),a},c=Object.assign(function(f,y){return function(g,...v){return f(V2(y?y(g,...v):g,e),...v)}},{original:Y2});return Object.assign(a,{inject:l,selector:c})}function gt(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Sp="persist:",Ap="persist/FLUSH",al="persist/REHYDRATE",Tp="persist/PAUSE",Ep="persist/PERSIST",Mp="persist/PURGE",Cp="persist/REGISTER",Ew=-1;function fc(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?fc=function(i){return typeof i}:fc=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},fc(t)}function jv(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),i.push.apply(i,s)}return i}function K2(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?jv(i,!0).forEach(function(s){Z2(t,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):jv(i).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(i,s))})}return t}function Z2(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function W2(t,e,i,s){s.debug;var a=K2({},i);return t&&fc(t)==="object"&&Object.keys(t).forEach(function(l){l!=="_persist"&&e[l]===i[l]&&(a[l]=t[l])}),a}function J2(t){var e=t.blacklist||null,i=t.whitelist||null,s=t.transforms||[],a=t.throttle||0,l="".concat(t.keyPrefix!==void 0?t.keyPrefix:Sp).concat(t.key),c=t.storage,h;t.serialize===!1?h=function(z){return z}:typeof t.serialize=="function"?h=t.serialize:h=eM;var f=t.writeFailHandler||null,y={},m={},g=[],v=null,b=null,w=function(z){Object.keys(z).forEach(function(O){T(O)&&y[O]!==z[O]&&g.indexOf(O)===-1&&g.push(O)}),Object.keys(y).forEach(function(O){z[O]===void 0&&T(O)&&g.indexOf(O)===-1&&y[O]!==void 0&&g.push(O)}),v===null&&(v=setInterval(A,a)),y=z};function A(){if(g.length===0){v&&clearInterval(v),v=null;return}var E=g.shift(),z=s.reduce(function(O,k){return k.in(O,E,y)},y[E]);if(z!==void 0)try{m[E]=h(z)}catch(O){console.error("redux-persist/createPersistoid: error serializing state",O)}else delete m[E];g.length===0&&x()}function x(){Object.keys(m).forEach(function(E){y[E]===void 0&&delete m[E]}),b=c.setItem(l,h(m)).catch(C)}function T(E){return!(i&&i.indexOf(E)===-1&&E!=="_persist"||e&&e.indexOf(E)!==-1)}function C(E){f&&f(E)}var S=function(){for(;g.length!==0;)A();return b||Promise.resolve()};return{update:w,flush:S}}function eM(t){return JSON.stringify(t)}function tM(t){var e=t.transforms||[],i="".concat(t.keyPrefix!==void 0?t.keyPrefix:Sp).concat(t.key),s=t.storage;t.debug;var a;return t.deserialize===!1?a=function(c){return c}:typeof t.deserialize=="function"?a=t.deserialize:a=nM,s.getItem(i).then(function(l){if(l)try{var c={},h=a(l);return Object.keys(h).forEach(function(f){c[f]=e.reduceRight(function(y,m){return m.out(y,f,h)},a(h[f]))}),c}catch(f){throw f}else return})}function nM(t){return JSON.parse(t)}function iM(t){var e=t.storage,i="".concat(t.keyPrefix!==void 0?t.keyPrefix:Sp).concat(t.key);return e.removeItem(i,sM)}function sM(t){}function Pv(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),i.push.apply(i,s)}return i}function ci(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Pv(i,!0).forEach(function(s){rM(t,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Pv(i).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(i,s))})}return t}function rM(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function aM(t,e){if(t==null)return{};var i=oM(t,e),s,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)s=l[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(i[s]=t[s])}return i}function oM(t,e){if(t==null)return{};var i={},s=Object.keys(t),a,l;for(l=0;l<s.length;l++)a=s[l],!(e.indexOf(a)>=0)&&(i[a]=t[a]);return i}var lM=5e3;function uM(t,e){var i=t.version!==void 0?t.version:Ew;t.debug;var s=t.stateReconciler===void 0?W2:t.stateReconciler,a=t.getStoredState||tM,l=t.timeout!==void 0?t.timeout:lM,c=null,h=!1,f=!0,y=function(g){return g._persist.rehydrated&&c&&!f&&c.update(g),g};return function(m,g){var v=m||{},b=v._persist,w=aM(v,["_persist"]),A=w;if(g.type===Ep){var x=!1,T=function(R,P){x||(g.rehydrate(t.key,R,P),x=!0)};if(l&&setTimeout(function(){!x&&T(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(t.key,'"')))},l),f=!1,c||(c=J2(t)),b)return ci({},e(A,g),{_persist:b});if(typeof g.rehydrate!="function"||typeof g.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return g.register(t.key),a(t).then(function(k){var R=t.migrate||function(P,B){return Promise.resolve(P)};R(k,i).then(function(P){T(P)},function(P){T(void 0,P)})},function(k){T(void 0,k)}),ci({},e(A,g),{_persist:{version:i,rehydrated:!1}})}else{if(g.type===Mp)return h=!0,g.result(iM(t)),ci({},e(A,g),{_persist:b});if(g.type===Ap)return g.result(c&&c.flush()),ci({},e(A,g),{_persist:b});if(g.type===Tp)f=!0;else if(g.type===al){if(h)return ci({},A,{_persist:ci({},b,{rehydrated:!0})});if(g.key===t.key){var C=e(A,g),S=g.payload,E=s!==!1&&S!==void 0?s(S,m,C,t):C,z=ci({},E,{_persist:ci({},b,{rehydrated:!0})});return y(z)}}}if(!b)return e(m,g);var O=e(A,g);return O===A?m:y(ci({},O,{_persist:b}))}}function Bv(t){return fM(t)||hM(t)||cM()}function cM(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function hM(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function fM(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}function Nv(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),i.push.apply(i,s)}return i}function My(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Nv(i,!0).forEach(function(s){dM(t,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Nv(i).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(i,s))})}return t}function dM(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var Mw={registry:[],bootstrapped:!1},yM=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Mw,i=arguments.length>1?arguments[1]:void 0;switch(i.type){case Cp:return My({},e,{registry:[].concat(Bv(e.registry),[i.key])});case al:var s=e.registry.indexOf(i.key),a=Bv(e.registry);return a.splice(s,1),My({},e,{registry:a,bootstrapped:a.length===0});default:return e}};function pM(t,e,i){var s=fp(yM,Mw,void 0),a=function(f){s.dispatch({type:Cp,key:f})},l=function(f,y,m){var g={type:al,payload:y,err:m,key:f};t.dispatch(g),s.dispatch(g)},c=My({},s,{purge:function(){var f=[];return t.dispatch({type:Mp,result:function(m){f.push(m)}}),Promise.all(f)},flush:function(){var f=[];return t.dispatch({type:Ap,result:function(m){f.push(m)}}),Promise.all(f)},pause:function(){t.dispatch({type:Tp})},persist:function(){t.dispatch({type:Ep,register:a,rehydrate:l})}});return c.persist(),c}function mM(t,e){return function(i,s){if(!i)return Promise.resolve(void 0);var a=i._persist&&i._persist.version!==void 0?i._persist.version:Ew;if(a===s||a>s)return Promise.resolve(i);var l=Object.keys(t).map(function(h){return parseInt(h)}).filter(function(h){return s>=h&&h>a}).sort(function(h,f){return h-f});try{var c=l.reduce(function(h,f){return t[f](h)},i);return Promise.resolve(c)}catch(h){return Promise.reject(h)}}}const Cw=q2(),kw=Cw.startListening.withTypes();var no={},zu={},Uu={},Lv;function gM(){if(Lv)return Uu;Lv=1,Uu.__esModule=!0,Uu.default=a;function t(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(h){return typeof h}:t=function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},t(l)}function e(){}var i={getItem:e,setItem:e,removeItem:e};function s(l){if((typeof self>"u"?"undefined":t(self))!=="object"||!(l in self))return!1;try{var c=self[l],h="redux-persist ".concat(l," test");c.setItem(h,"test"),c.getItem(h),c.removeItem(h)}catch{return!1}return!0}function a(l){var c="".concat(l,"Storage");return s(c)?self[c]:i}return Uu}var Iv;function bM(){if(Iv)return zu;Iv=1,zu.__esModule=!0,zu.default=i;var t=e(gM());function e(s){return s&&s.__esModule?s:{default:s}}function i(s){var a=(0,t.default)(s);return{getItem:function(c){return new Promise(function(h,f){h(a.getItem(c))})},setItem:function(c,h){return new Promise(function(f,y){f(a.setItem(c,h))})},removeItem:function(c){return new Promise(function(h,f){h(a.removeItem(c))})}}}return zu}var qv;function vM(){if(qv)return no;qv=1,no.__esModule=!0,no.default=void 0;var t=e(bM());function e(s){return s&&s.__esModule?s:{default:s}}var i=(0,t.default)("local");return no.default=i,no}var _M=vM();const xM=xi(_M);function wM(t){var e="";return i(t),e;function i(a){if(a===null||typeof a!="object"||a.toJSON!=null)e+=JSON.stringify(a);else if(Array.isArray(a)){e+="[";var l=!1;a.forEach(function(h){l&&(e+=","),l=!0,h===void 0&&(h=null),i(h)}),e+="]"}else{e+="{";var c=Object.keys(a).filter(function(h){return a[h]!==void 0}).sort();c.forEach(function(h,f){return s(a,h,f)}),e+="}"}}function s(a,l,c){c>0&&(e+=","),e+=JSON.stringify(l),e+=":",i(a[l])}}const dc=1e-4,Ac=(t,e)=>Math.abs(t-e)<dc,bU=t=>t===0?dc:Math.abs(t)<dc?dc*Math.sign(t):t,kp=["away","towards","left","right"],SM=["awayRight","towardsRight","towardsLeft","awayLeft"],Rw=[...kp,...SM],AM=t=>t==="away"||t==="towards"?"y":"x",vU=t=>t==="away"?"towards":t==="towards"?"away":t==="left"?"right":"left",_U=t=>TM(AM(t)),TM=t=>t==="x"?"y":"x",Do=(t,...e)=>{const i={x:t.x,y:t.y};for(const s of e)i.x+=s.x??0,i.y+=s.y??0;return i},xU=(t,...e)=>{const i={x:t.x,y:t.y};for(const s of e)i.x-=s.x??0,i.y-=s.y??0;return i},EM=(t,e)=>({x:t.x*e,y:t.y*e}),wU=(t,e)=>({x:t.x*e,y:t.y*e,z:t.z*e}),SU=(t,e,i)=>{const s=t;return s.x=e.x*i,s.y=e.y*i,s.z=e.z*i,s},MM=(t,e)=>(t.x*=e,t.y*=e,t.z*=e,t),AU=(t,e)=>({x:t.x*e.x,y:t.y*e.y,z:t.z*e.z}),CM=({x:t,y:e,z:i})=>Math.hypot(t,e,i),TU=({x:t,y:e})=>Math.hypot(t,e),EU=t=>{const e=CM(t);if(e===0)throw new Error("unitVectorInPlace called with zero length vector");return MM(t,1/e)},MU=[{x:0,y:0,z:0},{x:0,y:0,z:1},{x:0,y:1,z:0},{x:0,y:1,z:1},{x:1,y:0,z:0},{x:1,y:0,z:1},{x:1,y:1,z:1}],CU=(...t)=>{if(t.length===0)return{x:0,y:0,z:0};const[e,...i]=t,s={x:e.x??0,y:e.y??0,z:e.z??0};for(const a of i)s.x+=a.x??0,s.y+=a.y??0,s.z+=a.z??0;return s},kU=(t,...e)=>{for(const i of e)t.x+=i.x??0,t.y+=i.y??0,t.z+=i.z??0;return t},RU=(...t)=>t.reduce(({x:e,y:i,z:s},{x:a,y:l,z:c})=>({x:e*a,y:i*l,z:s*c}),kM),OU=(t,...e)=>{const i={x:t.x,y:t.y,z:t.z};for(const s of e)i.x-=s.x??0,i.y-=s.y??0,i.z-=s.z??0;return i},DU=(t,...e)=>{for(const i of e)t.x-=i.x??0,t.y-=i.y??0,t.z-=i.z??0;return t},zU=({x:t,y:e,z:i},{x:s,y:a,z:l})=>t===s&&e===a&&i===l,UU=({x:t,y:e},{x:i,y:s})=>t===i&&e===s,jU=Object.freeze({x:0,y:0}),PU=Object.freeze({x:0,y:0,z:0}),kM=Object.freeze({x:1,y:1,z:1}),BU=Object.freeze({x:1,y:1,z:0}),NU=Object.freeze({x:1,y:0,z:1}),LU=Object.freeze({x:0,y:1,z:1}),IU=Object.freeze({x:1,y:0,z:0}),qU=Object.freeze({x:0,y:1,z:0}),GU=Object.freeze({x:0,y:0,z:1}),HU=["x","y","z"],$U=({x:t,y:e})=>{if(!(Ac(t,0)&&Ac(e,0)))return e>t?e>-t?"away":"right":e>-t?"left":"towards"},RM=["right","towardsRight","towards","towardsLeft","left","awayLeft","away","awayRight"],FU=({x:t,y:e})=>{if(Ac(t,0)&&Ac(e,0))return;const i=Math.atan2(-e,-t),s=Math.round(8*i/(2*Math.PI))&7;return RM[s]},OM=["lookUp","lookDown","lookLeft","lookRight"],DM=["jump","fire","carry","swop","swop.head","swop.heels","hold","toggleColourisation","toggleCrtFilter","cycleResolution","toggleShowFps","menu_select","menu_openOrExit","menu_exit","map",...kp,"lookShift",...OM,"pageUp","pageDown","home","end"],Ow=[...DM];var an={},Sd={},Ad={},Gv;function Rp(){if(Gv)return Ad;Gv=1;function t(e){return typeof e<"u"}return Ad.notUndefined=t,Ad}var Hv;function Dw(){if(Hv)return Sd;Hv=1;const{notUndefined:t}=Rp();function e(i){return i!=null&&t(i[Symbol.iterator])}return Sd.isIterable=e,Sd}var Td={},$v;function zM(){return $v||($v=1,Td.isLoopable=Dw().isIterable),Td}var Ed={},Fv;function UM(){if(Fv)return Ed;Fv=1;const{notUndefined:t}=Rp();function e(i){return i==null||t(i[Symbol.iterator])}return Ed.isWrappable=e,Ed}var ju={},Vv;function jM(){if(Vv)return ju;Vv=1;function*t(i){yield*i}ju.wrap=t;function*e(i){i!=null&&(yield*i)}return ju.nullableWrap=e,ju}var Pu={},Yv;function PM(){if(Yv)return Pu;Yv=1;function t(s,a=s.length,l=[]){return(...c)=>a<=c.length?s(...l,...c):t(s,a-c.length,[...l,...c])}Pu.curry=t;function e(s,a){const{fn:l,validateArgs:c,variadic:h,reduces:f,growRight:y,minArgs:m,maxArgs:g,isIterable:v,iterableType:b,applyOnIterableArgs:w,IterableClass:A}=s;if(a.length>m){let x=!0;const T=h?a.findIndex((S,E)=>v(S)&&E>=m):Math.min(g,a.length-1),C=h?a.length:T+1;if(h)for(let S=T;S<a.length;S++)x=x&&v(a[S]);else x=v(a[T]);if(a.length>g&&(T===-1||!x)){const S=h?`...${b}s`:b,E=`${l.name} takes up to ${g} arguments, followed by ${S}. You already passed ${a.length} arguments`;throw h?new Error(`${E} and the following arguments were not all ${b}s`):new Error(`${E} and the last argument was not ${b}`)}if(T>=0&&x){for(let E=T;E<C;E++)a[E]=w(a[E]);const S=h?a.slice(T):a[T];return a.splice(T),y||a.reverse(),a.unshift(S),c(a),f?l(...a):new A(l,a)}}return i(s,a)}function i(s,a=[]){return(...l)=>{if(l.length===0)throw new Error("Cannot make a partial application with no arguments");return l.unshift(...a),e(s,l)}}return Pu.variadicCurryWithValidation=i,Pu}var io={},Xv;function BM(){if(Xv)return io;Xv=1;const t=Symbol.for("_");io._=t;const e=Symbol("__iterate");io.__iterate=e;const i=Symbol("split");return io.split=i,io}var Qv;function Op(){if(Qv)return an;Qv=1;const{isIterable:t}=Dw(),{isLoopable:e}=zM(),{isWrappable:i}=UM(),{nullableWrap:s}=jM(),{variadicCurryWithValidation:a}=PM(),{_:l,__iterate:c}=BM();an.wrap=s,an.isIterable=t,an.isLoopable=e,an.isWrappable=i;function h(A){if(i(A))return t(A)?A:s(A);throw typeof A.next=="function"?new TypeError("iter-tools received a value that looked like an iterator but was not iterable. Get help fixing this: https://github.com/iter-tools/iter-tools/wiki/Making-iterators-iterable"):new TypeError("Expected an iterable, null, or undefined")}an.ensureIterable=h;function f(A){"return"in A&&A.return()}an.callReturn=f;function y(A,x){this[l]={fn:A,args:x,staticIterator:null}}an.BaseIterableIterator=y,Object.assign(y.prototype,{constructor:y,[c](){const{fn:A,args:x}=this[l];return A(...x)},next(){const A=this[l];return A.staticIterator=A.staticIterator||this[c](),A.staticIterator.next()},return(A){const x=this[l];return x.staticIterator=x.staticIterator||this[c](),x.staticIterator.return(A)},throw(A){const x=this[l];return x.staticIterator=x.staticIterator||this[c](),x.staticIterator.throw(A)}});function m(...A){y.apply(this,A)}an.IterableIterator=m,m.prototype=Object.assign(Object.create(y.prototype),{constructor:m,[Symbol.iterator](){return this[c]()}});function g(A,x={}){const{validateArgs:T=R=>{},variadic:C=!1,reduces:S=!1,growRight:E=!1,minArgs:z=A.length-1,maxArgs:O=A.length-1,applyOnIterableArgs:k=h}=x;return{fn:A,validateArgs:T,variadic:C,reduces:S,growRight:E,minArgs:z,maxArgs:O,isIterable:i,iterableType:"iterable",applyOnIterableArgs:k,IterableClass:m}}function v(A){return[...A]}an.cache=v;function b(A,{validateArgs:x=T=>T}={}){return(...T)=>(x(T),new m(A,T))}an.wrapWithIterableIterator=b;const w=(A,x)=>a(g(A,x));return an.iterableCurry=w,an}var so={},Kv;function NM(){if(Kv)return so;Kv=1;function t(s,a=!1){return typeof s=="number"&&!isNaN(s)&&isFinite(s)&&!(a&&s===0)}so.isInteger=t;function e(s,a=!1){return t(s)&&(a?s>0:s>=0)}so.isPositiveInteger=e;function i(s,a=!1){return typeof s=="number"&&!isNaN(s)&&!(a&&s===0)}return so.isIntegerOrInfinite=i,so}var Md={},Zv;function LM(){if(Zv)return Md;Zv=1;function t(e){return typeof e=="object"&&e!==null}return Md.isObject=t,Md}var Bu={},Wv;function IM(){if(Wv)return Bu;Wv=1;const{wrapWithIterableIterator:t}=Op(),{hasOwnProperty:e}=Object.prototype;function*i(a){if(a!=null)for(const l in a)e.call(a,l)&&(yield[l,a[l]])}Bu.__objectEntries=i;const s=t(i,{validateArgs(a){if(!(a[0]==null||typeof a[0]=="object"))throw new Error("obj argument to objectEntries must be an object, null, or undefined")}});return Bu.objectEntries=s,Bu}var Nu={},Jv;function qM(){if(Jv)return Nu;Jv=1;const{wrapWithIterableIterator:t}=Op(),{hasOwnProperty:e}=Object.prototype;function*i(a){if(a!=null)for(const l in a)e.call(a,l)&&(yield l)}Nu.__objectKeys=i;const s=t(i,{validateArgs(a){if(!(a[0]==null||typeof a[0]=="object"))throw new Error("obj argument to objectKeys must be an object, null, or undefined")}});return Nu.objectKeys=s,Nu}var Lu={},e_;function GM(){if(e_)return Lu;e_=1;const{wrapWithIterableIterator:t}=Op(),{isInteger:e,isIntegerOrInfinite:i}=NM(),{isObject:s}=LM(),{notUndefined:a}=Rp();function*l(h=0,f=1/0,y=1){for(let m=h;y>0?m<f:m>f;m+=y)yield m}Lu.__range=l;const c=t(l,{growRight:!0,validateArgs(h){let[f,y=1/0,m]=h,g;if(s(f)?{start:g,end:y,step:m}=f:h.length>1?g=f:y=f,a(g)&&!e(g))throw new TypeError("The specified start was not an integer");if(a(y)&&!i(y))throw new TypeError("The specified end was not an integer or infinite");if(a(m)&&!e(m,!0))throw new TypeError("The specified step was not a non-zero integer");h[0]=g,h[1]=y,h[2]=m}});return Lu.range=c,Lu}var Cd,t_;function HM(){return t_||(t_=1,Cd=IM().objectEntries),Cd}var $M=HM();const FM=xi($M);var kd,n_;function VM(){return n_||(n_=1,kd=qM().objectKeys),kd}var YM=VM();const XM=xi(YM);var Rd,i_;function QM(){return i_||(i_=1,Rd=GM().range),Rd}var KM=QM();const ZM=xi(KM),Dp=t=>t[Symbol.iterator](),VU=Object.entries,WM=FM,YU=Object.keys,XU=XM,JM=Object.fromEntries,zp=Object.fromEntries,eC=(t,e)=>{const s=Dp(WM(t)).map(e).filter(a=>a!==void 0);return JM(s)},zw={presses:zp(Ow.map(t=>[t,{keys:[],gamepadButtons:[]}])),axes:{x:[],y:[],xLook:[],yLook:[]},radialAxes:{xy:[]}},Iu=(t,e)=>Array.from(new Set([...t??[],...e??[]]));function Gs(...t){const e=new Set,i=new Set,s=new Set,a=new Set;return t.reduceRight((l,c)=>{const h=new Set(e),f=new Set(i),y=new Set(s),m=new Set(a);for(const b of Ow){const w=c?.presses?.[b]?.keys??[],A=c?.presses?.[b]?.gamepadButtons??[],x=w.filter(C=>!h.has(C)),T=A.filter(C=>!f.has(C));l.presses[b]={keys:Iu(l.presses[b]?.keys,x),gamepadButtons:Iu(l.presses[b]?.gamepadButtons,T)};for(const C of w)e.add(C);for(const C of A)i.add(C)}for(const b of["x","y","xLook","yLook"]){const w=c.axes?.[b]??[],A=w.filter(x=>!y.has(x));l.axes[b]=Iu(l.axes[b],A);for(const x of w)s.add(x)}const g=c.radialAxes?.xy??[],v=g.filter(b=>!m.has(b));l.radialAxes&&(l.radialAxes.xy=Iu(l.radialAxes.xy,v));for(const b of g)a.add(b);return l},structuredClone(zw))}const ta={buttons:{dPadDown:13,dPadUp:12,dPadLeft:14,dPadRight:15,a:0,b:1,x:2,y:3,lb:4,lt:6,rb:5,rt:7,select:8,start:9,lPress:10,rPress:11},axes:{lStickX:0,lStickY:1,rStickX:2,rStickY:3},radialAxes:{}},tC={buttons:{a:0,b:1,x:3,y:4,lb:6,lt:8,rb:7,rt:9,select:10,start:11,l3:2,r3:5},axes:{lStickX:0,lStickY:1,rStickX:2,rStickY:5},radialAxes:{xy:9}};eC(ta.buttons,([t,e])=>[e,t]);const nC={start:"1",coin:"5",directions:{up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight"},buttons:["Control","Alt"," ","Shift","Z","X"]},kr={directions:{up:"R",down:"F",left:"D",right:"G"},buttons:["A","S","Q","W","I","K"]},wn={dPadUp:"C",dPadDown:"D",dPadLeft:"E",dPadRight:"F",a:"J",b:"G",y:"H",x:"I",rb:"M",start:"O",select:"N"},Hs={presses:{right:{keys:["ArrowRight"]},towards:{keys:["ArrowDown"]},left:{keys:["ArrowLeft"]},away:{keys:["ArrowUp"]},jump:{keys:[" ","`","Z","\\"]},carry:{keys:["Shift","`","Z","\\"]},fire:{keys:["D"]},swop:{keys:["Enter"]},"swop.head":{keys:["[","A"]},"swop.heels":{keys:["]","S"]},hold:{keys:["P"]},map:{keys:["M","Tab"]},menu_openOrExit:{keys:["Escape",""]},menu_select:{keys:["Enter"]},toggleCrtFilter:{keys:["F8","T"]},toggleShowFps:{keys:["F9"]},toggleColourisation:{keys:["F10"]},cycleResolution:{keys:["0"]},pageDown:{keys:["PageDown"]},pageUp:{keys:["PageUp"]},home:{keys:["Home"]},end:{keys:["End"]}}},na=({buttons:t,axes:e,radialAxes:i})=>{const s=a=>a!==void 0;return{presses:{right:{gamepadButtons:[t.dPadRight].filter(s)},towards:{gamepadButtons:[t.dPadDown].filter(s)},left:{gamepadButtons:[t.dPadLeft].filter(s)},away:{gamepadButtons:[t.dPadUp].filter(s)},jump:{gamepadButtons:[t.a,t.y].filter(s)},carry:{gamepadButtons:[t.x,t.y].filter(s)},fire:{gamepadButtons:[t.b].filter(s)},lookShift:{gamepadButtons:[t.rb].filter(s)},"swop.head":{gamepadButtons:[t.lt].filter(s)},"swop.heels":{gamepadButtons:[t.rt].filter(s)},hold:{gamepadButtons:[t.start].filter(s)},menu_select:{gamepadButtons:[t.a].filter(s)},menu_exit:{gamepadButtons:[t.b].filter(s)},menu_openOrExit:{gamepadButtons:[t.select].filter(s)},map:{gamepadButtons:[t.lb].filter(s)},toggleCrtFilter:{gamepadButtons:[t.l3].filter(s)},toggleShowFps:{gamepadButtons:[t.r3].filter(s)}},axes:{x:[e.lStickX].filter(s),y:[e.lStickY].filter(s),xLook:[e.rStickX].filter(s),yLook:[e.rStickY].filter(s)},radialAxes:{xy:[i.xy].filter(s)}}},iC={inputAssignment:Gs(Hs,na(ta),{presses:{right:{keys:["P","7"]},towards:{keys:["A","8"]},left:{keys:["O","6"]},away:{keys:["Q","9"]},jump:{keys:[" ","M","N","B","Alt"]},carry:{keys:[" ","Enter","L","K","J"]},fire:{keys:["Shift","Z","X","C","V"]},swop:{keys:["S","D","F","G"]},hold:{keys:["H"]}}}),description:"Closely matches the ZX Spectrum original game's keys"},sC={inputAssignment:Gs(Hs,na(ta),{presses:{carry:{keys:["F3","F5"]},fire:{keys:[" "]},jump:{keys:["F5"]},swop:{keys:["F1"]},hold:{keys:["H"]}}}),description:"Closely matches Amiga version keys - heavy on the F-keys"},rC={inputAssignment:Gs(Hs,na(ta),{presses:{lookUp:{keys:["I"]},lookDown:{keys:["K"]},lookLeft:{keys:["J"]},lookRight:{keys:["L"]},lookShift:{keys:["C"]}}}),description:"Combined key and joystick/gamepad assignment, should work on most setups"},aC={inputAssignment:Gs(Hs,na(ta),{presses:{right:{keys:["D"]},towards:{keys:["S"]},left:{keys:["A"]},away:{keys:["W"]},jump:{keys:[" ","F","P"]},carry:{keys:["Shift","F","I","P"]},fire:{keys:["E","O","Control"]},swop:{keys:["Q"]},hold:{keys:["H"]}}}),description:"Modern, minimalist WASD key layout"},oC={inputAssignment:Gs(Hs,na(ta),{presses:{right:{keys:[wn.dPadRight]},towards:{keys:[wn.dPadDown]},left:{keys:[wn.dPadLeft]},away:{keys:[wn.dPadUp]},jump:{keys:[wn.a,wn.y]},carry:{keys:[wn.b,wn.y]},fire:{keys:[wn.x]},swop:{keys:[wn.rb]},hold:{keys:[wn.start]},menu_openOrExit:{keys:[wn.select]}}}),description:"8bitdo controllers in keyboard mode (identifies to OS as a keyboard). They work as controllers even on phones that dont support controllers"},lC={inputAssignment:Gs(Hs,na(tC)),description:"8Bitdo Ultimate 2c Wired reports in a non-standard way on some systems - use this if you have this controller and it doesn't work as expected"},uC=t=>({presses:{right:{keys:[t.directions.right]},towards:{keys:[t.directions.down]},left:{keys:[t.directions.left]},away:{keys:[t.directions.up]},jump:{keys:[t.buttons[0],t.buttons[3]]},carry:{keys:[t.buttons[1],t.buttons[3]]},fire:{keys:[t.buttons[2]]},swop:{keys:[t.start]},hold:{keys:[t.coin]},menu_openOrExit:{keys:[t.buttons[4]]},lookShift:{keys:[t.buttons[5]]}}}),cC={inputAssignment:Gs(zw,Hs,{presses:{menu_openOrExit:{keys:["`","Tab"]}}},uC(nC),{presses:{lookDown:{keys:[kr.directions.down]},lookLeft:{keys:[kr.directions.left]},lookRight:{keys:[kr.directions.right]},lookUp:{keys:[kr.directions.up]},"swop.head":{keys:[kr.buttons[0]]},"swop.heels":{keys:[kr.buttons[1]]}}}),description:"Arcade-style control panels"},Cy={Default:rC,"ZX Spec":iC,Amiga:sC,MAME:cC,WASD:aC," 8b kbd":oC," 8b U2c":lC},Xr=(t=typeof globalThis.window>"u"?"":window.location.search)=>new URLSearchParams(t),hC=()=>Xr().get("campaignName")?.startsWith("data:"),fC=(function(){const e=typeof document<"u"&&document.createElement("link").relList;return e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"})(),dC=function(t){return"/editor/"+t},s_={},Fn=function(e,i,s){let a=Promise.resolve();if(i&&i.length>0){let f=function(y){return Promise.all(y.map(m=>Promise.resolve(m).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),h=c?.nonce||c?.getAttribute("nonce");a=f(i.map(y=>{if(y=dC(y),y in s_)return;s_[y]=!0;const m=y.endsWith(".css"),g=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${g}`))return;const v=document.createElement("link");if(v.rel=m?"stylesheet":fC,m||(v.as="script"),v.crossOrigin="",v.href=y,h&&v.setAttribute("nonce",h),document.head.appendChild(v),m)return new Promise((b,w)=>{v.addEventListener("load",b),v.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${y}`)))})}))}function l(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return a.then(c=>{for(const h of c||[])h.status==="rejected"&&l(h.reason);return e().catch(l)})};var Ke=(t=>(t.Application="application",t.WebGLPipes="webgl-pipes",t.WebGLPipesAdaptor="webgl-pipes-adaptor",t.WebGLSystem="webgl-system",t.WebGPUPipes="webgpu-pipes",t.WebGPUPipesAdaptor="webgpu-pipes-adaptor",t.WebGPUSystem="webgpu-system",t.CanvasSystem="canvas-system",t.CanvasPipesAdaptor="canvas-pipes-adaptor",t.CanvasPipes="canvas-pipes",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t.MaskEffect="mask-effect",t.BlendMode="blend-mode",t.TextureSource="texture-source",t.Environment="environment",t.ShapeBuilder="shape-builder",t.Batcher="batcher",t))(Ke||{});const ky=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},qu=(t,e)=>ky(t).priority??e,wi={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(ky).forEach(e=>{e.type.forEach(i=>this._removeHandlers[i]?.(e))}),this},add(...t){return t.map(ky).forEach(e=>{e.type.forEach(i=>{const s=this._addHandlers,a=this._queue;s[i]?s[i]?.(e):(a[i]=a[i]||[],a[i]?.push(e))})}),this},handle(t,e,i){const s=this._addHandlers,a=this._removeHandlers;if(s[t]||a[t])throw new Error(`Extension type ${t} already has a handler`);s[t]=e,a[t]=i;const l=this._queue;return l[t]&&(l[t]?.forEach(c=>e(c)),delete l[t]),this},handleByMap(t,e){return this.handle(t,i=>{i.name&&(e[i.name]=i.ref)},i=>{i.name&&delete e[i.name]})},handleByNamedList(t,e,i=-1){return this.handle(t,s=>{e.findIndex(l=>l.name===s.name)>=0||(e.push({name:s.name,value:s.ref}),e.sort((l,c)=>qu(c.value,i)-qu(l.value,i)))},s=>{const a=e.findIndex(l=>l.name===s.name);a!==-1&&e.splice(a,1)})},handleByList(t,e,i=-1){return this.handle(t,s=>{e.includes(s.ref)||(e.push(s.ref),e.sort((a,l)=>qu(l,i)-qu(a,i)))},s=>{const a=e.indexOf(s.ref);a!==-1&&e.splice(a,1)})},mixin(t,...e){for(const i of e)Object.defineProperties(t.prototype,Object.getOwnPropertyDescriptors(i))}},yC={extension:{type:Ke.Environment,name:"browser",priority:-1},test:()=>!0,load:async()=>{await Fn(()=>import("./browserAll-MXRuZjB-.js"),__vite__mapDeps([0,1,2,3]))}},pC={extension:{type:Ke.Environment,name:"webworker",priority:0},test:()=>typeof self<"u"&&self.WorkerGlobalScope!==void 0,load:async()=>{await Fn(()=>import("./webworkerAll-DVZP2lOx.js"),__vite__mapDeps([1,2,3]))}};class Rt{constructor(e,i,s){this._x=i||0,this._y=s||0,this._observer=e}clone(e){return new Rt(e??this._observer,this._x,this._y)}set(e=0,i=e){return(this._x!==e||this._y!==i)&&(this._x=e,this._y=i,this._observer._onUpdate(this)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this._observer._onUpdate(this)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}toString(){return`[pixi.js/math:ObservablePoint x=${this._x} y=${this._y} scope=${this._observer}]`}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this._observer._onUpdate(this))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this._observer._onUpdate(this))}}var Od={exports:{}},r_;function mC(){return r_||(r_=1,(function(t){var e=Object.prototype.hasOwnProperty,i="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(i=!1));function a(f,y,m){this.fn=f,this.context=y,this.once=m||!1}function l(f,y,m,g,v){if(typeof m!="function")throw new TypeError("The listener must be a function");var b=new a(m,g||f,v),w=i?i+y:y;return f._events[w]?f._events[w].fn?f._events[w]=[f._events[w],b]:f._events[w].push(b):(f._events[w]=b,f._eventsCount++),f}function c(f,y){--f._eventsCount===0?f._events=new s:delete f._events[y]}function h(){this._events=new s,this._eventsCount=0}h.prototype.eventNames=function(){var y=[],m,g;if(this._eventsCount===0)return y;for(g in m=this._events)e.call(m,g)&&y.push(i?g.slice(1):g);return Object.getOwnPropertySymbols?y.concat(Object.getOwnPropertySymbols(m)):y},h.prototype.listeners=function(y){var m=i?i+y:y,g=this._events[m];if(!g)return[];if(g.fn)return[g.fn];for(var v=0,b=g.length,w=new Array(b);v<b;v++)w[v]=g[v].fn;return w},h.prototype.listenerCount=function(y){var m=i?i+y:y,g=this._events[m];return g?g.fn?1:g.length:0},h.prototype.emit=function(y,m,g,v,b,w){var A=i?i+y:y;if(!this._events[A])return!1;var x=this._events[A],T=arguments.length,C,S;if(x.fn){switch(x.once&&this.removeListener(y,x.fn,void 0,!0),T){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,m),!0;case 3:return x.fn.call(x.context,m,g),!0;case 4:return x.fn.call(x.context,m,g,v),!0;case 5:return x.fn.call(x.context,m,g,v,b),!0;case 6:return x.fn.call(x.context,m,g,v,b,w),!0}for(S=1,C=new Array(T-1);S<T;S++)C[S-1]=arguments[S];x.fn.apply(x.context,C)}else{var E=x.length,z;for(S=0;S<E;S++)switch(x[S].once&&this.removeListener(y,x[S].fn,void 0,!0),T){case 1:x[S].fn.call(x[S].context);break;case 2:x[S].fn.call(x[S].context,m);break;case 3:x[S].fn.call(x[S].context,m,g);break;case 4:x[S].fn.call(x[S].context,m,g,v);break;default:if(!C)for(z=1,C=new Array(T-1);z<T;z++)C[z-1]=arguments[z];x[S].fn.apply(x[S].context,C)}}return!0},h.prototype.on=function(y,m,g){return l(this,y,m,g,!1)},h.prototype.once=function(y,m,g){return l(this,y,m,g,!0)},h.prototype.removeListener=function(y,m,g,v){var b=i?i+y:y;if(!this._events[b])return this;if(!m)return c(this,b),this;var w=this._events[b];if(w.fn)w.fn===m&&(!v||w.once)&&(!g||w.context===g)&&c(this,b);else{for(var A=0,x=[],T=w.length;A<T;A++)(w[A].fn!==m||v&&!w[A].once||g&&w[A].context!==g)&&x.push(w[A]);x.length?this._events[b]=x.length===1?x[0]:x:c(this,b)}return this},h.prototype.removeAllListeners=function(y){var m;return y?(m=i?i+y:y,this._events[m]&&c(this,m)):(this._events=new s,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prefixed=i,h.EventEmitter=h,t.exports=h})(Od)),Od.exports}var gC=mC();const is=xi(gC),bC=Math.PI*2,vC=180/Math.PI,_C=Math.PI/180;class Dt{constructor(e=0,i=0){this.x=0,this.y=0,this.x=e,this.y=i}clone(){return new Dt(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,i=e){return this.x=e,this.y=i,this}toString(){return`[pixi.js/math:Point x=${this.x} y=${this.y}]`}static get shared(){return Dd.x=0,Dd.y=0,Dd}}const Dd=new Dt;class Oe{constructor(e=1,i=0,s=0,a=1,l=0,c=0){this.array=null,this.a=e,this.b=i,this.c=s,this.d=a,this.tx=l,this.ty=c}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,i,s,a,l,c){return this.a=e,this.b=i,this.c=s,this.d=a,this.tx=l,this.ty=c,this}toArray(e,i){this.array||(this.array=new Float32Array(9));const s=i||this.array;return e?(s[0]=this.a,s[1]=this.b,s[2]=0,s[3]=this.c,s[4]=this.d,s[5]=0,s[6]=this.tx,s[7]=this.ty,s[8]=1):(s[0]=this.a,s[1]=this.c,s[2]=this.tx,s[3]=this.b,s[4]=this.d,s[5]=this.ty,s[6]=0,s[7]=0,s[8]=1),s}apply(e,i){i=i||new Dt;const s=e.x,a=e.y;return i.x=this.a*s+this.c*a+this.tx,i.y=this.b*s+this.d*a+this.ty,i}applyInverse(e,i){i=i||new Dt;const s=this.a,a=this.b,l=this.c,c=this.d,h=this.tx,f=this.ty,y=1/(s*c+l*-a),m=e.x,g=e.y;return i.x=c*y*m+-l*y*g+(f*l-h*c)*y,i.y=s*y*g+-a*y*m+(-f*s+h*a)*y,i}translate(e,i){return this.tx+=e,this.ty+=i,this}scale(e,i){return this.a*=e,this.d*=i,this.c*=e,this.b*=i,this.tx*=e,this.ty*=i,this}rotate(e){const i=Math.cos(e),s=Math.sin(e),a=this.a,l=this.c,c=this.tx;return this.a=a*i-this.b*s,this.b=a*s+this.b*i,this.c=l*i-this.d*s,this.d=l*s+this.d*i,this.tx=c*i-this.ty*s,this.ty=c*s+this.ty*i,this}append(e){const i=this.a,s=this.b,a=this.c,l=this.d;return this.a=e.a*i+e.b*a,this.b=e.a*s+e.b*l,this.c=e.c*i+e.d*a,this.d=e.c*s+e.d*l,this.tx=e.tx*i+e.ty*a+this.tx,this.ty=e.tx*s+e.ty*l+this.ty,this}appendFrom(e,i){const s=e.a,a=e.b,l=e.c,c=e.d,h=e.tx,f=e.ty,y=i.a,m=i.b,g=i.c,v=i.d;return this.a=s*y+a*g,this.b=s*m+a*v,this.c=l*y+c*g,this.d=l*m+c*v,this.tx=h*y+f*g+i.tx,this.ty=h*m+f*v+i.ty,this}setTransform(e,i,s,a,l,c,h,f,y){return this.a=Math.cos(h+y)*l,this.b=Math.sin(h+y)*l,this.c=-Math.sin(h-f)*c,this.d=Math.cos(h-f)*c,this.tx=e-(s*this.a+a*this.c),this.ty=i-(s*this.b+a*this.d),this}prepend(e){const i=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const s=this.a,a=this.c;this.a=s*e.a+this.b*e.c,this.b=s*e.b+this.b*e.d,this.c=a*e.a+this.d*e.c,this.d=a*e.b+this.d*e.d}return this.tx=i*e.a+this.ty*e.c+e.tx,this.ty=i*e.b+this.ty*e.d+e.ty,this}decompose(e){const i=this.a,s=this.b,a=this.c,l=this.d,c=e.pivot,h=-Math.atan2(-a,l),f=Math.atan2(s,i),y=Math.abs(h+f);return y<1e-5||Math.abs(bC-y)<1e-5?(e.rotation=f,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=h,e.skew.y=f),e.scale.x=Math.sqrt(i*i+s*s),e.scale.y=Math.sqrt(a*a+l*l),e.position.x=this.tx+(c.x*i+c.y*a),e.position.y=this.ty+(c.x*s+c.y*l),e}invert(){const e=this.a,i=this.b,s=this.c,a=this.d,l=this.tx,c=e*a-i*s;return this.a=a/c,this.b=-i/c,this.c=-s/c,this.d=e/c,this.tx=(s*this.ty-a*l)/c,this.ty=-(e*this.ty-i*l)/c,this}isIdentity(){return this.a===1&&this.b===0&&this.c===0&&this.d===1&&this.tx===0&&this.ty===0}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new Oe;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}equals(e){return e.a===this.a&&e.b===this.b&&e.c===this.c&&e.d===this.d&&e.tx===this.tx&&e.ty===this.ty}toString(){return`[pixi.js:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return wC.identity()}static get shared(){return xC.identity()}}const xC=new Oe,wC=new Oe,ks=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Rs=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Os=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Ds=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Ry=[],Uw=[],Gu=Math.sign;function SC(){for(let t=0;t<16;t++){const e=[];Ry.push(e);for(let i=0;i<16;i++){const s=Gu(ks[t]*ks[i]+Os[t]*Rs[i]),a=Gu(Rs[t]*ks[i]+Ds[t]*Rs[i]),l=Gu(ks[t]*Os[i]+Os[t]*Ds[i]),c=Gu(Rs[t]*Os[i]+Ds[t]*Ds[i]);for(let h=0;h<16;h++)if(ks[h]===s&&Rs[h]===a&&Os[h]===l&&Ds[h]===c){e.push(h);break}}}for(let t=0;t<16;t++){const e=new Oe;e.set(ks[t],Rs[t],Os[t],Ds[t],0,0),Uw.push(e)}}SC();const He={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>ks[t],uY:t=>Rs[t],vX:t=>Os[t],vY:t=>Ds[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>Ry[t][e],sub:(t,e)=>Ry[t][He.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?He.S:He.N:Math.abs(e)*2<=Math.abs(t)?t>0?He.E:He.W:e>0?t>0?He.SE:He.SW:t>0?He.NE:He.NW,matrixAppendRotationInv:(t,e,i=0,s=0)=>{const a=Uw[He.inv(e)];a.tx=i,a.ty=s,t.append(a)},transformRectCoords:(t,e,i,s)=>{const{x:a,y:l,width:c,height:h}=t,{x:f,y,width:m,height:g}=e;return i===He.E?(s.set(a+f,l+y,c,h),s):i===He.S?s.set(m-l-h+f,a+y,h,c):i===He.W?s.set(m-a-c+f,g-l-h+y,c,h):i===He.N?s.set(l+f,g-a-c+y,h,c):s.set(a+f,l+y,c,h)}},Hu=[new Dt,new Dt,new Dt,new Dt];class mt{constructor(e=0,i=0,s=0,a=0){this.type="rectangle",this.x=Number(e),this.y=Number(i),this.width=Number(s),this.height=Number(a)}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}isEmpty(){return this.left===this.right||this.top===this.bottom}static get EMPTY(){return new mt(0,0,0,0)}clone(){return new mt(this.x,this.y,this.width,this.height)}copyFromBounds(e){return this.x=e.minX,this.y=e.minY,this.width=e.maxX-e.minX,this.height=e.maxY-e.minY,this}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.copyFrom(this),e}contains(e,i){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&i>=this.y&&i<this.y+this.height}strokeContains(e,i,s,a=.5){const{width:l,height:c}=this;if(l<=0||c<=0)return!1;const h=this.x,f=this.y,y=s*(1-a),m=s-y,g=h-y,v=h+l+y,b=f-y,w=f+c+y,A=h+m,x=h+l-m,T=f+m,C=f+c-m;return e>=g&&e<=v&&i>=b&&i<=w&&!(e>A&&e<x&&i>T&&i<C)}intersects(e,i){if(!i){const R=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=R)return!1;const B=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>B}const s=this.left,a=this.right,l=this.top,c=this.bottom;if(a<=s||c<=l)return!1;const h=Hu[0].set(e.left,e.top),f=Hu[1].set(e.left,e.bottom),y=Hu[2].set(e.right,e.top),m=Hu[3].set(e.right,e.bottom);if(y.x<=h.x||f.y<=h.y)return!1;const g=Math.sign(i.a*i.d-i.b*i.c);if(g===0||(i.apply(h,h),i.apply(f,f),i.apply(y,y),i.apply(m,m),Math.max(h.x,f.x,y.x,m.x)<=s||Math.min(h.x,f.x,y.x,m.x)>=a||Math.max(h.y,f.y,y.y,m.y)<=l||Math.min(h.y,f.y,y.y,m.y)>=c))return!1;const v=g*(f.y-h.y),b=g*(h.x-f.x),w=v*s+b*l,A=v*a+b*l,x=v*s+b*c,T=v*a+b*c;if(Math.max(w,A,x,T)<=v*h.x+b*h.y||Math.min(w,A,x,T)>=v*m.x+b*m.y)return!1;const C=g*(h.y-y.y),S=g*(y.x-h.x),E=C*s+S*l,z=C*a+S*l,O=C*s+S*c,k=C*a+S*c;return!(Math.max(E,z,O,k)<=C*h.x+S*h.y||Math.min(E,z,O,k)>=C*m.x+S*m.y)}pad(e=0,i=e){return this.x-=e,this.y-=i,this.width+=e*2,this.height+=i*2,this}fit(e){const i=Math.max(this.x,e.x),s=Math.min(this.x+this.width,e.x+e.width),a=Math.max(this.y,e.y),l=Math.min(this.y+this.height,e.y+e.height);return this.x=i,this.width=Math.max(s-i,0),this.y=a,this.height=Math.max(l-a,0),this}ceil(e=1,i=.001){const s=Math.ceil((this.x+this.width-i)*e)/e,a=Math.ceil((this.y+this.height-i)*e)/e;return this.x=Math.floor((this.x+i)*e)/e,this.y=Math.floor((this.y+i)*e)/e,this.width=s-this.x,this.height=a-this.y,this}scale(e,i=e){return this.x*=e,this.y*=i,this.width*=e,this.height*=i,this}enlarge(e){const i=Math.min(this.x,e.x),s=Math.max(this.x+this.width,e.x+e.width),a=Math.min(this.y,e.y),l=Math.max(this.y+this.height,e.y+e.height);return this.x=i,this.width=s-i,this.y=a,this.height=l-a,this}getBounds(e){return e||(e=new mt),e.copyFrom(this),e}containsRect(e){if(this.width<=0||this.height<=0)return!1;const i=e.x,s=e.y,a=e.x+e.width,l=e.y+e.height;return i>=this.x&&i<this.x+this.width&&s>=this.y&&s<this.y+this.height&&a>=this.x&&a<this.x+this.width&&l>=this.y&&l<this.y+this.height}set(e,i,s,a){return this.x=e,this.y=i,this.width=s,this.height=a,this}toString(){return`[pixi.js/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}const zd={default:-1};function lt(t="default"){return zd[t]===void 0&&(zd[t]=-1),++zd[t]}const a_=new Set,Ot="8.0.0",AC="8.3.4",Vr={quiet:!1,noColor:!1},Xe=(t,e,i=3)=>{if(Vr.quiet||a_.has(e))return;let s=new Error().stack;const a=`${e}
Deprecated since v${t}`,l=typeof console.groupCollapsed=="function"&&!Vr.noColor;typeof s>"u"?console.warn("PixiJS Deprecation Warning: ",a):(s=s.split(`
`).splice(i).join(`
`),l?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",a),console.warn(s),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",a),console.warn(s))),a_.add(e)};Object.defineProperties(Xe,{quiet:{get:()=>Vr.quiet,set:t=>{Vr.quiet=t},enumerable:!0,configurable:!1},noColor:{get:()=>Vr.noColor,set:t=>{Vr.noColor=t},enumerable:!0,configurable:!1}});const jw=()=>{};function o_(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function l_(t){return!(t&t-1)&&!!t}function Pw(t){const e={};for(const i in t)t[i]!==void 0&&(e[i]=t[i]);return e}const u_=Object.create(null);function TC(t){const e=u_[t];return e===void 0&&(u_[t]=lt("resource")),e}const Bw=class Nw extends is{constructor(e={}){super(),this._resourceType="textureSampler",this._touched=0,this._maxAnisotropy=1,this.destroyed=!1,e={...Nw.defaultOptions,...e},this.addressMode=e.addressMode,this.addressModeU=e.addressModeU??this.addressModeU,this.addressModeV=e.addressModeV??this.addressModeV,this.addressModeW=e.addressModeW??this.addressModeW,this.scaleMode=e.scaleMode,this.magFilter=e.magFilter??this.magFilter,this.minFilter=e.minFilter??this.minFilter,this.mipmapFilter=e.mipmapFilter??this.mipmapFilter,this.lodMinClamp=e.lodMinClamp,this.lodMaxClamp=e.lodMaxClamp,this.compare=e.compare,this.maxAnisotropy=e.maxAnisotropy??1}set addressMode(e){this.addressModeU=e,this.addressModeV=e,this.addressModeW=e}get addressMode(){return this.addressModeU}set wrapMode(e){Xe(Ot,"TextureStyle.wrapMode is now TextureStyle.addressMode"),this.addressMode=e}get wrapMode(){return this.addressMode}set scaleMode(e){this.magFilter=e,this.minFilter=e,this.mipmapFilter=e}get scaleMode(){return this.magFilter}set maxAnisotropy(e){this._maxAnisotropy=Math.min(e,16),this._maxAnisotropy>1&&(this.scaleMode="linear")}get maxAnisotropy(){return this._maxAnisotropy}get _resourceId(){return this._sharedResourceId||this._generateResourceId()}update(){this._sharedResourceId=null,this.emit("change",this)}_generateResourceId(){const e=`${this.addressModeU}-${this.addressModeV}-${this.addressModeW}-${this.magFilter}-${this.minFilter}-${this.mipmapFilter}-${this.lodMinClamp}-${this.lodMaxClamp}-${this.compare}-${this._maxAnisotropy}`;return this._sharedResourceId=TC(e),this._resourceId}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this.removeAllListeners()}};Bw.defaultOptions={addressMode:"clamp-to-edge",scaleMode:"linear"};let Lw=Bw;const Iw=class qw extends is{constructor(e={}){super(),this.options=e,this._gpuData=Object.create(null),this._gcLastUsed=-1,this.uid=lt("textureSource"),this._resourceType="textureSource",this._resourceId=lt("resource"),this.uploadMethodId="unknown",this._resolution=1,this.pixelWidth=1,this.pixelHeight=1,this.width=1,this.height=1,this.sampleCount=1,this.mipLevelCount=1,this.autoGenerateMipmaps=!1,this.format="rgba8unorm",this.dimension="2d",this.antialias=!1,this._touched=0,this._batchTick=-1,this._textureBindLocation=-1,e={...qw.defaultOptions,...e},this.label=e.label??"",this.resource=e.resource,this.autoGarbageCollect=e.autoGarbageCollect,this._resolution=e.resolution,e.width?this.pixelWidth=e.width*this._resolution:this.pixelWidth=this.resource?this.resourceWidth??1:1,e.height?this.pixelHeight=e.height*this._resolution:this.pixelHeight=this.resource?this.resourceHeight??1:1,this.width=this.pixelWidth/this._resolution,this.height=this.pixelHeight/this._resolution,this.format=e.format,this.dimension=e.dimensions,this.mipLevelCount=e.mipLevelCount,this.autoGenerateMipmaps=e.autoGenerateMipmaps,this.sampleCount=e.sampleCount,this.antialias=e.antialias,this.alphaMode=e.alphaMode,this.style=new Lw(Pw(e)),this.destroyed=!1,this._refreshPOT()}get source(){return this}get style(){return this._style}set style(e){this.style!==e&&(this._style?.off("change",this._onStyleChange,this),this._style=e,this._style?.on("change",this._onStyleChange,this),this._onStyleChange())}set maxAnisotropy(e){this._style.maxAnisotropy=e}get maxAnisotropy(){return this._style.maxAnisotropy}get addressMode(){return this._style.addressMode}set addressMode(e){this._style.addressMode=e}get repeatMode(){return this._style.addressMode}set repeatMode(e){this._style.addressMode=e}get magFilter(){return this._style.magFilter}set magFilter(e){this._style.magFilter=e}get minFilter(){return this._style.minFilter}set minFilter(e){this._style.minFilter=e}get mipmapFilter(){return this._style.mipmapFilter}set mipmapFilter(e){this._style.mipmapFilter=e}get lodMinClamp(){return this._style.lodMinClamp}set lodMinClamp(e){this._style.lodMinClamp=e}get lodMaxClamp(){return this._style.lodMaxClamp}set lodMaxClamp(e){this._style.lodMaxClamp=e}_onStyleChange(){this.emit("styleChange",this)}update(){if(this.resource){const e=this._resolution;if(this.resize(this.resourceWidth/e,this.resourceHeight/e))return}this.emit("update",this)}destroy(){this.destroyed=!0,this.unload(),this.emit("destroy",this),this._style&&(this._style.destroy(),this._style=null),this.uploadMethodId=null,this.resource=null,this.removeAllListeners()}unload(){this._resourceId=lt("resource"),this.emit("change",this),this.emit("unload",this);for(const e in this._gpuData)this._gpuData[e]?.destroy?.();this._gpuData=Object.create(null)}get resourceWidth(){const{resource:e}=this;return e.naturalWidth||e.videoWidth||e.displayWidth||e.width}get resourceHeight(){const{resource:e}=this;return e.naturalHeight||e.videoHeight||e.displayHeight||e.height}get resolution(){return this._resolution}set resolution(e){this._resolution!==e&&(this._resolution=e,this.width=this.pixelWidth/e,this.height=this.pixelHeight/e)}resize(e,i,s){s||(s=this._resolution),e||(e=this.width),i||(i=this.height);const a=Math.round(e*s),l=Math.round(i*s);return this.width=a/s,this.height=l/s,this._resolution=s,this.pixelWidth===a&&this.pixelHeight===l?!1:(this._refreshPOT(),this.pixelWidth=a,this.pixelHeight=l,this.emit("resize",this),this._resourceId=lt("resource"),this.emit("change",this),!0)}updateMipmaps(){this.autoGenerateMipmaps&&this.mipLevelCount>1&&this.emit("updateMipmaps",this)}set wrapMode(e){this._style.wrapMode=e}get wrapMode(){return this._style.wrapMode}set scaleMode(e){this._style.scaleMode=e}get scaleMode(){return this._style.scaleMode}_refreshPOT(){this.isPowerOfTwo=l_(this.pixelWidth)&&l_(this.pixelHeight)}static test(e){throw new Error("Unimplemented")}};Iw.defaultOptions={resolution:1,format:"bgra8unorm",alphaMode:"premultiply-alpha-on-upload",dimensions:"2d",mipLevelCount:1,autoGenerateMipmaps:!1,sampleCount:1,antialias:!1,autoGarbageCollect:!1};let Mn=Iw;class Up extends Mn{constructor(e){const i=e.resource||new Float32Array(e.width*e.height*4);let s=e.format;s||(i instanceof Float32Array?s="rgba32float":i instanceof Int32Array||i instanceof Uint32Array?s="rgba32uint":i instanceof Int16Array||i instanceof Uint16Array?s="rgba16uint":(i instanceof Int8Array,s="bgra8unorm")),super({...e,resource:i,format:s}),this.uploadMethodId="buffer"}static test(e){return e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}Up.extension=Ke.TextureSource;const c_=new Oe;class EC{constructor(e,i){this.mapCoord=new Oe,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,typeof i>"u"?this.clampMargin=e.width<10?0:.5:this.clampMargin=i,this.isSimple=!1,this.texture=e}get texture(){return this._texture}set texture(e){this.texture!==e&&(this._texture?.removeListener("update",this.update,this),this._texture=e,this._texture.addListener("update",this.update,this),this.update())}multiplyUvs(e,i){i===void 0&&(i=e);const s=this.mapCoord;for(let a=0;a<e.length;a+=2){const l=e[a],c=e[a+1];i[a]=l*s.a+c*s.c+s.tx,i[a+1]=l*s.b+c*s.d+s.ty}return i}update(){const e=this._texture;this._updateID++;const i=e.uvs;this.mapCoord.set(i.x1-i.x0,i.y1-i.y0,i.x3-i.x0,i.y3-i.y0,i.x0,i.y0);const s=e.orig,a=e.trim;a&&(c_.set(s.width/a.width,0,0,s.height/a.height,-a.x/a.width,-a.y/a.height),this.mapCoord.append(c_));const l=e.source,c=this.uClampFrame,h=this.clampMargin/l._resolution,f=this.clampOffset/l._resolution;return c[0]=(e.frame.x+h+f)/l.width,c[1]=(e.frame.y+h+f)/l.height,c[2]=(e.frame.x+e.frame.width-h+f)/l.width,c[3]=(e.frame.y+e.frame.height-h+f)/l.height,this.uClampOffset[0]=this.clampOffset/l.pixelWidth,this.uClampOffset[1]=this.clampOffset/l.pixelHeight,this.isSimple=e.frame.width===l.width&&e.frame.height===l.height&&e.rotate===0,!0}}class je extends is{constructor({source:e,label:i,frame:s,orig:a,trim:l,defaultAnchor:c,defaultBorders:h,rotate:f,dynamic:y}={}){if(super(),this.uid=lt("texture"),this.uvs={x0:0,y0:0,x1:0,y1:0,x2:0,y2:0,x3:0,y3:0},this.frame=new mt,this.noFrame=!1,this.dynamic=!1,this.isTexture=!0,this.label=i,this.source=e?.source??new Mn,this.noFrame=!s,s)this.frame.copyFrom(s);else{const{width:m,height:g}=this._source;this.frame.width=m,this.frame.height=g}this.orig=a||this.frame,this.trim=l,this.rotate=f??0,this.defaultAnchor=c,this.defaultBorders=h,this.destroyed=!1,this.dynamic=y||!1,this.updateUvs()}set source(e){this._source&&this._source.off("resize",this.update,this),this._source=e,e.on("resize",this.update,this),this.emit("update",this)}get source(){return this._source}get textureMatrix(){return this._textureMatrix||(this._textureMatrix=new EC(this)),this._textureMatrix}get width(){return this.orig.width}get height(){return this.orig.height}updateUvs(){const{uvs:e,frame:i}=this,{width:s,height:a}=this._source,l=i.x/s,c=i.y/a,h=i.width/s,f=i.height/a;let y=this.rotate;if(y){const m=h/2,g=f/2,v=l+m,b=c+g;y=He.add(y,He.NW),e.x0=v+m*He.uX(y),e.y0=b+g*He.uY(y),y=He.add(y,2),e.x1=v+m*He.uX(y),e.y1=b+g*He.uY(y),y=He.add(y,2),e.x2=v+m*He.uX(y),e.y2=b+g*He.uY(y),y=He.add(y,2),e.x3=v+m*He.uX(y),e.y3=b+g*He.uY(y)}else e.x0=l,e.y0=c,e.x1=l+h,e.y1=c,e.x2=l+h,e.y2=c+f,e.x3=l,e.y3=c+f}destroy(e=!1){this._source&&(this._source.off("resize",this.update,this),e&&(this._source.destroy(),this._source=null)),this._textureMatrix=null,this.destroyed=!0,this.emit("destroy",this),this.removeAllListeners()}update(){this.noFrame&&(this.frame.width=this._source.width,this.frame.height=this._source.height),this.updateUvs(),this.emit("update",this)}get baseTexture(){return Xe(Ot,"Texture.baseTexture is now Texture.source"),this._source}}je.EMPTY=new je({label:"EMPTY",source:new Mn({label:"EMPTY"})});je.EMPTY.destroy=jw;je.WHITE=new je({source:new Up({resource:new Uint8Array([255,255,255,255]),width:1,height:1,alphaMode:"premultiply-alpha-on-upload",label:"WHITE"}),label:"WHITE"});je.WHITE.destroy=jw;function MC(t,e,i){const{width:s,height:a}=i.orig,l=i.trim;if(l){const c=l.width,h=l.height;t.minX=l.x-e._x*s,t.maxX=t.minX+c,t.minY=l.y-e._y*a,t.maxY=t.minY+h}else t.minX=-e._x*s,t.maxX=t.minX+s,t.minY=-e._y*a,t.maxY=t.minY+a}const h_=new Oe;class Pn{constructor(e=1/0,i=1/0,s=-1/0,a=-1/0){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=h_,this.minX=e,this.minY=i,this.maxX=s,this.maxY=a}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}get rectangle(){this._rectangle||(this._rectangle=new mt);const e=this._rectangle;return this.minX>this.maxX||this.minY>this.maxY?(e.x=0,e.y=0,e.width=0,e.height=0):e.copyFromBounds(this),e}clear(){return this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=h_,this}set(e,i,s,a){this.minX=e,this.minY=i,this.maxX=s,this.maxY=a}addFrame(e,i,s,a,l){l||(l=this.matrix);const c=l.a,h=l.b,f=l.c,y=l.d,m=l.tx,g=l.ty;let v=this.minX,b=this.minY,w=this.maxX,A=this.maxY,x=c*e+f*i+m,T=h*e+y*i+g;x<v&&(v=x),T<b&&(b=T),x>w&&(w=x),T>A&&(A=T),x=c*s+f*i+m,T=h*s+y*i+g,x<v&&(v=x),T<b&&(b=T),x>w&&(w=x),T>A&&(A=T),x=c*e+f*a+m,T=h*e+y*a+g,x<v&&(v=x),T<b&&(b=T),x>w&&(w=x),T>A&&(A=T),x=c*s+f*a+m,T=h*s+y*a+g,x<v&&(v=x),T<b&&(b=T),x>w&&(w=x),T>A&&(A=T),this.minX=v,this.minY=b,this.maxX=w,this.maxY=A}addRect(e,i){this.addFrame(e.x,e.y,e.x+e.width,e.y+e.height,i)}addBounds(e,i){this.addFrame(e.minX,e.minY,e.maxX,e.maxY,i)}addBoundsMask(e){this.minX=this.minX>e.minX?this.minX:e.minX,this.minY=this.minY>e.minY?this.minY:e.minY,this.maxX=this.maxX<e.maxX?this.maxX:e.maxX,this.maxY=this.maxY<e.maxY?this.maxY:e.maxY}applyMatrix(e){const i=this.minX,s=this.minY,a=this.maxX,l=this.maxY,{a:c,b:h,c:f,d:y,tx:m,ty:g}=e;let v=c*i+f*s+m,b=h*i+y*s+g;this.minX=v,this.minY=b,this.maxX=v,this.maxY=b,v=c*a+f*s+m,b=h*a+y*s+g,this.minX=v<this.minX?v:this.minX,this.minY=b<this.minY?b:this.minY,this.maxX=v>this.maxX?v:this.maxX,this.maxY=b>this.maxY?b:this.maxY,v=c*i+f*l+m,b=h*i+y*l+g,this.minX=v<this.minX?v:this.minX,this.minY=b<this.minY?b:this.minY,this.maxX=v>this.maxX?v:this.maxX,this.maxY=b>this.maxY?b:this.maxY,v=c*a+f*l+m,b=h*a+y*l+g,this.minX=v<this.minX?v:this.minX,this.minY=b<this.minY?b:this.minY,this.maxX=v>this.maxX?v:this.maxX,this.maxY=b>this.maxY?b:this.maxY}fit(e){return this.minX<e.left&&(this.minX=e.left),this.maxX>e.right&&(this.maxX=e.right),this.minY<e.top&&(this.minY=e.top),this.maxY>e.bottom&&(this.maxY=e.bottom),this}fitBounds(e,i,s,a){return this.minX<e&&(this.minX=e),this.maxX>i&&(this.maxX=i),this.minY<s&&(this.minY=s),this.maxY>a&&(this.maxY=a),this}pad(e,i=e){return this.minX-=e,this.maxX+=e,this.minY-=i,this.maxY+=i,this}ceil(){return this.minX=Math.floor(this.minX),this.minY=Math.floor(this.minY),this.maxX=Math.ceil(this.maxX),this.maxY=Math.ceil(this.maxY),this}clone(){return new Pn(this.minX,this.minY,this.maxX,this.maxY)}scale(e,i=e){return this.minX*=e,this.minY*=i,this.maxX*=e,this.maxY*=i,this}get x(){return this.minX}set x(e){const i=this.maxX-this.minX;this.minX=e,this.maxX=e+i}get y(){return this.minY}set y(e){const i=this.maxY-this.minY;this.minY=e,this.maxY=e+i}get width(){return this.maxX-this.minX}set width(e){this.maxX=this.minX+e}get height(){return this.maxY-this.minY}set height(e){this.maxY=this.minY+e}get left(){return this.minX}get right(){return this.maxX}get top(){return this.minY}get bottom(){return this.maxY}get isPositive(){return this.maxX-this.minX>0&&this.maxY-this.minY>0}get isValid(){return this.minX+this.minY!==1/0}addVertexData(e,i,s,a){let l=this.minX,c=this.minY,h=this.maxX,f=this.maxY;a||(a=this.matrix);const y=a.a,m=a.b,g=a.c,v=a.d,b=a.tx,w=a.ty;for(let A=i;A<s;A+=2){const x=e[A],T=e[A+1],C=y*x+g*T+b,S=m*x+v*T+w;l=C<l?C:l,c=S<c?S:c,h=C>h?C:h,f=S>f?S:f}this.minX=l,this.minY=c,this.maxX=h,this.maxY=f}containsPoint(e,i){return this.minX<=e&&this.minY<=i&&this.maxX>=e&&this.maxY>=i}toString(){return`[pixi.js:Bounds minX=${this.minX} minY=${this.minY} maxX=${this.maxX} maxY=${this.maxY} width=${this.width} height=${this.height}]`}copyFrom(e){return this.minX=e.minX,this.minY=e.minY,this.maxX=e.maxX,this.maxY=e.maxY,this}}var CC={grad:.9,turn:360,rad:360/(2*Math.PI)},hi=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},pt=function(t,e,i){return e===void 0&&(e=0),i===void 0&&(i=Math.pow(10,e)),Math.round(i*t)/i+0},Tn=function(t,e,i){return e===void 0&&(e=0),i===void 0&&(i=1),t>i?i:t>e?t:e},Gw=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},f_=function(t){return{r:Tn(t.r,0,255),g:Tn(t.g,0,255),b:Tn(t.b,0,255),a:Tn(t.a)}},Ud=function(t){return{r:pt(t.r),g:pt(t.g),b:pt(t.b),a:pt(t.a,3)}},kC=/^#([0-9a-f]{3,8})$/i,$u=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},Hw=function(t){var e=t.r,i=t.g,s=t.b,a=t.a,l=Math.max(e,i,s),c=l-Math.min(e,i,s),h=c?l===e?(i-s)/c:l===i?2+(s-e)/c:4+(e-i)/c:0;return{h:60*(h<0?h+6:h),s:l?c/l*100:0,v:l/255*100,a}},$w=function(t){var e=t.h,i=t.s,s=t.v,a=t.a;e=e/360*6,i/=100,s/=100;var l=Math.floor(e),c=s*(1-i),h=s*(1-(e-l)*i),f=s*(1-(1-e+l)*i),y=l%6;return{r:255*[s,h,c,c,f,s][y],g:255*[f,s,s,h,c,c][y],b:255*[c,c,f,s,s,h][y],a}},d_=function(t){return{h:Gw(t.h),s:Tn(t.s,0,100),l:Tn(t.l,0,100),a:Tn(t.a)}},y_=function(t){return{h:pt(t.h),s:pt(t.s),l:pt(t.l),a:pt(t.a,3)}},p_=function(t){return $w((i=(e=t).s,{h:e.h,s:(i*=((s=e.l)<50?s:100-s)/100)>0?2*i/(s+i)*100:0,v:s+i,a:e.a}));var e,i,s},zo=function(t){return{h:(e=Hw(t)).h,s:(a=(200-(i=e.s))*(s=e.v)/100)>0&&a<200?i*s/100/(a<=100?a:200-a)*100:0,l:a/2,a:e.a};var e,i,s,a},RC=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,OC=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,DC=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,zC=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Oy={string:[[function(t){var e=kC.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?pt(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?pt(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=DC.exec(t)||zC.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:f_({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=RC.exec(t)||OC.exec(t);if(!e)return null;var i,s,a=d_({h:(i=e[1],s=e[2],s===void 0&&(s="deg"),Number(i)*(CC[s]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return p_(a)},"hsl"]],object:[[function(t){var e=t.r,i=t.g,s=t.b,a=t.a,l=a===void 0?1:a;return hi(e)&&hi(i)&&hi(s)?f_({r:Number(e),g:Number(i),b:Number(s),a:Number(l)}):null},"rgb"],[function(t){var e=t.h,i=t.s,s=t.l,a=t.a,l=a===void 0?1:a;if(!hi(e)||!hi(i)||!hi(s))return null;var c=d_({h:Number(e),s:Number(i),l:Number(s),a:Number(l)});return p_(c)},"hsl"],[function(t){var e=t.h,i=t.s,s=t.v,a=t.a,l=a===void 0?1:a;if(!hi(e)||!hi(i)||!hi(s))return null;var c=(function(h){return{h:Gw(h.h),s:Tn(h.s,0,100),v:Tn(h.v,0,100),a:Tn(h.a)}})({h:Number(e),s:Number(i),v:Number(s),a:Number(l)});return $w(c)},"hsv"]]},m_=function(t,e){for(var i=0;i<e.length;i++){var s=e[i][0](t);if(s)return[s,e[i][1]]}return[null,void 0]},UC=function(t){return typeof t=="string"?m_(t.trim(),Oy.string):typeof t=="object"&&t!==null?m_(t,Oy.object):[null,void 0]},jd=function(t,e){var i=zo(t);return{h:i.h,s:Tn(i.s+100*e,0,100),l:i.l,a:i.a}},Pd=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},g_=function(t,e){var i=zo(t);return{h:i.h,s:i.s,l:Tn(i.l+100*e,0,100),a:i.a}},Dy=(function(){function t(e){this.parsed=UC(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return pt(Pd(this.rgba),2)},t.prototype.isDark=function(){return Pd(this.rgba)<.5},t.prototype.isLight=function(){return Pd(this.rgba)>=.5},t.prototype.toHex=function(){return e=Ud(this.rgba),i=e.r,s=e.g,a=e.b,c=(l=e.a)<1?$u(pt(255*l)):"","#"+$u(i)+$u(s)+$u(a)+c;var e,i,s,a,l,c},t.prototype.toRgb=function(){return Ud(this.rgba)},t.prototype.toRgbString=function(){return e=Ud(this.rgba),i=e.r,s=e.g,a=e.b,(l=e.a)<1?"rgba("+i+", "+s+", "+a+", "+l+")":"rgb("+i+", "+s+", "+a+")";var e,i,s,a,l},t.prototype.toHsl=function(){return y_(zo(this.rgba))},t.prototype.toHslString=function(){return e=y_(zo(this.rgba)),i=e.h,s=e.s,a=e.l,(l=e.a)<1?"hsla("+i+", "+s+"%, "+a+"%, "+l+")":"hsl("+i+", "+s+"%, "+a+"%)";var e,i,s,a,l},t.prototype.toHsv=function(){return e=Hw(this.rgba),{h:pt(e.h),s:pt(e.s),v:pt(e.v),a:pt(e.a,3)};var e},t.prototype.invert=function(){return Gn({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),Gn(jd(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),Gn(jd(this.rgba,-e))},t.prototype.grayscale=function(){return Gn(jd(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),Gn(g_(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),Gn(g_(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?Gn({r:(i=this.rgba).r,g:i.g,b:i.b,a:e}):pt(this.rgba.a,3);var i},t.prototype.hue=function(e){var i=zo(this.rgba);return typeof e=="number"?Gn({h:e,s:i.s,l:i.l,a:i.a}):pt(i.h)},t.prototype.isEqual=function(e){return this.toHex()===Gn(e).toHex()},t})(),Gn=function(t){return t instanceof Dy?t:new Dy(t)},b_=[],jC=function(t){t.forEach(function(e){b_.indexOf(e)<0&&(e(Dy,Oy),b_.push(e))})};function PC(t,e){var i={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},s={};for(var a in i)s[i[a]]=a;var l={};t.prototype.toName=function(c){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var h,f,y=s[this.toHex()];if(y)return y;if(c?.closest){var m=this.toRgb(),g=1/0,v="black";if(!l.length)for(var b in i)l[b]=new t(i[b]).toRgb();for(var w in i){var A=(h=m,f=l[w],Math.pow(h.r-f.r,2)+Math.pow(h.g-f.g,2)+Math.pow(h.b-f.b,2));A<g&&(g=A,v=w)}return v}},e.string.push([function(c){var h=c.toLowerCase(),f=h==="transparent"?"#0000":i[h];return f?new t(f).toRgb():null},"name"])}jC([PC]);const Wr=class xo{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof xo)this._value=this._cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set Color#value to null");(this._value===null||!this._isSourceEqual(this._value,e))&&(this._value=this._cloneSource(e),this._normalize(this._value))}}get value(){return this._value}_cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?{...e}:e}_isSourceEqual(e,i){const s=typeof e;if(s!==typeof i)return!1;if(s==="number"||s==="string"||e instanceof Number)return e===i;if(Array.isArray(e)&&Array.isArray(i)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(i))return e.length!==i.length?!1:e.every((l,c)=>l===i[c]);if(e!==null&&i!==null){const l=Object.keys(e),c=Object.keys(i);return l.length!==c.length?!1:l.every(h=>e[h]===i[h])}return e===i}toRgba(){const[e,i,s,a]=this._components;return{r:e,g:i,b:s,a}}toRgb(){const[e,i,s]=this._components;return{r:e,g:i,b:s}}toRgbaString(){const[e,i,s]=this.toUint8RgbArray();return`rgba(${e},${i},${s},${this.alpha})`}toUint8RgbArray(e){const[i,s,a]=this._components;return this._arrayRgb||(this._arrayRgb=[]),e||(e=this._arrayRgb),e[0]=Math.round(i*255),e[1]=Math.round(s*255),e[2]=Math.round(a*255),e}toArray(e){this._arrayRgba||(this._arrayRgba=[]),e||(e=this._arrayRgba);const[i,s,a,l]=this._components;return e[0]=i,e[1]=s,e[2]=a,e[3]=l,e}toRgbArray(e){this._arrayRgb||(this._arrayRgb=[]),e||(e=this._arrayRgb);const[i,s,a]=this._components;return e[0]=i,e[1]=s,e[2]=a,e}toNumber(){return this._int}toBgrNumber(){const[e,i,s]=this.toUint8RgbArray();return(s<<16)+(i<<8)+e}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const[i,s,a,l]=xo._temp.setValue(e)._components;return this._components[0]*=i,this._components[1]*=s,this._components[2]*=a,this._components[3]*=l,this._refreshInt(),this._value=null,this}premultiply(e,i=!0){return i&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this._refreshInt(),this._value=null,this}toPremultiplied(e,i=!0){if(e===1)return(255<<24)+this._int;if(e===0)return i?0:this._int;let s=this._int>>16&255,a=this._int>>8&255,l=this._int&255;return i&&(s=s*e+.5|0,a=a*e+.5|0,l=l*e+.5|0),(e*255<<24)+(s<<16)+(a<<8)+l}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const i=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-i.length)+i}setAlpha(e){return this._components[3]=this._clamp(e),this}_normalize(e){let i,s,a,l;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){const c=e;i=(c>>16&255)/255,s=(c>>8&255)/255,a=(c&255)/255,l=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[i,s,a,l=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[i,s,a,l=255]=e,i/=255,s/=255,a/=255,l/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){const h=xo.HEX_PATTERN.exec(e);h&&(e=`#${h[2]}`)}const c=Gn(e);c.isValid()&&({r:i,g:s,b:a,a:l}=c.rgba,i/=255,s/=255,a/=255)}if(i!==void 0)this._components[0]=i,this._components[1]=s,this._components[2]=a,this._components[3]=l,this._refreshInt();else throw new Error(`Unable to convert color ${e}`)}_refreshInt(){this._clamp(this._components);const[e,i,s]=this._components;this._int=(e*255<<16)+(i*255<<8)+(s*255|0)}_clamp(e,i=0,s=1){return typeof e=="number"?Math.min(Math.max(e,i),s):(e.forEach((a,l)=>{e[l]=Math.min(Math.max(a,i),s)}),e)}static isColorLike(e){return typeof e=="number"||typeof e=="string"||e instanceof Number||e instanceof xo||Array.isArray(e)||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Float32Array||e.r!==void 0&&e.g!==void 0&&e.b!==void 0||e.r!==void 0&&e.g!==void 0&&e.b!==void 0&&e.a!==void 0||e.h!==void 0&&e.s!==void 0&&e.l!==void 0||e.h!==void 0&&e.s!==void 0&&e.l!==void 0&&e.a!==void 0||e.h!==void 0&&e.s!==void 0&&e.v!==void 0||e.h!==void 0&&e.s!==void 0&&e.v!==void 0&&e.a!==void 0}};Wr.shared=new Wr;Wr._temp=new Wr;Wr.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let $e=Wr;const BC={cullArea:null,cullable:!1,cullableChildren:!0};let Bd=0;const v_=500;function ln(...t){Bd!==v_&&(Bd++,Bd===v_?console.warn("PixiJS Warning: too many warnings, no more warnings will be reported to the console by PixiJS."):console.warn("PixiJS Warning: ",...t))}const jp={_registeredResources:new Set,register(t){this._registeredResources.add(t)},unregister(t){this._registeredResources.delete(t)},release(){this._registeredResources.forEach(t=>t.clear())},get registeredCount(){return this._registeredResources.size},isRegistered(t){return this._registeredResources.has(t)},reset(){this._registeredResources.clear()}};class NC{constructor(e,i){this._pool=[],this._count=0,this._index=0,this._classType=e,i&&this.prepopulate(i)}prepopulate(e){for(let i=0;i<e;i++)this._pool[this._index++]=new this._classType;this._count+=e}get(e){let i;return this._index>0?i=this._pool[--this._index]:(i=new this._classType,this._count++),i.init?.(e),i}return(e){e.reset?.(),this._pool[this._index++]=e}get totalSize(){return this._count}get totalFree(){return this._index}get totalUsed(){return this._count-this._index}clear(){if(this._pool.length>0&&this._pool[0].destroy)for(let e=0;e<this._index;e++)this._pool[e].destroy();this._pool.length=0,this._count=0,this._index=0}}class LC{constructor(){this._poolsByClass=new Map}prepopulate(e,i){this.getPool(e).prepopulate(i)}get(e,i){return this.getPool(e).get(i)}return(e){this.getPool(e.constructor).return(e)}getPool(e){return this._poolsByClass.has(e)||this._poolsByClass.set(e,new NC(e)),this._poolsByClass.get(e)}stats(){const e={};return this._poolsByClass.forEach(i=>{const s=e[i._classType.name]?i._classType.name+i._classType.ID:i._classType.name;e[s]={free:i.totalFree,used:i.totalUsed,size:i.totalSize}}),e}clear(){this._poolsByClass.forEach(e=>e.clear()),this._poolsByClass.clear()}}const En=new LC;jp.register(En);const IC={get isCachedAsTexture(){return!!this.renderGroup?.isCachedAsTexture},cacheAsTexture(t){typeof t=="boolean"&&t===!1?this.disableRenderGroup():(this.enableRenderGroup(),this.renderGroup.enableCacheAsTexture(t===!0?{}:t))},updateCacheTexture(){this.renderGroup?.updateCacheTexture()},get cacheAsBitmap(){return this.isCachedAsTexture},set cacheAsBitmap(t){Xe("v8.6.0","cacheAsBitmap is deprecated, use cacheAsTexture instead."),this.cacheAsTexture(t)}};function qC(t,e,i){const s=t.length;let a;if(e>=s||i===0)return;i=e+i>s?s-e:i;const l=s-i;for(a=e;a<l;++a)t[a]=t[a+i];t.length=l}const GC={allowChildren:!0,removeChildren(t=0,e){const i=e??this.children.length,s=i-t,a=[];if(s>0&&s<=i){for(let c=i-1;c>=t;c--){const h=this.children[c];h&&(a.push(h),h.parent=null)}qC(this.children,t,i);const l=this.renderGroup||this.parentRenderGroup;l&&l.removeChildren(a);for(let c=0;c<a.length;++c){const h=a[c];h.parentRenderLayer?.detach(h),this.emit("childRemoved",h,this,c),a[c].emit("removed",this)}return a.length>0&&this._didViewChangeTick++,a}else if(s===0&&this.children.length===0)return a;throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},removeChildAt(t){const e=this.getChildAt(t);return this.removeChild(e)},getChildAt(t){if(t<0||t>=this.children.length)throw new Error(`getChildAt: Index (${t}) does not exist.`);return this.children[t]},setChildIndex(t,e){if(e<0||e>=this.children.length)throw new Error(`The index ${e} supplied is out of bounds ${this.children.length}`);this.getChildIndex(t),this.addChildAt(t,e)},getChildIndex(t){const e=this.children.indexOf(t);if(e===-1)throw new Error("The supplied Container must be a child of the caller");return e},addChildAt(t,e){this.allowChildren||Xe(Ot,"addChildAt: Only Containers will be allowed to add children in v8.0.0");const{children:i}=this;if(e<0||e>i.length)throw new Error(`${t}addChildAt: The index ${e} supplied is out of bounds ${i.length}`);if(t.parent){const a=t.parent.children.indexOf(t);if(t.parent===this&&a===e)return t;a!==-1&&t.parent.children.splice(a,1)}e===i.length?i.push(t):i.splice(e,0,t),t.parent=this,t.didChange=!0,t._updateFlags=15;const s=this.renderGroup||this.parentRenderGroup;return s&&s.addChild(t),this.sortableChildren&&(this.sortDirty=!0),this.emit("childAdded",t,this,e),t.emit("added",this),t},swapChildren(t,e){if(t===e)return;const i=this.getChildIndex(t),s=this.getChildIndex(e);this.children[i]=e,this.children[s]=t;const a=this.renderGroup||this.parentRenderGroup;a&&(a.structureDidChange=!0),this._didContainerChangeTick++},removeFromParent(){this.parent?.removeChild(this)},reparentChild(...t){return t.length===1?this.reparentChildAt(t[0],this.children.length):(t.forEach(e=>this.reparentChildAt(e,this.children.length)),t[0])},reparentChildAt(t,e){if(t.parent===this)return this.setChildIndex(t,e),t;const i=t.worldTransform.clone();t.removeFromParent(),this.addChildAt(t,e);const s=this.worldTransform.clone();return s.invert(),i.prepend(s),t.setFromMatrix(i),t},replaceChild(t,e){t.updateLocalTransform(),this.addChildAt(e,this.getChildIndex(t)),e.setFromMatrix(t.localTransform),e.updateLocalTransform(),this.removeChild(t)}},HC={collectRenderables(t,e,i){this.parentRenderLayer&&this.parentRenderLayer!==i||this.globalDisplayStatus<7||!this.includeInBuild||(this.sortableChildren&&this.sortChildren(),this.isSimple?this.collectRenderablesSimple(t,e,i):this.renderGroup?e.renderPipes.renderGroup.addRenderGroup(this.renderGroup,t):this.collectRenderablesWithEffects(t,e,i))},collectRenderablesSimple(t,e,i){const s=this.children,a=s.length;for(let l=0;l<a;l++)s[l].collectRenderables(t,e,i)},collectRenderablesWithEffects(t,e,i){const{renderPipes:s}=e;for(let a=0;a<this.effects.length;a++){const l=this.effects[a];s[l.pipe].push(l,this,t)}this.collectRenderablesSimple(t,e,i);for(let a=this.effects.length-1;a>=0;a--){const l=this.effects[a];s[l.pipe].pop(l,this,t)}}};class __{constructor(){this.pipe="filter",this.priority=1}destroy(){for(let e=0;e<this.filters.length;e++)this.filters[e].destroy();this.filters=null,this.filterArea=null}}class $C{constructor(){this._effectClasses=[],this._tests=[],this._initialized=!1}init(){this._initialized||(this._initialized=!0,this._effectClasses.forEach(e=>{this.add({test:e.test,maskClass:e})}))}add(e){this._tests.push(e)}getMaskEffect(e){this._initialized||this.init();for(let i=0;i<this._tests.length;i++){const s=this._tests[i];if(s.test(e))return En.get(s.maskClass,e)}return e}returnMaskEffect(e){En.return(e)}}const zy=new $C;wi.handleByList(Ke.MaskEffect,zy._effectClasses);const FC={_maskEffect:null,_maskOptions:{inverse:!1},_filterEffect:null,effects:[],_markStructureAsChanged(){const t=this.renderGroup||this.parentRenderGroup;t&&(t.structureDidChange=!0)},addEffect(t){this.effects.indexOf(t)===-1&&(this.effects.push(t),this.effects.sort((i,s)=>i.priority-s.priority),this._markStructureAsChanged(),this._updateIsSimple())},removeEffect(t){const e=this.effects.indexOf(t);e!==-1&&(this.effects.splice(e,1),this._markStructureAsChanged(),this._updateIsSimple())},set mask(t){const e=this._maskEffect;e?.mask!==t&&(e&&(this.removeEffect(e),zy.returnMaskEffect(e),this._maskEffect=null),t!=null&&(this._maskEffect=zy.getMaskEffect(t),this.addEffect(this._maskEffect)))},get mask(){return this._maskEffect?.mask},setMask(t){this._maskOptions={...this._maskOptions,...t},t.mask&&(this.mask=t.mask),this._markStructureAsChanged()},set filters(t){!Array.isArray(t)&&t&&(t=[t]);const e=this._filterEffect||(this._filterEffect=new __);t=t;const i=t?.length>0,s=e.filters?.length>0,a=i!==s;t=Array.isArray(t)?t.slice(0):t,e.filters=Object.freeze(t),a&&(i?this.addEffect(e):(this.removeEffect(e),e.filters=t??null))},get filters(){return this._filterEffect?.filters},set filterArea(t){this._filterEffect||(this._filterEffect=new __),this._filterEffect.filterArea=t},get filterArea(){return this._filterEffect?.filterArea}},VC={label:null,get name(){return Xe(Ot,"Container.name property has been removed, use Container.label instead"),this.label},set name(t){Xe(Ot,"Container.name property has been removed, use Container.label instead"),this.label=t},getChildByName(t,e=!1){return this.getChildByLabel(t,e)},getChildByLabel(t,e=!1){const i=this.children;for(let s=0;s<i.length;s++){const a=i[s];if(a.label===t||t instanceof RegExp&&t.test(a.label))return a}if(e)for(let s=0;s<i.length;s++){const l=i[s].getChildByLabel(t,!0);if(l)return l}return null},getChildrenByLabel(t,e=!1,i=[]){const s=this.children;for(let a=0;a<s.length;a++){const l=s[a];(l.label===t||t instanceof RegExp&&t.test(l.label))&&i.push(l)}if(e)for(let a=0;a<s.length;a++)s[a].getChildrenByLabel(t,!0,i);return i}},Pt=En.getPool(Oe),gi=En.getPool(Pn),YC=new Oe,XC={getFastGlobalBounds(t,e){e||(e=new Pn),e.clear(),this._getGlobalBoundsRecursive(!!t,e,this.parentRenderLayer),e.isValid||e.set(0,0,0,0);const i=this.renderGroup||this.parentRenderGroup;return e.applyMatrix(i.worldTransform),e},_getGlobalBoundsRecursive(t,e,i){let s=e;if(t&&this.parentRenderLayer&&this.parentRenderLayer!==i||this.localDisplayStatus!==7||!this.measurable)return;const a=!!this.effects.length;if((this.renderGroup||a)&&(s=gi.get().clear()),this.boundsArea)e.addRect(this.boundsArea,this.worldTransform);else{if(this.renderPipeId){const c=this.bounds;s.addFrame(c.minX,c.minY,c.maxX,c.maxY,this.groupTransform)}const l=this.children;for(let c=0;c<l.length;c++)l[c]._getGlobalBoundsRecursive(t,s,i)}if(a){let l=!1;const c=this.renderGroup||this.parentRenderGroup;for(let h=0;h<this.effects.length;h++)this.effects[h].addBounds&&(l||(l=!0,s.applyMatrix(c.worldTransform)),this.effects[h].addBounds(s,!0));l&&s.applyMatrix(c.worldTransform.copyTo(YC).invert()),e.addBounds(s),gi.return(s)}else this.renderGroup&&(e.addBounds(s,this.relativeGroupTransform),gi.return(s))}};function Fw(t,e,i){i.clear();let s,a;return t.parent?e?s=t.parent.worldTransform:(a=Pt.get().identity(),s=Pp(t,a)):s=Oe.IDENTITY,Vw(t,i,s,e),a&&Pt.return(a),i.isValid||i.set(0,0,0,0),i}function Vw(t,e,i,s){if(!t.visible||!t.measurable)return;let a;s?a=t.worldTransform:(t.updateLocalTransform(),a=Pt.get(),a.appendFrom(t.localTransform,i));const l=e,c=!!t.effects.length;if(c&&(e=gi.get().clear()),t.boundsArea)e.addRect(t.boundsArea,a);else{const h=t.bounds;h&&!h.isEmpty()&&(e.matrix=a,e.addBounds(h));for(let f=0;f<t.children.length;f++)Vw(t.children[f],e,a,s)}if(c){for(let h=0;h<t.effects.length;h++)t.effects[h].addBounds?.(e);l.addBounds(e,Oe.IDENTITY),gi.return(e)}s||Pt.return(a)}function Pp(t,e){const i=t.parent;return i&&(Pp(i,e),i.updateLocalTransform(),e.append(i.localTransform)),e}function Yw(t,e){if(t===16777215||!e)return e;if(e===16777215||!t)return t;const i=t>>16&255,s=t>>8&255,a=t&255,l=e>>16&255,c=e>>8&255,h=e&255,f=i*l/255|0,y=s*c/255|0,m=a*h/255|0;return(f<<16)+(y<<8)+m}const x_=16777215;function w_(t,e){return t===x_?e:e===x_?t:Yw(t,e)}function yc(t){return((t&255)<<16)+(t&65280)+(t>>16&255)}const QC={getGlobalAlpha(t){if(t)return this.renderGroup?this.renderGroup.worldAlpha:this.parentRenderGroup?this.parentRenderGroup.worldAlpha*this.alpha:this.alpha;let e=this.alpha,i=this.parent;for(;i;)e*=i.alpha,i=i.parent;return e},getGlobalTransform(t=new Oe,e){if(e)return t.copyFrom(this.worldTransform);this.updateLocalTransform();const i=Pp(this,Pt.get().identity());return t.appendFrom(this.localTransform,i),Pt.return(i),t},getGlobalTint(t){if(t)return this.renderGroup?yc(this.renderGroup.worldColor):this.parentRenderGroup?yc(w_(this.localColor,this.parentRenderGroup.worldColor)):this.tint;let e=this.localColor,i=this.parent;for(;i;)e=w_(e,i.localColor),i=i.parent;return yc(e)}};function Xw(t,e,i){return e.clear(),i||(i=Oe.IDENTITY),Qw(t,e,i,t,!0),e.isValid||e.set(0,0,0,0),e}function Qw(t,e,i,s,a){let l;if(a)l=Pt.get(),l=i.copyTo(l);else{if(!t.visible||!t.measurable)return;t.updateLocalTransform();const f=t.localTransform;l=Pt.get(),l.appendFrom(f,i)}const c=e,h=!!t.effects.length;if(h&&(e=gi.get().clear()),t.boundsArea)e.addRect(t.boundsArea,l);else{t.renderPipeId&&(e.matrix=l,e.addBounds(t.bounds));const f=t.children;for(let y=0;y<f.length;y++)Qw(f[y],e,l,s,!1)}if(h){for(let f=0;f<t.effects.length;f++)t.effects[f].addLocalBounds?.(e,s);c.addBounds(e,Oe.IDENTITY),gi.return(e)}Pt.return(l)}function Kw(t,e){const i=t.children;for(let s=0;s<i.length;s++){const a=i[s],l=a.uid,c=(a._didViewChangeTick&65535)<<16|a._didContainerChangeTick&65535,h=e.index;(e.data[h]!==l||e.data[h+1]!==c)&&(e.data[e.index]=l,e.data[e.index+1]=c,e.didChange=!0),e.index=h+2,a.children.length&&Kw(a,e)}return e.didChange}const KC=new Oe,ZC={_localBoundsCacheId:-1,_localBoundsCacheData:null,_setWidth(t,e){const i=Math.sign(this.scale.x)||1;e!==0?this.scale.x=t/e*i:this.scale.x=i},_setHeight(t,e){const i=Math.sign(this.scale.y)||1;e!==0?this.scale.y=t/e*i:this.scale.y=i},getLocalBounds(){this._localBoundsCacheData||(this._localBoundsCacheData={data:[],index:1,didChange:!1,localBounds:new Pn});const t=this._localBoundsCacheData;return t.index=1,t.didChange=!1,t.data[0]!==this._didViewChangeTick&&(t.didChange=!0,t.data[0]=this._didViewChangeTick),Kw(this,t),t.didChange&&Xw(this,t.localBounds,KC),t.localBounds},getBounds(t,e){return Fw(this,t,e||new Pn)}},WC={_onRender:null,set onRender(t){const e=this.renderGroup||this.parentRenderGroup;if(!t){this._onRender&&e?.removeOnRender(this),this._onRender=null;return}this._onRender||e?.addOnRender(this),this._onRender=t},get onRender(){return this._onRender}},JC={_zIndex:0,sortDirty:!1,sortableChildren:!1,get zIndex(){return this._zIndex},set zIndex(t){this._zIndex!==t&&(this._zIndex=t,this.depthOfChildModified())},depthOfChildModified(){this.parent&&(this.parent.sortableChildren=!0,this.parent.sortDirty=!0),this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0)},sortChildren(){this.sortDirty&&(this.sortDirty=!1,this.children.sort(ek))}};function ek(t,e){return t._zIndex-e._zIndex}const tk={getGlobalPosition(t=new Dt,e=!1){return this.parent?this.parent.toGlobal(this._position,t,e):(t.x=this._position.x,t.y=this._position.y),t},toGlobal(t,e,i=!1){const s=this.getGlobalTransform(Pt.get(),i);return e=s.apply(t,e),Pt.return(s),e},toLocal(t,e,i,s){e&&(t=e.toGlobal(t,i,s));const a=this.getGlobalTransform(Pt.get(),s);return i=a.applyInverse(t,i),Pt.return(a),i}};class Zw{constructor(){this.uid=lt("instructionSet"),this.instructions=[],this.instructionSize=0,this.renderables=[],this.gcTick=0}reset(){this.instructionSize=0}destroy(){this.instructions.length=0,this.renderables.length=0,this.renderPipes=null,this.gcTick=0}add(e){this.instructions[this.instructionSize++]=e}log(){this.instructions.length=this.instructionSize,console.table(this.instructions,["type","action"])}}let nk=0;class ik{constructor(e){this._poolKeyHash=Object.create(null),this._texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this.textureStyle=new Lw(this.textureOptions)}createTexture(e,i,s){const a=new Mn({...this.textureOptions,width:e,height:i,resolution:1,antialias:s,autoGarbageCollect:!1});return new je({source:a,label:`texturePool_${nk++}`})}getOptimalTexture(e,i,s=1,a){let l=Math.ceil(e*s-1e-6),c=Math.ceil(i*s-1e-6);l=o_(l),c=o_(c);const h=(l<<17)+(c<<1)+(a?1:0);this._texturePool[h]||(this._texturePool[h]=[]);let f=this._texturePool[h].pop();return f||(f=this.createTexture(l,c,a)),f.source._resolution=s,f.source.width=l/s,f.source.height=c/s,f.source.pixelWidth=l,f.source.pixelHeight=c,f.frame.x=0,f.frame.y=0,f.frame.width=e,f.frame.height=i,f.updateUvs(),this._poolKeyHash[f.uid]=h,f}getSameSizeTexture(e,i=!1){const s=e.source;return this.getOptimalTexture(e.width,e.height,s._resolution,i)}returnTexture(e,i=!1){const s=this._poolKeyHash[e.uid];i&&(e.source.style=this.textureStyle),this._texturePool[s].push(e)}clear(e){if(e=e!==!1,e)for(const i in this._texturePool){const s=this._texturePool[i];if(s)for(let a=0;a<s.length;a++)s[a].destroy(!0)}this._texturePool={}}}const Ww=new ik;jp.register(Ww);class sk{constructor(){this.renderPipeId="renderGroup",this.root=null,this.canBundle=!1,this.renderGroupParent=null,this.renderGroupChildren=[],this.worldTransform=new Oe,this.worldColorAlpha=4294967295,this.worldColor=16777215,this.worldAlpha=1,this.childrenToUpdate=Object.create(null),this.updateTick=0,this.gcTick=0,this.childrenRenderablesToUpdate={list:[],index:0},this.structureDidChange=!0,this.instructionSet=new Zw,this._onRenderContainers=[],this.textureNeedsUpdate=!0,this.isCachedAsTexture=!1,this._matrixDirty=7}init(e){this.root=e,e._onRender&&this.addOnRender(e),e.didChange=!0;const i=e.children;for(let s=0;s<i.length;s++){const a=i[s];a._updateFlags=15,this.addChild(a)}}enableCacheAsTexture(e={}){this.textureOptions=e,this.isCachedAsTexture=!0,this.textureNeedsUpdate=!0}disableCacheAsTexture(){this.isCachedAsTexture=!1,this.texture&&(Ww.returnTexture(this.texture,!0),this.texture=null)}updateCacheTexture(){this.textureNeedsUpdate=!0;const e=this._parentCacheAsTextureRenderGroup;e&&!e.textureNeedsUpdate&&e.updateCacheTexture()}reset(){this.renderGroupChildren.length=0;for(const e in this.childrenToUpdate){const i=this.childrenToUpdate[e];i.list.fill(null),i.index=0}this.childrenRenderablesToUpdate.index=0,this.childrenRenderablesToUpdate.list.fill(null),this.root=null,this.updateTick=0,this.structureDidChange=!0,this._onRenderContainers.length=0,this.renderGroupParent=null,this.disableCacheAsTexture()}get localTransform(){return this.root.localTransform}addRenderGroupChild(e){e.renderGroupParent&&e.renderGroupParent._removeRenderGroupChild(e),e.renderGroupParent=this,this.renderGroupChildren.push(e)}_removeRenderGroupChild(e){const i=this.renderGroupChildren.indexOf(e);i>-1&&this.renderGroupChildren.splice(i,1),e.renderGroupParent=null}addChild(e){if(this.structureDidChange=!0,e.parentRenderGroup=this,e.updateTick=-1,e.parent===this.root?e.relativeRenderGroupDepth=1:e.relativeRenderGroupDepth=e.parent.relativeRenderGroupDepth+1,e.didChange=!0,this.onChildUpdate(e),e.renderGroup){this.addRenderGroupChild(e.renderGroup);return}e._onRender&&this.addOnRender(e);const i=e.children;for(let s=0;s<i.length;s++)this.addChild(i[s])}removeChild(e){if(this.structureDidChange=!0,e._onRender&&(e.renderGroup||this.removeOnRender(e)),e.parentRenderGroup=null,e.renderGroup){this._removeRenderGroupChild(e.renderGroup);return}const i=e.children;for(let s=0;s<i.length;s++)this.removeChild(i[s])}removeChildren(e){for(let i=0;i<e.length;i++)this.removeChild(e[i])}onChildUpdate(e){let i=this.childrenToUpdate[e.relativeRenderGroupDepth];i||(i=this.childrenToUpdate[e.relativeRenderGroupDepth]={index:0,list:[]}),i.list[i.index++]=e}updateRenderable(e){e.globalDisplayStatus<7||(this.instructionSet.renderPipes[e.renderPipeId].updateRenderable(e),e.didViewUpdate=!1)}onChildViewUpdate(e){this.childrenRenderablesToUpdate.list[this.childrenRenderablesToUpdate.index++]=e}get isRenderable(){return this.root.localDisplayStatus===7&&this.worldAlpha>0}addOnRender(e){this._onRenderContainers.push(e)}removeOnRender(e){this._onRenderContainers.splice(this._onRenderContainers.indexOf(e),1)}runOnRender(e){for(let i=0;i<this._onRenderContainers.length;i++)this._onRenderContainers[i]._onRender(e)}destroy(){this.disableCacheAsTexture(),this.renderGroupParent=null,this.root=null,this.childrenRenderablesToUpdate=null,this.childrenToUpdate=null,this.renderGroupChildren=null,this._onRenderContainers=null,this.instructionSet=null}getChildren(e=[]){const i=this.root.children;for(let s=0;s<i.length;s++)this._getChildren(i[s],e);return e}_getChildren(e,i=[]){if(i.push(e),e.renderGroup)return i;const s=e.children;for(let a=0;a<s.length;a++)this._getChildren(s[a],i);return i}invalidateMatrices(){this._matrixDirty=7}get inverseWorldTransform(){return(this._matrixDirty&1)===0?this._inverseWorldTransform:(this._matrixDirty&=-2,this._inverseWorldTransform||(this._inverseWorldTransform=new Oe),this._inverseWorldTransform.copyFrom(this.worldTransform).invert())}get textureOffsetInverseTransform(){return(this._matrixDirty&2)===0?this._textureOffsetInverseTransform:(this._matrixDirty&=-3,this._textureOffsetInverseTransform||(this._textureOffsetInverseTransform=new Oe),this._textureOffsetInverseTransform.copyFrom(this.inverseWorldTransform).translate(-this._textureBounds.x,-this._textureBounds.y))}get inverseParentTextureTransform(){if((this._matrixDirty&4)===0)return this._inverseParentTextureTransform;this._matrixDirty&=-5;const e=this._parentCacheAsTextureRenderGroup;return e?(this._inverseParentTextureTransform||(this._inverseParentTextureTransform=new Oe),this._inverseParentTextureTransform.copyFrom(this.worldTransform).prepend(e.inverseWorldTransform).translate(-e._textureBounds.x,-e._textureBounds.y)):this.worldTransform}get cacheToLocalTransform(){return this.isCachedAsTexture?this.textureOffsetInverseTransform:this._parentCacheAsTextureRenderGroup?this._parentCacheAsTextureRenderGroup.textureOffsetInverseTransform:null}}function rk(t,e,i={}){for(const s in e)!i[s]&&e[s]!==void 0&&(t[s]=e[s])}const Nd=new Rt(null),Fu=new Rt(null),Ld=new Rt(null,1,1),Vu=new Rt(null),S_=1,ak=2,Id=4;class ia extends is{constructor(e={}){super(),this.uid=lt("renderable"),this._updateFlags=15,this.renderGroup=null,this.parentRenderGroup=null,this.parentRenderGroupIndex=0,this.didChange=!1,this.didViewUpdate=!1,this.relativeRenderGroupDepth=0,this.children=[],this.parent=null,this.includeInBuild=!0,this.measurable=!0,this.isSimple=!0,this.parentRenderLayer=null,this.updateTick=-1,this.localTransform=new Oe,this.relativeGroupTransform=new Oe,this.groupTransform=this.relativeGroupTransform,this.destroyed=!1,this._position=new Rt(this,0,0),this._scale=Ld,this._pivot=Fu,this._origin=Vu,this._skew=Nd,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._rotation=0,this.localColor=16777215,this.localAlpha=1,this.groupAlpha=1,this.groupColor=16777215,this.groupColorAlpha=4294967295,this.localBlendMode="inherit",this.groupBlendMode="normal",this.localDisplayStatus=7,this.globalDisplayStatus=7,this._didContainerChangeTick=0,this._didViewChangeTick=0,this._didLocalTransformChangeId=-1,this.effects=[],rk(this,e,{children:!0,parent:!0,effects:!0}),e.children?.forEach(i=>this.addChild(i)),e.parent?.addChild(this)}static mixin(e){Xe("8.8.0","Container.mixin is deprecated, please use extensions.mixin instead."),wi.mixin(ia,e)}set _didChangeId(e){this._didViewChangeTick=e>>12&4095,this._didContainerChangeTick=e&4095}get _didChangeId(){return this._didContainerChangeTick&4095|(this._didViewChangeTick&4095)<<12}addChild(...e){if(this.allowChildren||Xe(Ot,"addChild: Only Containers will be allowed to add children in v8.0.0"),e.length>1){for(let a=0;a<e.length;a++)this.addChild(e[a]);return e[0]}const i=e[0],s=this.renderGroup||this.parentRenderGroup;return i.parent===this?(this.children.splice(this.children.indexOf(i),1),this.children.push(i),s&&(s.structureDidChange=!0),i):(i.parent&&i.parent.removeChild(i),this.children.push(i),this.sortableChildren&&(this.sortDirty=!0),i.parent=this,i.didChange=!0,i._updateFlags=15,s&&s.addChild(i),this.emit("childAdded",i,this,this.children.length-1),i.emit("added",this),this._didViewChangeTick++,i._zIndex!==0&&i.depthOfChildModified(),i)}removeChild(...e){if(e.length>1){for(let a=0;a<e.length;a++)this.removeChild(e[a]);return e[0]}const i=e[0],s=this.children.indexOf(i);return s>-1&&(this._didViewChangeTick++,this.children.splice(s,1),this.renderGroup?this.renderGroup.removeChild(i):this.parentRenderGroup&&this.parentRenderGroup.removeChild(i),i.parentRenderLayer&&i.parentRenderLayer.detach(i),i.parent=null,this.emit("childRemoved",i,this,s),i.emit("removed",this)),i}_onUpdate(e){e&&e===this._skew&&this._updateSkew(),this._didContainerChangeTick++,!this.didChange&&(this.didChange=!0,this.parentRenderGroup&&this.parentRenderGroup.onChildUpdate(this))}set isRenderGroup(e){!!this.renderGroup!==e&&(e?this.enableRenderGroup():this.disableRenderGroup())}get isRenderGroup(){return!!this.renderGroup}enableRenderGroup(){if(this.renderGroup)return;const e=this.parentRenderGroup;e?.removeChild(this),this.renderGroup=En.get(sk,this),this.groupTransform=Oe.IDENTITY,e?.addChild(this),this._updateIsSimple()}disableRenderGroup(){if(!this.renderGroup)return;const e=this.parentRenderGroup;e?.removeChild(this),En.return(this.renderGroup),this.renderGroup=null,this.groupTransform=this.relativeGroupTransform,e?.addChild(this),this._updateIsSimple()}_updateIsSimple(){this.isSimple=!this.renderGroup&&this.effects.length===0}get worldTransform(){return this._worldTransform||(this._worldTransform=new Oe),this.renderGroup?this._worldTransform.copyFrom(this.renderGroup.worldTransform):this.parentRenderGroup&&this._worldTransform.appendFrom(this.relativeGroupTransform,this.parentRenderGroup.worldTransform),this._worldTransform}get x(){return this._position.x}set x(e){this._position.x=e}get y(){return this._position.y}set y(e){this._position.y=e}get position(){return this._position}set position(e){this._position.copyFrom(e)}get rotation(){return this._rotation}set rotation(e){this._rotation!==e&&(this._rotation=e,this._onUpdate(this._skew))}get angle(){return this.rotation*vC}set angle(e){this.rotation=e*_C}get pivot(){return this._pivot===Fu&&(this._pivot=new Rt(this,0,0)),this._pivot}set pivot(e){this._pivot===Fu&&(this._pivot=new Rt(this,0,0),this._origin!==Vu&&ln("Setting both a pivot and origin on a Container is not recommended. This can lead to unexpected behavior if not handled carefully.")),typeof e=="number"?this._pivot.set(e):this._pivot.copyFrom(e)}get skew(){return this._skew===Nd&&(this._skew=new Rt(this,0,0)),this._skew}set skew(e){this._skew===Nd&&(this._skew=new Rt(this,0,0)),this._skew.copyFrom(e)}get scale(){return this._scale===Ld&&(this._scale=new Rt(this,1,1)),this._scale}set scale(e){this._scale===Ld&&(this._scale=new Rt(this,0,0)),typeof e=="string"&&(e=parseFloat(e)),typeof e=="number"?this._scale.set(e):this._scale.copyFrom(e)}get origin(){return this._origin===Vu&&(this._origin=new Rt(this,0,0)),this._origin}set origin(e){this._origin===Vu&&(this._origin=new Rt(this,0,0),this._pivot!==Fu&&ln("Setting both a pivot and origin on a Container is not recommended. This can lead to unexpected behavior if not handled carefully.")),typeof e=="number"?this._origin.set(e):this._origin.copyFrom(e)}get width(){return Math.abs(this.scale.x*this.getLocalBounds().width)}set width(e){const i=this.getLocalBounds().width;this._setWidth(e,i)}get height(){return Math.abs(this.scale.y*this.getLocalBounds().height)}set height(e){const i=this.getLocalBounds().height;this._setHeight(e,i)}getSize(e){e||(e={});const i=this.getLocalBounds();return e.width=Math.abs(this.scale.x*i.width),e.height=Math.abs(this.scale.y*i.height),e}setSize(e,i){const s=this.getLocalBounds();typeof e=="object"?(i=e.height??e.width,e=e.width):i??(i=e),e!==void 0&&this._setWidth(e,s.width),i!==void 0&&this._setHeight(i,s.height)}_updateSkew(){const e=this._rotation,i=this._skew;this._cx=Math.cos(e+i._y),this._sx=Math.sin(e+i._y),this._cy=-Math.sin(e-i._x),this._sy=Math.cos(e-i._x)}updateTransform(e){return this.position.set(typeof e.x=="number"?e.x:this.position.x,typeof e.y=="number"?e.y:this.position.y),this.scale.set(typeof e.scaleX=="number"?e.scaleX||1:this.scale.x,typeof e.scaleY=="number"?e.scaleY||1:this.scale.y),this.rotation=typeof e.rotation=="number"?e.rotation:this.rotation,this.skew.set(typeof e.skewX=="number"?e.skewX:this.skew.x,typeof e.skewY=="number"?e.skewY:this.skew.y),this.pivot.set(typeof e.pivotX=="number"?e.pivotX:this.pivot.x,typeof e.pivotY=="number"?e.pivotY:this.pivot.y),this.origin.set(typeof e.originX=="number"?e.originX:this.origin.x,typeof e.originY=="number"?e.originY:this.origin.y),this}setFromMatrix(e){e.decompose(this)}updateLocalTransform(){const e=this._didContainerChangeTick;if(this._didLocalTransformChangeId===e)return;this._didLocalTransformChangeId=e;const i=this.localTransform,s=this._scale,a=this._pivot,l=this._origin,c=this._position,h=s._x,f=s._y,y=a._x,m=a._y,g=-l._x,v=-l._y;i.a=this._cx*h,i.b=this._sx*h,i.c=this._cy*f,i.d=this._sy*f,i.tx=c._x-(y*i.a+m*i.c)+(g*i.a+v*i.c)-g,i.ty=c._y-(y*i.b+m*i.d)+(g*i.b+v*i.d)-v}set alpha(e){e!==this.localAlpha&&(this.localAlpha=e,this._updateFlags|=S_,this._onUpdate())}get alpha(){return this.localAlpha}set tint(e){const s=$e.shared.setValue(e??16777215).toBgrNumber();s!==this.localColor&&(this.localColor=s,this._updateFlags|=S_,this._onUpdate())}get tint(){return yc(this.localColor)}set blendMode(e){this.localBlendMode!==e&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=ak,this.localBlendMode=e,this._onUpdate())}get blendMode(){return this.localBlendMode}get visible(){return!!(this.localDisplayStatus&2)}set visible(e){const i=e?2:0;(this.localDisplayStatus&2)!==i&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=Id,this.localDisplayStatus^=2,this._onUpdate())}get culled(){return!(this.localDisplayStatus&4)}set culled(e){const i=e?0:4;(this.localDisplayStatus&4)!==i&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=Id,this.localDisplayStatus^=4,this._onUpdate())}get renderable(){return!!(this.localDisplayStatus&1)}set renderable(e){const i=e?1:0;(this.localDisplayStatus&1)!==i&&(this._updateFlags|=Id,this.localDisplayStatus^=1,this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._onUpdate())}get isRenderable(){return this.localDisplayStatus===7&&this.groupAlpha>0}destroy(e=!1){if(this.destroyed)return;this.destroyed=!0;let i;if(this.children.length&&(i=this.removeChildren(0,this.children.length)),this.removeFromParent(),this.parent=null,this._maskEffect=null,this._filterEffect=null,this.effects=null,this._position=null,this._scale=null,this._pivot=null,this._origin=null,this._skew=null,this.emit("destroyed",this),this.removeAllListeners(),(typeof e=="boolean"?e:e?.children)&&i)for(let a=0;a<i.length;++a)i[a].destroy(e);this.renderGroup?.destroy(),this.renderGroup=null}}wi.mixin(ia,GC,XC,tk,WC,ZC,FC,VC,JC,BC,IC,QC,HC);class Jw extends ia{constructor(e){super(e),this.canBundle=!0,this.allowChildren=!1,this._roundPixels=0,this._lastUsed=-1,this._gpuData=Object.create(null),this.autoGarbageCollect=!0,this._gcLastUsed=-1,this._bounds=new Pn(0,1,0,0),this._boundsDirty=!0,this.autoGarbageCollect=e.autoGarbageCollect??!0}get bounds(){return this._boundsDirty?(this.updateBounds(),this._boundsDirty=!1,this._bounds):this._bounds}get roundPixels(){return!!this._roundPixels}set roundPixels(e){this._roundPixels=e?1:0}containsPoint(e){const i=this.bounds,{x:s,y:a}=e;return s>=i.minX&&s<=i.maxX&&a>=i.minY&&a<=i.maxY}onViewUpdate(){if(this._didViewChangeTick++,this._boundsDirty=!0,this.didViewUpdate)return;this.didViewUpdate=!0;const e=this.renderGroup||this.parentRenderGroup;e&&e.onChildViewUpdate(this)}unload(){this.emit("unload",this);for(const e in this._gpuData)this._gpuData[e]?.destroy();this._gpuData=Object.create(null),this.onViewUpdate()}destroy(e){this.unload(),super.destroy(e),this._bounds=null}collectRenderablesSimple(e,i,s){const{renderPipes:a}=i;a.blendMode.pushBlendMode(this,this.groupBlendMode,e),a[this.renderPipeId].addRenderable(this,e),this.didViewUpdate=!1;const c=this.children,h=c.length;for(let f=0;f<h;f++)c[f].collectRenderables(e,i,s);a.blendMode.popBlendMode(e)}}class Is extends Jw{constructor(e=je.EMPTY){e instanceof je&&(e={texture:e});const{texture:i=je.EMPTY,anchor:s,roundPixels:a,width:l,height:c,...h}=e;super({label:"Sprite",...h}),this.renderPipeId="sprite",this.batched=!0,this._visualBounds={minX:0,maxX:1,minY:0,maxY:0},this._anchor=new Rt({_onUpdate:()=>{this.onViewUpdate()}}),s?this.anchor=s:i.defaultAnchor&&(this.anchor=i.defaultAnchor),this.texture=i,this.allowChildren=!1,this.roundPixels=a??!1,l!==void 0&&(this.width=l),c!==void 0&&(this.height=c)}static from(e,i=!1){return e instanceof je?new Is(e):new Is(je.from(e,i))}set texture(e){e||(e=je.EMPTY);const i=this._texture;i!==e&&(i&&i.dynamic&&i.off("update",this.onViewUpdate,this),e.dynamic&&e.on("update",this.onViewUpdate,this),this._texture=e,this._width&&this._setWidth(this._width,this._texture.orig.width),this._height&&this._setHeight(this._height,this._texture.orig.height),this.onViewUpdate())}get texture(){return this._texture}get visualBounds(){return MC(this._visualBounds,this._anchor,this._texture),this._visualBounds}get sourceBounds(){return Xe("8.6.1","Sprite.sourceBounds is deprecated, use visualBounds instead."),this.visualBounds}updateBounds(){const e=this._anchor,i=this._texture,s=this._bounds,{width:a,height:l}=i.orig;s.minX=-e._x*a,s.maxX=s.minX+a,s.minY=-e._y*l,s.maxY=s.minY+l}destroy(e=!1){if(super.destroy(e),typeof e=="boolean"?e:e?.texture){const s=typeof e=="boolean"?e:e?.textureSource;this._texture.destroy(s)}this._texture=null,this._visualBounds=null,this._bounds=null,this._anchor=null}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this._setWidth(e,this._texture.orig.width),this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this._setHeight(e,this._texture.orig.height),this._height=e}getSize(e){return e||(e={}),e.width=Math.abs(this.scale.x)*this._texture.orig.width,e.height=Math.abs(this.scale.y)*this._texture.orig.height,e}setSize(e,i){typeof e=="object"?(i=e.height??e.width,e=e.width):i??(i=e),e!==void 0&&this._setWidth(e,this._texture.orig.width),i!==void 0&&this._setHeight(i,this._texture.orig.height)}}const ok=new Pn;function eS(t,e,i){const s=ok;t.measurable=!0,Fw(t,i,s),e.addBoundsMask(s),t.measurable=!1}function tS(t,e,i){const s=gi.get();t.measurable=!0;const a=Pt.get().identity(),l=nS(t,i,a);Xw(t,s,l),t.measurable=!1,e.addBoundsMask(s),Pt.return(a),gi.return(s)}function nS(t,e,i){return t?(t!==e&&(nS(t.parent,e,i),t.updateLocalTransform(),i.append(t.localTransform)),i):(ln("Mask bounds, renderable is not inside the root container"),i)}class iS{constructor(e){this.priority=0,this.inverse=!1,this.pipe="alphaMask",e?.mask&&this.init(e.mask)}init(e){this.mask=e,this.renderMaskToTexture=!(e instanceof Is),this.mask.renderable=this.renderMaskToTexture,this.mask.includeInBuild=!this.renderMaskToTexture,this.mask.measurable=!1}reset(){this.mask!==null&&(this.mask.measurable=!0,this.mask=null)}addBounds(e,i){this.inverse||eS(this.mask,e,i)}addLocalBounds(e,i){tS(this.mask,e,i)}containsPoint(e,i){const s=this.mask;return i(s,e)}destroy(){this.reset()}static test(e){return e instanceof Is}}iS.extension=Ke.MaskEffect;class sS{constructor(e){this.priority=0,this.pipe="colorMask",e?.mask&&this.init(e.mask)}init(e){this.mask=e}destroy(){}static test(e){return typeof e=="number"}}sS.extension=Ke.MaskEffect;class rS{constructor(e){this.priority=0,this.pipe="stencilMask",e?.mask&&this.init(e.mask)}init(e){this.mask=e,this.mask.includeInBuild=!1,this.mask.measurable=!1}reset(){this.mask!==null&&(this.mask.measurable=!0,this.mask.includeInBuild=!0,this.mask=null)}addBounds(e,i){eS(this.mask,e,i)}addLocalBounds(e,i){tS(this.mask,e,i)}containsPoint(e,i){const s=this.mask;return i(s,e)}destroy(){this.reset()}static test(e){return e instanceof ia}}rS.extension=Ke.MaskEffect;const lk={createCanvas:(t,e)=>{const i=document.createElement("canvas");return i.width=t,i.height=e,i},createImage:()=>new Image,getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")};let A_=lk;const ol={get(){return A_},set(t){A_=t}};class aS extends Mn{constructor(e){e.resource||(e.resource=ol.get().createCanvas()),e.width||(e.width=e.resource.width,e.autoDensity||(e.width/=e.resolution)),e.height||(e.height=e.resource.height,e.autoDensity||(e.height/=e.resolution)),super(e),this.uploadMethodId="image",this.autoDensity=e.autoDensity,this.resizeCanvas(),this.transparent=!!e.transparent}resizeCanvas(){this.autoDensity&&"style"in this.resource&&(this.resource.style.width=`${this.width}px`,this.resource.style.height=`${this.height}px`),(this.resource.width!==this.pixelWidth||this.resource.height!==this.pixelHeight)&&(this.resource.width=this.pixelWidth,this.resource.height=this.pixelHeight)}resize(e=this.width,i=this.height,s=this._resolution){const a=super.resize(e,i,s);return a&&this.resizeCanvas(),a}static test(e){return globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement||globalThis.OffscreenCanvas&&e instanceof OffscreenCanvas}get context2D(){return this._context2D||(this._context2D=this.resource.getContext("2d"))}}aS.extension=Ke.TextureSource;class Tc extends Mn{constructor(e){super(e),this.uploadMethodId="image",this.autoGarbageCollect=!0}static test(e){return globalThis.HTMLImageElement&&e instanceof HTMLImageElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap||globalThis.VideoFrame&&e instanceof VideoFrame}}Tc.extension=Ke.TextureSource;var Uy=(t=>(t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(Uy||{});class qd{constructor(e,i=null,s=0,a=!1){this.next=null,this.previous=null,this._destroyed=!1,this._fn=e,this._context=i,this.priority=s,this._once=a}match(e,i=null){return this._fn===e&&this._context===i}emit(e){this._fn&&(this._context?this._fn.call(this._context,e):this._fn(e));const i=this.next;return this._once&&this.destroy(!0),this._destroyed&&(this.next=null),i}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this._fn=null,this._context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const i=this.next;return this.next=e?null:i,this.previous=null,i}}const oS=class on{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new qd(null,null,1/0),this.deltaMS=1/on.targetFPMS,this.elapsedMS=1/on.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,i,s=Uy.NORMAL){return this._addListener(new qd(e,i,s))}addOnce(e,i,s=Uy.NORMAL){return this._addListener(new qd(e,i,s,!0))}_addListener(e){let i=this._head.next,s=this._head;if(!i)e.connect(s);else{for(;i;){if(e.priority>i.priority){e.connect(s);break}s=i,i=i.next}e.previous||e.connect(s)}return this._startIfPossible(),this}remove(e,i){let s=this._head.next;for(;s;)s.match(e,i)?s=s.destroy():s=s.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,i=this._head;for(;i=i.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let i;if(e>this.lastTime){if(i=this.elapsedMS=e-this.lastTime,i>this._maxElapsedMS&&(i=this._maxElapsedMS),i*=this.speed,this._minElapsedMS){const l=e-this._lastFrame|0;if(l<this._minElapsedMS)return;this._lastFrame=e-l%this._minElapsedMS}this.deltaMS=i,this.deltaTime=this.deltaMS*on.targetFPMS;const s=this._head;let a=s.next;for(;a;)a=a.emit(this);s.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const i=Math.min(this.maxFPS,e),s=Math.min(Math.max(0,i)/1e3,on.targetFPMS);this._maxElapsedMS=1/s}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const i=Math.max(this.minFPS,e);this._minElapsedMS=1/(i/1e3)}}static get shared(){if(!on._shared){const e=on._shared=new on;e.autoStart=!0,e._protected=!0}return on._shared}static get system(){if(!on._system){const e=on._system=new on;e.autoStart=!0,e._protected=!0}return on._system}};oS.targetFPMS=.06;let Yu=oS,Gd;async function uk(){return Gd??(Gd=(async()=>{const e=ol.get().createCanvas(1,1).getContext("webgl");if(!e)return"premultiply-alpha-on-upload";const i=await new Promise(c=>{const h=document.createElement("video");h.onloadeddata=()=>c(h),h.onerror=()=>c(null),h.autoplay=!1,h.crossOrigin="anonymous",h.preload="auto",h.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",h.load()});if(!i)return"premultiply-alpha-on-upload";const s=e.createTexture();e.bindTexture(e.TEXTURE_2D,s);const a=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,a),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,s,0),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,e.NONE),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,i);const l=new Uint8Array(4);return e.readPixels(0,0,1,1,e.RGBA,e.UNSIGNED_BYTE,l),e.deleteFramebuffer(a),e.deleteTexture(s),e.getExtension("WEBGL_lose_context")?.loseContext(),l[0]<=l[3]?"premultiplied-alpha":"premultiply-alpha-on-upload"})()),Gd}const qc=class lS extends Mn{constructor(e){super(e),this.isReady=!1,this.uploadMethodId="video",e={...lS.defaultOptions,...e},this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=e.autoPlay!==!1,this.alphaMode=e.alphaMode??"premultiply-alpha-on-upload",this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onCanPlayThrough=this._onCanPlayThrough.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),e.autoLoad!==!1&&this.load()}updateFrame(){if(!this.destroyed){if(this._updateFPS){const e=Yu.shared.elapsedMS*this.resource.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e)}(!this._updateFPS||this._msToNextUpdate<=0)&&(this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0),this.isValid&&this.update()}}_videoFrameRequestCallback(){this.updateFrame(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback)}get isValid(){return!!this.resource.videoWidth&&!!this.resource.videoHeight}async load(){if(this._load)return this._load;const e=this.resource,i=this.options;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._mediaReady():(i.preload||e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlayThrough),e.addEventListener("error",this._onError,!0)),this.alphaMode=await uk(),this._load=new Promise((s,a)=>{this.isValid?s(this):(this._resolve=s,this._reject=a,i.preloadTimeoutMs!==void 0&&(this._preloadTimeout=setTimeout(()=>{this._onError(new ErrorEvent(`Preload exceeded timeout of ${i.preloadTimeoutMs}ms`))})),e.load())}),this._load}_onError(e){this.resource.removeEventListener("error",this._onError,!0),this.emit("error",e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.resource;return!e.paused&&!e.ended}_isSourceReady(){return this.resource.readyState>2}_onPlayStart(){this.isValid||this._mediaReady(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0)}_onCanPlay(){this.resource.removeEventListener("canplay",this._onCanPlay),this._mediaReady()}_onCanPlayThrough(){this.resource.removeEventListener("canplaythrough",this._onCanPlay),this._preloadTimeout&&(clearTimeout(this._preloadTimeout),this._preloadTimeout=void 0),this._mediaReady()}_mediaReady(){const e=this.resource;this.isValid&&(this.isReady=!0,this.resize(e.videoWidth,e.videoHeight)),this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0,this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.resource.play()}destroy(){this._configureAutoUpdate();const e=this.resource;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlayThrough),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.destroy()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.resource.requestVideoFrameCallback?(this._isConnectedToTicker&&(Yu.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(Yu.shared.add(this.updateFrame,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(Yu.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement}};qc.extension=Ke.TextureSource;qc.defaultOptions={...Mn.defaultOptions,autoLoad:!0,autoPlay:!0,updateFPS:0,crossorigin:!0,loop:!1,muted:!0,playsinline:!0,preload:!1};qc.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let ck=qc;const Gr=(t,e,i=!1)=>(Array.isArray(t)||(t=[t]),e?t.map(s=>typeof s=="string"||i?e(s):s):t);class hk{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const i=this._cache.get(e);return i||ln(`[Assets] Asset id ${e} was not found in the Cache`),i}set(e,i){const s=Gr(e);let a;for(let f=0;f<this.parsers.length;f++){const y=this.parsers[f];if(y.test(i)){a=y.getCacheableAssets(s,i);break}}const l=new Map(Object.entries(a||{}));a||s.forEach(f=>{l.set(f,i)});const c=[...l.keys()],h={cacheKeys:c,keys:s};s.forEach(f=>{this._cacheMap.set(f,h)}),c.forEach(f=>{const y=a?a[f]:i;this._cache.has(f)&&this._cache.get(f)!==y&&ln("[Cache] already has key:",f),this._cache.set(f,l.get(f))})}remove(e){if(!this._cacheMap.has(e)){ln(`[Assets] Asset id ${e} was not found in the Cache`);return}const i=this._cacheMap.get(e);i.cacheKeys.forEach(a=>{this._cache.delete(a)}),i.keys.forEach(a=>{this._cacheMap.delete(a)})}get parsers(){return this._parsers}}const Hr=new hk,jy=[];wi.handleByList(Ke.TextureSource,jy);function uS(t={}){const e=t&&t.resource,i=e?t.resource:t,s=e?t:{resource:t};for(let a=0;a<jy.length;a++){const l=jy[a];if(l.test(i))return new l(s)}throw new Error(`Could not find a source type for resource: ${s.resource}`)}function fk(t={},e=!1){const i=t&&t.resource,s=i?t.resource:t,a=i?t:{resource:t};if(!e&&Hr.has(s))return Hr.get(s);const l=new je({source:uS(a)});return l.on("destroy",()=>{Hr.has(s)&&Hr.remove(s)}),e||Hr.set(s,l),l}function dk(t,e=!1){return typeof t=="string"?Hr.get(t):t instanceof Mn?new je({source:t}):fk(t,e)}je.from=dk;Mn.from=uS;wi.add(iS,sS,rS,ck,Tc,aS,Up);var cS=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(cS||{});function On(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function ro(t){return t.split("?")[0].split("#")[0]}function yk(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function pk(t,e,i){return t.replace(new RegExp(yk(e),"g"),i)}function mk(t,e){let i="",s=0,a=-1,l=0,c=-1;for(let h=0;h<=t.length;++h){if(h<t.length)c=t.charCodeAt(h);else{if(c===47)break;c=47}if(c===47){if(!(a===h-1||l===1))if(a!==h-1&&l===2){if(i.length<2||s!==2||i.charCodeAt(i.length-1)!==46||i.charCodeAt(i.length-2)!==46){if(i.length>2){const f=i.lastIndexOf("/");if(f!==i.length-1){f===-1?(i="",s=0):(i=i.slice(0,f),s=i.length-1-i.lastIndexOf("/")),a=h,l=0;continue}}else if(i.length===2||i.length===1){i="",s=0,a=h,l=0;continue}}}else i.length>0?i+=`/${t.slice(a+1,h)}`:i=t.slice(a+1,h),s=h-a-1;a=h,l=0}else c===46&&l!==-1?++l:l=-1}return i}const Ho={toPosix(t){return pk(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},isBlobUrl(t){return t.startsWith("blob:")},hasProtocol(t){return/^[^/:]+:/.test(this.toPosix(t))},getProtocol(t){On(t),t=this.toPosix(t);const e=/^file:\/\/\//.exec(t);if(e)return e[0];const i=/^[^/:]+:\/{0,2}/.exec(t);return i?i[0]:""},toAbsolute(t,e,i){if(On(t),this.isDataUrl(t)||this.isBlobUrl(t))return t;const s=ro(this.toPosix(e??ol.get().getBaseUrl())),a=ro(this.toPosix(i??this.rootname(s)));return t=this.toPosix(t),t.startsWith("/")?Ho.join(a,t.slice(1)):this.isAbsolute(t)?t:this.join(s,t)},normalize(t){if(On(t),t.length===0)return".";if(this.isDataUrl(t)||this.isBlobUrl(t))return t;t=this.toPosix(t);let e="";const i=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const s=t.endsWith("/");return t=mk(t),t.length>0&&s&&(t+="/"),i?`/${t}`:e+t},isAbsolute(t){return On(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){if(t.length===0)return".";let e;for(let i=0;i<t.length;++i){const s=t[i];if(On(s),s.length>0)if(e===void 0)e=s;else{const a=t[i-1]??"";this.joinExtensions.includes(this.extname(a).toLowerCase())?e+=`/../${s}`:e+=`/${s}`}}return e===void 0?".":this.normalize(e)},dirname(t){if(On(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const i=e===47;let s=-1,a=!0;const l=this.getProtocol(t),c=t;t=t.slice(l.length);for(let h=t.length-1;h>=1;--h)if(e=t.charCodeAt(h),e===47){if(!a){s=h;break}}else a=!1;return s===-1?i?"/":this.isUrl(c)?l+t:l:i&&s===1?"//":l+t.slice(0,s)},rootname(t){On(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const i=t.indexOf("/",e.length);i!==-1?e=t.slice(0,i):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){On(t),e&&On(e),t=ro(this.toPosix(t));let i=0,s=-1,a=!0,l;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let c=e.length-1,h=-1;for(l=t.length-1;l>=0;--l){const f=t.charCodeAt(l);if(f===47){if(!a){i=l+1;break}}else h===-1&&(a=!1,h=l+1),c>=0&&(f===e.charCodeAt(c)?--c===-1&&(s=l):(c=-1,s=h))}return i===s?s=h:s===-1&&(s=t.length),t.slice(i,s)}for(l=t.length-1;l>=0;--l)if(t.charCodeAt(l)===47){if(!a){i=l+1;break}}else s===-1&&(a=!1,s=l+1);return s===-1?"":t.slice(i,s)},extname(t){On(t),t=ro(this.toPosix(t));let e=-1,i=0,s=-1,a=!0,l=0;for(let c=t.length-1;c>=0;--c){const h=t.charCodeAt(c);if(h===47){if(!a){i=c+1;break}continue}s===-1&&(a=!1,s=c+1),h===46?e===-1?e=c:l!==1&&(l=1):e!==-1&&(l=-1)}return e===-1||s===-1||l===0||l===1&&e===s-1&&e===i+1?"":t.slice(e,s)},parse(t){On(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=ro(this.toPosix(t));let i=t.charCodeAt(0);const s=this.isAbsolute(t);let a;e.root=this.rootname(t),s||this.hasProtocol(t)?a=1:a=0;let l=-1,c=0,h=-1,f=!0,y=t.length-1,m=0;for(;y>=a;--y){if(i=t.charCodeAt(y),i===47){if(!f){c=y+1;break}continue}h===-1&&(f=!1,h=y+1),i===46?l===-1?l=y:m!==1&&(m=1):l!==-1&&(m=-1)}return l===-1||h===-1||m===0||m===1&&l===h-1&&l===c+1?h!==-1&&(c===0&&s?e.base=e.name=t.slice(1,h):e.base=e.name=t.slice(c,h)):(c===0&&s?(e.name=t.slice(1,l),e.base=t.slice(1,h)):(e.name=t.slice(c,l),e.base=t.slice(c,h)),e.ext=t.slice(l,h)),e.dir=this.dirname(t),e},sep:"/",delimiter:":",joinExtensions:[".html"]};function hS(t,e,i,s,a){const l=e[i];for(let c=0;c<l.length;c++){const h=l[c];i<e.length-1?hS(t.replace(s[i],h),e,i+1,s,a):a.push(t.replace(s[i],h))}}function gk(t){const e=/\{(.*?)\}/g,i=t.match(e),s=[];if(i){const a=[];i.forEach(l=>{const c=l.substring(1,l.length-1).split(",");a.push(c)}),hS(t,a,0,i,s)}else s.push(t);return s}const T_=t=>!Array.isArray(t);class fS{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,i)=>`${e}${this._bundleIdConnector}${i}`,extractAssetIdFromBundle:(e,i)=>i.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(i=>{this._preferredOrder.push(i),i.priority||(i.priority=Object.keys(i.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const i=e;this._defaultSearchParams=Object.keys(i).map(s=>`${encodeURIComponent(s)}=${encodeURIComponent(i[s])}`).join("&")}}getAlias(e){const{alias:i,src:s}=e;return Gr(i||s,l=>typeof l=="string"?l:Array.isArray(l)?l.map(c=>c?.src??c):l?.src?l.src:l,!0)}addManifest(e){this._manifest&&ln("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(i=>{this.addBundle(i.name,i.assets)})}addBundle(e,i){const s=[];let a=i;Array.isArray(i)||(a=Object.entries(i).map(([l,c])=>typeof c=="string"||Array.isArray(c)?{alias:l,src:c}:{alias:l,...c})),a.forEach(l=>{const c=l.src,h=l.alias;let f;if(typeof h=="string"){const y=this._createBundleAssetId(e,h);s.push(y),f=[h,y]}else{const y=h.map(m=>this._createBundleAssetId(e,m));s.push(...y),f=[...h,...y]}this.add({...l,alias:f,src:c})}),this._bundles[e]=s}add(e){const i=[];Array.isArray(e)?i.push(...e):i.push(e);let s;s=l=>{this.hasKey(l)&&ln(`[Resolver] already has key: ${l} overwriting`)},Gr(i).forEach(l=>{const{src:c}=l;let{data:h,format:f,loadParser:y,parser:m}=l;const g=Gr(c).map(A=>typeof A=="string"?gk(A):Array.isArray(A)?A:[A]),v=this.getAlias(l);Array.isArray(v)?v.forEach(s):s(v);const b=[],w=A=>({...this._parsers.find(T=>T.test(A))?.parse(A),src:A});g.forEach(A=>{A.forEach(x=>{let T={};if(typeof x!="object"?T=w(x):(h=x.data??h,f=x.format??f,(x.loadParser||x.parser)&&(y=x.loadParser??y,m=x.parser??m),T={...w(x.src),...x}),!v)throw new Error(`[Resolver] alias is undefined for this asset: ${T.src}`);T=this._buildResolvedAsset(T,{aliases:v,data:h,format:f,loadParser:y,parser:m,progressSize:l.progressSize}),b.push(T)})}),v.forEach(A=>{this._assetMap[A]=b})})}resolveBundle(e){const i=T_(e);e=Gr(e);const s={};return e.forEach(a=>{const l=this._bundles[a];if(l){const c=this.resolve(l),h={};for(const f in c){const y=c[f];h[this._extractAssetIdFromBundle(a,f)]=y}s[a]=h}}),i?s[e[0]]:s}resolveUrl(e){const i=this.resolve(e);if(typeof e!="string"){const s={};for(const a in i)s[a]=i[a].src;return s}return i.src}resolve(e){const i=T_(e);e=Gr(e);const s={};return e.forEach(a=>{if(!this._resolverHash[a])if(this._assetMap[a]){let l=this._assetMap[a];const c=this._getPreferredOrder(l);c?.priority.forEach(h=>{c.params[h].forEach(f=>{const y=l.filter(m=>m[h]?m[h]===f:!1);y.length&&(l=y)})}),this._resolverHash[a]=l[0]}else this._resolverHash[a]=this._buildResolvedAsset({alias:[a],src:a},{});s[a]=this._resolverHash[a]}),i?s[e[0]]:s}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let i=0;i<e.length;i++){const s=e[i],a=this._preferredOrder.find(l=>l.params.format.includes(s.format));if(a)return a}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const i=/\?/.test(e)?"&":"?";return`${e}${i}${this._defaultSearchParams}`}_buildResolvedAsset(e,i){const{aliases:s,data:a,loadParser:l,parser:c,format:h,progressSize:f}=i;return(this._basePath||this._rootPath)&&(e.src=Ho.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=s??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...a||{},...e.data},e.loadParser=l??e.loadParser,e.parser=c??e.parser,e.format=h??e.format??bk(e.src),f!==void 0&&(e.progressSize=f),e}}fS.RETINA_PREFIX=/@([0-9\.]+)x/;function bk(t){return t.split(".").pop().split("?").shift().split("#").shift()}const E_=(t,e)=>{const i=e.split("?")[1];return i&&(t+=`?${i}`),t},dS=class wo{constructor(e,i){this.linkedSheets=[];let s=e;e?.source instanceof Mn&&(s={texture:e,data:i});const{texture:a,data:l,cachePrefix:c=""}=s;this.cachePrefix=c,this._texture=a instanceof je?a:null,this.textureSource=a.source,this.textures={},this.animations={},this.data=l;const h=parseFloat(l.meta.scale);h?(this.resolution=h,a.source.resolution=this.resolution):this.resolution=a.source._resolution,this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}parse(){return new Promise(e=>{this._callback=e,this._batchIndex=0,this._frameKeys.length<=wo.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}parseSync(){return this._processFrames(0,!0),this._processAnimations(),this.textures}_processFrames(e,i=!1){let s=e;const a=i?1/0:wo.BATCH_SIZE;for(;s-e<a&&s<this._frameKeys.length;){const l=this._frameKeys[s],c=this._frames[l],h=c.frame;if(h){let f=null,y=null;const m=c.trimmed!==!1&&c.sourceSize?c.sourceSize:c.frame,g=new mt(0,0,Math.floor(m.w)/this.resolution,Math.floor(m.h)/this.resolution);c.rotated?f=new mt(Math.floor(h.x)/this.resolution,Math.floor(h.y)/this.resolution,Math.floor(h.h)/this.resolution,Math.floor(h.w)/this.resolution):f=new mt(Math.floor(h.x)/this.resolution,Math.floor(h.y)/this.resolution,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution),c.trimmed!==!1&&c.spriteSourceSize&&(y=new mt(Math.floor(c.spriteSourceSize.x)/this.resolution,Math.floor(c.spriteSourceSize.y)/this.resolution,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution)),this.textures[l]=new je({source:this.textureSource,frame:f,orig:g,trim:y,rotate:c.rotated?2:0,defaultAnchor:c.anchor,defaultBorders:c.borders,label:l.toString()})}s++}}_processAnimations(){const e=this.data.animations||{};for(const i in e){this.animations[i]=[];for(let s=0;s<e[i].length;s++){const a=e[i][s];this.animations[i].push(this.textures[a])}}}_parseComplete(){const e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*wo.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*wo.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(e=!1){for(const i in this.textures)this.textures[i].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&(this._texture?.destroy(),this.textureSource.destroy()),this._texture=null,this.textureSource=null,this.linkedSheets=[]}};dS.BATCH_SIZE=1e3;let Py=dS;const vk=["jpg","png","jpeg","avif","webp","basis","etc2","bc7","bc6h","bc5","bc4","bc3","bc2","bc1","eac","astc"];function yS(t,e,i){const s={};if(t.forEach(a=>{s[a]=e}),Object.keys(e.textures).forEach(a=>{s[`${e.cachePrefix}${a}`]=e.textures[a]}),!i){const a=Ho.dirname(t[0]);e.linkedSheets.forEach((l,c)=>{const h=yS([`${a}/${e.data.meta.related_multi_packs[c]}`],l,!0);Object.assign(s,h)})}return s}const _k={extension:Ke.Asset,cache:{test:t=>t instanceof Py,getCacheableAssets:(t,e)=>yS(t,e,!1)},resolver:{extension:{type:Ke.ResolveParser,name:"resolveSpritesheet"},test:t=>{const i=t.split("?")[0].split("."),s=i.pop(),a=i.pop();return s==="json"&&vk.includes(a)},parse:t=>{const e=t.split(".");return{resolution:parseFloat(fS.RETINA_PREFIX.exec(t)?.[1]??"1"),format:e[e.length-2],src:t}}},loader:{name:"spritesheetLoader",id:"spritesheet",extension:{type:Ke.LoadParser,priority:cS.Normal,name:"spritesheetLoader"},async testParse(t,e){return Ho.extname(e.src).toLowerCase()===".json"&&!!t.frames},async parse(t,e,i){const{texture:s,imageFilename:a,textureOptions:l,cachePrefix:c}=e?.data??{};let h=Ho.dirname(e.src);h&&h.lastIndexOf("/")!==h.length-1&&(h+="/");let f;if(s instanceof je)f=s;else{const g=E_(h+(a??t.meta.image),e.src);f=(await i.load([{src:g,data:l}]))[g]}const y=new Py({texture:f.source,data:t,cachePrefix:c});await y.parse();const m=t?.meta?.related_multi_packs;if(Array.isArray(m)){const g=[];for(const b of m){if(typeof b!="string")continue;let w=h+b;e.data?.ignoreMultiPack||(w=E_(w,e.src),g.push(i.load({src:w,data:{textureOptions:l,ignoreMultiPack:!0}})))}const v=await Promise.all(g);y.linkedSheets=v,v.forEach(b=>{b.linkedSheets=[y].concat(y.linkedSheets.filter(w=>w!==b))})}return y},async unload(t,e,i){await i.unload(t.textureSource._sourceOrigin),t.destroy(!1)}}};wi.add(_k);const Hd=Object.create(null),M_=Object.create(null);function Bp(t,e){let i=M_[t];return i===void 0&&(Hd[e]===void 0&&(Hd[e]=1),M_[t]=i=Hd[e]++),i}let Xu;function pS(){return(!Xu||Xu?.isContextLost())&&(Xu=ol.get().createCanvas().getContext("webgl",{})),Xu}let Qu;function xk(){if(!Qu){Qu="mediump";const t=pS();t&&t.getShaderPrecisionFormat&&(Qu=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision?"highp":"mediump")}return Qu}function wk(t,e,i){return e?t:i?(t=t.replace("out vec4 finalColor;",""),`

        #ifdef GL_ES // This checks if it is WebGL1
        #define in varying
        #define finalColor gl_FragColor
        #define texture texture2D
        #endif
        ${t}
        `):`

        #ifdef GL_ES // This checks if it is WebGL1
        #define in attribute
        #define out varying
        #endif
        ${t}
        `}function Sk(t,e,i){const s=i?e.maxSupportedFragmentPrecision:e.maxSupportedVertexPrecision;if(t.substring(0,9)!=="precision"){let a=i?e.requestedFragmentPrecision:e.requestedVertexPrecision;return a==="highp"&&s!=="highp"&&(a="mediump"),`precision ${a} float;
${t}`}else if(s!=="highp"&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}function Ak(t,e){return e?`#version 300 es
${t}`:t}const Tk={},Ek={};function Mk(t,{name:e="pixi-program"},i=!0){e=e.replace(/\s+/g,"-"),e+=i?"-fragment":"-vertex";const s=i?Tk:Ek;return s[e]?(s[e]++,e+=`-${s[e]}`):s[e]=1,t.indexOf("#define SHADER_NAME")!==-1?t:`${`#define SHADER_NAME ${e}`}
${t}`}function Ck(t,e){return e?t.replace("#version 300 es",""):t}const $d={stripVersion:Ck,ensurePrecision:Sk,addProgramDefines:wk,setProgramName:Mk,insertVersion:Ak},ao=Object.create(null),mS=class By{constructor(e){e={...By.defaultOptions,...e};const i=e.fragment.indexOf("#version 300 es")!==-1,s={stripVersion:i,ensurePrecision:{requestedFragmentPrecision:e.preferredFragmentPrecision,requestedVertexPrecision:e.preferredVertexPrecision,maxSupportedVertexPrecision:"highp",maxSupportedFragmentPrecision:xk()},setProgramName:{name:e.name},addProgramDefines:i,insertVersion:i};let a=e.fragment,l=e.vertex;Object.keys($d).forEach(c=>{const h=s[c];a=$d[c](a,h,!0),l=$d[c](l,h,!1)}),this.fragment=a,this.vertex=l,this.transformFeedbackVaryings=e.transformFeedbackVaryings,this._key=Bp(`${this.vertex}:${this.fragment}`,"gl-program")}destroy(){this.fragment=null,this.vertex=null,this._attributeData=null,this._uniformData=null,this._uniformBlockData=null,this.transformFeedbackVaryings=null,ao[this._cacheKey]=null}static from(e){const i=`${e.vertex}:${e.fragment}`;return ao[i]||(ao[i]=new By(e),ao[i]._cacheKey=i),ao[i]}};mS.defaultOptions={preferredVertexPrecision:"highp",preferredFragmentPrecision:"mediump"};let Gc=mS;const C_={uint8x2:{size:2,stride:2,normalised:!1},uint8x4:{size:4,stride:4,normalised:!1},sint8x2:{size:2,stride:2,normalised:!1},sint8x4:{size:4,stride:4,normalised:!1},unorm8x2:{size:2,stride:2,normalised:!0},unorm8x4:{size:4,stride:4,normalised:!0},snorm8x2:{size:2,stride:2,normalised:!0},snorm8x4:{size:4,stride:4,normalised:!0},uint16x2:{size:2,stride:4,normalised:!1},uint16x4:{size:4,stride:8,normalised:!1},sint16x2:{size:2,stride:4,normalised:!1},sint16x4:{size:4,stride:8,normalised:!1},unorm16x2:{size:2,stride:4,normalised:!0},unorm16x4:{size:4,stride:8,normalised:!0},snorm16x2:{size:2,stride:4,normalised:!0},snorm16x4:{size:4,stride:8,normalised:!0},float16x2:{size:2,stride:4,normalised:!1},float16x4:{size:4,stride:8,normalised:!1},float32:{size:1,stride:4,normalised:!1},float32x2:{size:2,stride:8,normalised:!1},float32x3:{size:3,stride:12,normalised:!1},float32x4:{size:4,stride:16,normalised:!1},uint32:{size:1,stride:4,normalised:!1},uint32x2:{size:2,stride:8,normalised:!1},uint32x3:{size:3,stride:12,normalised:!1},uint32x4:{size:4,stride:16,normalised:!1},sint32:{size:1,stride:4,normalised:!1},sint32x2:{size:2,stride:8,normalised:!1},sint32x3:{size:3,stride:12,normalised:!1},sint32x4:{size:4,stride:16,normalised:!1}};function kk(t){return C_[t]??C_.float32}const Rk={f32:"float32","vec2<f32>":"float32x2","vec3<f32>":"float32x3","vec4<f32>":"float32x4",vec2f:"float32x2",vec3f:"float32x3",vec4f:"float32x4",i32:"sint32","vec2<i32>":"sint32x2","vec3<i32>":"sint32x3","vec4<i32>":"sint32x4",u32:"uint32","vec2<u32>":"uint32x2","vec3<u32>":"uint32x3","vec4<u32>":"uint32x4",bool:"uint32","vec2<bool>":"uint32x2","vec3<bool>":"uint32x3","vec4<bool>":"uint32x4"};function Ok({source:t,entryPoint:e}){const i={},s=t.indexOf(`fn ${e}`);if(s!==-1){const a=t.indexOf("->",s);if(a!==-1){const l=t.substring(s,a),c=/@location\((\d+)\)\s+([a-zA-Z0-9_]+)\s*:\s*([a-zA-Z0-9_<>]+)(?:,|\s|$)/g;let h;for(;(h=c.exec(l))!==null;){const f=Rk[h[3]]??"float32";i[h[2]]={location:parseInt(h[1],10),format:f,stride:kk(f).stride,offset:0,instance:!1,start:0}}}}return i}function Fd(t){const e=/(^|[^/])@(group|binding)\(\d+\)[^;]+;/g,i=/@group\((\d+)\)/,s=/@binding\((\d+)\)/,a=/var(<[^>]+>)? (\w+)/,l=/:\s*(\w+)/,c=/struct\s+(\w+)\s*{([^}]+)}/g,h=/(\w+)\s*:\s*([\w\<\>]+)/g,f=/struct\s+(\w+)/,y=t.match(e)?.map(g=>({group:parseInt(g.match(i)[1],10),binding:parseInt(g.match(s)[1],10),name:g.match(a)[2],isUniform:g.match(a)[1]==="<uniform>",type:g.match(l)[1]}));if(!y)return{groups:[],structs:[]};const m=t.match(c)?.map(g=>{const v=g.match(f)[1],b=g.match(h).reduce((w,A)=>{const[x,T]=A.split(":");return w[x.trim()]=T.trim(),w},{});return b?{name:v,members:b}:null}).filter(({name:g})=>y.some(v=>v.type===g))??[];return{groups:y,structs:m}}var So=(t=>(t[t.VERTEX=1]="VERTEX",t[t.FRAGMENT=2]="FRAGMENT",t[t.COMPUTE=4]="COMPUTE",t))(So||{});function Dk({groups:t}){const e=[];for(let i=0;i<t.length;i++){const s=t[i];e[s.group]||(e[s.group]=[]),s.isUniform?e[s.group].push({binding:s.binding,visibility:So.VERTEX|So.FRAGMENT,buffer:{type:"uniform"}}):s.type==="sampler"?e[s.group].push({binding:s.binding,visibility:So.FRAGMENT,sampler:{type:"filtering"}}):s.type==="texture_2d"&&e[s.group].push({binding:s.binding,visibility:So.FRAGMENT,texture:{sampleType:"float",viewDimension:"2d",multisampled:!1}})}return e}function zk({groups:t}){const e=[];for(let i=0;i<t.length;i++){const s=t[i];e[s.group]||(e[s.group]={}),e[s.group][s.name]=s.binding}return e}function Uk(t,e){const i=new Set,s=new Set,a=[...t.structs,...e.structs].filter(c=>i.has(c.name)?!1:(i.add(c.name),!0)),l=[...t.groups,...e.groups].filter(c=>{const h=`${c.name}-${c.binding}`;return s.has(h)?!1:(s.add(h),!0)});return{structs:a,groups:l}}const oo=Object.create(null);class ll{constructor(e){this._layoutKey=0,this._attributeLocationsKey=0;const{fragment:i,vertex:s,layout:a,gpuLayout:l,name:c}=e;if(this.name=c,this.fragment=i,this.vertex=s,i.source===s.source){const h=Fd(i.source);this.structsAndGroups=h}else{const h=Fd(s.source),f=Fd(i.source);this.structsAndGroups=Uk(h,f)}this.layout=a??zk(this.structsAndGroups),this.gpuLayout=l??Dk(this.structsAndGroups),this.autoAssignGlobalUniforms=this.layout[0]?.globalUniforms!==void 0,this.autoAssignLocalUniforms=this.layout[1]?.localUniforms!==void 0,this._generateProgramKey()}_generateProgramKey(){const{vertex:e,fragment:i}=this,s=e.source+i.source+e.entryPoint+i.entryPoint;this._layoutKey=Bp(s,"program")}get attributeData(){return this._attributeData??(this._attributeData=Ok(this.vertex)),this._attributeData}destroy(){this.gpuLayout=null,this.layout=null,this.structsAndGroups=null,this.fragment=null,this.vertex=null,oo[this._cacheKey]=null}static from(e){const i=`${e.vertex.source}:${e.fragment.source}:${e.fragment.entryPoint}:${e.vertex.entryPoint}`;return oo[i]||(oo[i]=new ll(e),oo[i]._cacheKey=i),oo[i]}}const gS=["f32","i32","vec2<f32>","vec3<f32>","vec4<f32>","mat2x2<f32>","mat3x3<f32>","mat4x4<f32>","mat3x2<f32>","mat4x2<f32>","mat2x3<f32>","mat4x3<f32>","mat2x4<f32>","mat3x4<f32>","vec2<i32>","vec3<i32>","vec4<i32>"],jk=gS.reduce((t,e)=>(t[e]=!0,t),{});function Pk(t,e){switch(t){case"f32":return 0;case"vec2<f32>":return new Float32Array(2*e);case"vec3<f32>":return new Float32Array(3*e);case"vec4<f32>":return new Float32Array(4*e);case"mat2x2<f32>":return new Float32Array([1,0,0,1]);case"mat3x3<f32>":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4x4<f32>":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const bS=class vS{constructor(e,i){this._touched=0,this.uid=lt("uniform"),this._resourceType="uniformGroup",this._resourceId=lt("resource"),this.isUniformGroup=!0,this._dirtyId=0,this.destroyed=!1,i={...vS.defaultOptions,...i},this.uniformStructures=e;const s={};for(const a in e){const l=e[a];if(l.name=a,l.size=l.size??1,!jk[l.type]){const c=l.type.match(/^array<(\w+(?:<\w+>)?),\s*(\d+)>$/);if(c){const[,h,f]=c;throw new Error(`Uniform type ${l.type} is not supported. Use type: '${h}', size: ${f} instead.`)}throw new Error(`Uniform type ${l.type} is not supported. Supported uniform types are: ${gS.join(", ")}`)}l.value??(l.value=Pk(l.type,l.size)),s[a]=l.value}this.uniforms=s,this._dirtyId=1,this.ubo=i.ubo,this.isStatic=i.isStatic,this._signature=Bp(Object.keys(s).map(a=>`${a}-${e[a].type}`).join("-"),"uniform-group")}update(){this._dirtyId++}};bS.defaultOptions={ubo:!1,isStatic:!1};let _S=bS;class pc{constructor(e){this.resources=Object.create(null),this._dirty=!0;let i=0;for(const s in e){const a=e[s];this.setResource(a,i++)}this._updateKey()}_updateKey(){if(!this._dirty)return;this._dirty=!1;const e=[];let i=0;for(const s in this.resources)e[i++]=this.resources[s]._resourceId;this._key=e.join("|")}setResource(e,i){const s=this.resources[i];e!==s&&(s&&e.off?.("change",this.onResourceChange,this),e.on?.("change",this.onResourceChange,this),this.resources[i]=e,this._dirty=!0)}getResource(e){return this.resources[e]}_touch(e,i){const s=this.resources;for(const a in s)s[a]._gcLastUsed=e,s[a]._touched=i}destroy(){const e=this.resources;for(const i in e)e[i]?.off?.("change",this.onResourceChange,this);this.resources=null}onResourceChange(e){if(this._dirty=!0,e.destroyed){const i=this.resources;for(const s in i)i[s]===e&&(i[s]=null)}else this._updateKey()}}var Ny=(t=>(t[t.WEBGL=1]="WEBGL",t[t.WEBGPU=2]="WEBGPU",t[t.BOTH=3]="BOTH",t))(Ny||{});class Hc extends is{constructor(e){super(),this.uid=lt("shader"),this._uniformBindMap=Object.create(null),this._ownedBindGroups=[],this._destroyed=!1;let{gpuProgram:i,glProgram:s,groups:a,resources:l,compatibleRenderers:c,groupMap:h}=e;this.gpuProgram=i,this.glProgram=s,c===void 0&&(c=0,i&&(c|=Ny.WEBGPU),s&&(c|=Ny.WEBGL)),this.compatibleRenderers=c;const f={};if(!l&&!a&&(l={}),l&&a)throw new Error("[Shader] Cannot have both resources and groups");if(!i&&a&&!h)throw new Error("[Shader] No group map or WebGPU shader provided - consider using resources instead.");if(!i&&a&&h)for(const y in h)for(const m in h[y]){const g=h[y][m];f[g]={group:y,binding:m,name:g}}else if(i&&a&&!h){const y=i.structsAndGroups.groups;h={},y.forEach(m=>{h[m.group]=h[m.group]||{},h[m.group][m.binding]=m.name,f[m.name]=m})}else if(l){a={},h={},i&&i.structsAndGroups.groups.forEach(g=>{h[g.group]=h[g.group]||{},h[g.group][g.binding]=g.name,f[g.name]=g});let y=0;for(const m in l)f[m]||(a[99]||(a[99]=new pc,this._ownedBindGroups.push(a[99])),f[m]={group:99,binding:y,name:m},h[99]=h[99]||{},h[99][y]=m,y++);for(const m in l){const g=m;let v=l[m];!v.source&&!v._resourceType&&(v=new _S(v));const b=f[g];b&&(a[b.group]||(a[b.group]=new pc,this._ownedBindGroups.push(a[b.group])),a[b.group].setResource(v,b.binding))}}this.groups=a,this._uniformBindMap=h,this.resources=this._buildResourceAccessor(a,f)}addResource(e,i,s){var a,l;(a=this._uniformBindMap)[i]||(a[i]={}),(l=this._uniformBindMap[i])[s]||(l[s]=e),this.groups[i]||(this.groups[i]=new pc,this._ownedBindGroups.push(this.groups[i]))}_buildResourceAccessor(e,i){const s={};for(const a in i){const l=i[a];Object.defineProperty(s,l.name,{get(){return e[l.group].getResource(l.binding)},set(c){e[l.group].setResource(c,l.binding)}})}return s}destroy(e=!1){this._destroyed||(this._destroyed=!0,this.emit("destroy",this),e&&(this.gpuProgram?.destroy(),this.glProgram?.destroy()),this.gpuProgram=null,this.glProgram=null,this.removeAllListeners(),this._uniformBindMap=null,this._ownedBindGroups.forEach(i=>{i.destroy()}),this._ownedBindGroups=null,this.resources=null,this.groups=null)}static from(e){const{gpu:i,gl:s,...a}=e;let l,c;return i&&(l=ll.from(i)),s&&(c=Gc.from(s)),new Hc({gpuProgram:l,glProgram:c,...a})}}const Bk={normal:0,add:1,multiply:2,screen:3,overlay:4,erase:5,"normal-npm":6,"add-npm":7,"screen-npm":8,min:9,max:10},Vd=0,Yd=1,Xd=2,Qd=3,Kd=4,Zd=5,Ly=class xS{constructor(){this.data=0,this.blendMode="normal",this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<Vd)}set blend(e){!!(this.data&1<<Vd)!==e&&(this.data^=1<<Vd)}get offsets(){return!!(this.data&1<<Yd)}set offsets(e){!!(this.data&1<<Yd)!==e&&(this.data^=1<<Yd)}set cullMode(e){if(e==="none"){this.culling=!1;return}this.culling=!0,this.clockwiseFrontFace=e==="front"}get cullMode(){return this.culling?this.clockwiseFrontFace?"front":"back":"none"}get culling(){return!!(this.data&1<<Xd)}set culling(e){!!(this.data&1<<Xd)!==e&&(this.data^=1<<Xd)}get depthTest(){return!!(this.data&1<<Qd)}set depthTest(e){!!(this.data&1<<Qd)!==e&&(this.data^=1<<Qd)}get depthMask(){return!!(this.data&1<<Zd)}set depthMask(e){!!(this.data&1<<Zd)!==e&&(this.data^=1<<Zd)}get clockwiseFrontFace(){return!!(this.data&1<<Kd)}set clockwiseFrontFace(e){!!(this.data&1<<Kd)!==e&&(this.data^=1<<Kd)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!=="none",this._blendMode=e,this._blendModeId=Bk[e]||0}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}toString(){return`[pixi.js/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const e=new xS;return e.depthTest=!1,e.blend=!0,e}};Ly.default2d=Ly.for2d();let Nk=Ly;const wS=class Iy extends Hc{constructor(e){e={...Iy.defaultOptions,...e},super(e),this.enabled=!0,this._state=Nk.for2d(),this.blendMode=e.blendMode,this.padding=e.padding,typeof e.antialias=="boolean"?this.antialias=e.antialias?"on":"off":this.antialias=e.antialias,this.resolution=e.resolution,this.blendRequired=e.blendRequired,this.clipToViewport=e.clipToViewport,this.addResource("uTexture",0,1),e.blendRequired&&this.addResource("uBackTexture",0,3)}apply(e,i,s,a){e.applyFilter(this,i,s,a)}get blendMode(){return this._state.blendMode}set blendMode(e){this._state.blendMode=e}static from(e){const{gpu:i,gl:s,...a}=e;let l,c;return i&&(l=ll.from(i)),s&&(c=Gc.from(s)),new Iy({gpuProgram:l,glProgram:c,...a})}};wS.defaultOptions={blendMode:"normal",resolution:1,padding:0,antialias:"off",blendRequired:!1,clipToViewport:!0};let Lk=wS;function k_(t,e,i=2){const s=e&&e.length,a=s?e[0]*i:t.length;let l=SS(t,0,a,i,!0);const c=[];if(!l||l.next===l.prev)return c;let h,f,y;if(s&&(l=$k(t,e,l,i)),t.length>80*i){h=t[0],f=t[1];let m=h,g=f;for(let v=i;v<a;v+=i){const b=t[v],w=t[v+1];b<h&&(h=b),w<f&&(f=w),b>m&&(m=b),w>g&&(g=w)}y=Math.max(m-h,g-f),y=y!==0?32767/y:0}return $o(l,c,i,h,f,y,0),c}function SS(t,e,i,s,a){let l;if(a===tR(t,e,i,s)>0)for(let c=e;c<i;c+=s)l=R_(c/s|0,t[c],t[c+1],l);else for(let c=i-s;c>=e;c-=s)l=R_(c/s|0,t[c],t[c+1],l);return l&&Jr(l,l.next)&&(Vo(l),l=l.next),l}function qs(t,e){if(!t)return t;e||(e=t);let i=t,s;do if(s=!1,!i.steiner&&(Jr(i,i.next)||We(i.prev,i,i.next)===0)){if(Vo(i),i=e=i.prev,i===i.next)break;s=!0}else i=i.next;while(s||i!==e);return e}function $o(t,e,i,s,a,l,c){if(!t)return;!c&&l&&Qk(t,s,a,l);let h=t;for(;t.prev!==t.next;){const f=t.prev,y=t.next;if(l?qk(t,s,a,l):Ik(t)){e.push(f.i,t.i,y.i),Vo(t),t=y.next,h=y.next;continue}if(t=y,t===h){c?c===1?(t=Gk(qs(t),e),$o(t,e,i,s,a,l,2)):c===2&&Hk(t,e,i,s,a,l):$o(qs(t),e,i,s,a,l,1);break}}}function Ik(t){const e=t.prev,i=t,s=t.next;if(We(e,i,s)>=0)return!1;const a=e.x,l=i.x,c=s.x,h=e.y,f=i.y,y=s.y,m=Math.min(a,l,c),g=Math.min(h,f,y),v=Math.max(a,l,c),b=Math.max(h,f,y);let w=s.next;for(;w!==e;){if(w.x>=m&&w.x<=v&&w.y>=g&&w.y<=b&&Ao(a,h,l,f,c,y,w.x,w.y)&&We(w.prev,w,w.next)>=0)return!1;w=w.next}return!0}function qk(t,e,i,s){const a=t.prev,l=t,c=t.next;if(We(a,l,c)>=0)return!1;const h=a.x,f=l.x,y=c.x,m=a.y,g=l.y,v=c.y,b=Math.min(h,f,y),w=Math.min(m,g,v),A=Math.max(h,f,y),x=Math.max(m,g,v),T=qy(b,w,e,i,s),C=qy(A,x,e,i,s);let S=t.prevZ,E=t.nextZ;for(;S&&S.z>=T&&E&&E.z<=C;){if(S.x>=b&&S.x<=A&&S.y>=w&&S.y<=x&&S!==a&&S!==c&&Ao(h,m,f,g,y,v,S.x,S.y)&&We(S.prev,S,S.next)>=0||(S=S.prevZ,E.x>=b&&E.x<=A&&E.y>=w&&E.y<=x&&E!==a&&E!==c&&Ao(h,m,f,g,y,v,E.x,E.y)&&We(E.prev,E,E.next)>=0))return!1;E=E.nextZ}for(;S&&S.z>=T;){if(S.x>=b&&S.x<=A&&S.y>=w&&S.y<=x&&S!==a&&S!==c&&Ao(h,m,f,g,y,v,S.x,S.y)&&We(S.prev,S,S.next)>=0)return!1;S=S.prevZ}for(;E&&E.z<=C;){if(E.x>=b&&E.x<=A&&E.y>=w&&E.y<=x&&E!==a&&E!==c&&Ao(h,m,f,g,y,v,E.x,E.y)&&We(E.prev,E,E.next)>=0)return!1;E=E.nextZ}return!0}function Gk(t,e){let i=t;do{const s=i.prev,a=i.next.next;!Jr(s,a)&&TS(s,i,i.next,a)&&Fo(s,a)&&Fo(a,s)&&(e.push(s.i,i.i,a.i),Vo(i),Vo(i.next),i=t=a),i=i.next}while(i!==t);return qs(i)}function Hk(t,e,i,s,a,l){let c=t;do{let h=c.next.next;for(;h!==c.prev;){if(c.i!==h.i&&Wk(c,h)){let f=ES(c,h);c=qs(c,c.next),f=qs(f,f.next),$o(c,e,i,s,a,l,0),$o(f,e,i,s,a,l,0);return}h=h.next}c=c.next}while(c!==t)}function $k(t,e,i,s){const a=[];for(let l=0,c=e.length;l<c;l++){const h=e[l]*s,f=l<c-1?e[l+1]*s:t.length,y=SS(t,h,f,s,!1);y===y.next&&(y.steiner=!0),a.push(Zk(y))}a.sort(Fk);for(let l=0;l<a.length;l++)i=Vk(a[l],i);return i}function Fk(t,e){let i=t.x-e.x;if(i===0&&(i=t.y-e.y,i===0)){const s=(t.next.y-t.y)/(t.next.x-t.x),a=(e.next.y-e.y)/(e.next.x-e.x);i=s-a}return i}function Vk(t,e){const i=Yk(t,e);if(!i)return e;const s=ES(i,t);return qs(s,s.next),qs(i,i.next)}function Yk(t,e){let i=e;const s=t.x,a=t.y;let l=-1/0,c;if(Jr(t,i))return i;do{if(Jr(t,i.next))return i.next;if(a<=i.y&&a>=i.next.y&&i.next.y!==i.y){const g=i.x+(a-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(g<=s&&g>l&&(l=g,c=i.x<i.next.x?i:i.next,g===s))return c}i=i.next}while(i!==e);if(!c)return null;const h=c,f=c.x,y=c.y;let m=1/0;i=c;do{if(s>=i.x&&i.x>=f&&s!==i.x&&AS(a<y?s:l,a,f,y,a<y?l:s,a,i.x,i.y)){const g=Math.abs(a-i.y)/(s-i.x);Fo(i,t)&&(g<m||g===m&&(i.x>c.x||i.x===c.x&&Xk(c,i)))&&(c=i,m=g)}i=i.next}while(i!==h);return c}function Xk(t,e){return We(t.prev,t,e.prev)<0&&We(e.next,t,t.next)<0}function Qk(t,e,i,s){let a=t;do a.z===0&&(a.z=qy(a.x,a.y,e,i,s)),a.prevZ=a.prev,a.nextZ=a.next,a=a.next;while(a!==t);a.prevZ.nextZ=null,a.prevZ=null,Kk(a)}function Kk(t){let e,i=1;do{let s=t,a;t=null;let l=null;for(e=0;s;){e++;let c=s,h=0;for(let y=0;y<i&&(h++,c=c.nextZ,!!c);y++);let f=i;for(;h>0||f>0&&c;)h!==0&&(f===0||!c||s.z<=c.z)?(a=s,s=s.nextZ,h--):(a=c,c=c.nextZ,f--),l?l.nextZ=a:t=a,a.prevZ=l,l=a;s=c}l.nextZ=null,i*=2}while(e>1);return t}function qy(t,e,i,s,a){return t=(t-i)*a|0,e=(e-s)*a|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function Zk(t){let e=t,i=t;do(e.x<i.x||e.x===i.x&&e.y<i.y)&&(i=e),e=e.next;while(e!==t);return i}function AS(t,e,i,s,a,l,c,h){return(a-c)*(e-h)>=(t-c)*(l-h)&&(t-c)*(s-h)>=(i-c)*(e-h)&&(i-c)*(l-h)>=(a-c)*(s-h)}function Ao(t,e,i,s,a,l,c,h){return!(t===c&&e===h)&&AS(t,e,i,s,a,l,c,h)}function Wk(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!Jk(t,e)&&(Fo(t,e)&&Fo(e,t)&&eR(t,e)&&(We(t.prev,t,e.prev)||We(t,e.prev,e))||Jr(t,e)&&We(t.prev,t,t.next)>0&&We(e.prev,e,e.next)>0)}function We(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function Jr(t,e){return t.x===e.x&&t.y===e.y}function TS(t,e,i,s){const a=Zu(We(t,e,i)),l=Zu(We(t,e,s)),c=Zu(We(i,s,t)),h=Zu(We(i,s,e));return!!(a!==l&&c!==h||a===0&&Ku(t,i,e)||l===0&&Ku(t,s,e)||c===0&&Ku(i,t,s)||h===0&&Ku(i,e,s))}function Ku(t,e,i){return e.x<=Math.max(t.x,i.x)&&e.x>=Math.min(t.x,i.x)&&e.y<=Math.max(t.y,i.y)&&e.y>=Math.min(t.y,i.y)}function Zu(t){return t>0?1:t<0?-1:0}function Jk(t,e){let i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&TS(i,i.next,t,e))return!0;i=i.next}while(i!==t);return!1}function Fo(t,e){return We(t.prev,t,t.next)<0?We(t,e,t.next)>=0&&We(t,t.prev,e)>=0:We(t,e,t.prev)<0||We(t,t.next,e)<0}function eR(t,e){let i=t,s=!1;const a=(t.x+e.x)/2,l=(t.y+e.y)/2;do i.y>l!=i.next.y>l&&i.next.y!==i.y&&a<(i.next.x-i.x)*(l-i.y)/(i.next.y-i.y)+i.x&&(s=!s),i=i.next;while(i!==t);return s}function ES(t,e){const i=Gy(t.i,t.x,t.y),s=Gy(e.i,e.x,e.y),a=t.next,l=e.prev;return t.next=e,e.prev=t,i.next=a,a.prev=i,s.next=i,i.prev=s,l.next=s,s.prev=l,s}function R_(t,e,i,s){const a=Gy(t,e,i);return s?(a.next=s.next,a.prev=s,s.next.prev=a,s.next=a):(a.prev=a,a.next=a),a}function Vo(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Gy(t,e,i){return{i:t,x:e,y:i,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function tR(t,e,i,s){let a=0;for(let l=e,c=i-s;l<i;l+=s)a+=(t[c]-t[l])*(t[l+1]+t[c+1]),c=l;return a}const nR=k_.default||k_,O_=[{offset:0,color:"white"},{offset:1,color:"black"}],Np=class Hy{constructor(...e){this.uid=lt("fillGradient"),this._tick=0,this.type="linear",this.colorStops=[];let i=iR(e);i={...i.type==="radial"?Hy.defaultRadialOptions:Hy.defaultLinearOptions,...Pw(i)},this._textureSize=i.textureSize,this._wrapMode=i.wrapMode,i.type==="radial"?(this.center=i.center,this.outerCenter=i.outerCenter??this.center,this.innerRadius=i.innerRadius,this.outerRadius=i.outerRadius,this.scale=i.scale,this.rotation=i.rotation):(this.start=i.start,this.end=i.end),this.textureSpace=i.textureSpace,this.type=i.type,i.colorStops.forEach(a=>{this.addColorStop(a.offset,a.color)})}addColorStop(e,i){return this.colorStops.push({offset:e,color:$e.shared.setValue(i).toHexa()}),this}buildLinearGradient(){if(this.texture)return;let{x:e,y:i}=this.start,{x:s,y:a}=this.end,l=s-e,c=a-i;const h=l<0||c<0;if(this._wrapMode==="clamp-to-edge"){if(l<0){const x=e;e=s,s=x,l*=-1}if(c<0){const x=i;i=a,a=x,c*=-1}}const f=this.colorStops.length?this.colorStops:O_,y=this._textureSize,{canvas:m,context:g}=z_(y,1),v=h?g.createLinearGradient(this._textureSize,0,0,0):g.createLinearGradient(0,0,this._textureSize,0);D_(v,f),g.fillStyle=v,g.fillRect(0,0,y,1),this.texture=new je({source:new Tc({resource:m,addressMode:this._wrapMode})});const b=Math.sqrt(l*l+c*c),w=Math.atan2(c,l),A=new Oe;A.scale(b/y,1),A.rotate(w),A.translate(e,i),this.textureSpace==="local"&&A.scale(y,y),this.transform=A}buildGradient(){this.texture||this._tick++,this.type==="linear"?this.buildLinearGradient():this.buildRadialGradient()}buildRadialGradient(){if(this.texture)return;const e=this.colorStops.length?this.colorStops:O_,i=this._textureSize,{canvas:s,context:a}=z_(i,i),{x:l,y:c}=this.center,{x:h,y:f}=this.outerCenter,y=this.innerRadius,m=this.outerRadius,g=h-m,v=f-m,b=i/(m*2),w=(l-g)*b,A=(c-v)*b,x=a.createRadialGradient(w,A,y*b,(h-g)*b,(f-v)*b,m*b);D_(x,e),a.fillStyle=e[e.length-1].color,a.fillRect(0,0,i,i),a.fillStyle=x,a.translate(w,A),a.rotate(this.rotation),a.scale(1,this.scale),a.translate(-w,-A),a.fillRect(0,0,i,i),this.texture=new je({source:new Tc({resource:s,addressMode:this._wrapMode})});const T=new Oe;T.scale(1/b,1/b),T.translate(g,v),this.textureSpace==="local"&&T.scale(i,i),this.transform=T}destroy(){this.texture?.destroy(!0),this.texture=null,this.transform=null,this.colorStops=[],this.start=null,this.end=null,this.center=null,this.outerCenter=null}get styleKey(){return`fill-gradient-${this.uid}-${this._tick}`}};Np.defaultLinearOptions={start:{x:0,y:0},end:{x:0,y:1},colorStops:[],textureSpace:"local",type:"linear",textureSize:256,wrapMode:"clamp-to-edge"};Np.defaultRadialOptions={center:{x:.5,y:.5},innerRadius:0,outerRadius:.5,colorStops:[],scale:1,textureSpace:"local",type:"radial",textureSize:256,wrapMode:"clamp-to-edge"};let ul=Np;function D_(t,e){for(let i=0;i<e.length;i++){const s=e[i];t.addColorStop(s.offset,s.color)}}function z_(t,e){const i=ol.get().createCanvas(t,e),s=i.getContext("2d");return{canvas:i,context:s}}function iR(t){let e=t[0]??{};return(typeof e=="number"||t[1])&&(Xe("8.5.2","use options object instead"),e={type:"linear",start:{x:t[0],y:t[1]},end:{x:t[2],y:t[3]},textureSpace:t[4],textureSize:t[5]??ul.defaultLinearOptions.textureSize}),e}const U_={repeat:{addressModeU:"repeat",addressModeV:"repeat"},"repeat-x":{addressModeU:"repeat",addressModeV:"clamp-to-edge"},"repeat-y":{addressModeU:"clamp-to-edge",addressModeV:"repeat"},"no-repeat":{addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}};class sR{constructor(e,i){this.uid=lt("fillPattern"),this._tick=0,this.transform=new Oe,this.texture=e,this.transform.scale(1/e.frame.width,1/e.frame.height),i&&(e.source.style.addressModeU=U_[i].addressModeU,e.source.style.addressModeV=U_[i].addressModeV)}setTransform(e){const i=this.texture;this.transform.copyFrom(e),this.transform.invert(),this.transform.scale(1/i.frame.width,1/i.frame.height),this._tick++}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture=e,this._tick++)}get styleKey(){return`fill-pattern-${this.uid}-${this._tick}`}destroy(){this.texture.destroy(!0),this.texture=null}}var Wd,j_;function rR(){if(j_)return Wd;j_=1,Wd=i;var t={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},e=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function i(l){var c=[];return l.replace(e,function(h,f,y){var m=f.toLowerCase();for(y=a(y),m=="m"&&y.length>2&&(c.push([f].concat(y.splice(0,2))),m="l",f=f=="m"?"l":"L");;){if(y.length==t[m])return y.unshift(f),c.push(y);if(y.length<t[m])throw new Error("malformed path data");c.push([f].concat(y.splice(0,t[m])))}}),c}var s=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function a(l){var c=l.match(s);return c?c.map(Number):[]}return Wd}var aR=rR();const oR=xi(aR);function lR(t,e){const i=oR(t),s=[];let a=null,l=0,c=0;for(let h=0;h<i.length;h++){const f=i[h],y=f[0],m=f;switch(y){case"M":l=m[1],c=m[2],e.moveTo(l,c);break;case"m":l+=m[1],c+=m[2],e.moveTo(l,c);break;case"H":l=m[1],e.lineTo(l,c);break;case"h":l+=m[1],e.lineTo(l,c);break;case"V":c=m[1],e.lineTo(l,c);break;case"v":c+=m[1],e.lineTo(l,c);break;case"L":l=m[1],c=m[2],e.lineTo(l,c);break;case"l":l+=m[1],c+=m[2],e.lineTo(l,c);break;case"C":l=m[5],c=m[6],e.bezierCurveTo(m[1],m[2],m[3],m[4],l,c);break;case"c":e.bezierCurveTo(l+m[1],c+m[2],l+m[3],c+m[4],l+m[5],c+m[6]),l+=m[5],c+=m[6];break;case"S":l=m[3],c=m[4],e.bezierCurveToShort(m[1],m[2],l,c);break;case"s":e.bezierCurveToShort(l+m[1],c+m[2],l+m[3],c+m[4]),l+=m[3],c+=m[4];break;case"Q":l=m[3],c=m[4],e.quadraticCurveTo(m[1],m[2],l,c);break;case"q":e.quadraticCurveTo(l+m[1],c+m[2],l+m[3],c+m[4]),l+=m[3],c+=m[4];break;case"T":l=m[1],c=m[2],e.quadraticCurveToShort(l,c);break;case"t":l+=m[1],c+=m[2],e.quadraticCurveToShort(l,c);break;case"A":l=m[6],c=m[7],e.arcToSvg(m[1],m[2],m[3],m[4],m[5],l,c);break;case"a":l+=m[6],c+=m[7],e.arcToSvg(m[1],m[2],m[3],m[4],m[5],l,c);break;case"Z":case"z":e.closePath(),s.length>0&&(a=s.pop(),a?(l=a.startX,c=a.startY):(l=0,c=0)),a=null;break;default:ln(`Unknown SVG path command: ${y}`)}y!=="Z"&&y!=="z"&&a===null&&(a={startX:l,startY:c},s.push(a))}return e}class Lp{constructor(e=0,i=0,s=0){this.type="circle",this.x=e,this.y=i,this.radius=s}clone(){return new Lp(this.x,this.y,this.radius)}contains(e,i){if(this.radius<=0)return!1;const s=this.radius*this.radius;let a=this.x-e,l=this.y-i;return a*=a,l*=l,a+l<=s}strokeContains(e,i,s,a=.5){if(this.radius===0)return!1;const l=this.x-e,c=this.y-i,h=this.radius,f=(1-a)*s,y=Math.sqrt(l*l+c*c);return y<=h+f&&y>h-(s-f)}getBounds(e){return e||(e=new mt),e.x=this.x-this.radius,e.y=this.y-this.radius,e.width=this.radius*2,e.height=this.radius*2,e}copyFrom(e){return this.x=e.x,this.y=e.y,this.radius=e.radius,this}copyTo(e){return e.copyFrom(this),e}toString(){return`[pixi.js/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class Ip{constructor(e=0,i=0,s=0,a=0){this.type="ellipse",this.x=e,this.y=i,this.halfWidth=s,this.halfHeight=a}clone(){return new Ip(this.x,this.y,this.halfWidth,this.halfHeight)}contains(e,i){if(this.halfWidth<=0||this.halfHeight<=0)return!1;let s=(e-this.x)/this.halfWidth,a=(i-this.y)/this.halfHeight;return s*=s,a*=a,s+a<=1}strokeContains(e,i,s,a=.5){const{halfWidth:l,halfHeight:c}=this;if(l<=0||c<=0)return!1;const h=s*(1-a),f=s-h,y=l-f,m=c-f,g=l+h,v=c+h,b=e-this.x,w=i-this.y,A=b*b/(y*y)+w*w/(m*m),x=b*b/(g*g)+w*w/(v*v);return A>1&&x<=1}getBounds(e){return e||(e=new mt),e.x=this.x-this.halfWidth,e.y=this.y-this.halfHeight,e.width=this.halfWidth*2,e.height=this.halfHeight*2,e}copyFrom(e){return this.x=e.x,this.y=e.y,this.halfWidth=e.halfWidth,this.halfHeight=e.halfHeight,this}copyTo(e){return e.copyFrom(this),e}toString(){return`[pixi.js/math:Ellipse x=${this.x} y=${this.y} halfWidth=${this.halfWidth} halfHeight=${this.halfHeight}]`}}function uR(t,e,i,s,a,l){const c=t-i,h=e-s,f=a-i,y=l-s,m=c*f+h*y,g=f*f+y*y;let v=-1;g!==0&&(v=m/g);let b,w;v<0?(b=i,w=s):v>1?(b=a,w=l):(b=i+v*f,w=s+v*y);const A=t-b,x=e-w;return A*A+x*x}let cR,hR;class Uo{constructor(...e){this.type="polygon";let i=Array.isArray(e[0])?e[0]:e;if(typeof i[0]!="number"){const s=[];for(let a=0,l=i.length;a<l;a++)s.push(i[a].x,i[a].y);i=s}this.points=i,this.closePath=!0}isClockwise(){let e=0;const i=this.points,s=i.length;for(let a=0;a<s;a+=2){const l=i[a],c=i[a+1],h=i[(a+2)%s],f=i[(a+3)%s];e+=(h-l)*(f+c)}return e<0}containsPolygon(e){const i=this.getBounds(cR),s=e.getBounds(hR);if(!i.containsRect(s))return!1;const a=e.points;for(let l=0;l<a.length;l+=2){const c=a[l],h=a[l+1];if(!this.contains(c,h))return!1}return!0}clone(){const e=this.points.slice(),i=new Uo(e);return i.closePath=this.closePath,i}contains(e,i){let s=!1;const a=this.points.length/2;for(let l=0,c=a-1;l<a;c=l++){const h=this.points[l*2],f=this.points[l*2+1],y=this.points[c*2],m=this.points[c*2+1];f>i!=m>i&&e<(y-h)*((i-f)/(m-f))+h&&(s=!s)}return s}strokeContains(e,i,s,a=.5){const l=s*s,c=l*(1-a),h=l-c,{points:f}=this,y=f.length-(this.closePath?0:2);for(let m=0;m<y;m+=2){const g=f[m],v=f[m+1],b=f[(m+2)%f.length],w=f[(m+3)%f.length],A=uR(e,i,g,v,b,w),x=Math.sign((b-g)*(i-v)-(w-v)*(e-g));if(A<=(x<0?h:c))return!0}return!1}getBounds(e){e||(e=new mt);const i=this.points;let s=1/0,a=-1/0,l=1/0,c=-1/0;for(let h=0,f=i.length;h<f;h+=2){const y=i[h],m=i[h+1];s=y<s?y:s,a=y>a?y:a,l=m<l?m:l,c=m>c?m:c}return e.x=s,e.width=a-s,e.y=l,e.height=c-l,e}copyFrom(e){return this.points=e.points.slice(),this.closePath=e.closePath,this}copyTo(e){return e.copyFrom(this),e}toString(){return`[pixi.js/math:PolygoncloseStroke=${this.closePath}points=${this.points.reduce((e,i)=>`${e}, ${i}`,"")}]`}get lastX(){return this.points[this.points.length-2]}get lastY(){return this.points[this.points.length-1]}get x(){return Xe("8.11.0","Polygon.lastX is deprecated, please use Polygon.lastX instead."),this.points[this.points.length-2]}get y(){return Xe("8.11.0","Polygon.y is deprecated, please use Polygon.lastY instead."),this.points[this.points.length-1]}get startX(){return this.points[0]}get startY(){return this.points[1]}}const Wu=(t,e,i,s,a,l,c)=>{const h=t-i,f=e-s,y=Math.sqrt(h*h+f*f);return y>=a-l&&y<=a+c};class qp{constructor(e=0,i=0,s=0,a=0,l=20){this.type="roundedRectangle",this.x=e,this.y=i,this.width=s,this.height=a,this.radius=l}getBounds(e){return e||(e=new mt),e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}clone(){return new qp(this.x,this.y,this.width,this.height,this.radius)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.copyFrom(this),e}contains(e,i){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&i>=this.y&&i<=this.y+this.height){const s=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(i>=this.y+s&&i<=this.y+this.height-s||e>=this.x+s&&e<=this.x+this.width-s)return!0;let a=e-(this.x+s),l=i-(this.y+s);const c=s*s;if(a*a+l*l<=c||(a=e-(this.x+this.width-s),a*a+l*l<=c)||(l=i-(this.y+this.height-s),a*a+l*l<=c)||(a=e-(this.x+s),a*a+l*l<=c))return!0}return!1}strokeContains(e,i,s,a=.5){const{x:l,y:c,width:h,height:f,radius:y}=this,m=s*(1-a),g=s-m,v=l+y,b=c+y,w=h-y*2,A=f-y*2,x=l+h,T=c+f;return(e>=l-m&&e<=l+g||e>=x-g&&e<=x+m)&&i>=b&&i<=b+A||(i>=c-m&&i<=c+g||i>=T-g&&i<=T+m)&&e>=v&&e<=v+w?!0:e<v&&i<b&&Wu(e,i,v,b,y,g,m)||e>x-y&&i<b&&Wu(e,i,x-y,b,y,g,m)||e>x-y&&i>T-y&&Wu(e,i,x-y,T-y,y,g,m)||e<v&&i>T-y&&Wu(e,i,v,T-y,y,g,m)}toString(){return`[pixi.js/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}const MS={};function fR(t,e,i){let s=2166136261;for(let a=0;a<e;a++)s^=t[a].uid,s=Math.imul(s,16777619),s>>>=0;return MS[s]||dR(t,e,s,i)}function dR(t,e,i,s){const a={};let l=0;for(let h=0;h<s;h++){const f=h<e?t[h]:je.EMPTY.source;a[l++]=f.source,a[l++]=f.style}const c=new pc(a);return MS[i]=c,c}class P_{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData),this.size=this.rawBinaryData.byteLength}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}get float64View(){return this._float64Array||(this._float64Array=new Float64Array(this.rawBinaryData)),this._float64Array}get bigUint64View(){return this._bigUint64Array||(this._bigUint64Array=new BigUint64Array(this.rawBinaryData)),this._bigUint64Array}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this.uint32View=null,this.float32View=null,this.uint16View=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._int32View=null,this._float64Array=null,this._bigUint64Array=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}function B_(t,e){const i=t.byteLength/8|0,s=new Float64Array(t,0,i);new Float64Array(e,0,i).set(s);const l=t.byteLength-i*8;if(l>0){const c=new Uint8Array(t,i*8,l);new Uint8Array(e,i*8,l).set(c)}}const yR={normal:"normal-npm",add:"add-npm",screen:"screen-npm"};var pR=(t=>(t[t.DISABLED=0]="DISABLED",t[t.RENDERING_MASK_ADD=1]="RENDERING_MASK_ADD",t[t.MASK_ACTIVE=2]="MASK_ACTIVE",t[t.INVERSE_MASK_ACTIVE=3]="INVERSE_MASK_ACTIVE",t[t.RENDERING_MASK_REMOVE=4]="RENDERING_MASK_REMOVE",t[t.NONE=5]="NONE",t))(pR||{});function N_(t,e){return e.alphaMode==="no-premultiply-alpha"&&yR[t]||t}const mR=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function gR(t){let e="";for(let i=0;i<t;++i)i>0&&(e+=`
else `),i<t-1&&(e+=`if(test == ${i}.0){}`);return e}function bR(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const i=e.createShader(e.FRAGMENT_SHADER);try{for(;;){const s=mR.replace(/%forloop%/gi,gR(t));if(e.shaderSource(i,s),e.compileShader(i),!e.getShaderParameter(i,e.COMPILE_STATUS))t=t/2|0;else break}}finally{e.deleteShader(i)}return t}let Rr=null;function vR(){if(Rr)return Rr;const t=pS();return Rr=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),Rr=bR(Rr,t),t.getExtension("WEBGL_lose_context")?.loseContext(),Rr}class _R{constructor(){this.ids=Object.create(null),this.textures=[],this.count=0}clear(){for(let e=0;e<this.count;e++){const i=this.textures[e];this.textures[e]=null,this.ids[i.uid]=null}this.count=0}}class xR{constructor(){this.renderPipeId="batch",this.action="startBatch",this.start=0,this.size=0,this.textures=new _R,this.blendMode="normal",this.topology="triangle-strip",this.canBundle=!0}destroy(){this.textures=null,this.gpuBindGroup=null,this.bindGroup=null,this.batcher=null}}const jo=[];let Ec=0;jp.register({clear:()=>{if(jo.length>0)for(const t of jo)t&&t.destroy();jo.length=0,Ec=0}});function L_(){return Ec>0?jo[--Ec]:new xR}function I_(t){jo[Ec++]=t}let lo=0;const CS=class kS{constructor(e){this.uid=lt("batcher"),this.dirty=!0,this.batchIndex=0,this.batches=[],this._elements=[],e={...kS.defaultOptions,...e},e.maxTextures||(Xe("v8.8.0","maxTextures is a required option for Batcher now, please pass it in the options"),e.maxTextures=vR());const{maxTextures:i,attributesInitialSize:s,indicesInitialSize:a}=e;this.attributeBuffer=new P_(s*4),this.indexBuffer=new Uint16Array(a),this.maxTextures=i}begin(){this.elementSize=0,this.elementStart=0,this.indexSize=0,this.attributeSize=0;for(let e=0;e<this.batchIndex;e++)I_(this.batches[e]);this.batchIndex=0,this._batchIndexStart=0,this._batchIndexSize=0,this.dirty=!0}add(e){this._elements[this.elementSize++]=e,e._indexStart=this.indexSize,e._attributeStart=this.attributeSize,e._batcher=this,this.indexSize+=e.indexSize,this.attributeSize+=e.attributeSize*this.vertexSize}checkAndUpdateTexture(e,i){const s=e._batch.textures.ids[i._source.uid];return!s&&s!==0?!1:(e._textureId=s,e.texture=i,!0)}updateElement(e){this.dirty=!0;const i=this.attributeBuffer;e.packAsQuad?this.packQuadAttributes(e,i.float32View,i.uint32View,e._attributeStart,e._textureId):this.packAttributes(e,i.float32View,i.uint32View,e._attributeStart,e._textureId)}break(e){const i=this._elements;if(!i[this.elementStart])return;let s=L_(),a=s.textures;a.clear();const l=i[this.elementStart];let c=N_(l.blendMode,l.texture._source),h=l.topology;this.attributeSize*4>this.attributeBuffer.size&&this._resizeAttributeBuffer(this.attributeSize*4),this.indexSize>this.indexBuffer.length&&this._resizeIndexBuffer(this.indexSize);const f=this.attributeBuffer.float32View,y=this.attributeBuffer.uint32View,m=this.indexBuffer;let g=this._batchIndexSize,v=this._batchIndexStart,b="startBatch";const w=this.maxTextures;for(let A=this.elementStart;A<this.elementSize;++A){const x=i[A];i[A]=null;const C=x.texture._source,S=N_(x.blendMode,C),E=c!==S||h!==x.topology;if(C._batchTick===lo&&!E){x._textureId=C._textureBindLocation,g+=x.indexSize,x.packAsQuad?(this.packQuadAttributes(x,f,y,x._attributeStart,x._textureId),this.packQuadIndex(m,x._indexStart,x._attributeStart/this.vertexSize)):(this.packAttributes(x,f,y,x._attributeStart,x._textureId),this.packIndex(x,m,x._indexStart,x._attributeStart/this.vertexSize)),x._batch=s;continue}C._batchTick=lo,(a.count>=w||E)&&(this._finishBatch(s,v,g-v,a,c,h,e,b),b="renderBatch",v=g,c=S,h=x.topology,s=L_(),a=s.textures,a.clear(),++lo),x._textureId=C._textureBindLocation=a.count,a.ids[C.uid]=a.count,a.textures[a.count++]=C,x._batch=s,g+=x.indexSize,x.packAsQuad?(this.packQuadAttributes(x,f,y,x._attributeStart,x._textureId),this.packQuadIndex(m,x._indexStart,x._attributeStart/this.vertexSize)):(this.packAttributes(x,f,y,x._attributeStart,x._textureId),this.packIndex(x,m,x._indexStart,x._attributeStart/this.vertexSize))}a.count>0&&(this._finishBatch(s,v,g-v,a,c,h,e,b),v=g,++lo),this.elementStart=this.elementSize,this._batchIndexStart=v,this._batchIndexSize=g}_finishBatch(e,i,s,a,l,c,h,f){e.gpuBindGroup=null,e.bindGroup=null,e.action=f,e.batcher=this,e.textures=a,e.blendMode=l,e.topology=c,e.start=i,e.size=s,++lo,this.batches[this.batchIndex++]=e,h.add(e)}finish(e){this.break(e)}ensureAttributeBuffer(e){e*4<=this.attributeBuffer.size||this._resizeAttributeBuffer(e*4)}ensureIndexBuffer(e){e<=this.indexBuffer.length||this._resizeIndexBuffer(e)}_resizeAttributeBuffer(e){const i=Math.max(e,this.attributeBuffer.size*2),s=new P_(i);B_(this.attributeBuffer.rawBinaryData,s.rawBinaryData),this.attributeBuffer=s}_resizeIndexBuffer(e){const i=this.indexBuffer;let s=Math.max(e,i.length*1.5);s+=s%2;const a=s>65535?new Uint32Array(s):new Uint16Array(s);if(a.BYTES_PER_ELEMENT!==i.BYTES_PER_ELEMENT)for(let l=0;l<i.length;l++)a[l]=i[l];else B_(i.buffer,a.buffer);this.indexBuffer=a}packQuadIndex(e,i,s){e[i]=s+0,e[i+1]=s+1,e[i+2]=s+2,e[i+3]=s+0,e[i+4]=s+2,e[i+5]=s+3}packIndex(e,i,s,a){const l=e.indices,c=e.indexSize,h=e.indexOffset,f=e.attributeOffset;for(let y=0;y<c;y++)i[s++]=a+l[y+h]-f}destroy(e={}){if(this.batches!==null){for(let i=0;i<this.batchIndex;i++)I_(this.batches[i]);this.batches=null,this.geometry.destroy(!0),this.geometry=null,e.shader&&(this.shader?.destroy(),this.shader=null);for(let i=0;i<this._elements.length;i++)this._elements[i]&&(this._elements[i]._batch=null);this._elements=null,this.indexBuffer=null,this.attributeBuffer.destroy(),this.attributeBuffer=null}}};CS.defaultOptions={maxTextures:null,attributesInitialSize:4,indicesInitialSize:6};let wR=CS;var Vt=(t=>(t[t.MAP_READ=1]="MAP_READ",t[t.MAP_WRITE=2]="MAP_WRITE",t[t.COPY_SRC=4]="COPY_SRC",t[t.COPY_DST=8]="COPY_DST",t[t.INDEX=16]="INDEX",t[t.VERTEX=32]="VERTEX",t[t.UNIFORM=64]="UNIFORM",t[t.STORAGE=128]="STORAGE",t[t.INDIRECT=256]="INDIRECT",t[t.QUERY_RESOLVE=512]="QUERY_RESOLVE",t[t.STATIC=1024]="STATIC",t))(Vt||{});let Yo=class extends is{constructor(e){let{data:i,size:s}=e;const{usage:a,label:l,shrinkToFit:c}=e;super(),this._gpuData=Object.create(null),this._gcLastUsed=-1,this.autoGarbageCollect=!0,this.uid=lt("buffer"),this._resourceType="buffer",this._resourceId=lt("resource"),this._touched=0,this._updateID=1,this._dataInt32=null,this.shrinkToFit=!0,this.destroyed=!1,i instanceof Array&&(i=new Float32Array(i)),this._data=i,s??(s=i?.byteLength);const h=!!i;this.descriptor={size:s,usage:a,mappedAtCreation:h,label:l},this.shrinkToFit=c??!0}get data(){return this._data}set data(e){this.setDataWithSize(e,e.length,!0)}get dataInt32(){return this._dataInt32||(this._dataInt32=new Int32Array(this.data.buffer)),this._dataInt32}get static(){return!!(this.descriptor.usage&Vt.STATIC)}set static(e){e?this.descriptor.usage|=Vt.STATIC:this.descriptor.usage&=~Vt.STATIC}setDataWithSize(e,i,s){if(this._updateID++,this._updateSize=i*e.BYTES_PER_ELEMENT,this._data===e){s&&this.emit("update",this);return}const a=this._data;if(this._data=e,this._dataInt32=null,!a||a.length!==e.length){!this.shrinkToFit&&a&&e.byteLength<a.byteLength?s&&this.emit("update",this):(this.descriptor.size=e.byteLength,this._resourceId=lt("resource"),this.emit("change",this));return}s&&this.emit("update",this)}update(e){this._updateSize=e??this._updateSize,this._updateID++,this.emit("update",this)}unload(){this.emit("unload",this);for(const e in this._gpuData)this._gpuData[e]?.destroy();this._gpuData=Object.create(null)}destroy(){this.destroyed=!0,this.unload(),this.emit("destroy",this),this.emit("change",this),this._data=null,this.descriptor=null,this.removeAllListeners()}};function RS(t,e){if(!(t instanceof Yo)){let i=e?Vt.INDEX:Vt.VERTEX;t instanceof Array&&(e?(t=new Uint32Array(t),i=Vt.INDEX|Vt.COPY_DST):(t=new Float32Array(t),i=Vt.VERTEX|Vt.COPY_DST)),t=new Yo({data:t,label:e?"index-mesh-buffer":"vertex-mesh-buffer",usage:i})}return t}function SR(t,e,i){const s=t.getAttribute(e);if(!s)return i.minX=0,i.minY=0,i.maxX=0,i.maxY=0,i;const a=s.buffer.data;let l=1/0,c=1/0,h=-1/0,f=-1/0;const y=a.BYTES_PER_ELEMENT,m=(s.offset||0)/y,g=(s.stride||8)/y;for(let v=m;v<a.length;v+=g){const b=a[v],w=a[v+1];b>h&&(h=b),w>f&&(f=w),b<l&&(l=b),w<c&&(c=w)}return i.minX=l,i.minY=c,i.maxX=h,i.maxY=f,i}function AR(t){return(t instanceof Yo||Array.isArray(t)||t.BYTES_PER_ELEMENT)&&(t={buffer:t}),t.buffer=RS(t.buffer,!1),t}class TR extends is{constructor(e={}){super(),this._gpuData=Object.create(null),this.autoGarbageCollect=!0,this._gcLastUsed=-1,this.uid=lt("geometry"),this._layoutKey=0,this.instanceCount=1,this._bounds=new Pn,this._boundsDirty=!0;const{attributes:i,indexBuffer:s,topology:a}=e;if(this.buffers=[],this.attributes={},i)for(const l in i)this.addAttribute(l,i[l]);this.instanceCount=e.instanceCount??1,s&&this.addIndex(s),this.topology=a||"triangle-list"}onBufferUpdate(){this._boundsDirty=!0,this.emit("update",this)}getAttribute(e){return this.attributes[e]}getIndex(){return this.indexBuffer}getBuffer(e){return this.getAttribute(e).buffer}getSize(){for(const e in this.attributes){const i=this.attributes[e];return i.buffer.data.length/(i.stride/4||i.size)}return 0}addAttribute(e,i){const s=AR(i);this.buffers.indexOf(s.buffer)===-1&&(this.buffers.push(s.buffer),s.buffer.on("update",this.onBufferUpdate,this),s.buffer.on("change",this.onBufferUpdate,this)),this.attributes[e]=s}addIndex(e){this.indexBuffer=RS(e,!0),this.buffers.push(this.indexBuffer)}get bounds(){return this._boundsDirty?(this._boundsDirty=!1,SR(this,"aPosition",this._bounds)):this._bounds}unload(){this.emit("unload",this);for(const e in this._gpuData)this._gpuData[e]?.destroy();this._gpuData=Object.create(null)}destroy(e=!1){this.emit("destroy",this),this.removeAllListeners(),e&&this.buffers.forEach(i=>i.destroy()),this.unload(),this.indexBuffer?.destroy(),this.attributes=null,this.buffers=null,this.indexBuffer=null,this._bounds=null}}const ER=new Float32Array(1),MR=new Uint32Array(1);class CR extends TR{constructor(){const i=new Yo({data:ER,label:"attribute-batch-buffer",usage:Vt.VERTEX|Vt.COPY_DST,shrinkToFit:!1}),s=new Yo({data:MR,label:"index-batch-buffer",usage:Vt.INDEX|Vt.COPY_DST,shrinkToFit:!1}),a=24;super({attributes:{aPosition:{buffer:i,format:"float32x2",stride:a,offset:0},aUV:{buffer:i,format:"float32x2",stride:a,offset:8},aColor:{buffer:i,format:"unorm8x4",stride:a,offset:16},aTextureIdAndRound:{buffer:i,format:"uint16x2",stride:a,offset:20}},indexBuffer:s})}}function q_(t,e,i){if(t)for(const s in t){const a=s.toLocaleLowerCase(),l=e[a];if(l){let c=t[s];s==="header"&&(c=c.replace(/@in\s+[^;]+;\s*/g,"").replace(/@out\s+[^;]+;\s*/g,"")),i&&l.push(`//----${i}----//`),l.push(c)}else ln(`${s} placement hook does not exist in shader`)}}const kR=/\{\{(.*?)\}\}/g;function G_(t){const e={};return(t.match(kR)?.map(s=>s.replace(/[{()}]/g,""))??[]).forEach(s=>{e[s]=[]}),e}function H_(t,e){let i;const s=/@in\s+([^;]+);/g;for(;(i=s.exec(t))!==null;)e.push(i[1])}function $_(t,e,i=!1){const s=[];H_(e,s),t.forEach(h=>{h.header&&H_(h.header,s)});const a=s;i&&a.sort();const l=a.map((h,f)=>`       @location(${f}) ${h},`).join(`
`);let c=e.replace(/@in\s+[^;]+;\s*/g,"");return c=c.replace("{{in}}",`
${l}
`),c}function F_(t,e){let i;const s=/@out\s+([^;]+);/g;for(;(i=s.exec(t))!==null;)e.push(i[1])}function RR(t){const i=/\b(\w+)\s*:/g.exec(t);return i?i[1]:""}function OR(t){const e=/@.*?\s+/g;return t.replace(e,"")}function DR(t,e){const i=[];F_(e,i),t.forEach(f=>{f.header&&F_(f.header,i)});let s=0;const a=i.sort().map(f=>f.indexOf("builtin")>-1?f:`@location(${s++}) ${f}`).join(`,
`),l=i.sort().map(f=>`       var ${OR(f)};`).join(`
`),c=`return VSOutput(
            ${i.sort().map(f=>` ${RR(f)}`).join(`,
`)});`;let h=e.replace(/@out\s+[^;]+;\s*/g,"");return h=h.replace("{{struct}}",`
${a}
`),h=h.replace("{{start}}",`
${l}
`),h=h.replace("{{return}}",`
${c}
`),h}function V_(t,e){let i=t;for(const s in e){const a=e[s];a.join(`
`).length?i=i.replace(`{{${s}}}`,`//-----${s} START-----//
${a.join(`
`)}
//----${s} FINISH----//`):i=i.replace(`{{${s}}}`,"")}return i}const Ji=Object.create(null),Jd=new Map;let zR=0;function UR({template:t,bits:e}){const i=OS(t,e);if(Ji[i])return Ji[i];const{vertex:s,fragment:a}=PR(t,e);return Ji[i]=DS(s,a,e),Ji[i]}function jR({template:t,bits:e}){const i=OS(t,e);return Ji[i]||(Ji[i]=DS(t.vertex,t.fragment,e)),Ji[i]}function PR(t,e){const i=e.map(c=>c.vertex).filter(c=>!!c),s=e.map(c=>c.fragment).filter(c=>!!c);let a=$_(i,t.vertex,!0);a=DR(i,a);const l=$_(s,t.fragment,!0);return{vertex:a,fragment:l}}function OS(t,e){return e.map(i=>(Jd.has(i)||Jd.set(i,zR++),Jd.get(i))).sort((i,s)=>i-s).join("-")+t.vertex+t.fragment}function DS(t,e,i){const s=G_(t),a=G_(e);return i.forEach(l=>{q_(l.vertex,s,l.name),q_(l.fragment,a,l.name)}),{vertex:V_(t,s),fragment:V_(e,a)}}const BR=`
    @in aPosition: vec2<f32>;
    @in aUV: vec2<f32>;

    @out @builtin(position) vPosition: vec4<f32>;
    @out vUV : vec2<f32>;
    @out vColor : vec4<f32>;

    {{header}}

    struct VSOutput {
        {{struct}}
    };

    @vertex
    fn main( {{in}} ) -> VSOutput {

        var worldTransformMatrix = globalUniforms.uWorldTransformMatrix;
        var modelMatrix = mat3x3<f32>(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        var position = aPosition;
        var uv = aUV;

        {{start}}

        vColor = vec4<f32>(1., 1., 1., 1.);

        {{main}}

        vUV = uv;

        var modelViewProjectionMatrix = globalUniforms.uProjectionMatrix * worldTransformMatrix * modelMatrix;

        vPosition =  vec4<f32>((modelViewProjectionMatrix *  vec3<f32>(position, 1.0)).xy, 0.0, 1.0);

        vColor *= globalUniforms.uWorldColorAlpha;

        {{end}}

        {{return}}
    };
`,NR=`
    @in vUV : vec2<f32>;
    @in vColor : vec4<f32>;

    {{header}}

    @fragment
    fn main(
        {{in}}
      ) -> @location(0) vec4<f32> {

        {{start}}

        var outColor:vec4<f32>;

        {{main}}

        var finalColor:vec4<f32> = outColor * vColor;

        {{end}}

        return finalColor;
      };
`,LR=`
    in vec2 aPosition;
    in vec2 aUV;

    out vec4 vColor;
    out vec2 vUV;

    {{header}}

    void main(void){

        mat3 worldTransformMatrix = uWorldTransformMatrix;
        mat3 modelMatrix = mat3(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        vec2 position = aPosition;
        vec2 uv = aUV;

        {{start}}

        vColor = vec4(1.);

        {{main}}

        vUV = uv;

        mat3 modelViewProjectionMatrix = uProjectionMatrix * worldTransformMatrix * modelMatrix;

        gl_Position = vec4((modelViewProjectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);

        vColor *= uWorldColorAlpha;

        {{end}}
    }
`,IR=`

    in vec4 vColor;
    in vec2 vUV;

    out vec4 finalColor;

    {{header}}

    void main(void) {

        {{start}}

        vec4 outColor;

        {{main}}

        finalColor = outColor * vColor;

        {{end}}
    }
`,qR={name:"global-uniforms-bit",vertex:{header:`
        struct GlobalUniforms {
            uProjectionMatrix:mat3x3<f32>,
            uWorldTransformMatrix:mat3x3<f32>,
            uWorldColorAlpha: vec4<f32>,
            uResolution: vec2<f32>,
        }

        @group(0) @binding(0) var<uniform> globalUniforms : GlobalUniforms;
        `}},GR={name:"global-uniforms-bit",vertex:{header:`
          uniform mat3 uProjectionMatrix;
          uniform mat3 uWorldTransformMatrix;
          uniform vec4 uWorldColorAlpha;
          uniform vec2 uResolution;
        `}};function HR({bits:t,name:e}){const i=UR({template:{fragment:NR,vertex:BR},bits:[qR,...t]});return ll.from({name:e,vertex:{source:i.vertex,entryPoint:"main"},fragment:{source:i.fragment,entryPoint:"main"}})}function $R({bits:t,name:e}){return new Gc({name:e,...jR({template:{vertex:LR,fragment:IR},bits:[GR,...t]})})}const FR={name:"color-bit",vertex:{header:`
            @in aColor: vec4<f32>;
        `,main:`
            vColor *= vec4<f32>(aColor.rgb * aColor.a, aColor.a);
        `}},VR={name:"color-bit",vertex:{header:`
            in vec4 aColor;
        `,main:`
            vColor *= vec4(aColor.rgb * aColor.a, aColor.a);
        `}},ey={};function YR(t){const e=[];if(t===1)e.push("@group(1) @binding(0) var textureSource1: texture_2d<f32>;"),e.push("@group(1) @binding(1) var textureSampler1: sampler;");else{let i=0;for(let s=0;s<t;s++)e.push(`@group(1) @binding(${i++}) var textureSource${s+1}: texture_2d<f32>;`),e.push(`@group(1) @binding(${i++}) var textureSampler${s+1}: sampler;`)}return e.join(`
`)}function XR(t){const e=[];if(t===1)e.push("outColor = textureSampleGrad(textureSource1, textureSampler1, vUV, uvDx, uvDy);");else{e.push("switch vTextureId {");for(let i=0;i<t;i++)i===t-1?e.push("  default:{"):e.push(`  case ${i}:{`),e.push(`      outColor = textureSampleGrad(textureSource${i+1}, textureSampler${i+1}, vUV, uvDx, uvDy);`),e.push("      break;}");e.push("}")}return e.join(`
`)}function QR(t){return ey[t]||(ey[t]={name:"texture-batch-bit",vertex:{header:`
                @in aTextureIdAndRound: vec2<u32>;
                @out @interpolate(flat) vTextureId : u32;
            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1)
                {
                    vPosition = vec4<f32>(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
                }
            `},fragment:{header:`
                @in @interpolate(flat) vTextureId: u32;

                ${YR(t)}
            `,main:`
                var uvDx = dpdx(vUV);
                var uvDy = dpdy(vUV);

                ${XR(t)}
            `}}),ey[t]}const ty={};function KR(t){const e=[];for(let i=0;i<t;i++)i>0&&e.push("else"),i<t-1&&e.push(`if(vTextureId < ${i}.5)`),e.push("{"),e.push(`	outColor = texture(uTextures[${i}], vUV);`),e.push("}");return e.join(`
`)}function ZR(t){return ty[t]||(ty[t]={name:"texture-batch-bit",vertex:{header:`
                in vec2 aTextureIdAndRound;
                out float vTextureId;

            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1.)
                {
                    gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
                }
            `},fragment:{header:`
                in float vTextureId;

                uniform sampler2D uTextures[${t}];

            `,main:`

                ${KR(t)}
            `}}),ty[t]}const WR={name:"round-pixels-bit",vertex:{header:`
            fn roundPixels(position: vec2<f32>, targetSize: vec2<f32>) -> vec2<f32>
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},JR={name:"round-pixels-bit",vertex:{header:`
            vec2 roundPixels(vec2 position, vec2 targetSize)
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},Y_={};function eO(t){let e=Y_[t];if(e)return e;const i=new Int32Array(t);for(let s=0;s<t;s++)i[s]=s;return e=Y_[t]=new _S({uTextures:{value:i,type:"i32",size:t}},{isStatic:!0}),e}class X_ extends Hc{constructor(e){const i=$R({name:"batch",bits:[VR,ZR(e),JR]}),s=HR({name:"batch",bits:[FR,QR(e),WR]});super({glProgram:i,gpuProgram:s,resources:{batchSamplers:eO(e)}}),this.maxTextures=e}}let uo=null;const zS=class US extends wR{constructor(e){super(e),this.geometry=new CR,this.name=US.extension.name,this.vertexSize=6,uo??(uo=new X_(e.maxTextures)),this.shader=uo}packAttributes(e,i,s,a,l){const c=l<<16|e.roundPixels&65535,h=e.transform,f=h.a,y=h.b,m=h.c,g=h.d,v=h.tx,b=h.ty,{positions:w,uvs:A}=e,x=e.color,T=e.attributeOffset,C=T+e.attributeSize;for(let S=T;S<C;S++){const E=S*2,z=w[E],O=w[E+1];i[a++]=f*z+m*O+v,i[a++]=g*O+y*z+b,i[a++]=A[E],i[a++]=A[E+1],s[a++]=x,s[a++]=c}}packQuadAttributes(e,i,s,a,l){const c=e.texture,h=e.transform,f=h.a,y=h.b,m=h.c,g=h.d,v=h.tx,b=h.ty,w=e.bounds,A=w.maxX,x=w.minX,T=w.maxY,C=w.minY,S=c.uvs,E=e.color,z=l<<16|e.roundPixels&65535;i[a+0]=f*x+m*C+v,i[a+1]=g*C+y*x+b,i[a+2]=S.x0,i[a+3]=S.y0,s[a+4]=E,s[a+5]=z,i[a+6]=f*A+m*C+v,i[a+7]=g*C+y*A+b,i[a+8]=S.x1,i[a+9]=S.y1,s[a+10]=E,s[a+11]=z,i[a+12]=f*A+m*T+v,i[a+13]=g*T+y*A+b,i[a+14]=S.x2,i[a+15]=S.y2,s[a+16]=E,s[a+17]=z,i[a+18]=f*x+m*T+v,i[a+19]=g*T+y*x+b,i[a+20]=S.x3,i[a+21]=S.y3,s[a+22]=E,s[a+23]=z}_updateMaxTextures(e){this.shader.maxTextures!==e&&(uo=new X_(e),this.shader=uo)}destroy(){this.shader=null,super.destroy()}};zS.extension={type:[Ke.Batcher],name:"default"};let tO=zS;class nO{constructor(e){this.items=Object.create(null);const{renderer:i,type:s,onUnload:a,priority:l,name:c}=e;this._renderer=i,i.gc.addResourceHash(this,"items",s,l??0),this._onUnload=a,this.name=c}add(e){return this.items[e.uid]?!1:(this.items[e.uid]=e,e.once("unload",this.remove,this),e._gcLastUsed=this._renderer.gc.now,!0)}remove(e,...i){if(!this.items[e.uid])return;const s=e._gpuData[this._renderer.uid];s&&(this._onUnload?.(e,...i),s.destroy(),e._gpuData[this._renderer.uid]=null,this.items[e.uid]=null)}removeAll(...e){Object.values(this.items).forEach(i=>i&&this.remove(i,...e))}destroy(...e){this.removeAll(...e),this.items=Object.create(null),this._renderer=null,this._onUnload=null}}function iO(t,e,i,s,a,l,c,h=null){let f=0;i*=e,a*=l;const y=h.a,m=h.b,g=h.c,v=h.d,b=h.tx,w=h.ty;for(;f<c;){const A=t[i],x=t[i+1];s[a]=y*A+g*x+b,s[a+1]=m*A+v*x+w,a+=l,i+=e,f++}}function sO(t,e,i,s){let a=0;for(e*=i;a<s;)t[e]=0,t[e+1]=0,e+=i,a++}function jS(t,e,i,s,a){const l=e.a,c=e.b,h=e.c,f=e.d,y=e.tx,m=e.ty;i||(i=0),s||(s=2),a||(a=t.length/s-i);let g=i*s;for(let v=0;v<a;v++){const b=t[g],w=t[g+1];t[g]=l*b+h*w+y,t[g+1]=c*b+f*w+m,g+=s}}const rO=new Oe;class PS{constructor(){this.packAsQuad=!1,this.batcherName="default",this.topology="triangle-list",this.applyTransform=!0,this.roundPixels=0,this._batcher=null,this._batch=null}get uvs(){return this.geometryData.uvs}get positions(){return this.geometryData.vertices}get indices(){return this.geometryData.indices}get blendMode(){return this.renderable&&this.applyTransform?this.renderable.groupBlendMode:"normal"}get color(){const e=this.baseColor,i=e>>16|e&65280|(e&255)<<16,s=this.renderable;return s?Yw(i,s.groupColor)+(this.alpha*s.groupAlpha*255<<24):i+(this.alpha*255<<24)}get transform(){return this.renderable?.groupTransform||rO}copyTo(e){e.indexOffset=this.indexOffset,e.indexSize=this.indexSize,e.attributeOffset=this.attributeOffset,e.attributeSize=this.attributeSize,e.baseColor=this.baseColor,e.alpha=this.alpha,e.texture=this.texture,e.geometryData=this.geometryData,e.topology=this.topology}reset(){this.applyTransform=!0,this.renderable=null,this.topology="triangle-list"}destroy(){this.renderable=null,this.texture=null,this.geometryData=null,this._batcher=null,this._batch=null}}const Xo={extension:{type:Ke.ShapeBuilder,name:"circle"},build(t,e){let i,s,a,l,c,h;if(t.type==="circle"){const E=t;if(c=h=E.radius,c<=0)return!1;i=E.x,s=E.y,a=l=0}else if(t.type==="ellipse"){const E=t;if(c=E.halfWidth,h=E.halfHeight,c<=0||h<=0)return!1;i=E.x,s=E.y,a=l=0}else{const E=t,z=E.width/2,O=E.height/2;i=E.x+z,s=E.y+O,c=h=Math.max(0,Math.min(E.radius,Math.min(z,O))),a=z-c,l=O-h}if(a<0||l<0)return!1;const f=Math.ceil(2.3*Math.sqrt(c+h)),y=f*8+(a?4:0)+(l?4:0);if(y===0)return!1;if(f===0)return e[0]=e[6]=i+a,e[1]=e[3]=s+l,e[2]=e[4]=i-a,e[5]=e[7]=s-l,!0;let m=0,g=f*4+(a?2:0)+2,v=g,b=y,w=a+c,A=l,x=i+w,T=i-w,C=s+A;if(e[m++]=x,e[m++]=C,e[--g]=C,e[--g]=T,l){const E=s-A;e[v++]=T,e[v++]=E,e[--b]=E,e[--b]=x}for(let E=1;E<f;E++){const z=Math.PI/2*(E/f),O=a+Math.cos(z)*c,k=l+Math.sin(z)*h,R=i+O,P=i-O,B=s+k,N=s-k;e[m++]=R,e[m++]=B,e[--g]=B,e[--g]=P,e[v++]=P,e[v++]=N,e[--b]=N,e[--b]=R}w=a,A=l+h,x=i+w,T=i-w,C=s+A;const S=s-A;return e[m++]=x,e[m++]=C,e[--b]=S,e[--b]=x,a&&(e[m++]=T,e[m++]=C,e[--b]=S,e[--b]=T),!0},triangulate(t,e,i,s,a,l){if(t.length===0)return;let c=0,h=0;for(let m=0;m<t.length;m+=2)c+=t[m],h+=t[m+1];c/=t.length/2,h/=t.length/2;let f=s;e[f*i]=c,e[f*i+1]=h;const y=f++;for(let m=0;m<t.length;m+=2)e[f*i]=t[m],e[f*i+1]=t[m+1],m>0&&(a[l++]=f,a[l++]=y,a[l++]=f-1),f++;a[l++]=y+1,a[l++]=y,a[l++]=f-1}},aO={...Xo,extension:{...Xo.extension,name:"ellipse"}},oO={...Xo,extension:{...Xo.extension,name:"roundedRectangle"}},BS=1e-4,Q_=1e-4;function lO(t){const e=t.length;if(e<6)return 1;let i=0;for(let s=0,a=t[e-2],l=t[e-1];s<e;s+=2){const c=t[s],h=t[s+1];i+=(c-a)*(h+l),a=c,l=h}return i<0?-1:1}function K_(t,e,i,s,a,l,c,h){const f=t-i*a,y=e-s*a,m=t+i*l,g=e+s*l;let v,b;c?(v=s,b=-i):(v=-s,b=i);const w=f+v,A=y+b,x=m+v,T=g+b;return h.push(w,A),h.push(x,T),2}function As(t,e,i,s,a,l,c,h){const f=i-t,y=s-e;let m=Math.atan2(f,y),g=Math.atan2(a-t,l-e);h&&m<g?m+=Math.PI*2:!h&&m>g&&(g+=Math.PI*2);let v=m;const b=g-m,w=Math.abs(b),A=Math.sqrt(f*f+y*y),x=(15*w*Math.sqrt(A)/Math.PI>>0)+1,T=b/x;if(v+=T,h){c.push(t,e),c.push(i,s);for(let C=1,S=v;C<x;C++,S+=T)c.push(t,e),c.push(t+Math.sin(S)*A,e+Math.cos(S)*A);c.push(t,e),c.push(a,l)}else{c.push(i,s),c.push(t,e);for(let C=1,S=v;C<x;C++,S+=T)c.push(t+Math.sin(S)*A,e+Math.cos(S)*A),c.push(t,e);c.push(a,l),c.push(t,e)}return x*2}function uO(t,e,i,s,a,l){const c=BS;if(t.length===0)return;const h=e;let f=h.alignment;if(e.alignment!==.5){let se=lO(t);f=(f-.5)*se+.5}const y=new Dt(t[0],t[1]),m=new Dt(t[t.length-2],t[t.length-1]),g=s,v=Math.abs(y.x-m.x)<c&&Math.abs(y.y-m.y)<c;if(g){t=t.slice(),v&&(t.pop(),t.pop(),m.set(t[t.length-2],t[t.length-1]));const se=(y.x+m.x)*.5,ce=(m.y+y.y)*.5;t.unshift(se,ce),t.push(se,ce)}const b=a,w=t.length/2;let A=t.length;const x=b.length/2,T=h.width/2,C=T*T,S=h.miterLimit*h.miterLimit;let E=t[0],z=t[1],O=t[2],k=t[3],R=0,P=0,B=-(z-k),N=E-O,V=0,W=0,ee=Math.sqrt(B*B+N*N);B/=ee,N/=ee,B*=T,N*=T;const ae=f,D=(1-ae)*2,I=ae*2;g||(h.cap==="round"?A+=As(E-B*(D-I)*.5,z-N*(D-I)*.5,E-B*D,z-N*D,E+B*I,z+N*I,b,!0)+2:h.cap==="square"&&(A+=K_(E,z,B,N,D,I,!0,b))),b.push(E-B*D,z-N*D),b.push(E+B*I,z+N*I);for(let se=1;se<w-1;++se){E=t[(se-1)*2],z=t[(se-1)*2+1],O=t[se*2],k=t[se*2+1],R=t[(se+1)*2],P=t[(se+1)*2+1],B=-(z-k),N=E-O,ee=Math.sqrt(B*B+N*N),B/=ee,N/=ee,B*=T,N*=T,V=-(k-P),W=O-R,ee=Math.sqrt(V*V+W*W),V/=ee,W/=ee,V*=T,W*=T;const ce=O-E,j=z-k,F=O-R,Z=P-k,te=ce*F+j*Z,re=j*F-Z*ce,oe=re<0;if(Math.abs(re)<.001*Math.abs(te)){b.push(O-B*D,k-N*D),b.push(O+B*I,k+N*I),te>=0&&(h.join==="round"?A+=As(O,k,O-B*D,k-N*D,O-V*D,k-W*D,b,!1)+4:A+=2,b.push(O-V*I,k-W*I),b.push(O+V*D,k+W*D));continue}const ye=(-B+E)*(-N+k)-(-B+O)*(-N+z),Ze=(-V+R)*(-W+k)-(-V+O)*(-W+P),ke=(ce*Ze-F*ye)/re,zt=(Z*ye-j*Ze)/re,cn=(ke-O)*(ke-O)+(zt-k)*(zt-k),Ut=O+(ke-O)*D,hn=k+(zt-k)*D,ct=O-(ke-O)*I,Xt=k-(zt-k)*I,aa=Math.min(ce*ce+j*j,F*F+Z*Z),hl=oe?D:I,fl=aa+hl*hl*C;cn<=fl?h.join==="bevel"||cn/C>S?(oe?(b.push(Ut,hn),b.push(O+B*I,k+N*I),b.push(Ut,hn),b.push(O+V*I,k+W*I)):(b.push(O-B*D,k-N*D),b.push(ct,Xt),b.push(O-V*D,k-W*D),b.push(ct,Xt)),A+=2):h.join==="round"?oe?(b.push(Ut,hn),b.push(O+B*I,k+N*I),A+=As(O,k,O+B*I,k+N*I,O+V*I,k+W*I,b,!0)+4,b.push(Ut,hn),b.push(O+V*I,k+W*I)):(b.push(O-B*D,k-N*D),b.push(ct,Xt),A+=As(O,k,O-B*D,k-N*D,O-V*D,k-W*D,b,!1)+4,b.push(O-V*D,k-W*D),b.push(ct,Xt)):(b.push(Ut,hn),b.push(ct,Xt)):(b.push(O-B*D,k-N*D),b.push(O+B*I,k+N*I),h.join==="round"?oe?A+=As(O,k,O+B*I,k+N*I,O+V*I,k+W*I,b,!0)+2:A+=As(O,k,O-B*D,k-N*D,O-V*D,k-W*D,b,!1)+2:h.join==="miter"&&cn/C<=S&&(oe?(b.push(ct,Xt),b.push(ct,Xt)):(b.push(Ut,hn),b.push(Ut,hn)),A+=2),b.push(O-V*D,k-W*D),b.push(O+V*I,k+W*I),A+=2)}E=t[(w-2)*2],z=t[(w-2)*2+1],O=t[(w-1)*2],k=t[(w-1)*2+1],B=-(z-k),N=E-O,ee=Math.sqrt(B*B+N*N),B/=ee,N/=ee,B*=T,N*=T,b.push(O-B*D,k-N*D),b.push(O+B*I,k+N*I),g||(h.cap==="round"?A+=As(O-B*(D-I)*.5,k-N*(D-I)*.5,O-B*D,k-N*D,O+B*I,k+N*I,b,!1)+2:h.cap==="square"&&(A+=K_(O,k,B,N,D,I,!1,b)));const J=Q_*Q_;for(let se=x;se<A+x-2;++se)E=b[se*2],z=b[se*2+1],O=b[(se+1)*2],k=b[(se+1)*2+1],R=b[(se+2)*2],P=b[(se+2)*2+1],!(Math.abs(E*(k-P)+O*(P-z)+R*(z-k))<J)&&l.push(se,se+1,se+2)}function cO(t,e,i,s){const a=BS;if(t.length===0)return;const l=t[0],c=t[1],h=t[t.length-2],f=t[t.length-1],y=e||Math.abs(l-h)<a&&Math.abs(c-f)<a,m=i,g=t.length/2,v=m.length/2;for(let b=0;b<g;b++)m.push(t[b*2]),m.push(t[b*2+1]);for(let b=0;b<g-1;b++)s.push(v+b,v+b+1);y&&s.push(v+g-1,v)}function NS(t,e,i,s,a,l,c){const h=nR(t,e,2);if(!h)return;for(let y=0;y<h.length;y+=3)l[c++]=h[y]+a,l[c++]=h[y+1]+a,l[c++]=h[y+2]+a;let f=a*s;for(let y=0;y<t.length;y+=2)i[f]=t[y],i[f+1]=t[y+1],f+=s}const hO=[],fO={extension:{type:Ke.ShapeBuilder,name:"polygon"},build(t,e){for(let i=0;i<t.points.length;i++)e[i]=t.points[i];return!0},triangulate(t,e,i,s,a,l){NS(t,hO,e,i,s,a,l)}},dO={extension:{type:Ke.ShapeBuilder,name:"rectangle"},build(t,e){const i=t,s=i.x,a=i.y,l=i.width,c=i.height;return l>0&&c>0?(e[0]=s,e[1]=a,e[2]=s+l,e[3]=a,e[4]=s+l,e[5]=a+c,e[6]=s,e[7]=a+c,!0):!1},triangulate(t,e,i,s,a,l){let c=0;s*=i,e[s+c]=t[0],e[s+c+1]=t[1],c+=i,e[s+c]=t[2],e[s+c+1]=t[3],c+=i,e[s+c]=t[6],e[s+c+1]=t[7],c+=i,e[s+c]=t[4],e[s+c+1]=t[5],c+=i;const h=s/i;a[l++]=h,a[l++]=h+1,a[l++]=h+2,a[l++]=h+1,a[l++]=h+3,a[l++]=h+2}},yO={extension:{type:Ke.ShapeBuilder,name:"triangle"},build(t,e){return e[0]=t.x,e[1]=t.y,e[2]=t.x2,e[3]=t.y2,e[4]=t.x3,e[5]=t.y3,!0},triangulate(t,e,i,s,a,l){let c=0;s*=i,e[s+c]=t[0],e[s+c+1]=t[1],c+=i,e[s+c]=t[2],e[s+c+1]=t[3],c+=i,e[s+c]=t[4],e[s+c+1]=t[5];const h=s/i;a[l++]=h,a[l++]=h+1,a[l++]=h+2}},pO=new Oe,mO=new mt;function gO(t,e,i,s){const a=e.matrix?t.copyFrom(e.matrix).invert():t.identity();if(e.textureSpace==="local"){const c=i.getBounds(mO);e.width&&c.pad(e.width);const{x:h,y:f}=c,y=1/c.width,m=1/c.height,g=-h*y,v=-f*m,b=a.a,w=a.b,A=a.c,x=a.d;a.a*=y,a.b*=y,a.c*=m,a.d*=m,a.tx=g*b+v*A+a.tx,a.ty=g*w+v*x+a.ty}else a.translate(e.texture.frame.x,e.texture.frame.y),a.scale(1/e.texture.source.width,1/e.texture.source.height);const l=e.texture.source.style;return!(e.fill instanceof ul)&&l.addressMode==="clamp-to-edge"&&(l.addressMode="repeat",l.update()),s&&a.append(pO.copyFrom(s).invert()),a}const $c={};wi.handleByMap(Ke.ShapeBuilder,$c);wi.add(dO,fO,yO,Xo,aO,oO);const bO=new mt,vO=new Oe;function _O(t,e){const{geometryData:i,batches:s}=e;s.length=0,i.indices.length=0,i.vertices.length=0,i.uvs.length=0;for(let a=0;a<t.instructions.length;a++){const l=t.instructions[a];if(l.action==="texture")xO(l.data,s,i);else if(l.action==="fill"||l.action==="stroke"){const c=l.action==="stroke",h=l.data.path.shapePath,f=l.data.style,y=l.data.hole;c&&y&&Z_(y.shapePath,f,!0,s,i),y&&(h.shapePrimitives[h.shapePrimitives.length-1].holes=y.shapePath.shapePrimitives),Z_(h,f,c,s,i)}}}function xO(t,e,i){const s=[],a=$c.rectangle,l=bO;l.x=t.dx,l.y=t.dy,l.width=t.dw,l.height=t.dh;const c=t.transform;if(!a.build(l,s))return;const{vertices:h,uvs:f,indices:y}=i,m=y.length,g=h.length/2;c&&jS(s,c),a.triangulate(s,h,2,g,y,m);const v=t.image,b=v.uvs;f.push(b.x0,b.y0,b.x1,b.y1,b.x3,b.y3,b.x2,b.y2);const w=En.get(PS);w.indexOffset=m,w.indexSize=y.length-m,w.attributeOffset=g,w.attributeSize=h.length/2-g,w.baseColor=t.style,w.alpha=t.alpha,w.texture=v,w.geometryData=i,e.push(w)}function Z_(t,e,i,s,a){const{vertices:l,uvs:c,indices:h}=a;t.shapePrimitives.forEach(({shape:f,transform:y,holes:m})=>{const g=[],v=$c[f.type];if(!v.build(f,g))return;const b=h.length,w=l.length/2;let A="triangle-list";if(y&&jS(g,y),i){const S=f.closePath??!0,E=e;E.pixelLine?(cO(g,S,l,h),A="line-list"):uO(g,E,!1,S,l,h)}else if(m){const S=[],E=g.slice();wO(m).forEach(O=>{S.push(E.length/2),E.push(...O)}),NS(E,S,l,2,w,h,b)}else v.triangulate(g,l,2,w,h,b);const x=c.length/2,T=e.texture;if(T!==je.WHITE){const S=gO(vO,e,f,y);iO(l,2,w,c,x,2,l.length/2-w,S)}else sO(c,x,2,l.length/2-w);const C=En.get(PS);C.indexOffset=b,C.indexSize=h.length-b,C.attributeOffset=w,C.attributeSize=l.length/2-w,C.baseColor=e.color,C.alpha=e.alpha,C.texture=T,C.geometryData=a,C.topology=A,s.push(C)})}function wO(t){const e=[];for(let i=0;i<t.length;i++){const s=t[i].shape,a=[];$c[s.type].build(s,a)&&e.push(a)}return e}class SO{constructor(){this.batches=[],this.geometryData={vertices:[],uvs:[],indices:[]}}reset(){this.batches&&this.batches.forEach(e=>{En.return(e)}),this.graphicsData&&En.return(this.graphicsData),this.isBatchable=!1,this.context=null,this.batches.length=0,this.geometryData.indices.length=0,this.geometryData.vertices.length=0,this.geometryData.uvs.length=0,this.graphicsData=null}destroy(){this.reset(),this.batches=null,this.geometryData=null}}class AO{constructor(){this.instructions=new Zw}init(e){const i=e.maxTextures;this.batcher?this.batcher._updateMaxTextures(i):this.batcher=new tO({maxTextures:i}),this.instructions.reset()}get geometry(){return Xe(AC,"GraphicsContextRenderData#geometry is deprecated, please use batcher.geometry instead."),this.batcher.geometry}destroy(){this.batcher.destroy(),this.instructions.destroy(),this.batcher=null,this.instructions=null}}const Gp=class $y{constructor(e){this._renderer=e,this._managedContexts=new nO({renderer:e,type:"resource",name:"graphicsContext"})}init(e){$y.defaultOptions.bezierSmoothness=e?.bezierSmoothness??$y.defaultOptions.bezierSmoothness}getContextRenderData(e){return e._gpuData[this._renderer.uid].graphicsData||this._initContextRenderData(e)}updateGpuContext(e){const i=!!e._gpuData[this._renderer.uid],s=e._gpuData[this._renderer.uid]||this._initContext(e);if(e.dirty||!i){i&&s.reset(),_O(e,s);const a=e.batchMode;e.customShader||a==="no-batch"?s.isBatchable=!1:a==="auto"?s.isBatchable=s.geometryData.vertices.length<400:s.isBatchable=!0,e.dirty=!1}return s}getGpuContext(e){return e._gpuData[this._renderer.uid]||this._initContext(e)}_initContextRenderData(e){const i=En.get(AO,{maxTextures:this._renderer.limits.maxBatchableTextures}),s=e._gpuData[this._renderer.uid],{batches:a,geometryData:l}=s;s.graphicsData=i;const c=l.vertices.length,h=l.indices.length;for(let g=0;g<a.length;g++)a[g].applyTransform=!1;const f=i.batcher;f.ensureAttributeBuffer(c),f.ensureIndexBuffer(h),f.begin();for(let g=0;g<a.length;g++){const v=a[g];f.add(v)}f.finish(i.instructions);const y=f.geometry;y.indexBuffer.setDataWithSize(f.indexBuffer,f.indexSize,!0),y.buffers[0].setDataWithSize(f.attributeBuffer.float32View,f.attributeSize,!0);const m=f.batches;for(let g=0;g<m.length;g++){const v=m[g];v.bindGroup=fR(v.textures.textures,v.textures.count,this._renderer.limits.maxBatchableTextures)}return i}_initContext(e){const i=new SO;return i.context=e,e._gpuData[this._renderer.uid]=i,this._managedContexts.add(e),i}destroy(){this._managedContexts.destroy(),this._renderer=null}};Gp.extension={type:[Ke.WebGLSystem,Ke.WebGPUSystem,Ke.CanvasSystem],name:"graphicsContext"};Gp.defaultOptions={bezierSmoothness:.5};let LS=Gp;const TO=8,Ju=11920929e-14,EO=1;function IS(t,e,i,s,a,l,c,h,f,y){const g=Math.min(.99,Math.max(0,y??LS.defaultOptions.bezierSmoothness));let v=(EO-g)/1;return v*=v,MO(e,i,s,a,l,c,h,f,t,v),t}function MO(t,e,i,s,a,l,c,h,f,y){Fy(t,e,i,s,a,l,c,h,f,y,0),f.push(c,h)}function Fy(t,e,i,s,a,l,c,h,f,y,m){if(m>TO)return;const g=(t+i)/2,v=(e+s)/2,b=(i+a)/2,w=(s+l)/2,A=(a+c)/2,x=(l+h)/2,T=(g+b)/2,C=(v+w)/2,S=(b+A)/2,E=(w+x)/2,z=(T+S)/2,O=(C+E)/2;if(m>0){let k=c-t,R=h-e;const P=Math.abs((i-c)*R-(s-h)*k),B=Math.abs((a-c)*R-(l-h)*k);if(P>Ju&&B>Ju){if((P+B)*(P+B)<=y*(k*k+R*R)){f.push(z,O);return}}else if(P>Ju){if(P*P<=y*(k*k+R*R)){f.push(z,O);return}}else if(B>Ju){if(B*B<=y*(k*k+R*R)){f.push(z,O);return}}else if(k=z-(t+c)/2,R=O-(e+h)/2,k*k+R*R<=y){f.push(z,O);return}}Fy(t,e,g,v,T,C,z,O,f,y,m+1),Fy(z,O,S,E,A,x,c,h,f,y,m+1)}const CO=8,kO=11920929e-14,RO=1;function OO(t,e,i,s,a,l,c,h){const y=Math.min(.99,Math.max(0,h??LS.defaultOptions.bezierSmoothness));let m=(RO-y)/1;return m*=m,DO(e,i,s,a,l,c,t,m),t}function DO(t,e,i,s,a,l,c,h){Vy(c,t,e,i,s,a,l,h,0),c.push(a,l)}function Vy(t,e,i,s,a,l,c,h,f){if(f>CO)return;const y=(e+s)/2,m=(i+a)/2,g=(s+l)/2,v=(a+c)/2,b=(y+g)/2,w=(m+v)/2;let A=l-e,x=c-i;const T=Math.abs((s-l)*x-(a-c)*A);if(T>kO){if(T*T<=h*(A*A+x*x)){t.push(b,w);return}}else if(A=b-(e+l)/2,x=w-(i+c)/2,A*A+x*x<=h){t.push(b,w);return}Vy(t,e,i,y,m,b,w,h,f+1),Vy(t,b,w,g,v,l,c,h,f+1)}function qS(t,e,i,s,a,l,c,h){let f=Math.abs(a-l);(!c&&a>l||c&&l>a)&&(f=2*Math.PI-f),h||(h=Math.max(6,Math.floor(6*Math.pow(s,1/3)*(f/Math.PI)))),h=Math.max(h,3);let y=f/h,m=a;y*=c?-1:1;for(let g=0;g<h+1;g++){const v=Math.cos(m),b=Math.sin(m),w=e+v*s,A=i+b*s;t.push(w,A),m+=y}}function zO(t,e,i,s,a,l){const c=t[t.length-2],f=t[t.length-1]-i,y=c-e,m=a-i,g=s-e,v=Math.abs(f*g-y*m);if(v<1e-8||l===0){(t[t.length-2]!==e||t[t.length-1]!==i)&&t.push(e,i);return}const b=f*f+y*y,w=m*m+g*g,A=f*m+y*g,x=l*Math.sqrt(b)/v,T=l*Math.sqrt(w)/v,C=x*A/b,S=T*A/w,E=x*g+T*y,z=x*m+T*f,O=y*(T+C),k=f*(T+C),R=g*(x+S),P=m*(x+S),B=Math.atan2(k-z,O-E),N=Math.atan2(P-z,R-E);qS(t,E+e,z+i,l,B,N,y*m>g*f)}const Po=Math.PI*2,ny={centerX:0,centerY:0,ang1:0,ang2:0},iy=({x:t,y:e},i,s,a,l,c,h,f)=>{t*=i,e*=s;const y=a*t-l*e,m=l*t+a*e;return f.x=y+c,f.y=m+h,f};function UO(t,e){const i=e===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(e/4),s=e===1.5707963267948966?.551915024494:i,a=Math.cos(t),l=Math.sin(t),c=Math.cos(t+e),h=Math.sin(t+e);return[{x:a-l*s,y:l+a*s},{x:c+h*s,y:h-c*s},{x:c,y:h}]}const W_=(t,e,i,s)=>{const a=t*s-e*i<0?-1:1;let l=t*i+e*s;return l>1&&(l=1),l<-1&&(l=-1),a*Math.acos(l)},jO=(t,e,i,s,a,l,c,h,f,y,m,g,v)=>{const b=Math.pow(a,2),w=Math.pow(l,2),A=Math.pow(m,2),x=Math.pow(g,2);let T=b*w-b*x-w*A;T<0&&(T=0),T/=b*x+w*A,T=Math.sqrt(T)*(c===h?-1:1);const C=T*a/l*g,S=T*-l/a*m,E=y*C-f*S+(t+i)/2,z=f*C+y*S+(e+s)/2,O=(m-C)/a,k=(g-S)/l,R=(-m-C)/a,P=(-g-S)/l,B=W_(1,0,O,k);let N=W_(O,k,R,P);h===0&&N>0&&(N-=Po),h===1&&N<0&&(N+=Po),v.centerX=E,v.centerY=z,v.ang1=B,v.ang2=N};function PO(t,e,i,s,a,l,c,h=0,f=0,y=0){if(l===0||c===0)return;const m=Math.sin(h*Po/360),g=Math.cos(h*Po/360),v=g*(e-s)/2+m*(i-a)/2,b=-m*(e-s)/2+g*(i-a)/2;if(v===0&&b===0)return;l=Math.abs(l),c=Math.abs(c);const w=Math.pow(v,2)/Math.pow(l,2)+Math.pow(b,2)/Math.pow(c,2);w>1&&(l*=Math.sqrt(w),c*=Math.sqrt(w)),jO(e,i,s,a,l,c,f,y,m,g,v,b,ny);let{ang1:A,ang2:x}=ny;const{centerX:T,centerY:C}=ny;let S=Math.abs(x)/(Po/4);Math.abs(1-S)<1e-7&&(S=1);const E=Math.max(Math.ceil(S),1);x/=E;let z=t[t.length-2],O=t[t.length-1];const k={x:0,y:0};for(let R=0;R<E;R++){const P=UO(A,x),{x:B,y:N}=iy(P[0],l,c,g,m,T,C,k),{x:V,y:W}=iy(P[1],l,c,g,m,T,C,k),{x:ee,y:ae}=iy(P[2],l,c,g,m,T,C,k);IS(t,z,O,B,N,V,W,ee,ae),z=ee,O=ae,A+=x}}function BO(t,e,i){const s=(c,h)=>{const f=h.x-c.x,y=h.y-c.y,m=Math.sqrt(f*f+y*y),g=f/m,v=y/m;return{len:m,nx:g,ny:v}},a=(c,h)=>{c===0?t.moveTo(h.x,h.y):t.lineTo(h.x,h.y)};let l=e[e.length-1];for(let c=0;c<e.length;c++){const h=e[c%e.length],f=h.radius??i;if(f<=0){a(c,h),l=h;continue}const y=e[(c+1)%e.length],m=s(h,l),g=s(h,y);if(m.len<1e-4||g.len<1e-4){a(c,h),l=h;continue}let v=Math.asin(m.nx*g.ny-m.ny*g.nx),b=1,w=!1;m.nx*g.nx-m.ny*-g.ny<0?v<0?v=Math.PI+v:(v=Math.PI-v,b=-1,w=!0):v>0&&(b=-1,w=!0);const A=v/2;let x,T=Math.abs(Math.cos(A)*f/Math.sin(A));T>Math.min(m.len/2,g.len/2)?(T=Math.min(m.len/2,g.len/2),x=Math.abs(T*Math.sin(A)/Math.cos(A))):x=f;const C=h.x+g.nx*T+-g.ny*x*b,S=h.y+g.ny*T+g.nx*x*b,E=Math.atan2(m.ny,m.nx)+Math.PI/2*b,z=Math.atan2(g.ny,g.nx)-Math.PI/2*b;c===0&&t.moveTo(C+Math.cos(E)*x,S+Math.sin(E)*x),t.arc(C,S,x,E,z,w),l=h}}function NO(t,e,i,s){const a=(h,f)=>Math.sqrt((h.x-f.x)**2+(h.y-f.y)**2),l=(h,f,y)=>({x:h.x+(f.x-h.x)*y,y:h.y+(f.y-h.y)*y}),c=e.length;for(let h=0;h<c;h++){const f=e[(h+1)%c],y=f.radius??i;if(y<=0){h===0?t.moveTo(f.x,f.y):t.lineTo(f.x,f.y);continue}const m=e[h],g=e[(h+2)%c],v=a(m,f);let b;if(v<1e-4)b=f;else{const x=Math.min(v/2,y);b=l(f,m,x/v)}const w=a(g,f);let A;if(w<1e-4)A=f;else{const x=Math.min(w/2,y);A=l(f,g,x/w)}h===0?t.moveTo(b.x,b.y):t.lineTo(b.x,b.y),t.quadraticCurveTo(f.x,f.y,A.x,A.y,s)}}const LO=new mt;class IO{constructor(e){this.shapePrimitives=[],this._currentPoly=null,this._bounds=new Pn,this._graphicsPath2D=e,this.signed=e.checkForHoles}moveTo(e,i){return this.startPoly(e,i),this}lineTo(e,i){this._ensurePoly();const s=this._currentPoly.points,a=s[s.length-2],l=s[s.length-1];return(a!==e||l!==i)&&s.push(e,i),this}arc(e,i,s,a,l,c){this._ensurePoly(!1);const h=this._currentPoly.points;return qS(h,e,i,s,a,l,c),this}arcTo(e,i,s,a,l){this._ensurePoly();const c=this._currentPoly.points;return zO(c,e,i,s,a,l),this}arcToSvg(e,i,s,a,l,c,h){const f=this._currentPoly.points;return PO(f,this._currentPoly.lastX,this._currentPoly.lastY,c,h,e,i,s,a,l),this}bezierCurveTo(e,i,s,a,l,c,h){this._ensurePoly();const f=this._currentPoly;return IS(this._currentPoly.points,f.lastX,f.lastY,e,i,s,a,l,c,h),this}quadraticCurveTo(e,i,s,a,l){this._ensurePoly();const c=this._currentPoly;return OO(this._currentPoly.points,c.lastX,c.lastY,e,i,s,a,l),this}closePath(){return this.endPoly(!0),this}addPath(e,i){this.endPoly(),i&&!i.isIdentity()&&(e=e.clone(!0),e.transform(i));const s=this.shapePrimitives,a=s.length;for(let l=0;l<e.instructions.length;l++){const c=e.instructions[l];this[c.action](...c.data)}if(e.checkForHoles&&s.length-a>1){let l=null;for(let c=a;c<s.length;c++){const h=s[c];if(h.shape.type==="polygon"){const f=h.shape,y=l?.shape;y&&y.containsPolygon(f)?(l.holes||(l.holes=[]),l.holes.push(h),s.copyWithin(c,c+1),s.length--,c--):l=h}}}return this}finish(e=!1){this.endPoly(e)}rect(e,i,s,a,l){return this.drawShape(new mt(e,i,s,a),l),this}circle(e,i,s,a){return this.drawShape(new Lp(e,i,s),a),this}poly(e,i,s){const a=new Uo(e);return a.closePath=i,this.drawShape(a,s),this}regularPoly(e,i,s,a,l=0,c){a=Math.max(a|0,3);const h=-1*Math.PI/2+l,f=Math.PI*2/a,y=[];for(let m=0;m<a;m++){const g=h-m*f;y.push(e+s*Math.cos(g),i+s*Math.sin(g))}return this.poly(y,!0,c),this}roundPoly(e,i,s,a,l,c=0,h){if(a=Math.max(a|0,3),l<=0)return this.regularPoly(e,i,s,a,c);const f=s*Math.sin(Math.PI/a)-.001;l=Math.min(l,f);const y=-1*Math.PI/2+c,m=Math.PI*2/a,g=(a-2)*Math.PI/a/2;for(let v=0;v<a;v++){const b=v*m+y,w=e+s*Math.cos(b),A=i+s*Math.sin(b),x=b+Math.PI+g,T=b-Math.PI-g,C=w+l*Math.cos(x),S=A+l*Math.sin(x),E=w+l*Math.cos(T),z=A+l*Math.sin(T);v===0?this.moveTo(C,S):this.lineTo(C,S),this.quadraticCurveTo(w,A,E,z,h)}return this.closePath()}roundShape(e,i,s=!1,a){return e.length<3?this:(s?NO(this,e,i,a):BO(this,e,i),this.closePath())}filletRect(e,i,s,a,l){if(l===0)return this.rect(e,i,s,a);const c=Math.min(s,a)/2,h=Math.min(c,Math.max(-c,l)),f=e+s,y=i+a,m=h<0?-h:0,g=Math.abs(h);return this.moveTo(e,i+g).arcTo(e+m,i+m,e+g,i,g).lineTo(f-g,i).arcTo(f-m,i+m,f,i+g,g).lineTo(f,y-g).arcTo(f-m,y-m,e+s-g,y,g).lineTo(e+g,y).arcTo(e+m,y-m,e,y-g,g).closePath()}chamferRect(e,i,s,a,l,c){if(l<=0)return this.rect(e,i,s,a);const h=Math.min(l,Math.min(s,a)/2),f=e+s,y=i+a,m=[e+h,i,f-h,i,f,i+h,f,y-h,f-h,y,e+h,y,e,y-h,e,i+h];for(let g=m.length-1;g>=2;g-=2)m[g]===m[g-2]&&m[g-1]===m[g-3]&&m.splice(g-1,2);return this.poly(m,!0,c)}ellipse(e,i,s,a,l){return this.drawShape(new Ip(e,i,s,a),l),this}roundRect(e,i,s,a,l,c){return this.drawShape(new qp(e,i,s,a,l),c),this}drawShape(e,i){return this.endPoly(),this.shapePrimitives.push({shape:e,transform:i}),this}startPoly(e,i){let s=this._currentPoly;return s&&this.endPoly(),s=new Uo,s.points.push(e,i),this._currentPoly=s,this}endPoly(e=!1){const i=this._currentPoly;return i&&i.points.length>2&&(i.closePath=e,this.shapePrimitives.push({shape:i})),this._currentPoly=null,this}_ensurePoly(e=!0){if(!this._currentPoly&&(this._currentPoly=new Uo,e)){const i=this.shapePrimitives[this.shapePrimitives.length-1];if(i){let s=i.shape.x,a=i.shape.y;if(i.transform&&!i.transform.isIdentity()){const l=i.transform,c=s;s=l.a*s+l.c*a+l.tx,a=l.b*c+l.d*a+l.ty}this._currentPoly.points.push(s,a)}else this._currentPoly.points.push(0,0)}}buildPath(){const e=this._graphicsPath2D;this.shapePrimitives.length=0,this._currentPoly=null;for(let i=0;i<e.instructions.length;i++){const s=e.instructions[i];this[s.action](...s.data)}this.finish()}get bounds(){const e=this._bounds;e.clear();const i=this.shapePrimitives;for(let s=0;s<i.length;s++){const a=i[s],l=a.shape.getBounds(LO);a.transform?e.addRect(l,a.transform):e.addRect(l)}return e}}class bi{constructor(e,i=!1){this.instructions=[],this.uid=lt("graphicsPath"),this._dirty=!0,this.checkForHoles=i,typeof e=="string"?lR(e,this):this.instructions=e?.slice()??[]}get shapePath(){return this._shapePath||(this._shapePath=new IO(this)),this._dirty&&(this._dirty=!1,this._shapePath.buildPath()),this._shapePath}addPath(e,i){return e=e.clone(),this.instructions.push({action:"addPath",data:[e,i]}),this._dirty=!0,this}arc(...e){return this.instructions.push({action:"arc",data:e}),this._dirty=!0,this}arcTo(...e){return this.instructions.push({action:"arcTo",data:e}),this._dirty=!0,this}arcToSvg(...e){return this.instructions.push({action:"arcToSvg",data:e}),this._dirty=!0,this}bezierCurveTo(...e){return this.instructions.push({action:"bezierCurveTo",data:e}),this._dirty=!0,this}bezierCurveToShort(e,i,s,a,l){const c=this.instructions[this.instructions.length-1],h=this.getLastPoint(Dt.shared);let f=0,y=0;if(!c||c.action!=="bezierCurveTo")f=h.x,y=h.y;else{f=c.data[2],y=c.data[3];const m=h.x,g=h.y;f=m+(m-f),y=g+(g-y)}return this.instructions.push({action:"bezierCurveTo",data:[f,y,e,i,s,a,l]}),this._dirty=!0,this}closePath(){return this.instructions.push({action:"closePath",data:[]}),this._dirty=!0,this}ellipse(...e){return this.instructions.push({action:"ellipse",data:e}),this._dirty=!0,this}lineTo(...e){return this.instructions.push({action:"lineTo",data:e}),this._dirty=!0,this}moveTo(...e){return this.instructions.push({action:"moveTo",data:e}),this}quadraticCurveTo(...e){return this.instructions.push({action:"quadraticCurveTo",data:e}),this._dirty=!0,this}quadraticCurveToShort(e,i,s){const a=this.instructions[this.instructions.length-1],l=this.getLastPoint(Dt.shared);let c=0,h=0;if(!a||a.action!=="quadraticCurveTo")c=l.x,h=l.y;else{c=a.data[0],h=a.data[1];const f=l.x,y=l.y;c=f+(f-c),h=y+(y-h)}return this.instructions.push({action:"quadraticCurveTo",data:[c,h,e,i,s]}),this._dirty=!0,this}rect(e,i,s,a,l){return this.instructions.push({action:"rect",data:[e,i,s,a,l]}),this._dirty=!0,this}circle(e,i,s,a){return this.instructions.push({action:"circle",data:[e,i,s,a]}),this._dirty=!0,this}roundRect(...e){return this.instructions.push({action:"roundRect",data:e}),this._dirty=!0,this}poly(...e){return this.instructions.push({action:"poly",data:e}),this._dirty=!0,this}regularPoly(...e){return this.instructions.push({action:"regularPoly",data:e}),this._dirty=!0,this}roundPoly(...e){return this.instructions.push({action:"roundPoly",data:e}),this._dirty=!0,this}roundShape(...e){return this.instructions.push({action:"roundShape",data:e}),this._dirty=!0,this}filletRect(...e){return this.instructions.push({action:"filletRect",data:e}),this._dirty=!0,this}chamferRect(...e){return this.instructions.push({action:"chamferRect",data:e}),this._dirty=!0,this}star(e,i,s,a,l,c,h){l||(l=a/2);const f=-1*Math.PI/2+c,y=s*2,m=Math.PI*2/y,g=[];for(let v=0;v<y;v++){const b=v%2?l:a,w=v*m+f;g.push(e+b*Math.cos(w),i+b*Math.sin(w))}return this.poly(g,!0,h),this}clone(e=!1){const i=new bi;if(i.checkForHoles=this.checkForHoles,!e)i.instructions=this.instructions.slice();else for(let s=0;s<this.instructions.length;s++){const a=this.instructions[s];i.instructions.push({action:a.action,data:a.data.slice()})}return i}clear(){return this.instructions.length=0,this._dirty=!0,this}transform(e){if(e.isIdentity())return this;const i=e.a,s=e.b,a=e.c,l=e.d,c=e.tx,h=e.ty;let f=0,y=0,m=0,g=0,v=0,b=0,w=0,A=0;for(let x=0;x<this.instructions.length;x++){const T=this.instructions[x],C=T.data;switch(T.action){case"moveTo":case"lineTo":f=C[0],y=C[1],C[0]=i*f+a*y+c,C[1]=s*f+l*y+h;break;case"bezierCurveTo":m=C[0],g=C[1],v=C[2],b=C[3],f=C[4],y=C[5],C[0]=i*m+a*g+c,C[1]=s*m+l*g+h,C[2]=i*v+a*b+c,C[3]=s*v+l*b+h,C[4]=i*f+a*y+c,C[5]=s*f+l*y+h;break;case"quadraticCurveTo":m=C[0],g=C[1],f=C[2],y=C[3],C[0]=i*m+a*g+c,C[1]=s*m+l*g+h,C[2]=i*f+a*y+c,C[3]=s*f+l*y+h;break;case"arcToSvg":f=C[5],y=C[6],w=C[0],A=C[1],C[0]=i*w+a*A,C[1]=s*w+l*A,C[5]=i*f+a*y+c,C[6]=s*f+l*y+h;break;case"circle":C[4]=co(C[3],e);break;case"rect":C[4]=co(C[4],e);break;case"ellipse":C[8]=co(C[8],e);break;case"roundRect":C[5]=co(C[5],e);break;case"addPath":C[0].transform(e);break;case"poly":C[2]=co(C[2],e);break;default:ln("unknown transform action",T.action);break}}return this._dirty=!0,this}get bounds(){return this.shapePath.bounds}getLastPoint(e){let i=this.instructions.length-1,s=this.instructions[i];if(!s)return e.x=0,e.y=0,e;for(;s.action==="closePath";){if(i--,i<0)return e.x=0,e.y=0,e;s=this.instructions[i]}switch(s.action){case"moveTo":case"lineTo":e.x=s.data[0],e.y=s.data[1];break;case"quadraticCurveTo":e.x=s.data[2],e.y=s.data[3];break;case"bezierCurveTo":e.x=s.data[4],e.y=s.data[5];break;case"arc":case"arcToSvg":e.x=s.data[5],e.y=s.data[6];break;case"addPath":s.data[0].getLastPoint(e);break}return e}}function co(t,e){return t?t.prepend(e):e.clone()}function tt(t,e,i){const s=t.getAttribute(e);return s?Number(s):i}function qO(t,e){const i=t.querySelectorAll("defs");for(let s=0;s<i.length;s++){const a=i[s];for(let l=0;l<a.children.length;l++){const c=a.children[l];switch(c.nodeName.toLowerCase()){case"lineargradient":e.defs[c.id]=GO(c);break;case"radialgradient":e.defs[c.id]=HO();break}}}}function GO(t){const e=tt(t,"x1",0),i=tt(t,"y1",0),s=tt(t,"x2",1),a=tt(t,"y2",0),l=t.getAttribute("gradientUnits")||"objectBoundingBox",c=new ul(e,i,s,a,l==="objectBoundingBox"?"local":"global");for(let h=0;h<t.children.length;h++){const f=t.children[h],y=tt(f,"offset",0),m=$e.shared.setValue(f.getAttribute("stop-color")).toNumber();c.addColorStop(y,m)}return c}function HO(t){return ln("[SVG Parser] Radial gradients are not yet supported"),new ul(0,0,1,0)}function J_(t){const e=t.match(/url\s*\(\s*['"]?\s*#([^'"\s)]+)\s*['"]?\s*\)/i);return e?e[1]:""}const ex={fill:{type:"paint",default:0},"fill-opacity":{type:"number",default:1},stroke:{type:"paint",default:0},"stroke-width":{type:"number",default:1},"stroke-opacity":{type:"number",default:1},"stroke-linecap":{type:"string",default:"butt"},"stroke-linejoin":{type:"string",default:"miter"},"stroke-miterlimit":{type:"number",default:10},"stroke-dasharray":{type:"string",default:"none"},"stroke-dashoffset":{type:"number",default:0},opacity:{type:"number",default:1}};function GS(t,e){const i=t.getAttribute("style"),s={},a={},l={strokeStyle:s,fillStyle:a,useFill:!1,useStroke:!1};for(const c in ex){const h=t.getAttribute(c);h&&tx(e,l,c,h.trim())}if(i){const c=i.split(";");for(let h=0;h<c.length;h++){const f=c[h].trim(),[y,m]=f.split(":");ex[y]&&tx(e,l,y,m.trim())}}return{strokeStyle:l.useStroke?s:null,fillStyle:l.useFill?a:null,useFill:l.useFill,useStroke:l.useStroke}}function tx(t,e,i,s){switch(i){case"stroke":if(s!=="none"){if(s.startsWith("url(")){const a=J_(s);e.strokeStyle.fill=t.defs[a]}else e.strokeStyle.color=$e.shared.setValue(s).toNumber();e.useStroke=!0}break;case"stroke-width":e.strokeStyle.width=Number(s);break;case"fill":if(s!=="none"){if(s.startsWith("url(")){const a=J_(s);e.fillStyle.fill=t.defs[a]}else e.fillStyle.color=$e.shared.setValue(s).toNumber();e.useFill=!0}break;case"fill-opacity":e.fillStyle.alpha=Number(s);break;case"stroke-opacity":e.strokeStyle.alpha=Number(s);break;case"opacity":e.fillStyle.alpha=Number(s),e.strokeStyle.alpha=Number(s);break}}function $O(t){if(t.length<=2)return!0;const e=t.map(h=>h.area).sort((h,f)=>f-h),[i,s]=e,a=e[e.length-1],l=i/s,c=s/a;return!(l>3&&c<2)}function FO(t){return t.split(/(?=[Mm])/).filter(s=>s.trim().length>0)}function VO(t){const e=t.match(/[-+]?[0-9]*\.?[0-9]+/g);if(!e||e.length<4)return 0;const i=e.map(Number),s=[],a=[];for(let m=0;m<i.length;m+=2)m+1<i.length&&(s.push(i[m]),a.push(i[m+1]));if(s.length===0||a.length===0)return 0;const l=Math.min(...s),c=Math.max(...s),h=Math.min(...a),f=Math.max(...a);return(c-l)*(f-h)}function nx(t,e){const i=new bi(t,!1);for(const s of i.instructions)e.instructions.push(s)}function YO(t,e){if(typeof t=="string"){const c=document.createElement("div");c.innerHTML=t.trim(),t=c.querySelector("svg")}const i={context:e,defs:{},path:new bi};qO(t,i);const s=t.children,{fillStyle:a,strokeStyle:l}=GS(t,i);for(let c=0;c<s.length;c++){const h=s[c];h.nodeName.toLowerCase()!=="defs"&&HS(h,i,a,l)}return e}function HS(t,e,i,s){const a=t.children,{fillStyle:l,strokeStyle:c}=GS(t,e);l&&i?i={...i,...l}:l&&(i=l),c&&s?s={...s,...c}:c&&(s=c);const h=!i&&!s;h&&(i={color:0});let f,y,m,g,v,b,w,A,x,T,C,S,E,z,O,k,R;switch(t.nodeName.toLowerCase()){case"path":{z=t.getAttribute("d");const P=t.getAttribute("fill-rule"),B=FO(z),N=P==="evenodd",V=B.length>1;if(N&&V){const ee=B.map(D=>({path:D,area:VO(D)}));if(ee.sort((D,I)=>I.area-D.area),B.length>3||!$O(ee))for(let D=0;D<ee.length;D++){const I=ee[D],J=D===0;e.context.beginPath();const se=new bi(void 0,!0);nx(I.path,se),e.context.path(se),J?(i&&e.context.fill(i),s&&e.context.stroke(s)):e.context.cut()}else for(let D=0;D<ee.length;D++){const I=ee[D],J=D%2===1;e.context.beginPath();const se=new bi(void 0,!0);nx(I.path,se),e.context.path(se),J?e.context.cut():(i&&e.context.fill(i),s&&e.context.stroke(s))}}else{const ee=P?P==="evenodd":!0;O=new bi(z,ee),e.context.path(O),i&&e.context.fill(i),s&&e.context.stroke(s)}break}case"circle":w=tt(t,"cx",0),A=tt(t,"cy",0),x=tt(t,"r",0),e.context.ellipse(w,A,x,x),i&&e.context.fill(i),s&&e.context.stroke(s);break;case"rect":f=tt(t,"x",0),y=tt(t,"y",0),k=tt(t,"width",0),R=tt(t,"height",0),T=tt(t,"rx",0),C=tt(t,"ry",0),T||C?e.context.roundRect(f,y,k,R,T||C):e.context.rect(f,y,k,R),i&&e.context.fill(i),s&&e.context.stroke(s);break;case"ellipse":w=tt(t,"cx",0),A=tt(t,"cy",0),T=tt(t,"rx",0),C=tt(t,"ry",0),e.context.beginPath(),e.context.ellipse(w,A,T,C),i&&e.context.fill(i),s&&e.context.stroke(s);break;case"line":m=tt(t,"x1",0),g=tt(t,"y1",0),v=tt(t,"x2",0),b=tt(t,"y2",0),e.context.beginPath(),e.context.moveTo(m,g),e.context.lineTo(v,b),s&&e.context.stroke(s);break;case"polygon":E=t.getAttribute("points"),S=E.match(/-?\d+/g).map(P=>parseInt(P,10)),e.context.poly(S,!0),i&&e.context.fill(i),s&&e.context.stroke(s);break;case"polyline":E=t.getAttribute("points"),S=E.match(/-?\d+/g).map(P=>parseInt(P,10)),e.context.poly(S,!1),s&&e.context.stroke(s);break;case"g":case"svg":break;default:{ln(`[SVG parser] <${t.nodeName}> elements unsupported`);break}}h&&(i=null);for(let P=0;P<a.length;P++)HS(a[P],e,i,s)}function XO(t){return $e.isColorLike(t)}function ix(t){return t instanceof sR}function sx(t){return t instanceof ul}function QO(t){return t instanceof je}function KO(t,e,i){const s=$e.shared.setValue(e??0);return t.color=s.toNumber(),t.alpha=s.alpha===1?i.alpha:s.alpha,t.texture=je.WHITE,{...i,...t}}function ZO(t,e,i){return t.texture=e,{...i,...t}}function rx(t,e,i){return t.fill=e,t.color=16777215,t.texture=e.texture,t.matrix=e.transform,{...i,...t}}function ax(t,e,i){return e.buildGradient(),t.fill=e,t.color=16777215,t.texture=e.texture,t.matrix=e.transform,t.textureSpace=e.textureSpace,{...i,...t}}function WO(t,e){const i={...e,...t},s=$e.shared.setValue(i.color);return i.alpha*=s.alpha,i.color=s.toNumber(),i}function To(t,e){if(t==null)return null;const i={},s=t;return XO(t)?KO(i,t,e):QO(t)?ZO(i,t,e):ix(t)?rx(i,t,e):sx(t)?ax(i,t,e):s.fill&&ix(s.fill)?rx(s,s.fill,e):s.fill&&sx(s.fill)?ax(s,s.fill,e):WO(s,e)}function ox(t,e){const{width:i,alignment:s,miterLimit:a,cap:l,join:c,pixelLine:h,...f}=e,y=To(t,f);return y?{width:i,alignment:s,miterLimit:a,cap:l,join:c,pixelLine:h,...y}:null}const JO=new Dt,lx=new Oe,Hp=class Hn extends is{constructor(){super(...arguments),this._gpuData=Object.create(null),this.autoGarbageCollect=!0,this._gcLastUsed=-1,this.uid=lt("graphicsContext"),this.dirty=!0,this.batchMode="auto",this.instructions=[],this.destroyed=!1,this._activePath=new bi,this._transform=new Oe,this._fillStyle={...Hn.defaultFillStyle},this._strokeStyle={...Hn.defaultStrokeStyle},this._stateStack=[],this._tick=0,this._bounds=new Pn,this._boundsDirty=!0}clone(){const e=new Hn;return e.batchMode=this.batchMode,e.instructions=this.instructions.slice(),e._activePath=this._activePath.clone(),e._transform=this._transform.clone(),e._fillStyle={...this._fillStyle},e._strokeStyle={...this._strokeStyle},e._stateStack=this._stateStack.slice(),e._bounds=this._bounds.clone(),e._boundsDirty=!0,e}get fillStyle(){return this._fillStyle}set fillStyle(e){this._fillStyle=To(e,Hn.defaultFillStyle)}get strokeStyle(){return this._strokeStyle}set strokeStyle(e){this._strokeStyle=ox(e,Hn.defaultStrokeStyle)}setFillStyle(e){return this._fillStyle=To(e,Hn.defaultFillStyle),this}setStrokeStyle(e){return this._strokeStyle=To(e,Hn.defaultStrokeStyle),this}texture(e,i,s,a,l,c){return this.instructions.push({action:"texture",data:{image:e,dx:s||0,dy:a||0,dw:l||e.frame.width,dh:c||e.frame.height,transform:this._transform.clone(),alpha:this._fillStyle.alpha,style:i?$e.shared.setValue(i).toNumber():16777215}}),this.onUpdate(),this}beginPath(){return this._activePath=new bi,this}fill(e,i){let s;const a=this.instructions[this.instructions.length-1];return this._tick===0&&a?.action==="stroke"?s=a.data.path:s=this._activePath.clone(),s?(e!=null&&(i!==void 0&&typeof e=="number"&&(Xe(Ot,"GraphicsContext.fill(color, alpha) is deprecated, use GraphicsContext.fill({ color, alpha }) instead"),e={color:e,alpha:i}),this._fillStyle=To(e,Hn.defaultFillStyle)),this.instructions.push({action:"fill",data:{style:this.fillStyle,path:s}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}_initNextPathLocation(){const{x:e,y:i}=this._activePath.getLastPoint(Dt.shared);this._activePath.clear(),this._activePath.moveTo(e,i)}stroke(e){let i;const s=this.instructions[this.instructions.length-1];return this._tick===0&&s?.action==="fill"?i=s.data.path:i=this._activePath.clone(),i?(e!=null&&(this._strokeStyle=ox(e,Hn.defaultStrokeStyle)),this.instructions.push({action:"stroke",data:{style:this.strokeStyle,path:i}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}cut(){for(let e=0;e<2;e++){const i=this.instructions[this.instructions.length-1-e],s=this._activePath.clone();if(i&&(i.action==="stroke"||i.action==="fill"))if(i.data.hole)i.data.hole.addPath(s);else{i.data.hole=s;break}}return this._initNextPathLocation(),this}arc(e,i,s,a,l,c){this._tick++;const h=this._transform;return this._activePath.arc(h.a*e+h.c*i+h.tx,h.b*e+h.d*i+h.ty,s,a,l,c),this}arcTo(e,i,s,a,l){this._tick++;const c=this._transform;return this._activePath.arcTo(c.a*e+c.c*i+c.tx,c.b*e+c.d*i+c.ty,c.a*s+c.c*a+c.tx,c.b*s+c.d*a+c.ty,l),this}arcToSvg(e,i,s,a,l,c,h){this._tick++;const f=this._transform;return this._activePath.arcToSvg(e,i,s,a,l,f.a*c+f.c*h+f.tx,f.b*c+f.d*h+f.ty),this}bezierCurveTo(e,i,s,a,l,c,h){this._tick++;const f=this._transform;return this._activePath.bezierCurveTo(f.a*e+f.c*i+f.tx,f.b*e+f.d*i+f.ty,f.a*s+f.c*a+f.tx,f.b*s+f.d*a+f.ty,f.a*l+f.c*c+f.tx,f.b*l+f.d*c+f.ty,h),this}closePath(){return this._tick++,this._activePath?.closePath(),this}ellipse(e,i,s,a){return this._tick++,this._activePath.ellipse(e,i,s,a,this._transform.clone()),this}circle(e,i,s){return this._tick++,this._activePath.circle(e,i,s,this._transform.clone()),this}path(e){return this._tick++,this._activePath.addPath(e,this._transform.clone()),this}lineTo(e,i){this._tick++;const s=this._transform;return this._activePath.lineTo(s.a*e+s.c*i+s.tx,s.b*e+s.d*i+s.ty),this}moveTo(e,i){this._tick++;const s=this._transform,a=this._activePath.instructions,l=s.a*e+s.c*i+s.tx,c=s.b*e+s.d*i+s.ty;return a.length===1&&a[0].action==="moveTo"?(a[0].data[0]=l,a[0].data[1]=c,this):(this._activePath.moveTo(l,c),this)}quadraticCurveTo(e,i,s,a,l){this._tick++;const c=this._transform;return this._activePath.quadraticCurveTo(c.a*e+c.c*i+c.tx,c.b*e+c.d*i+c.ty,c.a*s+c.c*a+c.tx,c.b*s+c.d*a+c.ty,l),this}rect(e,i,s,a){return this._tick++,this._activePath.rect(e,i,s,a,this._transform.clone()),this}roundRect(e,i,s,a,l){return this._tick++,this._activePath.roundRect(e,i,s,a,l,this._transform.clone()),this}poly(e,i){return this._tick++,this._activePath.poly(e,i,this._transform.clone()),this}regularPoly(e,i,s,a,l=0,c){return this._tick++,this._activePath.regularPoly(e,i,s,a,l,c),this}roundPoly(e,i,s,a,l,c){return this._tick++,this._activePath.roundPoly(e,i,s,a,l,c),this}roundShape(e,i,s,a){return this._tick++,this._activePath.roundShape(e,i,s,a),this}filletRect(e,i,s,a,l){return this._tick++,this._activePath.filletRect(e,i,s,a,l),this}chamferRect(e,i,s,a,l,c){return this._tick++,this._activePath.chamferRect(e,i,s,a,l,c),this}star(e,i,s,a,l=0,c=0){return this._tick++,this._activePath.star(e,i,s,a,l,c,this._transform.clone()),this}svg(e){return this._tick++,YO(e,this),this}restore(){const e=this._stateStack.pop();return e&&(this._transform=e.transform,this._fillStyle=e.fillStyle,this._strokeStyle=e.strokeStyle),this}save(){return this._stateStack.push({transform:this._transform.clone(),fillStyle:{...this._fillStyle},strokeStyle:{...this._strokeStyle}}),this}getTransform(){return this._transform}resetTransform(){return this._transform.identity(),this}rotate(e){return this._transform.rotate(e),this}scale(e,i=e){return this._transform.scale(e,i),this}setTransform(e,i,s,a,l,c){return e instanceof Oe?(this._transform.set(e.a,e.b,e.c,e.d,e.tx,e.ty),this):(this._transform.set(e,i,s,a,l,c),this)}transform(e,i,s,a,l,c){return e instanceof Oe?(this._transform.append(e),this):(lx.set(e,i,s,a,l,c),this._transform.append(lx),this)}translate(e,i=e){return this._transform.translate(e,i),this}clear(){return this._activePath.clear(),this.instructions.length=0,this.resetTransform(),this.onUpdate(),this}onUpdate(){this._boundsDirty=!0,!this.dirty&&(this.emit("update",this,16),this.dirty=!0)}get bounds(){if(!this._boundsDirty)return this._bounds;this._boundsDirty=!1;const e=this._bounds;e.clear();for(let i=0;i<this.instructions.length;i++){const s=this.instructions[i],a=s.action;if(a==="fill"){const l=s.data;e.addBounds(l.path.bounds)}else if(a==="texture"){const l=s.data;e.addFrame(l.dx,l.dy,l.dx+l.dw,l.dy+l.dh,l.transform)}if(a==="stroke"){const l=s.data,c=l.style.alignment,h=l.style.width*(1-c),f=l.path.bounds;e.addFrame(f.minX-h,f.minY-h,f.maxX+h,f.maxY+h)}}return e}containsPoint(e){if(!this.bounds.containsPoint(e.x,e.y))return!1;const i=this.instructions;let s=!1;for(let a=0;a<i.length;a++){const l=i[a],c=l.data,h=c.path;if(!l.action||!h)continue;const f=c.style,y=h.shapePath.shapePrimitives;for(let m=0;m<y.length;m++){const g=y[m].shape;if(!f||!g)continue;const v=y[m].transform,b=v?v.applyInverse(e,JO):e;if(l.action==="fill")s=g.contains(b.x,b.y);else{const A=f;s=g.strokeContains(b.x,b.y,A.width,A.alignment)}const w=c.hole;if(w){const A=w.shapePath?.shapePrimitives;if(A)for(let x=0;x<A.length;x++)A[x].shape.contains(b.x,b.y)&&(s=!1)}if(s)return!0}}return s}unload(){this.emit("unload",this);for(const e in this._gpuData)this._gpuData[e]?.destroy();this._gpuData=Object.create(null)}destroy(e=!1){if(this.destroyed)return;if(this.destroyed=!0,this._stateStack.length=0,this._transform=null,this.unload(),this.emit("destroy",this),this.removeAllListeners(),typeof e=="boolean"?e:e?.texture){const s=typeof e=="boolean"?e:e?.textureSource;this._fillStyle.texture&&(this._fillStyle.fill&&"uid"in this._fillStyle.fill?this._fillStyle.fill.destroy():this._fillStyle.texture.destroy(s)),this._strokeStyle.texture&&(this._strokeStyle.fill&&"uid"in this._strokeStyle.fill?this._strokeStyle.fill.destroy():this._strokeStyle.texture.destroy(s))}this._fillStyle=null,this._strokeStyle=null,this.instructions=null,this._activePath=null,this._bounds=null,this._stateStack=null,this.customShader=null,this._transform=null}};Hp.defaultFillStyle={color:16777215,alpha:1,texture:je.WHITE,matrix:null,fill:null,textureSpace:"local"};Hp.defaultStrokeStyle={width:1,color:16777215,alpha:1,alignment:.5,miterLimit:10,cap:"butt",join:"miter",texture:je.WHITE,matrix:null,fill:null,textureSpace:"local",pixelLine:!1};let ho=Hp;var e3=`in vec2 aPosition;
out vec2 vTextureCoord;

uniform vec4 uInputSize;
uniform vec4 uOutputFrame;
uniform vec4 uOutputTexture;

vec4 filterVertexPosition( void )
{
    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;
    
    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aPosition * (uOutputFrame.zw * uInputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;class Mc extends Jw{constructor(e){e instanceof ho&&(e={context:e});const{context:i,roundPixels:s,...a}=e||{};super({label:"Graphics",...a}),this.renderPipeId="graphics",i?this.context=i:(this.context=this._ownedContext=new ho,this.context.autoGarbageCollect=this.autoGarbageCollect),this.didViewUpdate=!0,this.allowChildren=!1,this.roundPixels=s??!1}set context(e){e!==this._context&&(this._context&&(this._context.off("update",this.onViewUpdate,this),this._context.off("unload",this.unload,this)),this._context=e,this._context.on("update",this.onViewUpdate,this),this._context.on("unload",this.unload,this),this.onViewUpdate())}get context(){return this._context}get bounds(){return this._context.bounds}updateBounds(){}containsPoint(e){return this._context.containsPoint(e)}destroy(e){this._ownedContext&&!e?this._ownedContext.destroy(e):(e===!0||e?.context===!0)&&this._context.destroy(e),this._ownedContext=null,this._context=null,super.destroy(e)}_onTouch(e){this._gcLastUsed=e,this._context._gcLastUsed=e}_callContextMethod(e,i){return this.context[e](...i),this}setFillStyle(...e){return this._callContextMethod("setFillStyle",e)}setStrokeStyle(...e){return this._callContextMethod("setStrokeStyle",e)}fill(...e){return this._callContextMethod("fill",e)}stroke(...e){return this._callContextMethod("stroke",e)}texture(...e){return this._callContextMethod("texture",e)}beginPath(){return this._callContextMethod("beginPath",[])}cut(){return this._callContextMethod("cut",[])}arc(...e){return this._callContextMethod("arc",e)}arcTo(...e){return this._callContextMethod("arcTo",e)}arcToSvg(...e){return this._callContextMethod("arcToSvg",e)}bezierCurveTo(...e){return this._callContextMethod("bezierCurveTo",e)}closePath(){return this._callContextMethod("closePath",[])}ellipse(...e){return this._callContextMethod("ellipse",e)}circle(...e){return this._callContextMethod("circle",e)}path(...e){return this._callContextMethod("path",e)}lineTo(...e){return this._callContextMethod("lineTo",e)}moveTo(...e){return this._callContextMethod("moveTo",e)}quadraticCurveTo(...e){return this._callContextMethod("quadraticCurveTo",e)}rect(...e){return this._callContextMethod("rect",e)}roundRect(...e){return this._callContextMethod("roundRect",e)}poly(...e){return this._callContextMethod("poly",e)}regularPoly(...e){return this._callContextMethod("regularPoly",e)}roundPoly(...e){return this._callContextMethod("roundPoly",e)}roundShape(...e){return this._callContextMethod("roundShape",e)}filletRect(...e){return this._callContextMethod("filletRect",e)}chamferRect(...e){return this._callContextMethod("chamferRect",e)}star(...e){return this._callContextMethod("star",e)}svg(...e){return this._callContextMethod("svg",e)}restore(...e){return this._callContextMethod("restore",e)}save(){return this._callContextMethod("save",[])}getTransform(){return this.context.getTransform()}resetTransform(){return this._callContextMethod("resetTransform",[])}rotateTransform(...e){return this._callContextMethod("rotate",e)}scaleTransform(...e){return this._callContextMethod("scale",e)}setTransform(...e){return this._callContextMethod("setTransform",e)}transform(...e){return this._callContextMethod("transform",e)}translateTransform(...e){return this._callContextMethod("translate",e)}clear(){return this._callContextMethod("clear",[])}get fillStyle(){return this._context.fillStyle}set fillStyle(e){this._context.fillStyle=e}get strokeStyle(){return this._context.strokeStyle}set strokeStyle(e){this._context.strokeStyle=e}clone(e=!1){return e?new Mc(this._context.clone()):(this._ownedContext=null,new Mc(this._context))}lineStyle(e,i,s){Xe(Ot,"Graphics#lineStyle is no longer needed. Use Graphics#setStrokeStyle to set the stroke style.");const a={};return e&&(a.width=e),i&&(a.color=i),s&&(a.alpha=s),this.context.strokeStyle=a,this}beginFill(e,i){Xe(Ot,"Graphics#beginFill is no longer needed. Use Graphics#fill to fill the shape with the desired style.");const s={};return e!==void 0&&(s.color=e),i!==void 0&&(s.alpha=i),this.context.fillStyle=s,this}endFill(){Xe(Ot,"Graphics#endFill is no longer needed. Use Graphics#fill to fill the shape with the desired style."),this.context.fill();const e=this.context.strokeStyle;return(e.width!==ho.defaultStrokeStyle.width||e.color!==ho.defaultStrokeStyle.color||e.alpha!==ho.defaultStrokeStyle.alpha)&&this.context.stroke(),this}drawCircle(...e){return Xe(Ot,"Graphics#drawCircle has been renamed to Graphics#circle"),this._callContextMethod("circle",e)}drawEllipse(...e){return Xe(Ot,"Graphics#drawEllipse has been renamed to Graphics#ellipse"),this._callContextMethod("ellipse",e)}drawPolygon(...e){return Xe(Ot,"Graphics#drawPolygon has been renamed to Graphics#poly"),this._callContextMethod("poly",e)}drawRect(...e){return Xe(Ot,"Graphics#drawRect has been renamed to Graphics#rect"),this._callContextMethod("rect",e)}drawRoundedRect(...e){return Xe(Ot,"Graphics#drawRoundedRect has been renamed to Graphics#roundRect"),this._callContextMethod("roundRect",e)}drawStar(...e){return Xe(Ot,"Graphics#drawStar has been renamed to Graphics#star"),this._callContextMethod("star",e)}}class Fc extends je{static create(e){const{dynamic:i,...s}=e;return new Fc({source:new Mn(s),dynamic:i??!1})}resize(e,i,s){return this.source.resize(e,i,s),this}}wi.add(yC,pC);const KU=["yellow","cyan","green","magenta","white"],$p=25,ZU=1e3/$p,Fp={amigaHiResPal:{name:"Amiga Hi-Res PAL",size:{x:640,y:512}},classicMac:{name:"Classic Mac",size:{x:512,y:384}},amigaLowResPal:{name:"Amiga Lo-Res PAL",size:{x:320,y:256}},zxSpectrum:{name:"ZX Spectrum",size:{x:256,y:192}},handheld:{name:"Handheld",size:{x:256,y:135}}},t3=Object.keys(Fp),n3={red:new $e("#f00"),green:new $e("#0f0"),blue:new $e("#00f"),cyan:new $e("#0ff"),magenta:new $e("#f0f"),yellow:new $e("#ff0"),black:new $e("#000"),white:new $e("#fff")},i3={red:new $e("#B00"),green:new $e("#0B0"),blue:new $e("#00B"),cyan:new $e("#0BB"),magenta:new $e("#B0B"),yellow:new $e("#BB0"),black:new $e("#000"),white:new $e("#BBB")},WU="1987-06-01T00:00:00Z";function JU(t,e){const{hue:i,shade:s}=typeof t=="object"?t:{hue:t,shade:e??"basic"};return(s==="dimmed"?i3:n3)[i]}const vi=()=>{if(typeof globalThis.window>"u")return"server";const t=Xr().get("device");if(t!==null)return t;const e=navigator.userAgent;return navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1||/iPad|Tablet|Android(?!.*Mobi)/i.test(e)?"tablet":/Mobi|Android|iPhone|iPod/i.test(e)?"mobile":"desktop"},ej=[],$S=new Set;$S.add=()=>{throw new Error("emptySet.add")};$S.clear=()=>{throw new Error("emptySet.clear")};const An=Object.freeze({}),Cc=(t,e)=>e.split(".").reduce((i,s)=>i[s],t),s3=(t,e,i)=>{const s=e.split(".");let a=t;for(let l=0;l<s.length-1;l++){const c=s[l];a=a[c]}a[s[s.length-1]]=i},ec=(t,e)=>{const i=t.indexOf(e);return t[(i+1)%t.length]},r3=(t,...e)=>{const i={};for(const s of e)i[s]=t[s];return i},tj=(t,...e)=>{const i={...t};for(const s of e)delete i[s];return i},a3=["world","screen","mixed"];var sy,ux;function o3(){if(ux)return sy;ux=1;function t(s){if(Array.isArray(s))return!0;var a=s.length;return typeof a=="number"&&a>-1?a?0 in s&&a-1 in s:!0:!1}function e(s){var a=typeof s;return a==="object"?s===null?"null":t(s)?"array":s.constructor===Object?"pure-object":"object":a}function i(s,a){if(s===a||s!==s&&a!==a)return!0;var l=e(s),c=e(a);if(l!==c)return!1;if(l==="pure-object"){if(s===a)return!0;var h=Object.keys(s),f=Object.keys(a).length;if(h.length!==f)return!1;for(var y=0,m=h.length;y<m;y++){var g=h[y];if(!a.hasOwnProperty(h[y]))return!1;var v=s[g],b=a[g];if(v===s||b===a||v===a||b===s)return v===b;if(!i(v,b))return!1}return!0}else if(l==="array"){if(s.length===a.length)for(var w=0;w<s.length;w++){var A=s[w],x=a[w];if(A===s||x===a||A===a||x===s)return A===x;if(!i(A,x))return!1}else return!1;return!0}else if(l==="object"){if(s.valueOf!==Object.prototype.valueOf()&&a.valueOf!==Object.prototype.valueOf())return s.valueOf()===a.valueOf();if(s.toString!==Object.prototype.toString()&&a.toString!==Object.prototype.toString())return s.toString()===a.toString()}return!1}return sy=i,sy}var l3=o3();const nj=xi(l3),ij=sw.withTypes(),Vp=rw.withTypes();hp.withTypes();var FS=(t=>(t.uninitialized="uninitialized",t.pending="pending",t.fulfilled="fulfilled",t.rejected="rejected",t))(FS||{});function cx(t){return{status:t,isUninitialized:t==="uninitialized",isLoading:t==="pending",isSuccess:t==="fulfilled",isError:t==="rejected"}}var hx=Kr;function VS(t,e){if(t===e||!(hx(t)&&hx(e)||Array.isArray(t)&&Array.isArray(e)))return e;const i=Object.keys(e),s=Object.keys(t);let a=i.length===s.length;const l=Array.isArray(e)?[]:{};for(const c of i)l[c]=VS(t[c],e[c]),a&&(a=t[c]===l[c]);return a?t:l}function Qr(t){let e=0;for(const i in t)e++;return e}var fx=t=>[].concat(...t);function u3(){return typeof document>"u"?!0:document.visibilityState!=="hidden"}function kc(t){return t!=null}function c3(){return typeof navigator>"u"||navigator.onLine===void 0?!0:navigator.onLine}function h3(t,e,i){return t.has(e)?t.get(e):t.set(e,i).get(e)}var dx=class{constructor(t,e=void 0){this.value=t,this.meta=e}},Yp=Bt("__rtkq/focused"),YS=Bt("__rtkq/unfocused"),Xp=Bt("__rtkq/online"),XS=Bt("__rtkq/offline");function Qp(t){return t.type==="query"}function f3(t){return t.type==="mutation"}function Kp(t){return t.type==="infinitequery"}function Zp(t,e,i,s,a,l){return d3(t)?t(e,i,s,a).filter(kc).map(Yy).map(l):Array.isArray(t)?t.map(Yy).map(l):[]}function d3(t){return typeof t=="function"}function Yy(t){return typeof t=="string"?{type:t}:t}function y3(t,e){return t.catch(e)}var Qo=Symbol("forceQueryFn"),Xy=t=>typeof t[Qo]=="function";function p3({serializeQueryArgs:t,queryThunk:e,infiniteQueryThunk:i,mutationThunk:s,api:a,context:l}){const c=new Map,h=new Map,{unsubscribeQueryResult:f,removeMutationResult:y,updateSubscriptionOptions:m}=a.internalActions;return{buildInitiateQuery:x,buildInitiateInfiniteQuery:T,buildInitiateMutation:C,getRunningQueryThunk:g,getRunningMutationThunk:v,getRunningQueriesThunk:b,getRunningMutationsThunk:w};function g(S,E){return z=>{const O=l.endpointDefinitions[S],k=t({queryArgs:E,endpointDefinition:O,endpointName:S});return c.get(z)?.[k]}}function v(S,E){return z=>h.get(z)?.[E]}function b(){return S=>Object.values(c.get(S)||{}).filter(kc)}function w(){return S=>Object.values(h.get(S)||{}).filter(kc)}function A(S,E){const z=(O,{subscribe:k=!0,forceRefetch:R,subscriptionOptions:P,[Qo]:B,...N}={})=>(V,W)=>{const ee=t({queryArgs:O,endpointDefinition:E,endpointName:S});let ae;const D={...N,type:"query",subscribe:k,forceRefetch:R,subscriptionOptions:P,endpointName:S,originalArgs:O,queryCacheKey:ee,[Qo]:B};if(Qp(E))ae=e(D);else{const{direction:oe,initialPageParam:ye}=N;ae=i({...D,direction:oe,initialPageParam:ye})}const I=a.endpoints[S].select(O),J=V(ae),se=I(W()),{requestId:ce,abort:j}=J,F=se.requestId!==ce,Z=c.get(V)?.[ee],te=()=>I(W()),re=Object.assign(B?J.then(te):F&&!Z?Promise.resolve(se):Promise.all([Z,J]).then(te),{arg:O,requestId:ce,subscriptionOptions:P,queryCacheKey:ee,abort:j,async unwrap(){const oe=await re;if(oe.isError)throw oe.error;return oe.data},refetch:()=>V(z(O,{subscribe:!1,forceRefetch:!0})),unsubscribe(){k&&V(f({queryCacheKey:ee,requestId:ce}))},updateSubscriptionOptions(oe){re.subscriptionOptions=oe,V(m({endpointName:S,requestId:ce,queryCacheKey:ee,options:oe}))}});if(!Z&&!F&&!B){const oe=h3(c,V,{});oe[ee]=re,re.then(()=>{delete oe[ee],Qr(oe)||c.delete(V)})}return re};return z}function x(S,E){return A(S,E)}function T(S,E){return A(S,E)}function C(S){return(E,{track:z=!0,fixedCacheKey:O}={})=>(k,R)=>{const P=s({type:"mutation",endpointName:S,originalArgs:E,track:z,fixedCacheKey:O}),B=k(P),{requestId:N,abort:V,unwrap:W}=B,ee=y3(B.unwrap().then(J=>({data:J})),J=>({error:J})),ae=()=>{k(y({requestId:N,fixedCacheKey:O}))},D=Object.assign(ee,{arg:B.arg,requestId:N,abort:V,unwrap:W,reset:ae}),I=h.get(k)||{};return h.set(k,I),I[N]=D,D.then(()=>{delete I[N],Qr(I)||h.delete(k)}),O&&(I[O]=D,D.then(()=>{I[O]===D&&(delete I[O],Qr(I)||h.delete(k))})),D}}}function m3(t){return t}var tc=(t={})=>({...t,[Pc]:!0});function g3({reducerPath:t,baseQuery:e,context:{endpointDefinitions:i},serializeQueryArgs:s,api:a,assertTagType:l,selectors:c}){const h=(R,P,B,N)=>(V,W)=>{const ee=i[R],ae=s({queryArgs:P,endpointDefinition:ee,endpointName:R});if(V(a.internalActions.queryResultPatched({queryCacheKey:ae,patches:B})),!N)return;const D=a.endpoints[R].select(P)(W()),I=Zp(ee.providesTags,D.data,void 0,P,{},l);V(a.internalActions.updateProvidedBy({queryCacheKey:ae,providedTags:I}))};function f(R,P,B=0){const N=[P,...R];return B&&N.length>B?N.slice(0,-1):N}function y(R,P,B=0){const N=[...R,P];return B&&N.length>B?N.slice(1):N}const m=(R,P,B,N=!0)=>(V,W)=>{const ae=a.endpoints[R].select(P)(W()),D={patches:[],inversePatches:[],undo:()=>V(a.util.patchQueryData(R,P,D.inversePatches,N))};if(ae.status==="uninitialized")return D;let I;if("data"in ae)if(jn(ae.data)){const[J,se,ce]=hw(ae.data,B);D.patches.push(...se),D.inversePatches.push(...ce),I=J}else I=B(ae.data),D.patches.push({op:"replace",path:[],value:I}),D.inversePatches.push({op:"replace",path:[],value:ae.data});return D.patches.length===0||V(a.util.patchQueryData(R,P,D.patches,N)),D},g=(R,P,B)=>N=>N(a.endpoints[R].initiate(P,{subscribe:!1,forceRefetch:!0,[Qo]:()=>({data:B})})),v=(R,P)=>R.query&&R[P]?R[P]:m3,b=async(R,{signal:P,abort:B,rejectWithValue:N,fulfillWithValue:V,dispatch:W,getState:ee,extra:ae})=>{const D=i[R.endpointName];try{let I=v(D,"transformResponse");const J={signal:P,abort:B,dispatch:W,getState:ee,extra:ae,endpoint:R.endpointName,type:R.type,forced:R.type==="query"?w(R,ee()):void 0,queryCacheKey:R.type==="query"?R.queryCacheKey:void 0},se=R.type==="query"?R[Qo]:void 0;let ce;const j=async(Z,te,re,oe)=>{if(te==null&&Z.pages.length)return Promise.resolve({data:Z});const ye={queryArg:R.originalArgs,pageParam:te},Ze=await F(ye),ke=oe?f:y;return{data:{pages:ke(Z.pages,Ze.data,re),pageParams:ke(Z.pageParams,te,re)}}};async function F(Z){let te;const{extraOptions:re}=D;if(se?te=se():D.query?te=await e(D.query(Z),J,re):te=await D.queryFn(Z,J,re,ye=>e(ye,J,re)),typeof process<"u",te.error)throw new dx(te.error,te.meta);const oe=await I(te.data,te.meta,Z);return{...te,data:oe}}if(R.type==="query"&&"infiniteQueryOptions"in D){const{infiniteQueryOptions:Z}=D,{maxPages:te=1/0}=Z;let re;const oe={pages:[],pageParams:[]},ye=c.selectQueryEntry(ee(),R.queryCacheKey)?.data,ke=w(R,ee())&&!R.direction||!ye?oe:ye;if("direction"in R&&R.direction&&ke.pages.length){const zt=R.direction==="backward",Ut=(zt?QS:Qy)(Z,ke);re=await j(ke,Ut,te,zt)}else{const{initialPageParam:zt=Z.initialPageParam}=R,cn=ye?.pageParams??[],Ut=cn[0]??zt,hn=cn.length;re=await j(ke,Ut,te),se&&(re={data:re.data.pages[0]});for(let ct=1;ct<hn;ct++){const Xt=Qy(Z,re.data);re=await j(re.data,Xt,te)}}ce=re}else ce=await F(R.originalArgs);return V(ce.data,tc({fulfilledTimeStamp:Date.now(),baseQueryMeta:ce.meta}))}catch(I){let J=I;if(J instanceof dx){let se=v(D,"transformErrorResponse");try{return N(await se(J.value,J.meta,R.originalArgs),tc({baseQueryMeta:J.meta}))}catch(ce){J=ce}}throw console.error(J),J}};function w(R,P){const B=c.selectQueryEntry(P,R.queryCacheKey),N=c.selectConfig(P).refetchOnMountOrArgChange,V=B?.fulfilledTimeStamp,W=R.forceRefetch??(R.subscribe&&N);return W?W===!0||(Number(new Date)-Number(V))/1e3>=W:!1}const A=()=>Ov(`${t}/executeQuery`,b,{getPendingMeta({arg:P}){const B=i[P.endpointName];return tc({startedTimeStamp:Date.now(),...Kp(B)?{direction:P.direction}:{}})},condition(P,{getState:B}){const N=B(),V=c.selectQueryEntry(N,P.queryCacheKey),W=V?.fulfilledTimeStamp,ee=P.originalArgs,ae=V?.originalArgs,D=i[P.endpointName],I=P.direction;return Xy(P)?!0:V?.status==="pending"?!1:w(P,N)||Qp(D)&&D?.forceRefetch?.({currentArg:ee,previousArg:ae,endpointState:V,state:N})?!0:!(W&&!I)},dispatchConditionRejection:!0}),x=A(),T=A(),C=Ov(`${t}/executeMutation`,b,{getPendingMeta(){return tc({startedTimeStamp:Date.now()})}}),S=R=>"force"in R,E=R=>"ifOlderThan"in R,z=(R,P,B)=>(N,V)=>{const W=S(B)&&B.force,ee=E(B)&&B.ifOlderThan,ae=(I=!0)=>{const J={forceRefetch:I,isPrefetch:!0};return a.endpoints[R].initiate(P,J)},D=a.endpoints[R].select(P)(V());if(W)N(ae());else if(ee){const I=D?.fulfilledTimeStamp;if(!I){N(ae());return}(Number(new Date)-Number(new Date(I)))/1e3>=ee&&N(ae())}else N(ae(!1))};function O(R){return P=>P?.meta?.arg?.endpointName===R}function k(R,P){return{matchPending:Oo(vp(R),O(P)),matchFulfilled:Oo(ns(R),O(P)),matchRejected:Oo(Zr(R),O(P))}}return{queryThunk:x,mutationThunk:C,infiniteQueryThunk:T,prefetch:z,updateQueryData:m,upsertQueryData:g,patchQueryData:h,buildMatchThunkActions:k}}function Qy(t,{pages:e,pageParams:i}){const s=e.length-1;return t.getNextPageParam(e[s],e,i[s],i)}function QS(t,{pages:e,pageParams:i}){return t.getPreviousPageParam?.(e[0],e,i[0],i)}function KS(t,e,i,s){return Zp(i[t.meta.arg.endpointName][e],ns(t)?t.payload:void 0,Nc(t)?t.payload:void 0,t.meta.arg.originalArgs,"baseQueryMeta"in t.meta?t.meta.baseQueryMeta:void 0,s)}function nc(t,e,i){const s=t[e];s&&i(s)}function Ko(t){return("arg"in t?t.arg.fixedCacheKey:t.fixedCacheKey)??t.requestId}function yx(t,e,i){const s=t[Ko(e)];s&&i(s)}var fo={};function b3({reducerPath:t,queryThunk:e,mutationThunk:i,serializeQueryArgs:s,context:{endpointDefinitions:a,apiUid:l,extractRehydrationInfo:c,hasRehydrationInfo:h},assertTagType:f,config:y}){const m=Bt(`${t}/resetApiState`);function g(k,R,P,B){k[R.queryCacheKey]??={status:"uninitialized",endpointName:R.endpointName},nc(k,R.queryCacheKey,N=>{N.status="pending",N.requestId=P&&N.requestId?N.requestId:B.requestId,R.originalArgs!==void 0&&(N.originalArgs=R.originalArgs),N.startedTimeStamp=B.startedTimeStamp;const V=a[B.arg.endpointName];Kp(V)&&"direction"in R&&(N.direction=R.direction)})}function v(k,R,P,B){nc(k,R.arg.queryCacheKey,N=>{if(N.requestId!==R.requestId&&!B)return;const{merge:V}=a[R.arg.endpointName];if(N.status="fulfilled",V)if(N.data!==void 0){const{fulfilledTimeStamp:W,arg:ee,baseQueryMeta:ae,requestId:D}=R;let I=il(N.data,J=>V(J,P,{arg:ee.originalArgs,baseQueryMeta:ae,fulfilledTimeStamp:W,requestId:D}));N.data=I}else N.data=P;else N.data=a[R.arg.endpointName].structuralSharing??!0?VS($n(N.data)?LE(N.data):N.data,P):P;delete N.error,N.fulfilledTimeStamp=R.fulfilledTimeStamp})}const b=pi({name:`${t}/queries`,initialState:fo,reducers:{removeQueryResult:{reducer(k,{payload:{queryCacheKey:R}}){delete k[R]},prepare:to()},cacheEntriesUpserted:{reducer(k,R){for(const P of R.payload){const{queryDescription:B,value:N}=P;g(k,B,!0,{arg:B,requestId:R.meta.requestId,startedTimeStamp:R.meta.timestamp}),v(k,{arg:B,requestId:R.meta.requestId,fulfilledTimeStamp:R.meta.timestamp,baseQueryMeta:{}},N,!0)}},prepare:k=>({payload:k.map(B=>{const{endpointName:N,arg:V,value:W}=B,ee=a[N];return{queryDescription:{type:"query",endpointName:N,originalArgs:B.arg,queryCacheKey:s({queryArgs:V,endpointDefinition:ee,endpointName:N})},value:W}}),meta:{[Pc]:!0,requestId:rl(),timestamp:Date.now()}})},queryResultPatched:{reducer(k,{payload:{queryCacheKey:R,patches:P}}){nc(k,R,B=>{B.data=Av(B.data,P.concat())})},prepare:to()}},extraReducers(k){k.addCase(e.pending,(R,{meta:P,meta:{arg:B}})=>{const N=Xy(B);g(R,B,N,P)}).addCase(e.fulfilled,(R,{meta:P,payload:B})=>{const N=Xy(P.arg);v(R,P,B,N)}).addCase(e.rejected,(R,{meta:{condition:P,arg:B,requestId:N},error:V,payload:W})=>{nc(R,B.queryCacheKey,ee=>{if(!P){if(ee.requestId!==N)return;ee.status="rejected",ee.error=W??V}})}).addMatcher(h,(R,P)=>{const{queries:B}=c(P);for(const[N,V]of Object.entries(B))(V?.status==="fulfilled"||V?.status==="rejected")&&(R[N]=V)})}}),w=pi({name:`${t}/mutations`,initialState:fo,reducers:{removeMutationResult:{reducer(k,{payload:R}){const P=Ko(R);P in k&&delete k[P]},prepare:to()}},extraReducers(k){k.addCase(i.pending,(R,{meta:P,meta:{requestId:B,arg:N,startedTimeStamp:V}})=>{N.track&&(R[Ko(P)]={requestId:B,status:"pending",endpointName:N.endpointName,startedTimeStamp:V})}).addCase(i.fulfilled,(R,{payload:P,meta:B})=>{B.arg.track&&yx(R,B,N=>{N.requestId===B.requestId&&(N.status="fulfilled",N.data=P,N.fulfilledTimeStamp=B.fulfilledTimeStamp)})}).addCase(i.rejected,(R,{payload:P,error:B,meta:N})=>{N.arg.track&&yx(R,N,V=>{V.requestId===N.requestId&&(V.status="rejected",V.error=P??B)})}).addMatcher(h,(R,P)=>{const{mutations:B}=c(P);for(const[N,V]of Object.entries(B))(V?.status==="fulfilled"||V?.status==="rejected")&&N!==V?.requestId&&(R[N]=V)})}}),A=pi({name:`${t}/invalidation`,initialState:fo,reducers:{updateProvidedBy:{reducer(k,R){const{queryCacheKey:P,providedTags:B}=R.payload;for(const N of Object.values(k))for(const V of Object.values(N)){const W=V.indexOf(P);W!==-1&&V.splice(W,1)}for(const{type:N,id:V}of B){const W=(k[N]??={})[V||"__internal_without_id"]??=[];W.includes(P)||W.push(P)}},prepare:to()}},extraReducers(k){k.addCase(b.actions.removeQueryResult,(R,{payload:{queryCacheKey:P}})=>{for(const B of Object.values(R))for(const N of Object.values(B)){const V=N.indexOf(P);V!==-1&&N.splice(V,1)}}).addMatcher(h,(R,P)=>{const{provided:B}=c(P);for(const[N,V]of Object.entries(B))for(const[W,ee]of Object.entries(V)){const ae=(R[N]??={})[W||"__internal_without_id"]??=[];for(const D of ee)ae.includes(D)||ae.push(D)}}).addMatcher(_i(ns(e),Nc(e)),(R,P)=>{x(R,P)}).addMatcher(b.actions.cacheEntriesUpserted.match,(R,P)=>{for(const{queryDescription:B,value:N}of P.payload)x(R,{type:"UNKNOWN",payload:N,meta:{requestStatus:"fulfilled",requestId:"UNKNOWN",arg:B}})})}});function x(k,R){const P=KS(R,"providesTags",a,f),{queryCacheKey:B}=R.meta.arg;A.caseReducers.updateProvidedBy(k,A.actions.updateProvidedBy({queryCacheKey:B,providedTags:P}))}const T=pi({name:`${t}/subscriptions`,initialState:fo,reducers:{updateSubscriptionOptions(k,R){},unsubscribeQueryResult(k,R){},internal_getRTKQSubscriptions(){}}}),C=pi({name:`${t}/internalSubscriptions`,initialState:fo,reducers:{subscriptionsUpdated:{reducer(k,R){return Av(k,R.payload)},prepare:to()}}}),S=pi({name:`${t}/config`,initialState:{online:c3(),focused:u3(),middlewareRegistered:!1,...y},reducers:{middlewareRegistered(k,{payload:R}){k.middlewareRegistered=k.middlewareRegistered==="conflict"||l!==R?"conflict":!0}},extraReducers:k=>{k.addCase(Xp,R=>{R.online=!0}).addCase(XS,R=>{R.online=!1}).addCase(Yp,R=>{R.focused=!0}).addCase(YS,R=>{R.focused=!1}).addMatcher(h,R=>({...R}))}}),E=dp({queries:b.reducer,mutations:w.reducer,provided:A.reducer,subscriptions:C.reducer,config:S.reducer}),z=(k,R)=>E(m.match(R)?void 0:k,R),O={...S.actions,...b.actions,...T.actions,...C.actions,...w.actions,...A.actions,resetApiState:m};return{reducer:z,actions:O}}var mi=Symbol.for("RTKQ/skipToken"),ZS={status:"uninitialized"},px=il(ZS,()=>{}),mx=il(ZS,()=>{});function v3({serializeQueryArgs:t,reducerPath:e,createSelector:i}){const s=S=>px,a=S=>mx;return{buildQuerySelector:v,buildInfiniteQuerySelector:b,buildMutationSelector:w,selectInvalidatedBy:A,selectCachedArgsForQuery:x,selectApiState:c,selectQueries:h,selectMutations:y,selectQueryEntry:f,selectConfig:m};function l(S){return{...S,...cx(S.status)}}function c(S){return S[e]}function h(S){return c(S)?.queries}function f(S,E){return h(S)?.[E]}function y(S){return c(S)?.mutations}function m(S){return c(S)?.config}function g(S,E,z){return O=>{if(O===mi)return i(s,z);const k=t({queryArgs:O,endpointDefinition:E,endpointName:S});return i(P=>f(P,k)??px,z)}}function v(S,E){return g(S,E,l)}function b(S,E){const{infiniteQueryOptions:z}=E;function O(k){const R={...k,...cx(k.status)},{isLoading:P,isError:B,direction:N}=R,V=N==="forward",W=N==="backward";return{...R,hasNextPage:T(z,R.data),hasPreviousPage:C(z,R.data),isFetchingNextPage:P&&V,isFetchingPreviousPage:P&&W,isFetchNextPageError:B&&V,isFetchPreviousPageError:B&&W}}return g(S,E,O)}function w(){return S=>{let E;return typeof S=="object"?E=Ko(S)??mi:E=S,i(E===mi?a:k=>c(k)?.mutations?.[E]??mx,l)}}function A(S,E){const z=S[e],O=new Set;for(const k of E.filter(kc).map(Yy)){const R=z.provided[k.type];if(!R)continue;let P=(k.id!==void 0?R[k.id]:fx(Object.values(R)))??[];for(const B of P)O.add(B)}return fx(Array.from(O.values()).map(k=>{const R=z.queries[k];return R?[{queryCacheKey:k,endpointName:R.endpointName,originalArgs:R.originalArgs}]:[]}))}function x(S,E){return Object.values(h(S)).filter(z=>z?.endpointName===E&&z.status!=="uninitialized").map(z=>z.originalArgs)}function T(S,E){return E?Qy(S,E)!=null:!1}function C(S,E){return!E||!S.getPreviousPageParam?!1:QS(S,E)!=null}}var gx=WeakMap?new WeakMap:void 0,Ky=({endpointName:t,queryArgs:e})=>{let i="";const s=gx?.get(e);if(typeof s=="string")i=s;else{const a=JSON.stringify(e,(l,c)=>(c=typeof c=="bigint"?{$bigint:c.toString()}:c,c=Kr(c)?Object.keys(c).sort().reduce((h,f)=>(h[f]=c[f],h),{}):c,c));Kr(e)&&gx?.set(e,a),i=a}return`${t}(${i})`};function WS(...t){return function(i){const s=xc(y=>i.extractRehydrationInfo?.(y,{reducerPath:i.reducerPath??"api"})),a={reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1,invalidationBehavior:"delayed",...i,extractRehydrationInfo:s,serializeQueryArgs(y){let m=Ky;if("serializeQueryArgs"in y.endpointDefinition){const g=y.endpointDefinition.serializeQueryArgs;m=v=>{const b=g(v);return typeof b=="string"?b:Ky({...v,queryArgs:b})}}else i.serializeQueryArgs&&(m=i.serializeQueryArgs);return m(y)},tagTypes:[...i.tagTypes||[]]},l={endpointDefinitions:{},batch(y){y()},apiUid:rl(),extractRehydrationInfo:s,hasRehydrationInfo:xc(y=>s(y)!=null)},c={injectEndpoints:f,enhanceEndpoints({addTagTypes:y,endpoints:m}){if(y)for(const g of y)a.tagTypes.includes(g)||a.tagTypes.push(g);if(m)for(const[g,v]of Object.entries(m))typeof v=="function"?v(l.endpointDefinitions[g]):Object.assign(l.endpointDefinitions[g]||{},v);return c}},h=t.map(y=>y.init(c,a,l));function f(y){const m=y.endpoints({query:g=>({...g,type:"query"}),mutation:g=>({...g,type:"mutation"}),infiniteQuery:g=>({...g,type:"infinitequery"})});for(const[g,v]of Object.entries(m)){if(y.overrideExisting!==!0&&g in l.endpointDefinitions){if(y.overrideExisting==="throw")throw new Error(gt(39));continue}l.endpointDefinitions[g]=v;for(const b of h)b.injectEndpoint(g,v)}return c}return c.injectEndpoints({endpoints:i.endpoints})}}function _3(){return function(){throw new Error(gt(33))}}function fi(t,...e){return Object.assign(t,...e)}var x3=({api:t,queryThunk:e,internalState:i})=>{const s=`${t.reducerPath}/subscriptions`;let a=null,l=null;const{updateSubscriptionOptions:c,unsubscribeQueryResult:h}=t.internalActions,f=(b,w)=>{if(c.match(w)){const{queryCacheKey:x,requestId:T,options:C}=w.payload;return b?.[x]?.[T]&&(b[x][T]=C),!0}if(h.match(w)){const{queryCacheKey:x,requestId:T}=w.payload;return b[x]&&delete b[x][T],!0}if(t.internalActions.removeQueryResult.match(w))return delete b[w.payload.queryCacheKey],!0;if(e.pending.match(w)){const{meta:{arg:x,requestId:T}}=w,C=b[x.queryCacheKey]??={};return C[`${T}_running`]={},x.subscribe&&(C[T]=x.subscriptionOptions??C[T]??{}),!0}let A=!1;if(e.fulfilled.match(w)||e.rejected.match(w)){const x=b[w.meta.arg.queryCacheKey]||{},T=`${w.meta.requestId}_running`;A||=!!x[T],delete x[T]}if(e.rejected.match(w)){const{meta:{condition:x,arg:T,requestId:C}}=w;if(x&&T.subscribe){const S=b[T.queryCacheKey]??={};S[C]=T.subscriptionOptions??S[C]??{},A=!0}}return A},y=()=>i.currentSubscriptions,v={getSubscriptions:y,getSubscriptionCount:b=>{const A=y()[b]??{};return Qr(A)},isRequestSubscribed:(b,w)=>!!y()?.[b]?.[w]};return(b,w)=>{if(a||(a=JSON.parse(JSON.stringify(i.currentSubscriptions))),t.util.resetApiState.match(b))return a=i.currentSubscriptions={},l=null,[!0,!1];if(t.internalActions.internal_getRTKQSubscriptions.match(b))return[!1,v];const A=f(i.currentSubscriptions,b);let x=!0;if(A){l||(l=setTimeout(()=>{const S=JSON.parse(JSON.stringify(i.currentSubscriptions)),[,E]=hw(a,()=>S);w.next(t.internalActions.subscriptionsUpdated(E)),a=S,l=null},500));const T=typeof b.type=="string"&&!!b.type.startsWith(s),C=e.rejected.match(b)&&b.meta.condition&&!!b.meta.arg.subscribe;x=!T&&!C}return[x,!1]}};function w3(t){for(const e in t)return!1;return!0}var S3=2147483647/1e3-1,A3=({reducerPath:t,api:e,queryThunk:i,context:s,internalState:a,selectors:{selectQueryEntry:l,selectConfig:c}})=>{const{removeQueryResult:h,unsubscribeQueryResult:f,cacheEntriesUpserted:y}=e.internalActions,m=_i(f.match,i.fulfilled,i.rejected,y.match);function g(x){const T=a.currentSubscriptions[x];return!!T&&!w3(T)}const v={},b=(x,T,C)=>{const S=T.getState(),E=c(S);if(m(x)){let z;if(y.match(x))z=x.payload.map(O=>O.queryDescription.queryCacheKey);else{const{queryCacheKey:O}=f.match(x)?x.payload:x.meta.arg;z=[O]}w(z,T,E)}if(e.util.resetApiState.match(x))for(const[z,O]of Object.entries(v))O&&clearTimeout(O),delete v[z];if(s.hasRehydrationInfo(x)){const{queries:z}=s.extractRehydrationInfo(x);w(Object.keys(z),T,E)}};function w(x,T,C){const S=T.getState();for(const E of x){const z=l(S,E);A(E,z?.endpointName,T,C)}}function A(x,T,C,S){const z=s.endpointDefinitions[T]?.keepUnusedDataFor??S.keepUnusedDataFor;if(z===1/0)return;const O=Math.max(0,Math.min(z,S3));if(!g(x)){const k=v[x];k&&clearTimeout(k),v[x]=setTimeout(()=>{g(x)||C.dispatch(h({queryCacheKey:x})),delete v[x]},O*1e3)}}return b},bx=new Error("Promise never resolved before cacheEntryRemoved."),T3=({api:t,reducerPath:e,context:i,queryThunk:s,mutationThunk:a,internalState:l,selectors:{selectQueryEntry:c,selectApiState:h}})=>{const f=Ay(s),y=Ay(a),m=ns(s,a),g={};function v(T,C,S){const E=g[T];E?.valueResolved&&(E.valueResolved({data:C,meta:S}),delete E.valueResolved)}function b(T){const C=g[T];C&&(delete g[T],C.cacheEntryRemoved())}const w=(T,C,S)=>{const E=A(T);function z(O,k,R,P){const B=c(S,k),N=c(C.getState(),k);!B&&N&&x(O,P,k,C,R)}if(s.pending.match(T))z(T.meta.arg.endpointName,E,T.meta.requestId,T.meta.arg.originalArgs);else if(t.internalActions.cacheEntriesUpserted.match(T))for(const{queryDescription:O,value:k}of T.payload){const{endpointName:R,originalArgs:P,queryCacheKey:B}=O;z(R,B,T.meta.requestId,P),v(B,k,{})}else if(a.pending.match(T))C.getState()[e].mutations[E]&&x(T.meta.arg.endpointName,T.meta.arg.originalArgs,E,C,T.meta.requestId);else if(m(T))v(E,T.payload,T.meta.baseQueryMeta);else if(t.internalActions.removeQueryResult.match(T)||t.internalActions.removeMutationResult.match(T))b(E);else if(t.util.resetApiState.match(T))for(const O of Object.keys(g))b(O)};function A(T){return f(T)?T.meta.arg.queryCacheKey:y(T)?T.meta.arg.fixedCacheKey??T.meta.requestId:t.internalActions.removeQueryResult.match(T)?T.payload.queryCacheKey:t.internalActions.removeMutationResult.match(T)?Ko(T.payload):""}function x(T,C,S,E,z){const O=i.endpointDefinitions[T],k=O?.onCacheEntryAdded;if(!k)return;const R={},P=new Promise(ae=>{R.cacheEntryRemoved=ae}),B=Promise.race([new Promise(ae=>{R.valueResolved=ae}),P.then(()=>{throw bx})]);B.catch(()=>{}),g[S]=R;const N=t.endpoints[T].select(O.type==="query"?C:S),V=E.dispatch((ae,D,I)=>I),W={...E,getCacheEntry:()=>N(E.getState()),requestId:z,extra:V,updateCachedData:O.type==="query"?ae=>E.dispatch(t.util.updateQueryData(T,C,ae)):void 0,cacheDataLoaded:B,cacheEntryRemoved:P},ee=k(C,W);Promise.resolve(ee).catch(ae=>{if(ae!==bx)throw ae})}return w},E3=({api:t,context:{apiUid:e},reducerPath:i})=>(s,a)=>{t.util.resetApiState.match(s)&&a.dispatch(t.internalActions.middlewareRegistered(e))},M3=({reducerPath:t,context:e,context:{endpointDefinitions:i},mutationThunk:s,queryThunk:a,api:l,assertTagType:c,refetchQuery:h,internalState:f})=>{const{removeQueryResult:y}=l.internalActions,m=_i(ns(s),Nc(s)),g=_i(ns(s,a),Zr(s,a));let v=[];const b=(x,T)=>{m(x)?A(KS(x,"invalidatesTags",i,c),T):g(x)?A([],T):l.util.invalidateTags.match(x)&&A(Zp(x.payload,void 0,void 0,void 0,void 0,c),T)};function w(x){const{queries:T,mutations:C}=x;for(const S of[T,C])for(const E in S)if(S[E]?.status==="pending")return!0;return!1}function A(x,T){const C=T.getState(),S=C[t];if(v.push(...x),S.config.invalidationBehavior==="delayed"&&w(S))return;const E=v;if(v=[],E.length===0)return;const z=l.util.selectInvalidatedBy(C,E);e.batch(()=>{const O=Array.from(z.values());for(const{queryCacheKey:k}of O){const R=S.queries[k],P=f.currentSubscriptions[k]??{};R&&(Qr(P)===0?T.dispatch(y({queryCacheKey:k})):R.status!=="uninitialized"&&T.dispatch(h(R)))}})}return b},C3=({reducerPath:t,queryThunk:e,api:i,refetchQuery:s,internalState:a})=>{const l={},c=(v,b)=>{(i.internalActions.updateSubscriptionOptions.match(v)||i.internalActions.unsubscribeQueryResult.match(v))&&f(v.payload,b),(e.pending.match(v)||e.rejected.match(v)&&v.meta.condition)&&f(v.meta.arg,b),(e.fulfilled.match(v)||e.rejected.match(v)&&!v.meta.condition)&&h(v.meta.arg,b),i.util.resetApiState.match(v)&&m()};function h({queryCacheKey:v},b){const w=b.getState()[t],A=w.queries[v],x=a.currentSubscriptions[v];if(!A||A.status==="uninitialized")return;const{lowestPollingInterval:T,skipPollingIfUnfocused:C}=g(x);if(!Number.isFinite(T))return;const S=l[v];S?.timeout&&(clearTimeout(S.timeout),S.timeout=void 0);const E=Date.now()+T;l[v]={nextPollTimestamp:E,pollingInterval:T,timeout:setTimeout(()=>{(w.config.focused||!C)&&b.dispatch(s(A)),h({queryCacheKey:v},b)},T)}}function f({queryCacheKey:v},b){const A=b.getState()[t].queries[v],x=a.currentSubscriptions[v];if(!A||A.status==="uninitialized")return;const{lowestPollingInterval:T}=g(x);if(!Number.isFinite(T)){y(v);return}const C=l[v],S=Date.now()+T;(!C||S<C.nextPollTimestamp)&&h({queryCacheKey:v},b)}function y(v){const b=l[v];b?.timeout&&clearTimeout(b.timeout),delete l[v]}function m(){for(const v of Object.keys(l))y(v)}function g(v={}){let b=!1,w=Number.POSITIVE_INFINITY;for(let A in v)v[A].pollingInterval&&(w=Math.min(v[A].pollingInterval,w),b=v[A].skipPollingIfUnfocused||b);return{lowestPollingInterval:w,skipPollingIfUnfocused:b}}return c},k3=({api:t,context:e,queryThunk:i,mutationThunk:s})=>{const a=vp(i,s),l=Zr(i,s),c=ns(i,s),h={};return(y,m)=>{if(a(y)){const{requestId:g,arg:{endpointName:v,originalArgs:b}}=y.meta,w=e.endpointDefinitions[v],A=w?.onQueryStarted;if(A){const x={},T=new Promise((z,O)=>{x.resolve=z,x.reject=O});T.catch(()=>{}),h[g]=x;const C=t.endpoints[v].select(w.type==="query"?b:g),S=m.dispatch((z,O,k)=>k),E={...m,getCacheEntry:()=>C(m.getState()),requestId:g,extra:S,updateCachedData:w.type==="query"?z=>m.dispatch(t.util.updateQueryData(v,b,z)):void 0,queryFulfilled:T};A(b,E)}}else if(c(y)){const{requestId:g,baseQueryMeta:v}=y.meta;h[g]?.resolve({data:y.payload,meta:v}),delete h[g]}else if(l(y)){const{requestId:g,rejectedWithValue:v,baseQueryMeta:b}=y.meta;h[g]?.reject({error:y.payload??y.error,isUnhandledError:!v,meta:b}),delete h[g]}}},R3=({reducerPath:t,context:e,api:i,refetchQuery:s,internalState:a})=>{const{removeQueryResult:l}=i.internalActions,c=(f,y)=>{Yp.match(f)&&h(y,"refetchOnFocus"),Xp.match(f)&&h(y,"refetchOnReconnect")};function h(f,y){const m=f.getState()[t],g=m.queries,v=a.currentSubscriptions;e.batch(()=>{for(const b of Object.keys(v)){const w=g[b],A=v[b];if(!A||!w)continue;(Object.values(A).some(T=>T[y]===!0)||Object.values(A).every(T=>T[y]===void 0)&&m.config[y])&&(Qr(A)===0?f.dispatch(l({queryCacheKey:b})):w.status!=="uninitialized"&&f.dispatch(s(w)))}})}return c};function O3(t){const{reducerPath:e,queryThunk:i,api:s,context:a}=t,{apiUid:l}=a,c={invalidateTags:Bt(`${e}/invalidateTags`)},h=g=>g.type.startsWith(`${e}/`),f=[E3,A3,M3,C3,T3,k3];return{middleware:g=>{let v=!1;const w={...t,internalState:{currentSubscriptions:{}},refetchQuery:m,isThisApiSliceAction:h},A=f.map(C=>C(w)),x=x3(w),T=R3(w);return C=>S=>{if(!yp(S))return C(S);v||(v=!0,g.dispatch(s.internalActions.middlewareRegistered(l)));const E={...g,next:C},z=g.getState(),[O,k]=x(S,E,z);let R;if(O?R=C(S):R=k,g.getState()[e]&&(T(S,E,z),h(S)||a.hasRehydrationInfo(S)))for(const P of A)P(S,E,z);return R}},actions:c};function m(g){return t.api.endpoints[g.endpointName].initiate(g.originalArgs,{subscribe:!1,forceRefetch:!0})}}var vx=Symbol(),JS=({createSelector:t=bp}={})=>({name:vx,init(e,{baseQuery:i,tagTypes:s,reducerPath:a,serializeQueryArgs:l,keepUnusedDataFor:c,refetchOnMountOrArgChange:h,refetchOnFocus:f,refetchOnReconnect:y,invalidationBehavior:m},g){QE();const v=F=>F;Object.assign(e,{reducerPath:a,endpoints:{},internalActions:{onOnline:Xp,onOffline:XS,onFocus:Yp,onFocusLost:YS},util:{}});const b=v3({serializeQueryArgs:l,reducerPath:a,createSelector:t}),{selectInvalidatedBy:w,selectCachedArgsForQuery:A,buildQuerySelector:x,buildInfiniteQuerySelector:T,buildMutationSelector:C}=b;fi(e.util,{selectInvalidatedBy:w,selectCachedArgsForQuery:A});const{queryThunk:S,infiniteQueryThunk:E,mutationThunk:z,patchQueryData:O,updateQueryData:k,upsertQueryData:R,prefetch:P,buildMatchThunkActions:B}=g3({baseQuery:i,reducerPath:a,context:g,api:e,serializeQueryArgs:l,assertTagType:v,selectors:b}),{reducer:N,actions:V}=b3({context:g,queryThunk:S,mutationThunk:z,serializeQueryArgs:l,reducerPath:a,assertTagType:v,config:{refetchOnFocus:f,refetchOnReconnect:y,refetchOnMountOrArgChange:h,keepUnusedDataFor:c,reducerPath:a,invalidationBehavior:m}});fi(e.util,{patchQueryData:O,updateQueryData:k,upsertQueryData:R,prefetch:P,resetApiState:V.resetApiState,upsertQueryEntries:V.cacheEntriesUpserted}),fi(e.internalActions,V);const{middleware:W,actions:ee}=O3({reducerPath:a,context:g,queryThunk:S,mutationThunk:z,infiniteQueryThunk:E,api:e,assertTagType:v,selectors:b});fi(e.util,ee),fi(e,{reducer:N,middleware:W});const{buildInitiateQuery:ae,buildInitiateInfiniteQuery:D,buildInitiateMutation:I,getRunningMutationThunk:J,getRunningMutationsThunk:se,getRunningQueriesThunk:ce,getRunningQueryThunk:j}=p3({queryThunk:S,mutationThunk:z,infiniteQueryThunk:E,api:e,serializeQueryArgs:l,context:g});return fi(e.util,{getRunningMutationThunk:J,getRunningMutationsThunk:se,getRunningQueryThunk:j,getRunningQueriesThunk:ce}),{name:vx,injectEndpoint(F,Z){const te=e,re=te.endpoints[F]??={};Qp(Z)&&fi(re,{name:F,select:x(F,Z),initiate:ae(F,Z)},B(S,F)),f3(Z)&&fi(re,{name:F,select:C(),initiate:I(F)},B(z,F)),Kp(Z)&&fi(re,{name:F,select:T(F,Z),initiate:D(F,Z)},B(S,F))}}}});JS();function ic(t){return t.replace(t[0],t[0].toUpperCase())}function D3(t){return t.type==="query"}function z3(t){return t.type==="mutation"}function e1(t){return t.type==="infinitequery"}function yo(t,...e){return Object.assign(t,...e)}var ry=Symbol();function _x(t,e,i,s){const a=ue.useMemo(()=>({queryArgs:t,serialized:typeof t=="object"?e({queryArgs:t,endpointDefinition:i,endpointName:s}):t}),[t,e,i,s]),l=ue.useRef(a);return ue.useEffect(()=>{l.current.serialized!==a.serialized&&(l.current=a)},[a]),l.current.serialized===a.serialized?l.current.queryArgs:t}function sc(t){const e=ue.useRef(t);return ue.useEffect(()=>{ko(e.current,t)||(e.current=t)},[t]),ko(e.current,t)?e.current:t}var U3=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",j3=U3(),P3=()=>typeof navigator<"u"&&navigator.product==="ReactNative",B3=P3(),N3=()=>j3||B3?ue.useLayoutEffect:ue.useEffect,L3=N3(),xx=t=>t.isUninitialized?{...t,isUninitialized:!1,isFetching:!0,isLoading:t.data===void 0,status:FS.pending}:t;function ay(t,...e){const i={};return e.forEach(s=>{i[s]=t[s]}),i}var oy=["data","status","isLoading","isSuccess","isError","error"];function I3({api:t,moduleOptions:{batch:e,hooks:{useDispatch:i,useSelector:s,useStore:a},unstable__sideEffectsInRender:l,createSelector:c},serializeQueryArgs:h,context:f}){const y=l?E=>E():ue.useEffect;return{buildQueryHooks:T,buildInfiniteQueryHooks:C,buildMutationHook:S,usePrefetch:v};function m(E,z,O){if(z?.endpointName&&E.isUninitialized){const{endpointName:V}=z,W=f.endpointDefinitions[V];O!==mi&&h({queryArgs:z.originalArgs,endpointDefinition:W,endpointName:V})===h({queryArgs:O,endpointDefinition:W,endpointName:V})&&(z=void 0)}let k=E.isSuccess?E.data:z?.data;k===void 0&&(k=E.data);const R=k!==void 0,P=E.isLoading,B=(!z||z.isLoading||z.isUninitialized)&&!R&&P,N=E.isSuccess||R&&(P&&!z?.isError||E.isUninitialized);return{...E,data:k,currentData:E.data,isFetching:P,isLoading:B,isSuccess:N}}function g(E,z,O){if(z?.endpointName&&E.isUninitialized){const{endpointName:V}=z,W=f.endpointDefinitions[V];h({queryArgs:z.originalArgs,endpointDefinition:W,endpointName:V})===h({queryArgs:O,endpointDefinition:W,endpointName:V})&&(z=void 0)}let k=E.isSuccess?E.data:z?.data;k===void 0&&(k=E.data);const R=k!==void 0,P=E.isLoading,B=(!z||z.isLoading||z.isUninitialized)&&!R&&P,N=E.isSuccess||P&&R;return{...E,data:k,currentData:E.data,isFetching:P,isLoading:B,isSuccess:N}}function v(E,z){const O=i(),k=sc(z);return ue.useCallback((R,P)=>O(t.util.prefetch(E,R,{...k,...P})),[E,O,k])}function b(E,z,{refetchOnReconnect:O,refetchOnFocus:k,refetchOnMountOrArgChange:R,skip:P=!1,pollingInterval:B=0,skipPollingIfUnfocused:N=!1,...V}={}){const{initiate:W}=t.endpoints[E],ee=i(),ae=ue.useRef(void 0);if(!ae.current){const oe=ee(t.internalActions.internal_getRTKQSubscriptions());ae.current=oe}const D=_x(P?mi:z,Ky,f.endpointDefinitions[E],E),I=sc({refetchOnReconnect:O,refetchOnFocus:k,pollingInterval:B,skipPollingIfUnfocused:N}),J=ue.useRef(!1),se=V.initialPageParam,ce=sc(se),j=ue.useRef(void 0);let{queryCacheKey:F,requestId:Z}=j.current||{},te=!1;F&&Z&&(te=ae.current.isRequestSubscribed(F,Z));const re=!te&&J.current;return y(()=>{J.current=te}),y(()=>{re&&(j.current=void 0)},[re]),y(()=>{const oe=j.current;if(D===mi){oe?.unsubscribe(),j.current=void 0;return}const ye=j.current?.subscriptionOptions;if(!oe||oe.arg!==D){oe?.unsubscribe();const Ze=ee(W(D,{subscriptionOptions:I,forceRefetch:R,...e1(f.endpointDefinitions[E])?{initialPageParam:ce}:{}}));j.current=Ze}else I!==ye&&oe.updateSubscriptionOptions(I)},[ee,W,R,D,I,re,ce,E]),[j,ee,W,I]}function w(E,z){return(k,{skip:R=!1,selectFromResult:P}={})=>{const{select:B}=t.endpoints[E],N=_x(R?mi:k,h,f.endpointDefinitions[E],E),V=ue.useRef(void 0),W=ue.useMemo(()=>c([B(N),(J,se)=>se,J=>N],z,{memoizeOptions:{resultEqualityCheck:ko}}),[B,N]),ee=ue.useMemo(()=>P?c([W],P,{devModeChecks:{identityFunctionCheck:"never"}}):W,[W,P]),ae=s(J=>ee(J,V.current),ko),D=a(),I=W(D.getState(),V.current);return L3(()=>{V.current=I},[I]),ae}}function A(E){ue.useEffect(()=>()=>{E.current?.unsubscribe?.(),E.current=void 0},[E])}function x(E){if(!E.current)throw new Error(gt(38));return E.current.refetch()}function T(E){const z=(R,P={})=>{const[B]=b(E,R,P);return A(B),ue.useMemo(()=>({refetch:()=>x(B)}),[B])},O=({refetchOnReconnect:R,refetchOnFocus:P,pollingInterval:B=0,skipPollingIfUnfocused:N=!1}={})=>{const{initiate:V}=t.endpoints[E],W=i(),[ee,ae]=ue.useState(ry),D=ue.useRef(void 0),I=sc({refetchOnReconnect:R,refetchOnFocus:P,pollingInterval:B,skipPollingIfUnfocused:N});y(()=>{const j=D.current?.subscriptionOptions;I!==j&&D.current?.updateSubscriptionOptions(I)},[I]);const J=ue.useRef(I);y(()=>{J.current=I},[I]);const se=ue.useCallback(function(j,F=!1){let Z;return e(()=>{D.current?.unsubscribe(),D.current=Z=W(V(j,{subscriptionOptions:J.current,forceRefetch:!F})),ae(j)}),Z},[W,V]),ce=ue.useCallback(()=>{D.current?.queryCacheKey&&W(t.internalActions.removeQueryResult({queryCacheKey:D.current?.queryCacheKey}))},[W]);return ue.useEffect(()=>()=>{D?.current?.unsubscribe()},[]),ue.useEffect(()=>{ee!==ry&&!D.current&&se(ee,!0)},[ee,se]),ue.useMemo(()=>[se,ee,{reset:ce}],[se,ee,ce])},k=w(E,m);return{useQueryState:k,useQuerySubscription:z,useLazyQuerySubscription:O,useLazyQuery(R){const[P,B,{reset:N}]=O(R),V=k(B,{...R,skip:B===ry}),W=ue.useMemo(()=>({lastArg:B}),[B]);return ue.useMemo(()=>[P,{...V,reset:N},W],[P,V,N,W])},useQuery(R,P){const B=z(R,P),N=k(R,{selectFromResult:R===mi||P?.skip?void 0:xx,...P}),V=ay(N,...oy);return ue.useDebugValue(V),ue.useMemo(()=>({...N,...B}),[N,B])}}}function C(E){const z=(k,R={})=>{const[P,B,N,V]=b(E,k,R),W=ue.useRef(V);y(()=>{W.current=V},[V]);const ee=ue.useCallback(function(ae,D){let I;return e(()=>{P.current?.unsubscribe(),P.current=I=B(N(ae,{subscriptionOptions:W.current,direction:D}))}),I},[P,B,N]);return A(P),ue.useMemo(()=>({trigger:ee,refetch:()=>x(P),fetchNextPage:()=>ee(k,"forward"),fetchPreviousPage:()=>ee(k,"backward")}),[P,ee,k])},O=w(E,g);return{useInfiniteQueryState:O,useInfiniteQuerySubscription:z,useInfiniteQuery(k,R){const{refetch:P,fetchNextPage:B,fetchPreviousPage:N}=z(k,R),V=O(k,{selectFromResult:k===mi||R?.skip?void 0:xx,...R}),W=ay(V,...oy,"hasNextPage","hasPreviousPage");return ue.useDebugValue(W),ue.useMemo(()=>({...V,fetchNextPage:B,fetchPreviousPage:N,refetch:P}),[V,B,N,P])}}}function S(E){return({selectFromResult:z,fixedCacheKey:O}={})=>{const{select:k,initiate:R}=t.endpoints[E],P=i(),[B,N]=ue.useState();ue.useEffect(()=>()=>{B?.arg.fixedCacheKey||B?.reset()},[B]);const V=ue.useCallback(function(j){const F=P(R(j,{fixedCacheKey:O}));return N(F),F},[P,R,O]),{requestId:W}=B||{},ee=ue.useMemo(()=>k({fixedCacheKey:O,requestId:B?.requestId}),[O,B,k]),ae=ue.useMemo(()=>z?c([ee],z):ee,[z,ee]),D=s(ae,ko),I=O==null?B?.arg.originalArgs:void 0,J=ue.useCallback(()=>{e(()=>{B&&N(void 0),O&&P(t.internalActions.removeMutationResult({requestId:W,fixedCacheKey:O}))})},[P,O,B,W]),se=ay(D,...oy,"endpointName");ue.useDebugValue(se);const ce=ue.useMemo(()=>({...D,originalArgs:I,reset:J}),[D,I,J]);return ue.useMemo(()=>[V,ce],[V,ce])}}}var q3=Symbol(),G3=({batch:t=zE,hooks:e={useDispatch:sw,useSelector:rw,useStore:hp},createSelector:i=bp,unstable__sideEffectsInRender:s=!1,...a}={})=>({name:q3,init(l,{serializeQueryArgs:c},h){const f=l,{buildQueryHooks:y,buildInfiniteQueryHooks:m,buildMutationHook:g,usePrefetch:v}=I3({api:l,moduleOptions:{batch:t,hooks:e,unstable__sideEffectsInRender:s,createSelector:i},serializeQueryArgs:c,context:h});return yo(f,{usePrefetch:v}),yo(h,{batch:t}),{injectEndpoint(b,w){if(D3(w)){const{useQuery:A,useLazyQuery:x,useLazyQuerySubscription:T,useQueryState:C,useQuerySubscription:S}=y(b);yo(f.endpoints[b],{useQuery:A,useLazyQuery:x,useLazyQuerySubscription:T,useQueryState:C,useQuerySubscription:S}),l[`use${ic(b)}Query`]=A,l[`useLazy${ic(b)}Query`]=x}if(z3(w)){const A=g(b);yo(f.endpoints[b],{useMutation:A}),l[`use${ic(b)}Mutation`]=A}else if(e1(w)){const{useInfiniteQuery:A,useInfiniteQuerySubscription:x,useInfiniteQueryState:T}=m(b);yo(f.endpoints[b],{useInfiniteQuery:A,useInfiniteQuerySubscription:x,useInfiniteQueryState:T}),l[`use${ic(b)}InfiniteQuery`]=A}}}}}),H3=WS(JS(),G3());const t1=t=>{let e;return(...i)=>(e||(e=t(...i)),e)},$3=t1(()=>Fn(()=>import("./campaign-DgIbF5_z.js"),__vite__mapDeps([4,5]))),Vc=typeof Buffer=="function";typeof TextDecoder=="function"&&new TextDecoder;typeof TextEncoder=="function"&&new TextEncoder;const F3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Eo=Array.prototype.slice.call(F3),rc=(t=>{let e={};return t.forEach((i,s)=>e[i]=s),e})(Eo),V3=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,mc=String.fromCharCode.bind(String),wx=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):t=>new Uint8Array(Array.prototype.slice.call(t,0)),Y3=t=>t.replace(/=/g,"").replace(/[+\/]/g,e=>e=="+"?"-":"_"),n1=t=>t.replace(/[^A-Za-z0-9\+\/]/g,""),X3=t=>{let e,i,s,a,l="";const c=t.length%3;for(let h=0;h<t.length;){if((i=t.charCodeAt(h++))>255||(s=t.charCodeAt(h++))>255||(a=t.charCodeAt(h++))>255)throw new TypeError("invalid character found");e=i<<16|s<<8|a,l+=Eo[e>>18&63]+Eo[e>>12&63]+Eo[e>>6&63]+Eo[e&63]}return c?l.slice(0,c-3)+"===".substring(c):l},Q3=typeof btoa=="function"?t=>btoa(t):Vc?t=>Buffer.from(t,"binary").toString("base64"):X3,Sx=Vc?t=>Buffer.from(t).toString("base64"):t=>{let i=[];for(let s=0,a=t.length;s<a;s+=4096)i.push(mc.apply(null,t.subarray(s,s+4096)));return Q3(i.join(""))},K3=(t,e=!1)=>e?Y3(Sx(t)):Sx(t),Z3=t=>{if(t=t.replace(/\s+/g,""),!V3.test(t))throw new TypeError("malformed base64.");t+="==".slice(2-(t.length&3));let e,i="",s,a;for(let l=0;l<t.length;)e=rc[t.charAt(l++)]<<18|rc[t.charAt(l++)]<<12|(s=rc[t.charAt(l++)])<<6|(a=rc[t.charAt(l++)]),i+=s===64?mc(e>>16&255):a===64?mc(e>>16&255,e>>8&255):mc(e>>16&255,e>>8&255,e&255);return i},W3=typeof atob=="function"?t=>atob(n1(t)):Vc?t=>Buffer.from(t,"base64").toString("binary"):Z3,J3=Vc?t=>wx(Buffer.from(t,"base64")):t=>wx(W3(t).split("").map(e=>e.charCodeAt(0))),eD=t=>J3(tD(t)),tD=t=>n1(t.replace(/[-_]/g,e=>e=="-"?"+":"/")),nD=!0,i1="gzip",iD=async t=>{const e=JSON.stringify(t),s=new TextEncoder().encode(e),a=new Blob([s]),l=new CompressionStream(i1),c=a.stream().pipeThrough(l),h=await new Response(c).arrayBuffer(),f=new Uint8Array(h);return K3(f,nD)},s1=async t=>{try{const e=eD(t),i=new Blob([new Uint8Array(e)]),s=new DecompressionStream(i1),a=i.stream().pipeThrough(s),l=await new Response(a).text();return JSON.parse(l)}catch(e){throw new Error("error decompressing object",{cause:e})}},sD=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...i)=>Fn(async()=>{const{default:s}=await Promise.resolve().then(()=>sa);return{default:s}},void 0).then(({default:s})=>s(...i)):e=fetch,(...i)=>e(...i)};class Wp extends Error{constructor(e,i="FunctionsError",s){super(e),this.name=i,this.context=s}}class rD extends Wp{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Ax extends Wp{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Tx extends Wp{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Zy;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Zy||(Zy={}));var aD=function(t,e,i,s){function a(l){return l instanceof i?l:new i(function(c){c(l)})}return new(i||(i=Promise))(function(l,c){function h(m){try{y(s.next(m))}catch(g){c(g)}}function f(m){try{y(s.throw(m))}catch(g){c(g)}}function y(m){m.done?l(m.value):a(m.value).then(h,f)}y((s=s.apply(t,e||[])).next())})};class oD{constructor(e,{headers:i={},customFetch:s,region:a=Zy.Any}={}){this.url=e,this.headers=i,this.region=a,this.fetch=sD(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,i={}){var s;return aD(this,void 0,void 0,function*(){try{const{headers:a,method:l,body:c}=i;let h={},{region:f}=i;f||(f=this.region);const y=new URL(`${this.url}/${e}`);f&&f!=="any"&&(h["x-region"]=f,y.searchParams.set("forceFunctionRegion",f));let m;c&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",m=c):typeof c=="string"?(h["Content-Type"]="text/plain",m=c):typeof FormData<"u"&&c instanceof FormData?m=c:(h["Content-Type"]="application/json",m=JSON.stringify(c)));const g=yield this.fetch(y.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),a),body:m}).catch(A=>{throw new rD(A)}),v=g.headers.get("x-relay-error");if(v&&v==="true")throw new Ax(g);if(!g.ok)throw new Tx(g);let b=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),w;return b==="application/json"?w=yield g.json():b==="application/octet-stream"?w=yield g.blob():b==="text/event-stream"?w=g:b==="multipart/form-data"?w=yield g.formData():w=yield g.text(),{data:w,error:null,response:g}}catch(a){return{data:null,error:a,response:a instanceof Tx||a instanceof Ax?a.context:void 0}}})}}var dt={},Or={},Dr={},zr={},Ur={},jr={},lD=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ea=lD();const uD=ea.fetch,r1=ea.fetch.bind(ea),a1=ea.Headers,cD=ea.Request,hD=ea.Response,sa=Object.freeze(Object.defineProperty({__proto__:null,Headers:a1,Request:cD,Response:hD,default:r1,fetch:uD},Symbol.toStringTag,{value:"Module"})),fD=nE(sa);var ac={},Ex;function o1(){if(Ex)return ac;Ex=1,Object.defineProperty(ac,"__esModule",{value:!0});class t extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}}return ac.default=t,ac}var Mx;function l1(){if(Mx)return jr;Mx=1;var t=jr&&jr.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(jr,"__esModule",{value:!0});const e=t(fD),i=t(o1());class s{constructor(l){this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=l.headers,this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=l.shouldThrowOnError,this.signal=l.signal,this.isMaybeSingle=l.isMaybeSingle,l.fetch?this.fetch=l.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,c){return this.headers=Object.assign({},this.headers),this.headers[l]=c,this}then(l,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const h=this.fetch;let f=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async y=>{var m,g,v;let b=null,w=null,A=null,x=y.status,T=y.statusText;if(y.ok){if(this.method!=="HEAD"){const z=await y.text();z===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?w=z:w=JSON.parse(z))}const S=(m=this.headers.Prefer)===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),E=(g=y.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");S&&E&&E.length>1&&(A=parseInt(E[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(b={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,A=null,x=406,T="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const S=await y.text();try{b=JSON.parse(S),Array.isArray(b)&&y.status===404&&(w=[],b=null,x=200,T="OK")}catch{y.status===404&&S===""?(x=204,T="No Content"):b={message:S}}if(b&&this.isMaybeSingle&&(!((v=b?.details)===null||v===void 0)&&v.includes("0 rows"))&&(b=null,x=200,T="OK"),b&&this.shouldThrowOnError)throw new i.default(b)}return{error:b,data:w,count:A,status:x,statusText:T}});return this.shouldThrowOnError||(f=f.catch(y=>{var m,g,v;return{error:{message:`${(m=y?.name)!==null&&m!==void 0?m:"FetchError"}: ${y?.message}`,details:`${(g=y?.stack)!==null&&g!==void 0?g:""}`,hint:"",code:`${(v=y?.code)!==null&&v!==void 0?v:""}`},data:null,count:null,status:0,statusText:""}})),f.then(l,c)}returns(){return this}overrideTypes(){return this}}return jr.default=s,jr}var Cx;function u1(){if(Cx)return Ur;Cx=1;var t=Ur&&Ur.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Ur,"__esModule",{value:!0});const e=t(l1());class i extends e.default{select(a){let l=!1;const c=(a??"*").split("").map(h=>/\s/.test(h)&&!l?"":(h==='"'&&(l=!l),h)).join("");return this.url.searchParams.set("select",c),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(a,{ascending:l=!0,nullsFirst:c,foreignTable:h,referencedTable:f=h}={}){const y=f?`${f}.order`:"order",m=this.url.searchParams.get(y);return this.url.searchParams.set(y,`${m?`${m},`:""}${a}.${l?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:l,referencedTable:c=l}={}){const h=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(h,`${a}`),this}range(a,l,{foreignTable:c,referencedTable:h=c}={}){const f=typeof h>"u"?"offset":`${h}.offset`,y=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(f,`${a}`),this.url.searchParams.set(y,`${l-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:a=!1,verbose:l=!1,settings:c=!1,buffers:h=!1,wal:f=!1,format:y="text"}={}){var m;const g=[a?"analyze":null,l?"verbose":null,c?"settings":null,h?"buffers":null,f?"wal":null].filter(Boolean).join("|"),v=(m=this.headers.Accept)!==null&&m!==void 0?m:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${y}; for="${v}"; options=${g};`,y==="json"?this:this}rollback(){var a;return((a=this.headers.Prefer)!==null&&a!==void 0?a:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Ur.default=i,Ur}var kx;function Jp(){if(kx)return zr;kx=1;var t=zr&&zr.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(zr,"__esModule",{value:!0});const e=t(u1());class i extends e.default{eq(a,l){return this.url.searchParams.append(a,`eq.${l}`),this}neq(a,l){return this.url.searchParams.append(a,`neq.${l}`),this}gt(a,l){return this.url.searchParams.append(a,`gt.${l}`),this}gte(a,l){return this.url.searchParams.append(a,`gte.${l}`),this}lt(a,l){return this.url.searchParams.append(a,`lt.${l}`),this}lte(a,l){return this.url.searchParams.append(a,`lte.${l}`),this}like(a,l){return this.url.searchParams.append(a,`like.${l}`),this}likeAllOf(a,l){return this.url.searchParams.append(a,`like(all).{${l.join(",")}}`),this}likeAnyOf(a,l){return this.url.searchParams.append(a,`like(any).{${l.join(",")}}`),this}ilike(a,l){return this.url.searchParams.append(a,`ilike.${l}`),this}ilikeAllOf(a,l){return this.url.searchParams.append(a,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(a,l){return this.url.searchParams.append(a,`ilike(any).{${l.join(",")}}`),this}is(a,l){return this.url.searchParams.append(a,`is.${l}`),this}in(a,l){const c=Array.from(new Set(l)).map(h=>typeof h=="string"&&new RegExp("[,()]").test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(a,`in.(${c})`),this}contains(a,l){return typeof l=="string"?this.url.searchParams.append(a,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(a,`cs.{${l.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(l)}`),this}containedBy(a,l){return typeof l=="string"?this.url.searchParams.append(a,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(a,`cd.{${l.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(l)}`),this}rangeGt(a,l){return this.url.searchParams.append(a,`sr.${l}`),this}rangeGte(a,l){return this.url.searchParams.append(a,`nxl.${l}`),this}rangeLt(a,l){return this.url.searchParams.append(a,`sl.${l}`),this}rangeLte(a,l){return this.url.searchParams.append(a,`nxr.${l}`),this}rangeAdjacent(a,l){return this.url.searchParams.append(a,`adj.${l}`),this}overlaps(a,l){return typeof l=="string"?this.url.searchParams.append(a,`ov.${l}`):this.url.searchParams.append(a,`ov.{${l.join(",")}}`),this}textSearch(a,l,{config:c,type:h}={}){let f="";h==="plain"?f="pl":h==="phrase"?f="ph":h==="websearch"&&(f="w");const y=c===void 0?"":`(${c})`;return this.url.searchParams.append(a,`${f}fts${y}.${l}`),this}match(a){return Object.entries(a).forEach(([l,c])=>{this.url.searchParams.append(l,`eq.${c}`)}),this}not(a,l,c){return this.url.searchParams.append(a,`not.${l}.${c}`),this}or(a,{foreignTable:l,referencedTable:c=l}={}){const h=c?`${c}.or`:"or";return this.url.searchParams.append(h,`(${a})`),this}filter(a,l,c){return this.url.searchParams.append(a,`${l}.${c}`),this}}return zr.default=i,zr}var Rx;function c1(){if(Rx)return Dr;Rx=1;var t=Dr&&Dr.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Dr,"__esModule",{value:!0});const e=t(Jp());class i{constructor(a,{headers:l={},schema:c,fetch:h}){this.url=a,this.headers=l,this.schema=c,this.fetch=h}select(a,{head:l=!1,count:c}={}){const h=l?"HEAD":"GET";let f=!1;const y=(a??"*").split("").map(m=>/\s/.test(m)&&!f?"":(m==='"'&&(f=!f),m)).join("");return this.url.searchParams.set("select",y),c&&(this.headers.Prefer=`count=${c}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(a,{count:l,defaultToNull:c=!0}={}){const h="POST",f=[];if(this.headers.Prefer&&f.push(this.headers.Prefer),l&&f.push(`count=${l}`),c||f.push("missing=default"),this.headers.Prefer=f.join(","),Array.isArray(a)){const y=a.reduce((m,g)=>m.concat(Object.keys(g)),[]);if(y.length>0){const m=[...new Set(y)].map(g=>`"${g}"`);this.url.searchParams.set("columns",m.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}upsert(a,{onConflict:l,ignoreDuplicates:c=!1,count:h,defaultToNull:f=!0}={}){const y="POST",m=[`resolution=${c?"ignore":"merge"}-duplicates`];if(l!==void 0&&this.url.searchParams.set("on_conflict",l),this.headers.Prefer&&m.push(this.headers.Prefer),h&&m.push(`count=${h}`),f||m.push("missing=default"),this.headers.Prefer=m.join(","),Array.isArray(a)){const g=a.reduce((v,b)=>v.concat(Object.keys(b)),[]);if(g.length>0){const v=[...new Set(g)].map(b=>`"${b}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}update(a,{count:l}={}){const c="PATCH",h=[];return this.headers.Prefer&&h.push(this.headers.Prefer),l&&h.push(`count=${l}`),this.headers.Prefer=h.join(","),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}delete({count:a}={}){const l="DELETE",c=[];return a&&c.push(`count=${a}`),this.headers.Prefer&&c.unshift(this.headers.Prefer),this.headers.Prefer=c.join(","),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Dr.default=i,Dr}var po={},mo={},Ox;function dD(){return Ox||(Ox=1,Object.defineProperty(mo,"__esModule",{value:!0}),mo.version=void 0,mo.version="0.0.0-automated"),mo}var Dx;function yD(){if(Dx)return po;Dx=1,Object.defineProperty(po,"__esModule",{value:!0}),po.DEFAULT_HEADERS=void 0;const t=dD();return po.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},po}var zx;function pD(){if(zx)return Or;zx=1;var t=Or&&Or.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Or,"__esModule",{value:!0});const e=t(c1()),i=t(Jp()),s=yD();class a{constructor(c,{headers:h={},schema:f,fetch:y}={}){this.url=c,this.headers=Object.assign(Object.assign({},s.DEFAULT_HEADERS),h),this.schemaName=f,this.fetch=y}from(c){const h=new URL(`${this.url}/${c}`);return new e.default(h,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new a(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,h={},{head:f=!1,get:y=!1,count:m}={}){let g;const v=new URL(`${this.url}/rpc/${c}`);let b;f||y?(g=f?"HEAD":"GET",Object.entries(h).filter(([A,x])=>x!==void 0).map(([A,x])=>[A,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([A,x])=>{v.searchParams.append(A,x)})):(g="POST",b=h);const w=Object.assign({},this.headers);return m&&(w.Prefer=`count=${m}`),new i.default({method:g,url:v,headers:w,schema:this.schemaName,body:b,fetch:this.fetch,allowEmpty:!1})}}return Or.default=a,Or}var Ux;function mD(){if(Ux)return dt;Ux=1;var t=dt&&dt.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(dt,"__esModule",{value:!0}),dt.PostgrestError=dt.PostgrestBuilder=dt.PostgrestTransformBuilder=dt.PostgrestFilterBuilder=dt.PostgrestQueryBuilder=dt.PostgrestClient=void 0;const e=t(pD());dt.PostgrestClient=e.default;const i=t(c1());dt.PostgrestQueryBuilder=i.default;const s=t(Jp());dt.PostgrestFilterBuilder=s.default;const a=t(u1());dt.PostgrestTransformBuilder=a.default;const l=t(l1());dt.PostgrestBuilder=l.default;const c=t(o1());return dt.PostgrestError=c.default,dt.default={PostgrestClient:e.default,PostgrestQueryBuilder:i.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:l.default,PostgrestError:c.default},dt}var gD=mD();const bD=xi(gD),{PostgrestClient:vD,PostgrestQueryBuilder:sj,PostgrestFilterBuilder:rj,PostgrestTransformBuilder:aj,PostgrestBuilder:oj,PostgrestError:lj}=bD;function _D(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const xD=_D(),wD="2.11.15",SD=`realtime-js/${wD}`,AD="1.0.0",h1=1e4,TD=1e3;var Bo;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Bo||(Bo={}));var kt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(kt||(kt={}));var Un;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Un||(Un={}));var Wy;(function(t){t.websocket="websocket"})(Wy||(Wy={}));var Us;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Us||(Us={}));class ED{constructor(){this.HEADER_LENGTH=1}decode(e,i){return e.constructor===ArrayBuffer?i(this._binaryDecode(e)):i(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const i=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,i,s)}_decodeBroadcast(e,i,s){const a=i.getUint8(1),l=i.getUint8(2);let c=this.HEADER_LENGTH+2;const h=s.decode(e.slice(c,c+a));c=c+a;const f=s.decode(e.slice(c,c+l));c=c+l;const y=JSON.parse(s.decode(e.slice(c,e.byteLength)));return{ref:null,topic:h,event:f,payload:y}}}class f1{constructor(e,i){this.callback=e,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Fe;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Fe||(Fe={}));const jx=(t,e,i={})=>{var s;const a=(s=i.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(e).reduce((l,c)=>(l[c]=MD(c,t,e,a),l),{})},MD=(t,e,i,s)=>{const a=e.find(h=>h.name===t),l=a?.type,c=i[t];return l&&!s.includes(l)?d1(l,c):Jy(c)},d1=(t,e)=>{if(t.charAt(0)==="_"){const i=t.slice(1,t.length);return OD(e,i)}switch(t){case Fe.bool:return CD(e);case Fe.float4:case Fe.float8:case Fe.int2:case Fe.int4:case Fe.int8:case Fe.numeric:case Fe.oid:return kD(e);case Fe.json:case Fe.jsonb:return RD(e);case Fe.timestamp:return DD(e);case Fe.abstime:case Fe.date:case Fe.daterange:case Fe.int4range:case Fe.int8range:case Fe.money:case Fe.reltime:case Fe.text:case Fe.time:case Fe.timestamptz:case Fe.timetz:case Fe.tsrange:case Fe.tstzrange:return Jy(e);default:return Jy(e)}},Jy=t=>t,CD=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},kD=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},RD=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},OD=(t,e)=>{if(typeof t!="string")return t;const i=t.length-1,s=t[i];if(t[0]==="{"&&s==="}"){let l;const c=t.slice(1,i);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(h=>d1(e,h))}return t},DD=t=>typeof t=="string"?t.replace(" ","T"):t,y1=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class ly{constructor(e,i,s={},a=h1){this.channel=e,this.event=i,this.payload=s,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,i){var s;return this._hasReceived(e)&&i((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:i}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(i))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Px;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Px||(Px={}));class No{constructor(e,i){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=i?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},a=>{const{onJoin:l,onLeave:c,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=No.syncState(this.state,a,l,c),this.pendingDiffs.forEach(f=>{this.state=No.syncDiff(this.state,f,l,c)}),this.pendingDiffs=[],h()}),this.channel._on(s.diff,{},a=>{const{onJoin:l,onLeave:c,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=No.syncDiff(this.state,a,l,c),h())}),this.onJoin((a,l,c)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:l,newPresences:c})}),this.onLeave((a,l,c)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,i,s,a){const l=this.cloneDeep(e),c=this.transformState(i),h={},f={};return this.map(l,(y,m)=>{c[y]||(f[y]=m)}),this.map(c,(y,m)=>{const g=l[y];if(g){const v=m.map(x=>x.presence_ref),b=g.map(x=>x.presence_ref),w=m.filter(x=>b.indexOf(x.presence_ref)<0),A=g.filter(x=>v.indexOf(x.presence_ref)<0);w.length>0&&(h[y]=w),A.length>0&&(f[y]=A)}else h[y]=m}),this.syncDiff(l,{joins:h,leaves:f},s,a)}static syncDiff(e,i,s,a){const{joins:l,leaves:c}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return s||(s=()=>{}),a||(a=()=>{}),this.map(l,(h,f)=>{var y;const m=(y=e[h])!==null&&y!==void 0?y:[];if(e[h]=this.cloneDeep(f),m.length>0){const g=e[h].map(b=>b.presence_ref),v=m.filter(b=>g.indexOf(b.presence_ref)<0);e[h].unshift(...v)}s(h,m,f)}),this.map(c,(h,f)=>{let y=e[h];if(!y)return;const m=f.map(g=>g.presence_ref);y=y.filter(g=>m.indexOf(g.presence_ref)<0),e[h]=y,a(h,y,f),y.length===0&&delete e[h]}),e}static map(e,i){return Object.getOwnPropertyNames(e).map(s=>i(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((i,s)=>{const a=e[s];return"metas"in a?i[s]=a.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):i[s]=a,i},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Bx;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Bx||(Bx={}));var Nx;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Nx||(Nx={}));var yi;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(yi||(yi={}));class em{constructor(e,i={config:{}},s){this.topic=e,this.params=i,this.socket=s,this.bindings={},this.state=kt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new ly(this,Un.join,this.params,this.timeout),this.rejoinTimer=new f1(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=kt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=kt.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=kt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=kt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Un.reply,{},(a,l)=>{this._trigger(this._replyEventName(l),a)}),this.presence=new No(this),this.broadcastEndpointURL=y1(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,i=this.timeout){var s,a;if(this.socket.isConnected()||this.socket.connect(),this.state==kt.closed){const{config:{broadcast:l,presence:c,private:h}}=this.params;this._onError(m=>e?.(yi.CHANNEL_ERROR,m)),this._onClose(()=>e?.(yi.CLOSED));const f={},y={broadcast:l,presence:c,postgres_changes:(a=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(m=>m.filter))!==null&&a!==void 0?a:[],private:h};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:y},f)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:m})=>{var g;if(this.socket.setAuth(),m===void 0){e?.(yi.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,b=(g=v?.length)!==null&&g!==void 0?g:0,w=[];for(let A=0;A<b;A++){const x=v[A],{filter:{event:T,schema:C,table:S,filter:E}}=x,z=m&&m[A];if(z&&z.event===T&&z.schema===C&&z.table===S&&z.filter===E)w.push(Object.assign(Object.assign({},x),{id:z.id}));else{this.unsubscribe(),this.state=kt.errored,e?.(yi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(yi.SUBSCRIBED);return}}).receive("error",m=>{this.state=kt.errored,e?.(yi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e?.(yi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,i={}){return await this.send({type:"presence",event:"track",payload:e},i.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,i,s){return this._on(e,i,s)}async send(e,i={}){var s,a;if(!this._canPush()&&e.type==="broadcast"){const{event:l,payload:c}=e,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(s=i.timeout)!==null&&s!==void 0?s:this.timeout);return await((a=y.body)===null||a===void 0?void 0:a.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,h,f;const y=this._push(e.type,e,i.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(h=(c=this.params)===null||c===void 0?void 0:c.config)===null||h===void 0?void 0:h.broadcast)===null||f===void 0)&&f.ack)&&l("ok"),y.receive("ok",()=>l("ok")),y.receive("error",()=>l("error")),y.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=kt.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Un.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(a=>{s=new ly(this,Un.leave,{},e),s.receive("ok",()=>{i(),a("ok")}).receive("timeout",()=>{i(),a("timed out")}).receive("error",()=>{a("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,i,s){const a=new AbortController,l=setTimeout(()=>a.abort(),s),c=await this.socket.fetch(e,Object.assign(Object.assign({},i),{signal:a.signal}));return clearTimeout(l),c}_push(e,i,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new ly(this,e,i,s);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(e,i,s){return i}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,i,s){var a,l;const c=e.toLocaleLowerCase(),{close:h,error:f,leave:y,join:m}=Un;if(s&&[h,f,y,m].indexOf(c)>=0&&s!==this._joinRef())return;let v=this._onMessage(c,i,s);if(i&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(b=>{var w,A,x;return((w=b.filter)===null||w===void 0?void 0:w.event)==="*"||((x=(A=b.filter)===null||A===void 0?void 0:A.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===c}).map(b=>b.callback(v,s)):(l=this.bindings[c])===null||l===void 0||l.filter(b=>{var w,A,x,T,C,S;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in b){const E=b.id,z=(w=b.filter)===null||w===void 0?void 0:w.event;return E&&((A=i.ids)===null||A===void 0?void 0:A.includes(E))&&(z==="*"||z?.toLocaleLowerCase()===((x=i.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const E=(C=(T=b?.filter)===null||T===void 0?void 0:T.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return E==="*"||E===((S=i?.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===c}).map(b=>{if(typeof v=="object"&&"ids"in v){const w=v.data,{schema:A,table:x,commit_timestamp:T,type:C,errors:S}=w;v=Object.assign(Object.assign({},{schema:A,table:x,commit_timestamp:T,eventType:C,new:{},old:{},errors:S}),this._getPayloadRecords(w))}b.callback(v,s)})}_isClosed(){return this.state===kt.closed}_isJoined(){return this.state===kt.joined}_isJoining(){return this.state===kt.joining}_isLeaving(){return this.state===kt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,i,s){const a=e.toLocaleLowerCase(),l={type:a,filter:i,callback:s};return this.bindings[a]?this.bindings[a].push(l):this.bindings[a]=[l],this}_off(e,i){const s=e.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter(a=>{var l;return!(((l=a.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===s&&em.isEqual(a.filter,i))}),this}static isEqual(e,i){if(Object.keys(e).length!==Object.keys(i).length)return!1;for(const s in e)if(e[s]!==i[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Un.close,{},e)}_onError(e){this._on(Un.error,{},i=>e(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=kt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const i={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(i.new=jx(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(i.old=jx(e.columns,e.old_record)),i}}const Lx=()=>{},zD=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class UD{constructor(e,i){var s;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=h1,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Lx,this.ref=0,this.logger=Lx,this.conn=null,this.sendBuffer=[],this.serializer=new ED,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=l=>{let c;return l?c=l:typeof fetch>"u"?c=(...h)=>Fn(async()=>{const{default:f}=await Promise.resolve().then(()=>sa);return{default:f}},void 0).then(({default:f})=>f(...h)):c=fetch,(...h)=>c(...h)},this.endPoint=`${e}/${Wy.websocket}`,this.httpEndpoint=y1(e),i?.transport?this.transport=i.transport:this.transport=null,i?.params&&(this.params=i.params),i?.timeout&&(this.timeout=i.timeout),i?.logger&&(this.logger=i.logger),(i?.logLevel||i?.log_level)&&(this.logLevel=i.logLevel||i.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),i?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=i.heartbeatIntervalMs);const a=(s=i?.params)===null||s===void 0?void 0:s.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=i?.reconnectAfterMs?i.reconnectAfterMs:l=>[1e3,2e3,5e3,1e4][l-1]||1e4,this.encode=i?.encode?i.encode:(l,c)=>c(JSON.stringify(l)),this.decode=i?.decode?i.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new f1(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(i?.fetch),i?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=i?.worker||!1,this.workerUrl=i?.workerUrl}this.accessToken=i?.accessToken||null}connect(){if(!this.conn){if(this.transport||(this.transport=xD),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:AD}))}disconnect(e,i){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,i??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(s=>s.teardown()))}getChannels(){return this.channels}async removeChannel(e){const i=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const e=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,i,s){this.logger(e,i,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Bo.connecting:return Us.Connecting;case Bo.open:return Us.Open;case Bo.closing:return Us.Closing;default:return Us.Closed}}isConnected(){return this.connectionState()===Us.Open}channel(e,i={config:{}}){const s=`realtime:${e}`,a=this.getChannels().find(l=>l.topic===s);if(a)return a;{const l=new em(`realtime:${e}`,i,this);return this.channels.push(l),l}}push(e){const{topic:i,event:s,payload:a,ref:l}=e,c=()=>{this.encode(e,h=>{var f;(f=this.conn)===null||f===void 0||f.send(h)})};this.log("push",`${i} ${s} (${l})`,a),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){let i=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(s=>{const a={access_token:i,version:SD};i&&s.updateJoinPayload(a),s.joinedOnce&&s._isJoined()&&s._push(Un.access_token,{access_token:i})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(TD,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let i=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${e}"`),i.unsubscribe())}_remove(e){this.channels=this.channels.filter(i=>i.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,i=>{let{topic:s,event:a,payload:l,ref:c}=i;s==="phoenix"&&a==="phx_reply"&&this.heartbeatCallback(i.payload.status=="ok"?"ok":"error"),c&&c===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${l.status||""} ${s} ${a} ${c&&"("+c+")"||""}`,l),Array.from(this.channels).filter(h=>h._isMember(s)).forEach(h=>h._trigger(a,l,c)),this.stateChangeCallbacks.message.forEach(h=>h(i))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this.workerRef.terminate()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(i=>i(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(i=>i(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Un.error))}_appendParams(e,i){if(Object.keys(i).length===0)return e;const s=e.match(/\?/)?"&":"?",a=new URLSearchParams(i);return`${e}${s}${a}`}_workerObjectUrl(e){let i;if(e)i=e;else{const s=new Blob([zD],{type:"application/javascript"});i=URL.createObjectURL(s)}return i}}class tm extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function yt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class jD extends tm{constructor(e,i){super(e),this.name="StorageApiError",this.status=i}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class ep extends tm{constructor(e,i){super(e),this.name="StorageUnknownError",this.originalError=i}}var PD=function(t,e,i,s){function a(l){return l instanceof i?l:new i(function(c){c(l)})}return new(i||(i=Promise))(function(l,c){function h(m){try{y(s.next(m))}catch(g){c(g)}}function f(m){try{y(s.throw(m))}catch(g){c(g)}}function y(m){m.done?l(m.value):a(m.value).then(h,f)}y((s=s.apply(t,e||[])).next())})};const p1=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...i)=>Fn(async()=>{const{default:s}=await Promise.resolve().then(()=>sa);return{default:s}},void 0).then(({default:s})=>s(...i)):e=fetch,(...i)=>e(...i)},BD=()=>PD(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Fn(()=>Promise.resolve().then(()=>sa),void 0)).Response:Response}),tp=t=>{if(Array.isArray(t))return t.map(i=>tp(i));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([i,s])=>{const a=i.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[a]=tp(s)}),e};var $s=function(t,e,i,s){function a(l){return l instanceof i?l:new i(function(c){c(l)})}return new(i||(i=Promise))(function(l,c){function h(m){try{y(s.next(m))}catch(g){c(g)}}function f(m){try{y(s.throw(m))}catch(g){c(g)}}function y(m){m.done?l(m.value):a(m.value).then(h,f)}y((s=s.apply(t,e||[])).next())})};const uy=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),ND=(t,e,i)=>$s(void 0,void 0,void 0,function*(){const s=yield BD();t instanceof s&&!i?.noResolveJson?t.json().then(a=>{e(new jD(uy(a),t.status||500))}).catch(a=>{e(new ep(uy(a),a))}):e(new ep(uy(t),t))}),LD=(t,e,i,s)=>{const a={method:t,headers:e?.headers||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},e?.headers),s&&(a.body=JSON.stringify(s)),Object.assign(Object.assign({},a),i))};function cl(t,e,i,s,a,l){return $s(this,void 0,void 0,function*(){return new Promise((c,h)=>{t(i,LD(e,s,a,l)).then(f=>{if(!f.ok)throw f;return s?.noResolveJson?f:f.json()}).then(f=>c(f)).catch(f=>ND(f,h,s))})})}function Rc(t,e,i,s){return $s(this,void 0,void 0,function*(){return cl(t,"GET",e,i,s)})}function Ki(t,e,i,s,a){return $s(this,void 0,void 0,function*(){return cl(t,"POST",e,s,a,i)})}function ID(t,e,i,s,a){return $s(this,void 0,void 0,function*(){return cl(t,"PUT",e,s,a,i)})}function qD(t,e,i,s){return $s(this,void 0,void 0,function*(){return cl(t,"HEAD",e,Object.assign(Object.assign({},i),{noResolveJson:!0}),s)})}function m1(t,e,i,s,a){return $s(this,void 0,void 0,function*(){return cl(t,"DELETE",e,s,a,i)})}var Ft=function(t,e,i,s){function a(l){return l instanceof i?l:new i(function(c){c(l)})}return new(i||(i=Promise))(function(l,c){function h(m){try{y(s.next(m))}catch(g){c(g)}}function f(m){try{y(s.throw(m))}catch(g){c(g)}}function y(m){m.done?l(m.value):a(m.value).then(h,f)}y((s=s.apply(t,e||[])).next())})};const GD={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ix={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class HD{constructor(e,i={},s,a){this.url=e,this.headers=i,this.bucketId=s,this.fetch=p1(a)}uploadOrUpdate(e,i,s,a){return Ft(this,void 0,void 0,function*(){try{let l;const c=Object.assign(Object.assign({},Ix),a);let h=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const f=c.metadata;typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),f&&l.append("metadata",this.encodeMetadata(f)),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.append("cacheControl",c.cacheControl),f&&l.append("metadata",this.encodeMetadata(f))):(l=s,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType,f&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(f)))),a?.headers&&(h=Object.assign(Object.assign({},h),a.headers));const y=this._removeEmptyFolders(i),m=this._getFinalPath(y),g=yield this.fetch(`${this.url}/object/${m}`,Object.assign({method:e,body:l,headers:h},c?.duplex?{duplex:c.duplex}:{})),v=yield g.json();return g.ok?{data:{path:y,id:v.Id,fullPath:v.Key},error:null}:{data:null,error:v}}catch(l){if(yt(l))return{data:null,error:l};throw l}})}upload(e,i,s){return Ft(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,i,s)})}uploadToSignedUrl(e,i,s,a){return Ft(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),c=this._getFinalPath(l),h=new URL(this.url+`/object/upload/sign/${c}`);h.searchParams.set("token",i);try{let f;const y=Object.assign({upsert:Ix.upsert},a),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(y.upsert)});typeof Blob<"u"&&s instanceof Blob?(f=new FormData,f.append("cacheControl",y.cacheControl),f.append("",s)):typeof FormData<"u"&&s instanceof FormData?(f=s,f.append("cacheControl",y.cacheControl)):(f=s,m["cache-control"]=`max-age=${y.cacheControl}`,m["content-type"]=y.contentType);const g=yield this.fetch(h.toString(),{method:"PUT",body:f,headers:m}),v=yield g.json();return g.ok?{data:{path:l,fullPath:v.Key},error:null}:{data:null,error:v}}catch(f){if(yt(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(e,i){return Ft(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const a=Object.assign({},this.headers);i?.upsert&&(a["x-upsert"]="true");const l=yield Ki(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:a}),c=new URL(this.url+l.url),h=c.searchParams.get("token");if(!h)throw new tm("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:h},error:null}}catch(s){if(yt(s))return{data:null,error:s};throw s}})}update(e,i,s){return Ft(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,i,s)})}move(e,i,s){return Ft(this,void 0,void 0,function*(){try{return{data:yield Ki(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:i,destinationBucket:s?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(yt(a))return{data:null,error:a};throw a}})}copy(e,i,s){return Ft(this,void 0,void 0,function*(){try{return{data:{path:(yield Ki(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:i,destinationBucket:s?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(yt(a))return{data:null,error:a};throw a}})}createSignedUrl(e,i,s){return Ft(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),l=yield Ki(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:i},s?.transform?{transform:s.transform}:{}),{headers:this.headers});const c=s?.download?`&download=${s.download===!0?"":s.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${c}`)},{data:l,error:null}}catch(a){if(yt(a))return{data:null,error:a};throw a}})}createSignedUrls(e,i,s){return Ft(this,void 0,void 0,function*(){try{const a=yield Ki(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:i,paths:e},{headers:this.headers}),l=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:a.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${l}`):null})),error:null}}catch(a){if(yt(a))return{data:null,error:a};throw a}})}download(e,i){return Ft(this,void 0,void 0,function*(){const a=typeof i?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(i?.transform||{}),c=l?`?${l}`:"";try{const h=this._getFinalPath(e);return{data:yield(yield Rc(this.fetch,`${this.url}/${a}/${h}${c}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(h){if(yt(h))return{data:null,error:h};throw h}})}info(e){return Ft(this,void 0,void 0,function*(){const i=this._getFinalPath(e);try{const s=yield Rc(this.fetch,`${this.url}/object/info/${i}`,{headers:this.headers});return{data:tp(s),error:null}}catch(s){if(yt(s))return{data:null,error:s};throw s}})}exists(e){return Ft(this,void 0,void 0,function*(){const i=this._getFinalPath(e);try{return yield qD(this.fetch,`${this.url}/object/${i}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(yt(s)&&s instanceof ep){const a=s.originalError;if([400,404].includes(a?.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,i){const s=this._getFinalPath(e),a=[],l=i?.download?`download=${i.download===!0?"":i.download}`:"";l!==""&&a.push(l);const h=typeof i?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(i?.transform||{});f!==""&&a.push(f);let y=a.join("&");return y!==""&&(y=`?${y}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${s}${y}`)}}}remove(e){return Ft(this,void 0,void 0,function*(){try{return{data:yield m1(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(i){if(yt(i))return{data:null,error:i};throw i}})}list(e,i,s){return Ft(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},GD),i),{prefix:e||""});return{data:yield Ki(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},s),error:null}}catch(a){if(yt(a))return{data:null,error:a};throw a}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const i=[];return e.width&&i.push(`width=${e.width}`),e.height&&i.push(`height=${e.height}`),e.resize&&i.push(`resize=${e.resize}`),e.format&&i.push(`format=${e.format}`),e.quality&&i.push(`quality=${e.quality}`),i.join("&")}}const $D="2.7.1",FD={"X-Client-Info":`storage-js/${$D}`};var Pr=function(t,e,i,s){function a(l){return l instanceof i?l:new i(function(c){c(l)})}return new(i||(i=Promise))(function(l,c){function h(m){try{y(s.next(m))}catch(g){c(g)}}function f(m){try{y(s.throw(m))}catch(g){c(g)}}function y(m){m.done?l(m.value):a(m.value).then(h,f)}y((s=s.apply(t,e||[])).next())})};class VD{constructor(e,i={},s){this.url=e,this.headers=Object.assign(Object.assign({},FD),i),this.fetch=p1(s)}listBuckets(){return Pr(this,void 0,void 0,function*(){try{return{data:yield Rc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(yt(e))return{data:null,error:e};throw e}})}getBucket(e){return Pr(this,void 0,void 0,function*(){try{return{data:yield Rc(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(i){if(yt(i))return{data:null,error:i};throw i}})}createBucket(e,i={public:!1}){return Pr(this,void 0,void 0,function*(){try{return{data:yield Ki(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(yt(s))return{data:null,error:s};throw s}})}updateBucket(e,i){return Pr(this,void 0,void 0,function*(){try{return{data:yield ID(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(yt(s))return{data:null,error:s};throw s}})}emptyBucket(e){return Pr(this,void 0,void 0,function*(){try{return{data:yield Ki(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(i){if(yt(i))return{data:null,error:i};throw i}})}deleteBucket(e){return Pr(this,void 0,void 0,function*(){try{return{data:yield m1(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(i){if(yt(i))return{data:null,error:i};throw i}})}}class YD extends VD{constructor(e,i={},s){super(e,i,s)}from(e){return new HD(this.url,this.headers,e,this.fetch)}}const XD="2.51.0";let Mo="";typeof Deno<"u"?Mo="deno":typeof document<"u"?Mo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Mo="react-native":Mo="node";const QD={"X-Client-Info":`supabase-js-${Mo}/${XD}`},KD={headers:QD},ZD={schema:"public"},WD={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},JD={};var ez=function(t,e,i,s){function a(l){return l instanceof i?l:new i(function(c){c(l)})}return new(i||(i=Promise))(function(l,c){function h(m){try{y(s.next(m))}catch(g){c(g)}}function f(m){try{y(s.throw(m))}catch(g){c(g)}}function y(m){m.done?l(m.value):a(m.value).then(h,f)}y((s=s.apply(t,e||[])).next())})};const tz=t=>{let e;return t?e=t:typeof fetch>"u"?e=r1:e=fetch,(...i)=>e(...i)},nz=()=>typeof Headers>"u"?a1:Headers,iz=(t,e,i)=>{const s=tz(i),a=nz();return(l,c)=>ez(void 0,void 0,void 0,function*(){var h;const f=(h=yield e())!==null&&h!==void 0?h:t;let y=new a(c?.headers);return y.has("apikey")||y.set("apikey",t),y.has("Authorization")||y.set("Authorization",`Bearer ${f}`),s(l,Object.assign(Object.assign({},c),{headers:y}))})};var sz=function(t,e,i,s){function a(l){return l instanceof i?l:new i(function(c){c(l)})}return new(i||(i=Promise))(function(l,c){function h(m){try{y(s.next(m))}catch(g){c(g)}}function f(m){try{y(s.throw(m))}catch(g){c(g)}}function y(m){m.done?l(m.value):a(m.value).then(h,f)}y((s=s.apply(t,e||[])).next())})};function rz(t){return t.endsWith("/")?t:t+"/"}function az(t,e){var i,s;const{db:a,auth:l,realtime:c,global:h}=t,{db:f,auth:y,realtime:m,global:g}=e,v={db:Object.assign(Object.assign({},f),a),auth:Object.assign(Object.assign({},y),l),realtime:Object.assign(Object.assign({},m),c),global:Object.assign(Object.assign(Object.assign({},g),h),{headers:Object.assign(Object.assign({},(i=g?.headers)!==null&&i!==void 0?i:{}),(s=h?.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>sz(this,void 0,void 0,function*(){return""})};return t.accessToken?v.accessToken=t.accessToken:delete v.accessToken,v}const g1="2.71.0",$r=30*1e3,np=3,cy=np*$r,oz="http://localhost:9999",lz="supabase.auth.token",uz={"X-Client-Info":`gotrue-js/${g1}`},ip="X-Supabase-Api-Version",b1={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},cz=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,hz=600*1e3;class nm extends Error{constructor(e,i,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=s}}function ve(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class fz extends nm{constructor(e,i,s){super(e,i,s),this.name="AuthApiError",this.status=i,this.code=s}}function dz(t){return ve(t)&&t.name==="AuthApiError"}class v1 extends nm{constructor(e,i){super(e),this.name="AuthUnknownError",this.originalError=i}}class ss extends nm{constructor(e,i,s,a){super(e,s,a),this.name=i,this.status=s}}class Qi extends ss{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function yz(t){return ve(t)&&t.name==="AuthSessionMissingError"}class oc extends ss{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class lc extends ss{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class uc extends ss{constructor(e,i=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function pz(t){return ve(t)&&t.name==="AuthImplicitGrantRedirectError"}class qx extends ss{constructor(e,i=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class sp extends ss{constructor(e,i){super(e,"AuthRetryableFetchError",i,void 0)}}function hy(t){return ve(t)&&t.name==="AuthRetryableFetchError"}class Gx extends ss{constructor(e,i,s){super(e,"AuthWeakPasswordError",i,"weak_password"),this.reasons=s}}class rp extends ss{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Oc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Hx=` 	
\r=`.split(""),mz=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Hx.length;e+=1)t[Hx[e].charCodeAt(0)]=-2;for(let e=0;e<Oc.length;e+=1)t[Oc[e].charCodeAt(0)]=e;return t})();function $x(t,e,i){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;i(Oc[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;i(Oc[s]),e.queuedBits-=6}}function _1(t,e,i){const s=mz[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)i(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Fx(t){const e=[],i=c=>{e.push(String.fromCodePoint(c))},s={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},l=c=>{vz(c,s,i)};for(let c=0;c<t.length;c+=1)_1(t.charCodeAt(c),a,l);return e.join("")}function gz(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function bz(t,e){for(let i=0;i<t.length;i+=1){let s=t.charCodeAt(i);if(s>55295&&s<=56319){const a=(s-55296)*1024&65535;s=(t.charCodeAt(i+1)-56320&65535|a)+65536,i+=1}gz(s,e)}}function vz(t,e,i){if(e.utf8seq===0){if(t<=127){i(t);return}for(let s=1;s<6;s+=1)if((t>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&i(e.codepoint)}}function _z(t){const e=[],i={queue:0,queuedBits:0},s=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)_1(t.charCodeAt(a),i,s);return new Uint8Array(e)}function xz(t){const e=[];return bz(t,i=>e.push(i)),new Uint8Array(e)}function wz(t){const e=[],i={queue:0,queuedBits:0},s=a=>{e.push(a)};return t.forEach(a=>$x(a,i,s)),$x(null,i,s),e.join("")}function Sz(t){return Math.round(Date.now()/1e3)+t}function Az(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Dn=()=>typeof window<"u"&&typeof document<"u",Ts={tested:!1,writable:!1},x1=()=>{if(!Dn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ts.tested)return Ts.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ts.tested=!0,Ts.writable=!0}catch{Ts.tested=!0,Ts.writable=!1}return Ts.writable};function Tz(t){const e={},i=new URL(t);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((a,l)=>{e[l]=a})}catch{}return i.searchParams.forEach((s,a)=>{e[a]=s}),e}const w1=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...i)=>Fn(async()=>{const{default:s}=await Promise.resolve().then(()=>sa);return{default:s}},void 0).then(({default:s})=>s(...i)):e=fetch,(...i)=>e(...i)},Ez=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Fr=async(t,e,i)=>{await t.setItem(e,JSON.stringify(i))},Es=async(t,e)=>{const i=await t.getItem(e);if(!i)return null;try{return JSON.parse(i)}catch{return i}},Xi=async(t,e)=>{await t.removeItem(e)};class Yc{constructor(){this.promise=new Yc.promiseConstructor((e,i)=>{this.resolve=e,this.reject=i})}}Yc.promiseConstructor=Promise;function fy(t){const e=t.split(".");if(e.length!==3)throw new rp("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!cz.test(e[s]))throw new rp("JWT not in base64url format");return{header:JSON.parse(Fx(e[0])),payload:JSON.parse(Fx(e[1])),signature:_z(e[2]),raw:{header:e[0],payload:e[1]}}}async function Mz(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Cz(t,e){return new Promise((s,a)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await t(l);if(!e(l,null,c)){s(c);return}}catch(c){if(!e(l,c)){a(c);return}}})()})}function kz(t){return("0"+t.toString(16)).substr(-2)}function Rz(){const e=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=i.length;let a="";for(let l=0;l<56;l++)a+=i.charAt(Math.floor(Math.random()*s));return a}return crypto.getRandomValues(e),Array.from(e,kz).join("")}async function Oz(t){const i=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",i),a=new Uint8Array(s);return Array.from(a).map(l=>String.fromCharCode(l)).join("")}async function Dz(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const i=await Oz(t);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Br(t,e,i=!1){const s=Rz();let a=s;i&&(a+="/PASSWORD_RECOVERY"),await Fr(t,`${e}-code-verifier`,a);const l=await Dz(s);return[l,s===l?"plain":"s256"]}const zz=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Uz(t){const e=t.headers.get(ip);if(!e||!e.match(zz))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function jz(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Pz(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Bz=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Nr(t){if(!Bz.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function dy(){const t={};return new Proxy(t,{get:(e,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const s=i.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}var Nz=function(t,e){var i={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(i[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(t);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(t,s[a])&&(i[s[a]]=t[s[a]]);return i};const zs=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Lz=[502,503,504];async function Vx(t){var e;if(!Ez(t))throw new sp(zs(t),0);if(Lz.includes(t.status))throw new sp(zs(t),t.status);let i;try{i=await t.json()}catch(l){throw new v1(zs(l),l)}let s;const a=Uz(t);if(a&&a.getTime()>=b1["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?s=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(s=i.error_code),s){if(s==="weak_password")throw new Gx(zs(i),t.status,((e=i.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new Qi}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new Gx(zs(i),t.status,i.weak_password.reasons);throw new fz(zs(i),t.status||500,s)}const Iz=(t,e,i,s)=>{const a={method:t,headers:e?.headers||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),a.body=JSON.stringify(s),Object.assign(Object.assign({},a),i))};async function Te(t,e,i,s){var a;const l=Object.assign({},s?.headers);l[ip]||(l[ip]=b1["2024-01-01"].name),s?.jwt&&(l.Authorization=`Bearer ${s.jwt}`);const c=(a=s?.query)!==null&&a!==void 0?a:{};s?.redirectTo&&(c.redirect_to=s.redirectTo);const h=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",f=await qz(t,e,i+h,{headers:l,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(f):{data:Object.assign({},f),error:null}}async function qz(t,e,i,s,a,l){const c=Iz(e,s,a,l);let h;try{h=await t(i,Object.assign({},c))}catch(f){throw console.error(f),new sp(zs(f),0)}if(h.ok||await Vx(h),s?.noResolveJson)return h;try{return await h.json()}catch(f){await Vx(f)}}function di(t){var e;let i=null;Fz(t)&&(i=Object.assign({},t),t.expires_at||(i.expires_at=Sz(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:i,user:s},error:null}}function Yx(t){const e=di(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Wi(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Gz(t){return{data:t,error:null}}function Hz(t){const{action_link:e,email_otp:i,hashed_token:s,redirect_to:a,verification_type:l}=t,c=Nz(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:i,hashed_token:s,redirect_to:a,verification_type:l},f=Object.assign({},c);return{data:{properties:h,user:f},error:null}}function $z(t){return t}function Fz(t){return t.access_token&&t.refresh_token&&t.expires_in}const yy=["global","local","others"];var Vz=function(t,e){var i={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(i[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(t);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(t,s[a])&&(i[s[a]]=t[s[a]]);return i};class Yz{constructor({url:e="",headers:i={},fetch:s}){this.url=e,this.headers=i,this.fetch=w1(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,i=yy[0]){if(yy.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${yy.join(", ")}`);try{return await Te(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(ve(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,i={}){try{return await Te(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:Wi})}catch(s){if(ve(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:i}=e,s=Vz(e,["options"]),a=Object.assign(Object.assign({},s),i);return"newEmail"in s&&(a.new_email=s?.newEmail,delete a.newEmail),await Te(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Hz,redirectTo:i?.redirectTo})}catch(i){if(ve(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(e){try{return await Te(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Wi})}catch(i){if(ve(i))return{data:{user:null},error:i};throw i}}async listUsers(e){var i,s,a,l,c,h,f;try{const y={nextPage:null,lastPage:0,total:0},m=await Te(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(i=e?.page)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:"",per_page:(l=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:$z});if(m.error)throw m.error;const g=await m.json(),v=(c=m.headers.get("x-total-count"))!==null&&c!==void 0?c:0,b=(f=(h=m.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&f!==void 0?f:[];return b.length>0&&(b.forEach(w=>{const A=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(w.split(";")[1].split("=")[1]);y[`${x}Page`]=A}),y.total=parseInt(v)),{data:Object.assign(Object.assign({},g),y),error:null}}catch(y){if(ve(y))return{data:{users:[]},error:y};throw y}}async getUserById(e){Nr(e);try{return await Te(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Wi})}catch(i){if(ve(i))return{data:{user:null},error:i};throw i}}async updateUserById(e,i){Nr(e);try{return await Te(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:i,headers:this.headers,xform:Wi})}catch(s){if(ve(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,i=!1){Nr(e);try{return await Te(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:i},xform:Wi})}catch(s){if(ve(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){Nr(e.userId);try{const{data:i,error:s}=await Te(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:i,error:s}}catch(i){if(ve(i))return{data:null,error:i};throw i}}async _deleteFactor(e){Nr(e.userId),Nr(e.id);try{return{data:await Te(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(i){if(ve(i))return{data:null,error:i};throw i}}}function Xx(t={}){return{getItem:e=>t[e]||null,setItem:(e,i)=>{t[e]=i},removeItem:e=>{delete t[e]}}}function Xz(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Lr={debug:!!(globalThis&&x1()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class S1 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Qz extends S1{}async function Kz(t,e,i){Lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),Lr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async a=>{if(a){Lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await i()}finally{Lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw Lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Qz(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Lr.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}Xz();const Zz={url:oz,storageKey:lz,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:uz,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Qx(t,e,i){return await i()}const Ir={};class Zo{constructor(e){var i,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Zo.nextInstanceID,Zo.nextInstanceID+=1,this.instanceID>0&&Dn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},Zz),e);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Yz({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=w1(a.fetch),this.lock=a.lock||Qx,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Dn()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=Kz:this.lock=Qx,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:x1()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Xx(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Xx(this.memoryStorage)),Dn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}get jwks(){var e,i;return(i=(e=Ir[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(e){Ir[this.storageKey]=Object.assign(Object.assign({},Ir[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,i;return(i=(e=Ir[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ir[this.storageKey]=Object.assign(Object.assign({},Ir[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${g1}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const i=Tz(window.location.href);let s="none";if(this._isImplicitGrantCallback(i)?s="implicit":await this._isPKCECallback(i)&&(s="pkce"),Dn()&&this.detectSessionInUrl&&s!=="none"){const{data:a,error:l}=await this._getSessionFromURL(i,s);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),pz(l)){const f=(e=l.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:c,redirectType:h}=a;return this._debug("#_initialize()","detected session in URL",c,"redirect type",h),await this._saveSession(c),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return ve(i)?{error:i}:{error:new v1("Unexpected error during initialization",i)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var i,s,a;try{const l=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(i=e?.options)===null||i===void 0?void 0:i.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(a=e?.options)===null||a===void 0?void 0:a.captchaToken}},xform:di}),{data:c,error:h}=l;if(h||!c)return{data:{user:null,session:null},error:h};const f=c.session,y=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:y,session:f},error:null}}catch(l){if(ve(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(e){var i,s,a;try{let l;if("email"in e){const{email:m,password:g,options:v}=e;let b=null,w=null;this.flowType==="pkce"&&([b,w]=await Br(this.storage,this.storageKey)),l=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v?.emailRedirectTo,body:{email:m,password:g,data:(i=v?.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:b,code_challenge_method:w},xform:di})}else if("phone"in e){const{phone:m,password:g,options:v}=e;l=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:g,data:(s=v?.data)!==null&&s!==void 0?s:{},channel:(a=v?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:di})}else throw new lc("You must provide either an email or phone number and a password");const{data:c,error:h}=l;if(h||!c)return{data:{user:null,session:null},error:h};const f=c.session,y=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:y,session:f},error:null}}catch(l){if(ve(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(e){try{let i;if("email"in e){const{email:l,password:c,options:h}=e;i=await Te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Yx})}else if("phone"in e){const{phone:l,password:c,options:h}=e;i=await Te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Yx})}else throw new lc("You must provide either an email or phone number and a password");const{data:s,error:a}=i;return a?{data:{user:null,session:null},error:a}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new oc}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:a})}catch(i){if(ve(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithOAuth(e){var i,s,a,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:i}=e;if(i==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}async signInWithSolana(e){var i,s,a,l,c,h,f,y,m,g,v,b;let w,A;if("message"in e)w=e.message,A=e.signature;else{const{chain:x,wallet:T,statement:C,options:S}=e;let E;if(Dn())if(typeof T=="object")E=T;else{const O=window;if("solana"in O&&typeof O.solana=="object"&&("signIn"in O.solana&&typeof O.solana.signIn=="function"||"signMessage"in O.solana&&typeof O.solana.signMessage=="function"))E=O.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!S?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=T}const z=new URL((i=S?.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in E&&E.signIn){const O=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S?.signInWithSolana),{version:"1",domain:z.host,uri:z.href}),C?{statement:C}:null));let k;if(Array.isArray(O)&&O[0]&&typeof O[0]=="object")k=O[0];else if(O&&typeof O=="object"&&"signedMessage"in O&&"signature"in O)k=O;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)w=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),A=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${z.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...C?["",C,""]:[""],"Version: 1",`URI: ${z.href}`,`Issued At: ${(a=(s=S?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((l=S?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((c=S?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((h=S?.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((f=S?.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((y=S?.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((g=(m=S?.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||g===void 0)&&g.length?["Resources",...S.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const O=await E.signMessage(new TextEncoder().encode(w),"utf8");if(!O||!(O instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");A=O}}try{const{data:x,error:T}=await Te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:wz(A)},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:di});if(T)throw T;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new oc}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:T})}catch(x){if(ve(x))return{data:{user:null,session:null},error:x};throw x}}async _exchangeCodeForSession(e){const i=await Es(this.storage,`${this.storageKey}-code-verifier`),[s,a]=(i??"").split("/");try{const{data:l,error:c}=await Te(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:di});if(await Xi(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new oc}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:a??null}),error:c})}catch(l){if(ve(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(e){try{const{options:i,provider:s,token:a,access_token:l,nonce:c}=e,h=await Te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:a,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:di}),{data:f,error:y}=h;return y?{data:{user:null,session:null},error:y}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new oc}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:f,error:y})}catch(i){if(ve(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithOtp(e){var i,s,a,l,c;try{if("email"in e){const{email:h,options:f}=e;let y=null,m=null;this.flowType==="pkce"&&([y,m]=await Br(this.storage,this.storageKey));const{error:g}=await Te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(i=f?.data)!==null&&i!==void 0?i:{},create_user:(s=f?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:y,code_challenge_method:m},redirectTo:f?.emailRedirectTo});return{data:{user:null,session:null},error:g}}if("phone"in e){const{phone:h,options:f}=e,{data:y,error:m}=await Te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(a=f?.data)!==null&&a!==void 0?a:{},create_user:(l=f?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},channel:(c=f?.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:y?.message_id},error:m}}throw new lc("You must provide either an email or phone number.")}catch(h){if(ve(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(e){var i,s;try{let a,l;"options"in e&&(a=(i=e.options)===null||i===void 0?void 0:i.redirectTo,l=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:c,error:h}=await Te(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:a,xform:di});if(h)throw h;if(!c)throw new Error("An error occurred on token verification.");const f=c.session,y=c.user;return f?.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),{data:{user:y,session:f},error:null}}catch(a){if(ve(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(e){var i,s,a;try{let l=null,c=null;return this.flowType==="pkce"&&([l,c]=await Br(this.storage,this.storageKey)),await Te(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(i=e.options)===null||i===void 0?void 0:i.redirectTo)!==null&&s!==void 0?s:void 0}),!((a=e?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:Gz})}catch(l){if(ve(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:i},error:s}=e;if(s)throw s;if(!i)throw new Qi;const{error:a}=await Te(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return{data:{user:null,session:null},error:a}})}catch(e){if(ve(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const i=`${this.url}/resend`;if("email"in e){const{email:s,type:a,options:l}=e,{error:c}=await Te(this.fetch,"POST",i,{headers:this.headers,body:{email:s,type:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in e){const{phone:s,type:a,options:l}=e,{data:c,error:h}=await Te(this.fetch,"POST",i,{headers:this.headers,body:{phone:s,type:a,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return{data:{user:null,session:null,messageId:c?.message_id},error:h}}throw new lc("You must provide either an email or phone number and a type")}catch(i){if(ve(i))return{data:{user:null,session:null},error:i};throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async i=>i))}async _acquireLock(e,i){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await s,await i()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=i();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await e(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const i=await Es(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?e=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<cy:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const c=await Es(this.userStorage,this.storageKey+"-user");c?.user?e.user=c.user:e.user=dy()}if(this.storage.isServer&&e.user){let c=this.suppressGetSessionWarning;e=new Proxy(e,{get:(f,y,m)=>(!c&&y==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(f,y,m))})}return{data:{session:e},error:null}}const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{session:null},error:l}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Wi}):await this._useSession(async i=>{var s,a,l;const{data:c,error:h}=i;if(h)throw h;return!(!((s=c.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Qi}:await Te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0,xform:Wi})})}catch(i){if(ve(i))return yz(i)&&(await this._removeSession(),await Xi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:i};throw i}}async updateUser(e,i={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,i))}async _updateUser(e,i={}){try{return await this._useSession(async s=>{const{data:a,error:l}=s;if(l)throw l;if(!a.session)throw new Qi;const c=a.session;let h=null,f=null;this.flowType==="pkce"&&e.email!=null&&([h,f]=await Br(this.storage,this.storageKey));const{data:y,error:m}=await Te(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:f}),jwt:c.access_token,xform:Wi});if(m)throw m;return c.user=y.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(s){if(ve(s))return{data:{user:null},error:s};throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Qi;const i=Date.now()/1e3;let s=i,a=!0,l=null;const{payload:c}=fy(e.access_token);if(c.exp&&(s=c.exp,a=s<=i),a){const{session:h,error:f}=await this._callRefreshToken(e.refresh_token);if(f)return{data:{user:null,session:null},error:f};if(!h)return{data:{user:null,session:null},error:null};l=h}else{const{data:h,error:f}=await this._getUser(e.access_token);if(f)throw f;l={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:s-i,expires_at:s},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(i){if(ve(i))return{data:{session:null,user:null},error:i};throw i}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async i=>{var s;if(!e){const{data:c,error:h}=i;if(h)throw h;e=(s=c.session)!==null&&s!==void 0?s:void 0}if(!e?.refresh_token)throw new Qi;const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{user:null,session:null},error:l}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(i){if(ve(i))return{data:{user:null,session:null},error:i};throw i}}async _getSessionFromURL(e,i){try{if(!Dn())throw new uc("No browser detected.");if(e.error||e.error_description||e.error_code)throw new uc(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new qx("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new uc("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new qx("No code detected.");const{data:C,error:S}=await this._exchangeCodeForSession(e.code);if(S)throw S;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:a,access_token:l,refresh_token:c,expires_in:h,expires_at:f,token_type:y}=e;if(!l||!h||!c||!y)throw new uc("No session defined in URL");const m=Math.round(Date.now()/1e3),g=parseInt(h);let v=m+g;f&&(v=parseInt(f));const b=v-m;b*1e3<=$r&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${g}s`);const w=v-g;m-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,v,m):m-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,v,m);const{data:A,error:x}=await this._getUser(l);if(x)throw x;const T={provider_token:s,provider_refresh_token:a,access_token:l,expires_in:g,expires_at:v,refresh_token:c,token_type:y,user:A.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:T,redirectType:e.type},error:null}}catch(s){if(ve(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const i=await Es(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&i)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async i=>{var s;const{data:a,error:l}=i;if(l)return{error:l};const c=(s=a.session)===null||s===void 0?void 0:s.access_token;if(c){const{error:h}=await this.admin.signOut(c,e);if(h&&!(dz(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return e!=="others"&&(await this._removeSession(),await Xi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const i=Az(),s={id:i,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async i=>{var s,a;try{const{data:{session:l},error:c}=i;if(c)throw c;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,i={}){let s=null,a=null;this.flowType==="pkce"&&([s,a]=await Br(this.storage,this.storageKey,!0));try{return await Te(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:a,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(l){if(ve(l))return{data:null,error:l};throw l}}async getUserIdentities(){var e;try{const{data:i,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(e=i.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(i){if(ve(i))return{data:null,error:i};throw i}}async linkIdentity(e){var i;try{const{data:s,error:a}=await this._useSession(async l=>{var c,h,f,y,m;const{data:g,error:v}=l;if(v)throw v;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Te(this.fetch,"GET",b,{headers:this.headers,jwt:(m=(y=g.session)===null||y===void 0?void 0:y.access_token)!==null&&m!==void 0?m:void 0})});if(a)throw a;return Dn()&&!(!((i=e.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(s?.url),{data:{provider:e.provider,url:s?.url},error:null}}catch(s){if(ve(s))return{data:{provider:e.provider,url:null},error:s};throw s}}async unlinkIdentity(e){try{return await this._useSession(async i=>{var s,a;const{data:l,error:c}=i;if(c)throw c;return await Te(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0})})}catch(i){if(ve(i))return{data:null,error:i};throw i}}async _refreshAccessToken(e){const i=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{const s=Date.now();return await Cz(async a=>(a>0&&await Mz(200*Math.pow(2,a-1)),this._debug(i,"refreshing attempt",a),await Te(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:di})),(a,l)=>{const c=200*Math.pow(2,a);return l&&hy(l)&&Date.now()+c-s<$r})}catch(s){if(this._debug(i,"error",s),ve(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(i,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,i){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",i,"url",s),Dn()&&!i.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,i;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const a=await Es(this.storage,this.storageKey);if(a&&this.userStorage){let c=await Es(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:a.user},await Fr(this.userStorage,this.storageKey+"-user",c)),a.user=(e=c?.user)!==null&&e!==void 0?e:dy()}else if(a&&!a.user&&!a.user){const c=await Es(this.storage,this.storageKey+"-user");c&&c?.user?(a.user=c.user,await Xi(this.storage,this.storageKey+"-user"),await Fr(this.storage,this.storageKey,a)):a.user=dy()}if(this._debug(s,"session from storage",a),!this._isValidSession(a)){this._debug(s,"session is not valid"),a!==null&&await this._removeSession();return}const l=((i=a.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<cy;if(this._debug(s,`session has${l?"":" not"} expired with margin of ${cy}s`),l){if(this.autoRefreshToken&&a.refresh_token){const{error:c}=await this._callRefreshToken(a.refresh_token);c&&(console.error(c),hy(c)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:h}=await this._getUser(a.access_token);!h&&c?.user?(a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(s,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(s,"error",a),console.error(a);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var i,s;if(!e)throw new Qi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Yc;const{data:l,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!l.session)throw new Qi;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const h={session:l.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(l){if(this._debug(a,"error",l),ve(l)){const c={session:null,error:l};return hy(l)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(c),c}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(l),l}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,i,s=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",i,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:i});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,i)}catch(f){l.push(f)}});if(await Promise.all(c),l.length>0){for(let h=0;h<l.length;h+=1)console.error(l[h]);throw l[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const i=Object.assign({},e),s=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&i.user&&await Fr(this.userStorage,this.storageKey+"-user",{user:i.user});const a=Object.assign({},i);delete a.user;const l=structuredClone(a);await Fr(this.storage,this.storageKey,l)}else{const a=structuredClone(i);await Fr(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await Xi(this.storage,this.storageKey),await Xi(this.storage,this.storageKey+"-code-verifier"),await Xi(this.storage,this.storageKey+"-user"),this.userStorage&&await Xi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Dn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),$r);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async i=>{const{data:{session:s}}=i;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((s.expires_at*1e3-e)/$r);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${$r}ms, refresh threshold is ${np} ticks`),a<=np&&await this._callRefreshToken(s.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof S1)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Dn()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const i=`#_onVisibilityChanged(${e})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,i,s){const a=[`provider=${encodeURIComponent(i)}`];if(s?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&a.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[l,c]=await Br(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});a.push(h.toString())}if(s?.queryParams){const l=new URLSearchParams(s.queryParams);a.push(l.toString())}return s?.skipBrowserRedirect&&a.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async i=>{var s;const{data:a,error:l}=i;return l?{data:null,error:l}:await Te(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=a?.session)===null||s===void 0?void 0:s.access_token})})}catch(i){if(ve(i))return{data:null,error:i};throw i}}async _enroll(e){try{return await this._useSession(async i=>{var s,a;const{data:l,error:c}=i;if(c)return{data:null,error:c};const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:f,error:y}=await Te(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(s=l?.session)===null||s===void 0?void 0:s.access_token});return y?{data:null,error:y}:(e.factorType==="totp"&&(!((a=f?.totp)===null||a===void 0)&&a.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),{data:f,error:null})})}catch(i){if(ve(i))return{data:null,error:i};throw i}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var s;const{data:a,error:l}=i;if(l)return{data:null,error:l};const{data:c,error:h}=await Te(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(s=a?.session)===null||s===void 0?void 0:s.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:h})})}catch(i){if(ve(i))return{data:null,error:i};throw i}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var s;const{data:a,error:l}=i;return l?{data:null,error:l}:await Te(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(s=a?.session)===null||s===void 0?void 0:s.access_token})})}catch(i){if(ve(i))return{data:null,error:i};throw i}})}async _challengeAndVerify(e){const{data:i,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:i.id,code:e.code})}async _listFactors(){const{data:{user:e},error:i}=await this.getUser();if(i)return{data:null,error:i};const s=e?.factors||[],a=s.filter(c=>c.factor_type==="totp"&&c.status==="verified"),l=s.filter(c=>c.factor_type==="phone"&&c.status==="verified");return{data:{all:s,totp:a,phone:l},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var i,s;const{data:{session:a},error:l}=e;if(l)return{data:null,error:l};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=fy(a.access_token);let h=null;c.aal&&(h=c.aal);let f=h;((s=(i=a.user.factors)===null||i===void 0?void 0:i.filter(g=>g.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(f="aal2");const m=c.amr||[];return{data:{currentLevel:h,nextLevel:f,currentAuthenticationMethods:m},error:null}}))}async fetchJwk(e,i={keys:[]}){let s=i.keys.find(h=>h.kid===e);if(s)return s;const a=Date.now();if(s=this.jwks.keys.find(h=>h.kid===e),s&&this.jwks_cached_at+hz>a)return s;const{data:l,error:c}=await Te(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=a,s=l.keys.find(h=>h.kid===e),!s)?null:s}async getClaims(e,i={}){try{let s=e;if(!s){const{data:b,error:w}=await this.getSession();if(w||!b.session)return{data:null,error:w};s=b.session.access_token}const{header:a,payload:l,signature:c,raw:{header:h,payload:f}}=fy(s);i?.allowExpired||jz(l.exp);const y=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,i?.keys?{keys:i.keys}:i?.jwks);if(!y){const{error:b}=await this.getUser(s);if(b)throw b;return{data:{claims:l,header:a,signature:c},error:null}}const m=Pz(a.alg),g=await crypto.subtle.importKey("jwk",y,m,!0,["verify"]);if(!await crypto.subtle.verify(m,g,c,xz(`${h}.${f}`)))throw new rp("Invalid JWT signature");return{data:{claims:l,header:a,signature:c},error:null}}catch(s){if(ve(s))return{data:null,error:s};throw s}}}Zo.nextInstanceID=0;const Wz=Zo;class Jz extends Wz{constructor(e){super(e)}}var e4=function(t,e,i,s){function a(l){return l instanceof i?l:new i(function(c){c(l)})}return new(i||(i=Promise))(function(l,c){function h(m){try{y(s.next(m))}catch(g){c(g)}}function f(m){try{y(s.throw(m))}catch(g){c(g)}}function y(m){m.done?l(m.value):a(m.value).then(h,f)}y((s=s.apply(t,e||[])).next())})};class t4{constructor(e,i,s){var a,l,c;if(this.supabaseUrl=e,this.supabaseKey=i,!e)throw new Error("supabaseUrl is required.");if(!i)throw new Error("supabaseKey is required.");const h=rz(e),f=new URL(h);this.realtimeUrl=new URL("realtime/v1",f),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",f),this.storageUrl=new URL("storage/v1",f),this.functionsUrl=new URL("functions/v1",f);const y=`sb-${f.hostname.split(".")[0]}-auth-token`,m={db:ZD,realtime:JD,auth:Object.assign(Object.assign({},WD),{storageKey:y}),global:KD},g=az(s??{},m);this.storageKey=(a=g.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(l=g.global.headers)!==null&&l!==void 0?l:{},g.accessToken?(this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(v,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=g.auth)!==null&&c!==void 0?c:{},this.headers,g.global.fetch),this.fetch=iz(i,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.rest=new vD(new URL("rest/v1",f).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),g.accessToken||this._listenForAuthEvents()}get functions(){return new oD(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new YD(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,i={},s={}){return this.rest.rpc(e,i,s)}channel(e,i={config:{}}){return this.realtime.channel(e,i)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,i;return e4(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(i=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&i!==void 0?i:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:i,detectSessionInUrl:s,storage:a,storageKey:l,flowType:c,lock:h,debug:f},y,m){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Jz({url:this.authUrl.href,headers:Object.assign(Object.assign({},g),y),storageKey:l,autoRefreshToken:e,persistSession:i,detectSessionInUrl:s,storage:a,flowType:c,lock:h,debug:f,fetch:m,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new UD(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,s)=>{this._handleTokenChanged(i,"CLIENT",s?.access_token)})}_handleTokenChanged(e,i,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:e==="SIGNED_OUT"&&(this.realtime.setAuth(),i=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const n4=(t,e,i)=>new t4(t,e,i),im=n4("https://pkswdnpftrundnewgnya.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBrc3dkbnBmdHJ1bmRuZXdnbnlhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI2ODI2MzIsImV4cCI6MjA2ODI1ODYzMn0.r_Y1RLOGJ55C0De5SBTVXqO09SMDqgV38sQuE-oDxXE"),i4=async t=>{if(t.locator.campaignName===void 0)throw new Error("can not save a campaign without a name");const e=await im.rpc("save_campaign_version",{p_name:t.locator.campaignName,p_data:await iD(t),p_published:t.meta?.published??!1});if(e.error)throw new Error(`error saving to db ${e.error.message} ${e.error.details}`,{cause:e.error});return e.data},s4=async t=>{const e=await im.rpc("get_latest_campaign",{p_campaign_name:t.campaignName,p_user_id:t.userId,p_version:t.version===-1?void 0:t.version});if(e.error)throw new Error("could not get campaign",{cause:e.error});const i=await s1(e.data.data);return Object.values(i.rooms).forEach(s=>{delete s.size}),i.locator===void 0&&(i.locator={userId:t.userId||"upgraded, unknown",campaignName:t.campaignName,version:e.data.version}),delete i.name,i},r4=async({publishedOnly:t})=>{const e=await im.rpc("get_all_users_latest_campaigns",{p_published_only:t});if(e.error)throw new Error("could not get user campaigns",{cause:e.error});return e.data},py=t=>{const e=[];for(let i=t;i!==void 0;i=i instanceof Error?i.cause:void 0)i instanceof Error&&e.push({message:i.message,stack:i.stack});return e},Wo=H3({reducerPath:"campaignsApi",baseQuery:_3(),endpoints:t=>({getCampaign:t.query({async queryFn(e){try{return e.userId==="@@original"&&e.campaignName==="original"?{data:(await $3()).campaign}:e.campaignName.startsWith("data:")?{data:await s1(e.campaignName.substring(5))}:{data:await s4(e)}}catch(i){return{error:py(new Error(`getCampaign queryFn( ${JSON.stringify(e)} ) failed: ${i}`))}}}}),getAllUsersLatestCampaigns:t.query({async queryFn({publishedOnly:e}){try{return{data:await r4({publishedOnly:e})}}catch(i){return{error:py(new Error(`getAllUsersLatestCampaigns queryFn() failed: ${i}`))}}}}),saveCampaign:t.mutation({async queryFn(e){try{return{data:await i4(e)}}catch(i){return{error:py(new Error(`saveCampaign queryFn( ${JSON.stringify(e)} ) failed: ${i}`))}}}})})}),{useGetAllUsersLatestCampaignsQuery:uj}=Wo,a4=Wo.endpoints.getCampaign.select,o4=(t,e)=>a4(e)(t).data,Dc={inputAssignment:Cy.Default.inputAssignment,infiniteLivesPoke:!1,infiniteDoughnutsPoke:!1,displaySettings:{showBoundingBoxes:"none",showShadowMasks:!1,crtFilter:!1,uncolourised:!1,emulatedResolution:vi()==="mobile"?"handheld":"zxSpectrum"},gameSpeed:1.2,showFps:!1,onScreenControls:vi()==="mobile"||vi()==="tablet",inputDirectionMode:"8-way",directionsRelativeTo:"mixed",soundSettings:{mute:!1,noFootsteps:!1}},rs=t=>e=>Cc(e.gameMenus.userSettings,t)??Cc(Dc,t),sm=rs("displaySettings.emulatedResolution"),l4=rs("gameSpeed"),cj=()=>Vp(sm),u4=rs("displaySettings.uncolourised"),hj=()=>Vp(u4),fj=rs("infiniteLivesPoke"),dj=rs("infiniteDoughnutsPoke"),c4=rs("directionsRelativeTo"),h4=rs("inputDirectionMode"),f4=rs("displaySettings.showBoundingBoxes"),yj=()=>Vp(f4),d4=(t,e)=>!!(Cc(t.userSettings,e)??Cc(Dc,e)??!1),pj=t=>{const e=t.gameMenus.gameInPlay.campaignLocator;return e===void 0?void 0:o4(t,e)},y4=[1,1.2,1.5,2],mj=["none","non-wall","all"],go=t=>wM(r3(t,"userId","campaignName")),p4=["4-way","8-way","analogue"],m4=vi()!=="server",g4=m4?Xr().has("cheats"):!1,b4={blacktooth:!1,bookworld:!1,egyptus:!1,penitentiary:!1,safari:!1},ap={planetsLiberated:b4,roomsExplored:{},scrollsRead:{},reincarnationPoint:void 0,freeCharacters:{}},op={userSettings:{displaySettings:{},soundSettings:navigator.webdriver?{mute:!0}:{}},gameRunning:!1,gameInPlay:ap,openMenus:[{menuId:"mainMenu",scrollableSelection:!1,menuParam:An}],assigningInput:void 0,cheatsOn:g4,savedGames:{saves:{}}},ra=pi({name:"gameMenus",initialState:op,reducers:{setEmulatedResolution(t,{payload:e}){let i;e===void 0?i=ec(t3,sm({gameMenus:t})):i=e,t.userSettings.displaySettings.emulatedResolution=i},setGameSpeed(t,{payload:e}){let i;e===void 0?i=ec(y4,l4({gameMenus:t})):i=e,t.userSettings.gameSpeed=i},scrollRead(t,{payload:e}){e.source==="manual"?(t.gameInPlay.scrollsRead[e.page]=!0,t.openMenus=[{menuId:`markdown/${e.page}`,scrollableSelection:!1,menuParam:An}]):t.openMenus=[{menuId:"markdown/inline",scrollableSelection:!1,menuParam:{markdown:e.markdown}}]},nextInputDirectionMode(t){t.userSettings.inputDirectionMode=ec(p4,h4({gameMenus:t}))},nextDirectionRelativeTo(t){t.userSettings.directionsRelativeTo=ec(a3,c4({gameMenus:t}))},inputAddedDuringAssignment(t,{payload:e}){if(t.assigningInput===void 0)throw new Error("reducer called while not assigning keys");const i=(c,h)=>{c.includes(h)||c.push(h)},{presses:s,axes:a,action:l}=t.assigningInput;switch(e.type){case"key":i(s.keys,e.input);break;case"gamepadButtons":i(s.gamepadButtons,e.input);break;case"gamepadAxes":{kp.includes(l)&&i(a,e.input);break}}},doneAssigningInput(t){if(t.assigningInput===void 0)throw new Error("illegal action for state");const{action:e,presses:i,axes:s}=t.assigningInput,a=i.keys.length+i.gamepadButtons.length+s.length,l=t.userSettings.inputAssignment===void 0?t.userSettings.inputAssignment=structuredClone(Cy.Default.inputAssignment):t.userSettings.inputAssignment;a>0&&(l.presses[e]=i,(e==="left"||e==="right")&&(l.axes.x=s),(e==="towards"||e==="away")&&(l.axes.y=s)),t.assigningInput=void 0},menuOpenOrExitPressed(t){if(t.openMenus.length>0){if(t.openMenus.length===1&&!t.gameRunning)return;const[,...e]=t.openMenus;t.openMenus=e}else t.openMenus=[{menuId:"mainMenu",scrollableSelection:!1,menuParam:An}]},goToSubmenu(t,{payload:e}){t.openMenus=[{menuId:e,scrollableSelection:!1,menuParam:{}},...t.openMenus]},closeAllMenus(t){t.openMenus=[]},gameStarted(t,{payload:{campaignLocator:e,noShowCrowns:i}}){if(t.gameRunning)throw new Error("game is already running");t.openMenus=i?[]:[{menuId:"crowns",scrollableSelection:!1,menuParam:{playMusic:!1}}],t.gameRunning=!0,t.gameInPlay={...ap,campaignLocator:e}},backToParentMenu(t){const[,...e]=t.openMenus;t.openMenus=e},assignInputStart(t,{payload:e}){t.assigningInput={action:e,presses:{gamepadButtons:[],keys:[]},axes:[]}},keyAssignmentPresetChosen(t,{payload:e}){const[,...i]=t.openMenus;t.openMenus=i,t.userSettings.inputAssignment=Cy[e].inputAssignment},setFocussedMenuItemId(t,{payload:{focussedItemId:e,scrollableSelection:i}}){const[s]=t.openMenus;s.focussedItemId=e,s.scrollableSelection=i},holdPressed(t,{payload:e}){t.openMenus.length>0?t.openMenus[0]?.menuId==="hold"&&e!=="hold"&&(t.openMenus=[]):e!=="unhold"&&(t.openMenus=[{menuId:"hold",scrollableSelection:!1,menuParam:An}])},mapPressed(t){const e={menuId:"map",scrollableSelection:!1,menuParam:An};if(t.openMenus.length>=1){const s=t.openMenus.at(0)?.menuId;if(s==="map"){const[,...a]=t.openMenus;t.openMenus=a}else s==="hold"&&(t.openMenus=[e,...t.openMenus])}else t.openMenus=[e]},setShowBoundingBoxes(t,{payload:e}){t.userSettings.displaySettings.showBoundingBoxes=e},setShowShadowMasks(t,{payload:e}){t.userSettings.displaySettings.showShadowMasks=e},toggleUserSetting(t,{payload:{path:e,value:i}}){s3(t.userSettings,e,i??!d4(t,e))},crownCollected(t,{payload:e}){t.gameInPlay.planetsLiberated[e]=!0;const i=Object.values(t.gameInPlay.planetsLiberated).every(a=>a),s={menuId:"crowns",scrollableSelection:!1,menuParam:{playMusic:!0}};i?t.openMenus=[{menuId:"proclaimEmperor",scrollableSelection:!1,menuParam:An},s]:t.openMenus=[s]},roomExplored(t,{payload:e}){t.gameInPlay.roomsExplored[e]=!0},gameOver(t,{payload:{offerReincarnation:e}}){if(e&&t.gameInPlay.reincarnationPoint!==void 0)t.openMenus=[{menuId:"score",scrollableSelection:!1,menuParam:An},{menuId:"offerReincarnation",scrollableSelection:!1,menuParam:An}];else{t.gameRunning=!1,delete t.gameInPlay.reincarnationPoint;const i=t.gameInPlay.campaignLocator,s=i&&go(i);s&&(delete t.savedGames.saves[s],delete t.savedGames.lastSavedCampaignLocator),t.openMenus=[{menuId:"score",scrollableSelection:!1,menuParam:An},{menuId:"mainMenu",scrollableSelection:!0,menuParam:An}]}},reincarnationFishEaten(t,{payload:e}){t.gameInPlay.reincarnationPoint=e},reincarnationAccepted(t){delete t.gameInPlay.reincarnationPoint,t.openMenus=[{menuId:"reincarnatedRestart",scrollableSelection:!1,menuParam:An}]},saveGame(t,{payload:e}){const i=t.gameInPlay.campaignLocator;if(i===void 0)throw new Error("trying to save a game, but seems like there's no campaign to save against");if(hC())throw new Error("shouldn't be saving in playtest mode");t.savedGames.saves[go(i)]=e,t.savedGames.lastSavedCampaignLocator=i},gameRestoreFromSave(t,{payload:e}){t.gameInPlay={freeCharacters:{},...e},e.freeCharacters===void 0&&(t.gameInPlay.freeCharacters={})},errorCaught(t,{payload:e}){t.openMenus=[{menuId:"errorCaught",scrollableSelection:!1,menuParam:e}]},errorDismissed(t,{payload:e}){switch(e){case"ignore":t.openMenus=[];break;case"clearAllData":Object.assign(t,op),t.gameRunning=!1;break}},debugItemClicked(t,e){},characterRoomChange(t,e){},lostLife(t,e){},characterReachesFreedom(t,{payload:e}){t.gameInPlay.freeCharacters[e]=!0}},extraReducers(t){t.addCase(al,(e,i)=>{if(Xr().get("campaignName")?.startsWith("data:"))return;const s=[{menuId:"hold",scrollableSelection:!1,menuParam:An}],a={userId:Xr().get("campaignAuthorUserId")??void 0,campaignName:Xr().get("campaignName")??void 0},l=i.payload?.savedGames;if((y=>y.userId!==void 0&&y.campaignName!==void 0)(a)){e.gameRunning=!0;const y=l?.saves[go(a)];if(y){e.gameRunning=!0,e.gameInPlay={freeCharacters:{},...y.store.gameMenus.gameInPlay},e.openMenus=s;return}else{e.gameRunning=!0,e.gameInPlay={...ap,campaignLocator:a},e.openMenus=s;return}}const h=l?.lastSavedCampaignLocator,f=h&&l.saves[go(h)];f&&(e.gameRunning=!0,e.gameInPlay={freeCharacters:{},...f.store.gameMenus.gameInPlay},e.openMenus=s)})},selectors:{selectHasError(t){return t.openMenus.some(e=>e.menuId==="errorCaught")},selectSaveForCampaign(t,e){return t.savedGames.saves[go(e)]}}}),{assignInputStart:gj,backToParentMenu:bj,characterReachesFreedom:vj,characterRoomChange:_j,closeAllMenus:xj,crownCollected:wj,debugItemClicked:v4,doneAssigningInput:Sj,errorCaught:Aj,errorDismissed:Tj,gameOver:Ej,gameRestoreFromSave:Mj,gameStarted:Cj,goToSubmenu:kj,holdPressed:Rj,inputAddedDuringAssignment:Oj,keyAssignmentPresetChosen:Dj,lostLife:zj,mapPressed:Uj,menuOpenOrExitPressed:jj,nextDirectionRelativeTo:Pj,nextInputDirectionMode:Bj,reincarnationAccepted:Nj,reincarnationFishEaten:Lj,roomExplored:Ij,saveGame:qj,scrollRead:Gj,setEmulatedResolution:_4,setFocussedMenuItemId:Hj,setGameSpeed:$j,setShowBoundingBoxes:Fj,setShowShadowMasks:Vj,toggleUserSetting:Yj}=ra.actions,{selectHasError:Xj}=ra.selectors;ra.selectors.selectSaveForCampaign;ra.actions;const St=t=>{const e=op.userSettings;return console.log("migrating state: persisted is:",t,"I am not migrating - reverting to initial/default state:",e),e},x4=mM({1:St,2:St,3:St,4:St,5:St,6:St,7:St,8:St,9:St,10:St,11:St,12:St,13:St,14:St,15:St,16:St,17:St}),w4=["userSettings","savedGames"],S4=17,A4={key:"hohol/gameMenus/userSettings",version:S4,migrate:x4,storage:xM,whitelist:w4},T4=uM(A4,ra.reducer),E4={count:0},zc=pi({name:"manualLoading",initialState:E4,reducers:{manualLoadingStarted(t){t.count++},manualLoadingFinished(t){t.count=Math.max(0,t.count-1)}},selectors:{selectManualLoadingCount(t){return t.count}}}),{manualLoadingStarted:Qj,manualLoadingFinished:Kj}=zc.actions,{selectManualLoadingCount:Zj}=zc.selectors,M4=t=>vi()==="server"?Fp.zxSpectrum.size:t?{x:t.clientWidth,y:t.clientHeight}:{x:window.innerWidth,y:window.innerHeight},A1=(t,e,i)=>{const s=vi();return{renderAreaSize:M4(i),emulatedResolutionName:t,devicePixelRatio:s==="server"?1:window.devicePixelRatio,maximumCanvasUpscale:e.crtFilter?6:8}},T1=({renderAreaSize:t,emulatedResolutionName:e,devicePixelRatio:i,deviceType:s=vi(),maximumCanvasUpscale:a})=>{const l=Fp[e],{renderAreaSize:c,rotate90:h}=s!=="desktop"&&t.x<t.y?{renderAreaSize:{x:t.y,y:t.x},rotate90:!0}:{renderAreaSize:t,rotate90:!1},f=EM(c,i),y=Math.max(Math.floor(Math.min(f.x/l.size.x,f.y/l.size.y)),1),m=Math.min(a,y),g=y/m/i,v={x:Math.floor(f.x/y),y:Math.floor(f.y/y)},b={x:Math.ceil(c.x/g),y:Math.ceil(c.y/g)};return{gameEngineUpscale:m,cssUpscale:g,gameEngineScreenSize:v,canvasSize:b,rotate90:h}},C4={upscale:T1(A1(Dc.displaySettings.emulatedResolution,Dc.displaySettings))},Jo=pi({name:"upscale",initialState:C4,reducers:{upscaleToWindow(t,{payload:e}){t.upscale=T1(e)}},selectors:{selectCanvasSize(t){return t.upscale.canvasSize},selectGameEngineUpscale(t){return t.upscale.gameEngineUpscale},selectGameEngineScreenSize(t){return t.upscale.gameEngineScreenSize},selectRot90(t){return t.upscale.rotate90},selectUpscale(t){return t.upscale},selectTotalUpscale({upscale:{cssUpscale:t,gameEngineUpscale:e}}){return t*e}}}),{upscaleToWindow:k4}=Jo.actions,{selectCanvasSize:Wj,selectRot90:Jj,selectUpscale:eP,selectGameEngineUpscale:tP,selectTotalUpscale:nP,selectGameEngineScreenSize:iP}=Jo.selectors;Jo.actions;const E1=(t,e,i,s)=>{t(k4(A1(i??sm(e()),e().gameMenus.userSettings.displaySettings,s)))},R4=()=>{vi()!=="server"&&kw({actionCreator:_4,effect(t,{dispatch:e,getState:i}){E1(e,i)}})},O4=()=>{vi()!=="server"&&kw({predicate(t,{gameMenus:{userSettings:{displaySettings:e}}},{gameMenus:{userSettings:{displaySettings:i}}}){return e!==i},effect(t,{dispatch:e,getState:i}){E1(e,i)}})},lp=Q2({[ra.reducerPath]:T4,[Jo.reducerPath]:Jo.reducer,[Wo.reducerPath]:Wo.reducer,[zc.reducerPath]:zc.reducer}).withLazyLoadedSlices(),D4=lp.inject,z4=(t,e)=>e.type==="@@_RESET_FOR_TESTS"?lp(void 0,e):lp(t,e),Xc=y2({reducer:z4,middleware:t=>t({serializableCheck:{ignoredActions:[Ap,al,Tp,Ep,Mp,Cp,v4.type]}}).prepend(Cw.middleware).concat(Wo.middleware)});typeof window<"u"&&(window._e2e_store=Xc);R4();O4();pM(Xc);const U4="/editor/assets/sprites-DISRg-RN.png";var j4=`#version 300 es
precision highp float;in vec2 vTextureCoord;out vec4 finalColor;uniform sampler2D uTexture;uniform sampler2D uMask;void main(void){vec4 c=texture(uTexture,vTextureCoord);float maskVal=texture(uMask,vTextureCoord).r;vec4 shadowColor=vec4(0.0,0.0,0.0,c.a*(1.0-c.r));finalColor=mix(c,shadowColor,maskVal);}`;const P4=Gc.from({vertex:e3,fragment:j4,name:"preprocess-shadow-textures-filter"});class B4 extends Lk{#e;constructor(e){super({glProgram:P4,resources:{uMask:e.source}}),this.#e=e}destroy(e){const i=e===!0||typeof e=="object"&&e.destroyPrograms;(e===!0||typeof e=="object"&&e.destroyMask)&&this.#e?.destroy(!0),this.#e=null,super.destroy(i)}}const N4=t=>{const e=new DataView(t),i=[];i.push(t.slice(0,8));let s=8;for(;s<t.byteLength;){const h=e.getUint32(s),f=new TextDecoder().decode(new Uint8Array(t,s+4,4)),y=12+h;f!=="iCCP"&&i.push(t.slice(s,s+y)),s+=y}const a=i.reduce((h,f)=>h+f.byteLength,0),l=new Uint8Array(a);let c=0;for(const h of i)l.set(new Uint8Array(h),c),c+=h.byteLength;return l.buffer},qr=(t,e,i)=>{const s=({x:l,y:c,w:h,h:f,pivot:y})=>e==="x"?{...Do(i,{x:-l-h-1,y:c}),w:h,h:f,pivot:{x:h-y.x,y:y.y}}:{...Do(i,{x:l+2,y:c}),w:h,h:f,pivot:y};function*a(){yield[`door.frame.${t}.${e}.whole`,{frame:{...s({x:-41,y:0,w:40,h:64,pivot:{x:9,y:63}})}}],yield[`door.frame.${t}.${e}.far`,{frame:{...s({x:-18,y:0,w:17,h:57,pivot:{x:9,y:52}})}}],yield[`door.frame.${t}.${e}.near`,{frame:{...s({x:-41,y:6,w:20,h:58,pivot:{x:8,y:58}})}}],yield[`door.frame.${t}.${e}.top`,{frame:{...s({x:-57,y:-1,w:15,h:36,pivot:{x:0,y:37}})}}]}return zp(a())},L4={frames:{...qr("generic","y",{x:580,y:415}),...qr("generic","x",{x:582,y:415}),...qr("moonbase","y",{x:752,y:232}),...qr("moonbase","x",{x:915,y:232}),...qr("moonbase.dark","y",{x:752,y:306}),...qr("moonbase.dark","x",{x:915,y:306})}},Ms=(t,{x:e,y:i},s)=>{function*a(){yield[`${t}.left`,{frame:{x:e,y:i,...s}}],yield[`${t}.away`,{frame:{x:e+s.w+1,y:i,...s}}],yield[`${t}.towards`,{frame:{x:e,y:i+s.h+1,...s}}],yield[`${t}.right`,{frame:{x:e+s.w+1,y:i+s.h+1,...s}}]}return Object.fromEntries(a())},qe=(t,e,{x:i,y:s},a,l=e)=>{function*c(){for(let h=0;h<e;h++)yield[`${t}.${h+1}`,{frame:{x:i+h%l*(a.w+1),y:s+Math.floor(h/l)*(a.h+1),...a}}]}return Object.fromEntries(c())},Kx=(t,{x:e,y:i},s,a=t.length,l)=>{function*c(){for(let h=0;h<t.length;h++)yield[l?`${l}.${t[h]}`:t[h],{frame:{x:e+h%a*(s.w+1),y:i+Math.floor(h/a)*(s.h+1),...s}}]}return Object.fromEntries(c())},I4=(t,e,i,s)=>({...qe(`${t}.left`,e,i,s),...qe(`${t}.away`,e,Do(i,{x:(s.w+1)*e}),s),...qe(`${t}.towards`,e,Do(i,{y:s.h+1}),s),...qe(`${t}.right`,e,Do(i,{x:(s.w+1)*e,y:s.h+1}),s)}),Zi=(t,e)=>[...Dp(ZM(1,e+1)).map(i=>`${t}.${String(i)}`)],q4={frames:{...Kx(["share","save","open","pointer","eyedropper"],{x:640,y:10},{w:12,h:12},void 0,"editor.tool"),...Kx(["single","corridor","double","triple.line","triple.^","quad.square","quad.s","quad.31","quad.t","5.x"],{x:640,y:0},{w:9,h:9},void 0,"editor.addRoom")}},M1={" ":"space",",":"comma",";":"scolon",":":"colon",".":"dot","'":"sQuote","":"lQuote","":"rQuote","`":"backtick","<":"lt",">":"gt","?":"questMk","!":"exclMk","-":"hyph","/":"slash","\\":"bSlash"},Sn=t=>M1[t].toUpperCase(),G4=t=>M1[t]??t,up={w:32,h:16},zn={w:16,h:56},me={w:32,h:28},ie={w:24,h:24},cc={w:8,h:8},sP={h:10},ne=t=>({x:t.x*(ie.w+1)+1,y:t.y*(ie.h+1)+2}),xe=t=>({x:t.x*(me.w+1)+1,y:t.y*(me.h+1)+682}),H4="",$4="",F4="",V4="",Y4="",X4="",Q4=[{char:"a",width:8},{char:"b",width:8},{char:"c",width:7},{char:"d",width:8},{char:"e",width:8},{char:"f",width:6},{char:"g",width:8},{char:"h",width:8},{char:"i",width:4},{char:"j",width:5},{char:"k",width:8},{char:"l",width:5},{char:"m",width:9},{char:"n",width:8},{char:"o",width:8},{char:"p",width:8},{char:"q",width:8},{char:"r",width:5},{char:"s",width:6},{char:"t",width:6},{char:"u",width:8},{char:"v",width:8},{char:"w",width:9},{char:"x",width:8},{char:"y",width:8},{char:"z",width:6},{char:"?",width:6},{char:"!",width:4},{char:".",width:4},{char:",",width:4},{char:";",width:4},{char:":",width:3},{char:"/",width:7},{char:"\\",width:7},{char:"",width:4},{char:"",width:4},{char:"'",width:4},{char:"-",width:5}],K4=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","0","1","2","3","4","5","6","7","8","9","_","#","","","","",{char:"",width:16},{char:H4,width:16},{char:$4,width:16}],Z4=[" ",Sn("?"),Sn("!"),Sn("."),Sn(","),Sn(";"),Sn(":"),Sn("/"),Sn("\\"),Sn(""),Sn(""),Sn("'"),"`",Sn("-"),"+","%","","","","","","","","","(",")","[","]","<",">","","","","EnterFullscreen","ExitFullscreen","","*","@","",F4,V4,Y4,X4,"","","^","","","",""],my=(t,e,i=cc.h)=>{function*s(){let{x:a}=e;for(let l=0;l<t.length;l++){const c=t[l],h=typeof c=="string"?c:c.char,y=(typeof c=="string"?void 0:c.width)??cc.w;yield[`hud.char.${G4(h)}`,{frame:{x:a,y:e.y,...cc,w:y,h:i}}],a+=Math.max(y,cc.w)+1}}return zp(s())},W4={frames:{...my(Q4,{x:1,y:994},10),...my(K4,{x:1,y:1005}),...my(Z4,{x:1,y:1014})}},ge=(t,e)=>Object.assign([...t],{animationSpeed:e});let Re=0,we=0;const J4={...qe("dalek",2,ne({x:0,y:0}),ie),...qe("dalek.dark",2,ne({x:0,y:1}),ie),"shadowMask.dalek":{frame:{...ne({x:2,y:0}),...ie}},headlessBase:{frame:{...ne({x:7,y:0}),...ie}},...qe("headlessBase",4,ne({x:8,y:0}),ie),"headlessBase.all":{frame:{...ne({x:12,y:0}),...ie}},...I4("turtle",2,ne({x:0,y:3}),ie),"shadowMask.turtle.away":{frame:{...ne({x:4,y:3}),...ie}},"shadowMask.turtle.right":{frame:{...ne({x:4,y:4}),...ie}},...Ms("cyberman",ne({x:6,y:3}),ie),...Ms("skiHead.greenAndPink",ne({x:9,y:3}),{w:24,h:32}),...Ms("skiHead.starsAndStripes",ne({x:11,y:3}),{w:24,h:32}),"shadowMask.skiHead.away":{frame:{...ne({x:13,y:3}),...ie,h:32}},"shadowMask.skiHead.right":{frame:{...ne({x:14,y:3}),...ie,h:32}},...Ms("charles",ne({x:0,y:5}),ie),"shadowMask.charles.away":{frame:{...ne({x:2,y:5}),...ie}},"shadowMask.charles.right":{frame:{...ne({x:2,y:6}),...ie}},...Ms("monkey",ne({x:0,y:7}),ie),...Ms("computerBot",ne({x:3,y:7}),ie),...Ms("elephant",ne({x:6,y:7}),ie),...qe("helicopterBug",4,ne({x:9,y:7}),ie),"barrier.x.disappearing":{frame:{...ne({x:17,y:0}),...ie,pivot:{x:18,y:23}}},"barrier.y.disappearing":{frame:{...ne({x:18,y:0}),...ie,pivot:{x:6,y:23}}},"barrier.x":{frame:{...ne({x:19,y:0}),...ie,pivot:{x:18,y:23}}},"barrier.y":{frame:{...ne({x:20,y:0}),...ie,pivot:{x:6,y:23}}},"shadow.barrier.y":{frame:{...ne({x:21,y:0}),...ie,pivot:{x:6,y:22}}},"shadowMask.barrier.y":{frame:{...ne({x:22,y:0}),...ie,pivot:{x:6,y:22}}},"joystick.stick":{frame:{...ne({x:18,y:1}),...ie}},"joystick.ball":{frame:{...ne({x:19,y:1}),...ie}},"joystick.whole":{frame:{...ne({x:20,y:1}),...ie}},"shadowMask.joystick":{frame:{...ne({x:21,y:1}),...ie}},ball:{frame:{...ne({x:17,y:2}),...ie}},"shadowMask.ball":{frame:{...ne({x:18,y:2}),...ie}},"ball.uncolourised":{frame:{...ne({x:19,y:2}),...ie}},"spikyBall.1":{frame:{...ne({x:20,y:2}),...ie}},"spikyBall.2":{frame:{...ne({x:21,y:2}),...ie}},tower:{frame:{...ne({x:15,y:3}),...ie}},"shadowMask.tower":{frame:{...ne({x:16,y:3}),...ie}},sticks:{frame:{...ne({x:18,y:3}),...ie}},cube:{frame:{...ne({x:19,y:3}),...ie}},drum:{frame:{...ne({x:21,y:3}),...ie}},"shadowMask.drum":{frame:{...ne({x:22,y:3}),...ie}},puck:{frame:{...ne({x:15,y:4}),...ie}},"shadow.smallRound":{frame:{...ne({x:16,y:4}),...ie}},"shadowMask.smallRound":{frame:{...ne({x:17,y:4}),...ie}},"spring.compressed":{frame:{...ne({x:19,y:4}),...ie}},"spring.released":{frame:{...ne({x:20,y:4}),...ie}},"shadowMask.spring.compressed":{frame:{...ne({x:21,y:4}),...ie}},"shadowMask.spring.released":{frame:{...ne({x:22,y:4}),...ie}},...qe("fish",2,ne({x:16,y:6}),ie),doughnuts:{frame:{...ne({x:18,y:6}),...ie}},"shadowMask.doughnuts":{frame:{...ne({x:19,y:6}),...ie}},hooter:{frame:{...ne({x:21,y:6}),...ie}},bag:{frame:{...ne({x:22,y:6}),...ie}},whiteRabbit:{frame:{...ne({x:24,y:6}),...ie}},"shadowMask.whiteRabbit":{frame:{...ne({x:25,y:6}),...ie}},"crown.blacktooth":{frame:{...ne({x:Re=16,y:we=7}),...ie}},"crown.safari":{frame:{...ne({x:++Re,y:we}),...ie}},"crown.egyptus":{frame:{...ne({x:++Re,y:we}),...ie}},"crown.penitentiary":{frame:{...ne({x:++Re,y:we}),...ie}},"crown.bookworld":{frame:{...ne({x:++Re,y:we}),...ie}},"crown.uncolourised":{frame:{...ne({x:++Re,y:we}),...ie}},scroll:{frame:{...ne({x:Re=16,y:we=8}),...ie,pivot:{x:17,y:24}}},"shadow.scroll":{frame:{...ne({x:++Re,y:we}),...ie,pivot:{x:17,y:24}}},"shadowMask.scroll":{frame:{...ne({x:++Re,y:we}),...ie,pivot:{x:17,y:24}}},buttonInGame:{frame:{...ne({x:Re=16,y:we=9}),...ie}},"buttonInGame.pressed":{frame:{...ne({x:++Re,y:we}),...ie}},"shadowMask.buttonInGame":{frame:{...ne({x:++Re,y:we}),...ie}},"switch.left":{frame:{...ne({x:++Re,y:we}),...ie}},"switch.right":{frame:{...ne({x:++Re,y:we}),...ie}},"shadowMask.switch":{frame:{...ne({x:++Re,y:we}),...ie}},"lift.static":{frame:{...ne({x:16,y:we=10}),...ie}},...qe("lift",4,ne({x:17,y:we}),ie),"shadow.smallBlock":{frame:{...ne({x:21,y:we}),...ie}},"shadowMask.smallBlock":{frame:{...ne({x:22,y:we}),...ie}},"shadow.wallCorner":{frame:{...ne({x:21,y:we+1}),...ie}},...qe("shadow.lift",4,ne({x:17,y:11}),ie),...qe("bubbles.white",3,ne({x:Re=23,y:we=9}),ie),...qe("bubbles.taupe",3,ne({x:Re,y:++we}),ie),...qe("bubbles.jetpack",2,ne({x:Re,y:++we}),ie),...qe("bubbles.blueGreen",2,ne({x:Re,y:++we}),ie),...qe("bubbles.cold",2,ne({x:Re,y:++we}),ie),"block.organic":{frame:{...xe({x:0,y:0}),...me}},"block.organic.disappearing":{frame:{...xe({x:1,y:0}),...me}},"block.organic.dark":{frame:{...xe({x:2,y:0}),...me}},"block.organic.dark.disappearing":{frame:{...xe({x:3,y:0}),...me}},"shadowMask.organic":{frame:{...xe({x:4,y:0}),...me}},"block.artificial":{frame:{...xe({x:5,y:0}),...me}},"block.artificial.disappearing":{frame:{...xe({x:6,y:0}),...me}},"shadowMask.artificial":{frame:{...xe({x:7,y:0}),...me}},"book.x":{frame:{...xe({x:8,y:0}),...me}},"book.y":{frame:{...xe({x:9,y:0}),...me}},"shadowMask.book":{frame:{...xe({x:10,y:0}),...me}},"shadowMask.fullBlock":{frame:{...xe({x:10,y:0}),...me}},"shadow.fullBlock":{frame:{...xe({x:11,y:0}),...me}},spikes:{frame:{...xe({x:12,y:0}),...me}},"shadowMask.spikes":{frame:{...xe({x:13,y:0}),...me}},stepStool:{frame:{...xe({x:Re=0,y:we=1}),...me}},"shadowMask.stepStool":{frame:{...xe({x:++Re,y:we}),...me}},"volcano.1":{frame:{...xe({x:++Re,y:we}),...me}},"volcano.2":{frame:{...xe({x:++Re,y:we}),...me}},"shadowMask.volcano":{frame:{...xe({x:++Re,y:we}),...me}},hushPuppy:{frame:{...xe({x:++Re,y:we}),...me}},"shadowMask.hushPuppy":{frame:{...xe({x:++Re,y:we}),...me}},"toaster.on":{frame:{...xe({x:++Re,y:we}),...me}},"toaster.off":{frame:{...xe({x:++Re,y:we}),...me}},"toaster.off.1":{frame:{...xe({x:Re,y:we}),...me}},"toaster.off.2":{frame:{...xe({x:++Re,y:we}),...me}},"shadowMask.toaster":{frame:{...xe({x:++Re,y:we}),...me}},sandwich:{frame:{...xe({x:++Re,y:we}),...me}},"shadowMask.sandwich":{frame:{...xe({x:++Re,y:we}),...me}},...qe("conveyor.x",7,xe({x:0,y:2}),me),"shadowMask.conveyor":{frame:{...xe({x:7,y:2}),...me}},button:{frame:{...xe({x:9,y:2}),...me}},"button.pressed":{frame:{...xe({x:10,y:2}),...me}},"button.surfaceMask":{frame:{...xe({x:11,y:2}),...me}},...qe("conveyor.y",7,xe({x:0,y:3}),me),teleporter:{frame:{...xe({x:7,y:3}),...me}},...qe("teleporter.flashing",2,xe({x:8,y:3}),me),"shadowMask.teleporter":{frame:{...xe({x:10,y:3}),...me}},"shadowMask.teleporter.flashing":{frame:{...xe({x:11,y:3}),...me}},...qe("particle.head",4,{x:100,y:798},{w:9,h:11}),...qe("particle.heels",4,{x:100,y:856},{w:9,h:11})},C1={frames:J4,animations:{"teleporter.flashing":ge(["teleporter.flashing.1","teleporter.flashing.2"],.5),fish:ge(["fish.1","fish.2"],.25),lift:ge(["lift.1","lift.2","lift.3","lift.4"],.5),"shadow.lift":ge(["shadow.lift.1","shadow.lift.2","shadow.lift.3","shadow.lift.4"],.5),dalek:ge(["dalek.1","dalek.2"],.5),"dalek.dark":ge(["dalek.dark.1","dalek.dark.2"],.5),"turtle.left":ge(["turtle.left.1","turtle.left.2"],.25),"turtle.away":ge(["turtle.away.1","turtle.away.2"],.25),"turtle.towards":ge(["turtle.towards.1","turtle.towards.2"],.25),"turtle.right":ge(["turtle.right.1","turtle.right.2"],.25),helicopterBug:ge(["helicopterBug.1","helicopterBug.2","helicopterBug.3","helicopterBug.4"],.5),"bubbles.cold":ge(["bubbles.cold.1","bubbles.cold.2"],.25),"bubbles.blueGreen":ge(["bubbles.blueGreen.1","bubbles.blueGreen.2"],.25),"bubbles.white":ge(["bubbles.white.1","bubbles.white.2","bubbles.white.3"],.5),"bubbles.bounce.white":ge(["bubbles.white.1","bubbles.white.2","bubbles.white.3","bubbles.white.2"],.5),"bubbles.doughnut":ge(["bubbles.taupe.1","bubbles.taupe.2"],.5),"bubbles.jetpack":ge(["bubbles.jetpack.1","bubbles.jetpack.2"],.25),"conveyor.x":ge(Zi("conveyor.x",7),.5),"conveyor.y":ge(Zi("conveyor.y",7),.5),volcano:ge(Zi("volcano",2),3/16),"toaster.off":ge(Zi("toaster.off",2),3/16),"spring.bounce":ge(["spring.released","spring.compressed","spring.released","spring.compressed","spring.released"],.5),"shadowMask.spring.bounce":ge(["shadowMask.spring.released","shadowMask.spring.compressed","shadowMask.spring.released","shadowMask.spring.compressed","shadowMask.spring.released"],.5),"headlessBase.scan":ge(["headlessBase.4","headlessBase","headlessBase.3","headlessBase","headlessBase.2","headlessBase","headlessBase.1","headlessBase","headlessBase","headlessBase","headlessBase","headlessBase","headlessBase.all","headlessBase","headlessBase","headlessBase","headlessBase"],.25),"headlessBase.flash":ge(["headlessBase.all","headlessBase"],.5),switch:ge(["switch.left","switch.right"],.02),"particle.head.fade":ge(Zi("particle.head",4),.5),"particle.heels.fade":ge(Zi("particle.heels",4),.5)}},eU=.5,k1=5e3,tU=k1*2,bo=(t,e)=>{const i=Math.round(k1/($p*4)),s=`head.walking.${t}.${e}`,a=`head.blinking.${t}`,l=[...new Array(i-3).fill(s),a,s,a];return ge(l,.5)},vo=(t,e=2)=>{const i=Math.round(tU/($p*4)),s=t==="towards"||t==="right"?`heels.standing.${t}`:`heels.walking.${t}.${e}`,a=`heels.blinking.${t}`,l=[...new Array(Math.floor(i*.8)).fill(s),...new Array(Math.ceil(i*.2)).fill(a)];return ge(l,.5)},Zx=(t,e,i)=>{const s=["awayLeft","away","awayRight","right","towardsRight","towards","towardsLeft","left"];function*a(){for(let l=0;l<Rw.length;l++){const c=s[l];i[c]?.noShadowMaskFalling||(yield[`shadowMask.${t}.falling.${c}`,{frame:{...ne({x:e.x,y:e.y+l}),...ie}}]),i[c]?.noShadowMask||(yield[`shadowMask.${t}.${c}`,{frame:{...ne({x:e.x+1,y:e.y+l}),...ie}}]);for(let h=1;h<=3;h++)yield[`${t}.walking.${c}.${h}`,{frame:{...ne({x:e.x+h+1,y:e.y+l}),...ie}}];yield[`${t}.falling.${c}`,{frame:{...ne({x:e.x+5,y:e.y+l}),...ie}}],i[c]?.noBlinking||(yield[`${t}.blinking.${c}`,{frame:{...ne({x:e.x+6,y:e.y+l}),...ie}}]),i[c]?.noStanding||(yield[`${t}.standing.${c}`,{frame:{...ne({x:e.x+7,y:e.y+l}),...ie}}])}}return Object.fromEntries(a())};function Wx(t){function*e(i,s){yield`${i}.walking.${s}.1`,yield`${i}.walking.${s}.2`,yield`${i}.walking.${s}.3`,yield`${i}.walking.${s}.2`}return Rw.reduce((i,s)=>({...i,[`${t}.walking.${s}`]:ge([...e(t,s)],eU)}),{})}const nU={...qe("bubbles.head",6,ne({x:1,y:10}),ie),...Zx("head",{x:0,y:11},{awayLeft:{noBlinking:!0,noStanding:!0,noShadowMaskFalling:!0},away:{noBlinking:!0,noStanding:!0},awayRight:{noStanding:!0,noShadowMaskFalling:!0},right:{noStanding:!0},towardsRight:{noStanding:!0},towards:{noShadowMask:!0,noStanding:!0,noShadowMaskFalling:!0},towardsLeft:{noShadowMask:!0,noStanding:!0,noShadowMaskFalling:!0},left:{noBlinking:!0,noShadowMask:!0,noStanding:!0,noShadowMaskFalling:!0}}),...qe("bubbles.heels",6,ne({x:9,y:10}),ie),...Zx("heels",{x:8,y:11},{awayLeft:{noBlinking:!0,noStanding:!0,noShadowMaskFalling:!0},away:{noBlinking:!0,noStanding:!0,noShadowMaskFalling:!0},awayRight:{noStanding:!0,noShadowMaskFalling:!0},right:{noShadowMaskFalling:!0},towardsRight:{noStanding:!0,noShadowMaskFalling:!0},towards:{noShadowMask:!0,noShadowMaskFalling:!0},towardsLeft:{noShadowMask:!0,noStanding:!0,noShadowMaskFalling:!0},left:{noBlinking:!0,noShadowMask:!0,noStanding:!0,noShadowMaskFalling:!0}}),...qe("shine.head",6,xe({x:0,y:4}),me,3),...qe("shine.heels",6,xe({x:0,y:6}),me,3),blank:{frame:{...ne({x:0,y:2}),...ie}},"shadow.playable":{frame:{...ne({x:7,y:10}),...ie}}},R1={frames:nU,animations:{...Wx("head"),...Wx("heels"),"heels.screenDirections":ge(["heels.walking.towardsRight.2","heels.walking.towardsLeft.2","heels.walking.awayLeft.2","heels.walking.awayRight.2"],1/16),"heels.worldDirections":ge(["heels.standing.towards","heels.walking.left.2","heels.walking.away.2","heels.standing.right"],1/16),"heels.mixedDirections":ge(["heels.walking.towardsRight.2","heels.standing.towards","heels.walking.towardsLeft.2","heels.walking.left.2","heels.walking.awayLeft.2","heels.walking.away.2","heels.walking.awayRight.2","heels.standing.right"],1/8),"head.idle.right":bo("right",3),"head.idle.towards":bo("towards",3),"head.idle.towardsRight":bo("towardsRight",2),"head.idle.towardsLeft":bo("towardsLeft",2),"head.idle.awayRight":bo("awayRight",2),"heels.idle.right":vo("right"),"heels.idle.towards":vo("towards"),"heels.idle.towardsRight":vo("towardsRight",2),"heels.idle.towardsLeft":vo("towardsLeft",2),"heels.idle.awayRight":vo("awayRight",2),"head.fadeOut":ge(["bubbles.head.1","bubbles.head.2","bubbles.head.4","bubbles.head.3","bubbles.head.4","bubbles.head.6","bubbles.head.5","bubbles.head.6","bubbles.head.5"],.5),"heels.fadeOut":ge(["bubbles.heels.1","bubbles.heels.2","bubbles.heels.4","bubbles.heels.3","bubbles.heels.4","bubbles.heels.6","bubbles.heels.5","bubbles.heels.6","bubbles.heels.5"],.5),"shine.head":ge(Zi("shine.head",6),.5),"shine.heels":ge(Zi("shine.heels",6),.5),"shine.headInSymbio":ge(["shine.head.1","shine.head.2","shine.head.3","blank","blank","blank","blank","blank","blank","shine.head.4","shine.head.5","shine.head.6"],.5),"shine.heelsInSymbio":ge(["blank","blank","blank","shine.heels.1","shine.heels.2","shine.heels.3","shine.heels.4","shine.heels.5","shine.heels.6","blank","blank","blank"],.5)}},O1={jail:["bars"],blacktooth:["plain","shield","armour"],bookworld:["book","cowboy"],egyptus:["hieroglyphics","sarcophagus"],market:["more-fruits","fruits","passage"],moonbase:["coil","window3","window2","window1","window-clear"],penitentiary:["skeleton","loop"],safari:["wall","shield","window"]},rP=Object.keys(O1),aP=["blacktooth","penitentiary","bookworld","egyptus","safari"],Mt=(t,e,i,s)=>{function*a(l,c,h){const f=O1[l],{w:y,h:m}=zn,g=y>>1;for(let v=0;v<f.length;v++)yield[`${l}${s}.wall.${f[v]}.left`,{frame:{x:c-y*(v+1),y:h+g*v,...zn}}],yield[`${l}${s}.wall.${f[v]}.away`,{frame:{x:c+y*v,y:h+g*v,...zn}}];yield[`${l}${s}.floor`,{frame:{x:c-y,y:h+m,...up}}]}return Object.fromEntries(a(t,e,i))},Jx={w:16,h:13},ew={w:8,h:9},qn=74;let Ct=53;const iU={...Mt("egyptus",834,Ct,""),...Mt("egyptus",834,Ct+=qn,".dark"),...Mt("moonbase",834,Ct+=qn,""),...Mt("moonbase",834,Ct+=qn,".dark"),...Mt("bookworld",834,Ct+=qn,""),...Mt("bookworld",834,Ct,".dark"),...Mt("jail",834,Ct+=qn,""),...Mt("jail",834,Ct,".dark"),...Mt("blacktooth",834,Ct+=qn,""),...Mt("blacktooth",834,Ct+=qn,".dark"),...Mt("penitentiary",834,Ct+=qn,""),...Mt("penitentiary",834,Ct,".dark"),...Mt("market",834,Ct+=qn,""),...Mt("market",834,Ct,".dark"),...Mt("safari",834,Ct+=qn,""),...Mt("safari",834,Ct,".dark"),"floorEdge.right":{frame:{x:418,y:466,...Jx,pivot:{x:0,y:4}}},"floorEdge.towards":{frame:{x:401,y:466,...Jx,pivot:{x:15,y:4}}},"floorEdge.half.right":{frame:{x:418,y:470,...ew,pivot:{x:0,y:0}}},"floorEdge.half.towards":{frame:{x:401,y:466,...ew,pivot:{x:7,y:0}}},"floorOverdraw.cornerNearWall":{frame:{x:623,y:452,w:zn.w,h:8}},"shadow.wall.y":{frame:{x:432,y:435,w:36,h:16}},"shadow.doorFrame.top.y":{frame:{x:432,y:402,w:36,h:32,pivot:{x:18,y:31.5}}},"generic.floor.deadly":{frame:{x:785,y:462,...up}},"generic.dark.floor.deadly":{frame:{x:785,y:479,...up}},"generic.door.legs.pillar.y":{frame:{x:508,y:476,w:zn.w,h:12}},"generic.door.legs.base.y":{frame:{x:508,y:488,w:zn.w,h:9}},"generic.door.legs.pillar.x":{frame:{x:524,y:476,w:zn.w,h:12}},"generic.door.legs.base.x":{frame:{x:524,y:488,w:zn.w,h:9}},"generic.door.legs.threshold.double.x":{frame:{x:508,y:452,w:zn.w*2,h:24}},"generic.door.legs.threshold.double.y":{frame:{x:469,y:452,w:zn.w*2,h:24}},"shadowMask.door.legs.threshold.double.y":{frame:{x:469,y:430,w:zn.w*2,h:21,pivot:{x:0,y:21}}},"generic.door.floatingThreshold.x":{frame:{x:457,y:492,w:26,h:19,pivot:{x:18,y:12}}},"generic.door.floatingThreshold.y":{frame:{x:430,y:492,w:26,h:19,pivot:{x:8,y:12}}},"shadowMask.door.floatingThreshold.double.y":{frame:{x:541,y:480,w:42,h:21,pivot:{x:8,y:20}}},"shadow.door.floatingThreshold.double.y":{frame:{x:584,y:480,w:42,h:21,pivot:{x:8,y:20}}},...qe("moonbase.wall.screen.window1.away",3,{x:883,y:217},{w:10,h:7}),...qe("moonbase.wall.screen.window2.away",2,{x:867,y:209},{w:10,h:7}),...qe("moonbase.wall.screen.window3.away",4,{x:851,y:201},{w:10,h:7})},D1={frames:iU,animations:{"moonbase.wall.screen.window1.away":ge(["moonbase.wall.screen.window1.away.1","moonbase.wall.screen.window1.away.2","moonbase.wall.screen.window1.away.3"],1/16),"moonbase.wall.screen.window2.away":ge(["moonbase.wall.screen.window2.away.1","moonbase.wall.screen.window2.away.1","moonbase.wall.screen.window2.away.2"],1/16),"moonbase.wall.screen.window3.away":ge(["moonbase.wall.screen.window3.away.1","moonbase.wall.screen.window3.away.2","moonbase.wall.screen.window3.away.3","moonbase.wall.screen.window3.away.4","moonbase.wall.screen.window3.away.4"],1/16)}},sU={...C1.frames,...R1.frames,...D1.frames,...W4.frames,...L4.frames,...q4.frames},rm={frames:sU,animations:{...R1.animations,...C1.animations,...D1.animations},meta:{scale:1}},rU=Object.keys(rm.frames),hc={w:1024,h:1024},aU=new $e(0),oU=new $e(16777215),lU=t=>typeof t=="function"?Dp(rU).filter(t):t,uU=(t,{rects:e,placeholderColoursMasks:i,clearColour:s})=>{const a=new Mc,l=new ia({children:[a]});if(s!==void 0&&a.rect(0,0,hc.w,hc.h).fill(s),e!==void 0){const{textureIds:h,color:f}=e,y=lU(h);for(const m of y){const{frame:{x:g,y:v,w:b,h:w}}=rm.frames[m];a.rect(g,v,b,w).fill(f)}}if(i!==void 0&&i.textureIds.length>0){const{textureIds:h,filter:f,originalSpritesheet:y}=i;for(const m of h){const g=new Is({texture:y.textures[m],x:y.data.frames[m].frame.x,y:y.data.frames[m].frame.y,filters:f});l.addChild(g)}}const c=Fc.create({width:hc.w,height:hc.h});return t.render({container:l,target:c}),c};let el,es;const cU=async()=>{if(el!==void 0)return el;try{const e=await(await fetch(U4)).arrayBuffer(),i=N4(e),s=new Blob([i],{type:"image/png"}),a=await createImageBitmap(s);es=je.from(a)}catch{console.warn("did not load textures - hopefully we are running under node"),es=je.EMPTY}},oP=t=>{if(es===void 0)throw new Error("cannot init original spritesheet before texture load");const e=uU(t,{rects:{textureIds:c=>c.startsWith("shadow."),color:oU},clearColour:aU}),i=new B4(e),s=new Is(es);s.filters=i;const a=Fc.create({width:es.width,height:es.height});t.render({container:s,target:a});const l=new Py(a,rm);l.parseSync(),l.textureSource.scaleMode="nearest",el=l,s.destroy(),e.destroy(!0)},lP=()=>{if(el===void 0)throw new Error(`spritesheet not loaded - only call this from inside code 
      (like in a render loop) that is protected and only executed once 
      loading has happened`);return el},uP=()=>{if(es===void 0)throw new Error(`spritesheet not loaded - only call this from inside code 
      (like in a render loop) that is protected and only executed once 
      loading has happened`);return es},hU=t=>({children:i})=>{const[s,a]=ue.useState(!1);return ue.useEffect(()=>{t().then(()=>{a(!0)})}),s?i:null},fU=hU(cU),dU=t1(async()=>{const[t,e]=await Promise.all([Fn(()=>import("./LevelEditor-BZ7Unhah.js").then(i=>i.L),__vite__mapDeps([6,7,5])),Fn(()=>import("./levelEditorSlice-D4H0WZb1.js").then(i=>i.b3),__vite__mapDeps([7,5]))]);return D4(e.levelEditorSlice),Xc.dispatch(e.injected()),t}),yU=ue.lazy(dU),pU=()=>Co.jsx(fU,{children:Co.jsx(yU,{})});dE.createRoot(document.getElementById("root")).render(Co.jsx(ue.StrictMode,{children:Co.jsx(kE,{store:Xc,children:Co.jsx(pU,{})})}));export{Pn as $,Mn as A,Vt as B,$e as C,ol as D,is as E,ul as F,ho as G,_S as H,HR as I,FR as J,QR as K,WR as L,Oe as M,Hc as N,Ny as O,Dt as P,Lk as Q,mt as R,Nk as S,je as T,Uy as U,EC as V,ll as W,Gc as X,tO as Y,En as Z,Fw as _,ox as a,RU as a$,Ww as a0,__ as a1,Is as a2,kk as a3,w_ as a4,Id as a5,S_ as a6,ak as a7,Lw as a8,sk as a9,r3 as aA,_U as aB,TM as aC,AM as aD,dj as aE,Xc as aF,fj as aG,CM as aH,il as aI,VU as aJ,bp as aK,NU as aL,LU as aM,BU as aN,qU as aO,IU as aP,wM as aQ,tj as aR,aP as aS,ZM as aT,KU as aU,XM as aV,jU as aW,UU as aX,vU as aY,zU as aZ,XE as a_,Xw as aa,Fc as ab,TR as ac,bR as ad,$R as ae,VR as af,ZR as ag,JR as ah,eO as ai,Vp as aj,eC as ak,$p as al,zn as am,XU as an,Ac as ao,xU as ap,CU as aq,PU as ar,dc as as,kM as at,OU as au,DU as av,AU as aw,EU as ax,An as ay,wU as az,sR as b,Fp as b$,pi as b0,rw as b1,Fn as b2,e3 as b3,Rt as b4,Jw as b5,Hr as b6,ij as b7,ue as b8,E1 as b9,oU as bA,aU as bB,ZU as bC,$U as bD,pj as bE,Do as bF,tP as bG,cc as bH,G4 as bI,n3 as bJ,Mc as bK,eU as bL,ie as bM,f4 as bN,u4 as bO,v4 as bP,yj as bQ,oP as bR,NM as bS,LM as bT,Rp as bU,cE as bV,gU as bW,nP as bX,cj as bY,Jj as bZ,vi as b_,eP as ba,$S as bb,HU as bc,MU as bd,TU as be,bU as bf,Co as bg,nj as bh,ej as bi,GU as bj,t3 as bk,kw as bl,FU as bm,Dc as bn,d4 as bo,rm as bp,Cc as bq,kU as br,SU as bs,JU as bt,rU as bu,WM as bv,uP as bw,Py as bx,uU as by,lP as bz,jp as c,mU as c0,EM as c1,zp as c2,sP as c3,t1 as c4,Uc as c5,mj as c6,Fj as c7,hj as c8,im as c9,$4 as ca,H4 as cb,iD as cc,rP as cd,Wo as ce,Zj as cf,WU as cg,uj as ch,aE as ci,YU as cj,Tc as ck,PS as cl,N_ as cm,P_ as cn,MC as co,LS as cp,Xe as d,Yu as e,qC as f,xi as g,Ke as h,Dp as i,wi as j,ia as k,fR as l,nO as m,o_ as n,FM as o,B_ as p,pR as q,Op as r,Yo as s,To as t,lt as u,Ot as v,ln as w,pc as x,Bp as y,aS as z};
