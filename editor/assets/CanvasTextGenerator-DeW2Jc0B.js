import{D as E,E as st,u as nt,G as B,t as H,a as V,C as L,F as A,b as N,d as j,v as Y,w as Z,n as I,c as at,T as ot,M as K,R as O}from"./index-B6K_Irl4.js";class lt{constructor(t=0,e=0,i=!1){this.first=null,this.items=Object.create(null),this.last=null,this.max=t,this.resetTtl=i,this.size=0,this.ttl=e}clear(){return this.first=null,this.items=Object.create(null),this.last=null,this.size=0,this}delete(t){if(this.has(t)){const e=this.items[t];delete this.items[t],this.size--,e.prev!==null&&(e.prev.next=e.next),e.next!==null&&(e.next.prev=e.prev),this.first===e&&(this.first=e.next),this.last===e&&(this.last=e.prev)}return this}entries(t=this.keys()){return t.map(e=>[e,this.get(e)])}evict(t=!1){if(t||this.size>0){const e=this.first;delete this.items[e.key],--this.size===0?(this.first=null,this.last=null):(this.first=e.next,this.first.prev=null)}return this}expiresAt(t){let e;return this.has(t)&&(e=this.items[t].expiry),e}get(t){const e=this.items[t];if(e!==void 0){if(this.ttl>0&&e.expiry<=Date.now()){this.delete(t);return}return this.moveToEnd(e),e.value}}has(t){return t in this.items}moveToEnd(t){this.last!==t&&(t.prev!==null&&(t.prev.next=t.next),t.next!==null&&(t.next.prev=t.prev),this.first===t&&(this.first=t.next),t.prev=this.last,t.next=null,this.last!==null&&(this.last.next=t),this.last=t,this.first===null&&(this.first=t))}keys(){const t=[];let e=this.first;for(;e!==null;)t.push(e.key),e=e.next;return t}setWithEvicted(t,e,i=this.resetTtl){let r=null;if(this.has(t))this.set(t,e,!0,i);else{this.max>0&&this.size===this.max&&(r={...this.first},this.evict(!0));let s=this.items[t]={expiry:this.ttl>0?Date.now()+this.ttl:this.ttl,key:t,prev:this.last,next:null,value:e};++this.size===1?this.first=s:this.last.next=s,this.last=s}return r}set(t,e,i=!1,r=this.resetTtl){let s=this.items[t];return i||s!==void 0?(s.value=e,i===!1&&r&&(s.expiry=this.ttl>0?Date.now()+this.ttl:this.ttl),this.moveToEnd(s)):(this.max>0&&this.size===this.max&&this.evict(!0),s=this.items[t]={expiry:this.ttl>0?Date.now()+this.ttl:this.ttl,key:t,prev:this.last,next:null,value:e},++this.size===1?this.first=s:this.last.next=s,this.last=s),this}values(t=this.keys()){return t.map(e=>this.get(e))}}function ht(l=1e3,t=0,e=!1){if(isNaN(l)||l<0)throw new TypeError("Invalid max value");if(isNaN(t)||t<0)throw new TypeError("Invalid ttl value");if(typeof e!="boolean")throw new TypeError("Invalid resetTtl value");return new lt(l,t,e)}const ct=["serif","sans-serif","monospace","cursive","fantasy","system-ui"];function tt(l){const t=typeof l.fontSize=="number"?`${l.fontSize}px`:l.fontSize;let e=l.fontFamily;Array.isArray(l.fontFamily)||(e=l.fontFamily.split(","));for(let i=e.length-1;i>=0;i--){let r=e[i].trim();!/([\"\'])[^\'\"]+\1/.test(r)&&!ct.includes(r)&&(r=`"${r}"`),e[i]=r}return`${l.fontStyle} ${l.fontVariant} ${l.fontWeight} ${t} ${e.join(",")}`}const R={willReadFrequently:!0},C=class a{static get experimentalLetterSpacingSupported(){let t=a._experimentalLetterSpacingSupported;if(t===void 0){const e=E.get().getCanvasRenderingContext2D().prototype;t=a._experimentalLetterSpacingSupported="letterSpacing"in e||"textLetterSpacing"in e}return t}constructor(t,e,i,r,s,o,n,d,h){this.text=t,this.style=e,this.width=i,this.height=r,this.lines=s,this.lineWidths=o,this.lineHeight=n,this.maxLineWidth=d,this.fontProperties=h}static measureText(t=" ",e,i=a._canvas,r=e.wordWrap){const s=`${t}-${e.styleKey}-wordWrap-${r}`;if(a._measurementCache.has(s))return a._measurementCache.get(s);const o=tt(e),n=a.measureFont(o);n.fontSize===0&&(n.fontSize=e.fontSize,n.ascent=e.fontSize);const d=a.__context;d.font=o;const c=(r?a._wordWrap(t,e,i):t).split(/(?:\r\n|\r|\n)/),f=new Array(c.length);let u=0;for(let T=0;T<c.length;T++){const x=a._measureText(c[T],e.letterSpacing,d);f[T]=x,u=Math.max(u,x)}const g=e._stroke?.width||0;let S=u+g;e.dropShadow&&(S+=e.dropShadow.distance);const m=e.lineHeight||n.fontSize;let _=Math.max(m,n.fontSize+g)+(c.length-1)*(m+e.leading);e.dropShadow&&(_+=e.dropShadow.distance);const p=new a(t,e,S,_,c,f,m+e.leading,u,n);return a._measurementCache.set(s,p),p}static _measureText(t,e,i){let r=!1;a.experimentalLetterSpacingSupported&&(a.experimentalLetterSpacing?(i.letterSpacing=`${e}px`,i.textLetterSpacing=`${e}px`,r=!0):(i.letterSpacing="0px",i.textLetterSpacing="0px"));const s=i.measureText(t);let o=s.width;const n=-s.actualBoundingBoxLeft;let h=s.actualBoundingBoxRight-n;if(o>0)if(r)o-=e,h-=e;else{const c=(a.graphemeSegmenter(t).length-1)*e;o+=c,h+=c}return Math.max(o,h)}static _wordWrap(t,e,i=a._canvas){const r=i.getContext("2d",R);let s=0,o="",n="";const d=Object.create(null),{letterSpacing:h,whiteSpace:c}=e,f=a._collapseSpaces(c),u=a._collapseNewlines(c);let g=!f;const S=e.wordWrapWidth+h,m=a._tokenize(t);for(let _=0;_<m.length;_++){let p=m[_];if(a._isNewline(p)){if(!u){n+=a._addLine(o),g=!f,o="",s=0;continue}p=" "}if(f){const x=a.isBreakingSpace(p),k=a.isBreakingSpace(o[o.length-1]);if(x&&k)continue}const T=a._getFromCache(p,h,d,r);if(T>S)if(o!==""&&(n+=a._addLine(o),o="",s=0),a.canBreakWords(p,e.breakWords)){const x=a.wordWrapSplit(p);for(let k=0;k<x.length;k++){let v=x[k],M=v,y=1;for(;x[k+y];){const w=x[k+y];if(!a.canBreakChars(M,w,p,k,e.breakWords))v+=w;else break;M=w,y++}k+=y-1;const P=a._getFromCache(v,h,d,r);P+s>S&&(n+=a._addLine(o),g=!1,o="",s=0),o+=v,s+=P}}else{o.length>0&&(n+=a._addLine(o),o="",s=0);const x=_===m.length-1;n+=a._addLine(p,!x),g=!1,o="",s=0}else T+s>S&&(g=!1,n+=a._addLine(o),o="",s=0),(o.length>0||!a.isBreakingSpace(p)||g)&&(o+=p,s+=T)}return n+=a._addLine(o,!1),n}static _addLine(t,e=!0){return t=a._trimRight(t),t=e?`${t}
`:t,t}static _getFromCache(t,e,i,r){let s=i[t];return typeof s!="number"&&(s=a._measureText(t,e,r)+e,i[t]=s),s}static _collapseSpaces(t){return t==="normal"||t==="pre-line"}static _collapseNewlines(t){return t==="normal"}static _trimRight(t){if(typeof t!="string")return"";for(let e=t.length-1;e>=0;e--){const i=t[e];if(!a.isBreakingSpace(i))break;t=t.slice(0,-1)}return t}static _isNewline(t){return typeof t!="string"?!1:a._newlines.includes(t.charCodeAt(0))}static isBreakingSpace(t,e){return typeof t!="string"?!1:a._breakingSpaces.includes(t.charCodeAt(0))}static _tokenize(t){const e=[];let i="";if(typeof t!="string")return e;for(let r=0;r<t.length;r++){const s=t[r],o=t[r+1];if(a.isBreakingSpace(s,o)||a._isNewline(s)){i!==""&&(e.push(i),i=""),s==="\r"&&o===`
`?(e.push(`\r
`),r++):e.push(s);continue}i+=s}return i!==""&&e.push(i),e}static canBreakWords(t,e){return e}static canBreakChars(t,e,i,r,s){return!0}static wordWrapSplit(t){return a.graphemeSegmenter(t)}static measureFont(t){if(a._fonts[t])return a._fonts[t];const e=a._context;e.font=t;const i=e.measureText(a.METRICS_STRING+a.BASELINE_SYMBOL),r={ascent:i.actualBoundingBoxAscent,descent:i.actualBoundingBoxDescent,fontSize:i.actualBoundingBoxAscent+i.actualBoundingBoxDescent};return a._fonts[t]=r,r}static clearMetrics(t=""){t?delete a._fonts[t]:a._fonts={}}static get _canvas(){if(!a.__canvas){let t;try{const e=new OffscreenCanvas(0,0);if(e.getContext("2d",R)?.measureText)return a.__canvas=e,e;t=E.get().createCanvas()}catch{t=E.get().createCanvas()}t.width=t.height=10,a.__canvas=t}return a.__canvas}static get _context(){return a.__context||(a.__context=a._canvas.getContext("2d",R)),a.__context}};C.METRICS_STRING="|ÉqÅ";C.BASELINE_SYMBOL="M";C.BASELINE_MULTIPLIER=1.4;C.HEIGHT_MULTIPLIER=2;C.graphemeSegmenter=(()=>{if(typeof Intl?.Segmenter=="function"){const l=new Intl.Segmenter;return t=>{const e=l.segment(t),i=[];let r=0;for(const s of e)i[r++]=s.segment;return i}}return l=>[...l]})();C.experimentalLetterSpacing=!1;C._fonts={};C._newlines=[10,13];C._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];C._measurementCache=ht(1e3);let z=C;const G=class F extends st{constructor(t={}){super(),this.uid=nt("textStyle"),this._tick=0,dt(t);const e={...F.defaultTextStyle,...t};for(const i in e){const r=i;this[r]=e[i]}this.update(),this._tick=0}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.update())}get breakWords(){return this._breakWords}set breakWords(t){this._breakWords!==t&&(this._breakWords=t,this.update())}get dropShadow(){return this._dropShadow}set dropShadow(t){this._dropShadow!==t&&(t!==null&&typeof t=="object"?this._dropShadow=this._createProxy({...F.defaultDropShadow,...t}):this._dropShadow=t?this._createProxy({...F.defaultDropShadow}):null,this.update())}get fontFamily(){return this._fontFamily}set fontFamily(t){this._fontFamily!==t&&(this._fontFamily=t,this.update())}get fontSize(){return this._fontSize}set fontSize(t){this._fontSize!==t&&(typeof t=="string"?this._fontSize=parseInt(t,10):this._fontSize=t,this.update())}get fontStyle(){return this._fontStyle}set fontStyle(t){this._fontStyle!==t&&(this._fontStyle=t.toLowerCase(),this.update())}get fontVariant(){return this._fontVariant}set fontVariant(t){this._fontVariant!==t&&(this._fontVariant=t,this.update())}get fontWeight(){return this._fontWeight}set fontWeight(t){this._fontWeight!==t&&(this._fontWeight=t,this.update())}get leading(){return this._leading}set leading(t){this._leading!==t&&(this._leading=t,this.update())}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.update())}get lineHeight(){return this._lineHeight}set lineHeight(t){this._lineHeight!==t&&(this._lineHeight=t,this.update())}get padding(){return this._padding}set padding(t){this._padding!==t&&(this._padding=t,this.update())}get filters(){return this._filters}set filters(t){this._filters!==t&&(this._filters=Object.freeze(t),this.update())}get trim(){return this._trim}set trim(t){this._trim!==t&&(this._trim=t,this.update())}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline!==t&&(this._textBaseline=t,this.update())}get whiteSpace(){return this._whiteSpace}set whiteSpace(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.update())}get wordWrap(){return this._wordWrap}set wordWrap(t){this._wordWrap!==t&&(this._wordWrap=t,this.update())}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.update())}get fill(){return this._originalFill}set fill(t){t!==this._originalFill&&(this._originalFill=t,this._isFillStyle(t)&&(this._originalFill=this._createProxy({...B.defaultFillStyle,...t},()=>{this._fill=H({...this._originalFill},B.defaultFillStyle)})),this._fill=H(t===0?"black":t,B.defaultFillStyle),this.update())}get stroke(){return this._originalStroke}set stroke(t){t!==this._originalStroke&&(this._originalStroke=t,this._isFillStyle(t)&&(this._originalStroke=this._createProxy({...B.defaultStrokeStyle,...t},()=>{this._stroke=V({...this._originalStroke},B.defaultStrokeStyle)})),this._stroke=V(t,B.defaultStrokeStyle),this.update())}update(){this._tick++,this.emit("update",this)}reset(){const t=F.defaultTextStyle;for(const e in t)this[e]=t[e]}get styleKey(){return`${this.uid}-${this._tick}`}clone(){return new F({align:this.align,breakWords:this.breakWords,dropShadow:this._dropShadow?{...this._dropShadow}:null,fill:this._fill,fontFamily:this.fontFamily,fontSize:this.fontSize,fontStyle:this.fontStyle,fontVariant:this.fontVariant,fontWeight:this.fontWeight,leading:this.leading,letterSpacing:this.letterSpacing,lineHeight:this.lineHeight,padding:this.padding,stroke:this._stroke,textBaseline:this.textBaseline,whiteSpace:this.whiteSpace,wordWrap:this.wordWrap,wordWrapWidth:this.wordWrapWidth,filters:this._filters?[...this._filters]:void 0})}_getFinalPadding(){let t=0;if(this._filters)for(let e=0;e<this._filters.length;e++)t+=this._filters[e].padding;return Math.max(this._padding,t)}destroy(t=!1){if(this.removeAllListeners(),typeof t=="boolean"?t:t?.texture){const i=typeof t=="boolean"?t:t?.textureSource;this._fill?.texture&&this._fill.texture.destroy(i),this._originalFill?.texture&&this._originalFill.texture.destroy(i),this._stroke?.texture&&this._stroke.texture.destroy(i),this._originalStroke?.texture&&this._originalStroke.texture.destroy(i)}this._fill=null,this._stroke=null,this.dropShadow=null,this._originalStroke=null,this._originalFill=null}_createProxy(t,e){return new Proxy(t,{set:(i,r,s)=>(i[r]===s||(i[r]=s,e?.(r,s),this.update()),!0)})}_isFillStyle(t){return(t??null)!==null&&!(L.isColorLike(t)||t instanceof A||t instanceof N)}};G.defaultDropShadow={alpha:1,angle:Math.PI/6,blur:0,color:"black",distance:5};G.defaultTextStyle={align:"left",breakWords:!1,dropShadow:null,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,padding:0,stroke:null,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let ft=G;function dt(l){const t=l;if(typeof t.dropShadow=="boolean"&&t.dropShadow){const e=ft.defaultDropShadow;l.dropShadow={alpha:t.dropShadowAlpha??e.alpha,angle:t.dropShadowAngle??e.angle,blur:t.dropShadowBlur??e.blur,color:t.dropShadowColor??e.color,distance:t.dropShadowDistance??e.distance}}if(t.strokeThickness!==void 0){j(Y,"strokeThickness is now a part of stroke");const e=t.stroke;let i={};if(L.isColorLike(e))i.color=e;else if(e instanceof A||e instanceof N)i.fill=e;else if(Object.hasOwnProperty.call(e,"color")||Object.hasOwnProperty.call(e,"fill"))i=e;else throw new Error("Invalid stroke value.");l.stroke={...i,width:t.strokeThickness}}if(Array.isArray(t.fillGradientStops)){if(j(Y,"gradient fill is now a fill pattern: `new FillGradient(...)`"),!Array.isArray(t.fill)||t.fill.length===0)throw new Error("Invalid fill value. Expected an array of colors for gradient fill.");t.fill.length!==t.fillGradientStops.length&&Z("The number of fill colors must match the number of fill gradient stops.");const e=new A({start:{x:0,y:0},end:{x:0,y:1},textureSpace:"local"}),i=t.fillGradientStops.slice(),r=t.fill.map(s=>L.shared.setValue(s).toNumber());i.forEach((s,o)=>{e.addColorStop(s,r[o])}),l.fill={fill:e}}}class ut{constructor(t){this._canvasPool=Object.create(null),this.canvasOptions=t||{},this.enableFullScreen=!1}_createCanvasAndContext(t,e){const i=E.get().createCanvas();i.width=t,i.height=e;const r=i.getContext("2d");return{canvas:i,context:r}}getOptimalCanvasAndContext(t,e,i=1){t=Math.ceil(t*i-1e-6),e=Math.ceil(e*i-1e-6),t=I(t),e=I(e);const r=(t<<17)+(e<<1);this._canvasPool[r]||(this._canvasPool[r]=[]);let s=this._canvasPool[r].pop();return s||(s=this._createCanvasAndContext(t,e)),s}returnCanvasAndContext(t){const e=t.canvas,{width:i,height:r}=e,s=(i<<17)+(r<<1);t.context.resetTransform(),t.context.clearRect(0,0,i,r),this._canvasPool[s].push(t)}clear(){this._canvasPool={}}}const D=new ut;at.register(D);const q=1e5;function U(l,t,e,i=0){if(l.texture===ot.WHITE&&!l.fill)return L.shared.setValue(l.color).setAlpha(l.alpha??1).toHexa();if(l.fill){if(l.fill instanceof N){const r=l.fill,s=t.createPattern(r.texture.source.resource,"repeat"),o=r.transform.copyTo(K.shared);return o.scale(r.texture.frame.width,r.texture.frame.height),s.setTransform(o),s}else if(l.fill instanceof A){const r=l.fill,s=r.type==="linear",o=r.textureSpace==="local";let n=1,d=1;o&&e&&(n=e.width+i,d=e.height+i);let h,c=!1;if(s){const{start:f,end:u}=r;h=t.createLinearGradient(f.x*n,f.y*d,u.x*n,u.y*d),c=Math.abs(u.x-f.x)<Math.abs((u.y-f.y)*.1)}else{const{center:f,innerRadius:u,outerCenter:g,outerRadius:S}=r;h=t.createRadialGradient(f.x*n,f.y*d,u*n,g.x*n,g.y*d,S*n)}if(c&&o&&e){const f=e.lineHeight/d;for(let u=0;u<e.lines.length;u++){const g=(u*e.lineHeight+i/2)/d;r.colorStops.forEach(S=>{const m=g+S.offset*f;h.addColorStop(Math.floor(m*q)/q,L.shared.setValue(S.color).toHex())})}}else r.colorStops.forEach(f=>{h.addColorStop(f.offset,L.shared.setValue(f.color).toHex())});return h}}else{const r=t.createPattern(l.texture.source.resource,"repeat"),s=l.matrix.copyTo(K.shared);return s.scale(l.texture.frame.width,l.texture.frame.height),r.setTransform(s),r}return Z("FillStyle not recognised",l),"red"}let b=null,W=null;function pt(l,t){b||(b=E.get().createCanvas(256,128),W=b.getContext("2d",{willReadFrequently:!0}),W.globalCompositeOperation="copy",W.globalAlpha=1),(b.width<l||b.height<t)&&(b.width=I(l),b.height=I(t))}function X(l,t,e){for(let i=0,r=4*e*t;i<t;++i,r+=4)if(l[r+3]!==0)return!1;return!0}function J(l,t,e,i,r){const s=4*t;for(let o=i,n=i*s+4*e;o<=r;++o,n+=s)if(l[n+3]!==0)return!1;return!0}function gt(...l){let t=l[0];t.canvas||(t={canvas:l[0],resolution:l[1]});const{canvas:e}=t,i=Math.min(t.resolution??1,1),r=t.width??e.width,s=t.height??e.height;let o=t.output;if(pt(r,s),!W)throw new TypeError("Failed to get canvas 2D context");W.drawImage(e,0,0,r,s,0,0,r*i,s*i);const d=W.getImageData(0,0,r,s).data;let h=0,c=0,f=r-1,u=s-1;for(;c<s&&X(d,r,c);)++c;if(c===s)return O.EMPTY;for(;X(d,r,u);)--u;for(;J(d,r,h,c,u);)++h;for(;J(d,r,f,c,u);)--f;return++f,++u,W.globalCompositeOperation="source-over",W.strokeRect(h,c,f-h,u-c),W.globalCompositeOperation="copy",o??(o=new O),o.set(h/i,c/i,(f-h)/i,(u-c)/i),o}const Q=new O;class St{getCanvasAndContext(t){const{text:e,style:i,resolution:r=1}=t,s=i._getFinalPadding(),o=z.measureText(e||" ",i),n=Math.ceil(Math.ceil(Math.max(1,o.width)+s*2)*r),d=Math.ceil(Math.ceil(Math.max(1,o.height)+s*2)*r),h=D.getOptimalCanvasAndContext(n,d);this._renderTextToCanvas(e,i,s,r,h);const c=i.trim?gt({canvas:h.canvas,width:n,height:d,resolution:1,output:Q}):Q.set(0,0,n,d);return{canvasAndContext:h,frame:c}}returnCanvasAndContext(t){D.returnCanvasAndContext(t)}_renderTextToCanvas(t,e,i,r,s){const{canvas:o,context:n}=s,d=tt(e),h=z.measureText(t||" ",e),c=h.lines,f=h.lineHeight,u=h.lineWidths,g=h.maxLineWidth,S=h.fontProperties,m=o.height;if(n.resetTransform(),n.scale(r,r),n.textBaseline=e.textBaseline,e._stroke?.width){const x=e._stroke;n.lineWidth=x.width,n.miterLimit=x.miterLimit,n.lineJoin=x.join,n.lineCap=x.cap}n.font=d;let _,p;const T=e.dropShadow?2:1;for(let x=0;x<T;++x){const k=e.dropShadow&&x===0,v=k?Math.ceil(Math.max(1,m)+i*2):0,M=v*r;if(k){n.fillStyle="black",n.strokeStyle="black";const w=e.dropShadow,et=w.color,it=w.alpha;n.shadowColor=L.shared.setValue(et).setAlpha(it).toRgbaString();const rt=w.blur*r,$=w.distance*r;n.shadowBlur=rt,n.shadowOffsetX=Math.cos(w.angle)*$,n.shadowOffsetY=Math.sin(w.angle)*$+M}else{if(n.fillStyle=e._fill?U(e._fill,n,h,i*2):null,e._stroke?.width){const w=e._stroke.width*.5+i*2;n.strokeStyle=U(e._stroke,n,h,w)}n.shadowColor="black"}let y=(f-S.fontSize)/2;f-S.fontSize<0&&(y=0);const P=e._stroke?.width??0;for(let w=0;w<c.length;w++)_=P/2,p=P/2+w*f+S.ascent+y,e.align==="right"?_+=g-u[w]:e.align==="center"&&(_+=(g-u[w])/2),e._stroke?.width&&this._drawLetterSpacing(c[w],e,s,_+i,p+i-v,!0),e._fill!==void 0&&this._drawLetterSpacing(c[w],e,s,_+i,p+i-v)}}_drawLetterSpacing(t,e,i,r,s,o=!1){const{context:n}=i,d=e.letterSpacing;let h=!1;if(z.experimentalLetterSpacingSupported&&(z.experimentalLetterSpacing?(n.letterSpacing=`${d}px`,n.textLetterSpacing=`${d}px`,h=!0):(n.letterSpacing="0px",n.textLetterSpacing="0px")),d===0||h){o?n.strokeText(t,r,s):n.fillText(t,r,s);return}let c=r;const f=z.graphemeSegmenter(t);let u=n.measureText(t).width,g=0;for(let S=0;S<f.length;++S){const m=f[S];o?n.strokeText(m,c,s):n.fillText(m,c,s);let _="";for(let p=S+1;p<f.length;++p)_+=f[p];g=n.measureText(_).width,c+=u-g+d,u=g}}}const wt=new St;export{D as C,ft as T,wt as a,z as b,tt as f,U as g,ht as l};
