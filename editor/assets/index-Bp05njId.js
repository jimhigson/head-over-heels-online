const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/campaign-BzA0KthR.js","assets/RoomJson-CAecNUYF.js","assets/browserAll-DAoXfdQi.js","assets/webworkerAll-CuoU91p6.js","assets/Graphics-DvP-83-O.js","assets/colorToUniform-KTpA7KSL.js","assets/LevelEditor-Dx0doxEr.js","assets/levelEditorSlice-t8xD6Hl7.js"])))=>i.map(i=>d[i]);
function DE(n,e){for(var t=0;t<e.length;t++){const s=e[t];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in n)){const l=Object.getOwnPropertyDescriptor(s,a);l&&Object.defineProperty(n,a,l.get?l:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}var f4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xn(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function BE(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function s(){var a=!1;try{a=this instanceof s}catch{}return a?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(s){var a=Object.getOwnPropertyDescriptor(n,s);Object.defineProperty(t,s,a.get?a:{enumerable:!0,get:function(){return n[s]}})}),t}var qf={exports:{}},ro={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ab;function zE(){if(Ab)return ro;Ab=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:n,type:s,key:u,ref:a!==void 0?a:null,props:l}}return ro.Fragment=e,ro.jsx=t,ro.jsxs=t,ro}var Eb;function UE(){return Eb||(Eb=1,qf.exports=zE()),qf.exports}var ko=UE(),Gf={exports:{}},Se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tb;function jE(){if(Tb)return Se;Tb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),m=Symbol.iterator;function b(C){return C===null||typeof C!="object"?null:(C=m&&C[m]||C["@@iterator"],typeof C=="function"?C:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,S={};function _(C,N,F){this.props=C,this.context=N,this.refs=S,this.updater=F||v}_.prototype.isReactComponent={},_.prototype.setState=function(C,N){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,N,"setState")},_.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function E(){}E.prototype=_.prototype;function k(C,N,F){this.props=C,this.context=N,this.refs=S,this.updater=F||v}var A=k.prototype=new E;A.constructor=k,x(A,_.prototype),A.isPureReactComponent=!0;var M=Array.isArray,D={H:null,A:null,T:null,S:null},B=Object.prototype.hasOwnProperty;function O(C,N,F,Y,W,ee){return F=ee.ref,{$$typeof:n,type:C,key:N,ref:F!==void 0?F:null,props:ee}}function U(C,N){return O(C.type,N,void 0,void 0,void 0,C.props)}function j(C){return typeof C=="object"&&C!==null&&C.$$typeof===n}function I(C){var N={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(F){return N[F]})}var q=/\/+/g;function K(C,N){return typeof C=="object"&&C!==null&&C.key!=null?I(""+C.key):N.toString(36)}function ne(){}function re(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(ne,ne):(C.status="pending",C.then(function(N){C.status==="pending"&&(C.status="fulfilled",C.value=N)},function(N){C.status==="pending"&&(C.status="rejected",C.reason=N)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function ae(C,N,F,Y,W){var ee=typeof C;(ee==="undefined"||ee==="boolean")&&(C=null);var se=!1;if(C===null)se=!0;else switch(ee){case"bigint":case"string":case"number":se=!0;break;case"object":switch(C.$$typeof){case n:case e:se=!0;break;case g:return se=C._init,ae(se(C._payload),N,F,Y,W)}}if(se)return W=W(C),se=Y===""?"."+K(C,0):Y,M(W)?(F="",se!=null&&(F=se.replace(q,"$&/")+"/"),ae(W,N,F,"",function(me){return me})):W!=null&&(j(W)&&(W=U(W,F+(W.key==null||C&&C.key===W.key?"":(""+W.key).replace(q,"$&/")+"/")+se)),N.push(W)),1;se=0;var ge=Y===""?".":Y+":";if(M(C))for(var ue=0;ue<C.length;ue++)Y=C[ue],ee=ge+K(Y,ue),se+=ae(Y,N,F,ee,W);else if(ue=b(C),typeof ue=="function")for(C=ue.call(C),ue=0;!(Y=C.next()).done;)Y=Y.value,ee=ge+K(Y,ue++),se+=ae(Y,N,F,ee,W);else if(ee==="object"){if(typeof C.then=="function")return ae(re(C),N,F,Y,W);throw N=String(C),Error("Objects are not valid as a React child (found: "+(N==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":N)+"). If you meant to render a collection of children, use an array instead.")}return se}function T(C,N,F){if(C==null)return C;var Y=[],W=0;return ae(C,Y,"","",function(ee){return N.call(F,ee,W++)}),Y}function P(C){if(C._status===-1){var N=C._result;N=N(),N.then(function(F){(C._status===0||C._status===-1)&&(C._status=1,C._result=F)},function(F){(C._status===0||C._status===-1)&&(C._status=2,C._result=F)}),C._status===-1&&(C._status=0,C._result=N)}if(C._status===1)return C._result.default;throw C._result}var z=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var N=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(N))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function $(){}return Se.Children={map:T,forEach:function(C,N,F){T(C,function(){N.apply(this,arguments)},F)},count:function(C){var N=0;return T(C,function(){N++}),N},toArray:function(C){return T(C,function(N){return N})||[]},only:function(C){if(!j(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Se.Component=_,Se.Fragment=t,Se.Profiler=a,Se.PureComponent=k,Se.StrictMode=s,Se.Suspense=f,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Se.act=function(){throw Error("act(...) is not supported in production builds of React.")},Se.cache=function(C){return function(){return C.apply(null,arguments)}},Se.cloneElement=function(C,N,F){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var Y=x({},C.props),W=C.key,ee=void 0;if(N!=null)for(se in N.ref!==void 0&&(ee=void 0),N.key!==void 0&&(W=""+N.key),N)!B.call(N,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&N.ref===void 0||(Y[se]=N[se]);var se=arguments.length-2;if(se===1)Y.children=F;else if(1<se){for(var ge=Array(se),ue=0;ue<se;ue++)ge[ue]=arguments[ue+2];Y.children=ge}return O(C.type,W,void 0,void 0,ee,Y)},Se.createContext=function(C){return C={$$typeof:u,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:l,_context:C},C},Se.createElement=function(C,N,F){var Y,W={},ee=null;if(N!=null)for(Y in N.key!==void 0&&(ee=""+N.key),N)B.call(N,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(W[Y]=N[Y]);var se=arguments.length-2;if(se===1)W.children=F;else if(1<se){for(var ge=Array(se),ue=0;ue<se;ue++)ge[ue]=arguments[ue+2];W.children=ge}if(C&&C.defaultProps)for(Y in se=C.defaultProps,se)W[Y]===void 0&&(W[Y]=se[Y]);return O(C,ee,void 0,void 0,null,W)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(C){return{$$typeof:h,render:C}},Se.isValidElement=j,Se.lazy=function(C){return{$$typeof:g,_payload:{_status:-1,_result:C},_init:P}},Se.memo=function(C,N){return{$$typeof:p,type:C,compare:N===void 0?null:N}},Se.startTransition=function(C){var N=D.T,F={};D.T=F;try{var Y=C(),W=D.S;W!==null&&W(F,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then($,z)}catch(ee){z(ee)}finally{D.T=N}},Se.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Se.use=function(C){return D.H.use(C)},Se.useActionState=function(C,N,F){return D.H.useActionState(C,N,F)},Se.useCallback=function(C,N){return D.H.useCallback(C,N)},Se.useContext=function(C){return D.H.useContext(C)},Se.useDebugValue=function(){},Se.useDeferredValue=function(C,N){return D.H.useDeferredValue(C,N)},Se.useEffect=function(C,N){return D.H.useEffect(C,N)},Se.useId=function(){return D.H.useId()},Se.useImperativeHandle=function(C,N,F){return D.H.useImperativeHandle(C,N,F)},Se.useInsertionEffect=function(C,N){return D.H.useInsertionEffect(C,N)},Se.useLayoutEffect=function(C,N){return D.H.useLayoutEffect(C,N)},Se.useMemo=function(C,N){return D.H.useMemo(C,N)},Se.useOptimistic=function(C,N){return D.H.useOptimistic(C,N)},Se.useReducer=function(C,N,F){return D.H.useReducer(C,N,F)},Se.useRef=function(C){return D.H.useRef(C)},Se.useState=function(C){return D.H.useState(C)},Se.useSyncExternalStore=function(C,N,F){return D.H.useSyncExternalStore(C,N,F)},Se.useTransition=function(){return D.H.useTransition()},Se.version="19.0.0",Se}var Mb;function vc(){return Mb||(Mb=1,Gf.exports=jE()),Gf.exports}var he=vc();const LE=Xn(he),d4=DE({__proto__:null,default:LE},[he]);var Hf={exports:{}},ao={},$f={exports:{}},Ff={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cb;function IE(){return Cb||(Cb=1,(function(n){function e(T,P){var z=T.length;T.push(P);e:for(;0<z;){var $=z-1>>>1,C=T[$];if(0<a(C,P))T[$]=P,T[z]=C,z=$;else break e}}function t(T){return T.length===0?null:T[0]}function s(T){if(T.length===0)return null;var P=T[0],z=T.pop();if(z!==P){T[0]=z;e:for(var $=0,C=T.length,N=C>>>1;$<N;){var F=2*($+1)-1,Y=T[F],W=F+1,ee=T[W];if(0>a(Y,z))W<C&&0>a(ee,Y)?(T[$]=ee,T[W]=z,$=W):(T[$]=Y,T[F]=z,$=F);else if(W<C&&0>a(ee,z))T[$]=ee,T[W]=z,$=W;else break e}}return P}function a(T,P){var z=T.sortIndex-P.sortIndex;return z!==0?z:T.id-P.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var f=[],p=[],g=1,m=null,b=3,v=!1,x=!1,S=!1,_=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function A(T){for(var P=t(p);P!==null;){if(P.callback===null)s(p);else if(P.startTime<=T)s(p),P.sortIndex=P.expirationTime,e(f,P);else break;P=t(p)}}function M(T){if(S=!1,A(T),!x)if(t(f)!==null)x=!0,re();else{var P=t(p);P!==null&&ae(M,P.startTime-T)}}var D=!1,B=-1,O=5,U=-1;function j(){return!(n.unstable_now()-U<O)}function I(){if(D){var T=n.unstable_now();U=T;var P=!0;try{e:{x=!1,S&&(S=!1,E(B),B=-1),v=!0;var z=b;try{t:{for(A(T),m=t(f);m!==null&&!(m.expirationTime>T&&j());){var $=m.callback;if(typeof $=="function"){m.callback=null,b=m.priorityLevel;var C=$(m.expirationTime<=T);if(T=n.unstable_now(),typeof C=="function"){m.callback=C,A(T),P=!0;break t}m===t(f)&&s(f),A(T)}else s(f);m=t(f)}if(m!==null)P=!0;else{var N=t(p);N!==null&&ae(M,N.startTime-T),P=!1}}break e}finally{m=null,b=z,v=!1}P=void 0}}finally{P?q():D=!1}}}var q;if(typeof k=="function")q=function(){k(I)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,ne=K.port2;K.port1.onmessage=I,q=function(){ne.postMessage(null)}}else q=function(){_(I,0)};function re(){D||(D=!0,q())}function ae(T,P){B=_(function(){T(n.unstable_now())},P)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(T){T.callback=null},n.unstable_continueExecution=function(){x||v||(x=!0,re())},n.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<T?Math.floor(1e3/T):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(T){switch(b){case 1:case 2:case 3:var P=3;break;default:P=b}var z=b;b=P;try{return T()}finally{b=z}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(T,P){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var z=b;b=T;try{return P()}finally{b=z}},n.unstable_scheduleCallback=function(T,P,z){var $=n.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?$+z:$):z=$,T){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=z+C,T={id:g++,callback:P,priorityLevel:T,startTime:z,expirationTime:C,sortIndex:-1},z>$?(T.sortIndex=z,e(p,T),t(f)===null&&T===t(p)&&(S?(E(B),B=-1):S=!0,ae(M,z-$))):(T.sortIndex=C,e(f,T),x||v||(x=!0,re())),T},n.unstable_shouldYield=j,n.unstable_wrapCallback=function(T){var P=b;return function(){var z=b;b=P;try{return T.apply(this,arguments)}finally{b=z}}}})(Ff)),Ff}var kb;function NE(){return kb||(kb=1,$f.exports=IE()),$f.exports}var Vf={exports:{}},Pt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rb;function qE(){if(Rb)return Pt;Rb=1;var n=vc();function e(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(f,p,g){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:m==null?null:""+m,children:f,containerInfo:p,implementation:g}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Pt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Pt.createPortal=function(f,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(f,p,null,g)},Pt.flushSync=function(f){var p=u.T,g=s.p;try{if(u.T=null,s.p=2,f)return f()}finally{u.T=p,s.p=g,s.d.f()}},Pt.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(f,p))},Pt.prefetchDNS=function(f){typeof f=="string"&&s.d.D(f)},Pt.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var g=p.as,m=h(g,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,v=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?s.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:m,integrity:b,fetchPriority:v}):g==="script"&&s.d.X(f,{crossOrigin:m,integrity:b,fetchPriority:v,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Pt.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=h(p.as,p.crossOrigin);s.d.M(f,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(f)},Pt.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,m=h(g,p.crossOrigin);s.d.L(f,g,{crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Pt.preloadModule=function(f,p){if(typeof f=="string")if(p){var g=h(p.as,p.crossOrigin);s.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(f)},Pt.requestFormReset=function(f){s.d.r(f)},Pt.unstable_batchedUpdates=function(f,p){return f(p)},Pt.useFormState=function(f,p,g){return u.H.useFormState(f,p,g)},Pt.useFormStatus=function(){return u.H.useHostTransitionStatus()},Pt.version="19.0.0",Pt}var Ob;function GE(){if(Ob)return Vf.exports;Ob=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Vf.exports=qE(),Vf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pb;function HE(){if(Pb)return ao;Pb=1;var n=NE(),e=vc(),t=GE();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}var l=Symbol.for("react.element"),u=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),b=Symbol.for("react.consumer"),v=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),A=Symbol.for("react.offscreen"),M=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function B(i){return i===null||typeof i!="object"?null:(i=D&&i[D]||i["@@iterator"],typeof i=="function"?i:null)}var O=Symbol.for("react.client.reference");function U(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===O?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case f:return"Fragment";case h:return"Portal";case g:return"Profiler";case p:return"StrictMode";case S:return"Suspense";case _:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case v:return(i.displayName||"Context")+".Provider";case b:return(i._context.displayName||"Context")+".Consumer";case x:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case E:return r=i.displayName||null,r!==null?r:U(i.type)||"Memo";case k:r=i._payload,i=i._init;try{return U(i(r))}catch{}}return null}var j=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=Object.assign,q,K;function ne(i){if(q===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);q=r&&r[1]||"",K=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+q+i+K}var re=!1;function ae(i,r){if(!i||re)return"";re=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(Z){var Q=Z}Reflect.construct(i,[],ie)}else{try{ie.call()}catch(Z){Q=Z}i.call(ie.prototype)}}else{try{throw Error()}catch(Z){Q=Z}(ie=i())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(Z){if(Z&&Q&&typeof Z.stack=="string")return[Z.stack,Q.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),w=y[0],R=y[1];if(w&&R){var L=w.split(`
`),H=R.split(`
`);for(d=c=0;c<L.length&&!L[c].includes("DetermineComponentFrameRoot");)c++;for(;d<H.length&&!H[d].includes("DetermineComponentFrameRoot");)d++;if(c===L.length||d===H.length)for(c=L.length-1,d=H.length-1;1<=c&&0<=d&&L[c]!==H[d];)d--;for(;1<=c&&0<=d;c--,d--)if(L[c]!==H[d]){if(c!==1||d!==1)do if(c--,d--,0>d||L[c]!==H[d]){var J=`
`+L[c].replace(" at new "," at ");return i.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",i.displayName)),J}while(1<=c&&0<=d);break}}}finally{re=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?ne(o):""}function T(i){switch(i.tag){case 26:case 27:case 5:return ne(i.type);case 16:return ne("Lazy");case 13:return ne("Suspense");case 19:return ne("SuspenseList");case 0:case 15:return i=ae(i.type,!1),i;case 11:return i=ae(i.type.render,!1),i;case 1:return i=ae(i.type,!0),i;default:return""}}function P(i){try{var r="";do r+=T(i),i=i.return;while(i);return r}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function z(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function $(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function C(i){if(z(i)!==i)throw Error(s(188))}function N(i){var r=i.alternate;if(!r){if(r=z(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,c=r;;){var d=o.return;if(d===null)break;var y=d.alternate;if(y===null){if(c=d.return,c!==null){o=c;continue}break}if(d.child===y.child){for(y=d.child;y;){if(y===o)return C(d),i;if(y===c)return C(d),r;y=y.sibling}throw Error(s(188))}if(o.return!==c.return)o=d,c=y;else{for(var w=!1,R=d.child;R;){if(R===o){w=!0,o=d,c=y;break}if(R===c){w=!0,c=d,o=y;break}R=R.sibling}if(!w){for(R=y.child;R;){if(R===o){w=!0,o=y,c=d;break}if(R===c){w=!0,c=y,o=d;break}R=R.sibling}if(!w)throw Error(s(189))}}if(o.alternate!==c)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function F(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=F(i),r!==null)return r;i=i.sibling}return null}var Y=Array.isArray,W=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},se=[],ge=-1;function ue(i){return{current:i}}function me(i){0>ge||(i.current=se[ge],se[ge]=null,ge--)}function fe(i,r){ge++,se[ge]=i.current,i.current=r}var $e=ue(null),Fe=ue(null),nt=ue(null),pt=ue(null);function _e(i,r){switch(fe(nt,r),fe(Fe,i),fe($e,null),i=r.nodeType,i){case 9:case 11:r=(r=r.documentElement)&&(r=r.namespaceURI)?J0(r):0;break;default:if(i=i===8?r.parentNode:r,r=i.tagName,i=i.namespaceURI)i=J0(i),r=eb(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}me($e),fe($e,r)}function Ae(){me($e),me(Fe),me(nt)}function Qs(i){i.memoizedState!==null&&fe(pt,i);var r=$e.current,o=eb(r,i.type);r!==o&&(fe(Fe,i),fe($e,o))}function Ws(i){Fe.current===i&&(me($e),me(Fe)),pt.current===i&&(me(pt),eo._currentValue=ee)}var ll=Object.prototype.hasOwnProperty,Dc=n.unstable_scheduleCallback,Bc=n.unstable_cancelCallback,h1=n.unstable_shouldYield,f1=n.unstable_requestPaint,Un=n.unstable_now,d1=n.unstable_getCurrentPriorityLevel,Gg=n.unstable_ImmediatePriority,Hg=n.unstable_UserBlockingPriority,ul=n.unstable_NormalPriority,p1=n.unstable_LowPriority,$g=n.unstable_IdlePriority,g1=n.log,y1=n.unstable_setDisableYieldValue,ua=null,Qt=null;function m1(i){if(Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(ua,i,void 0,(i.current.flags&128)===128)}catch{}}function Ei(i){if(typeof g1=="function"&&y1(i),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(ua,i)}catch{}}var Wt=Math.clz32?Math.clz32:_1,b1=Math.log,v1=Math.LN2;function _1(i){return i>>>=0,i===0?32:31-(b1(i)/v1|0)|0}var cl=128,hl=4194304;function ss(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function fl(i,r){var o=i.pendingLanes;if(o===0)return 0;var c=0,d=i.suspendedLanes,y=i.pingedLanes,w=i.warmLanes;i=i.finishedLanes!==0;var R=o&134217727;return R!==0?(o=R&~d,o!==0?c=ss(o):(y&=R,y!==0?c=ss(y):i||(w=R&~w,w!==0&&(c=ss(w))))):(R=o&~d,R!==0?c=ss(R):y!==0?c=ss(y):i||(w=o&~w,w!==0&&(c=ss(w)))),c===0?0:r!==0&&r!==c&&(r&d)===0&&(d=c&-c,w=r&-r,d>=w||d===32&&(w&4194176)!==0)?r:c}function ca(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function w1(i,r){switch(i){case 1:case 2:case 4:case 8:return r+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fg(){var i=cl;return cl<<=1,(cl&4194176)===0&&(cl=128),i}function Vg(){var i=hl;return hl<<=1,(hl&62914560)===0&&(hl=4194304),i}function zc(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function ha(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function x1(i,r,o,c,d,y){var w=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var R=i.entanglements,L=i.expirationTimes,H=i.hiddenUpdates;for(o=w&~o;0<o;){var J=31-Wt(o),ie=1<<J;R[J]=0,L[J]=-1;var Q=H[J];if(Q!==null)for(H[J]=null,J=0;J<Q.length;J++){var Z=Q[J];Z!==null&&(Z.lane&=-536870913)}o&=~ie}c!==0&&Yg(i,c,0),y!==0&&d===0&&i.tag!==0&&(i.suspendedLanes|=y&~(w&~r))}function Yg(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var c=31-Wt(r);i.entangledLanes|=r,i.entanglements[c]=i.entanglements[c]|1073741824|o&4194218}function Xg(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var c=31-Wt(o),d=1<<c;d&r|i[c]&r&&(i[c]|=r),o&=~d}}function Qg(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Wg(){var i=W.p;return i!==0?i:(i=window.event,i===void 0?32:bb(i.type))}function S1(i,r){var o=W.p;try{return W.p=i,r()}finally{W.p=o}}var Ti=Math.random().toString(36).slice(2),Rt="__reactFiber$"+Ti,Gt="__reactProps$"+Ti,Ks="__reactContainer$"+Ti,Uc="__reactEvents$"+Ti,A1="__reactListeners$"+Ti,E1="__reactHandles$"+Ti,Kg="__reactResources$"+Ti,fa="__reactMarker$"+Ti;function jc(i){delete i[Rt],delete i[Gt],delete i[Uc],delete i[A1],delete i[E1]}function rs(i){var r=i[Rt];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Ks]||o[Rt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=ib(i);i!==null;){if(o=i[Rt])return o;i=ib(i)}return r}i=o,o=i.parentNode}return null}function Zs(i){if(i=i[Rt]||i[Ks]){var r=i.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return i}return null}function da(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Js(i){var r=i[Kg];return r||(r=i[Kg]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function gt(i){i[fa]=!0}var Zg=new Set,Jg={};function as(i,r){er(i,r),er(i+"Capture",r)}function er(i,r){for(Jg[i]=r,i=0;i<r.length;i++)Zg.add(r[i])}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),T1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ey={},ty={};function M1(i){return ll.call(ty,i)?!0:ll.call(ey,i)?!1:T1.test(i)?ty[i]=!0:(ey[i]=!0,!1)}function dl(i,r,o){if(M1(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function pl(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Zn(i,r,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+c)}}function un(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ny(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function C1(i){var r=ny(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),c=""+i[r];if(!i.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,y=o.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return d.call(this)},set:function(w){c=""+w,y.call(this,w)}}),Object.defineProperty(i,r,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function gl(i){i._valueTracker||(i._valueTracker=C1(i))}function iy(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return i&&(c=ny(i)?i.checked?"true":"false":i.value),i=c,i!==o?(r.setValue(i),!0):!1}function yl(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var k1=/[\n"\\]/g;function cn(i){return i.replace(k1,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Lc(i,r,o,c,d,y,w,R){i.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.type=w:i.removeAttribute("type"),r!=null?w==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+un(r)):i.value!==""+un(r)&&(i.value=""+un(r)):w!=="submit"&&w!=="reset"||i.removeAttribute("value"),r!=null?Ic(i,w,un(r)):o!=null?Ic(i,w,un(o)):c!=null&&i.removeAttribute("value"),d==null&&y!=null&&(i.defaultChecked=!!y),d!=null&&(i.checked=d&&typeof d!="function"&&typeof d!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?i.name=""+un(R):i.removeAttribute("name")}function sy(i,r,o,c,d,y,w,R){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),r!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||r!=null))return;o=o!=null?""+un(o):"",r=r!=null?""+un(r):o,R||r===i.value||(i.value=r),i.defaultValue=r}c=c??d,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=R?i.checked:!!c,i.defaultChecked=!!c,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(i.name=w)}function Ic(i,r,o){r==="number"&&yl(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function tr(i,r,o,c){if(i=i.options,r){r={};for(var d=0;d<o.length;d++)r["$"+o[d]]=!0;for(o=0;o<i.length;o++)d=r.hasOwnProperty("$"+i[o].value),i[o].selected!==d&&(i[o].selected=d),d&&c&&(i[o].defaultSelected=!0)}else{for(o=""+un(o),r=null,d=0;d<i.length;d++){if(i[d].value===o){i[d].selected=!0,c&&(i[d].defaultSelected=!0);return}r!==null||i[d].disabled||(r=i[d])}r!==null&&(r.selected=!0)}}function ry(i,r,o){if(r!=null&&(r=""+un(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+un(o):""}function ay(i,r,o,c){if(r==null){if(c!=null){if(o!=null)throw Error(s(92));if(Y(c)){if(1<c.length)throw Error(s(93));c=c[0]}o=c}o==null&&(o=""),r=o}o=un(r),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c)}function nr(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var R1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function oy(i,r,o){var c=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":c?i.setProperty(r,o):typeof o!="number"||o===0||R1.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function ly(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var d in r)c=r[d],r.hasOwnProperty(d)&&o[d]!==c&&oy(i,d,c)}else for(var y in r)r.hasOwnProperty(y)&&oy(i,y,r[y])}function Nc(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var O1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),P1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ml(i){return P1.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var qc=null;function Gc(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ir=null,sr=null;function uy(i){var r=Zs(i);if(r&&(i=r.stateNode)){var o=i[Gt]||null;e:switch(i=r.stateNode,r.type){case"input":if(Lc(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+cn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==i&&c.form===i.form){var d=c[Gt]||null;if(!d)throw Error(s(90));Lc(c,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<o.length;r++)c=o[r],c.form===i.form&&iy(c)}break e;case"textarea":ry(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&tr(i,!!o.multiple,r,!1)}}}var Hc=!1;function cy(i,r,o){if(Hc)return i(r,o);Hc=!0;try{var c=i(r);return c}finally{if(Hc=!1,(ir!==null||sr!==null)&&(eu(),ir&&(r=ir,i=sr,sr=ir=null,uy(r),i)))for(r=0;r<i.length;r++)uy(i[r])}}function pa(i,r){var o=i.stateNode;if(o===null)return null;var c=o[Gt]||null;if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var $c=!1;if(Kn)try{var ga={};Object.defineProperty(ga,"passive",{get:function(){$c=!0}}),window.addEventListener("test",ga,ga),window.removeEventListener("test",ga,ga)}catch{$c=!1}var Mi=null,Fc=null,bl=null;function hy(){if(bl)return bl;var i,r=Fc,o=r.length,c,d="value"in Mi?Mi.value:Mi.textContent,y=d.length;for(i=0;i<o&&r[i]===d[i];i++);var w=o-i;for(c=1;c<=w&&r[o-c]===d[y-c];c++);return bl=d.slice(i,1<c?1-c:void 0)}function vl(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function _l(){return!0}function fy(){return!1}function Ht(i){function r(o,c,d,y,w){this._reactName=o,this._targetInst=d,this.type=c,this.nativeEvent=y,this.target=w,this.currentTarget=null;for(var R in i)i.hasOwnProperty(R)&&(o=i[R],this[R]=o?o(y):y[R]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?_l:fy,this.isPropagationStopped=fy,this}return I(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=_l)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=_l)},persist:function(){},isPersistent:_l}),r}var os={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wl=Ht(os),ya=I({},os,{view:0,detail:0}),D1=Ht(ya),Vc,Yc,ma,xl=I({},ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qc,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ma&&(ma&&i.type==="mousemove"?(Vc=i.screenX-ma.screenX,Yc=i.screenY-ma.screenY):Yc=Vc=0,ma=i),Vc)},movementY:function(i){return"movementY"in i?i.movementY:Yc}}),dy=Ht(xl),B1=I({},xl,{dataTransfer:0}),z1=Ht(B1),U1=I({},ya,{relatedTarget:0}),Xc=Ht(U1),j1=I({},os,{animationName:0,elapsedTime:0,pseudoElement:0}),L1=Ht(j1),I1=I({},os,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),N1=Ht(I1),q1=I({},os,{data:0}),py=Ht(q1),G1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},H1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function F1(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=$1[i])?!!r[i]:!1}function Qc(){return F1}var V1=I({},ya,{key:function(i){if(i.key){var r=G1[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=vl(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?H1[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qc,charCode:function(i){return i.type==="keypress"?vl(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?vl(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Y1=Ht(V1),X1=I({},xl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gy=Ht(X1),Q1=I({},ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qc}),W1=Ht(Q1),K1=I({},os,{propertyName:0,elapsedTime:0,pseudoElement:0}),Z1=Ht(K1),J1=I({},xl,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),eA=Ht(J1),tA=I({},os,{newState:0,oldState:0}),nA=Ht(tA),iA=[9,13,27,32],Wc=Kn&&"CompositionEvent"in window,ba=null;Kn&&"documentMode"in document&&(ba=document.documentMode);var sA=Kn&&"TextEvent"in window&&!ba,yy=Kn&&(!Wc||ba&&8<ba&&11>=ba),my=" ",by=!1;function vy(i,r){switch(i){case"keyup":return iA.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _y(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var rr=!1;function rA(i,r){switch(i){case"compositionend":return _y(r);case"keypress":return r.which!==32?null:(by=!0,my);case"textInput":return i=r.data,i===my&&by?null:i;default:return null}}function aA(i,r){if(rr)return i==="compositionend"||!Wc&&vy(i,r)?(i=hy(),bl=Fc=Mi=null,rr=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return yy&&r.locale!=="ko"?null:r.data;default:return null}}var oA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wy(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!oA[i.type]:r==="textarea"}function xy(i,r,o,c){ir?sr?sr.push(c):sr=[c]:ir=c,r=ru(r,"onChange"),0<r.length&&(o=new wl("onChange","change",null,o,c),i.push({event:o,listeners:r}))}var va=null,_a=null;function lA(i){X0(i,0)}function Sl(i){var r=da(i);if(iy(r))return i}function Sy(i,r){if(i==="change")return r}var Ay=!1;if(Kn){var Kc;if(Kn){var Zc="oninput"in document;if(!Zc){var Ey=document.createElement("div");Ey.setAttribute("oninput","return;"),Zc=typeof Ey.oninput=="function"}Kc=Zc}else Kc=!1;Ay=Kc&&(!document.documentMode||9<document.documentMode)}function Ty(){va&&(va.detachEvent("onpropertychange",My),_a=va=null)}function My(i){if(i.propertyName==="value"&&Sl(_a)){var r=[];xy(r,_a,i,Gc(i)),cy(lA,r)}}function uA(i,r,o){i==="focusin"?(Ty(),va=r,_a=o,va.attachEvent("onpropertychange",My)):i==="focusout"&&Ty()}function cA(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Sl(_a)}function hA(i,r){if(i==="click")return Sl(r)}function fA(i,r){if(i==="input"||i==="change")return Sl(r)}function dA(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Kt=typeof Object.is=="function"?Object.is:dA;function wa(i,r){if(Kt(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var d=o[c];if(!ll.call(r,d)||!Kt(i[d],r[d]))return!1}return!0}function Cy(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function ky(i,r){var o=Cy(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=r&&c>=r)return{node:o,offset:r-i};i=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Cy(o)}}function Ry(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?Ry(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function Oy(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=yl(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=yl(i.document)}return r}function Jc(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}function pA(i,r){var o=Oy(r);r=i.focusedElem;var c=i.selectionRange;if(o!==r&&r&&r.ownerDocument&&Ry(r.ownerDocument.documentElement,r)){if(c!==null&&Jc(r)){if(i=c.start,o=c.end,o===void 0&&(o=i),"selectionStart"in r)r.selectionStart=i,r.selectionEnd=Math.min(o,r.value.length);else if(o=(i=r.ownerDocument||document)&&i.defaultView||window,o.getSelection){o=o.getSelection();var d=r.textContent.length,y=Math.min(c.start,d);c=c.end===void 0?y:Math.min(c.end,d),!o.extend&&y>c&&(d=c,c=y,y=d),d=ky(r,y);var w=ky(r,c);d&&w&&(o.rangeCount!==1||o.anchorNode!==d.node||o.anchorOffset!==d.offset||o.focusNode!==w.node||o.focusOffset!==w.offset)&&(i=i.createRange(),i.setStart(d.node,d.offset),o.removeAllRanges(),y>c?(o.addRange(i),o.extend(w.node,w.offset)):(i.setEnd(w.node,w.offset),o.addRange(i)))}}for(i=[],o=r;o=o.parentNode;)o.nodeType===1&&i.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<i.length;r++)o=i[r],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var gA=Kn&&"documentMode"in document&&11>=document.documentMode,ar=null,eh=null,xa=null,th=!1;function Py(i,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;th||ar==null||ar!==yl(c)||(c=ar,"selectionStart"in c&&Jc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),xa&&wa(xa,c)||(xa=c,c=ru(eh,"onSelect"),0<c.length&&(r=new wl("onSelect","select",null,r,o),i.push({event:r,listeners:c}),r.target=ar)))}function ls(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var or={animationend:ls("Animation","AnimationEnd"),animationiteration:ls("Animation","AnimationIteration"),animationstart:ls("Animation","AnimationStart"),transitionrun:ls("Transition","TransitionRun"),transitionstart:ls("Transition","TransitionStart"),transitioncancel:ls("Transition","TransitionCancel"),transitionend:ls("Transition","TransitionEnd")},nh={},Dy={};Kn&&(Dy=document.createElement("div").style,"AnimationEvent"in window||(delete or.animationend.animation,delete or.animationiteration.animation,delete or.animationstart.animation),"TransitionEvent"in window||delete or.transitionend.transition);function us(i){if(nh[i])return nh[i];if(!or[i])return i;var r=or[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in Dy)return nh[i]=r[o];return i}var By=us("animationend"),zy=us("animationiteration"),Uy=us("animationstart"),yA=us("transitionrun"),mA=us("transitionstart"),bA=us("transitioncancel"),jy=us("transitionend"),Ly=new Map,Iy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function An(i,r){Ly.set(i,r),as(r,[i])}var hn=[],lr=0,ih=0;function Al(){for(var i=lr,r=ih=lr=0;r<i;){var o=hn[r];hn[r++]=null;var c=hn[r];hn[r++]=null;var d=hn[r];hn[r++]=null;var y=hn[r];if(hn[r++]=null,c!==null&&d!==null){var w=c.pending;w===null?d.next=d:(d.next=w.next,w.next=d),c.pending=d}y!==0&&Ny(o,d,y)}}function El(i,r,o,c){hn[lr++]=i,hn[lr++]=r,hn[lr++]=o,hn[lr++]=c,ih|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function sh(i,r,o,c){return El(i,r,o,c),Tl(i)}function Ci(i,r){return El(i,null,null,r),Tl(i)}function Ny(i,r,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var d=!1,y=i.return;y!==null;)y.childLanes|=o,c=y.alternate,c!==null&&(c.childLanes|=o),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(d=!0)),i=y,y=y.return;d&&r!==null&&i.tag===3&&(y=i.stateNode,d=31-Wt(o),y=y.hiddenUpdates,i=y[d],i===null?y[d]=[r]:i.push(r),r.lane=o|536870912)}function Tl(i){if(50<Ya)throw Ya=0,hf=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var ur={},qy=new WeakMap;function fn(i,r){if(typeof i=="object"&&i!==null){var o=qy.get(i);return o!==void 0?o:(r={value:i,source:r,stack:P(r)},qy.set(i,r),r)}return{value:i,source:r,stack:P(r)}}var cr=[],hr=0,Ml=null,Cl=0,dn=[],pn=0,cs=null,Jn=1,ei="";function hs(i,r){cr[hr++]=Cl,cr[hr++]=Ml,Ml=i,Cl=r}function Gy(i,r,o){dn[pn++]=Jn,dn[pn++]=ei,dn[pn++]=cs,cs=i;var c=Jn;i=ei;var d=32-Wt(c)-1;c&=~(1<<d),o+=1;var y=32-Wt(r)+d;if(30<y){var w=d-d%5;y=(c&(1<<w)-1).toString(32),c>>=w,d-=w,Jn=1<<32-Wt(r)+d|o<<d|c,ei=y+i}else Jn=1<<y|o<<d|c,ei=i}function rh(i){i.return!==null&&(hs(i,1),Gy(i,1,0))}function ah(i){for(;i===Ml;)Ml=cr[--hr],cr[hr]=null,Cl=cr[--hr],cr[hr]=null;for(;i===cs;)cs=dn[--pn],dn[pn]=null,ei=dn[--pn],dn[pn]=null,Jn=dn[--pn],dn[pn]=null}var Lt=null,St=null,Ue=!1,En=null,jn=!1,oh=Error(s(519));function fs(i){var r=Error(s(418,""));throw Ea(fn(r,i)),oh}function Hy(i){var r=i.stateNode,o=i.type,c=i.memoizedProps;switch(r[Rt]=i,r[Gt]=c,o){case"dialog":Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":case"embed":Oe("load",r);break;case"video":case"audio":for(o=0;o<Qa.length;o++)Oe(Qa[o],r);break;case"source":Oe("error",r);break;case"img":case"image":case"link":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"input":Oe("invalid",r),sy(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),gl(r);break;case"select":Oe("invalid",r);break;case"textarea":Oe("invalid",r),ay(r,c.value,c.defaultValue,c.children),gl(r)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||c.suppressHydrationWarning===!0||Z0(r.textContent,o)?(c.popover!=null&&(Oe("beforetoggle",r),Oe("toggle",r)),c.onScroll!=null&&Oe("scroll",r),c.onScrollEnd!=null&&Oe("scrollend",r),c.onClick!=null&&(r.onclick=au),r=!0):r=!1,r||fs(i)}function $y(i){for(Lt=i.return;Lt;)switch(Lt.tag){case 3:case 27:jn=!0;return;case 5:case 13:jn=!1;return;default:Lt=Lt.return}}function Sa(i){if(i!==Lt)return!1;if(!Ue)return $y(i),Ue=!0,!1;var r=!1,o;if((o=i.tag!==3&&i.tag!==27)&&((o=i.tag===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Cf(i.type,i.memoizedProps)),o=!o),o&&(r=!0),r&&St&&fs(i),$y(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));e:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(r===0){St=Mn(i.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++;i=i.nextSibling}St=null}}else St=Lt?Mn(i.stateNode.nextSibling):null;return!0}function Aa(){St=Lt=null,Ue=!1}function Ea(i){En===null?En=[i]:En.push(i)}var Ta=Error(s(460)),Fy=Error(s(474)),lh={then:function(){}};function Vy(i){return i=i.status,i==="fulfilled"||i==="rejected"}function kl(){}function Yy(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(kl,kl),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,i===Ta?Error(s(483)):i;default:if(typeof r.status=="string")r.then(kl,kl);else{if(i=qe,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(c){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=c}},function(c){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,i===Ta?Error(s(483)):i}throw Ma=r,Ta}}var Ma=null;function Xy(){if(Ma===null)throw Error(s(459));var i=Ma;return Ma=null,i}var fr=null,Ca=0;function Rl(i){var r=Ca;return Ca+=1,fr===null&&(fr=[]),Yy(fr,i,r)}function ka(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Ol(i,r){throw r.$$typeof===l?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function Qy(i){var r=i._init;return r(i._payload)}function Wy(i){function r(V,G){if(i){var X=V.deletions;X===null?(V.deletions=[G],V.flags|=16):X.push(G)}}function o(V,G){if(!i)return null;for(;G!==null;)r(V,G),G=G.sibling;return null}function c(V){for(var G=new Map;V!==null;)V.key!==null?G.set(V.key,V):G.set(V.index,V),V=V.sibling;return G}function d(V,G){return V=Ni(V,G),V.index=0,V.sibling=null,V}function y(V,G,X){return V.index=X,i?(X=V.alternate,X!==null?(X=X.index,X<G?(V.flags|=33554434,G):X):(V.flags|=33554434,G)):(V.flags|=1048576,G)}function w(V){return i&&V.alternate===null&&(V.flags|=33554434),V}function R(V,G,X,te){return G===null||G.tag!==6?(G=nf(X,V.mode,te),G.return=V,G):(G=d(G,X),G.return=V,G)}function L(V,G,X,te){var ce=X.type;return ce===f?J(V,G,X.props.children,te,X.key):G!==null&&(G.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===k&&Qy(ce)===G.type)?(G=d(G,X.props),ka(G,X),G.return=V,G):(G=Ql(X.type,X.key,X.props,null,V.mode,te),ka(G,X),G.return=V,G)}function H(V,G,X,te){return G===null||G.tag!==4||G.stateNode.containerInfo!==X.containerInfo||G.stateNode.implementation!==X.implementation?(G=sf(X,V.mode,te),G.return=V,G):(G=d(G,X.children||[]),G.return=V,G)}function J(V,G,X,te,ce){return G===null||G.tag!==7?(G=xs(X,V.mode,te,ce),G.return=V,G):(G=d(G,X),G.return=V,G)}function ie(V,G,X){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=nf(""+G,V.mode,X),G.return=V,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case u:return X=Ql(G.type,G.key,G.props,null,V.mode,X),ka(X,G),X.return=V,X;case h:return G=sf(G,V.mode,X),G.return=V,G;case k:var te=G._init;return G=te(G._payload),ie(V,G,X)}if(Y(G)||B(G))return G=xs(G,V.mode,X,null),G.return=V,G;if(typeof G.then=="function")return ie(V,Rl(G),X);if(G.$$typeof===v)return ie(V,Vl(V,G),X);Ol(V,G)}return null}function Q(V,G,X,te){var ce=G!==null?G.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return ce!==null?null:R(V,G,""+X,te);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case u:return X.key===ce?L(V,G,X,te):null;case h:return X.key===ce?H(V,G,X,te):null;case k:return ce=X._init,X=ce(X._payload),Q(V,G,X,te)}if(Y(X)||B(X))return ce!==null?null:J(V,G,X,te,null);if(typeof X.then=="function")return Q(V,G,Rl(X),te);if(X.$$typeof===v)return Q(V,G,Vl(V,X),te);Ol(V,X)}return null}function Z(V,G,X,te,ce){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return V=V.get(X)||null,R(G,V,""+te,ce);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case u:return V=V.get(te.key===null?X:te.key)||null,L(G,V,te,ce);case h:return V=V.get(te.key===null?X:te.key)||null,H(G,V,te,ce);case k:var Te=te._init;return te=Te(te._payload),Z(V,G,X,te,ce)}if(Y(te)||B(te))return V=V.get(X)||null,J(G,V,te,ce,null);if(typeof te.then=="function")return Z(V,G,X,Rl(te),ce);if(te.$$typeof===v)return Z(V,G,X,Vl(G,te),ce);Ol(G,te)}return null}function de(V,G,X,te){for(var ce=null,Te=null,ye=G,be=G=0,bt=null;ye!==null&&be<X.length;be++){ye.index>be?(bt=ye,ye=null):bt=ye.sibling;var je=Q(V,ye,X[be],te);if(je===null){ye===null&&(ye=bt);break}i&&ye&&je.alternate===null&&r(V,ye),G=y(je,G,be),Te===null?ce=je:Te.sibling=je,Te=je,ye=bt}if(be===X.length)return o(V,ye),Ue&&hs(V,be),ce;if(ye===null){for(;be<X.length;be++)ye=ie(V,X[be],te),ye!==null&&(G=y(ye,G,be),Te===null?ce=ye:Te.sibling=ye,Te=ye);return Ue&&hs(V,be),ce}for(ye=c(ye);be<X.length;be++)bt=Z(ye,V,be,X[be],te),bt!==null&&(i&&bt.alternate!==null&&ye.delete(bt.key===null?be:bt.key),G=y(bt,G,be),Te===null?ce=bt:Te.sibling=bt,Te=bt);return i&&ye.forEach(function(Yi){return r(V,Yi)}),Ue&&hs(V,be),ce}function we(V,G,X,te){if(X==null)throw Error(s(151));for(var ce=null,Te=null,ye=G,be=G=0,bt=null,je=X.next();ye!==null&&!je.done;be++,je=X.next()){ye.index>be?(bt=ye,ye=null):bt=ye.sibling;var Yi=Q(V,ye,je.value,te);if(Yi===null){ye===null&&(ye=bt);break}i&&ye&&Yi.alternate===null&&r(V,ye),G=y(Yi,G,be),Te===null?ce=Yi:Te.sibling=Yi,Te=Yi,ye=bt}if(je.done)return o(V,ye),Ue&&hs(V,be),ce;if(ye===null){for(;!je.done;be++,je=X.next())je=ie(V,je.value,te),je!==null&&(G=y(je,G,be),Te===null?ce=je:Te.sibling=je,Te=je);return Ue&&hs(V,be),ce}for(ye=c(ye);!je.done;be++,je=X.next())je=Z(ye,V,be,je.value,te),je!==null&&(i&&je.alternate!==null&&ye.delete(je.key===null?be:je.key),G=y(je,G,be),Te===null?ce=je:Te.sibling=je,Te=je);return i&&ye.forEach(function(PE){return r(V,PE)}),Ue&&hs(V,be),ce}function Ze(V,G,X,te){if(typeof X=="object"&&X!==null&&X.type===f&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case u:e:{for(var ce=X.key;G!==null;){if(G.key===ce){if(ce=X.type,ce===f){if(G.tag===7){o(V,G.sibling),te=d(G,X.props.children),te.return=V,V=te;break e}}else if(G.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===k&&Qy(ce)===G.type){o(V,G.sibling),te=d(G,X.props),ka(te,X),te.return=V,V=te;break e}o(V,G);break}else r(V,G);G=G.sibling}X.type===f?(te=xs(X.props.children,V.mode,te,X.key),te.return=V,V=te):(te=Ql(X.type,X.key,X.props,null,V.mode,te),ka(te,X),te.return=V,V=te)}return w(V);case h:e:{for(ce=X.key;G!==null;){if(G.key===ce)if(G.tag===4&&G.stateNode.containerInfo===X.containerInfo&&G.stateNode.implementation===X.implementation){o(V,G.sibling),te=d(G,X.children||[]),te.return=V,V=te;break e}else{o(V,G);break}else r(V,G);G=G.sibling}te=sf(X,V.mode,te),te.return=V,V=te}return w(V);case k:return ce=X._init,X=ce(X._payload),Ze(V,G,X,te)}if(Y(X))return de(V,G,X,te);if(B(X)){if(ce=B(X),typeof ce!="function")throw Error(s(150));return X=ce.call(X),we(V,G,X,te)}if(typeof X.then=="function")return Ze(V,G,Rl(X),te);if(X.$$typeof===v)return Ze(V,G,Vl(V,X),te);Ol(V,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,G!==null&&G.tag===6?(o(V,G.sibling),te=d(G,X),te.return=V,V=te):(o(V,G),te=nf(X,V.mode,te),te.return=V,V=te),w(V)):o(V,G)}return function(V,G,X,te){try{Ca=0;var ce=Ze(V,G,X,te);return fr=null,ce}catch(ye){if(ye===Ta)throw ye;var Te=bn(29,ye,null,V.mode);return Te.lanes=te,Te.return=V,Te}finally{}}}var ds=Wy(!0),Ky=Wy(!1),dr=ue(null),Pl=ue(0);function Zy(i,r){i=hi,fe(Pl,i),fe(dr,r),hi=i|r.baseLanes}function uh(){fe(Pl,hi),fe(dr,dr.current)}function ch(){hi=Pl.current,me(dr),me(Pl)}var gn=ue(null),Ln=null;function ki(i){var r=i.alternate;fe(ht,ht.current&1),fe(gn,i),Ln===null&&(r===null||dr.current!==null||r.memoizedState!==null)&&(Ln=i)}function Jy(i){if(i.tag===22){if(fe(ht,ht.current),fe(gn,i),Ln===null){var r=i.alternate;r!==null&&r.memoizedState!==null&&(Ln=i)}}else Ri()}function Ri(){fe(ht,ht.current),fe(gn,gn.current)}function ti(i){me(gn),Ln===i&&(Ln=null),me(ht)}var ht=ue(0);function Dl(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var vA=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},_A=n.unstable_scheduleCallback,wA=n.unstable_NormalPriority,ft={$$typeof:v,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hh(){return{controller:new vA,data:new Map,refCount:0}}function Ra(i){i.refCount--,i.refCount===0&&_A(wA,function(){i.controller.abort()})}var Oa=null,fh=0,pr=0,gr=null;function xA(i,r){if(Oa===null){var o=Oa=[];fh=0,pr=vf(),gr={status:"pending",value:void 0,then:function(c){o.push(c)}}}return fh++,r.then(em,em),r}function em(){if(--fh===0&&Oa!==null){gr!==null&&(gr.status="fulfilled");var i=Oa;Oa=null,pr=0,gr=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function SA(i,r){var o=[],c={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return i.then(function(){c.status="fulfilled",c.value=r;for(var d=0;d<o.length;d++)(0,o[d])(r)},function(d){for(c.status="rejected",c.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),c}var tm=j.S;j.S=function(i,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&xA(i,r),tm!==null&&tm(i,r)};var ps=ue(null);function dh(){var i=ps.current;return i!==null?i:qe.pooledCache}function Bl(i,r){r===null?fe(ps,ps.current):fe(ps,r.pool)}function nm(){var i=dh();return i===null?null:{parent:ft._currentValue,pool:i}}var Oi=0,Ee=null,Le=null,rt=null,zl=!1,yr=!1,gs=!1,Ul=0,Pa=0,mr=null,AA=0;function it(){throw Error(s(321))}function ph(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!Kt(i[o],r[o]))return!1;return!0}function gh(i,r,o,c,d,y){return Oi=y,Ee=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,j.H=i===null||i.memoizedState===null?ys:Pi,gs=!1,y=o(c,d),gs=!1,yr&&(y=sm(r,o,c,d)),im(i),y}function im(i){j.H=In;var r=Le!==null&&Le.next!==null;if(Oi=0,rt=Le=Ee=null,zl=!1,Pa=0,mr=null,r)throw Error(s(300));i===null||yt||(i=i.dependencies,i!==null&&Fl(i)&&(yt=!0))}function sm(i,r,o,c){Ee=i;var d=0;do{if(yr&&(mr=null),Pa=0,yr=!1,25<=d)throw Error(s(301));if(d+=1,rt=Le=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}j.H=ms,y=r(o,c)}while(yr);return y}function EA(){var i=j.H,r=i.useState()[0];return r=typeof r.then=="function"?Da(r):r,i=i.useState()[0],(Le!==null?Le.memoizedState:null)!==i&&(Ee.flags|=1024),r}function yh(){var i=Ul!==0;return Ul=0,i}function mh(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function bh(i){if(zl){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}zl=!1}Oi=0,rt=Le=Ee=null,yr=!1,Pa=Ul=0,mr=null}function $t(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?Ee.memoizedState=rt=i:rt=rt.next=i,rt}function at(){if(Le===null){var i=Ee.alternate;i=i!==null?i.memoizedState:null}else i=Le.next;var r=rt===null?Ee.memoizedState:rt.next;if(r!==null)rt=r,Le=i;else{if(i===null)throw Ee.alternate===null?Error(s(467)):Error(s(310));Le=i,i={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},rt===null?Ee.memoizedState=rt=i:rt=rt.next=i}return rt}var jl;jl=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Da(i){var r=Pa;return Pa+=1,mr===null&&(mr=[]),i=Yy(mr,i,r),r=Ee,(rt===null?r.memoizedState:rt.next)===null&&(r=r.alternate,j.H=r===null||r.memoizedState===null?ys:Pi),i}function Ll(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Da(i);if(i.$$typeof===v)return Ot(i)}throw Error(s(438,String(i)))}function vh(i){var r=null,o=Ee.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var c=Ee.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=jl(),Ee.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),c=0;c<i;c++)o[c]=M;return r.index++,o}function ni(i,r){return typeof r=="function"?r(i):r}function Il(i){var r=at();return _h(r,Le,i)}function _h(i,r,o){var c=i.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=o;var d=i.baseQueue,y=c.pending;if(y!==null){if(d!==null){var w=d.next;d.next=y.next,y.next=w}r.baseQueue=d=y,c.pending=null}if(y=i.baseState,d===null)i.memoizedState=y;else{r=d.next;var R=w=null,L=null,H=r,J=!1;do{var ie=H.lane&-536870913;if(ie!==H.lane?(Be&ie)===ie:(Oi&ie)===ie){var Q=H.revertLane;if(Q===0)L!==null&&(L=L.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),ie===pr&&(J=!0);else if((Oi&Q)===Q){H=H.next,Q===pr&&(J=!0);continue}else ie={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},L===null?(R=L=ie,w=y):L=L.next=ie,Ee.lanes|=Q,qi|=Q;ie=H.action,gs&&o(y,ie),y=H.hasEagerState?H.eagerState:o(y,ie)}else Q={lane:ie,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},L===null?(R=L=Q,w=y):L=L.next=Q,Ee.lanes|=ie,qi|=ie;H=H.next}while(H!==null&&H!==r);if(L===null?w=y:L.next=R,!Kt(y,i.memoizedState)&&(yt=!0,J&&(o=gr,o!==null)))throw o;i.memoizedState=y,i.baseState=w,i.baseQueue=L,c.lastRenderedState=y}return d===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function wh(i){var r=at(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var c=o.dispatch,d=o.pending,y=r.memoizedState;if(d!==null){o.pending=null;var w=d=d.next;do y=i(y,w.action),w=w.next;while(w!==d);Kt(y,r.memoizedState)||(yt=!0),r.memoizedState=y,r.baseQueue===null&&(r.baseState=y),o.lastRenderedState=y}return[y,c]}function rm(i,r,o){var c=Ee,d=at(),y=Ue;if(y){if(o===void 0)throw Error(s(407));o=o()}else o=r();var w=!Kt((Le||d).memoizedState,o);if(w&&(d.memoizedState=o,yt=!0),d=d.queue,Ah(lm.bind(null,c,d,i),[i]),d.getSnapshot!==r||w||rt!==null&&rt.memoizedState.tag&1){if(c.flags|=2048,br(9,om.bind(null,c,d,o,r),{destroy:void 0},null),qe===null)throw Error(s(349));y||(Oi&60)!==0||am(c,r,o)}return o}function am(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Ee.updateQueue,r===null?(r=jl(),Ee.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function om(i,r,o,c){r.value=o,r.getSnapshot=c,um(r)&&cm(i)}function lm(i,r,o){return o(function(){um(r)&&cm(i)})}function um(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!Kt(i,o)}catch{return!0}}function cm(i){var r=Ci(i,2);r!==null&&It(r,i,2)}function xh(i){var r=$t();if(typeof i=="function"){var o=i;if(i=o(),gs){Ei(!0);try{o()}finally{Ei(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:i},r}function hm(i,r,o,c){return i.baseState=o,_h(i,Le,typeof c=="function"?c:ni)}function TA(i,r,o,c,d){if(Gl(i))throw Error(s(485));if(i=r.action,i!==null){var y={payload:d,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){y.listeners.push(w)}};j.T!==null?o(!0):y.isTransition=!1,c(y),o=r.pending,o===null?(y.next=r.pending=y,fm(r,y)):(y.next=o.next,r.pending=o.next=y)}}function fm(i,r){var o=r.action,c=r.payload,d=i.state;if(r.isTransition){var y=j.T,w={};j.T=w;try{var R=o(d,c),L=j.S;L!==null&&L(w,R),dm(i,r,R)}catch(H){Sh(i,r,H)}finally{j.T=y}}else try{y=o(d,c),dm(i,r,y)}catch(H){Sh(i,r,H)}}function dm(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){pm(i,r,c)},function(c){return Sh(i,r,c)}):pm(i,r,o)}function pm(i,r,o){r.status="fulfilled",r.value=o,gm(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,fm(i,o)))}function Sh(i,r,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=o,gm(r),r=r.next;while(r!==c)}i.action=null}function gm(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function ym(i,r){return r}function mm(i,r){if(Ue){var o=qe.formState;if(o!==null){e:{var c=Ee;if(Ue){if(St){t:{for(var d=St,y=jn;d.nodeType!==8;){if(!y){d=null;break t}if(d=Mn(d.nextSibling),d===null){d=null;break t}}y=d.data,d=y==="F!"||y==="F"?d:null}if(d){St=Mn(d.nextSibling),c=d.data==="F!";break e}}fs(c)}c=!1}c&&(r=o[0])}}return o=$t(),o.memoizedState=o.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ym,lastRenderedState:r},o.queue=c,o=zm.bind(null,Ee,c),c.dispatch=o,c=xh(!1),y=kh.bind(null,Ee,!1,c.queue),c=$t(),d={state:r,dispatch:null,action:i,pending:null},c.queue=d,o=TA.bind(null,Ee,d,y,o),d.dispatch=o,c.memoizedState=i,[r,o,!1]}function bm(i){var r=at();return vm(r,Le,i)}function vm(i,r,o){r=_h(i,r,ym)[0],i=Il(ni)[0],r=typeof r=="object"&&r!==null&&typeof r.then=="function"?Da(r):r;var c=at(),d=c.queue,y=d.dispatch;return o!==c.memoizedState&&(Ee.flags|=2048,br(9,MA.bind(null,d,o),{destroy:void 0},null)),[r,y,i]}function MA(i,r){i.action=r}function _m(i){var r=at(),o=Le;if(o!==null)return vm(r,o,i);at(),r=r.memoizedState,o=at();var c=o.queue.dispatch;return o.memoizedState=i,[r,c,!1]}function br(i,r,o,c){return i={tag:i,create:r,inst:o,deps:c,next:null},r=Ee.updateQueue,r===null&&(r=jl(),Ee.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,r.lastEffect=i),i}function wm(){return at().memoizedState}function Nl(i,r,o,c){var d=$t();Ee.flags|=i,d.memoizedState=br(1|r,o,{destroy:void 0},c===void 0?null:c)}function ql(i,r,o,c){var d=at();c=c===void 0?null:c;var y=d.memoizedState.inst;Le!==null&&c!==null&&ph(c,Le.memoizedState.deps)?d.memoizedState=br(r,o,y,c):(Ee.flags|=i,d.memoizedState=br(1|r,o,y,c))}function xm(i,r){Nl(8390656,8,i,r)}function Ah(i,r){ql(2048,8,i,r)}function Sm(i,r){return ql(4,2,i,r)}function Am(i,r){return ql(4,4,i,r)}function Em(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function Tm(i,r,o){o=o!=null?o.concat([i]):null,ql(4,4,Em.bind(null,r,i),o)}function Eh(){}function Mm(i,r){var o=at();r=r===void 0?null:r;var c=o.memoizedState;return r!==null&&ph(r,c[1])?c[0]:(o.memoizedState=[i,r],i)}function Cm(i,r){var o=at();r=r===void 0?null:r;var c=o.memoizedState;if(r!==null&&ph(r,c[1]))return c[0];if(c=i(),gs){Ei(!0);try{i()}finally{Ei(!1)}}return o.memoizedState=[c,r],c}function Th(i,r,o){return o===void 0||(Oi&1073741824)!==0?i.memoizedState=r:(i.memoizedState=o,i=R0(),Ee.lanes|=i,qi|=i,o)}function km(i,r,o,c){return Kt(o,r)?o:dr.current!==null?(i=Th(i,o,c),Kt(i,r)||(yt=!0),i):(Oi&42)===0?(yt=!0,i.memoizedState=o):(i=R0(),Ee.lanes|=i,qi|=i,r)}function Rm(i,r,o,c,d){var y=W.p;W.p=y!==0&&8>y?y:8;var w=j.T,R={};j.T=R,kh(i,!1,r,o);try{var L=d(),H=j.S;if(H!==null&&H(R,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var J=SA(L,c);Ba(i,r,J,tn(i))}else Ba(i,r,c,tn(i))}catch(ie){Ba(i,r,{then:function(){},status:"rejected",reason:ie},tn())}finally{W.p=y,j.T=w}}function CA(){}function Mh(i,r,o,c){if(i.tag!==5)throw Error(s(476));var d=Om(i).queue;Rm(i,d,r,ee,o===null?CA:function(){return Pm(i),o(c)})}function Om(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:ee},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function Pm(i){var r=Om(i).next.queue;Ba(i,r,{},tn())}function Ch(){return Ot(eo)}function Dm(){return at().memoizedState}function Bm(){return at().memoizedState}function kA(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=tn();i=zi(o);var c=Ui(r,i,o);c!==null&&(It(c,r,o),ja(c,r,o)),r={cache:hh()},i.payload=r;return}r=r.return}}function RA(i,r,o){var c=tn();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Gl(i)?Um(r,o):(o=sh(i,r,o,c),o!==null&&(It(o,i,c),jm(o,r,c)))}function zm(i,r,o){var c=tn();Ba(i,r,o,c)}function Ba(i,r,o,c){var d={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Gl(i))Um(r,d);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=r.lastRenderedReducer,y!==null))try{var w=r.lastRenderedState,R=y(w,o);if(d.hasEagerState=!0,d.eagerState=R,Kt(R,w))return El(i,r,d,0),qe===null&&Al(),!1}catch{}finally{}if(o=sh(i,r,d,c),o!==null)return It(o,i,c),jm(o,r,c),!0}return!1}function kh(i,r,o,c){if(c={lane:2,revertLane:vf(),action:c,hasEagerState:!1,eagerState:null,next:null},Gl(i)){if(r)throw Error(s(479))}else r=sh(i,o,c,2),r!==null&&It(r,i,2)}function Gl(i){var r=i.alternate;return i===Ee||r!==null&&r===Ee}function Um(i,r){yr=zl=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function jm(i,r,o){if((o&4194176)!==0){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,Xg(i,o)}}var In={readContext:Ot,use:Ll,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useLayoutEffect:it,useInsertionEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useSyncExternalStore:it,useId:it};In.useCacheRefresh=it,In.useMemoCache=it,In.useHostTransitionStatus=it,In.useFormState=it,In.useActionState=it,In.useOptimistic=it;var ys={readContext:Ot,use:Ll,useCallback:function(i,r){return $t().memoizedState=[i,r===void 0?null:r],i},useContext:Ot,useEffect:xm,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,Nl(4194308,4,Em.bind(null,r,i),o)},useLayoutEffect:function(i,r){return Nl(4194308,4,i,r)},useInsertionEffect:function(i,r){Nl(4,2,i,r)},useMemo:function(i,r){var o=$t();r=r===void 0?null:r;var c=i();if(gs){Ei(!0);try{i()}finally{Ei(!1)}}return o.memoizedState=[c,r],c},useReducer:function(i,r,o){var c=$t();if(o!==void 0){var d=o(r);if(gs){Ei(!0);try{o(r)}finally{Ei(!1)}}}else d=r;return c.memoizedState=c.baseState=d,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:d},c.queue=i,i=i.dispatch=RA.bind(null,Ee,i),[c.memoizedState,i]},useRef:function(i){var r=$t();return i={current:i},r.memoizedState=i},useState:function(i){i=xh(i);var r=i.queue,o=zm.bind(null,Ee,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:Eh,useDeferredValue:function(i,r){var o=$t();return Th(o,i,r)},useTransition:function(){var i=xh(!1);return i=Rm.bind(null,Ee,i.queue,!0,!1),$t().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var c=Ee,d=$t();if(Ue){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),qe===null)throw Error(s(349));(Be&60)!==0||am(c,r,o)}d.memoizedState=o;var y={value:o,getSnapshot:r};return d.queue=y,xm(lm.bind(null,c,y,i),[i]),c.flags|=2048,br(9,om.bind(null,c,y,o,r),{destroy:void 0},null),o},useId:function(){var i=$t(),r=qe.identifierPrefix;if(Ue){var o=ei,c=Jn;o=(c&~(1<<32-Wt(c)-1)).toString(32)+o,r=":"+r+"R"+o,o=Ul++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=AA++,r=":"+r+"r"+o.toString(32)+":";return i.memoizedState=r},useCacheRefresh:function(){return $t().memoizedState=kA.bind(null,Ee)}};ys.useMemoCache=vh,ys.useHostTransitionStatus=Ch,ys.useFormState=mm,ys.useActionState=mm,ys.useOptimistic=function(i){var r=$t();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=kh.bind(null,Ee,!0,o),o.dispatch=r,[i,r]};var Pi={readContext:Ot,use:Ll,useCallback:Mm,useContext:Ot,useEffect:Ah,useImperativeHandle:Tm,useInsertionEffect:Sm,useLayoutEffect:Am,useMemo:Cm,useReducer:Il,useRef:wm,useState:function(){return Il(ni)},useDebugValue:Eh,useDeferredValue:function(i,r){var o=at();return km(o,Le.memoizedState,i,r)},useTransition:function(){var i=Il(ni)[0],r=at().memoizedState;return[typeof i=="boolean"?i:Da(i),r]},useSyncExternalStore:rm,useId:Dm};Pi.useCacheRefresh=Bm,Pi.useMemoCache=vh,Pi.useHostTransitionStatus=Ch,Pi.useFormState=bm,Pi.useActionState=bm,Pi.useOptimistic=function(i,r){var o=at();return hm(o,Le,i,r)};var ms={readContext:Ot,use:Ll,useCallback:Mm,useContext:Ot,useEffect:Ah,useImperativeHandle:Tm,useInsertionEffect:Sm,useLayoutEffect:Am,useMemo:Cm,useReducer:wh,useRef:wm,useState:function(){return wh(ni)},useDebugValue:Eh,useDeferredValue:function(i,r){var o=at();return Le===null?Th(o,i,r):km(o,Le.memoizedState,i,r)},useTransition:function(){var i=wh(ni)[0],r=at().memoizedState;return[typeof i=="boolean"?i:Da(i),r]},useSyncExternalStore:rm,useId:Dm};ms.useCacheRefresh=Bm,ms.useMemoCache=vh,ms.useHostTransitionStatus=Ch,ms.useFormState=_m,ms.useActionState=_m,ms.useOptimistic=function(i,r){var o=at();return Le!==null?hm(o,Le,i,r):(o.baseState=i,[i,o.queue.dispatch])};function Rh(i,r,o,c){r=i.memoizedState,o=o(c,r),o=o==null?r:I({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Oh={isMounted:function(i){return(i=i._reactInternals)?z(i)===i:!1},enqueueSetState:function(i,r,o){i=i._reactInternals;var c=tn(),d=zi(c);d.payload=r,o!=null&&(d.callback=o),r=Ui(i,d,c),r!==null&&(It(r,i,c),ja(r,i,c))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var c=tn(),d=zi(c);d.tag=1,d.payload=r,o!=null&&(d.callback=o),r=Ui(i,d,c),r!==null&&(It(r,i,c),ja(r,i,c))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=tn(),c=zi(o);c.tag=2,r!=null&&(c.callback=r),r=Ui(i,c,o),r!==null&&(It(r,i,o),ja(r,i,o))}};function Lm(i,r,o,c,d,y,w){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,y,w):r.prototype&&r.prototype.isPureReactComponent?!wa(o,c)||!wa(d,y):!0}function Im(i,r,o,c){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==i&&Oh.enqueueReplaceState(r,r.state,null)}function bs(i,r){var o=r;if("ref"in r){o={};for(var c in r)c!=="ref"&&(o[c]=r[c])}if(i=i.defaultProps){o===r&&(o=I({},o));for(var d in i)o[d]===void 0&&(o[d]=i[d])}return o}var Hl=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function Nm(i){Hl(i)}function qm(i){console.error(i)}function Gm(i){Hl(i)}function $l(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function Hm(i,r,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Ph(i,r,o){return o=zi(o),o.tag=3,o.payload={element:null},o.callback=function(){$l(i,r)},o}function $m(i){return i=zi(i),i.tag=3,i}function Fm(i,r,o,c){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var y=c.value;i.payload=function(){return d(y)},i.callback=function(){Hm(r,o,c)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(i.callback=function(){Hm(r,o,c),typeof d!="function"&&(Gi===null?Gi=new Set([this]):Gi.add(this));var R=c.stack;this.componentDidCatch(c.value,{componentStack:R!==null?R:""})})}function OA(i,r,o,c,d){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=o.alternate,r!==null&&Ua(r,o,d,!0),o=gn.current,o!==null){switch(o.tag){case 13:return Ln===null?pf():o.alternate===null&&Ke===0&&(Ke=3),o.flags&=-257,o.flags|=65536,o.lanes=d,c===lh?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([c]):r.add(c),yf(i,c,d)),!1;case 22:return o.flags|=65536,c===lh?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([c]):o.add(c)),yf(i,c,d)),!1}throw Error(s(435,o.tag))}return yf(i,c,d),pf(),!1}if(Ue)return r=gn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,c!==oh&&(i=Error(s(422),{cause:c}),Ea(fn(i,o)))):(c!==oh&&(r=Error(s(423),{cause:c}),Ea(fn(r,o))),i=i.current.alternate,i.flags|=65536,d&=-d,i.lanes|=d,c=fn(c,o),d=Ph(i.stateNode,c,d),Yh(i,d),Ke!==4&&(Ke=2)),!1;var y=Error(s(520),{cause:c});if(y=fn(y,o),Fa===null?Fa=[y]:Fa.push(y),Ke!==4&&(Ke=2),r===null)return!0;c=fn(c,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=d&-d,o.lanes|=i,i=Ph(o.stateNode,c,i),Yh(o,i),!1;case 1:if(r=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Gi===null||!Gi.has(y))))return o.flags|=65536,d&=-d,o.lanes|=d,d=$m(d),Fm(d,i,o,c),Yh(o,d),!1}o=o.return}while(o!==null);return!1}var Vm=Error(s(461)),yt=!1;function At(i,r,o,c){r.child=i===null?Ky(r,null,o,c):ds(r,i.child,o,c)}function Ym(i,r,o,c,d){o=o.render;var y=r.ref;if("ref"in c){var w={};for(var R in c)R!=="ref"&&(w[R]=c[R])}else w=c;return _s(r),c=gh(i,r,o,w,y,d),R=yh(),i!==null&&!yt?(mh(i,r,d),ii(i,r,d)):(Ue&&R&&rh(r),r.flags|=1,At(i,r,c,d),r.child)}function Xm(i,r,o,c,d){if(i===null){var y=o.type;return typeof y=="function"&&!tf(y)&&y.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=y,Qm(i,r,y,c,d)):(i=Ql(o.type,null,c,r,r.mode,d),i.ref=r.ref,i.return=r,r.child=i)}if(y=i.child,!qh(i,d)){var w=y.memoizedProps;if(o=o.compare,o=o!==null?o:wa,o(w,c)&&i.ref===r.ref)return ii(i,r,d)}return r.flags|=1,i=Ni(y,c),i.ref=r.ref,i.return=r,r.child=i}function Qm(i,r,o,c,d){if(i!==null){var y=i.memoizedProps;if(wa(y,c)&&i.ref===r.ref)if(yt=!1,r.pendingProps=c=y,qh(i,d))(i.flags&131072)!==0&&(yt=!0);else return r.lanes=i.lanes,ii(i,r,d)}return Dh(i,r,o,c,d)}function Wm(i,r,o){var c=r.pendingProps,d=c.children,y=(r.stateNode._pendingVisibility&2)!==0,w=i!==null?i.memoizedState:null;if(za(i,r),c.mode==="hidden"||y){if((r.flags&128)!==0){if(c=w!==null?w.baseLanes|o:o,i!==null){for(d=r.child=i.child,y=0;d!==null;)y=y|d.lanes|d.childLanes,d=d.sibling;r.childLanes=y&~c}else r.childLanes=0,r.child=null;return Km(i,r,c,o)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Bl(r,w!==null?w.cachePool:null),w!==null?Zy(r,w):uh(),Jy(r);else return r.lanes=r.childLanes=536870912,Km(i,r,w!==null?w.baseLanes|o:o,o)}else w!==null?(Bl(r,w.cachePool),Zy(r,w),Ri(),r.memoizedState=null):(i!==null&&Bl(r,null),uh(),Ri());return At(i,r,d,o),r.child}function Km(i,r,o,c){var d=dh();return d=d===null?null:{parent:ft._currentValue,pool:d},r.memoizedState={baseLanes:o,cachePool:d},i!==null&&Bl(r,null),uh(),Jy(r),i!==null&&Ua(i,r,c,!0),null}function za(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=2097664);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=2097664)}}function Dh(i,r,o,c,d){return _s(r),o=gh(i,r,o,c,void 0,d),c=yh(),i!==null&&!yt?(mh(i,r,d),ii(i,r,d)):(Ue&&c&&rh(r),r.flags|=1,At(i,r,o,d),r.child)}function Zm(i,r,o,c,d,y){return _s(r),r.updateQueue=null,o=sm(r,c,o,d),im(i),c=yh(),i!==null&&!yt?(mh(i,r,y),ii(i,r,y)):(Ue&&c&&rh(r),r.flags|=1,At(i,r,o,y),r.child)}function Jm(i,r,o,c,d){if(_s(r),r.stateNode===null){var y=ur,w=o.contextType;typeof w=="object"&&w!==null&&(y=Ot(w)),y=new o(c,y),r.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Oh,r.stateNode=y,y._reactInternals=r,y=r.stateNode,y.props=c,y.state=r.memoizedState,y.refs={},Fh(r),w=o.contextType,y.context=typeof w=="object"&&w!==null?Ot(w):ur,y.state=r.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(Rh(r,o,w,c),y.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(w=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),w!==y.state&&Oh.enqueueReplaceState(y,y.state,null),Ia(r,c,y,d),La(),y.state=r.memoizedState),typeof y.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(i===null){y=r.stateNode;var R=r.memoizedProps,L=bs(o,R);y.props=L;var H=y.context,J=o.contextType;w=ur,typeof J=="object"&&J!==null&&(w=Ot(J));var ie=o.getDerivedStateFromProps;J=typeof ie=="function"||typeof y.getSnapshotBeforeUpdate=="function",R=r.pendingProps!==R,J||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(R||H!==w)&&Im(r,y,c,w),Bi=!1;var Q=r.memoizedState;y.state=Q,Ia(r,c,y,d),La(),H=r.memoizedState,R||Q!==H||Bi?(typeof ie=="function"&&(Rh(r,o,ie,c),H=r.memoizedState),(L=Bi||Lm(r,o,L,c,Q,H,w))?(J||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=H),y.props=c,y.state=H,y.context=w,c=L):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{y=r.stateNode,Vh(i,r),w=r.memoizedProps,J=bs(o,w),y.props=J,ie=r.pendingProps,Q=y.context,H=o.contextType,L=ur,typeof H=="object"&&H!==null&&(L=Ot(H)),R=o.getDerivedStateFromProps,(H=typeof R=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==ie||Q!==L)&&Im(r,y,c,L),Bi=!1,Q=r.memoizedState,y.state=Q,Ia(r,c,y,d),La();var Z=r.memoizedState;w!==ie||Q!==Z||Bi||i!==null&&i.dependencies!==null&&Fl(i.dependencies)?(typeof R=="function"&&(Rh(r,o,R,c),Z=r.memoizedState),(J=Bi||Lm(r,o,J,c,Q,Z,L)||i!==null&&i.dependencies!==null&&Fl(i.dependencies))?(H||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,Z,L),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,Z,L)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||w===i.memoizedProps&&Q===i.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&Q===i.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=Z),y.props=c,y.state=Z,y.context=L,c=J):(typeof y.componentDidUpdate!="function"||w===i.memoizedProps&&Q===i.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&Q===i.memoizedState||(r.flags|=1024),c=!1)}return y=c,za(i,r),c=(r.flags&128)!==0,y||c?(y=r.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:y.render(),r.flags|=1,i!==null&&c?(r.child=ds(r,i.child,null,d),r.child=ds(r,null,o,d)):At(i,r,o,d),r.memoizedState=y.state,i=r.child):i=ii(i,r,d),i}function e0(i,r,o,c){return Aa(),r.flags|=256,At(i,r,o,c),r.child}var Bh={dehydrated:null,treeContext:null,retryLane:0};function zh(i){return{baseLanes:i,cachePool:nm()}}function Uh(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=vn),i}function t0(i,r,o){var c=r.pendingProps,d=!1,y=(r.flags&128)!==0,w;if((w=y)||(w=i!==null&&i.memoizedState===null?!1:(ht.current&2)!==0),w&&(d=!0,r.flags&=-129),w=(r.flags&32)!==0,r.flags&=-33,i===null){if(Ue){if(d?ki(r):Ri(),Ue){var R=St,L;if(L=R){e:{for(L=R,R=jn;L.nodeType!==8;){if(!R){R=null;break e}if(L=Mn(L.nextSibling),L===null){R=null;break e}}R=L}R!==null?(r.memoizedState={dehydrated:R,treeContext:cs!==null?{id:Jn,overflow:ei}:null,retryLane:536870912},L=bn(18,null,null,0),L.stateNode=R,L.return=r,r.child=L,Lt=r,St=null,L=!0):L=!1}L||fs(r)}if(R=r.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return R.data==="$!"?r.lanes=16:r.lanes=536870912,null;ti(r)}return R=c.children,c=c.fallback,d?(Ri(),d=r.mode,R=Lh({mode:"hidden",children:R},d),c=xs(c,d,o,null),R.return=r,c.return=r,R.sibling=c,r.child=R,d=r.child,d.memoizedState=zh(o),d.childLanes=Uh(i,w,o),r.memoizedState=Bh,c):(ki(r),jh(r,R))}if(L=i.memoizedState,L!==null&&(R=L.dehydrated,R!==null)){if(y)r.flags&256?(ki(r),r.flags&=-257,r=Ih(i,r,o)):r.memoizedState!==null?(Ri(),r.child=i.child,r.flags|=128,r=null):(Ri(),d=c.fallback,R=r.mode,c=Lh({mode:"visible",children:c.children},R),d=xs(d,R,o,null),d.flags|=2,c.return=r,d.return=r,c.sibling=d,r.child=c,ds(r,i.child,null,o),c=r.child,c.memoizedState=zh(o),c.childLanes=Uh(i,w,o),r.memoizedState=Bh,r=d);else if(ki(r),R.data==="$!"){if(w=R.nextSibling&&R.nextSibling.dataset,w)var H=w.dgst;w=H,c=Error(s(419)),c.stack="",c.digest=w,Ea({value:c,source:null,stack:null}),r=Ih(i,r,o)}else if(yt||Ua(i,r,o,!1),w=(o&i.childLanes)!==0,yt||w){if(w=qe,w!==null){if(c=o&-o,(c&42)!==0)c=1;else switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=64;break;case 268435456:c=134217728;break;default:c=0}if(c=(c&(w.suspendedLanes|o))!==0?0:c,c!==0&&c!==L.retryLane)throw L.retryLane=c,Ci(i,c),It(w,i,c),Vm}R.data==="$?"||pf(),r=Ih(i,r,o)}else R.data==="$?"?(r.flags|=128,r.child=i.child,r=VA.bind(null,i),R._reactRetry=r,r=null):(i=L.treeContext,St=Mn(R.nextSibling),Lt=r,Ue=!0,En=null,jn=!1,i!==null&&(dn[pn++]=Jn,dn[pn++]=ei,dn[pn++]=cs,Jn=i.id,ei=i.overflow,cs=r),r=jh(r,c.children),r.flags|=4096);return r}return d?(Ri(),d=c.fallback,R=r.mode,L=i.child,H=L.sibling,c=Ni(L,{mode:"hidden",children:c.children}),c.subtreeFlags=L.subtreeFlags&31457280,H!==null?d=Ni(H,d):(d=xs(d,R,o,null),d.flags|=2),d.return=r,c.return=r,c.sibling=d,r.child=c,c=d,d=r.child,R=i.child.memoizedState,R===null?R=zh(o):(L=R.cachePool,L!==null?(H=ft._currentValue,L=L.parent!==H?{parent:H,pool:H}:L):L=nm(),R={baseLanes:R.baseLanes|o,cachePool:L}),d.memoizedState=R,d.childLanes=Uh(i,w,o),r.memoizedState=Bh,c):(ki(r),o=i.child,i=o.sibling,o=Ni(o,{mode:"visible",children:c.children}),o.return=r,o.sibling=null,i!==null&&(w=r.deletions,w===null?(r.deletions=[i],r.flags|=16):w.push(i)),r.child=o,r.memoizedState=null,o)}function jh(i,r){return r=Lh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Lh(i,r){return M0(i,r,0,null)}function Ih(i,r,o){return ds(r,i.child,null,o),i=jh(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function n0(i,r,o){i.lanes|=r;var c=i.alternate;c!==null&&(c.lanes|=r),Hh(i.return,r,o)}function Nh(i,r,o,c,d){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:d}:(y.isBackwards=r,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=o,y.tailMode=d)}function i0(i,r,o){var c=r.pendingProps,d=c.revealOrder,y=c.tail;if(At(i,r,c.children,o),c=ht.current,(c&2)!==0)c=c&1|2,r.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&n0(i,o,r);else if(i.tag===19)n0(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}c&=1}switch(fe(ht,c),d){case"forwards":for(o=r.child,d=null;o!==null;)i=o.alternate,i!==null&&Dl(i)===null&&(d=o),o=o.sibling;o=d,o===null?(d=r.child,r.child=null):(d=o.sibling,o.sibling=null),Nh(r,!1,d,o,y);break;case"backwards":for(o=null,d=r.child,r.child=null;d!==null;){if(i=d.alternate,i!==null&&Dl(i)===null){r.child=d;break}i=d.sibling,d.sibling=o,o=d,d=i}Nh(r,!0,o,null,y);break;case"together":Nh(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ii(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),qi|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(Ua(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=Ni(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=Ni(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function qh(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Fl(i)))}function PA(i,r,o){switch(r.tag){case 3:_e(r,r.stateNode.containerInfo),Di(r,ft,i.memoizedState.cache),Aa();break;case 27:case 5:Qs(r);break;case 4:_e(r,r.stateNode.containerInfo);break;case 10:Di(r,r.type,r.memoizedProps.value);break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(ki(r),r.flags|=128,null):(o&r.child.childLanes)!==0?t0(i,r,o):(ki(r),i=ii(i,r,o),i!==null?i.sibling:null);ki(r);break;case 19:var d=(i.flags&128)!==0;if(c=(o&r.childLanes)!==0,c||(Ua(i,r,o,!1),c=(o&r.childLanes)!==0),d){if(c)return i0(i,r,o);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),fe(ht,ht.current),c)break;return null;case 22:case 23:return r.lanes=0,Wm(i,r,o);case 24:Di(r,ft,i.memoizedState.cache)}return ii(i,r,o)}function s0(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)yt=!0;else{if(!qh(i,o)&&(r.flags&128)===0)return yt=!1,PA(i,r,o);yt=(i.flags&131072)!==0}else yt=!1,Ue&&(r.flags&1048576)!==0&&Gy(r,Cl,r.index);switch(r.lanes=0,r.tag){case 16:e:{i=r.pendingProps;var c=r.elementType,d=c._init;if(c=d(c._payload),r.type=c,typeof c=="function")tf(c)?(i=bs(c,i),r.tag=1,r=Jm(null,r,c,i,o)):(r.tag=0,r=Dh(null,r,c,i,o));else{if(c!=null){if(d=c.$$typeof,d===x){r.tag=11,r=Ym(null,r,c,i,o);break e}else if(d===E){r.tag=14,r=Xm(null,r,c,i,o);break e}}throw r=U(c)||c,Error(s(306,r,""))}}return r;case 0:return Dh(i,r,r.type,r.pendingProps,o);case 1:return c=r.type,d=bs(c,r.pendingProps),Jm(i,r,c,d,o);case 3:e:{if(_e(r,r.stateNode.containerInfo),i===null)throw Error(s(387));var y=r.pendingProps;d=r.memoizedState,c=d.element,Vh(i,r),Ia(r,y,null,o);var w=r.memoizedState;if(y=w.cache,Di(r,ft,y),y!==d.cache&&$h(r,[ft],o,!0),La(),y=w.element,d.isDehydrated)if(d={element:y,isDehydrated:!1,cache:w.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=e0(i,r,y,o);break e}else if(y!==c){c=fn(Error(s(424)),r),Ea(c),r=e0(i,r,y,o);break e}else for(St=Mn(r.stateNode.containerInfo.firstChild),Lt=r,Ue=!0,En=null,jn=!0,o=Ky(r,null,y,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Aa(),y===c){r=ii(i,r,o);break e}At(i,r,y,o)}r=r.child}return r;case 26:return za(i,r),i===null?(o=ob(r.type,null,r.pendingProps,null))?r.memoizedState=o:Ue||(o=r.type,i=r.pendingProps,c=ou(nt.current).createElement(o),c[Rt]=r,c[Gt]=i,Et(c,o,i),gt(c),r.stateNode=c):r.memoizedState=ob(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Qs(r),i===null&&Ue&&(c=r.stateNode=sb(r.type,r.pendingProps,nt.current),Lt=r,jn=!0,St=Mn(c.firstChild)),c=r.pendingProps.children,i!==null||Ue?At(i,r,c,o):r.child=ds(r,null,c,o),za(i,r),r.child;case 5:return i===null&&Ue&&((d=c=St)&&(c=lE(c,r.type,r.pendingProps,jn),c!==null?(r.stateNode=c,Lt=r,St=Mn(c.firstChild),jn=!1,d=!0):d=!1),d||fs(r)),Qs(r),d=r.type,y=r.pendingProps,w=i!==null?i.memoizedProps:null,c=y.children,Cf(d,y)?c=null:w!==null&&Cf(d,w)&&(r.flags|=32),r.memoizedState!==null&&(d=gh(i,r,EA,null,null,o),eo._currentValue=d),za(i,r),At(i,r,c,o),r.child;case 6:return i===null&&Ue&&((i=o=St)&&(o=uE(o,r.pendingProps,jn),o!==null?(r.stateNode=o,Lt=r,St=null,i=!0):i=!1),i||fs(r)),null;case 13:return t0(i,r,o);case 4:return _e(r,r.stateNode.containerInfo),c=r.pendingProps,i===null?r.child=ds(r,null,c,o):At(i,r,c,o),r.child;case 11:return Ym(i,r,r.type,r.pendingProps,o);case 7:return At(i,r,r.pendingProps,o),r.child;case 8:return At(i,r,r.pendingProps.children,o),r.child;case 12:return At(i,r,r.pendingProps.children,o),r.child;case 10:return c=r.pendingProps,Di(r,r.type,c.value),At(i,r,c.children,o),r.child;case 9:return d=r.type._context,c=r.pendingProps.children,_s(r),d=Ot(d),c=c(d),r.flags|=1,At(i,r,c,o),r.child;case 14:return Xm(i,r,r.type,r.pendingProps,o);case 15:return Qm(i,r,r.type,r.pendingProps,o);case 19:return i0(i,r,o);case 22:return Wm(i,r,o);case 24:return _s(r),c=Ot(ft),i===null?(d=dh(),d===null&&(d=qe,y=hh(),d.pooledCache=y,y.refCount++,y!==null&&(d.pooledCacheLanes|=o),d=y),r.memoizedState={parent:c,cache:d},Fh(r),Di(r,ft,d)):((i.lanes&o)!==0&&(Vh(i,r),Ia(r,null,null,o),La()),d=i.memoizedState,y=r.memoizedState,d.parent!==c?(d={parent:c,cache:c},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),Di(r,ft,c)):(c=y.cache,Di(r,ft,c),c!==d.cache&&$h(r,[ft],o,!0))),At(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}var Gh=ue(null),vs=null,si=null;function Di(i,r,o){fe(Gh,r._currentValue),r._currentValue=o}function ri(i){i._currentValue=Gh.current,me(Gh)}function Hh(i,r,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),i===o)break;i=i.return}}function $h(i,r,o,c){var d=i.child;for(d!==null&&(d.return=i);d!==null;){var y=d.dependencies;if(y!==null){var w=d.child;y=y.firstContext;e:for(;y!==null;){var R=y;y=d;for(var L=0;L<r.length;L++)if(R.context===r[L]){y.lanes|=o,R=y.alternate,R!==null&&(R.lanes|=o),Hh(y.return,o,i),c||(w=null);break e}y=R.next}}else if(d.tag===18){if(w=d.return,w===null)throw Error(s(341));w.lanes|=o,y=w.alternate,y!==null&&(y.lanes|=o),Hh(w,o,i),w=null}else w=d.child;if(w!==null)w.return=d;else for(w=d;w!==null;){if(w===i){w=null;break}if(d=w.sibling,d!==null){d.return=w.return,w=d;break}w=w.return}d=w}}function Ua(i,r,o,c){i=null;for(var d=r,y=!1;d!==null;){if(!y){if((d.flags&524288)!==0)y=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var w=d.alternate;if(w===null)throw Error(s(387));if(w=w.memoizedProps,w!==null){var R=d.type;Kt(d.pendingProps.value,w.value)||(i!==null?i.push(R):i=[R])}}else if(d===pt.current){if(w=d.alternate,w===null)throw Error(s(387));w.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(i!==null?i.push(eo):i=[eo])}d=d.return}i!==null&&$h(r,i,o,c),r.flags|=262144}function Fl(i){for(i=i.firstContext;i!==null;){if(!Kt(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function _s(i){vs=i,si=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Ot(i){return r0(vs,i)}function Vl(i,r){return vs===null&&_s(i),r0(i,r)}function r0(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},si===null){if(i===null)throw Error(s(308));si=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else si=si.next=r;return o}var Bi=!1;function Fh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vh(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function zi(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ui(i,r,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(Ye&2)!==0){var d=c.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),c.pending=r,r=Tl(i),Ny(i,null,o),r}return El(i,c,r,o),Tl(i)}function ja(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194176)!==0)){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,Xg(i,o)}}function Yh(i,r){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var d=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?d=y=w:y=y.next=w,o=o.next}while(o!==null);y===null?d=y=r:y=y.next=r}else d=y=r;o={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var Xh=!1;function La(){if(Xh){var i=gr;if(i!==null)throw i}}function Ia(i,r,o,c){Xh=!1;var d=i.updateQueue;Bi=!1;var y=d.firstBaseUpdate,w=d.lastBaseUpdate,R=d.shared.pending;if(R!==null){d.shared.pending=null;var L=R,H=L.next;L.next=null,w===null?y=H:w.next=H,w=L;var J=i.alternate;J!==null&&(J=J.updateQueue,R=J.lastBaseUpdate,R!==w&&(R===null?J.firstBaseUpdate=H:R.next=H,J.lastBaseUpdate=L))}if(y!==null){var ie=d.baseState;w=0,J=H=L=null,R=y;do{var Q=R.lane&-536870913,Z=Q!==R.lane;if(Z?(Be&Q)===Q:(c&Q)===Q){Q!==0&&Q===pr&&(Xh=!0),J!==null&&(J=J.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var de=i,we=R;Q=r;var Ze=o;switch(we.tag){case 1:if(de=we.payload,typeof de=="function"){ie=de.call(Ze,ie,Q);break e}ie=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=we.payload,Q=typeof de=="function"?de.call(Ze,ie,Q):de,Q==null)break e;ie=I({},ie,Q);break e;case 2:Bi=!0}}Q=R.callback,Q!==null&&(i.flags|=64,Z&&(i.flags|=8192),Z=d.callbacks,Z===null?d.callbacks=[Q]:Z.push(Q))}else Z={lane:Q,tag:R.tag,payload:R.payload,callback:R.callback,next:null},J===null?(H=J=Z,L=ie):J=J.next=Z,w|=Q;if(R=R.next,R===null){if(R=d.shared.pending,R===null)break;Z=R,R=Z.next,Z.next=null,d.lastBaseUpdate=Z,d.shared.pending=null}}while(!0);J===null&&(L=ie),d.baseState=L,d.firstBaseUpdate=H,d.lastBaseUpdate=J,y===null&&(d.shared.lanes=0),qi|=w,i.lanes=w,i.memoizedState=ie}}function a0(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function o0(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)a0(o[i],r)}function Na(i,r){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var d=c.next;o=d;do{if((o.tag&i)===i){c=void 0;var y=o.create,w=o.inst;c=y(),w.destroy=c}o=o.next}while(o!==d)}}catch(R){Ne(r,r.return,R)}}function ji(i,r,o){try{var c=r.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var y=d.next;c=y;do{if((c.tag&i)===i){var w=c.inst,R=w.destroy;if(R!==void 0){w.destroy=void 0,d=r;var L=o;try{R()}catch(H){Ne(d,L,H)}}}c=c.next}while(c!==y)}}catch(H){Ne(r,r.return,H)}}function l0(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{o0(r,o)}catch(c){Ne(i,i.return,c)}}}function u0(i,r,o){o.props=bs(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){Ne(i,r,c)}}function ws(i,r){try{var o=i.ref;if(o!==null){var c=i.stateNode;switch(i.tag){case 26:case 27:case 5:var d=c;break;default:d=c}typeof o=="function"?i.refCleanup=o(d):o.current=d}}catch(y){Ne(i,r,y)}}function Zt(i,r){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(d){Ne(i,r,d)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){Ne(i,r,d)}else o.current=null}function c0(i){var r=i.type,o=i.memoizedProps,c=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(d){Ne(i,i.return,d)}}function h0(i,r,o){try{var c=i.stateNode;iE(c,i.type,o,r),c[Gt]=r}catch(d){Ne(i,i.return,d)}}function f0(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27||i.tag===4}function Qh(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||f0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==27&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Wh(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(i,r):o.insertBefore(i,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(i,o)):(r=o,r.appendChild(i)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=au));else if(c!==4&&c!==27&&(i=i.child,i!==null))for(Wh(i,r,o),i=i.sibling;i!==null;)Wh(i,r,o),i=i.sibling}function Yl(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(c!==4&&c!==27&&(i=i.child,i!==null))for(Yl(i,r,o),i=i.sibling;i!==null;)Yl(i,r,o),i=i.sibling}var ai=!1,We=!1,Kh=!1,d0=typeof WeakSet=="function"?WeakSet:Set,mt=null,p0=!1;function DA(i,r){if(i=i.containerInfo,Tf=du,i=Oy(i),Jc(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var d=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var w=0,R=-1,L=-1,H=0,J=0,ie=i,Q=null;t:for(;;){for(var Z;ie!==o||d!==0&&ie.nodeType!==3||(R=w+d),ie!==y||c!==0&&ie.nodeType!==3||(L=w+c),ie.nodeType===3&&(w+=ie.nodeValue.length),(Z=ie.firstChild)!==null;)Q=ie,ie=Z;for(;;){if(ie===i)break t;if(Q===o&&++H===d&&(R=w),Q===y&&++J===c&&(L=w),(Z=ie.nextSibling)!==null)break;ie=Q,Q=ie.parentNode}ie=Z}o=R===-1||L===-1?null:{start:R,end:L}}else o=null}o=o||{start:0,end:0}}else o=null;for(Mf={focusedElem:i,selectionRange:o},du=!1,mt=r;mt!==null;)if(r=mt,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,mt=i;else for(;mt!==null;){switch(r=mt,y=r.alternate,i=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,o=r,d=y.memoizedProps,y=y.memoizedState,c=o.stateNode;try{var de=bs(o.type,d,o.elementType===o.type);i=c.getSnapshotBeforeUpdate(de,y),c.__reactInternalSnapshotBeforeUpdate=i}catch(we){Ne(o,o.return,we)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)Of(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Of(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,mt=i;break}mt=r.return}return de=p0,p0=!1,de}function g0(i,r,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:li(i,o),c&4&&Na(5,o);break;case 1:if(li(i,o),c&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(R){Ne(o,o.return,R)}else{var d=bs(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(d,r,i.__reactInternalSnapshotBeforeUpdate)}catch(R){Ne(o,o.return,R)}}c&64&&l0(o),c&512&&ws(o,o.return);break;case 3:if(li(i,o),c&64&&(c=o.updateQueue,c!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{o0(c,i)}catch(R){Ne(o,o.return,R)}}break;case 26:li(i,o),c&512&&ws(o,o.return);break;case 27:case 5:li(i,o),r===null&&c&4&&c0(o),c&512&&ws(o,o.return);break;case 12:li(i,o);break;case 13:li(i,o),c&4&&b0(i,o);break;case 22:if(d=o.memoizedState!==null||ai,!d){r=r!==null&&r.memoizedState!==null||We;var y=ai,w=We;ai=d,(We=r)&&!w?Li(i,o,(o.subtreeFlags&8772)!==0):li(i,o),ai=y,We=w}c&512&&(o.memoizedProps.mode==="manual"?ws(o,o.return):Zt(o,o.return));break;default:li(i,o)}}function y0(i){var r=i.alternate;r!==null&&(i.alternate=null,y0(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&jc(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ot=null,Jt=!1;function oi(i,r,o){for(o=o.child;o!==null;)m0(i,r,o),o=o.sibling}function m0(i,r,o){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(ua,o)}catch{}switch(o.tag){case 26:We||Zt(o,r),oi(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:We||Zt(o,r);var c=ot,d=Jt;for(ot=o.stateNode,oi(i,r,o),o=o.stateNode,r=o.attributes;r.length;)o.removeAttributeNode(r[0]);jc(o),ot=c,Jt=d;break;case 5:We||Zt(o,r);case 6:d=ot;var y=Jt;if(ot=null,oi(i,r,o),ot=d,Jt=y,ot!==null)if(Jt)try{i=ot,c=o.stateNode,i.nodeType===8?i.parentNode.removeChild(c):i.removeChild(c)}catch(w){Ne(o,r,w)}else try{ot.removeChild(o.stateNode)}catch(w){Ne(o,r,w)}break;case 18:ot!==null&&(Jt?(r=ot,o=o.stateNode,r.nodeType===8?Rf(r.parentNode,o):r.nodeType===1&&Rf(r,o),so(r)):Rf(ot,o.stateNode));break;case 4:c=ot,d=Jt,ot=o.stateNode.containerInfo,Jt=!0,oi(i,r,o),ot=c,Jt=d;break;case 0:case 11:case 14:case 15:We||ji(2,o,r),We||ji(4,o,r),oi(i,r,o);break;case 1:We||(Zt(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"&&u0(o,r,c)),oi(i,r,o);break;case 21:oi(i,r,o);break;case 22:We||Zt(o,r),We=(c=We)||o.memoizedState!==null,oi(i,r,o),We=c;break;default:oi(i,r,o)}}function b0(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{so(i)}catch(o){Ne(r,r.return,o)}}function BA(i){switch(i.tag){case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new d0),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new d0),r;default:throw Error(s(435,i.tag))}}function Zh(i,r){var o=BA(i);r.forEach(function(c){var d=YA.bind(null,i,c);o.has(c)||(o.add(c),c.then(d,d))})}function yn(i,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var d=o[c],y=i,w=r,R=w;e:for(;R!==null;){switch(R.tag){case 27:case 5:ot=R.stateNode,Jt=!1;break e;case 3:ot=R.stateNode.containerInfo,Jt=!0;break e;case 4:ot=R.stateNode.containerInfo,Jt=!0;break e}R=R.return}if(ot===null)throw Error(s(160));m0(y,w,d),ot=null,Jt=!1,y=d.alternate,y!==null&&(y.return=null),d.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)v0(r,i),r=r.sibling}var Tn=null;function v0(i,r){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:yn(r,i),mn(i),c&4&&(ji(3,i,i.return),Na(3,i),ji(5,i,i.return));break;case 1:yn(r,i),mn(i),c&512&&(We||o===null||Zt(o,o.return)),c&64&&ai&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var d=Tn;if(yn(r,i),mn(i),c&512&&(We||o===null||Zt(o,o.return)),c&4){var y=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){e:{c=i.type,o=i.memoizedProps,d=d.ownerDocument||d;t:switch(c){case"title":y=d.getElementsByTagName("title")[0],(!y||y[fa]||y[Rt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=d.createElement(c),d.head.insertBefore(y,d.querySelector("head > title"))),Et(y,c,o),y[Rt]=i,gt(y),c=y;break e;case"link":var w=cb("link","href",d).get(c+(o.href||""));if(w){for(var R=0;R<w.length;R++)if(y=w[R],y.getAttribute("href")===(o.href==null?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(R,1);break t}}y=d.createElement(c),Et(y,c,o),d.head.appendChild(y);break;case"meta":if(w=cb("meta","content",d).get(c+(o.content||""))){for(R=0;R<w.length;R++)if(y=w[R],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(R,1);break t}}y=d.createElement(c),Et(y,c,o),d.head.appendChild(y);break;default:throw Error(s(468,c))}y[Rt]=i,gt(y),c=y}i.stateNode=c}else hb(d,i.type,i.stateNode);else i.stateNode=ub(d,c,i.memoizedProps);else y!==c?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,c===null?hb(d,i.type,i.stateNode):ub(d,c,i.memoizedProps)):c===null&&i.stateNode!==null&&h0(i,i.memoizedProps,o.memoizedProps)}break;case 27:if(c&4&&i.alternate===null){d=i.stateNode,y=i.memoizedProps;try{for(var L=d.firstChild;L;){var H=L.nextSibling,J=L.nodeName;L[fa]||J==="HEAD"||J==="BODY"||J==="SCRIPT"||J==="STYLE"||J==="LINK"&&L.rel.toLowerCase()==="stylesheet"||d.removeChild(L),L=H}for(var ie=i.type,Q=d.attributes;Q.length;)d.removeAttributeNode(Q[0]);Et(d,ie,y),d[Rt]=i,d[Gt]=y}catch(de){Ne(i,i.return,de)}}case 5:if(yn(r,i),mn(i),c&512&&(We||o===null||Zt(o,o.return)),i.flags&32){d=i.stateNode;try{nr(d,"")}catch(de){Ne(i,i.return,de)}}c&4&&i.stateNode!=null&&(d=i.memoizedProps,h0(i,d,o!==null?o.memoizedProps:d)),c&1024&&(Kh=!0);break;case 6:if(yn(r,i),mn(i),c&4){if(i.stateNode===null)throw Error(s(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch(de){Ne(i,i.return,de)}}break;case 3:if(cu=null,d=Tn,Tn=lu(r.containerInfo),yn(r,i),Tn=d,mn(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{so(r.containerInfo)}catch(de){Ne(i,i.return,de)}Kh&&(Kh=!1,_0(i));break;case 4:c=Tn,Tn=lu(i.stateNode.containerInfo),yn(r,i),mn(i),Tn=c;break;case 12:yn(r,i),mn(i);break;case 13:yn(r,i),mn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(lf=Un()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Zh(i,c)));break;case 22:if(c&512&&(We||o===null||Zt(o,o.return)),L=i.memoizedState!==null,H=o!==null&&o.memoizedState!==null,J=ai,ie=We,ai=J||L,We=ie||H,yn(r,i),We=ie,ai=J,mn(i),r=i.stateNode,r._current=i,r._visibility&=-3,r._visibility|=r._pendingVisibility&2,c&8192&&(r._visibility=L?r._visibility&-2:r._visibility|1,L&&(r=ai||We,o===null||H||r||vr(i)),i.memoizedProps===null||i.memoizedProps.mode!=="manual"))e:for(o=null,r=i;;){if(r.tag===5||r.tag===26||r.tag===27){if(o===null){H=o=r;try{if(d=H.stateNode,L)y=d.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{w=H.stateNode,R=H.memoizedProps.style;var Z=R!=null&&R.hasOwnProperty("display")?R.display:null;w.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(de){Ne(H,H.return,de)}}}else if(r.tag===6){if(o===null){H=r;try{H.stateNode.nodeValue=L?"":H.memoizedProps}catch(de){Ne(H,H.return,de)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Zh(i,o))));break;case 19:yn(r,i),mn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Zh(i,c)));break;case 21:break;default:yn(r,i),mn(i)}}function mn(i){var r=i.flags;if(r&2){try{if(i.tag!==27){e:{for(var o=i.return;o!==null;){if(f0(o)){var c=o;break e}o=o.return}throw Error(s(160))}switch(c.tag){case 27:var d=c.stateNode,y=Qh(i);Yl(i,y,d);break;case 5:var w=c.stateNode;c.flags&32&&(nr(w,""),c.flags&=-33);var R=Qh(i);Yl(i,R,w);break;case 3:case 4:var L=c.stateNode.containerInfo,H=Qh(i);Wh(i,H,L);break;default:throw Error(s(161))}}}catch(J){Ne(i,i.return,J)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function _0(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;_0(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function li(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)g0(i,r.alternate,r),r=r.sibling}function vr(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:ji(4,r,r.return),vr(r);break;case 1:Zt(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&u0(r,r.return,o),vr(r);break;case 26:case 27:case 5:Zt(r,r.return),vr(r);break;case 22:Zt(r,r.return),r.memoizedState===null&&vr(r);break;default:vr(r)}i=i.sibling}}function Li(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,d=i,y=r,w=y.flags;switch(y.tag){case 0:case 11:case 15:Li(d,y,o),Na(4,y);break;case 1:if(Li(d,y,o),c=y,d=c.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(H){Ne(c,c.return,H)}if(c=y,d=c.updateQueue,d!==null){var R=c.stateNode;try{var L=d.shared.hiddenCallbacks;if(L!==null)for(d.shared.hiddenCallbacks=null,d=0;d<L.length;d++)a0(L[d],R)}catch(H){Ne(c,c.return,H)}}o&&w&64&&l0(y),ws(y,y.return);break;case 26:case 27:case 5:Li(d,y,o),o&&c===null&&w&4&&c0(y),ws(y,y.return);break;case 12:Li(d,y,o);break;case 13:Li(d,y,o),o&&w&4&&b0(d,y);break;case 22:y.memoizedState===null&&Li(d,y,o),ws(y,y.return);break;default:Li(d,y,o)}r=r.sibling}}function Jh(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Ra(o))}function ef(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Ra(i))}function Ii(i,r,o,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)w0(i,r,o,c),r=r.sibling}function w0(i,r,o,c){var d=r.flags;switch(r.tag){case 0:case 11:case 15:Ii(i,r,o,c),d&2048&&Na(9,r);break;case 3:Ii(i,r,o,c),d&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Ra(i)));break;case 12:if(d&2048){Ii(i,r,o,c),i=r.stateNode;try{var y=r.memoizedProps,w=y.id,R=y.onPostCommit;typeof R=="function"&&R(w,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(L){Ne(r,r.return,L)}}else Ii(i,r,o,c);break;case 23:break;case 22:y=r.stateNode,r.memoizedState!==null?y._visibility&4?Ii(i,r,o,c):qa(i,r):y._visibility&4?Ii(i,r,o,c):(y._visibility|=4,_r(i,r,o,c,(r.subtreeFlags&10256)!==0)),d&2048&&Jh(r.alternate,r);break;case 24:Ii(i,r,o,c),d&2048&&ef(r.alternate,r);break;default:Ii(i,r,o,c)}}function _r(i,r,o,c,d){for(d=d&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var y=i,w=r,R=o,L=c,H=w.flags;switch(w.tag){case 0:case 11:case 15:_r(y,w,R,L,d),Na(8,w);break;case 23:break;case 22:var J=w.stateNode;w.memoizedState!==null?J._visibility&4?_r(y,w,R,L,d):qa(y,w):(J._visibility|=4,_r(y,w,R,L,d)),d&&H&2048&&Jh(w.alternate,w);break;case 24:_r(y,w,R,L,d),d&&H&2048&&ef(w.alternate,w);break;default:_r(y,w,R,L,d)}r=r.sibling}}function qa(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,c=r,d=c.flags;switch(c.tag){case 22:qa(o,c),d&2048&&Jh(c.alternate,c);break;case 24:qa(o,c),d&2048&&ef(c.alternate,c);break;default:qa(o,c)}r=r.sibling}}var Ga=8192;function wr(i){if(i.subtreeFlags&Ga)for(i=i.child;i!==null;)x0(i),i=i.sibling}function x0(i){switch(i.tag){case 26:wr(i),i.flags&Ga&&i.memoizedState!==null&&xE(Tn,i.memoizedState,i.memoizedProps);break;case 5:wr(i);break;case 3:case 4:var r=Tn;Tn=lu(i.stateNode.containerInfo),wr(i),Tn=r;break;case 22:i.memoizedState===null&&(r=i.alternate,r!==null&&r.memoizedState!==null?(r=Ga,Ga=16777216,wr(i),Ga=r):wr(i));break;default:wr(i)}}function S0(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Ha(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];mt=c,E0(c,i)}S0(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)A0(i),i=i.sibling}function A0(i){switch(i.tag){case 0:case 11:case 15:Ha(i),i.flags&2048&&ji(9,i,i.return);break;case 3:Ha(i);break;case 12:Ha(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&4&&(i.return===null||i.return.tag!==13)?(r._visibility&=-5,Xl(i)):Ha(i);break;default:Ha(i)}}function Xl(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];mt=c,E0(c,i)}S0(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:ji(8,r,r.return),Xl(r);break;case 22:o=r.stateNode,o._visibility&4&&(o._visibility&=-5,Xl(r));break;default:Xl(r)}i=i.sibling}}function E0(i,r){for(;mt!==null;){var o=mt;switch(o.tag){case 0:case 11:case 15:ji(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Ra(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,mt=c;else e:for(o=i;mt!==null;){c=mt;var d=c.sibling,y=c.return;if(y0(c),c===o){mt=null;break e}if(d!==null){d.return=y,mt=d;break e}mt=y}}}function zA(i,r,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(i,r,o,c){return new zA(i,r,o,c)}function tf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ni(i,r){var o=i.alternate;return o===null?(o=bn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&31457280,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function T0(i,r){i.flags&=31457282;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function Ql(i,r,o,c,d,y){var w=0;if(c=i,typeof i=="function")tf(i)&&(w=1);else if(typeof i=="string")w=_E(i,o,$e.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case f:return xs(o.children,d,y,r);case p:w=8,d|=24;break;case g:return i=bn(12,o,r,d|2),i.elementType=g,i.lanes=y,i;case S:return i=bn(13,o,r,d),i.elementType=S,i.lanes=y,i;case _:return i=bn(19,o,r,d),i.elementType=_,i.lanes=y,i;case A:return M0(o,d,y,r);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case m:case v:w=10;break e;case b:w=9;break e;case x:w=11;break e;case E:w=14;break e;case k:w=16,c=null;break e}w=29,o=Error(s(130,i===null?"null":typeof i,"")),c=null}return r=bn(w,o,r,d),r.elementType=i,r.type=c,r.lanes=y,r}function xs(i,r,o,c){return i=bn(7,i,c,r),i.lanes=o,i}function M0(i,r,o,c){i=bn(22,i,c,r),i.elementType=A,i.lanes=o;var d={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var y=d._current;if(y===null)throw Error(s(456));if((d._pendingVisibility&2)===0){var w=Ci(y,2);w!==null&&(d._pendingVisibility|=2,It(w,y,2))}},attach:function(){var y=d._current;if(y===null)throw Error(s(456));if((d._pendingVisibility&2)!==0){var w=Ci(y,2);w!==null&&(d._pendingVisibility&=-3,It(w,y,2))}}};return i.stateNode=d,i}function nf(i,r,o){return i=bn(6,i,null,r),i.lanes=o,i}function sf(i,r,o){return r=bn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}function ui(i){i.flags|=4}function C0(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!fb(r)){if(r=gn.current,r!==null&&((Be&4194176)===Be?Ln!==null:(Be&62914560)!==Be&&(Be&536870912)===0||r!==Ln))throw Ma=lh,Fy;i.flags|=8192}}function Wl(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Vg():536870912,i.lanes|=r,Sr|=r)}function $a(i,r){if(!Ue)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function Ve(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(r)for(var d=i.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags&31457280,c|=d.flags&31457280,d.return=i,d=d.sibling;else for(d=i.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=i,d=d.sibling;return i.subtreeFlags|=c,i.childLanes=o,r}function UA(i,r,o){var c=r.pendingProps;switch(ah(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(r),null;case 1:return Ve(r),null;case 3:return o=r.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),ri(ft),Ae(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Sa(r)?ui(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,En!==null&&(ff(En),En=null))),Ve(r),null;case 26:return o=r.memoizedState,i===null?(ui(r),o!==null?(Ve(r),C0(r,o)):(Ve(r),r.flags&=-16777217)):o?o!==i.memoizedState?(ui(r),Ve(r),C0(r,o)):(Ve(r),r.flags&=-16777217):(i.memoizedProps!==c&&ui(r),Ve(r),r.flags&=-16777217),null;case 27:Ws(r),o=nt.current;var d=r.type;if(i!==null&&r.stateNode!=null)i.memoizedProps!==c&&ui(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return Ve(r),null}i=$e.current,Sa(r)?Hy(r):(i=sb(d,c,o),r.stateNode=i,ui(r))}return Ve(r),null;case 5:if(Ws(r),o=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&ui(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return Ve(r),null}if(i=$e.current,Sa(r))Hy(r);else{switch(d=ou(nt.current),i){case 1:i=d.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=d.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=d.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof c.is=="string"?d.createElement("select",{is:c.is}):d.createElement("select"),c.multiple?i.multiple=!0:c.size&&(i.size=c.size);break;default:i=typeof c.is=="string"?d.createElement(o,{is:c.is}):d.createElement(o)}}i[Rt]=r,i[Gt]=c;e:for(d=r.child;d!==null;){if(d.tag===5||d.tag===6)i.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===r)break e;for(;d.sibling===null;){if(d.return===null||d.return===r)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}r.stateNode=i;e:switch(Et(i,o,c),o){case"button":case"input":case"select":case"textarea":i=!!c.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&ui(r)}}return Ve(r),r.flags&=-16777217,null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==c&&ui(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(s(166));if(i=nt.current,Sa(r)){if(i=r.stateNode,o=r.memoizedProps,c=null,d=Lt,d!==null)switch(d.tag){case 27:case 5:c=d.memoizedProps}i[Rt]=r,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||Z0(i.nodeValue,o)),i||fs(r)}else i=ou(i).createTextNode(c),i[Rt]=r,r.stateNode=i}return Ve(r),null;case 13:if(c=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(d=Sa(r),c!==null&&c.dehydrated!==null){if(i===null){if(!d)throw Error(s(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[Rt]=r}else Aa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Ve(r),d=!1}else En!==null&&(ff(En),En=null),d=!0;if(!d)return r.flags&256?(ti(r),r):(ti(r),null)}if(ti(r),(r.flags&128)!==0)return r.lanes=o,r;if(o=c!==null,i=i!==null&&i.memoizedState!==null,o){c=r.child,d=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(d=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==d&&(c.flags|=2048)}return o!==i&&o&&(r.child.flags|=8192),Wl(r,r.updateQueue),Ve(r),null;case 4:return Ae(),i===null&&Sf(r.stateNode.containerInfo),Ve(r),null;case 10:return ri(r.type),Ve(r),null;case 19:if(me(ht),d=r.memoizedState,d===null)return Ve(r),null;if(c=(r.flags&128)!==0,y=d.rendering,y===null)if(c)$a(d,!1);else{if(Ke!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(y=Dl(i),y!==null){for(r.flags|=128,$a(d,!1),i=y.updateQueue,r.updateQueue=i,Wl(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)T0(o,i),o=o.sibling;return fe(ht,ht.current&1|2),r.child}i=i.sibling}d.tail!==null&&Un()>Kl&&(r.flags|=128,c=!0,$a(d,!1),r.lanes=4194304)}else{if(!c)if(i=Dl(y),i!==null){if(r.flags|=128,c=!0,i=i.updateQueue,r.updateQueue=i,Wl(r,i),$a(d,!0),d.tail===null&&d.tailMode==="hidden"&&!y.alternate&&!Ue)return Ve(r),null}else 2*Un()-d.renderingStartTime>Kl&&o!==536870912&&(r.flags|=128,c=!0,$a(d,!1),r.lanes=4194304);d.isBackwards?(y.sibling=r.child,r.child=y):(i=d.last,i!==null?i.sibling=y:r.child=y,d.last=y)}return d.tail!==null?(r=d.tail,d.rendering=r,d.tail=r.sibling,d.renderingStartTime=Un(),r.sibling=null,i=ht.current,fe(ht,c?i&1|2:i&1),r):(Ve(r),null);case 22:case 23:return ti(r),ch(),c=r.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(o&536870912)!==0&&(r.flags&128)===0&&(Ve(r),r.subtreeFlags&6&&(r.flags|=8192)):Ve(r),o=r.updateQueue,o!==null&&Wl(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==o&&(r.flags|=2048),i!==null&&me(ps),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),ri(ft),Ve(r),null;case 25:return null}throw Error(s(156,r.tag))}function jA(i,r){switch(ah(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return ri(ft),Ae(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Ws(r),null;case 13:if(ti(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Aa()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return me(ht),null;case 4:return Ae(),null;case 10:return ri(r.type),null;case 22:case 23:return ti(r),ch(),i!==null&&me(ps),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return ri(ft),null;case 25:return null;default:return null}}function k0(i,r){switch(ah(r),r.tag){case 3:ri(ft),Ae();break;case 26:case 27:case 5:Ws(r);break;case 4:Ae();break;case 13:ti(r);break;case 19:me(ht);break;case 10:ri(r.type);break;case 22:case 23:ti(r),ch(),i!==null&&me(ps);break;case 24:ri(ft)}}var LA={getCacheForType:function(i){var r=Ot(ft),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o}},IA=typeof WeakMap=="function"?WeakMap:Map,Ye=0,qe=null,Ce=null,Be=0,Ge=0,en=null,ci=!1,xr=!1,rf=!1,hi=0,Ke=0,qi=0,Ss=0,af=0,vn=0,Sr=0,Fa=null,Nn=null,of=!1,lf=0,Kl=1/0,Zl=null,Gi=null,Jl=!1,As=null,Va=0,uf=0,cf=null,Ya=0,hf=null;function tn(){if((Ye&2)!==0&&Be!==0)return Be&-Be;if(j.T!==null){var i=pr;return i!==0?i:vf()}return Wg()}function R0(){vn===0&&(vn=(Be&536870912)===0||Ue?Fg():536870912);var i=gn.current;return i!==null&&(i.flags|=32),vn}function It(i,r,o){(i===qe&&Ge===2||i.cancelPendingCommit!==null)&&(Ar(i,0),fi(i,Be,vn,!1)),ha(i,o),((Ye&2)===0||i!==qe)&&(i===qe&&((Ye&2)===0&&(Ss|=o),Ke===4&&fi(i,Be,vn,!1)),qn(i))}function O0(i,r,o){if((Ye&6)!==0)throw Error(s(327));var c=!o&&(r&60)===0&&(r&i.expiredLanes)===0||ca(i,r),d=c?GA(i,r):gf(i,r,!0),y=c;do{if(d===0){xr&&!c&&fi(i,r,0,!1);break}else if(d===6)fi(i,r,0,!ci);else{if(o=i.current.alternate,y&&!NA(o)){d=gf(i,r,!1),y=!1;continue}if(d===2){if(y=r,i.errorRecoveryDisabledLanes&y)var w=0;else w=i.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){r=w;e:{var R=i;d=Fa;var L=R.current.memoizedState.isDehydrated;if(L&&(Ar(R,w).flags|=256),w=gf(R,w,!1),w!==2){if(rf&&!L){R.errorRecoveryDisabledLanes|=y,Ss|=y,d=4;break e}y=Nn,Nn=d,y!==null&&ff(y)}d=w}if(y=!1,d!==2)continue}}if(d===1){Ar(i,0),fi(i,r,0,!0);break}e:{switch(c=i,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194176)===r){fi(c,r,vn,!ci);break e}break;case 2:Nn=null;break;case 3:case 5:break;default:throw Error(s(329))}if(c.finishedWork=o,c.finishedLanes=r,(r&62914560)===r&&(y=lf+300-Un(),10<y)){if(fi(c,r,vn,!ci),fl(c,0)!==0)break e;c.timeoutHandle=tb(P0.bind(null,c,o,Nn,Zl,of,r,vn,Ss,Sr,ci,2,-0,0),y);break e}P0(c,o,Nn,Zl,of,r,vn,Ss,Sr,ci,0,-0,0)}}break}while(!0);qn(i)}function ff(i){Nn===null?Nn=i:Nn.push.apply(Nn,i)}function P0(i,r,o,c,d,y,w,R,L,H,J,ie,Q){var Z=r.subtreeFlags;if((Z&8192||(Z&16785408)===16785408)&&(Ja={stylesheets:null,count:0,unsuspend:wE},x0(r),r=SE(),r!==null)){i.cancelPendingCommit=r(I0.bind(null,i,o,c,d,w,R,L,1,ie,Q)),fi(i,y,w,!H);return}I0(i,o,c,d,w,R,L,J,ie,Q)}function NA(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var d=o[c],y=d.getSnapshot;d=d.value;try{if(!Kt(y(),d))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function fi(i,r,o,c){r&=~af,r&=~Ss,i.suspendedLanes|=r,i.pingedLanes&=~r,c&&(i.warmLanes|=r),c=i.expirationTimes;for(var d=r;0<d;){var y=31-Wt(d),w=1<<y;c[y]=-1,d&=~w}o!==0&&Yg(i,o,r)}function eu(){return(Ye&6)===0?(Xa(0),!1):!0}function df(){if(Ce!==null){if(Ge===0)var i=Ce.return;else i=Ce,si=vs=null,bh(i),fr=null,Ca=0,i=Ce;for(;i!==null;)k0(i.alternate,i),i=i.return;Ce=null}}function Ar(i,r){i.finishedWork=null,i.finishedLanes=0;var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,rE(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),df(),qe=i,Ce=o=Ni(i.current,null),Be=r,Ge=0,en=null,ci=!1,xr=ca(i,r),rf=!1,Sr=vn=af=Ss=qi=Ke=0,Nn=Fa=null,of=!1,(r&8)!==0&&(r|=r&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=r;0<c;){var d=31-Wt(c),y=1<<d;r|=i[d],c&=~y}return hi=r,Al(),o}function D0(i,r){Ee=null,j.H=In,r===Ta?(r=Xy(),Ge=3):r===Fy?(r=Xy(),Ge=4):Ge=r===Vm?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,en=r,Ce===null&&(Ke=1,$l(i,fn(r,i.current)))}function B0(){var i=j.H;return j.H=In,i===null?In:i}function z0(){var i=j.A;return j.A=LA,i}function pf(){Ke=4,ci||(Be&4194176)!==Be&&gn.current!==null||(xr=!0),(qi&134217727)===0&&(Ss&134217727)===0||qe===null||fi(qe,Be,vn,!1)}function gf(i,r,o){var c=Ye;Ye|=2;var d=B0(),y=z0();(qe!==i||Be!==r)&&(Zl=null,Ar(i,r)),r=!1;var w=Ke;e:do try{if(Ge!==0&&Ce!==null){var R=Ce,L=en;switch(Ge){case 8:df(),w=6;break e;case 3:case 2:case 6:gn.current===null&&(r=!0);var H=Ge;if(Ge=0,en=null,Er(i,R,L,H),o&&xr){w=0;break e}break;default:H=Ge,Ge=0,en=null,Er(i,R,L,H)}}qA(),w=Ke;break}catch(J){D0(i,J)}while(!0);return r&&i.shellSuspendCounter++,si=vs=null,Ye=c,j.H=d,j.A=y,Ce===null&&(qe=null,Be=0,Al()),w}function qA(){for(;Ce!==null;)U0(Ce)}function GA(i,r){var o=Ye;Ye|=2;var c=B0(),d=z0();qe!==i||Be!==r?(Zl=null,Kl=Un()+500,Ar(i,r)):xr=ca(i,r);e:do try{if(Ge!==0&&Ce!==null){r=Ce;var y=en;t:switch(Ge){case 1:Ge=0,en=null,Er(i,r,y,1);break;case 2:if(Vy(y)){Ge=0,en=null,j0(r);break}r=function(){Ge===2&&qe===i&&(Ge=7),qn(i)},y.then(r,r);break e;case 3:Ge=7;break e;case 4:Ge=5;break e;case 7:Vy(y)?(Ge=0,en=null,j0(r)):(Ge=0,en=null,Er(i,r,y,7));break;case 5:var w=null;switch(Ce.tag){case 26:w=Ce.memoizedState;case 5:case 27:var R=Ce;if(!w||fb(w)){Ge=0,en=null;var L=R.sibling;if(L!==null)Ce=L;else{var H=R.return;H!==null?(Ce=H,tu(H)):Ce=null}break t}}Ge=0,en=null,Er(i,r,y,5);break;case 6:Ge=0,en=null,Er(i,r,y,6);break;case 8:df(),Ke=6;break e;default:throw Error(s(462))}}HA();break}catch(J){D0(i,J)}while(!0);return si=vs=null,j.H=c,j.A=d,Ye=o,Ce!==null?0:(qe=null,Be=0,Al(),Ke)}function HA(){for(;Ce!==null&&!h1();)U0(Ce)}function U0(i){var r=s0(i.alternate,i,hi);i.memoizedProps=i.pendingProps,r===null?tu(i):Ce=r}function j0(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=Zm(o,r,r.pendingProps,r.type,void 0,Be);break;case 11:r=Zm(o,r,r.pendingProps,r.type.render,r.ref,Be);break;case 5:bh(r);default:k0(o,r),r=Ce=T0(r,hi),r=s0(o,r,hi)}i.memoizedProps=i.pendingProps,r===null?tu(i):Ce=r}function Er(i,r,o,c){si=vs=null,bh(r),fr=null,Ca=0;var d=r.return;try{if(OA(i,d,r,o,Be)){Ke=1,$l(i,fn(o,i.current)),Ce=null;return}}catch(y){if(d!==null)throw Ce=d,y;Ke=1,$l(i,fn(o,i.current)),Ce=null;return}r.flags&32768?(Ue||c===1?i=!0:xr||(Be&536870912)!==0?i=!1:(ci=i=!0,(c===2||c===3||c===6)&&(c=gn.current,c!==null&&c.tag===13&&(c.flags|=16384))),L0(r,i)):tu(r)}function tu(i){var r=i;do{if((r.flags&32768)!==0){L0(r,ci);return}i=r.return;var o=UA(r.alternate,r,hi);if(o!==null){Ce=o;return}if(r=r.sibling,r!==null){Ce=r;return}Ce=r=i}while(r!==null);Ke===0&&(Ke=5)}function L0(i,r){do{var o=jA(i.alternate,i);if(o!==null){o.flags&=32767,Ce=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Ce=i;return}Ce=i=o}while(i!==null);Ke=6,Ce=null}function I0(i,r,o,c,d,y,w,R,L,H){var J=j.T,ie=W.p;try{W.p=2,j.T=null,$A(i,r,o,c,ie,d,y,w,R,L,H)}finally{j.T=J,W.p=ie}}function $A(i,r,o,c,d,y,w,R){do Tr();while(As!==null);if((Ye&6)!==0)throw Error(s(327));var L=i.finishedWork;if(c=i.finishedLanes,L===null)return null;if(i.finishedWork=null,i.finishedLanes=0,L===i.current)throw Error(s(177));i.callbackNode=null,i.callbackPriority=0,i.cancelPendingCommit=null;var H=L.lanes|L.childLanes;if(H|=ih,x1(i,c,H,y,w,R),i===qe&&(Ce=qe=null,Be=0),(L.subtreeFlags&10256)===0&&(L.flags&10256)===0||Jl||(Jl=!0,uf=H,cf=o,XA(ul,function(){return Tr(),null})),o=(L.flags&15990)!==0,(L.subtreeFlags&15990)!==0||o?(o=j.T,j.T=null,y=W.p,W.p=2,w=Ye,Ye|=4,DA(i,L),v0(L,i),pA(Mf,i.containerInfo),du=!!Tf,Mf=Tf=null,i.current=L,g0(i,L.alternate,L),f1(),Ye=w,W.p=y,j.T=o):i.current=L,Jl?(Jl=!1,As=i,Va=c):N0(i,H),H=i.pendingLanes,H===0&&(Gi=null),m1(L.stateNode),qn(i),r!==null)for(d=i.onRecoverableError,L=0;L<r.length;L++)H=r[L],d(H.value,{componentStack:H.stack});return(Va&3)!==0&&Tr(),H=i.pendingLanes,(c&4194218)!==0&&(H&42)!==0?i===hf?Ya++:(Ya=0,hf=i):Ya=0,Xa(0),null}function N0(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Ra(r)))}function Tr(){if(As!==null){var i=As,r=uf;uf=0;var o=Qg(Va),c=j.T,d=W.p;try{if(W.p=32>o?32:o,j.T=null,As===null)var y=!1;else{o=cf,cf=null;var w=As,R=Va;if(As=null,Va=0,(Ye&6)!==0)throw Error(s(331));var L=Ye;if(Ye|=4,A0(w.current),w0(w,w.current,R,o),Ye=L,Xa(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(ua,w)}catch{}y=!0}return y}finally{W.p=d,j.T=c,N0(i,r)}}return!1}function q0(i,r,o){r=fn(o,r),r=Ph(i.stateNode,r,2),i=Ui(i,r,2),i!==null&&(ha(i,2),qn(i))}function Ne(i,r,o){if(i.tag===3)q0(i,i,o);else for(;r!==null;){if(r.tag===3){q0(r,i,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Gi===null||!Gi.has(c))){i=fn(o,i),o=$m(2),c=Ui(r,o,2),c!==null&&(Fm(o,c,r,i),ha(c,2),qn(c));break}}r=r.return}}function yf(i,r,o){var c=i.pingCache;if(c===null){c=i.pingCache=new IA;var d=new Set;c.set(r,d)}else d=c.get(r),d===void 0&&(d=new Set,c.set(r,d));d.has(o)||(rf=!0,d.add(o),i=FA.bind(null,i,r,o),r.then(i,i))}function FA(i,r,o){var c=i.pingCache;c!==null&&c.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,qe===i&&(Be&o)===o&&(Ke===4||Ke===3&&(Be&62914560)===Be&&300>Un()-lf?(Ye&2)===0&&Ar(i,0):af|=o,Sr===Be&&(Sr=0)),qn(i)}function G0(i,r){r===0&&(r=Vg()),i=Ci(i,r),i!==null&&(ha(i,r),qn(i))}function VA(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),G0(i,o)}function YA(i,r){var o=0;switch(i.tag){case 13:var c=i.stateNode,d=i.memoizedState;d!==null&&(o=d.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(r),G0(i,o)}function XA(i,r){return Dc(i,r)}var nu=null,Mr=null,mf=!1,iu=!1,bf=!1,Es=0;function qn(i){i!==Mr&&i.next===null&&(Mr===null?nu=Mr=i:Mr=Mr.next=i),iu=!0,mf||(mf=!0,WA(QA))}function Xa(i,r){if(!bf&&iu){bf=!0;do for(var o=!1,c=nu;c!==null;){if(i!==0){var d=c.pendingLanes;if(d===0)var y=0;else{var w=c.suspendedLanes,R=c.pingedLanes;y=(1<<31-Wt(42|i)+1)-1,y&=d&~(w&~R),y=y&201326677?y&201326677|1:y?y|2:0}y!==0&&(o=!0,F0(c,y))}else y=Be,y=fl(c,c===qe?y:0),(y&3)===0||ca(c,y)||(o=!0,F0(c,y));c=c.next}while(o);bf=!1}}function QA(){iu=mf=!1;var i=0;Es!==0&&(sE()&&(i=Es),Es=0);for(var r=Un(),o=null,c=nu;c!==null;){var d=c.next,y=H0(c,r);y===0?(c.next=null,o===null?nu=d:o.next=d,d===null&&(Mr=o)):(o=c,(i!==0||(y&3)!==0)&&(iu=!0)),c=d}Xa(i)}function H0(i,r){for(var o=i.suspendedLanes,c=i.pingedLanes,d=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var w=31-Wt(y),R=1<<w,L=d[w];L===-1?((R&o)===0||(R&c)!==0)&&(d[w]=w1(R,r)):L<=r&&(i.expiredLanes|=R),y&=~R}if(r=qe,o=Be,o=fl(i,i===r?o:0),c=i.callbackNode,o===0||i===r&&Ge===2||i.cancelPendingCommit!==null)return c!==null&&c!==null&&Bc(c),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||ca(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(c!==null&&Bc(c),Qg(o)){case 2:case 8:o=Hg;break;case 32:o=ul;break;case 268435456:o=$g;break;default:o=ul}return c=$0.bind(null,i),o=Dc(o,c),i.callbackPriority=r,i.callbackNode=o,r}return c!==null&&c!==null&&Bc(c),i.callbackPriority=2,i.callbackNode=null,2}function $0(i,r){var o=i.callbackNode;if(Tr()&&i.callbackNode!==o)return null;var c=Be;return c=fl(i,i===qe?c:0),c===0?null:(O0(i,c,r),H0(i,Un()),i.callbackNode!=null&&i.callbackNode===o?$0.bind(null,i):null)}function F0(i,r){if(Tr())return null;O0(i,r,!0)}function WA(i){aE(function(){(Ye&6)!==0?Dc(Gg,i):i()})}function vf(){return Es===0&&(Es=Fg()),Es}function V0(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:ml(""+i)}function Y0(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function KA(i,r,o,c,d){if(r==="submit"&&o&&o.stateNode===d){var y=V0((d[Gt]||null).action),w=c.submitter;w&&(r=(r=w[Gt]||null)?V0(r.formAction):w.getAttribute("formAction"),r!==null&&(y=r,w=null));var R=new wl("action","action",null,c,d);i.push({event:R,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Es!==0){var L=w?Y0(d,w):new FormData(d);Mh(o,{pending:!0,data:L,method:d.method,action:y},null,L)}}else typeof y=="function"&&(R.preventDefault(),L=w?Y0(d,w):new FormData(d),Mh(o,{pending:!0,data:L,method:d.method,action:y},y,L))},currentTarget:d}]})}}for(var _f=0;_f<Iy.length;_f++){var wf=Iy[_f],ZA=wf.toLowerCase(),JA=wf[0].toUpperCase()+wf.slice(1);An(ZA,"on"+JA)}An(By,"onAnimationEnd"),An(zy,"onAnimationIteration"),An(Uy,"onAnimationStart"),An("dblclick","onDoubleClick"),An("focusin","onFocus"),An("focusout","onBlur"),An(yA,"onTransitionRun"),An(mA,"onTransitionStart"),An(bA,"onTransitionCancel"),An(jy,"onTransitionEnd"),er("onMouseEnter",["mouseout","mouseover"]),er("onMouseLeave",["mouseout","mouseover"]),er("onPointerEnter",["pointerout","pointerover"]),er("onPointerLeave",["pointerout","pointerover"]),as("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),as("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),as("onBeforeInput",["compositionend","keypress","textInput","paste"]),as("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),as("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),as("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qa));function X0(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],d=c.event;c=c.listeners;e:{var y=void 0;if(r)for(var w=c.length-1;0<=w;w--){var R=c[w],L=R.instance,H=R.currentTarget;if(R=R.listener,L!==y&&d.isPropagationStopped())break e;y=R,d.currentTarget=H;try{y(d)}catch(J){Hl(J)}d.currentTarget=null,y=L}else for(w=0;w<c.length;w++){if(R=c[w],L=R.instance,H=R.currentTarget,R=R.listener,L!==y&&d.isPropagationStopped())break e;y=R,d.currentTarget=H;try{y(d)}catch(J){Hl(J)}d.currentTarget=null,y=L}}}}function Oe(i,r){var o=r[Uc];o===void 0&&(o=r[Uc]=new Set);var c=i+"__bubble";o.has(c)||(Q0(r,i,2,!1),o.add(c))}function xf(i,r,o){var c=0;r&&(c|=4),Q0(o,i,c,r)}var su="_reactListening"+Math.random().toString(36).slice(2);function Sf(i){if(!i[su]){i[su]=!0,Zg.forEach(function(o){o!=="selectionchange"&&(eE.has(o)||xf(o,!1,i),xf(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[su]||(r[su]=!0,xf("selectionchange",!1,r))}}function Q0(i,r,o,c){switch(bb(r)){case 2:var d=TE;break;case 8:d=ME;break;default:d=Uf}o=d.bind(null,r,o,i),d=void 0,!$c||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),c?d!==void 0?i.addEventListener(r,o,{capture:!0,passive:d}):i.addEventListener(r,o,!0):d!==void 0?i.addEventListener(r,o,{passive:d}):i.addEventListener(r,o,!1)}function Af(i,r,o,c,d){var y=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var R=c.stateNode.containerInfo;if(R===d||R.nodeType===8&&R.parentNode===d)break;if(w===4)for(w=c.return;w!==null;){var L=w.tag;if((L===3||L===4)&&(L=w.stateNode.containerInfo,L===d||L.nodeType===8&&L.parentNode===d))return;w=w.return}for(;R!==null;){if(w=rs(R),w===null)return;if(L=w.tag,L===5||L===6||L===26||L===27){c=y=w;continue e}R=R.parentNode}}c=c.return}cy(function(){var H=y,J=Gc(o),ie=[];e:{var Q=Ly.get(i);if(Q!==void 0){var Z=wl,de=i;switch(i){case"keypress":if(vl(o)===0)break e;case"keydown":case"keyup":Z=Y1;break;case"focusin":de="focus",Z=Xc;break;case"focusout":de="blur",Z=Xc;break;case"beforeblur":case"afterblur":Z=Xc;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=dy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=z1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=W1;break;case By:case zy:case Uy:Z=L1;break;case jy:Z=Z1;break;case"scroll":case"scrollend":Z=D1;break;case"wheel":Z=eA;break;case"copy":case"cut":case"paste":Z=N1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=gy;break;case"toggle":case"beforetoggle":Z=nA}var we=(r&4)!==0,Ze=!we&&(i==="scroll"||i==="scrollend"),V=we?Q!==null?Q+"Capture":null:Q;we=[];for(var G=H,X;G!==null;){var te=G;if(X=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||X===null||V===null||(te=pa(G,V),te!=null&&we.push(Wa(G,te,X))),Ze)break;G=G.return}0<we.length&&(Q=new Z(Q,de,null,o,J),ie.push({event:Q,listeners:we}))}}if((r&7)===0){e:{if(Q=i==="mouseover"||i==="pointerover",Z=i==="mouseout"||i==="pointerout",Q&&o!==qc&&(de=o.relatedTarget||o.fromElement)&&(rs(de)||de[Ks]))break e;if((Z||Q)&&(Q=J.window===J?J:(Q=J.ownerDocument)?Q.defaultView||Q.parentWindow:window,Z?(de=o.relatedTarget||o.toElement,Z=H,de=de?rs(de):null,de!==null&&(Ze=z(de),we=de.tag,de!==Ze||we!==5&&we!==27&&we!==6)&&(de=null)):(Z=null,de=H),Z!==de)){if(we=dy,te="onMouseLeave",V="onMouseEnter",G="mouse",(i==="pointerout"||i==="pointerover")&&(we=gy,te="onPointerLeave",V="onPointerEnter",G="pointer"),Ze=Z==null?Q:da(Z),X=de==null?Q:da(de),Q=new we(te,G+"leave",Z,o,J),Q.target=Ze,Q.relatedTarget=X,te=null,rs(J)===H&&(we=new we(V,G+"enter",de,o,J),we.target=X,we.relatedTarget=Ze,te=we),Ze=te,Z&&de)t:{for(we=Z,V=de,G=0,X=we;X;X=Cr(X))G++;for(X=0,te=V;te;te=Cr(te))X++;for(;0<G-X;)we=Cr(we),G--;for(;0<X-G;)V=Cr(V),X--;for(;G--;){if(we===V||V!==null&&we===V.alternate)break t;we=Cr(we),V=Cr(V)}we=null}else we=null;Z!==null&&W0(ie,Q,Z,we,!1),de!==null&&Ze!==null&&W0(ie,Ze,de,we,!0)}}e:{if(Q=H?da(H):window,Z=Q.nodeName&&Q.nodeName.toLowerCase(),Z==="select"||Z==="input"&&Q.type==="file")var ce=Sy;else if(wy(Q))if(Ay)ce=fA;else{ce=cA;var Te=uA}else Z=Q.nodeName,!Z||Z.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?H&&Nc(H.elementType)&&(ce=Sy):ce=hA;if(ce&&(ce=ce(i,H))){xy(ie,ce,o,J);break e}Te&&Te(i,Q,H),i==="focusout"&&H&&Q.type==="number"&&H.memoizedProps.value!=null&&Ic(Q,"number",Q.value)}switch(Te=H?da(H):window,i){case"focusin":(wy(Te)||Te.contentEditable==="true")&&(ar=Te,eh=H,xa=null);break;case"focusout":xa=eh=ar=null;break;case"mousedown":th=!0;break;case"contextmenu":case"mouseup":case"dragend":th=!1,Py(ie,o,J);break;case"selectionchange":if(gA)break;case"keydown":case"keyup":Py(ie,o,J)}var ye;if(Wc)e:{switch(i){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else rr?vy(i,o)&&(be="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(be="onCompositionStart");be&&(yy&&o.locale!=="ko"&&(rr||be!=="onCompositionStart"?be==="onCompositionEnd"&&rr&&(ye=hy()):(Mi=J,Fc="value"in Mi?Mi.value:Mi.textContent,rr=!0)),Te=ru(H,be),0<Te.length&&(be=new py(be,i,null,o,J),ie.push({event:be,listeners:Te}),ye?be.data=ye:(ye=_y(o),ye!==null&&(be.data=ye)))),(ye=sA?rA(i,o):aA(i,o))&&(be=ru(H,"onBeforeInput"),0<be.length&&(Te=new py("onBeforeInput","beforeinput",null,o,J),ie.push({event:Te,listeners:be}),Te.data=ye)),KA(ie,i,H,o,J)}X0(ie,r)})}function Wa(i,r,o){return{instance:i,listener:r,currentTarget:o}}function ru(i,r){for(var o=r+"Capture",c=[];i!==null;){var d=i,y=d.stateNode;d=d.tag,d!==5&&d!==26&&d!==27||y===null||(d=pa(i,o),d!=null&&c.unshift(Wa(i,d,y)),d=pa(i,r),d!=null&&c.push(Wa(i,d,y))),i=i.return}return c}function Cr(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function W0(i,r,o,c,d){for(var y=r._reactName,w=[];o!==null&&o!==c;){var R=o,L=R.alternate,H=R.stateNode;if(R=R.tag,L!==null&&L===c)break;R!==5&&R!==26&&R!==27||H===null||(L=H,d?(H=pa(o,y),H!=null&&w.unshift(Wa(o,H,L))):d||(H=pa(o,y),H!=null&&w.push(Wa(o,H,L)))),o=o.return}w.length!==0&&i.push({event:r,listeners:w})}var tE=/\r\n?/g,nE=/\u0000|\uFFFD/g;function K0(i){return(typeof i=="string"?i:""+i).replace(tE,`
`).replace(nE,"")}function Z0(i,r){return r=K0(r),K0(i)===r}function au(){}function Ie(i,r,o,c,d,y){switch(o){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||nr(i,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&nr(i,""+c);break;case"className":pl(i,"class",c);break;case"tabIndex":pl(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":pl(i,o,c);break;case"style":ly(i,c,y);break;case"data":if(r!=="object"){pl(i,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=ml(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(r!=="input"&&Ie(i,r,"name",d.name,d,null),Ie(i,r,"formEncType",d.formEncType,d,null),Ie(i,r,"formMethod",d.formMethod,d,null),Ie(i,r,"formTarget",d.formTarget,d,null)):(Ie(i,r,"encType",d.encType,d,null),Ie(i,r,"method",d.method,d,null),Ie(i,r,"target",d.target,d,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=ml(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=au);break;case"onScroll":c!=null&&Oe("scroll",i);break;case"onScrollEnd":c!=null&&Oe("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(d.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=ml(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":Oe("beforetoggle",i),Oe("toggle",i),dl(i,"popover",c);break;case"xlinkActuate":Zn(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Zn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Zn(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Zn(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Zn(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Zn(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Zn(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Zn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Zn(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":dl(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=O1.get(o)||o,dl(i,o,c))}}function Ef(i,r,o,c,d,y){switch(o){case"style":ly(i,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(d.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof c=="string"?nr(i,c):(typeof c=="number"||typeof c=="bigint")&&nr(i,""+c);break;case"onScroll":c!=null&&Oe("scroll",i);break;case"onScrollEnd":c!=null&&Oe("scrollend",i);break;case"onClick":c!=null&&(i.onclick=au);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Jg.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),r=o.slice(2,d?o.length-7:void 0),y=i[Gt]||null,y=y!=null?y[o]:null,typeof y=="function"&&i.removeEventListener(r,y,d),typeof c=="function")){typeof y!="function"&&y!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,c,d);break e}o in i?i[o]=c:c===!0?i.setAttribute(o,""):dl(i,o,c)}}}function Et(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",i),Oe("load",i);var c=!1,d=!1,y;for(y in o)if(o.hasOwnProperty(y)){var w=o[y];if(w!=null)switch(y){case"src":c=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ie(i,r,y,w,o,null)}}d&&Ie(i,r,"srcSet",o.srcSet,o,null),c&&Ie(i,r,"src",o.src,o,null);return;case"input":Oe("invalid",i);var R=y=w=d=null,L=null,H=null;for(c in o)if(o.hasOwnProperty(c)){var J=o[c];if(J!=null)switch(c){case"name":d=J;break;case"type":w=J;break;case"checked":L=J;break;case"defaultChecked":H=J;break;case"value":y=J;break;case"defaultValue":R=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,r));break;default:Ie(i,r,c,J,o,null)}}sy(i,y,R,L,H,w,d,!1),gl(i);return;case"select":Oe("invalid",i),c=w=y=null;for(d in o)if(o.hasOwnProperty(d)&&(R=o[d],R!=null))switch(d){case"value":y=R;break;case"defaultValue":w=R;break;case"multiple":c=R;default:Ie(i,r,d,R,o,null)}r=y,o=w,i.multiple=!!c,r!=null?tr(i,!!c,r,!1):o!=null&&tr(i,!!c,o,!0);return;case"textarea":Oe("invalid",i),y=d=c=null;for(w in o)if(o.hasOwnProperty(w)&&(R=o[w],R!=null))switch(w){case"value":c=R;break;case"defaultValue":d=R;break;case"children":y=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(s(91));break;default:Ie(i,r,w,R,o,null)}ay(i,c,d,y),gl(i);return;case"option":for(L in o)if(o.hasOwnProperty(L)&&(c=o[L],c!=null))switch(L){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Ie(i,r,L,c,o,null)}return;case"dialog":Oe("cancel",i),Oe("close",i);break;case"iframe":case"object":Oe("load",i);break;case"video":case"audio":for(c=0;c<Qa.length;c++)Oe(Qa[c],i);break;case"image":Oe("error",i),Oe("load",i);break;case"details":Oe("toggle",i);break;case"embed":case"source":case"link":Oe("error",i),Oe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in o)if(o.hasOwnProperty(H)&&(c=o[H],c!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ie(i,r,H,c,o,null)}return;default:if(Nc(r)){for(J in o)o.hasOwnProperty(J)&&(c=o[J],c!==void 0&&Ef(i,r,J,c,o,void 0));return}}for(R in o)o.hasOwnProperty(R)&&(c=o[R],c!=null&&Ie(i,r,R,c,o,null))}function iE(i,r,o,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,y=null,w=null,R=null,L=null,H=null,J=null;for(Z in o){var ie=o[Z];if(o.hasOwnProperty(Z)&&ie!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":L=ie;default:c.hasOwnProperty(Z)||Ie(i,r,Z,null,c,ie)}}for(var Q in c){var Z=c[Q];if(ie=o[Q],c.hasOwnProperty(Q)&&(Z!=null||ie!=null))switch(Q){case"type":y=Z;break;case"name":d=Z;break;case"checked":H=Z;break;case"defaultChecked":J=Z;break;case"value":w=Z;break;case"defaultValue":R=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,r));break;default:Z!==ie&&Ie(i,r,Q,Z,c,ie)}}Lc(i,w,R,L,H,J,y,d);return;case"select":Z=w=R=Q=null;for(y in o)if(L=o[y],o.hasOwnProperty(y)&&L!=null)switch(y){case"value":break;case"multiple":Z=L;default:c.hasOwnProperty(y)||Ie(i,r,y,null,c,L)}for(d in c)if(y=c[d],L=o[d],c.hasOwnProperty(d)&&(y!=null||L!=null))switch(d){case"value":Q=y;break;case"defaultValue":R=y;break;case"multiple":w=y;default:y!==L&&Ie(i,r,d,y,c,L)}r=R,o=w,c=Z,Q!=null?tr(i,!!o,Q,!1):!!c!=!!o&&(r!=null?tr(i,!!o,r,!0):tr(i,!!o,o?[]:"",!1));return;case"textarea":Z=Q=null;for(R in o)if(d=o[R],o.hasOwnProperty(R)&&d!=null&&!c.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:Ie(i,r,R,null,c,d)}for(w in c)if(d=c[w],y=o[w],c.hasOwnProperty(w)&&(d!=null||y!=null))switch(w){case"value":Q=d;break;case"defaultValue":Z=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==y&&Ie(i,r,w,d,c,y)}ry(i,Q,Z);return;case"option":for(var de in o)if(Q=o[de],o.hasOwnProperty(de)&&Q!=null&&!c.hasOwnProperty(de))switch(de){case"selected":i.selected=!1;break;default:Ie(i,r,de,null,c,Q)}for(L in c)if(Q=c[L],Z=o[L],c.hasOwnProperty(L)&&Q!==Z&&(Q!=null||Z!=null))switch(L){case"selected":i.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:Ie(i,r,L,Q,c,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in o)Q=o[we],o.hasOwnProperty(we)&&Q!=null&&!c.hasOwnProperty(we)&&Ie(i,r,we,null,c,Q);for(H in c)if(Q=c[H],Z=o[H],c.hasOwnProperty(H)&&Q!==Z&&(Q!=null||Z!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:Ie(i,r,H,Q,c,Z)}return;default:if(Nc(r)){for(var Ze in o)Q=o[Ze],o.hasOwnProperty(Ze)&&Q!==void 0&&!c.hasOwnProperty(Ze)&&Ef(i,r,Ze,void 0,c,Q);for(J in c)Q=c[J],Z=o[J],!c.hasOwnProperty(J)||Q===Z||Q===void 0&&Z===void 0||Ef(i,r,J,Q,c,Z);return}}for(var V in o)Q=o[V],o.hasOwnProperty(V)&&Q!=null&&!c.hasOwnProperty(V)&&Ie(i,r,V,null,c,Q);for(ie in c)Q=c[ie],Z=o[ie],!c.hasOwnProperty(ie)||Q===Z||Q==null&&Z==null||Ie(i,r,ie,Q,c,Z)}var Tf=null,Mf=null;function ou(i){return i.nodeType===9?i:i.ownerDocument}function J0(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function eb(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Cf(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var kf=null;function sE(){var i=window.event;return i&&i.type==="popstate"?i===kf?!1:(kf=i,!0):(kf=null,!1)}var tb=typeof setTimeout=="function"?setTimeout:void 0,rE=typeof clearTimeout=="function"?clearTimeout:void 0,nb=typeof Promise=="function"?Promise:void 0,aE=typeof queueMicrotask=="function"?queueMicrotask:typeof nb<"u"?function(i){return nb.resolve(null).then(i).catch(oE)}:tb;function oE(i){setTimeout(function(){throw i})}function Rf(i,r){var o=r,c=0;do{var d=o.nextSibling;if(i.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"){if(c===0){i.removeChild(d),so(r);return}c--}else o!=="$"&&o!=="$?"&&o!=="$!"||c++;o=d}while(o);so(r)}function Of(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Of(o),jc(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function lE(i,r,o,c){for(;i.nodeType===1;){var d=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[fa])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==d.rel||i.getAttribute("href")!==(d.href==null?null:d.href)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||i.getAttribute("title")!==(d.title==null?null:d.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(d.src==null?null:d.src)||i.getAttribute("type")!==(d.type==null?null:d.type)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var y=d.name==null?null:""+d.name;if(d.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=Mn(i.nextSibling),i===null)break}return null}function uE(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Mn(i.nextSibling),i===null))return null;return i}function Mn(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return i}function ib(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return i;r--}else o==="/$"&&r++}i=i.previousSibling}return null}function sb(i,r,o){switch(r=ou(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}var _n=new Map,rb=new Set;function lu(i){return typeof i.getRootNode=="function"?i.getRootNode():i.ownerDocument}var di=W.d;W.d={f:cE,r:hE,D:fE,C:dE,L:pE,m:gE,X:mE,S:yE,M:bE};function cE(){var i=di.f(),r=eu();return i||r}function hE(i){var r=Zs(i);r!==null&&r.tag===5&&r.type==="form"?Pm(r):di.r(i)}var kr=typeof document>"u"?null:document;function ab(i,r,o){var c=kr;if(c&&typeof r=="string"&&r){var d=cn(r);d='link[rel="'+i+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),rb.has(d)||(rb.add(d),i={rel:i,crossOrigin:o,href:r},c.querySelector(d)===null&&(r=c.createElement("link"),Et(r,"link",i),gt(r),c.head.appendChild(r)))}}function fE(i){di.D(i),ab("dns-prefetch",i,null)}function dE(i,r){di.C(i,r),ab("preconnect",i,r)}function pE(i,r,o){di.L(i,r,o);var c=kr;if(c&&i&&r){var d='link[rel="preload"][as="'+cn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+cn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+cn(o.imageSizes)+'"]')):d+='[href="'+cn(i)+'"]';var y=d;switch(r){case"style":y=Rr(i);break;case"script":y=Or(i)}_n.has(y)||(i=I({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),_n.set(y,i),c.querySelector(d)!==null||r==="style"&&c.querySelector(Ka(y))||r==="script"&&c.querySelector(Za(y))||(r=c.createElement("link"),Et(r,"link",i),gt(r),c.head.appendChild(r)))}}function gE(i,r){di.m(i,r);var o=kr;if(o&&i){var c=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+cn(c)+'"][href="'+cn(i)+'"]',y=d;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Or(i)}if(!_n.has(y)&&(i=I({rel:"modulepreload",href:i},r),_n.set(y,i),o.querySelector(d)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Za(y)))return}c=o.createElement("link"),Et(c,"link",i),gt(c),o.head.appendChild(c)}}}function yE(i,r,o){di.S(i,r,o);var c=kr;if(c&&i){var d=Js(c).hoistableStyles,y=Rr(i);r=r||"default";var w=d.get(y);if(!w){var R={loading:0,preload:null};if(w=c.querySelector(Ka(y)))R.loading=5;else{i=I({rel:"stylesheet",href:i,"data-precedence":r},o),(o=_n.get(y))&&Pf(i,o);var L=w=c.createElement("link");gt(L),Et(L,"link",i),L._p=new Promise(function(H,J){L.onload=H,L.onerror=J}),L.addEventListener("load",function(){R.loading|=1}),L.addEventListener("error",function(){R.loading|=2}),R.loading|=4,uu(w,r,c)}w={type:"stylesheet",instance:w,count:1,state:R},d.set(y,w)}}}function mE(i,r){di.X(i,r);var o=kr;if(o&&i){var c=Js(o).hoistableScripts,d=Or(i),y=c.get(d);y||(y=o.querySelector(Za(d)),y||(i=I({src:i,async:!0},r),(r=_n.get(d))&&Df(i,r),y=o.createElement("script"),gt(y),Et(y,"link",i),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(d,y))}}function bE(i,r){di.M(i,r);var o=kr;if(o&&i){var c=Js(o).hoistableScripts,d=Or(i),y=c.get(d);y||(y=o.querySelector(Za(d)),y||(i=I({src:i,async:!0,type:"module"},r),(r=_n.get(d))&&Df(i,r),y=o.createElement("script"),gt(y),Et(y,"link",i),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(d,y))}}function ob(i,r,o,c){var d=(d=nt.current)?lu(d):null;if(!d)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Rr(o.href),o=Js(d).hoistableStyles,c=o.get(r),c||(c={type:"style",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Rr(o.href);var y=Js(d).hoistableStyles,w=y.get(i);if(w||(d=d.ownerDocument||d,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,w),(y=d.querySelector(Ka(i)))&&!y._p&&(w.instance=y,w.state.loading=5),_n.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},_n.set(i,o),y||vE(d,i,o,w.state))),r&&c===null)throw Error(s(528,""));return w}if(r&&c!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Or(o),o=Js(d).hoistableScripts,c=o.get(r),c||(c={type:"script",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Rr(i){return'href="'+cn(i)+'"'}function Ka(i){return'link[rel="stylesheet"]['+i+"]"}function lb(i){return I({},i,{"data-precedence":i.precedence,precedence:null})}function vE(i,r,o,c){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=i.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),Et(r,"link",o),gt(r),i.head.appendChild(r))}function Or(i){return'[src="'+cn(i)+'"]'}function Za(i){return"script[async]"+i}function ub(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var c=i.querySelector('style[data-href~="'+cn(o.href)+'"]');if(c)return r.instance=c,gt(c),c;var d=I({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),gt(c),Et(c,"style",d),uu(c,o.precedence,i),r.instance=c;case"stylesheet":d=Rr(o.href);var y=i.querySelector(Ka(d));if(y)return r.state.loading|=4,r.instance=y,gt(y),y;c=lb(o),(d=_n.get(d))&&Pf(c,d),y=(i.ownerDocument||i).createElement("link"),gt(y);var w=y;return w._p=new Promise(function(R,L){w.onload=R,w.onerror=L}),Et(y,"link",c),r.state.loading|=4,uu(y,o.precedence,i),r.instance=y;case"script":return y=Or(o.src),(d=i.querySelector(Za(y)))?(r.instance=d,gt(d),d):(c=o,(d=_n.get(y))&&(c=I({},o),Df(c,d)),i=i.ownerDocument||i,d=i.createElement("script"),gt(d),Et(d,"link",c),i.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,uu(c,o.precedence,i));return r.instance}function uu(i,r,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=c.length?c[c.length-1]:null,y=d,w=0;w<c.length;w++){var R=c[w];if(R.dataset.precedence===r)y=R;else if(y!==d)break}y?y.parentNode.insertBefore(i,y.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function Pf(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Df(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var cu=null;function cb(i,r,o){if(cu===null){var c=new Map,d=cu=new Map;d.set(o,c)}else d=cu,c=d.get(o),c||(c=new Map,d.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),d=0;d<o.length;d++){var y=o[d];if(!(y[fa]||y[Rt]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var w=y.getAttribute(r)||"";w=i+w;var R=c.get(w);R?R.push(y):c.set(w,[y])}}return c}function hb(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function _E(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function fb(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Ja=null;function wE(){}function xE(i,r,o){if(Ja===null)throw Error(s(475));var c=Ja;if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var d=Rr(o.href),y=i.querySelector(Ka(d));if(y){i=y._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(c.count++,c=hu.bind(c),i.then(c,c)),r.state.loading|=4,r.instance=y,gt(y);return}y=i.ownerDocument||i,o=lb(o),(d=_n.get(d))&&Pf(o,d),y=y.createElement("link"),gt(y);var w=y;w._p=new Promise(function(R,L){w.onload=R,w.onerror=L}),Et(y,"link",o),r.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(c.count++,r=hu.bind(c),i.addEventListener("load",r),i.addEventListener("error",r))}}function SE(){if(Ja===null)throw Error(s(475));var i=Ja;return i.stylesheets&&i.count===0&&Bf(i,i.stylesheets),0<i.count?function(r){var o=setTimeout(function(){if(i.stylesheets&&Bf(i,i.stylesheets),i.unsuspend){var c=i.unsuspend;i.unsuspend=null,c()}},6e4);return i.unsuspend=r,function(){i.unsuspend=null,clearTimeout(o)}}:null}function hu(){if(this.count--,this.count===0){if(this.stylesheets)Bf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var fu=null;function Bf(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,fu=new Map,r.forEach(AE,i),fu=null,hu.call(i))}function AE(i,r){if(!(r.state.loading&4)){var o=fu.get(i);if(o)var c=o.get(null);else{o=new Map,fu.set(i,o);for(var d=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<d.length;y++){var w=d[y];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),c=w)}c&&o.set(null,c)}d=r.instance,w=d.getAttribute("data-precedence"),y=o.get(w)||c,y===c&&o.set(null,d),o.set(w,d),this.count++,c=hu.bind(this),d.addEventListener("load",c),d.addEventListener("error",c),y?y.parentNode.insertBefore(d,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(d,i.firstChild)),r.state.loading|=4}}var eo={$$typeof:v,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function EE(i,r,o,c,d,y,w,R){this.tag=1,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=zc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.hiddenUpdates=zc(null),this.identifierPrefix=c,this.onUncaughtError=d,this.onCaughtError=y,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function db(i,r,o,c,d,y,w,R,L,H,J,ie){return i=new EE(i,r,o,w,R,L,H,ie),r=1,y===!0&&(r|=24),y=bn(3,null,null,r),i.current=y,y.stateNode=i,r=hh(),r.refCount++,i.pooledCache=r,r.refCount++,y.memoizedState={element:c,isDehydrated:o,cache:r},Fh(y),i}function pb(i){return i?(i=ur,i):ur}function gb(i,r,o,c,d,y){d=pb(d),c.context===null?c.context=d:c.pendingContext=d,c=zi(r),c.payload={element:o},y=y===void 0?null:y,y!==null&&(c.callback=y),o=Ui(i,c,r),o!==null&&(It(o,i,r),ja(o,i,r))}function yb(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function zf(i,r){yb(i,r),(i=i.alternate)&&yb(i,r)}function mb(i){if(i.tag===13){var r=Ci(i,67108864);r!==null&&It(r,i,67108864),zf(i,67108864)}}var du=!0;function TE(i,r,o,c){var d=j.T;j.T=null;var y=W.p;try{W.p=2,Uf(i,r,o,c)}finally{W.p=y,j.T=d}}function ME(i,r,o,c){var d=j.T;j.T=null;var y=W.p;try{W.p=8,Uf(i,r,o,c)}finally{W.p=y,j.T=d}}function Uf(i,r,o,c){if(du){var d=jf(c);if(d===null)Af(i,r,c,pu,o),vb(i,c);else if(kE(d,i,r,o,c))c.stopPropagation();else if(vb(i,c),r&4&&-1<CE.indexOf(i)){for(;d!==null;){var y=Zs(d);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var w=ss(y.pendingLanes);if(w!==0){var R=y;for(R.pendingLanes|=2,R.entangledLanes|=2;w;){var L=1<<31-Wt(w);R.entanglements[1]|=L,w&=~L}qn(y),(Ye&6)===0&&(Kl=Un()+500,Xa(0))}}break;case 13:R=Ci(y,2),R!==null&&It(R,y,2),eu(),zf(y,2)}if(y=jf(c),y===null&&Af(i,r,c,pu,o),y===d)break;d=y}d!==null&&c.stopPropagation()}else Af(i,r,c,null,o)}}function jf(i){return i=Gc(i),Lf(i)}var pu=null;function Lf(i){if(pu=null,i=rs(i),i!==null){var r=z(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=$(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return pu=i,null}function bb(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(d1()){case Gg:return 2;case Hg:return 8;case ul:case p1:return 32;case $g:return 268435456;default:return 32}default:return 32}}var If=!1,Hi=null,$i=null,Fi=null,to=new Map,no=new Map,Vi=[],CE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vb(i,r){switch(i){case"focusin":case"focusout":Hi=null;break;case"dragenter":case"dragleave":$i=null;break;case"mouseover":case"mouseout":Fi=null;break;case"pointerover":case"pointerout":to.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":no.delete(r.pointerId)}}function io(i,r,o,c,d,y){return i===null||i.nativeEvent!==y?(i={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:y,targetContainers:[d]},r!==null&&(r=Zs(r),r!==null&&mb(r)),i):(i.eventSystemFlags|=c,r=i.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),i)}function kE(i,r,o,c,d){switch(r){case"focusin":return Hi=io(Hi,i,r,o,c,d),!0;case"dragenter":return $i=io($i,i,r,o,c,d),!0;case"mouseover":return Fi=io(Fi,i,r,o,c,d),!0;case"pointerover":var y=d.pointerId;return to.set(y,io(to.get(y)||null,i,r,o,c,d)),!0;case"gotpointercapture":return y=d.pointerId,no.set(y,io(no.get(y)||null,i,r,o,c,d)),!0}return!1}function _b(i){var r=rs(i.target);if(r!==null){var o=z(r);if(o!==null){if(r=o.tag,r===13){if(r=$(o),r!==null){i.blockedOn=r,S1(i.priority,function(){if(o.tag===13){var c=tn(),d=Ci(o,c);d!==null&&It(d,o,c),zf(o,c)}});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function gu(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=jf(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);qc=c,o.target.dispatchEvent(c),qc=null}else return r=Zs(o),r!==null&&mb(r),i.blockedOn=o,!1;r.shift()}return!0}function wb(i,r,o){gu(i)&&o.delete(r)}function RE(){If=!1,Hi!==null&&gu(Hi)&&(Hi=null),$i!==null&&gu($i)&&($i=null),Fi!==null&&gu(Fi)&&(Fi=null),to.forEach(wb),no.forEach(wb)}function yu(i,r){i.blockedOn===r&&(i.blockedOn=null,If||(If=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,RE)))}var mu=null;function xb(i){mu!==i&&(mu=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){mu===i&&(mu=null);for(var r=0;r<i.length;r+=3){var o=i[r],c=i[r+1],d=i[r+2];if(typeof c!="function"){if(Lf(c||o)===null)continue;break}var y=Zs(o);y!==null&&(i.splice(r,3),r-=3,Mh(y,{pending:!0,data:d,method:o.method,action:c},c,d))}}))}function so(i){function r(L){return yu(L,i)}Hi!==null&&yu(Hi,i),$i!==null&&yu($i,i),Fi!==null&&yu(Fi,i),to.forEach(r),no.forEach(r);for(var o=0;o<Vi.length;o++){var c=Vi[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Vi.length&&(o=Vi[0],o.blockedOn===null);)_b(o),o.blockedOn===null&&Vi.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var d=o[c],y=o[c+1],w=d[Gt]||null;if(typeof y=="function")w||xb(o);else if(w){var R=null;if(y&&y.hasAttribute("formAction")){if(d=y,w=y[Gt]||null)R=w.formAction;else if(Lf(d)!==null)continue}else R=w.action;typeof R=="function"?o[c+1]=R:(o.splice(c,3),c-=3),xb(o)}}}function Nf(i){this._internalRoot=i}bu.prototype.render=Nf.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,c=tn();gb(o,c,i,r,null,null)},bu.prototype.unmount=Nf.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;i.tag===0&&Tr(),gb(i.current,2,null,i,null,null),eu(),r[Ks]=null}};function bu(i){this._internalRoot=i}bu.prototype.unstable_scheduleHydration=function(i){if(i){var r=Wg();i={blockedOn:null,target:i,priority:r};for(var o=0;o<Vi.length&&r!==0&&r<Vi[o].priority;o++);Vi.splice(o,0,i),o===0&&_b(i)}};var Sb=e.version;if(Sb!=="19.0.0")throw Error(s(527,Sb,"19.0.0"));W.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=N(r),i=i!==null?F(i):null,i=i===null?null:i.stateNode,i};var OE={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:j,findFiberByHostInstance:rs,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vu.isDisabled&&vu.supportsFiber)try{ua=vu.inject(OE),Qt=vu}catch{}}return ao.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,c="",d=Nm,y=qm,w=Gm,R=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(w=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(R=r.unstable_transitionCallbacks)),r=db(i,1,!1,null,null,o,c,d,y,w,R,null),i[Ks]=r.current,Sf(i.nodeType===8?i.parentNode:i),new Nf(r)},ao.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var c=!1,d="",y=Nm,w=qm,R=Gm,L=null,H=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(R=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(L=o.unstable_transitionCallbacks),o.formState!==void 0&&(H=o.formState)),r=db(i,1,!0,r,o??null,c,d,y,w,R,L,H),r.context=pb(null),o=r.current,c=tn(),d=zi(c),d.callback=null,Ui(o,d,c),r.current.lanes=c,ha(r,c),qn(r),i[Ks]=r.current,Sf(i),new bu(r)},ao.version="19.0.0",ao}var Db;function $E(){if(Db)return Hf.exports;Db=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Hf.exports=HE(),Hf.exports}var FE=$E(),Yf={exports:{}},Xf={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bb;function VE(){if(Bb)return Xf;Bb=1;var n=vc();function e(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var t=typeof Object.is=="function"?Object.is:e,s=n.useSyncExternalStore,a=n.useRef,l=n.useEffect,u=n.useMemo,h=n.useDebugValue;return Xf.useSyncExternalStoreWithSelector=function(f,p,g,m,b){var v=a(null);if(v.current===null){var x={hasValue:!1,value:null};v.current=x}else x=v.current;v=u(function(){function _(D){if(!E){if(E=!0,k=D,D=m(D),b!==void 0&&x.hasValue){var B=x.value;if(b(B,D))return A=B}return A=D}if(B=A,t(k,D))return B;var O=m(D);return b!==void 0&&b(B,O)?(k=D,B):(k=D,A=O)}var E=!1,k,A,M=g===void 0?null:g;return[function(){return _(p())},M===null?void 0:function(){return _(M())}]},[p,g,m,b]);var S=s(f,v[0],v[1]);return l(function(){x.hasValue=!0,x.value=S},[S]),h(S),S},Xf}var zb;function YE(){return zb||(zb=1,Yf.exports=VE()),Yf.exports}var XE=YE();function kw(n){n()}function QE(){let n=null,e=null;return{clear(){n=null,e=null},notify(){kw(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let s=n;for(;s;)t.push(s),s=s.next;return t},subscribe(t){let s=!0;const a=e={callback:t,next:null,prev:e};return a.prev?a.prev.next=a:n=a,function(){!s||n===null||(s=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:n=a.next)}}}}var Ub={notify(){},get:()=>[]};function WE(n,e){let t,s=Ub,a=0,l=!1;function u(S){g();const _=s.subscribe(S);let E=!1;return()=>{E||(E=!0,_(),m())}}function h(){s.notify()}function f(){x.onStateChange&&x.onStateChange()}function p(){return l}function g(){a++,t||(t=n.subscribe(f),s=QE())}function m(){a--,t&&a===0&&(t(),t=void 0,s.clear(),s=Ub)}function b(){l||(l=!0,g())}function v(){l&&(l=!1,m())}const x={addNestedSub:u,notifyNestedSubs:h,handleChangeWrapper:f,isSubscribed:p,trySubscribe:b,tryUnsubscribe:v,getListeners:()=>s};return x}var KE=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ZE=KE(),JE=()=>typeof navigator<"u"&&navigator.product==="ReactNative",eT=JE(),tT=()=>ZE||eT?he.useLayoutEffect:he.useEffect,nT=tT();function jb(n,e){return n===e?n!==0||e!==0||1/n===1/e:n!==n&&e!==e}function Ro(n,e){if(jb(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;const t=Object.keys(n),s=Object.keys(e);if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(!Object.prototype.hasOwnProperty.call(e,t[a])||!jb(n[t[a]],e[t[a]]))return!1;return!0}var iT=Symbol.for("react-redux-context"),sT=typeof globalThis<"u"?globalThis:{};function rT(){if(!he.createContext)return{};const n=sT[iT]??=new Map;let e=n.get(he.createContext);return e||(e=he.createContext(null),n.set(he.createContext,e)),e}var Ji=rT();function aT(n){const{children:e,context:t,serverState:s,store:a}=n,l=he.useMemo(()=>{const f=WE(a);return{store:a,subscription:f,getServerState:s?()=>s:void 0}},[a,s]),u=he.useMemo(()=>a.getState(),[a]);nT(()=>{const{subscription:f}=l;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),u!==a.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[l,u]);const h=t||Ji;return he.createElement(h.Provider,{value:l},e)}var oT=aT;function $p(n=Ji){return function(){return he.useContext(n)}}var Rw=$p();function Ow(n=Ji){const e=n===Ji?Rw:$p(n),t=()=>{const{store:s}=e();return s};return Object.assign(t,{withTypes:()=>t}),t}var Fp=Ow();function lT(n=Ji){const e=n===Ji?Fp:Ow(n),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var Pw=lT(),uT=(n,e)=>n===e;function cT(n=Ji){const e=n===Ji?Rw:$p(n),t=(s,a={})=>{const{equalityFn:l=uT}=typeof a=="function"?{equalityFn:a}:a,u=e(),{store:h,subscription:f,getServerState:p}=u;he.useRef(!0);const g=he.useCallback({[s.name](b){return s(b)}}[s.name],[s]),m=XE.useSyncExternalStoreWithSelector(f.addNestedSub,h.getState,p||h.getState,g,l);return he.useDebugValue(m),m};return Object.assign(t,{withTypes:()=>t}),t}var Dw=cT(),hT=kw;function Mt(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var fT=typeof Symbol=="function"&&Symbol.observable||"@@observable",Lb=fT,Qf=()=>Math.random().toString(36).substring(7).split("").join("."),dT={INIT:`@@redux/INIT${Qf()}`,REPLACE:`@@redux/REPLACE${Qf()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Qf()}`},ic=dT;function Zr(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function Vp(n,e,t){if(typeof n!="function")throw new Error(Mt(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(Mt(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(Mt(1));return t(Vp)(n,e)}let s=n,a=e,l=new Map,u=l,h=0,f=!1;function p(){u===l&&(u=new Map,l.forEach((_,E)=>{u.set(E,_)}))}function g(){if(f)throw new Error(Mt(3));return a}function m(_){if(typeof _!="function")throw new Error(Mt(4));if(f)throw new Error(Mt(5));let E=!0;p();const k=h++;return u.set(k,_),function(){if(E){if(f)throw new Error(Mt(6));E=!1,p(),u.delete(k),l=null}}}function b(_){if(!Zr(_))throw new Error(Mt(7));if(typeof _.type>"u")throw new Error(Mt(8));if(typeof _.type!="string")throw new Error(Mt(17));if(f)throw new Error(Mt(9));try{f=!0,a=s(a,_)}finally{f=!1}return(l=u).forEach(k=>{k()}),_}function v(_){if(typeof _!="function")throw new Error(Mt(10));s=_,b({type:ic.REPLACE})}function x(){const _=m;return{subscribe(E){if(typeof E!="object"||E===null)throw new Error(Mt(11));function k(){const M=E;M.next&&M.next(g())}return k(),{unsubscribe:_(k)}},[Lb](){return this}}}return b({type:ic.INIT}),{dispatch:b,subscribe:m,getState:g,replaceReducer:v,[Lb]:x}}function pT(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:ic.INIT})>"u")throw new Error(Mt(12));if(typeof t(void 0,{type:ic.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Mt(13))})}function Yp(n){const e=Object.keys(n),t={};for(let l=0;l<e.length;l++){const u=e[l];typeof n[u]=="function"&&(t[u]=n[u])}const s=Object.keys(t);let a;try{pT(t)}catch(l){a=l}return function(u={},h){if(a)throw a;let f=!1;const p={};for(let g=0;g<s.length;g++){const m=s[g],b=t[m],v=u[m],x=b(v,h);if(typeof x>"u")throw h&&h.type,new Error(Mt(14));p[m]=x,f=f||x!==v}return f=f||s.length!==Object.keys(u).length,f?p:u}}function sc(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...s)=>e(t(...s)))}function gT(...n){return e=>(t,s)=>{const a=e(t,s);let l=()=>{throw new Error(Mt(15))};const u={getState:a.getState,dispatch:(f,...p)=>l(f,...p)},h=n.map(f=>f(u));return l=sc(...h)(a.dispatch),{...a,dispatch:l}}}function Xp(n){return Zr(n)&&"type"in n&&typeof n.type=="string"}var Qp=Symbol.for("immer-nothing"),Oo=Symbol.for("immer-draftable"),Xt=Symbol.for("immer-state");function Ct(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var qs=Object.getPrototypeOf;function Vn(n){return!!n&&!!n[Xt]}function Dn(n){return n?Bw(n)||Array.isArray(n)||!!n[Oo]||!!n.constructor?.[Oo]||el(n)||tl(n):!1}var yT=Object.prototype.constructor.toString();function Bw(n){if(!n||typeof n!="object")return!1;const e=qs(n);if(e===null)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===yT}function mT(n){return Vn(n)||Ct(15,n),n[Xt].base_}function qo(n,e){Gs(n)===0?Reflect.ownKeys(n).forEach(t=>{e(t,n[t],n)}):n.forEach((t,s)=>e(s,t,n))}function Gs(n){const e=n[Xt];return e?e.type_:Array.isArray(n)?1:el(n)?2:tl(n)?3:0}function Go(n,e){return Gs(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function Wf(n,e){return Gs(n)===2?n.get(e):n[e]}function zw(n,e,t){const s=Gs(n);s===2?n.set(e,t):s===3?n.add(t):n[e]=t}function bT(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function el(n){return n instanceof Map}function tl(n){return n instanceof Set}function Rs(n){return n.copy_||n.base_}function Kd(n,e){if(el(n))return new Map(n);if(tl(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const t=Bw(n);if(e===!0||e==="class_only"&&!t){const s=Object.getOwnPropertyDescriptors(n);delete s[Xt];let a=Reflect.ownKeys(s);for(let l=0;l<a.length;l++){const u=a[l],h=s[u];h.writable===!1&&(h.writable=!0,h.configurable=!0),(h.get||h.set)&&(s[u]={configurable:!0,writable:!0,enumerable:h.enumerable,value:n[u]})}return Object.create(qs(n),s)}else{const s=qs(n);if(s!==null&&t)return{...n};const a=Object.create(s);return Object.assign(a,n)}}function Wp(n,e=!1){return _c(n)||Vn(n)||!Dn(n)||(Gs(n)>1&&(n.set=n.add=n.clear=n.delete=vT),Object.freeze(n),e&&Object.entries(n).forEach(([t,s])=>Wp(s,!0))),n}function vT(){Ct(2)}function _c(n){return Object.isFrozen(n)}var Zd={};function Hs(n){const e=Zd[n];return e||Ct(0,n),e}function _T(n,e){Zd[n]||(Zd[n]=e)}var Ho;function Uw(){return Ho}function wT(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Ib(n,e){e&&(Hs("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function Jd(n){ep(n),n.drafts_.forEach(xT),n.drafts_=null}function ep(n){n===Ho&&(Ho=n.parent_)}function Nb(n){return Ho=wT(Ho,n)}function xT(n){const e=n[Xt];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function qb(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return n!==void 0&&n!==t?(t[Xt].modified_&&(Jd(e),Ct(4)),Dn(n)&&(n=rc(e,n),e.parent_||ac(e,n)),e.patches_&&Hs("Patches").generateReplacementPatches_(t[Xt].base_,n,e.patches_,e.inversePatches_)):n=rc(e,t,[]),Jd(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==Qp?n:void 0}function rc(n,e,t){if(_c(e))return e;const s=e[Xt];if(!s)return qo(e,(a,l)=>Gb(n,s,e,a,l,t)),e;if(s.scope_!==n)return e;if(!s.modified_)return ac(n,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const a=s.copy_;let l=a,u=!1;s.type_===3&&(l=new Set(a),a.clear(),u=!0),qo(l,(h,f)=>Gb(n,s,a,h,f,t,u)),ac(n,a,!1),t&&n.patches_&&Hs("Patches").generatePatches_(s,t,n.patches_,n.inversePatches_)}return s.copy_}function Gb(n,e,t,s,a,l,u){if(Vn(a)){const h=l&&e&&e.type_!==3&&!Go(e.assigned_,s)?l.concat(s):void 0,f=rc(n,a,h);if(zw(t,s,f),Vn(f))n.canAutoFreeze_=!1;else return}else u&&t.add(a);if(Dn(a)&&!_c(a)){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1)return;rc(n,a),(!e||!e.scope_.parent_)&&typeof s!="symbol"&&Object.prototype.propertyIsEnumerable.call(t,s)&&ac(n,a)}}function ac(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&Wp(e,t)}function ST(n,e){const t=Array.isArray(n),s={type_:t?1:0,scope_:e?e.scope_:Uw(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=s,l=Kp;t&&(a=[s],l=$o);const{revoke:u,proxy:h}=Proxy.revocable(a,l);return s.draft_=h,s.revoke_=u,h}var Kp={get(n,e){if(e===Xt)return n;const t=Rs(n);if(!Go(t,e))return AT(n,t,e);const s=t[e];return n.finalized_||!Dn(s)?s:s===Kf(n.base_,e)?(Zf(n),n.copy_[e]=np(s,n)):s},has(n,e){return e in Rs(n)},ownKeys(n){return Reflect.ownKeys(Rs(n))},set(n,e,t){const s=jw(Rs(n),e);if(s?.set)return s.set.call(n.draft_,t),!0;if(!n.modified_){const a=Kf(Rs(n),e),l=a?.[Xt];if(l&&l.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if(bT(t,a)&&(t!==void 0||Go(n.base_,e)))return!0;Zf(n),tp(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty(n,e){return Kf(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,Zf(n),tp(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=Rs(n),s=Reflect.getOwnPropertyDescriptor(t,e);return s&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:s.enumerable,value:t[e]}},defineProperty(){Ct(11)},getPrototypeOf(n){return qs(n.base_)},setPrototypeOf(){Ct(12)}},$o={};qo(Kp,(n,e)=>{$o[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});$o.deleteProperty=function(n,e){return $o.set.call(this,n,e,void 0)};$o.set=function(n,e,t){return Kp.set.call(this,n[0],e,t,n[0])};function Kf(n,e){const t=n[Xt];return(t?Rs(t):n)[e]}function AT(n,e,t){const s=jw(e,t);return s?"value"in s?s.value:s.get?.call(n.draft_):void 0}function jw(n,e){if(!(e in n))return;let t=qs(n);for(;t;){const s=Object.getOwnPropertyDescriptor(t,e);if(s)return s;t=qs(t)}}function tp(n){n.modified_||(n.modified_=!0,n.parent_&&tp(n.parent_))}function Zf(n){n.copy_||(n.copy_=Kd(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var ET=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,s)=>{if(typeof e=="function"&&typeof t!="function"){const l=t;t=e;const u=this;return function(f=l,...p){return u.produce(f,g=>t.call(this,g,...p))}}typeof t!="function"&&Ct(6),s!==void 0&&typeof s!="function"&&Ct(7);let a;if(Dn(e)){const l=Nb(this),u=np(e,void 0);let h=!0;try{a=t(u),h=!1}finally{h?Jd(l):ep(l)}return Ib(l,s),qb(a,l)}else if(!e||typeof e!="object"){if(a=t(e),a===void 0&&(a=e),a===Qp&&(a=void 0),this.autoFreeze_&&Wp(a,!0),s){const l=[],u=[];Hs("Patches").generateReplacementPatches_(e,a,l,u),s(l,u)}return a}else Ct(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(u,...h)=>this.produceWithPatches(u,f=>e(f,...h));let s,a;return[this.produce(e,t,(u,h)=>{s=u,a=h}),s,a]},typeof n?.autoFreeze=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof n?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy)}createDraft(n){Dn(n)||Ct(8),Vn(n)&&(n=TT(n));const e=Nb(this),t=np(n,void 0);return t[Xt].isManual_=!0,ep(e),t}finishDraft(n,e){const t=n&&n[Xt];(!t||!t.isManual_)&&Ct(9);const{scope_:s}=t;return Ib(s,e),qb(void 0,s)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const a=e[t];if(a.path.length===0&&a.op==="replace"){n=a.value;break}}t>-1&&(e=e.slice(t+1));const s=Hs("Patches").applyPatches_;return Vn(n)?s(n,e):this.produce(n,a=>s(a,e))}};function np(n,e){const t=el(n)?Hs("MapSet").proxyMap_(n,e):tl(n)?Hs("MapSet").proxySet_(n,e):ST(n,e);return(e?e.scope_:Uw()).drafts_.push(t),t}function TT(n){return Vn(n)||Ct(10,n),Lw(n)}function Lw(n){if(!Dn(n)||_c(n))return n;const e=n[Xt];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=Kd(n,e.scope_.immer_.useStrictShallowCopy_)}else t=Kd(n,!0);return qo(t,(s,a)=>{zw(t,s,Lw(a))}),e&&(e.finalized_=!1),t}function MT(){const e="replace",s="remove";function a(b,v,x,S){switch(b.type_){case 0:case 2:return u(b,v,x,S);case 1:return l(b,v,x,S);case 3:return h(b,v,x,S)}}function l(b,v,x,S){let{base_:_,assigned_:E}=b,k=b.copy_;k.length<_.length&&([_,k]=[k,_],[x,S]=[S,x]);for(let A=0;A<_.length;A++)if(E[A]&&k[A]!==_[A]){const M=v.concat([A]);x.push({op:e,path:M,value:m(k[A])}),S.push({op:e,path:M,value:m(_[A])})}for(let A=_.length;A<k.length;A++){const M=v.concat([A]);x.push({op:"add",path:M,value:m(k[A])})}for(let A=k.length-1;_.length<=A;--A){const M=v.concat([A]);S.push({op:s,path:M})}}function u(b,v,x,S){const{base_:_,copy_:E}=b;qo(b.assigned_,(k,A)=>{const M=Wf(_,k),D=Wf(E,k),B=A?Go(_,k)?e:"add":s;if(M===D&&B===e)return;const O=v.concat(k);x.push(B===s?{op:B,path:O}:{op:B,path:O,value:D}),S.push(B==="add"?{op:s,path:O}:B===s?{op:"add",path:O,value:m(M)}:{op:e,path:O,value:m(M)})})}function h(b,v,x,S){let{base_:_,copy_:E}=b,k=0;_.forEach(A=>{if(!E.has(A)){const M=v.concat([k]);x.push({op:s,path:M,value:A}),S.unshift({op:"add",path:M,value:A})}k++}),k=0,E.forEach(A=>{if(!_.has(A)){const M=v.concat([k]);x.push({op:"add",path:M,value:A}),S.unshift({op:s,path:M,value:A})}k++})}function f(b,v,x,S){x.push({op:e,path:[],value:v===Qp?void 0:v}),S.push({op:e,path:[],value:b})}function p(b,v){return v.forEach(x=>{const{path:S,op:_}=x;let E=b;for(let D=0;D<S.length-1;D++){const B=Gs(E);let O=S[D];typeof O!="string"&&typeof O!="number"&&(O=""+O),(B===0||B===1)&&(O==="__proto__"||O==="constructor")&&Ct(19),typeof E=="function"&&O==="prototype"&&Ct(19),E=Wf(E,O),typeof E!="object"&&Ct(18,S.join("/"))}const k=Gs(E),A=g(x.value),M=S[S.length-1];switch(_){case e:switch(k){case 2:return E.set(M,A);case 3:Ct(16);default:return E[M]=A}case"add":switch(k){case 1:return M==="-"?E.push(A):E.splice(M,0,A);case 2:return E.set(M,A);case 3:return E.add(A);default:return E[M]=A}case s:switch(k){case 1:return E.splice(M,1);case 2:return E.delete(M);case 3:return E.delete(x.value);default:return delete E[M]}default:Ct(17,_)}}),b}function g(b){if(!Dn(b))return b;if(Array.isArray(b))return b.map(g);if(el(b))return new Map(Array.from(b.entries()).map(([x,S])=>[x,g(S)]));if(tl(b))return new Set(Array.from(b).map(g));const v=Object.create(qs(b));for(const x in b)v[x]=g(b[x]);return Go(b,Oo)&&(v[Oo]=b[Oo]),v}function m(b){return Vn(b)?g(b):b}_T("Patches",{applyPatches_:p,generatePatches_:a,generateReplacementPatches_:f})}var ln=new ET,nl=ln.produce,Iw=ln.produceWithPatches.bind(ln);ln.setAutoFreeze.bind(ln);ln.setUseStrictShallowCopy.bind(ln);var Hb=ln.applyPatches.bind(ln);ln.createDraft.bind(ln);ln.finishDraft.bind(ln);function CT(n,e=`expected a function, instead received ${typeof n}`){if(typeof n!="function")throw new TypeError(e)}function kT(n,e=`expected an object, instead received ${typeof n}`){if(typeof n!="object")throw new TypeError(e)}function RT(n,e="expected all items to be functions, instead received the following types: "){if(!n.every(t=>typeof t=="function")){const t=n.map(s=>typeof s=="function"?`function ${s.name||"unnamed"}()`:typeof s).join(", ");throw new TypeError(`${e}[${t}]`)}}var $b=n=>Array.isArray(n)?n:[n];function OT(n){const e=Array.isArray(n[0])?n[0]:n;return RT(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function PT(n,e){const t=[],{length:s}=n;for(let a=0;a<s;a++)t.push(n[a].apply(null,e));return t}var DT=class{constructor(n){this.value=n}deref(){return this.value}},BT=typeof WeakRef<"u"?WeakRef:DT,zT=0,Fb=1;function _u(){return{s:zT,v:void 0,o:null,p:null}}function oc(n,e={}){let t=_u();const{resultEqualityCheck:s}=e;let a,l=0;function u(){let h=t;const{length:f}=arguments;for(let m=0,b=f;m<b;m++){const v=arguments[m];if(typeof v=="function"||typeof v=="object"&&v!==null){let x=h.o;x===null&&(h.o=x=new WeakMap);const S=x.get(v);S===void 0?(h=_u(),x.set(v,h)):h=S}else{let x=h.p;x===null&&(h.p=x=new Map);const S=x.get(v);S===void 0?(h=_u(),x.set(v,h)):h=S}}const p=h;let g;if(h.s===Fb)g=h.v;else if(g=n.apply(null,arguments),l++,s){const m=a?.deref?.()??a;m!=null&&s(m,g)&&(g=m,l!==0&&l--),a=typeof g=="object"&&g!==null||typeof g=="function"?new BT(g):g}return p.s=Fb,p.v=g,g}return u.clearCache=()=>{t=_u(),u.resetResultsCount()},u.resultsCount=()=>l,u.resetResultsCount=()=>{l=0},u}function UT(n,...e){const t=typeof n=="function"?{memoize:n,memoizeOptions:e}:n,s=(...a)=>{let l=0,u=0,h,f={},p=a.pop();typeof p=="object"&&(f=p,p=a.pop()),CT(p,`createSelector expects an output function after the inputs, but received: [${typeof p}]`);const g={...t,...f},{memoize:m,memoizeOptions:b=[],argsMemoize:v=oc,argsMemoizeOptions:x=[]}=g,S=$b(b),_=$b(x),E=OT(a),k=m(function(){return l++,p.apply(null,arguments)},...S),A=v(function(){u++;const D=PT(E,arguments);return h=k.apply(null,D),h},..._);return Object.assign(A,{resultFunc:p,memoizedResultFunc:k,dependencies:E,dependencyRecomputations:()=>u,resetDependencyRecomputations:()=>{u=0},lastResult:()=>h,recomputations:()=>l,resetRecomputations:()=>{l=0},memoize:m,argsMemoize:v})};return Object.assign(s,{withTypes:()=>s}),s}var Zp=UT(oc),jT=Object.assign((n,e=Zp)=>{kT(n,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof n}`);const t=Object.keys(n),s=t.map(l=>n[l]);return e(s,(...l)=>l.reduce((u,h,f)=>(u[t[f]]=h,u),{}))},{withTypes:()=>jT});function Nw(n){return({dispatch:t,getState:s})=>a=>l=>typeof l=="function"?l(t,s,n):a(l)}var LT=Nw(),IT=Nw,NT=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?sc:sc.apply(null,arguments)},qT=n=>n&&typeof n.match=="function";function qt(n,e){function t(...s){if(e){let a=e(...s);if(!a)throw new Error(xt(0));return{type:n,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:n,payload:s[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=s=>Xp(s)&&s.type===n,t}var qw=class wo extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,wo.prototype)}static get[Symbol.species](){return wo}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new wo(...e[0].concat(this)):new wo(...e.concat(this))}};function Vb(n){return Dn(n)?nl(n,()=>{}):n}function ip(n,e,t){return n.has(e)?n.get(e):n.set(e,t(e)).get(e)}function GT(n){return typeof n=="boolean"}var HT=()=>function(e){const{thunk:t=!0,immutableCheck:s=!0,serializableCheck:a=!0,actionCreatorCheck:l=!0}=e??{};let u=new qw;return t&&(GT(t)?u.push(LT):u.push(IT(t.extraArgument))),u},wc="RTK_autoBatch",oo=()=>n=>({payload:n,meta:{[wc]:!0}}),Yb=n=>e=>{setTimeout(e,n)},$T=(n={type:"raf"})=>e=>(...t)=>{const s=e(...t);let a=!0,l=!1,u=!1;const h=new Set,f=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Yb(10):n.type==="callback"?n.queueNotification:Yb(n.timeout),p=()=>{u=!1,l&&(l=!1,h.forEach(g=>g()))};return Object.assign({},s,{subscribe(g){const m=()=>a&&g(),b=s.subscribe(m);return h.add(g),()=>{b(),h.delete(g)}},dispatch(g){try{return a=!g?.meta?.[wc],l=!a,l&&(u||(u=!0,f(p))),s.dispatch(g)}finally{a=!0}}})},FT=n=>function(t){const{autoBatch:s=!0}=t??{};let a=new qw(n);return s&&a.push($T(typeof s=="object"?s:void 0)),a};function VT(n){const e=HT(),{reducer:t=void 0,middleware:s,devTools:a=!0,preloadedState:l=void 0,enhancers:u=void 0}=n||{};let h;if(typeof t=="function")h=t;else if(Zr(t))h=Yp(t);else throw new Error(xt(1));let f;typeof s=="function"?f=s(e):f=e();let p=sc;a&&(p=NT({trace:!1,...typeof a=="object"&&a}));const g=gT(...f),m=FT(g);let b=typeof u=="function"?u(m):m();const v=p(...b);return Vp(h,l,v)}function Gw(n){const e={},t=[];let s;const a={addCase(l,u){const h=typeof l=="string"?l:l.type;if(!h)throw new Error(xt(28));if(h in e)throw new Error(xt(29));return e[h]=u,a},addMatcher(l,u){return t.push({matcher:l,reducer:u}),a},addDefaultCase(l){return s=l,a}};return n(a),[e,t,s]}function YT(n){return typeof n=="function"}function XT(n,e){let[t,s,a]=Gw(e),l;if(YT(n))l=()=>Vb(n());else{const h=Vb(n);l=()=>h}function u(h=l(),f){let p=[t[f.type],...s.filter(({matcher:g})=>g(f)).map(({reducer:g})=>g)];return p.filter(g=>!!g).length===0&&(p=[a]),p.reduce((g,m)=>{if(m)if(Vn(g)){const v=m(g,f);return v===void 0?g:v}else{if(Dn(g))return nl(g,b=>m(b,f));{const b=m(g,f);if(b===void 0){if(g===null)return g;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return g},h)}return u.getInitialState=l,u}var Hw=(n,e)=>qT(n)?n.match(e):n(e);function Ai(...n){return e=>n.some(t=>Hw(t,e))}function Po(...n){return e=>n.every(t=>Hw(t,e))}function xc(n,e){if(!n||!n.meta)return!1;const t=typeof n.meta.requestId=="string",s=e.indexOf(n.meta.requestStatus)>-1;return t&&s}function il(n){return typeof n[0]=="function"&&"pending"in n[0]&&"fulfilled"in n[0]&&"rejected"in n[0]}function Jp(...n){return n.length===0?e=>xc(e,["pending"]):il(n)?Ai(...n.map(e=>e.pending)):Jp()(n[0])}function Jr(...n){return n.length===0?e=>xc(e,["rejected"]):il(n)?Ai(...n.map(e=>e.rejected)):Jr()(n[0])}function Sc(...n){const e=t=>t&&t.meta&&t.meta.rejectedWithValue;return n.length===0?Po(Jr(...n),e):il(n)?Po(Jr(...n),e):Sc()(n[0])}function es(...n){return n.length===0?e=>xc(e,["fulfilled"]):il(n)?Ai(...n.map(e=>e.fulfilled)):es()(n[0])}function sp(...n){return n.length===0?e=>xc(e,["pending","fulfilled","rejected"]):il(n)?Ai(...n.flatMap(e=>[e.pending,e.rejected,e.fulfilled])):sp()(n[0])}var QT="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",sl=(n=21)=>{let e="",t=n;for(;t--;)e+=QT[Math.random()*64|0];return e},WT=["name","message","stack","code"],Jf=class{constructor(n,e){this.payload=n,this.meta=e}_type},Xb=class{constructor(n,e){this.payload=n,this.meta=e}_type},KT=n=>{if(typeof n=="object"&&n!==null){const e={};for(const t of WT)typeof n[t]=="string"&&(e[t]=n[t]);return e}return{message:String(n)}},Qb="External signal was aborted",Wb=(()=>{function n(e,t,s){const a=qt(e+"/fulfilled",(f,p,g,m)=>({payload:f,meta:{...m||{},arg:g,requestId:p,requestStatus:"fulfilled"}})),l=qt(e+"/pending",(f,p,g)=>({payload:void 0,meta:{...g||{},arg:p,requestId:f,requestStatus:"pending"}})),u=qt(e+"/rejected",(f,p,g,m,b)=>({payload:m,error:(s&&s.serializeError||KT)(f||"Rejected"),meta:{...b||{},arg:g,requestId:p,rejectedWithValue:!!m,requestStatus:"rejected",aborted:f?.name==="AbortError",condition:f?.name==="ConditionError"}}));function h(f,{signal:p}={}){return(g,m,b)=>{const v=s?.idGenerator?s.idGenerator(f):sl(),x=new AbortController;let S,_;function E(A){_=A,x.abort()}p&&(p.aborted?E(Qb):p.addEventListener("abort",()=>E(Qb),{once:!0}));const k=(async function(){let A;try{let D=s?.condition?.(f,{getState:m,extra:b});if(JT(D)&&(D=await D),D===!1||x.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const B=new Promise((O,U)=>{S=()=>{U({name:"AbortError",message:_||"Aborted"})},x.signal.addEventListener("abort",S)});g(l(v,f,s?.getPendingMeta?.({requestId:v,arg:f},{getState:m,extra:b}))),A=await Promise.race([B,Promise.resolve(t(f,{dispatch:g,getState:m,extra:b,requestId:v,signal:x.signal,abort:E,rejectWithValue:(O,U)=>new Jf(O,U),fulfillWithValue:(O,U)=>new Xb(O,U)})).then(O=>{if(O instanceof Jf)throw O;return O instanceof Xb?a(O.payload,v,f,O.meta):a(O,v,f)})])}catch(D){A=D instanceof Jf?u(null,v,f,D.payload,D.meta):u(D,v,f)}finally{S&&x.signal.removeEventListener("abort",S)}return s&&!s.dispatchConditionRejection&&u.match(A)&&A.meta.condition||g(A),A})();return Object.assign(k,{abort:E,requestId:v,arg:f,unwrap(){return k.then(ZT)}})}}return Object.assign(h,{pending:l,rejected:u,fulfilled:a,settled:Ai(u,a),typePrefix:e})}return n.withTypes=()=>n,n})();function ZT(n){if(n.meta&&n.meta.rejectedWithValue)throw n.payload;if(n.error)throw n.error;return n.payload}function JT(n){return n!==null&&typeof n=="object"&&typeof n.then=="function"}var e2=Symbol.for("rtk-slice-createasyncthunk");function t2(n,e){return`${n}/${e}`}function n2({creators:n}={}){const e=n?.asyncThunk?.[e2];return function(s){const{name:a,reducerPath:l=a}=s;if(!a)throw new Error(xt(11));const u=(typeof s.reducers=="function"?s.reducers(s2()):s.reducers)||{},h=Object.keys(u),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(k,A){const M=typeof k=="string"?k:k.type;if(!M)throw new Error(xt(12));if(M in f.sliceCaseReducersByType)throw new Error(xt(13));return f.sliceCaseReducersByType[M]=A,p},addMatcher(k,A){return f.sliceMatchers.push({matcher:k,reducer:A}),p},exposeAction(k,A){return f.actionCreators[k]=A,p},exposeCaseReducer(k,A){return f.sliceCaseReducersByName[k]=A,p}};h.forEach(k=>{const A=u[k],M={reducerName:k,type:t2(a,k),createNotation:typeof s.reducers=="function"};a2(A)?l2(M,A,p,e):r2(M,A,p)});function g(){const[k={},A=[],M=void 0]=typeof s.extraReducers=="function"?Gw(s.extraReducers):[s.extraReducers],D={...k,...f.sliceCaseReducersByType};return XT(s.initialState,B=>{for(let O in D)B.addCase(O,D[O]);for(let O of f.sliceMatchers)B.addMatcher(O.matcher,O.reducer);for(let O of A)B.addMatcher(O.matcher,O.reducer);M&&B.addDefaultCase(M)})}const m=k=>k,b=new Map;let v;function x(k,A){return v||(v=g()),v(k,A)}function S(){return v||(v=g()),v.getInitialState()}function _(k,A=!1){function M(B){let O=B[k];return typeof O>"u"&&A&&(O=S()),O}function D(B=m){const O=ip(b,A,()=>new WeakMap);return ip(O,B,()=>{const U={};for(const[j,I]of Object.entries(s.selectors??{}))U[j]=i2(I,B,S,A);return U})}return{reducerPath:k,getSelectors:D,get selectors(){return D(M)},selectSlice:M}}const E={name:a,reducer:x,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:S,..._(l),injectInto(k,{reducerPath:A,...M}={}){const D=A??l;return k.inject({reducerPath:D,reducer:x},M),{...E,..._(D,!0)}}};return E}}function i2(n,e,t,s){function a(l,...u){let h=e(l);return typeof h>"u"&&s&&(h=t()),n(h,...u)}return a.unwrapped=n,a}var vi=n2();function s2(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function r2({type:n,reducerName:e,createNotation:t},s,a){let l,u;if("reducer"in s){if(t&&!o2(s))throw new Error(xt(17));l=s.reducer,u=s.prepare}else l=s;a.addCase(n,l).exposeCaseReducer(e,l).exposeAction(e,u?qt(n,u):qt(n))}function a2(n){return n._reducerDefinitionType==="asyncThunk"}function o2(n){return n._reducerDefinitionType==="reducerWithPrepare"}function l2({type:n,reducerName:e},t,s,a){if(!a)throw new Error(xt(18));const{payloadCreator:l,fulfilled:u,pending:h,rejected:f,settled:p,options:g}=t,m=a(n,l,g);s.exposeAction(e,m),u&&s.addCase(m.fulfilled,u),h&&s.addCase(m.pending,h),f&&s.addCase(m.rejected,f),p&&s.addMatcher(m.settled,p),s.exposeCaseReducer(e,{fulfilled:u||wu,pending:h||wu,rejected:f||wu,settled:p||wu})}function wu(){}var u2="task",$w="listener",Fw="completed",eg="cancelled",c2=`task-${eg}`,h2=`task-${Fw}`,rp=`${$w}-${eg}`,f2=`${$w}-${Fw}`,Ac=class{constructor(n){this.code=n,this.message=`${u2} ${eg} (reason: ${n})`}name="TaskAbortError";message},tg=(n,e)=>{if(typeof n!="function")throw new TypeError(xt(32))},lc=()=>{},Vw=(n,e=lc)=>(n.catch(e),n),Yw=(n,e)=>(n.addEventListener("abort",e,{once:!0}),()=>n.removeEventListener("abort",e)),Is=(n,e)=>{const t=n.signal;t.aborted||("reason"in t||Object.defineProperty(t,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),n.abort(e))},Ns=n=>{if(n.aborted){const{reason:e}=n;throw new Ac(e)}};function Xw(n,e){let t=lc;return new Promise((s,a)=>{const l=()=>a(new Ac(n.reason));if(n.aborted){l();return}t=Yw(n,l),e.finally(()=>t()).then(s,a)}).finally(()=>{t=lc})}var d2=async(n,e)=>{try{return await Promise.resolve(),{status:"ok",value:await n()}}catch(t){return{status:t instanceof Ac?"cancelled":"rejected",error:t}}finally{e?.()}},uc=n=>e=>Vw(Xw(n,e).then(t=>(Ns(n),t))),Qw=n=>{const e=uc(n);return t=>e(new Promise(s=>setTimeout(s,t)))},{assign:Xr}=Object,Kb={},Ec="listenerMiddleware",p2=(n,e)=>{const t=s=>Yw(n,()=>Is(s,n.reason));return(s,a)=>{tg(s);const l=new AbortController;t(l);const u=d2(async()=>{Ns(n),Ns(l.signal);const h=await s({pause:uc(l.signal),delay:Qw(l.signal),signal:l.signal});return Ns(l.signal),h},()=>Is(l,h2));return a?.autoJoin&&e.push(u.catch(lc)),{result:uc(n)(u),cancel(){Is(l,c2)}}}},g2=(n,e)=>{const t=async(s,a)=>{Ns(e);let l=()=>{};const h=[new Promise((f,p)=>{let g=n({predicate:s,effect:(m,b)=>{b.unsubscribe(),f([m,b.getState(),b.getOriginalState()])}});l=()=>{g(),p()}})];a!=null&&h.push(new Promise(f=>setTimeout(f,a,null)));try{const f=await Xw(e,Promise.race(h));return Ns(e),f}finally{l()}};return(s,a)=>Vw(t(s,a))},Ww=n=>{let{type:e,actionCreator:t,matcher:s,predicate:a,effect:l}=n;if(e)a=qt(e).match;else if(t)e=t.type,a=t.match;else if(s)a=s;else if(!a)throw new Error(xt(21));return tg(l),{predicate:a,type:e,effect:l}},Kw=Xr(n=>{const{type:e,predicate:t,effect:s}=Ww(n);return{id:sl(),effect:s,type:e,predicate:t,pending:new Set,unsubscribe:()=>{throw new Error(xt(22))}}},{withTypes:()=>Kw}),Zb=(n,e)=>{const{type:t,effect:s,predicate:a}=Ww(e);return Array.from(n.values()).find(l=>(typeof t=="string"?l.type===t:l.predicate===a)&&l.effect===s)},ap=n=>{n.pending.forEach(e=>{Is(e,rp)})},y2=n=>()=>{n.forEach(ap),n.clear()},Jb=(n,e,t)=>{try{n(e,t)}catch(s){setTimeout(()=>{throw s},0)}},Zw=Xr(qt(`${Ec}/add`),{withTypes:()=>Zw}),m2=qt(`${Ec}/removeAll`),Jw=Xr(qt(`${Ec}/remove`),{withTypes:()=>Jw}),b2=(...n)=>{console.error(`${Ec}/error`,...n)},v2=(n={})=>{const e=new Map,{extra:t,onError:s=b2}=n;tg(s);const a=g=>(g.unsubscribe=()=>e.delete(g.id),e.set(g.id,g),m=>{g.unsubscribe(),m?.cancelActive&&ap(g)}),l=g=>{const m=Zb(e,g)??Kw(g);return a(m)};Xr(l,{withTypes:()=>l});const u=g=>{const m=Zb(e,g);return m&&(m.unsubscribe(),g.cancelActive&&ap(m)),!!m};Xr(u,{withTypes:()=>u});const h=async(g,m,b,v)=>{const x=new AbortController,S=g2(l,x.signal),_=[];try{g.pending.add(x),await Promise.resolve(g.effect(m,Xr({},b,{getOriginalState:v,condition:(E,k)=>S(E,k).then(Boolean),take:S,delay:Qw(x.signal),pause:uc(x.signal),extra:t,signal:x.signal,fork:p2(x.signal,_),unsubscribe:g.unsubscribe,subscribe:()=>{e.set(g.id,g)},cancelActiveListeners:()=>{g.pending.forEach((E,k,A)=>{E!==x&&(Is(E,rp),A.delete(E))})},cancel:()=>{Is(x,rp),g.pending.delete(x)},throwIfCancelled:()=>{Ns(x.signal)}})))}catch(E){E instanceof Ac||Jb(s,E,{raisedBy:"effect"})}finally{await Promise.all(_),Is(x,f2),g.pending.delete(x)}},f=y2(e);return{middleware:g=>m=>b=>{if(!Xp(b))return m(b);if(Zw.match(b))return l(b.payload);if(m2.match(b)){f();return}if(Jw.match(b))return u(b.payload);let v=g.getState();const x=()=>{if(v===Kb)throw new Error(xt(23));return v};let S;try{if(S=m(b),e.size>0){const _=g.getState(),E=Array.from(e.values());for(const k of E){let A=!1;try{A=k.predicate(b,_,v)}catch(M){A=!1,Jb(s,M,{raisedBy:"predicate"})}A&&h(k,b,g,x)}}}finally{v=Kb}return S},startListening:l,stopListening:u,clearListeners:f}},_2=n=>"reducerPath"in n&&typeof n.reducerPath=="string",w2=n=>n.flatMap(e=>_2(e)?[[e.reducerPath,e.reducer]]:Object.entries(e)),ng=Symbol.for("rtk-state-proxy-original"),x2=n=>!!n&&!!n[ng],S2=new WeakMap,A2=(n,e)=>ip(S2,n,()=>new Proxy(n,{get:(t,s,a)=>{if(s===ng)return t;const l=Reflect.get(t,s,a);if(typeof l>"u"){const u=e[s.toString()];if(u){const h=u(void 0,{type:sl()});if(typeof h>"u")throw new Error(xt(24));return h}}return l}})),E2=n=>{if(!x2(n))throw new Error(xt(25));return n[ng]},T2=(n={})=>n;function M2(...n){const e=Object.fromEntries(w2(n)),t=()=>Object.keys(e).length?Yp(e):T2;let s=t();function a(h,f){return s(h,f)}a.withLazyLoadedSlices=()=>a;const l=(h,f={})=>{const{reducerPath:p,reducer:g}=h,m=e[p];return!f.overrideExisting&&m&&m!==g||(e[p]=g,s=t()),a},u=Object.assign(function(f,p){return function(m,...b){return f(A2(p?p(m,...b):m,e),...b)}},{original:E2});return Object.assign(a,{inject:l,selector:u})}function xt(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var ig="persist:",sg="persist/FLUSH",rl="persist/REHYDRATE",rg="persist/PAUSE",ag="persist/PERSIST",og="persist/PURGE",lg="persist/REGISTER",ex=-1;function Wu(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Wu=function(t){return typeof t}:Wu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wu(n)}function ev(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,s)}return t}function C2(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ev(t,!0).forEach(function(s){k2(n,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ev(t).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(t,s))})}return n}function k2(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function R2(n,e,t,s){s.debug;var a=C2({},t);return n&&Wu(n)==="object"&&Object.keys(n).forEach(function(l){l!=="_persist"&&e[l]===t[l]&&(a[l]=n[l])}),a}function O2(n){var e=n.blacklist||null,t=n.whitelist||null,s=n.transforms||[],a=n.throttle||0,l="".concat(n.keyPrefix!==void 0?n.keyPrefix:ig).concat(n.key),u=n.storage,h;n.serialize===!1?h=function(D){return D}:typeof n.serialize=="function"?h=n.serialize:h=P2;var f=n.writeFailHandler||null,p={},g={},m=[],b=null,v=null,x=function(D){Object.keys(D).forEach(function(B){E(B)&&p[B]!==D[B]&&m.indexOf(B)===-1&&m.push(B)}),Object.keys(p).forEach(function(B){D[B]===void 0&&E(B)&&m.indexOf(B)===-1&&p[B]!==void 0&&m.push(B)}),b===null&&(b=setInterval(S,a)),p=D};function S(){if(m.length===0){b&&clearInterval(b),b=null;return}var M=m.shift(),D=s.reduce(function(B,O){return O.in(B,M,p)},p[M]);if(D!==void 0)try{g[M]=h(D)}catch(B){console.error("redux-persist/createPersistoid: error serializing state",B)}else delete g[M];m.length===0&&_()}function _(){Object.keys(g).forEach(function(M){p[M]===void 0&&delete g[M]}),v=u.setItem(l,h(g)).catch(k)}function E(M){return!(t&&t.indexOf(M)===-1&&M!=="_persist"||e&&e.indexOf(M)!==-1)}function k(M){f&&f(M)}var A=function(){for(;m.length!==0;)S();return v||Promise.resolve()};return{update:x,flush:A}}function P2(n){return JSON.stringify(n)}function D2(n){var e=n.transforms||[],t="".concat(n.keyPrefix!==void 0?n.keyPrefix:ig).concat(n.key),s=n.storage;n.debug;var a;return n.deserialize===!1?a=function(u){return u}:typeof n.deserialize=="function"?a=n.deserialize:a=B2,s.getItem(t).then(function(l){if(l)try{var u={},h=a(l);return Object.keys(h).forEach(function(f){u[f]=e.reduceRight(function(p,g){return g.out(p,f,h)},a(h[f]))}),u}catch(f){throw f}else return})}function B2(n){return JSON.parse(n)}function z2(n){var e=n.storage,t="".concat(n.keyPrefix!==void 0?n.keyPrefix:ig).concat(n.key);return e.removeItem(t,U2)}function U2(n){}function tv(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,s)}return t}function pi(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?tv(t,!0).forEach(function(s){j2(n,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):tv(t).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(t,s))})}return n}function j2(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function L2(n,e){if(n==null)return{};var t=I2(n,e),s,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(a=0;a<l.length;a++)s=l[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(n,s)&&(t[s]=n[s])}return t}function I2(n,e){if(n==null)return{};var t={},s=Object.keys(n),a,l;for(l=0;l<s.length;l++)a=s[l],!(e.indexOf(a)>=0)&&(t[a]=n[a]);return t}var N2=5e3;function q2(n,e){var t=n.version!==void 0?n.version:ex;n.debug;var s=n.stateReconciler===void 0?R2:n.stateReconciler,a=n.getStoredState||D2,l=n.timeout!==void 0?n.timeout:N2,u=null,h=!1,f=!0,p=function(m){return m._persist.rehydrated&&u&&!f&&u.update(m),m};return function(g,m){var b=g||{},v=b._persist,x=L2(b,["_persist"]),S=x;if(m.type===ag){var _=!1,E=function(U,j){_||(m.rehydrate(n.key,U,j),_=!0)};if(l&&setTimeout(function(){!_&&E(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(n.key,'"')))},l),f=!1,u||(u=O2(n)),v)return pi({},e(S,m),{_persist:v});if(typeof m.rehydrate!="function"||typeof m.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return m.register(n.key),a(n).then(function(O){var U=n.migrate||function(j,I){return Promise.resolve(j)};U(O,t).then(function(j){E(j)},function(j){E(void 0,j)})},function(O){E(void 0,O)}),pi({},e(S,m),{_persist:{version:t,rehydrated:!1}})}else{if(m.type===og)return h=!0,m.result(z2(n)),pi({},e(S,m),{_persist:v});if(m.type===sg)return m.result(u&&u.flush()),pi({},e(S,m),{_persist:v});if(m.type===rg)f=!0;else if(m.type===rl){if(h)return pi({},S,{_persist:pi({},v,{rehydrated:!0})});if(m.key===n.key){var k=e(S,m),A=m.payload,M=s!==!1&&A!==void 0?s(A,g,k,n):k,D=pi({},M,{_persist:pi({},v,{rehydrated:!0})});return p(D)}}}if(!v)return e(g,m);var B=e(S,m);return B===S?g:p(pi({},B,{_persist:v}))}}function nv(n){return $2(n)||H2(n)||G2()}function G2(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function H2(n){if(Symbol.iterator in Object(n)||Object.prototype.toString.call(n)==="[object Arguments]")return Array.from(n)}function $2(n){if(Array.isArray(n)){for(var e=0,t=new Array(n.length);e<n.length;e++)t[e]=n[e];return t}}function iv(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,s)}return t}function op(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?iv(t,!0).forEach(function(s){F2(n,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):iv(t).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(t,s))})}return n}function F2(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var tx={registry:[],bootstrapped:!1},V2=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:tx,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case lg:return op({},e,{registry:[].concat(nv(e.registry),[t.key])});case rl:var s=e.registry.indexOf(t.key),a=nv(e.registry);return a.splice(s,1),op({},e,{registry:a,bootstrapped:a.length===0});default:return e}};function Y2(n,e,t){var s=Vp(V2,tx,void 0),a=function(f){s.dispatch({type:lg,key:f})},l=function(f,p,g){var m={type:rl,payload:p,err:g,key:f};n.dispatch(m),s.dispatch(m)},u=op({},s,{purge:function(){var f=[];return n.dispatch({type:og,result:function(g){f.push(g)}}),Promise.all(f)},flush:function(){var f=[];return n.dispatch({type:sg,result:function(g){f.push(g)}}),Promise.all(f)},pause:function(){n.dispatch({type:rg})},persist:function(){n.dispatch({type:ag,register:a,rehydrate:l})}});return u.persist(),u}function X2(n,e){return function(t,s){if(!t)return Promise.resolve(void 0);var a=t._persist&&t._persist.version!==void 0?t._persist.version:ex;if(a===s||a>s)return Promise.resolve(t);var l=Object.keys(n).map(function(h){return parseInt(h)}).filter(function(h){return s>=h&&h>a}).sort(function(h,f){return h-f});try{var u=l.reduce(function(h,f){return n[f](h)},t);return Promise.resolve(u)}catch(h){return Promise.reject(h)}}}const nx=v2(),ix=nx.startListening.withTypes();var lo={},xu={},Su={},sv;function Q2(){if(sv)return Su;sv=1,Su.__esModule=!0,Su.default=a;function n(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(h){return typeof h}:n=function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},n(l)}function e(){}var t={getItem:e,setItem:e,removeItem:e};function s(l){if((typeof self>"u"?"undefined":n(self))!=="object"||!(l in self))return!1;try{var u=self[l],h="redux-persist ".concat(l," test");u.setItem(h,"test"),u.getItem(h),u.removeItem(h)}catch{return!1}return!0}function a(l){var u="".concat(l,"Storage");return s(u)?self[u]:t}return Su}var rv;function W2(){if(rv)return xu;rv=1,xu.__esModule=!0,xu.default=t;var n=e(Q2());function e(s){return s&&s.__esModule?s:{default:s}}function t(s){var a=(0,n.default)(s);return{getItem:function(u){return new Promise(function(h,f){h(a.getItem(u))})},setItem:function(u,h){return new Promise(function(f,p){f(a.setItem(u,h))})},removeItem:function(u){return new Promise(function(h,f){h(a.removeItem(u))})}}}return xu}var av;function K2(){if(av)return lo;av=1,lo.__esModule=!0,lo.default=void 0;var n=e(W2());function e(s){return s&&s.__esModule?s:{default:s}}var t=(0,n.default)("local");return lo.default=t,lo}var Z2=K2();const J2=Xn(Z2);function eM(n){var e="";return t(n),e;function t(a){if(a===null||typeof a!="object"||a.toJSON!=null)e+=JSON.stringify(a);else if(Array.isArray(a)){e+="[";var l=!1;a.forEach(function(h){l&&(e+=","),l=!0,h===void 0&&(h=null),t(h)}),e+="]"}else{e+="{";var u=Object.keys(a).filter(function(h){return a[h]!==void 0}).sort();u.forEach(function(h,f){return s(a,h,f)}),e+="}"}}function s(a,l,u){u>0&&(e+=","),e+=JSON.stringify(l),e+=":",t(a[l])}}const Ku=1e-4,rn=(n,e)=>Math.abs(n-e)<Ku,p4=n=>n===0?Ku:Math.abs(n)<Ku?Ku*Math.sign(n):n,ug=["away","towards","left","right"],tM=["awayRight","towardsRight","towardsLeft","awayLeft"],sx=[...ug,...tM],nM=n=>n==="away"||n==="towards"?"y":"x",g4=n=>n==="away"?"towards":n==="towards"?"away":n==="left"?"right":"left",y4=n=>iM(nM(n)),iM=n=>n==="x"?"y":"x",Do=(n,...e)=>{const t={x:n.x,y:n.y};for(const s of e)t.x+=s.x??0,t.y+=s.y??0;return t},m4=(n,...e)=>{const t={x:n.x,y:n.y};for(const s of e)t.x-=s.x??0,t.y-=s.y??0;return t},sM=(n,e)=>({x:n.x*e,y:n.y*e}),b4=(n,e)=>({x:n.x*e,y:n.y*e,z:n.z*e}),v4=(n,e,t)=>{const s=n;return s.x=e.x*t,s.y=e.y*t,s.z=e.z*t,s},rM=(n,e)=>(n.x*=e,n.y*=e,n.z*=e,n),_4=(n,e)=>({x:n.x*e.x,y:n.y*e.y,z:n.z*e.z}),aM=({x:n,y:e,z:t})=>Math.hypot(n,e,t),w4=({x:n,y:e})=>Math.hypot(n,e),x4=n=>{const e=aM(n);if(e===0)throw new Error("unitVectorInPlace called with zero length vector");return rM(n,1/e)},S4=[{x:0,y:0,z:0},{x:0,y:0,z:1},{x:0,y:1,z:0},{x:0,y:1,z:1},{x:1,y:0,z:0},{x:1,y:0,z:1},{x:1,y:1,z:1}],A4=(...n)=>{if(n.length===0)return{x:0,y:0,z:0};const[e,...t]=n,s={x:e.x??0,y:e.y??0,z:e.z??0};for(const a of t)s.x+=a.x??0,s.y+=a.y??0,s.z+=a.z??0;return s},E4=(n,...e)=>{for(const t of e)n.x+=t.x??0,n.y+=t.y??0,n.z+=t.z??0;return n},T4=(...n)=>n.reduce(({x:e,y:t,z:s},{x:a,y:l,z:u})=>({x:e*a,y:t*l,z:s*u}),oM),M4=(n,...e)=>{const t={x:n.x,y:n.y,z:n.z};for(const s of e)t.x-=s.x??0,t.y-=s.y??0,t.z-=s.z??0;return t},C4=(n,...e)=>{for(const t of e)n.x-=t.x??0,n.y-=t.y??0,n.z-=t.z??0;return n},k4=({x:n,y:e,z:t},{x:s,y:a,z:l})=>n===s&&e===a&&t===l,R4=({x:n,y:e},{x:t,y:s})=>n===t&&e===s,O4=Object.freeze({x:0,y:0}),P4=Object.freeze({x:0,y:0,z:0}),oM=Object.freeze({x:1,y:1,z:1}),D4=["x","y","z"],B4=({x:n,y:e})=>{if(!(rn(n,0)&&rn(e,0)))return e>n?e>-n?"away":"right":e>-n?"left":"towards"},lM=["right","towardsRight","towards","towardsLeft","left","awayLeft","away","awayRight"],z4=({x:n,y:e})=>{if(rn(n,0)&&rn(e,0))return;const t=Math.atan2(-e,-n),s=Math.round(8*t/(2*Math.PI))&7;return lM[s]},U4=n=>{const{x:e,y:t,z:s}=n;if(rn(e,0)&&rn(t,0)&&!rn(s,0))return"xy";if(rn(e,0)&&!rn(t,0)&&rn(s,0))return"xz";if(!rn(e,0)&&rn(t,0)&&rn(s,0))return"yz";throw new Error(`only axis-aligned planes are supported, cannot get normal plane for ${JSON.stringify(n)}`)},uM=["lookUp","lookDown","lookLeft","lookRight"],cM=["jump","fire","carry","swop","swop.head","swop.heels","hold","toggleColourisation","toggleCrtFilter","cycleResolution","toggleShowFps","menu_select","menu_openOrExit","menu_exit","map",...ug,"lookShift",...uM],rx=[...cM];var nn={},ed={},td={},ov;function cg(){if(ov)return td;ov=1;function n(e){return typeof e<"u"}return td.notUndefined=n,td}var lv;function ax(){if(lv)return ed;lv=1;const{notUndefined:n}=cg();function e(t){return t!=null&&n(t[Symbol.iterator])}return ed.isIterable=e,ed}var nd={},uv;function hM(){return uv||(uv=1,nd.isLoopable=ax().isIterable),nd}var id={},cv;function fM(){if(cv)return id;cv=1;const{notUndefined:n}=cg();function e(t){return t==null||n(t[Symbol.iterator])}return id.isWrappable=e,id}var Au={},hv;function dM(){if(hv)return Au;hv=1;function*n(t){yield*t}Au.wrap=n;function*e(t){t!=null&&(yield*t)}return Au.nullableWrap=e,Au}var Eu={},fv;function pM(){if(fv)return Eu;fv=1;function n(s,a=s.length,l=[]){return(...u)=>a<=u.length?s(...l,...u):n(s,a-u.length,[...l,...u])}Eu.curry=n;function e(s,a){const{fn:l,validateArgs:u,variadic:h,reduces:f,growRight:p,minArgs:g,maxArgs:m,isIterable:b,iterableType:v,applyOnIterableArgs:x,IterableClass:S}=s;if(a.length>g){let _=!0;const E=h?a.findIndex((A,M)=>b(A)&&M>=g):Math.min(m,a.length-1),k=h?a.length:E+1;if(h)for(let A=E;A<a.length;A++)_=_&&b(a[A]);else _=b(a[E]);if(a.length>m&&(E===-1||!_)){const A=h?`...${v}s`:v,M=`${l.name} takes up to ${m} arguments, followed by ${A}. You already passed ${a.length} arguments`;throw h?new Error(`${M} and the following arguments were not all ${v}s`):new Error(`${M} and the last argument was not ${v}`)}if(E>=0&&_){for(let M=E;M<k;M++)a[M]=x(a[M]);const A=h?a.slice(E):a[E];return a.splice(E),p||a.reverse(),a.unshift(A),u(a),f?l(...a):new S(l,a)}}return t(s,a)}function t(s,a=[]){return(...l)=>{if(l.length===0)throw new Error("Cannot make a partial application with no arguments");return l.unshift(...a),e(s,l)}}return Eu.variadicCurryWithValidation=t,Eu}var uo={},dv;function gM(){if(dv)return uo;dv=1;const n=Symbol.for("_");uo._=n;const e=Symbol("__iterate");uo.__iterate=e;const t=Symbol("split");return uo.split=t,uo}var pv;function hg(){if(pv)return nn;pv=1;const{isIterable:n}=ax(),{isLoopable:e}=hM(),{isWrappable:t}=fM(),{nullableWrap:s}=dM(),{variadicCurryWithValidation:a}=pM(),{_:l,__iterate:u}=gM();nn.wrap=s,nn.isIterable=n,nn.isLoopable=e,nn.isWrappable=t;function h(S){if(t(S))return n(S)?S:s(S);throw typeof S.next=="function"?new TypeError("iter-tools received a value that looked like an iterator but was not iterable. Get help fixing this: https://github.com/iter-tools/iter-tools/wiki/Making-iterators-iterable"):new TypeError("Expected an iterable, null, or undefined")}nn.ensureIterable=h;function f(S){"return"in S&&S.return()}nn.callReturn=f;function p(S,_){this[l]={fn:S,args:_,staticIterator:null}}nn.BaseIterableIterator=p,Object.assign(p.prototype,{constructor:p,[u](){const{fn:S,args:_}=this[l];return S(..._)},next(){const S=this[l];return S.staticIterator=S.staticIterator||this[u](),S.staticIterator.next()},return(S){const _=this[l];return _.staticIterator=_.staticIterator||this[u](),_.staticIterator.return(S)},throw(S){const _=this[l];return _.staticIterator=_.staticIterator||this[u](),_.staticIterator.throw(S)}});function g(...S){p.apply(this,S)}nn.IterableIterator=g,g.prototype=Object.assign(Object.create(p.prototype),{constructor:g,[Symbol.iterator](){return this[u]()}});function m(S,_={}){const{validateArgs:E=U=>{},variadic:k=!1,reduces:A=!1,growRight:M=!1,minArgs:D=S.length-1,maxArgs:B=S.length-1,applyOnIterableArgs:O=h}=_;return{fn:S,validateArgs:E,variadic:k,reduces:A,growRight:M,minArgs:D,maxArgs:B,isIterable:t,iterableType:"iterable",applyOnIterableArgs:O,IterableClass:g}}function b(S){return[...S]}nn.cache=b;function v(S,{validateArgs:_=E=>E}={}){return(...E)=>(_(E),new g(S,E))}nn.wrapWithIterableIterator=v;const x=(S,_)=>a(m(S,_));return nn.iterableCurry=x,nn}var co={},gv;function yM(){if(gv)return co;gv=1;function n(s,a=!1){return typeof s=="number"&&!isNaN(s)&&isFinite(s)&&!(a&&s===0)}co.isInteger=n;function e(s,a=!1){return n(s)&&(a?s>0:s>=0)}co.isPositiveInteger=e;function t(s,a=!1){return typeof s=="number"&&!isNaN(s)&&!(a&&s===0)}return co.isIntegerOrInfinite=t,co}var sd={},yv;function mM(){if(yv)return sd;yv=1;function n(e){return typeof e=="object"&&e!==null}return sd.isObject=n,sd}var Tu={},mv;function bM(){if(mv)return Tu;mv=1;const{wrapWithIterableIterator:n}=hg(),{hasOwnProperty:e}=Object.prototype;function*t(a){if(a!=null)for(const l in a)e.call(a,l)&&(yield[l,a[l]])}Tu.__objectEntries=t;const s=n(t,{validateArgs(a){if(!(a[0]==null||typeof a[0]=="object"))throw new Error("obj argument to objectEntries must be an object, null, or undefined")}});return Tu.objectEntries=s,Tu}var Mu={},bv;function vM(){if(bv)return Mu;bv=1;const{wrapWithIterableIterator:n}=hg(),{hasOwnProperty:e}=Object.prototype;function*t(a){if(a!=null)for(const l in a)e.call(a,l)&&(yield l)}Mu.__objectKeys=t;const s=n(t,{validateArgs(a){if(!(a[0]==null||typeof a[0]=="object"))throw new Error("obj argument to objectKeys must be an object, null, or undefined")}});return Mu.objectKeys=s,Mu}var Cu={},vv;function _M(){if(vv)return Cu;vv=1;const{wrapWithIterableIterator:n}=hg(),{isInteger:e,isIntegerOrInfinite:t}=yM(),{isObject:s}=mM(),{notUndefined:a}=cg();function*l(h=0,f=1/0,p=1){for(let g=h;p>0?g<f:g>f;g+=p)yield g}Cu.__range=l;const u=n(l,{growRight:!0,validateArgs(h){let[f,p=1/0,g]=h,m;if(s(f)?{start:m,end:p,step:g}=f:h.length>1?m=f:p=f,a(m)&&!e(m))throw new TypeError("The specified start was not an integer");if(a(p)&&!t(p))throw new TypeError("The specified end was not an integer or infinite");if(a(g)&&!e(g,!0))throw new TypeError("The specified step was not a non-zero integer");h[0]=m,h[1]=p,h[2]=g}});return Cu.range=u,Cu}var rd,_v;function wM(){return _v||(_v=1,rd=bM().objectEntries),rd}var xM=wM();const SM=Xn(xM);var ad,wv;function AM(){return wv||(wv=1,ad=vM().objectKeys),ad}var EM=AM();const TM=Xn(EM);var od,xv;function MM(){return xv||(xv=1,od=_M().range),od}var CM=MM();const kM=Xn(CM),ox=n=>n[Symbol.iterator](),j4=Object.entries,RM=SM,L4=Object.keys,I4=TM,OM=Object.fromEntries,fg=Object.fromEntries,PM=(n,e)=>{const s=ox(RM(n)).map(e);return OM(s)},$r={presses:fg(rx.map(n=>[n,{keys:[],gamepadAxes:[],gamepadButtons:[]}])),axes:{x:[],y:[],xLook:[],yLook:[]}},Sv=(n,e)=>Array.from(new Set([...n??[],...e??[]]));function Fs(...n){return{presses:n.reduce((e,t)=>{for(const s of rx)e[s]={keys:Sv(e[s]?.keys,t?.presses?.[s]?.keys),gamepadButtons:Sv(e[s]?.gamepadButtons,t?.presses?.[s]?.gamepadButtons)};return e},structuredClone($r.presses)),axes:{x:Array.from(new Set([...$r.axes.x,...n.map(e=>e.axes?.x??[]).flat()])),y:Array.from(new Set([...$r.axes.y,...n.map(e=>e.axes?.y??[]).flat()])),xLook:Array.from(new Set([...$r.axes.xLook,...n.map(e=>e.axes?.xLook??[]).flat()])),yLook:Array.from(new Set([...$r.axes.yLook,...n.map(e=>e.axes?.yLook??[]).flat()]))}}}const lt={dPadDown:13,dPadUp:12,dPadLeft:14,dPadRight:15,a:0,b:1,x:2,y:3,lb:4,lt:6,rb:5,rt:7,select:8,start:9,l3:10,r3:11};PM(lt,([n,e])=>[e,n]);const DM={start:"1",coin:"5",directions:{up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight"},buttons:["Control","Alt"," ","Shift","Z","X"]},BM={start:"2",coin:"6",directions:{up:"R",down:"F",left:"D",right:"G"},buttons:["A","S","Q","W","I","K"]},wn={dPadUp:"C",dPadDown:"D",dPadLeft:"E",dPadRight:"F",a:"J",b:"G",y:"H",x:"I",rb:"M",start:"O",select:"N"},Vs={presses:{right:{keys:["ArrowRight"],gamepadButtons:[]},towards:{keys:["ArrowDown"]},left:{keys:["ArrowLeft"]},away:{keys:["ArrowUp"]},menu_openOrExit:{keys:["Escape",""]},menu_exit:{gamepadButtons:[lt.b]},menu_select:{keys:["Enter"],gamepadButtons:[lt.a]},toggleCrtFilter:{keys:["F8","T"]},toggleShowFps:{keys:["F9"]},toggleColourisation:{keys:["F10"]},cycleResolution:{keys:["0"]}}},ia={inputAssignment:Fs(Vs,{presses:{right:{gamepadButtons:[lt.dPadRight]},towards:{gamepadButtons:[lt.dPadDown]},left:{gamepadButtons:[lt.dPadLeft]},away:{gamepadButtons:[lt.dPadUp]},jump:{gamepadButtons:[lt.a,lt.y]},carry:{gamepadButtons:[lt.x,lt.y]},fire:{gamepadButtons:[lt.b]},swop:{gamepadButtons:[lt.rb]},lookShift:{gamepadButtons:[lt.rt]},"swop.head":{gamepadButtons:[lt.l3]},"swop.heels":{gamepadButtons:[lt.r3]},hold:{gamepadButtons:[lt.start]},menu_openOrExit:{gamepadButtons:[lt.select]},map:{gamepadButtons:[lt.lb]},toggleColourisation:{gamepadButtons:[lt.lt]}},axes:{x:[0],y:[1],xLook:[2],yLook:[3]}}),description:"Joysticks/gamepads with at least 4 buttons, but preferably 6 or more. Inc Playstation, xbox etc"},zM={inputAssignment:Fs(Vs,ia.inputAssignment,{presses:{right:{keys:["P","7"]},towards:{keys:["A","8"]},left:{keys:["O","6"]},away:{keys:["Q","9"]},jump:{keys:[" ","M","N","B","Alt"]},carry:{keys:[" ","Enter","L","K","J"]},fire:{keys:["Shift","Z","X","C","V"]},swop:{keys:["S","D","F","G"]},hold:{keys:["H"]}}}),description:"closely matches zx spectrum keys"},UM={inputAssignment:Fs(Vs,ia.inputAssignment,{presses:{carry:{keys:["F3","F5"]},fire:{keys:[" "]},jump:{keys:["F5"]},swop:{keys:["F1"]},hold:{keys:["H"]}}}),description:"closely matches Amiga version keys - heavy on the F-keys"},jM={inputAssignment:Fs(Vs,ia.inputAssignment,{presses:{right:{keys:["D"]},towards:{keys:["S"]},left:{keys:["A"]},away:{keys:["W"]},jump:{keys:[" ","`","Z","\\"]},carry:{keys:["Shift","`","Z","\\"]},fire:{keys:["E","X"]},swop:{keys:["Enter"]},"swop.head":{keys:["["]},"swop.heels":{keys:["]"]},hold:{keys:["P"]},map:{keys:["M","Tab"]},lookUp:{keys:["I"]},lookDown:{keys:["K"]},lookLeft:{keys:["J"]},lookRight:{keys:["L"]},lookShift:{keys:["C"]}}}),description:"Default combined key and joystick/gamepad assignment, should work on most setups"},LM={inputAssignment:Fs(Vs,ia.inputAssignment,{presses:{right:{keys:["D"]},towards:{keys:["S"]},left:{keys:["A"]},away:{keys:["W"]},jump:{keys:[" ","F","P"]},carry:{keys:["Shift","F","I","P"]},fire:{keys:["E","O","Control"]},swop:{keys:["Q"]},hold:{keys:["H"]}}}),description:"Modern, minimalist WASD key layout"},IM={inputAssignment:Fs(Vs,ia.inputAssignment,{presses:{right:{keys:[wn.dPadRight]},towards:{keys:[wn.dPadDown]},left:{keys:[wn.dPadLeft]},away:{keys:[wn.dPadUp]},jump:{keys:[wn.a,wn.y]},carry:{keys:[wn.b,wn.y]},fire:{keys:[wn.x]},swop:{keys:[wn.rb]},hold:{keys:[wn.start]},menu_openOrExit:{keys:[wn.select]}}}),description:"8bitdo controllers in keyboard mode (identifies to OS as a keyboard). They work as controllers even on phones that dont support controllers"},Av=n=>({presses:{right:{keys:[n.directions.right]},towards:{keys:[n.directions.down]},left:{keys:[n.directions.left]},away:{keys:[n.directions.up]},jump:{keys:[n.buttons[0],n.buttons[3]]},carry:{keys:[n.buttons[1],n.buttons[3]]},fire:{keys:[n.buttons[2]]},swop:{keys:[n.start]},hold:{keys:[n.coin]},menu_openOrExit:{keys:[n.buttons[4]]}}}),NM={inputAssignment:Fs($r,Vs,{presses:{menu_openOrExit:{keys:["`","Tab"]}}},Av(DM),Av(BM)),description:"MAME key mappings. For arcade-style control panels"},lp={default:jM,"zx spectrum":zM,amiga:UM,mame:NM,wasd:LM," 8bitdo keyboard mode":IM," joystick":ia},Bo=(n=typeof globalThis.window>"u"?"":window.location.search)=>new URLSearchParams(n),qM=()=>Bo().get("campaignName")?.startsWith("data:"),N4=["yellow","cyan","green","magenta","white"],dg=25,q4=1e3/dg,pg={amigaHiResPal:{x:640,y:512},classicMac:{x:512,y:384},amigaLowResPal:{x:320,y:256},zxSpectrum:{x:256,y:192},handheld:{x:256,y:135}},GM=Object.keys(pg),G4={zxGreen:"#0f0",zxCyan:"#0ff",zxMagenta:"#f0f",zxYellow:"#ff0",zxWhite:"#fff"},H4="1987-06-01T00:00:00Z",wi=()=>{if(typeof globalThis.window>"u")return"server";const n=new URLSearchParams(window.location.search).get("device");if(n!==null)return n;const e=navigator.userAgent;return navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1||/iPad|Tablet|Android(?!.*Mobi)/i.test(e)?"tablet":/Mobi|Android|iPhone|iPod/i.test(e)?"mobile":"desktop"},$4=[],lx=new Set;lx.add=()=>{throw new Error("emptySet.add")};lx.clear=()=>{throw new Error("emptySet.clear")};const xn=Object.freeze({}),cc=(n,e)=>e.split(".").reduce((t,s)=>t[s],n),HM=(n,e,t)=>{const s=e.split(".");let a=n;for(let l=0;l<s.length-1;l++){const u=s[l];a=a[u]}a[s[s.length-1]]=t},ld=(n,e)=>{const t=n.indexOf(e);return n[(t+1)%n.length]},$M=(n,...e)=>{const t={};for(const s of e)t[s]=n[s];return t},F4=(n,...e)=>{const t={...n};for(const s of e)delete t[s];return t};var ud,Ev;function FM(){if(Ev)return ud;Ev=1;function n(s){if(Array.isArray(s))return!0;var a=s.length;return typeof a=="number"&&a>-1?a?0 in s&&a-1 in s:!0:!1}function e(s){var a=typeof s;return a==="object"?s===null?"null":n(s)?"array":s.constructor===Object?"pure-object":"object":a}function t(s,a){if(s===a||s!==s&&a!==a)return!0;var l=e(s),u=e(a);if(l!==u)return!1;if(l==="pure-object"){if(s===a)return!0;var h=Object.keys(s),f=Object.keys(a).length;if(h.length!==f)return!1;for(var p=0,g=h.length;p<g;p++){var m=h[p];if(!a.hasOwnProperty(h[p]))return!1;var b=s[m],v=a[m];if(b===s||v===a||b===a||v===s)return b===v;if(!t(b,v))return!1}return!0}else if(l==="array"){if(s.length===a.length)for(var x=0;x<s.length;x++){var S=s[x],_=a[x];if(S===s||_===a||S===a||_===s)return S===_;if(!t(S,_))return!1}else return!1;return!0}else if(l==="object"){if(s.valueOf!==Object.prototype.valueOf()&&a.valueOf!==Object.prototype.valueOf())return s.valueOf()===a.valueOf();if(s.toString!==Object.prototype.toString()&&a.toString!==Object.prototype.toString())return s.toString()===a.toString()}return!1}return ud=t,ud}var VM=FM();const V4=Xn(VM),Y4=Pw.withTypes(),ux=Dw.withTypes();Fp.withTypes();var cx=(n=>(n.uninitialized="uninitialized",n.pending="pending",n.fulfilled="fulfilled",n.rejected="rejected",n))(cx||{});function Tv(n){return{status:n,isUninitialized:n==="uninitialized",isLoading:n==="pending",isSuccess:n==="fulfilled",isError:n==="rejected"}}var Mv=Zr;function hx(n,e){if(n===e||!(Mv(n)&&Mv(e)||Array.isArray(n)&&Array.isArray(e)))return e;const t=Object.keys(e),s=Object.keys(n);let a=t.length===s.length;const l=Array.isArray(e)?[]:{};for(const u of t)l[u]=hx(n[u],e[u]),a&&(a=n[u]===l[u]);return a?n:l}function Qr(n){let e=0;for(const t in n)e++;return e}var Cv=n=>[].concat(...n);function YM(){return typeof document>"u"?!0:document.visibilityState!=="hidden"}function hc(n){return n!=null}function XM(){return typeof navigator>"u"||navigator.onLine===void 0?!0:navigator.onLine}function QM(n,e,t){return n.has(e)?n.get(e):n.set(e,t).get(e)}var kv=class{constructor(n,e=void 0){this.value=n,this.meta=e}},gg=qt("__rtkq/focused"),fx=qt("__rtkq/unfocused"),yg=qt("__rtkq/online"),dx=qt("__rtkq/offline");function mg(n){return n.type==="query"}function WM(n){return n.type==="mutation"}function bg(n){return n.type==="infinitequery"}function vg(n,e,t,s,a,l){return KM(n)?n(e,t,s,a).filter(hc).map(up).map(l):Array.isArray(n)?n.map(up).map(l):[]}function KM(n){return typeof n=="function"}function up(n){return typeof n=="string"?{type:n}:n}function ZM(n,e){return n.catch(e)}var Fo=Symbol("forceQueryFn"),cp=n=>typeof n[Fo]=="function";function JM({serializeQueryArgs:n,queryThunk:e,infiniteQueryThunk:t,mutationThunk:s,api:a,context:l}){const u=new Map,h=new Map,{unsubscribeQueryResult:f,removeMutationResult:p,updateSubscriptionOptions:g}=a.internalActions;return{buildInitiateQuery:_,buildInitiateInfiniteQuery:E,buildInitiateMutation:k,getRunningQueryThunk:m,getRunningMutationThunk:b,getRunningQueriesThunk:v,getRunningMutationsThunk:x};function m(A,M){return D=>{const B=l.endpointDefinitions[A],O=n({queryArgs:M,endpointDefinition:B,endpointName:A});return u.get(D)?.[O]}}function b(A,M){return D=>h.get(D)?.[M]}function v(){return A=>Object.values(u.get(A)||{}).filter(hc)}function x(){return A=>Object.values(h.get(A)||{}).filter(hc)}function S(A,M){const D=(B,{subscribe:O=!0,forceRefetch:U,subscriptionOptions:j,[Fo]:I,...q}={})=>(K,ne)=>{const re=n({queryArgs:B,endpointDefinition:M,endpointName:A});let ae;const T={...q,type:"query",subscribe:O,forceRefetch:U,subscriptionOptions:j,endpointName:A,originalArgs:B,queryCacheKey:re,[Fo]:I};if(mg(M))ae=e(T);else{const{direction:se,initialPageParam:ge}=q;ae=t({...T,direction:se,initialPageParam:ge})}const P=a.endpoints[A].select(B),z=K(ae),$=P(ne()),{requestId:C,abort:N}=z,F=$.requestId!==C,Y=u.get(K)?.[re],W=()=>P(ne()),ee=Object.assign(I?z.then(W):F&&!Y?Promise.resolve($):Promise.all([Y,z]).then(W),{arg:B,requestId:C,subscriptionOptions:j,queryCacheKey:re,abort:N,async unwrap(){const se=await ee;if(se.isError)throw se.error;return se.data},refetch:()=>K(D(B,{subscribe:!1,forceRefetch:!0})),unsubscribe(){O&&K(f({queryCacheKey:re,requestId:C}))},updateSubscriptionOptions(se){ee.subscriptionOptions=se,K(g({endpointName:A,requestId:C,queryCacheKey:re,options:se}))}});if(!Y&&!F&&!I){const se=QM(u,K,{});se[re]=ee,ee.then(()=>{delete se[re],Qr(se)||u.delete(K)})}return ee};return D}function _(A,M){return S(A,M)}function E(A,M){return S(A,M)}function k(A){return(M,{track:D=!0,fixedCacheKey:B}={})=>(O,U)=>{const j=s({type:"mutation",endpointName:A,originalArgs:M,track:D,fixedCacheKey:B}),I=O(j),{requestId:q,abort:K,unwrap:ne}=I,re=ZM(I.unwrap().then(z=>({data:z})),z=>({error:z})),ae=()=>{O(p({requestId:q,fixedCacheKey:B}))},T=Object.assign(re,{arg:I.arg,requestId:q,abort:K,unwrap:ne,reset:ae}),P=h.get(O)||{};return h.set(O,P),P[q]=T,T.then(()=>{delete P[q],Qr(P)||h.delete(O)}),B&&(P[B]=T,T.then(()=>{P[B]===T&&(delete P[B],Qr(P)||h.delete(O))})),T}}}function eC(n){return n}var ku=(n={})=>({...n,[wc]:!0});function tC({reducerPath:n,baseQuery:e,context:{endpointDefinitions:t},serializeQueryArgs:s,api:a,assertTagType:l,selectors:u}){const h=(U,j,I,q)=>(K,ne)=>{const re=t[U],ae=s({queryArgs:j,endpointDefinition:re,endpointName:U});if(K(a.internalActions.queryResultPatched({queryCacheKey:ae,patches:I})),!q)return;const T=a.endpoints[U].select(j)(ne()),P=vg(re.providesTags,T.data,void 0,j,{},l);K(a.internalActions.updateProvidedBy({queryCacheKey:ae,providedTags:P}))};function f(U,j,I=0){const q=[j,...U];return I&&q.length>I?q.slice(0,-1):q}function p(U,j,I=0){const q=[...U,j];return I&&q.length>I?q.slice(1):q}const g=(U,j,I,q=!0)=>(K,ne)=>{const ae=a.endpoints[U].select(j)(ne()),T={patches:[],inversePatches:[],undo:()=>K(a.util.patchQueryData(U,j,T.inversePatches,q))};if(ae.status==="uninitialized")return T;let P;if("data"in ae)if(Dn(ae.data)){const[z,$,C]=Iw(ae.data,I);T.patches.push(...$),T.inversePatches.push(...C),P=z}else P=I(ae.data),T.patches.push({op:"replace",path:[],value:P}),T.inversePatches.push({op:"replace",path:[],value:ae.data});return T.patches.length===0||K(a.util.patchQueryData(U,j,T.patches,q)),T},m=(U,j,I)=>q=>q(a.endpoints[U].initiate(j,{subscribe:!1,forceRefetch:!0,[Fo]:()=>({data:I})})),b=(U,j)=>U.query&&U[j]?U[j]:eC,v=async(U,{signal:j,abort:I,rejectWithValue:q,fulfillWithValue:K,dispatch:ne,getState:re,extra:ae})=>{const T=t[U.endpointName];try{let P=b(T,"transformResponse");const z={signal:j,abort:I,dispatch:ne,getState:re,extra:ae,endpoint:U.endpointName,type:U.type,forced:U.type==="query"?x(U,re()):void 0,queryCacheKey:U.type==="query"?U.queryCacheKey:void 0},$=U.type==="query"?U[Fo]:void 0;let C;const N=async(Y,W,ee,se)=>{if(W==null&&Y.pages.length)return Promise.resolve({data:Y});const ge={queryArg:U.originalArgs,pageParam:W},ue=await F(ge),me=se?f:p;return{data:{pages:me(Y.pages,ue.data,ee),pageParams:me(Y.pageParams,W,ee)}}};async function F(Y){let W;const{extraOptions:ee}=T;if($?W=$():T.query?W=await e(T.query(Y),z,ee):W=await T.queryFn(Y,z,ee,ge=>e(ge,z,ee)),typeof process<"u",W.error)throw new kv(W.error,W.meta);const se=await P(W.data,W.meta,Y);return{...W,data:se}}if(U.type==="query"&&"infiniteQueryOptions"in T){const{infiniteQueryOptions:Y}=T,{maxPages:W=1/0}=Y;let ee;const se={pages:[],pageParams:[]},ge=u.selectQueryEntry(re(),U.queryCacheKey)?.data,me=x(U,re())&&!U.direction||!ge?se:ge;if("direction"in U&&U.direction&&me.pages.length){const fe=U.direction==="backward",Fe=(fe?px:hp)(Y,me);ee=await N(me,Fe,W,fe)}else{const{initialPageParam:fe=Y.initialPageParam}=U,$e=ge?.pageParams??[],Fe=$e[0]??fe,nt=$e.length;ee=await N(me,Fe,W),$&&(ee={data:ee.data.pages[0]});for(let pt=1;pt<nt;pt++){const _e=hp(Y,ee.data);ee=await N(ee.data,_e,W)}}C=ee}else C=await F(U.originalArgs);return K(C.data,ku({fulfilledTimeStamp:Date.now(),baseQueryMeta:C.meta}))}catch(P){let z=P;if(z instanceof kv){let $=b(T,"transformErrorResponse");try{return q(await $(z.value,z.meta,U.originalArgs),ku({baseQueryMeta:z.meta}))}catch(C){z=C}}throw console.error(z),z}};function x(U,j){const I=u.selectQueryEntry(j,U.queryCacheKey),q=u.selectConfig(j).refetchOnMountOrArgChange,K=I?.fulfilledTimeStamp,ne=U.forceRefetch??(U.subscribe&&q);return ne?ne===!0||(Number(new Date)-Number(K))/1e3>=ne:!1}const S=()=>Wb(`${n}/executeQuery`,v,{getPendingMeta({arg:j}){const I=t[j.endpointName];return ku({startedTimeStamp:Date.now(),...bg(I)?{direction:j.direction}:{}})},condition(j,{getState:I}){const q=I(),K=u.selectQueryEntry(q,j.queryCacheKey),ne=K?.fulfilledTimeStamp,re=j.originalArgs,ae=K?.originalArgs,T=t[j.endpointName],P=j.direction;return cp(j)?!0:K?.status==="pending"?!1:x(j,q)||mg(T)&&T?.forceRefetch?.({currentArg:re,previousArg:ae,endpointState:K,state:q})?!0:!(ne&&!P)},dispatchConditionRejection:!0}),_=S(),E=S(),k=Wb(`${n}/executeMutation`,v,{getPendingMeta(){return ku({startedTimeStamp:Date.now()})}}),A=U=>"force"in U,M=U=>"ifOlderThan"in U,D=(U,j,I)=>(q,K)=>{const ne=A(I)&&I.force,re=M(I)&&I.ifOlderThan,ae=(P=!0)=>{const z={forceRefetch:P,isPrefetch:!0};return a.endpoints[U].initiate(j,z)},T=a.endpoints[U].select(j)(K());if(ne)q(ae());else if(re){const P=T?.fulfilledTimeStamp;if(!P){q(ae());return}(Number(new Date)-Number(new Date(P)))/1e3>=re&&q(ae())}else q(ae(!1))};function B(U){return j=>j?.meta?.arg?.endpointName===U}function O(U,j){return{matchPending:Po(Jp(U),B(j)),matchFulfilled:Po(es(U),B(j)),matchRejected:Po(Jr(U),B(j))}}return{queryThunk:_,mutationThunk:k,infiniteQueryThunk:E,prefetch:D,updateQueryData:g,upsertQueryData:m,patchQueryData:h,buildMatchThunkActions:O}}function hp(n,{pages:e,pageParams:t}){const s=e.length-1;return n.getNextPageParam(e[s],e,t[s],t)}function px(n,{pages:e,pageParams:t}){return n.getPreviousPageParam?.(e[0],e,t[0],t)}function gx(n,e,t,s){return vg(t[n.meta.arg.endpointName][e],es(n)?n.payload:void 0,Sc(n)?n.payload:void 0,n.meta.arg.originalArgs,"baseQueryMeta"in n.meta?n.meta.baseQueryMeta:void 0,s)}function Ru(n,e,t){const s=n[e];s&&t(s)}function Vo(n){return("arg"in n?n.arg.fixedCacheKey:n.fixedCacheKey)??n.requestId}function Rv(n,e,t){const s=n[Vo(e)];s&&t(s)}var ho={};function nC({reducerPath:n,queryThunk:e,mutationThunk:t,serializeQueryArgs:s,context:{endpointDefinitions:a,apiUid:l,extractRehydrationInfo:u,hasRehydrationInfo:h},assertTagType:f,config:p}){const g=qt(`${n}/resetApiState`);function m(O,U,j,I){O[U.queryCacheKey]??={status:"uninitialized",endpointName:U.endpointName},Ru(O,U.queryCacheKey,q=>{q.status="pending",q.requestId=j&&q.requestId?q.requestId:I.requestId,U.originalArgs!==void 0&&(q.originalArgs=U.originalArgs),q.startedTimeStamp=I.startedTimeStamp;const K=a[I.arg.endpointName];bg(K)&&"direction"in U&&(q.direction=U.direction)})}function b(O,U,j,I){Ru(O,U.arg.queryCacheKey,q=>{if(q.requestId!==U.requestId&&!I)return;const{merge:K}=a[U.arg.endpointName];if(q.status="fulfilled",K)if(q.data!==void 0){const{fulfilledTimeStamp:ne,arg:re,baseQueryMeta:ae,requestId:T}=U;let P=nl(q.data,z=>K(z,j,{arg:re.originalArgs,baseQueryMeta:ae,fulfilledTimeStamp:ne,requestId:T}));q.data=P}else q.data=j;else q.data=a[U.arg.endpointName].structuralSharing??!0?hx(Vn(q.data)?mT(q.data):q.data,j):j;delete q.error,q.fulfilledTimeStamp=U.fulfilledTimeStamp})}const v=vi({name:`${n}/queries`,initialState:ho,reducers:{removeQueryResult:{reducer(O,{payload:{queryCacheKey:U}}){delete O[U]},prepare:oo()},cacheEntriesUpserted:{reducer(O,U){for(const j of U.payload){const{queryDescription:I,value:q}=j;m(O,I,!0,{arg:I,requestId:U.meta.requestId,startedTimeStamp:U.meta.timestamp}),b(O,{arg:I,requestId:U.meta.requestId,fulfilledTimeStamp:U.meta.timestamp,baseQueryMeta:{}},q,!0)}},prepare:O=>({payload:O.map(I=>{const{endpointName:q,arg:K,value:ne}=I,re=a[q];return{queryDescription:{type:"query",endpointName:q,originalArgs:I.arg,queryCacheKey:s({queryArgs:K,endpointDefinition:re,endpointName:q})},value:ne}}),meta:{[wc]:!0,requestId:sl(),timestamp:Date.now()}})},queryResultPatched:{reducer(O,{payload:{queryCacheKey:U,patches:j}}){Ru(O,U,I=>{I.data=Hb(I.data,j.concat())})},prepare:oo()}},extraReducers(O){O.addCase(e.pending,(U,{meta:j,meta:{arg:I}})=>{const q=cp(I);m(U,I,q,j)}).addCase(e.fulfilled,(U,{meta:j,payload:I})=>{const q=cp(j.arg);b(U,j,I,q)}).addCase(e.rejected,(U,{meta:{condition:j,arg:I,requestId:q},error:K,payload:ne})=>{Ru(U,I.queryCacheKey,re=>{if(!j){if(re.requestId!==q)return;re.status="rejected",re.error=ne??K}})}).addMatcher(h,(U,j)=>{const{queries:I}=u(j);for(const[q,K]of Object.entries(I))(K?.status==="fulfilled"||K?.status==="rejected")&&(U[q]=K)})}}),x=vi({name:`${n}/mutations`,initialState:ho,reducers:{removeMutationResult:{reducer(O,{payload:U}){const j=Vo(U);j in O&&delete O[j]},prepare:oo()}},extraReducers(O){O.addCase(t.pending,(U,{meta:j,meta:{requestId:I,arg:q,startedTimeStamp:K}})=>{q.track&&(U[Vo(j)]={requestId:I,status:"pending",endpointName:q.endpointName,startedTimeStamp:K})}).addCase(t.fulfilled,(U,{payload:j,meta:I})=>{I.arg.track&&Rv(U,I,q=>{q.requestId===I.requestId&&(q.status="fulfilled",q.data=j,q.fulfilledTimeStamp=I.fulfilledTimeStamp)})}).addCase(t.rejected,(U,{payload:j,error:I,meta:q})=>{q.arg.track&&Rv(U,q,K=>{K.requestId===q.requestId&&(K.status="rejected",K.error=j??I)})}).addMatcher(h,(U,j)=>{const{mutations:I}=u(j);for(const[q,K]of Object.entries(I))(K?.status==="fulfilled"||K?.status==="rejected")&&q!==K?.requestId&&(U[q]=K)})}}),S=vi({name:`${n}/invalidation`,initialState:ho,reducers:{updateProvidedBy:{reducer(O,U){const{queryCacheKey:j,providedTags:I}=U.payload;for(const q of Object.values(O))for(const K of Object.values(q)){const ne=K.indexOf(j);ne!==-1&&K.splice(ne,1)}for(const{type:q,id:K}of I){const ne=(O[q]??={})[K||"__internal_without_id"]??=[];ne.includes(j)||ne.push(j)}},prepare:oo()}},extraReducers(O){O.addCase(v.actions.removeQueryResult,(U,{payload:{queryCacheKey:j}})=>{for(const I of Object.values(U))for(const q of Object.values(I)){const K=q.indexOf(j);K!==-1&&q.splice(K,1)}}).addMatcher(h,(U,j)=>{const{provided:I}=u(j);for(const[q,K]of Object.entries(I))for(const[ne,re]of Object.entries(K)){const ae=(U[q]??={})[ne||"__internal_without_id"]??=[];for(const T of re)ae.includes(T)||ae.push(T)}}).addMatcher(Ai(es(e),Sc(e)),(U,j)=>{_(U,j)}).addMatcher(v.actions.cacheEntriesUpserted.match,(U,j)=>{for(const{queryDescription:I,value:q}of j.payload)_(U,{type:"UNKNOWN",payload:q,meta:{requestStatus:"fulfilled",requestId:"UNKNOWN",arg:I}})})}});function _(O,U){const j=gx(U,"providesTags",a,f),{queryCacheKey:I}=U.meta.arg;S.caseReducers.updateProvidedBy(O,S.actions.updateProvidedBy({queryCacheKey:I,providedTags:j}))}const E=vi({name:`${n}/subscriptions`,initialState:ho,reducers:{updateSubscriptionOptions(O,U){},unsubscribeQueryResult(O,U){},internal_getRTKQSubscriptions(){}}}),k=vi({name:`${n}/internalSubscriptions`,initialState:ho,reducers:{subscriptionsUpdated:{reducer(O,U){return Hb(O,U.payload)},prepare:oo()}}}),A=vi({name:`${n}/config`,initialState:{online:XM(),focused:YM(),middlewareRegistered:!1,...p},reducers:{middlewareRegistered(O,{payload:U}){O.middlewareRegistered=O.middlewareRegistered==="conflict"||l!==U?"conflict":!0}},extraReducers:O=>{O.addCase(yg,U=>{U.online=!0}).addCase(dx,U=>{U.online=!1}).addCase(gg,U=>{U.focused=!0}).addCase(fx,U=>{U.focused=!1}).addMatcher(h,U=>({...U}))}}),M=Yp({queries:v.reducer,mutations:x.reducer,provided:S.reducer,subscriptions:k.reducer,config:A.reducer}),D=(O,U)=>M(g.match(U)?void 0:O,U),B={...A.actions,...v.actions,...E.actions,...k.actions,...x.actions,...S.actions,resetApiState:g};return{reducer:D,actions:B}}var _i=Symbol.for("RTKQ/skipToken"),yx={status:"uninitialized"},Ov=nl(yx,()=>{}),Pv=nl(yx,()=>{});function iC({serializeQueryArgs:n,reducerPath:e,createSelector:t}){const s=A=>Ov,a=A=>Pv;return{buildQuerySelector:b,buildInfiniteQuerySelector:v,buildMutationSelector:x,selectInvalidatedBy:S,selectCachedArgsForQuery:_,selectApiState:u,selectQueries:h,selectMutations:p,selectQueryEntry:f,selectConfig:g};function l(A){return{...A,...Tv(A.status)}}function u(A){return A[e]}function h(A){return u(A)?.queries}function f(A,M){return h(A)?.[M]}function p(A){return u(A)?.mutations}function g(A){return u(A)?.config}function m(A,M,D){return B=>{if(B===_i)return t(s,D);const O=n({queryArgs:B,endpointDefinition:M,endpointName:A});return t(j=>f(j,O)??Ov,D)}}function b(A,M){return m(A,M,l)}function v(A,M){const{infiniteQueryOptions:D}=M;function B(O){const U={...O,...Tv(O.status)},{isLoading:j,isError:I,direction:q}=U,K=q==="forward",ne=q==="backward";return{...U,hasNextPage:E(D,U.data),hasPreviousPage:k(D,U.data),isFetchingNextPage:j&&K,isFetchingPreviousPage:j&&ne,isFetchNextPageError:I&&K,isFetchPreviousPageError:I&&ne}}return m(A,M,B)}function x(){return A=>{let M;return typeof A=="object"?M=Vo(A)??_i:M=A,t(M===_i?a:O=>u(O)?.mutations?.[M]??Pv,l)}}function S(A,M){const D=A[e],B=new Set;for(const O of M.filter(hc).map(up)){const U=D.provided[O.type];if(!U)continue;let j=(O.id!==void 0?U[O.id]:Cv(Object.values(U)))??[];for(const I of j)B.add(I)}return Cv(Array.from(B.values()).map(O=>{const U=D.queries[O];return U?[{queryCacheKey:O,endpointName:U.endpointName,originalArgs:U.originalArgs}]:[]}))}function _(A,M){return Object.values(h(A)).filter(D=>D?.endpointName===M&&D.status!=="uninitialized").map(D=>D.originalArgs)}function E(A,M){return M?hp(A,M)!=null:!1}function k(A,M){return!M||!A.getPreviousPageParam?!1:px(A,M)!=null}}var Dv=WeakMap?new WeakMap:void 0,fp=({endpointName:n,queryArgs:e})=>{let t="";const s=Dv?.get(e);if(typeof s=="string")t=s;else{const a=JSON.stringify(e,(l,u)=>(u=typeof u=="bigint"?{$bigint:u.toString()}:u,u=Zr(u)?Object.keys(u).sort().reduce((h,f)=>(h[f]=u[f],h),{}):u,u));Zr(e)&&Dv?.set(e,a),t=a}return`${n}(${t})`};function mx(...n){return function(t){const s=oc(p=>t.extractRehydrationInfo?.(p,{reducerPath:t.reducerPath??"api"})),a={reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1,invalidationBehavior:"delayed",...t,extractRehydrationInfo:s,serializeQueryArgs(p){let g=fp;if("serializeQueryArgs"in p.endpointDefinition){const m=p.endpointDefinition.serializeQueryArgs;g=b=>{const v=m(b);return typeof v=="string"?v:fp({...b,queryArgs:v})}}else t.serializeQueryArgs&&(g=t.serializeQueryArgs);return g(p)},tagTypes:[...t.tagTypes||[]]},l={endpointDefinitions:{},batch(p){p()},apiUid:sl(),extractRehydrationInfo:s,hasRehydrationInfo:oc(p=>s(p)!=null)},u={injectEndpoints:f,enhanceEndpoints({addTagTypes:p,endpoints:g}){if(p)for(const m of p)a.tagTypes.includes(m)||a.tagTypes.push(m);if(g)for(const[m,b]of Object.entries(g))typeof b=="function"?b(l.endpointDefinitions[m]):Object.assign(l.endpointDefinitions[m]||{},b);return u}},h=n.map(p=>p.init(u,a,l));function f(p){const g=p.endpoints({query:m=>({...m,type:"query"}),mutation:m=>({...m,type:"mutation"}),infiniteQuery:m=>({...m,type:"infinitequery"})});for(const[m,b]of Object.entries(g)){if(p.overrideExisting!==!0&&m in l.endpointDefinitions){if(p.overrideExisting==="throw")throw new Error(xt(39));continue}l.endpointDefinitions[m]=b;for(const v of h)v.injectEndpoint(m,b)}return u}return u.injectEndpoints({endpoints:t.endpoints})}}function sC(){return function(){throw new Error(xt(33))}}function gi(n,...e){return Object.assign(n,...e)}var rC=({api:n,queryThunk:e,internalState:t})=>{const s=`${n.reducerPath}/subscriptions`;let a=null,l=null;const{updateSubscriptionOptions:u,unsubscribeQueryResult:h}=n.internalActions,f=(v,x)=>{if(u.match(x)){const{queryCacheKey:_,requestId:E,options:k}=x.payload;return v?.[_]?.[E]&&(v[_][E]=k),!0}if(h.match(x)){const{queryCacheKey:_,requestId:E}=x.payload;return v[_]&&delete v[_][E],!0}if(n.internalActions.removeQueryResult.match(x))return delete v[x.payload.queryCacheKey],!0;if(e.pending.match(x)){const{meta:{arg:_,requestId:E}}=x,k=v[_.queryCacheKey]??={};return k[`${E}_running`]={},_.subscribe&&(k[E]=_.subscriptionOptions??k[E]??{}),!0}let S=!1;if(e.fulfilled.match(x)||e.rejected.match(x)){const _=v[x.meta.arg.queryCacheKey]||{},E=`${x.meta.requestId}_running`;S||=!!_[E],delete _[E]}if(e.rejected.match(x)){const{meta:{condition:_,arg:E,requestId:k}}=x;if(_&&E.subscribe){const A=v[E.queryCacheKey]??={};A[k]=E.subscriptionOptions??A[k]??{},S=!0}}return S},p=()=>t.currentSubscriptions,b={getSubscriptions:p,getSubscriptionCount:v=>{const S=p()[v]??{};return Qr(S)},isRequestSubscribed:(v,x)=>!!p()?.[v]?.[x]};return(v,x)=>{if(a||(a=JSON.parse(JSON.stringify(t.currentSubscriptions))),n.util.resetApiState.match(v))return a=t.currentSubscriptions={},l=null,[!0,!1];if(n.internalActions.internal_getRTKQSubscriptions.match(v))return[!1,b];const S=f(t.currentSubscriptions,v);let _=!0;if(S){l||(l=setTimeout(()=>{const A=JSON.parse(JSON.stringify(t.currentSubscriptions)),[,M]=Iw(a,()=>A);x.next(n.internalActions.subscriptionsUpdated(M)),a=A,l=null},500));const E=typeof v.type=="string"&&!!v.type.startsWith(s),k=e.rejected.match(v)&&v.meta.condition&&!!v.meta.arg.subscribe;_=!E&&!k}return[_,!1]}};function aC(n){for(const e in n)return!1;return!0}var oC=2147483647/1e3-1,lC=({reducerPath:n,api:e,queryThunk:t,context:s,internalState:a,selectors:{selectQueryEntry:l,selectConfig:u}})=>{const{removeQueryResult:h,unsubscribeQueryResult:f,cacheEntriesUpserted:p}=e.internalActions,g=Ai(f.match,t.fulfilled,t.rejected,p.match);function m(_){const E=a.currentSubscriptions[_];return!!E&&!aC(E)}const b={},v=(_,E,k)=>{const A=E.getState(),M=u(A);if(g(_)){let D;if(p.match(_))D=_.payload.map(B=>B.queryDescription.queryCacheKey);else{const{queryCacheKey:B}=f.match(_)?_.payload:_.meta.arg;D=[B]}x(D,E,M)}if(e.util.resetApiState.match(_))for(const[D,B]of Object.entries(b))B&&clearTimeout(B),delete b[D];if(s.hasRehydrationInfo(_)){const{queries:D}=s.extractRehydrationInfo(_);x(Object.keys(D),E,M)}};function x(_,E,k){const A=E.getState();for(const M of _){const D=l(A,M);S(M,D?.endpointName,E,k)}}function S(_,E,k,A){const D=s.endpointDefinitions[E]?.keepUnusedDataFor??A.keepUnusedDataFor;if(D===1/0)return;const B=Math.max(0,Math.min(D,oC));if(!m(_)){const O=b[_];O&&clearTimeout(O),b[_]=setTimeout(()=>{m(_)||k.dispatch(h({queryCacheKey:_})),delete b[_]},B*1e3)}}return v},Bv=new Error("Promise never resolved before cacheEntryRemoved."),uC=({api:n,reducerPath:e,context:t,queryThunk:s,mutationThunk:a,internalState:l,selectors:{selectQueryEntry:u,selectApiState:h}})=>{const f=sp(s),p=sp(a),g=es(s,a),m={};function b(E,k,A){const M=m[E];M?.valueResolved&&(M.valueResolved({data:k,meta:A}),delete M.valueResolved)}function v(E){const k=m[E];k&&(delete m[E],k.cacheEntryRemoved())}const x=(E,k,A)=>{const M=S(E);function D(B,O,U,j){const I=u(A,O),q=u(k.getState(),O);!I&&q&&_(B,j,O,k,U)}if(s.pending.match(E))D(E.meta.arg.endpointName,M,E.meta.requestId,E.meta.arg.originalArgs);else if(n.internalActions.cacheEntriesUpserted.match(E))for(const{queryDescription:B,value:O}of E.payload){const{endpointName:U,originalArgs:j,queryCacheKey:I}=B;D(U,I,E.meta.requestId,j),b(I,O,{})}else if(a.pending.match(E))k.getState()[e].mutations[M]&&_(E.meta.arg.endpointName,E.meta.arg.originalArgs,M,k,E.meta.requestId);else if(g(E))b(M,E.payload,E.meta.baseQueryMeta);else if(n.internalActions.removeQueryResult.match(E)||n.internalActions.removeMutationResult.match(E))v(M);else if(n.util.resetApiState.match(E))for(const B of Object.keys(m))v(B)};function S(E){return f(E)?E.meta.arg.queryCacheKey:p(E)?E.meta.arg.fixedCacheKey??E.meta.requestId:n.internalActions.removeQueryResult.match(E)?E.payload.queryCacheKey:n.internalActions.removeMutationResult.match(E)?Vo(E.payload):""}function _(E,k,A,M,D){const B=t.endpointDefinitions[E],O=B?.onCacheEntryAdded;if(!O)return;const U={},j=new Promise(ae=>{U.cacheEntryRemoved=ae}),I=Promise.race([new Promise(ae=>{U.valueResolved=ae}),j.then(()=>{throw Bv})]);I.catch(()=>{}),m[A]=U;const q=n.endpoints[E].select(B.type==="query"?k:A),K=M.dispatch((ae,T,P)=>P),ne={...M,getCacheEntry:()=>q(M.getState()),requestId:D,extra:K,updateCachedData:B.type==="query"?ae=>M.dispatch(n.util.updateQueryData(E,k,ae)):void 0,cacheDataLoaded:I,cacheEntryRemoved:j},re=O(k,ne);Promise.resolve(re).catch(ae=>{if(ae!==Bv)throw ae})}return x},cC=({api:n,context:{apiUid:e},reducerPath:t})=>(s,a)=>{n.util.resetApiState.match(s)&&a.dispatch(n.internalActions.middlewareRegistered(e))},hC=({reducerPath:n,context:e,context:{endpointDefinitions:t},mutationThunk:s,queryThunk:a,api:l,assertTagType:u,refetchQuery:h,internalState:f})=>{const{removeQueryResult:p}=l.internalActions,g=Ai(es(s),Sc(s)),m=Ai(es(s,a),Jr(s,a));let b=[];const v=(_,E)=>{g(_)?S(gx(_,"invalidatesTags",t,u),E):m(_)?S([],E):l.util.invalidateTags.match(_)&&S(vg(_.payload,void 0,void 0,void 0,void 0,u),E)};function x(_){const{queries:E,mutations:k}=_;for(const A of[E,k])for(const M in A)if(A[M]?.status==="pending")return!0;return!1}function S(_,E){const k=E.getState(),A=k[n];if(b.push(..._),A.config.invalidationBehavior==="delayed"&&x(A))return;const M=b;if(b=[],M.length===0)return;const D=l.util.selectInvalidatedBy(k,M);e.batch(()=>{const B=Array.from(D.values());for(const{queryCacheKey:O}of B){const U=A.queries[O],j=f.currentSubscriptions[O]??{};U&&(Qr(j)===0?E.dispatch(p({queryCacheKey:O})):U.status!=="uninitialized"&&E.dispatch(h(U)))}})}return v},fC=({reducerPath:n,queryThunk:e,api:t,refetchQuery:s,internalState:a})=>{const l={},u=(b,v)=>{(t.internalActions.updateSubscriptionOptions.match(b)||t.internalActions.unsubscribeQueryResult.match(b))&&f(b.payload,v),(e.pending.match(b)||e.rejected.match(b)&&b.meta.condition)&&f(b.meta.arg,v),(e.fulfilled.match(b)||e.rejected.match(b)&&!b.meta.condition)&&h(b.meta.arg,v),t.util.resetApiState.match(b)&&g()};function h({queryCacheKey:b},v){const x=v.getState()[n],S=x.queries[b],_=a.currentSubscriptions[b];if(!S||S.status==="uninitialized")return;const{lowestPollingInterval:E,skipPollingIfUnfocused:k}=m(_);if(!Number.isFinite(E))return;const A=l[b];A?.timeout&&(clearTimeout(A.timeout),A.timeout=void 0);const M=Date.now()+E;l[b]={nextPollTimestamp:M,pollingInterval:E,timeout:setTimeout(()=>{(x.config.focused||!k)&&v.dispatch(s(S)),h({queryCacheKey:b},v)},E)}}function f({queryCacheKey:b},v){const S=v.getState()[n].queries[b],_=a.currentSubscriptions[b];if(!S||S.status==="uninitialized")return;const{lowestPollingInterval:E}=m(_);if(!Number.isFinite(E)){p(b);return}const k=l[b],A=Date.now()+E;(!k||A<k.nextPollTimestamp)&&h({queryCacheKey:b},v)}function p(b){const v=l[b];v?.timeout&&clearTimeout(v.timeout),delete l[b]}function g(){for(const b of Object.keys(l))p(b)}function m(b={}){let v=!1,x=Number.POSITIVE_INFINITY;for(let S in b)b[S].pollingInterval&&(x=Math.min(b[S].pollingInterval,x),v=b[S].skipPollingIfUnfocused||v);return{lowestPollingInterval:x,skipPollingIfUnfocused:v}}return u},dC=({api:n,context:e,queryThunk:t,mutationThunk:s})=>{const a=Jp(t,s),l=Jr(t,s),u=es(t,s),h={};return(p,g)=>{if(a(p)){const{requestId:m,arg:{endpointName:b,originalArgs:v}}=p.meta,x=e.endpointDefinitions[b],S=x?.onQueryStarted;if(S){const _={},E=new Promise((D,B)=>{_.resolve=D,_.reject=B});E.catch(()=>{}),h[m]=_;const k=n.endpoints[b].select(x.type==="query"?v:m),A=g.dispatch((D,B,O)=>O),M={...g,getCacheEntry:()=>k(g.getState()),requestId:m,extra:A,updateCachedData:x.type==="query"?D=>g.dispatch(n.util.updateQueryData(b,v,D)):void 0,queryFulfilled:E};S(v,M)}}else if(u(p)){const{requestId:m,baseQueryMeta:b}=p.meta;h[m]?.resolve({data:p.payload,meta:b}),delete h[m]}else if(l(p)){const{requestId:m,rejectedWithValue:b,baseQueryMeta:v}=p.meta;h[m]?.reject({error:p.payload??p.error,isUnhandledError:!b,meta:v}),delete h[m]}}},pC=({reducerPath:n,context:e,api:t,refetchQuery:s,internalState:a})=>{const{removeQueryResult:l}=t.internalActions,u=(f,p)=>{gg.match(f)&&h(p,"refetchOnFocus"),yg.match(f)&&h(p,"refetchOnReconnect")};function h(f,p){const g=f.getState()[n],m=g.queries,b=a.currentSubscriptions;e.batch(()=>{for(const v of Object.keys(b)){const x=m[v],S=b[v];if(!S||!x)continue;(Object.values(S).some(E=>E[p]===!0)||Object.values(S).every(E=>E[p]===void 0)&&g.config[p])&&(Qr(S)===0?f.dispatch(l({queryCacheKey:v})):x.status!=="uninitialized"&&f.dispatch(s(x)))}})}return u};function gC(n){const{reducerPath:e,queryThunk:t,api:s,context:a}=n,{apiUid:l}=a,u={invalidateTags:qt(`${e}/invalidateTags`)},h=m=>m.type.startsWith(`${e}/`),f=[cC,lC,hC,fC,uC,dC];return{middleware:m=>{let b=!1;const x={...n,internalState:{currentSubscriptions:{}},refetchQuery:g,isThisApiSliceAction:h},S=f.map(k=>k(x)),_=rC(x),E=pC(x);return k=>A=>{if(!Xp(A))return k(A);b||(b=!0,m.dispatch(s.internalActions.middlewareRegistered(l)));const M={...m,next:k},D=m.getState(),[B,O]=_(A,M,D);let U;if(B?U=k(A):U=O,m.getState()[e]&&(E(A,M,D),h(A)||a.hasRehydrationInfo(A)))for(const j of S)j(A,M,D);return U}},actions:u};function g(m){return n.api.endpoints[m.endpointName].initiate(m.originalArgs,{subscribe:!1,forceRefetch:!0})}}var zv=Symbol(),bx=({createSelector:n=Zp}={})=>({name:zv,init(e,{baseQuery:t,tagTypes:s,reducerPath:a,serializeQueryArgs:l,keepUnusedDataFor:u,refetchOnMountOrArgChange:h,refetchOnFocus:f,refetchOnReconnect:p,invalidationBehavior:g},m){MT();const b=F=>F;Object.assign(e,{reducerPath:a,endpoints:{},internalActions:{onOnline:yg,onOffline:dx,onFocus:gg,onFocusLost:fx},util:{}});const v=iC({serializeQueryArgs:l,reducerPath:a,createSelector:n}),{selectInvalidatedBy:x,selectCachedArgsForQuery:S,buildQuerySelector:_,buildInfiniteQuerySelector:E,buildMutationSelector:k}=v;gi(e.util,{selectInvalidatedBy:x,selectCachedArgsForQuery:S});const{queryThunk:A,infiniteQueryThunk:M,mutationThunk:D,patchQueryData:B,updateQueryData:O,upsertQueryData:U,prefetch:j,buildMatchThunkActions:I}=tC({baseQuery:t,reducerPath:a,context:m,api:e,serializeQueryArgs:l,assertTagType:b,selectors:v}),{reducer:q,actions:K}=nC({context:m,queryThunk:A,mutationThunk:D,serializeQueryArgs:l,reducerPath:a,assertTagType:b,config:{refetchOnFocus:f,refetchOnReconnect:p,refetchOnMountOrArgChange:h,keepUnusedDataFor:u,reducerPath:a,invalidationBehavior:g}});gi(e.util,{patchQueryData:B,updateQueryData:O,upsertQueryData:U,prefetch:j,resetApiState:K.resetApiState,upsertQueryEntries:K.cacheEntriesUpserted}),gi(e.internalActions,K);const{middleware:ne,actions:re}=gC({reducerPath:a,context:m,queryThunk:A,mutationThunk:D,infiniteQueryThunk:M,api:e,assertTagType:b,selectors:v});gi(e.util,re),gi(e,{reducer:q,middleware:ne});const{buildInitiateQuery:ae,buildInitiateInfiniteQuery:T,buildInitiateMutation:P,getRunningMutationThunk:z,getRunningMutationsThunk:$,getRunningQueriesThunk:C,getRunningQueryThunk:N}=JM({queryThunk:A,mutationThunk:D,infiniteQueryThunk:M,api:e,serializeQueryArgs:l,context:m});return gi(e.util,{getRunningMutationThunk:z,getRunningMutationsThunk:$,getRunningQueryThunk:N,getRunningQueriesThunk:C}),{name:zv,injectEndpoint(F,Y){const W=e,ee=W.endpoints[F]??={};mg(Y)&&gi(ee,{name:F,select:_(F,Y),initiate:ae(F,Y)},I(A,F)),WM(Y)&&gi(ee,{name:F,select:k(),initiate:P(F)},I(D,F)),bg(Y)&&gi(ee,{name:F,select:E(F,Y),initiate:T(F,Y)},I(A,F))}}}});bx();function Ou(n){return n.replace(n[0],n[0].toUpperCase())}function yC(n){return n.type==="query"}function mC(n){return n.type==="mutation"}function vx(n){return n.type==="infinitequery"}function fo(n,...e){return Object.assign(n,...e)}var cd=Symbol();function Uv(n,e,t,s){const a=he.useMemo(()=>({queryArgs:n,serialized:typeof n=="object"?e({queryArgs:n,endpointDefinition:t,endpointName:s}):n}),[n,e,t,s]),l=he.useRef(a);return he.useEffect(()=>{l.current.serialized!==a.serialized&&(l.current=a)},[a]),l.current.serialized===a.serialized?l.current.queryArgs:n}function Pu(n){const e=he.useRef(n);return he.useEffect(()=>{Ro(e.current,n)||(e.current=n)},[n]),Ro(e.current,n)?e.current:n}var bC=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",vC=bC(),_C=()=>typeof navigator<"u"&&navigator.product==="ReactNative",wC=_C(),xC=()=>vC||wC?he.useLayoutEffect:he.useEffect,SC=xC(),jv=n=>n.isUninitialized?{...n,isUninitialized:!1,isFetching:!0,isLoading:n.data===void 0,status:cx.pending}:n;function hd(n,...e){const t={};return e.forEach(s=>{t[s]=n[s]}),t}var fd=["data","status","isLoading","isSuccess","isError","error"];function AC({api:n,moduleOptions:{batch:e,hooks:{useDispatch:t,useSelector:s,useStore:a},unstable__sideEffectsInRender:l,createSelector:u},serializeQueryArgs:h,context:f}){const p=l?M=>M():he.useEffect;return{buildQueryHooks:E,buildInfiniteQueryHooks:k,buildMutationHook:A,usePrefetch:b};function g(M,D,B){if(D?.endpointName&&M.isUninitialized){const{endpointName:K}=D,ne=f.endpointDefinitions[K];B!==_i&&h({queryArgs:D.originalArgs,endpointDefinition:ne,endpointName:K})===h({queryArgs:B,endpointDefinition:ne,endpointName:K})&&(D=void 0)}let O=M.isSuccess?M.data:D?.data;O===void 0&&(O=M.data);const U=O!==void 0,j=M.isLoading,I=(!D||D.isLoading||D.isUninitialized)&&!U&&j,q=M.isSuccess||U&&(j&&!D?.isError||M.isUninitialized);return{...M,data:O,currentData:M.data,isFetching:j,isLoading:I,isSuccess:q}}function m(M,D,B){if(D?.endpointName&&M.isUninitialized){const{endpointName:K}=D,ne=f.endpointDefinitions[K];h({queryArgs:D.originalArgs,endpointDefinition:ne,endpointName:K})===h({queryArgs:B,endpointDefinition:ne,endpointName:K})&&(D=void 0)}let O=M.isSuccess?M.data:D?.data;O===void 0&&(O=M.data);const U=O!==void 0,j=M.isLoading,I=(!D||D.isLoading||D.isUninitialized)&&!U&&j,q=M.isSuccess||j&&U;return{...M,data:O,currentData:M.data,isFetching:j,isLoading:I,isSuccess:q}}function b(M,D){const B=t(),O=Pu(D);return he.useCallback((U,j)=>B(n.util.prefetch(M,U,{...O,...j})),[M,B,O])}function v(M,D,{refetchOnReconnect:B,refetchOnFocus:O,refetchOnMountOrArgChange:U,skip:j=!1,pollingInterval:I=0,skipPollingIfUnfocused:q=!1,...K}={}){const{initiate:ne}=n.endpoints[M],re=t(),ae=he.useRef(void 0);if(!ae.current){const se=re(n.internalActions.internal_getRTKQSubscriptions());ae.current=se}const T=Uv(j?_i:D,fp,f.endpointDefinitions[M],M),P=Pu({refetchOnReconnect:B,refetchOnFocus:O,pollingInterval:I,skipPollingIfUnfocused:q}),z=he.useRef(!1),$=K.initialPageParam,C=Pu($),N=he.useRef(void 0);let{queryCacheKey:F,requestId:Y}=N.current||{},W=!1;F&&Y&&(W=ae.current.isRequestSubscribed(F,Y));const ee=!W&&z.current;return p(()=>{z.current=W}),p(()=>{ee&&(N.current=void 0)},[ee]),p(()=>{const se=N.current;if(T===_i){se?.unsubscribe(),N.current=void 0;return}const ge=N.current?.subscriptionOptions;if(!se||se.arg!==T){se?.unsubscribe();const ue=re(ne(T,{subscriptionOptions:P,forceRefetch:U,...vx(f.endpointDefinitions[M])?{initialPageParam:C}:{}}));N.current=ue}else P!==ge&&se.updateSubscriptionOptions(P)},[re,ne,U,T,P,ee,C,M]),[N,re,ne,P]}function x(M,D){return(O,{skip:U=!1,selectFromResult:j}={})=>{const{select:I}=n.endpoints[M],q=Uv(U?_i:O,h,f.endpointDefinitions[M],M),K=he.useRef(void 0),ne=he.useMemo(()=>u([I(q),(z,$)=>$,z=>q],D,{memoizeOptions:{resultEqualityCheck:Ro}}),[I,q]),re=he.useMemo(()=>j?u([ne],j,{devModeChecks:{identityFunctionCheck:"never"}}):ne,[ne,j]),ae=s(z=>re(z,K.current),Ro),T=a(),P=ne(T.getState(),K.current);return SC(()=>{K.current=P},[P]),ae}}function S(M){he.useEffect(()=>()=>{M.current?.unsubscribe?.(),M.current=void 0},[M])}function _(M){if(!M.current)throw new Error(xt(38));return M.current.refetch()}function E(M){const D=(U,j={})=>{const[I]=v(M,U,j);return S(I),he.useMemo(()=>({refetch:()=>_(I)}),[I])},B=({refetchOnReconnect:U,refetchOnFocus:j,pollingInterval:I=0,skipPollingIfUnfocused:q=!1}={})=>{const{initiate:K}=n.endpoints[M],ne=t(),[re,ae]=he.useState(cd),T=he.useRef(void 0),P=Pu({refetchOnReconnect:U,refetchOnFocus:j,pollingInterval:I,skipPollingIfUnfocused:q});p(()=>{const N=T.current?.subscriptionOptions;P!==N&&T.current?.updateSubscriptionOptions(P)},[P]);const z=he.useRef(P);p(()=>{z.current=P},[P]);const $=he.useCallback(function(N,F=!1){let Y;return e(()=>{T.current?.unsubscribe(),T.current=Y=ne(K(N,{subscriptionOptions:z.current,forceRefetch:!F})),ae(N)}),Y},[ne,K]),C=he.useCallback(()=>{T.current?.queryCacheKey&&ne(n.internalActions.removeQueryResult({queryCacheKey:T.current?.queryCacheKey}))},[ne]);return he.useEffect(()=>()=>{T?.current?.unsubscribe()},[]),he.useEffect(()=>{re!==cd&&!T.current&&$(re,!0)},[re,$]),he.useMemo(()=>[$,re,{reset:C}],[$,re,C])},O=x(M,g);return{useQueryState:O,useQuerySubscription:D,useLazyQuerySubscription:B,useLazyQuery(U){const[j,I,{reset:q}]=B(U),K=O(I,{...U,skip:I===cd}),ne=he.useMemo(()=>({lastArg:I}),[I]);return he.useMemo(()=>[j,{...K,reset:q},ne],[j,K,q,ne])},useQuery(U,j){const I=D(U,j),q=O(U,{selectFromResult:U===_i||j?.skip?void 0:jv,...j}),K=hd(q,...fd);return he.useDebugValue(K),he.useMemo(()=>({...q,...I}),[q,I])}}}function k(M){const D=(O,U={})=>{const[j,I,q,K]=v(M,O,U),ne=he.useRef(K);p(()=>{ne.current=K},[K]);const re=he.useCallback(function(ae,T){let P;return e(()=>{j.current?.unsubscribe(),j.current=P=I(q(ae,{subscriptionOptions:ne.current,direction:T}))}),P},[j,I,q]);return S(j),he.useMemo(()=>({trigger:re,refetch:()=>_(j),fetchNextPage:()=>re(O,"forward"),fetchPreviousPage:()=>re(O,"backward")}),[j,re,O])},B=x(M,m);return{useInfiniteQueryState:B,useInfiniteQuerySubscription:D,useInfiniteQuery(O,U){const{refetch:j,fetchNextPage:I,fetchPreviousPage:q}=D(O,U),K=B(O,{selectFromResult:O===_i||U?.skip?void 0:jv,...U}),ne=hd(K,...fd,"hasNextPage","hasPreviousPage");return he.useDebugValue(ne),he.useMemo(()=>({...K,fetchNextPage:I,fetchPreviousPage:q,refetch:j}),[K,I,q,j])}}}function A(M){return({selectFromResult:D,fixedCacheKey:B}={})=>{const{select:O,initiate:U}=n.endpoints[M],j=t(),[I,q]=he.useState();he.useEffect(()=>()=>{I?.arg.fixedCacheKey||I?.reset()},[I]);const K=he.useCallback(function(N){const F=j(U(N,{fixedCacheKey:B}));return q(F),F},[j,U,B]),{requestId:ne}=I||{},re=he.useMemo(()=>O({fixedCacheKey:B,requestId:I?.requestId}),[B,I,O]),ae=he.useMemo(()=>D?u([re],D):re,[D,re]),T=s(ae,Ro),P=B==null?I?.arg.originalArgs:void 0,z=he.useCallback(()=>{e(()=>{I&&q(void 0),B&&j(n.internalActions.removeMutationResult({requestId:ne,fixedCacheKey:B}))})},[j,B,I,ne]),$=hd(T,...fd,"endpointName");he.useDebugValue($);const C=he.useMemo(()=>({...T,originalArgs:P,reset:z}),[T,P,z]);return he.useMemo(()=>[K,C],[K,C])}}}var EC=Symbol(),TC=({batch:n=hT,hooks:e={useDispatch:Pw,useSelector:Dw,useStore:Fp},createSelector:t=Zp,unstable__sideEffectsInRender:s=!1,...a}={})=>({name:EC,init(l,{serializeQueryArgs:u},h){const f=l,{buildQueryHooks:p,buildInfiniteQueryHooks:g,buildMutationHook:m,usePrefetch:b}=AC({api:l,moduleOptions:{batch:n,hooks:e,unstable__sideEffectsInRender:s,createSelector:t},serializeQueryArgs:u,context:h});return fo(f,{usePrefetch:b}),fo(h,{batch:n}),{injectEndpoint(v,x){if(yC(x)){const{useQuery:S,useLazyQuery:_,useLazyQuerySubscription:E,useQueryState:k,useQuerySubscription:A}=p(v);fo(f.endpoints[v],{useQuery:S,useLazyQuery:_,useLazyQuerySubscription:E,useQueryState:k,useQuerySubscription:A}),l[`use${Ou(v)}Query`]=S,l[`useLazy${Ou(v)}Query`]=_}if(mC(x)){const S=m(v);fo(f.endpoints[v],{useMutation:S}),l[`use${Ou(v)}Mutation`]=S}else if(vx(x)){const{useInfiniteQuery:S,useInfiniteQuerySubscription:_,useInfiniteQueryState:E}=g(v);fo(f.endpoints[v],{useInfiniteQuery:S,useInfiniteQuerySubscription:_,useInfiniteQueryState:E}),l[`use${Ou(v)}InfiniteQuery`]=S}}}}}),MC=mx(bx(),TC());const CC=(function(){const e=typeof document<"u"&&document.createElement("link").relList;return e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"})(),kC=function(n){return"/editor/"+n},Lv={},Yn=function(e,t,s){let a=Promise.resolve();if(t&&t.length>0){let f=function(p){return Promise.all(p.map(g=>Promise.resolve(g).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=u?.nonce||u?.getAttribute("nonce");a=f(t.map(p=>{if(p=kC(p),p in Lv)return;Lv[p]=!0;const g=p.endsWith(".css"),m=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${m}`))return;const b=document.createElement("link");if(b.rel=g?"stylesheet":CC,g||(b.as="script"),b.crossOrigin="",b.href=p,h&&b.setAttribute("nonce",h),document.head.appendChild(b),g)return new Promise((v,x)=>{b.addEventListener("load",v),b.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${p}`)))})}))}function l(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return a.then(u=>{for(const h of u||[])h.status==="rejected"&&l(h.reason);return e().catch(l)})},_x=n=>{let e;return(...t)=>(e||(e=n(...t)),e)},RC=_x(()=>Yn(()=>import("./campaign-BzA0KthR.js"),__vite__mapDeps([0,1]))),Tc=typeof Buffer=="function";typeof TextDecoder=="function"&&new TextDecoder;typeof TextEncoder=="function"&&new TextEncoder;const OC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",xo=Array.prototype.slice.call(OC),Du=(n=>{let e={};return n.forEach((t,s)=>e[t]=s),e})(xo),PC=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,Zu=String.fromCharCode.bind(String),Iv=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):n=>new Uint8Array(Array.prototype.slice.call(n,0)),DC=n=>n.replace(/=/g,"").replace(/[+\/]/g,e=>e=="+"?"-":"_"),wx=n=>n.replace(/[^A-Za-z0-9\+\/]/g,""),BC=n=>{let e,t,s,a,l="";const u=n.length%3;for(let h=0;h<n.length;){if((t=n.charCodeAt(h++))>255||(s=n.charCodeAt(h++))>255||(a=n.charCodeAt(h++))>255)throw new TypeError("invalid character found");e=t<<16|s<<8|a,l+=xo[e>>18&63]+xo[e>>12&63]+xo[e>>6&63]+xo[e&63]}return u?l.slice(0,u-3)+"===".substring(u):l},zC=typeof btoa=="function"?n=>btoa(n):Tc?n=>Buffer.from(n,"binary").toString("base64"):BC,Nv=Tc?n=>Buffer.from(n).toString("base64"):n=>{let t=[];for(let s=0,a=n.length;s<a;s+=4096)t.push(Zu.apply(null,n.subarray(s,s+4096)));return zC(t.join(""))},UC=(n,e=!1)=>e?DC(Nv(n)):Nv(n),jC=n=>{if(n=n.replace(/\s+/g,""),!PC.test(n))throw new TypeError("malformed base64.");n+="==".slice(2-(n.length&3));let e,t="",s,a;for(let l=0;l<n.length;)e=Du[n.charAt(l++)]<<18|Du[n.charAt(l++)]<<12|(s=Du[n.charAt(l++)])<<6|(a=Du[n.charAt(l++)]),t+=s===64?Zu(e>>16&255):a===64?Zu(e>>16&255,e>>8&255):Zu(e>>16&255,e>>8&255,e&255);return t},LC=typeof atob=="function"?n=>atob(wx(n)):Tc?n=>Buffer.from(n,"base64").toString("binary"):jC,IC=Tc?n=>Iv(Buffer.from(n,"base64")):n=>Iv(LC(n).split("").map(e=>e.charCodeAt(0))),NC=n=>IC(qC(n)),qC=n=>wx(n.replace(/[-_]/g,e=>e=="-"?"+":"/")),GC=!0,xx="gzip",HC=async n=>{const e=JSON.stringify(n),s=new TextEncoder().encode(e),a=new Blob([s]),l=new CompressionStream(xx),u=a.stream().pipeThrough(l),h=await new Response(u).arrayBuffer(),f=new Uint8Array(h);return UC(f,GC)},Sx=async n=>{try{const e=NC(n),t=new Blob([new Uint8Array(e)]),s=new DecompressionStream(xx),a=t.stream().pipeThrough(s),l=await new Response(a).text();return JSON.parse(l)}catch(e){throw new Error("error decompressing object",{cause:e})}},$C=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>Yn(async()=>{const{default:s}=await Promise.resolve().then(()=>sa);return{default:s}},void 0).then(({default:s})=>s(...t)):e=fetch,(...t)=>e(...t)};class _g extends Error{constructor(e,t="FunctionsError",s){super(e),this.name=t,this.context=s}}class FC extends _g{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class qv extends _g{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Gv extends _g{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var dp;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(dp||(dp={}));var VC=function(n,e,t,s){function a(l){return l instanceof t?l:new t(function(u){u(l)})}return new(t||(t=Promise))(function(l,u){function h(g){try{p(s.next(g))}catch(m){u(m)}}function f(g){try{p(s.throw(g))}catch(m){u(m)}}function p(g){g.done?l(g.value):a(g.value).then(h,f)}p((s=s.apply(n,e||[])).next())})};class YC{constructor(e,{headers:t={},customFetch:s,region:a=dp.Any}={}){this.url=e,this.headers=t,this.region=a,this.fetch=$C(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var s;return VC(this,void 0,void 0,function*(){try{const{headers:a,method:l,body:u}=t;let h={},{region:f}=t;f||(f=this.region);const p=new URL(`${this.url}/${e}`);f&&f!=="any"&&(h["x-region"]=f,p.searchParams.set("forceFunctionRegion",f));let g;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",g=u):typeof u=="string"?(h["Content-Type"]="text/plain",g=u):typeof FormData<"u"&&u instanceof FormData?g=u:(h["Content-Type"]="application/json",g=JSON.stringify(u)));const m=yield this.fetch(p.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),a),body:g}).catch(S=>{throw new FC(S)}),b=m.headers.get("x-relay-error");if(b&&b==="true")throw new qv(m);if(!m.ok)throw new Gv(m);let v=((s=m.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),x;return v==="application/json"?x=yield m.json():v==="application/octet-stream"?x=yield m.blob():v==="text/event-stream"?x=m:v==="multipart/form-data"?x=yield m.formData():x=yield m.text(),{data:x,error:null,response:m}}catch(a){return{data:null,error:a,response:a instanceof Gv||a instanceof qv?a.context:void 0}}})}}var vt={},Pr={},Dr={},Br={},zr={},Ur={},XC=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ea=XC();const QC=ea.fetch,Ax=ea.fetch.bind(ea),Ex=ea.Headers,WC=ea.Request,KC=ea.Response,sa=Object.freeze(Object.defineProperty({__proto__:null,Headers:Ex,Request:WC,Response:KC,default:Ax,fetch:QC},Symbol.toStringTag,{value:"Module"})),ZC=BE(sa);var Bu={},Hv;function Tx(){if(Hv)return Bu;Hv=1,Object.defineProperty(Bu,"__esModule",{value:!0});class n extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return Bu.default=n,Bu}var $v;function Mx(){if($v)return Ur;$v=1;var n=Ur&&Ur.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Ur,"__esModule",{value:!0});const e=n(ZC),t=n(Tx());class s{constructor(l){this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=l.headers,this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=l.shouldThrowOnError,this.signal=l.signal,this.isMaybeSingle=l.isMaybeSingle,l.fetch?this.fetch=l.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,u){return this.headers=Object.assign({},this.headers),this.headers[l]=u,this}then(l,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const h=this.fetch;let f=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var g,m,b;let v=null,x=null,S=null,_=p.status,E=p.statusText;if(p.ok){if(this.method!=="HEAD"){const D=await p.text();D===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?x=D:x=JSON.parse(D))}const A=(g=this.headers.Prefer)===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),M=(m=p.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");A&&M&&M.length>1&&(S=parseInt(M[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(v={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,S=null,_=406,E="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const A=await p.text();try{v=JSON.parse(A),Array.isArray(v)&&p.status===404&&(x=[],v=null,_=200,E="OK")}catch{p.status===404&&A===""?(_=204,E="No Content"):v={message:A}}if(v&&this.isMaybeSingle&&(!((b=v?.details)===null||b===void 0)&&b.includes("0 rows"))&&(v=null,_=200,E="OK"),v&&this.shouldThrowOnError)throw new t.default(v)}return{error:v,data:x,count:S,status:_,statusText:E}});return this.shouldThrowOnError||(f=f.catch(p=>{var g,m,b;return{error:{message:`${(g=p?.name)!==null&&g!==void 0?g:"FetchError"}: ${p?.message}`,details:`${(m=p?.stack)!==null&&m!==void 0?m:""}`,hint:"",code:`${(b=p?.code)!==null&&b!==void 0?b:""}`},data:null,count:null,status:0,statusText:""}})),f.then(l,u)}returns(){return this}overrideTypes(){return this}}return Ur.default=s,Ur}var Fv;function Cx(){if(Fv)return zr;Fv=1;var n=zr&&zr.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(zr,"__esModule",{value:!0});const e=n(Mx());class t extends e.default{select(a){let l=!1;const u=(a??"*").split("").map(h=>/\s/.test(h)&&!l?"":(h==='"'&&(l=!l),h)).join("");return this.url.searchParams.set("select",u),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(a,{ascending:l=!0,nullsFirst:u,foreignTable:h,referencedTable:f=h}={}){const p=f?`${f}.order`:"order",g=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${g?`${g},`:""}${a}.${l?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:l,referencedTable:u=l}={}){const h=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(h,`${a}`),this}range(a,l,{foreignTable:u,referencedTable:h=u}={}){const f=typeof h>"u"?"offset":`${h}.offset`,p=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(f,`${a}`),this.url.searchParams.set(p,`${l-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:a=!1,verbose:l=!1,settings:u=!1,buffers:h=!1,wal:f=!1,format:p="text"}={}){var g;const m=[a?"analyze":null,l?"verbose":null,u?"settings":null,h?"buffers":null,f?"wal":null].filter(Boolean).join("|"),b=(g=this.headers.Accept)!==null&&g!==void 0?g:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${p}; for="${b}"; options=${m};`,p==="json"?this:this}rollback(){var a;return((a=this.headers.Prefer)!==null&&a!==void 0?a:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return zr.default=t,zr}var Vv;function wg(){if(Vv)return Br;Vv=1;var n=Br&&Br.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Br,"__esModule",{value:!0});const e=n(Cx());class t extends e.default{eq(a,l){return this.url.searchParams.append(a,`eq.${l}`),this}neq(a,l){return this.url.searchParams.append(a,`neq.${l}`),this}gt(a,l){return this.url.searchParams.append(a,`gt.${l}`),this}gte(a,l){return this.url.searchParams.append(a,`gte.${l}`),this}lt(a,l){return this.url.searchParams.append(a,`lt.${l}`),this}lte(a,l){return this.url.searchParams.append(a,`lte.${l}`),this}like(a,l){return this.url.searchParams.append(a,`like.${l}`),this}likeAllOf(a,l){return this.url.searchParams.append(a,`like(all).{${l.join(",")}}`),this}likeAnyOf(a,l){return this.url.searchParams.append(a,`like(any).{${l.join(",")}}`),this}ilike(a,l){return this.url.searchParams.append(a,`ilike.${l}`),this}ilikeAllOf(a,l){return this.url.searchParams.append(a,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(a,l){return this.url.searchParams.append(a,`ilike(any).{${l.join(",")}}`),this}is(a,l){return this.url.searchParams.append(a,`is.${l}`),this}in(a,l){const u=Array.from(new Set(l)).map(h=>typeof h=="string"&&new RegExp("[,()]").test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(a,`in.(${u})`),this}contains(a,l){return typeof l=="string"?this.url.searchParams.append(a,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(a,`cs.{${l.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(l)}`),this}containedBy(a,l){return typeof l=="string"?this.url.searchParams.append(a,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(a,`cd.{${l.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(l)}`),this}rangeGt(a,l){return this.url.searchParams.append(a,`sr.${l}`),this}rangeGte(a,l){return this.url.searchParams.append(a,`nxl.${l}`),this}rangeLt(a,l){return this.url.searchParams.append(a,`sl.${l}`),this}rangeLte(a,l){return this.url.searchParams.append(a,`nxr.${l}`),this}rangeAdjacent(a,l){return this.url.searchParams.append(a,`adj.${l}`),this}overlaps(a,l){return typeof l=="string"?this.url.searchParams.append(a,`ov.${l}`):this.url.searchParams.append(a,`ov.{${l.join(",")}}`),this}textSearch(a,l,{config:u,type:h}={}){let f="";h==="plain"?f="pl":h==="phrase"?f="ph":h==="websearch"&&(f="w");const p=u===void 0?"":`(${u})`;return this.url.searchParams.append(a,`${f}fts${p}.${l}`),this}match(a){return Object.entries(a).forEach(([l,u])=>{this.url.searchParams.append(l,`eq.${u}`)}),this}not(a,l,u){return this.url.searchParams.append(a,`not.${l}.${u}`),this}or(a,{foreignTable:l,referencedTable:u=l}={}){const h=u?`${u}.or`:"or";return this.url.searchParams.append(h,`(${a})`),this}filter(a,l,u){return this.url.searchParams.append(a,`${l}.${u}`),this}}return Br.default=t,Br}var Yv;function kx(){if(Yv)return Dr;Yv=1;var n=Dr&&Dr.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Dr,"__esModule",{value:!0});const e=n(wg());class t{constructor(a,{headers:l={},schema:u,fetch:h}){this.url=a,this.headers=l,this.schema=u,this.fetch=h}select(a,{head:l=!1,count:u}={}){const h=l?"HEAD":"GET";let f=!1;const p=(a??"*").split("").map(g=>/\s/.test(g)&&!f?"":(g==='"'&&(f=!f),g)).join("");return this.url.searchParams.set("select",p),u&&(this.headers.Prefer=`count=${u}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(a,{count:l,defaultToNull:u=!0}={}){const h="POST",f=[];if(this.headers.Prefer&&f.push(this.headers.Prefer),l&&f.push(`count=${l}`),u||f.push("missing=default"),this.headers.Prefer=f.join(","),Array.isArray(a)){const p=a.reduce((g,m)=>g.concat(Object.keys(m)),[]);if(p.length>0){const g=[...new Set(p)].map(m=>`"${m}"`);this.url.searchParams.set("columns",g.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}upsert(a,{onConflict:l,ignoreDuplicates:u=!1,count:h,defaultToNull:f=!0}={}){const p="POST",g=[`resolution=${u?"ignore":"merge"}-duplicates`];if(l!==void 0&&this.url.searchParams.set("on_conflict",l),this.headers.Prefer&&g.push(this.headers.Prefer),h&&g.push(`count=${h}`),f||g.push("missing=default"),this.headers.Prefer=g.join(","),Array.isArray(a)){const m=a.reduce((b,v)=>b.concat(Object.keys(v)),[]);if(m.length>0){const b=[...new Set(m)].map(v=>`"${v}"`);this.url.searchParams.set("columns",b.join(","))}}return new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}update(a,{count:l}={}){const u="PATCH",h=[];return this.headers.Prefer&&h.push(this.headers.Prefer),l&&h.push(`count=${l}`),this.headers.Prefer=h.join(","),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}delete({count:a}={}){const l="DELETE",u=[];return a&&u.push(`count=${a}`),this.headers.Prefer&&u.unshift(this.headers.Prefer),this.headers.Prefer=u.join(","),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Dr.default=t,Dr}var po={},go={},Xv;function JC(){return Xv||(Xv=1,Object.defineProperty(go,"__esModule",{value:!0}),go.version=void 0,go.version="0.0.0-automated"),go}var Qv;function ek(){if(Qv)return po;Qv=1,Object.defineProperty(po,"__esModule",{value:!0}),po.DEFAULT_HEADERS=void 0;const n=JC();return po.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${n.version}`},po}var Wv;function tk(){if(Wv)return Pr;Wv=1;var n=Pr&&Pr.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Pr,"__esModule",{value:!0});const e=n(kx()),t=n(wg()),s=ek();class a{constructor(u,{headers:h={},schema:f,fetch:p}={}){this.url=u,this.headers=Object.assign(Object.assign({},s.DEFAULT_HEADERS),h),this.schemaName=f,this.fetch=p}from(u){const h=new URL(`${this.url}/${u}`);return new e.default(h,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(u){return new a(this.url,{headers:this.headers,schema:u,fetch:this.fetch})}rpc(u,h={},{head:f=!1,get:p=!1,count:g}={}){let m;const b=new URL(`${this.url}/rpc/${u}`);let v;f||p?(m=f?"HEAD":"GET",Object.entries(h).filter(([S,_])=>_!==void 0).map(([S,_])=>[S,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([S,_])=>{b.searchParams.append(S,_)})):(m="POST",v=h);const x=Object.assign({},this.headers);return g&&(x.Prefer=`count=${g}`),new t.default({method:m,url:b,headers:x,schema:this.schemaName,body:v,fetch:this.fetch,allowEmpty:!1})}}return Pr.default=a,Pr}var Kv;function nk(){if(Kv)return vt;Kv=1;var n=vt&&vt.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(vt,"__esModule",{value:!0}),vt.PostgrestError=vt.PostgrestBuilder=vt.PostgrestTransformBuilder=vt.PostgrestFilterBuilder=vt.PostgrestQueryBuilder=vt.PostgrestClient=void 0;const e=n(tk());vt.PostgrestClient=e.default;const t=n(kx());vt.PostgrestQueryBuilder=t.default;const s=n(wg());vt.PostgrestFilterBuilder=s.default;const a=n(Cx());vt.PostgrestTransformBuilder=a.default;const l=n(Mx());vt.PostgrestBuilder=l.default;const u=n(Tx());return vt.PostgrestError=u.default,vt.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:l.default,PostgrestError:u.default},vt}var ik=nk();const sk=Xn(ik),{PostgrestClient:rk,PostgrestQueryBuilder:X4,PostgrestFilterBuilder:Q4,PostgrestTransformBuilder:W4,PostgrestBuilder:K4,PostgrestError:Z4}=sk;function ak(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const ok=ak(),lk="2.11.15",uk=`realtime-js/${lk}`,ck="1.0.0",Rx=1e4,hk=1e3;var zo;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(zo||(zo={}));var zt;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(zt||(zt={}));var On;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(On||(On={}));var pp;(function(n){n.websocket="websocket"})(pp||(pp={}));var js;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(js||(js={}));class fk{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,t,s)}_decodeBroadcast(e,t,s){const a=t.getUint8(1),l=t.getUint8(2);let u=this.HEADER_LENGTH+2;const h=s.decode(e.slice(u,u+a));u=u+a;const f=s.decode(e.slice(u,u+l));u=u+l;const p=JSON.parse(s.decode(e.slice(u,e.byteLength)));return{ref:null,topic:h,event:f,payload:p}}}class Ox{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var He;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(He||(He={}));const Zv=(n,e,t={})=>{var s;const a=(s=t.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(e).reduce((l,u)=>(l[u]=dk(u,n,e,a),l),{})},dk=(n,e,t,s)=>{const a=e.find(h=>h.name===n),l=a?.type,u=t[n];return l&&!s.includes(l)?Px(l,u):gp(u)},Px=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return mk(e,t)}switch(n){case He.bool:return pk(e);case He.float4:case He.float8:case He.int2:case He.int4:case He.int8:case He.numeric:case He.oid:return gk(e);case He.json:case He.jsonb:return yk(e);case He.timestamp:return bk(e);case He.abstime:case He.date:case He.daterange:case He.int4range:case He.int8range:case He.money:case He.reltime:case He.text:case He.time:case He.timestamptz:case He.timetz:case He.tsrange:case He.tstzrange:return gp(e);default:return gp(e)}},gp=n=>n,pk=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},gk=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},yk=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},mk=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,s=n[t];if(n[0]==="{"&&s==="}"){let l;const u=n.slice(1,t);try{l=JSON.parse("["+u+"]")}catch{l=u?u.split(","):[]}return l.map(h=>Px(e,h))}return n},bk=n=>typeof n=="string"?n.replace(" ","T"):n,Dx=n=>{let e=n;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class dd{constructor(e,t,s={},a=Rx){this.channel=e,this.event=t,this.payload=s,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var s;return this._hasReceived(e)&&t((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Jv;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(Jv||(Jv={}));class Uo{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},a=>{const{onJoin:l,onLeave:u,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Uo.syncState(this.state,a,l,u),this.pendingDiffs.forEach(f=>{this.state=Uo.syncDiff(this.state,f,l,u)}),this.pendingDiffs=[],h()}),this.channel._on(s.diff,{},a=>{const{onJoin:l,onLeave:u,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Uo.syncDiff(this.state,a,l,u),h())}),this.onJoin((a,l,u)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:l,newPresences:u})}),this.onLeave((a,l,u)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:l,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,s,a){const l=this.cloneDeep(e),u=this.transformState(t),h={},f={};return this.map(l,(p,g)=>{u[p]||(f[p]=g)}),this.map(u,(p,g)=>{const m=l[p];if(m){const b=g.map(_=>_.presence_ref),v=m.map(_=>_.presence_ref),x=g.filter(_=>v.indexOf(_.presence_ref)<0),S=m.filter(_=>b.indexOf(_.presence_ref)<0);x.length>0&&(h[p]=x),S.length>0&&(f[p]=S)}else h[p]=g}),this.syncDiff(l,{joins:h,leaves:f},s,a)}static syncDiff(e,t,s,a){const{joins:l,leaves:u}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return s||(s=()=>{}),a||(a=()=>{}),this.map(l,(h,f)=>{var p;const g=(p=e[h])!==null&&p!==void 0?p:[];if(e[h]=this.cloneDeep(f),g.length>0){const m=e[h].map(v=>v.presence_ref),b=g.filter(v=>m.indexOf(v.presence_ref)<0);e[h].unshift(...b)}s(h,g,f)}),this.map(u,(h,f)=>{let p=e[h];if(!p)return;const g=f.map(m=>m.presence_ref);p=p.filter(m=>g.indexOf(m.presence_ref)<0),e[h]=p,a(h,p,f),p.length===0&&delete e[h]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(s=>t(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,s)=>{const a=e[s];return"metas"in a?t[s]=a.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):t[s]=a,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var e_;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(e_||(e_={}));var t_;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(t_||(t_={}));var bi;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(bi||(bi={}));class xg{constructor(e,t={config:{}},s){this.topic=e,this.params=t,this.socket=s,this.bindings={},this.state=zt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new dd(this,On.join,this.params,this.timeout),this.rejoinTimer=new Ox(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=zt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=zt.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=zt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=zt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(On.reply,{},(a,l)=>{this._trigger(this._replyEventName(l),a)}),this.presence=new Uo(this),this.broadcastEndpointURL=Dx(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var s,a;if(this.socket.isConnected()||this.socket.connect(),this.state==zt.closed){const{config:{broadcast:l,presence:u,private:h}}=this.params;this._onError(g=>e?.(bi.CHANNEL_ERROR,g)),this._onClose(()=>e?.(bi.CLOSED));const f={},p={broadcast:l,presence:u,postgres_changes:(a=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(g=>g.filter))!==null&&a!==void 0?a:[],private:h};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:p},f)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:g})=>{var m;if(this.socket.setAuth(),g===void 0){e?.(bi.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,v=(m=b?.length)!==null&&m!==void 0?m:0,x=[];for(let S=0;S<v;S++){const _=b[S],{filter:{event:E,schema:k,table:A,filter:M}}=_,D=g&&g[S];if(D&&D.event===E&&D.schema===k&&D.table===A&&D.filter===M)x.push(Object.assign(Object.assign({},_),{id:D.id}));else{this.unsubscribe(),this.state=zt.errored,e?.(bi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,e&&e(bi.SUBSCRIBED);return}}).receive("error",g=>{this.state=zt.errored,e?.(bi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{e?.(bi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,s){return this._on(e,t,s)}async send(e,t={}){var s,a;if(!this._canPush()&&e.type==="broadcast"){const{event:l,payload:u}=e,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:u,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(s=t.timeout)!==null&&s!==void 0?s:this.timeout);return await((a=p.body)===null||a===void 0?void 0:a.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var u,h,f;const p=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(h=(u=this.params)===null||u===void 0?void 0:u.config)===null||h===void 0?void 0:h.broadcast)===null||f===void 0)&&f.ack)&&l("ok"),p.receive("ok",()=>l("ok")),p.receive("error",()=>l("error")),p.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=zt.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(On.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(a=>{s=new dd(this,On.leave,{},e),s.receive("ok",()=>{t(),a("ok")}).receive("timeout",()=>{t(),a("timed out")}).receive("error",()=>{a("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,t,s){const a=new AbortController,l=setTimeout(()=>a.abort(),s),u=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:a.signal}));return clearTimeout(l),u}_push(e,t,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new dd(this,e,t,s);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(e,t,s){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,s){var a,l;const u=e.toLocaleLowerCase(),{close:h,error:f,leave:p,join:g}=On;if(s&&[h,f,p,g].indexOf(u)>=0&&s!==this._joinRef())return;let b=this._onMessage(u,t,s);if(t&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(v=>{var x,S,_;return((x=v.filter)===null||x===void 0?void 0:x.event)==="*"||((_=(S=v.filter)===null||S===void 0?void 0:S.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===u}).map(v=>v.callback(b,s)):(l=this.bindings[u])===null||l===void 0||l.filter(v=>{var x,S,_,E,k,A;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in v){const M=v.id,D=(x=v.filter)===null||x===void 0?void 0:x.event;return M&&((S=t.ids)===null||S===void 0?void 0:S.includes(M))&&(D==="*"||D?.toLocaleLowerCase()===((_=t.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const M=(k=(E=v?.filter)===null||E===void 0?void 0:E.event)===null||k===void 0?void 0:k.toLocaleLowerCase();return M==="*"||M===((A=t?.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===u}).map(v=>{if(typeof b=="object"&&"ids"in b){const x=b.data,{schema:S,table:_,commit_timestamp:E,type:k,errors:A}=x;b=Object.assign(Object.assign({},{schema:S,table:_,commit_timestamp:E,eventType:k,new:{},old:{},errors:A}),this._getPayloadRecords(x))}v.callback(b,s)})}_isClosed(){return this.state===zt.closed}_isJoined(){return this.state===zt.joined}_isJoining(){return this.state===zt.joining}_isLeaving(){return this.state===zt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,s){const a=e.toLocaleLowerCase(),l={type:a,filter:t,callback:s};return this.bindings[a]?this.bindings[a].push(l):this.bindings[a]=[l],this}_off(e,t){const s=e.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter(a=>{var l;return!(((l=a.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===s&&xg.isEqual(a.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(On.close,{},e)}_onError(e){this._on(On.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=zt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=Zv(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=Zv(e.columns,e.old_record)),t}}const n_=()=>{},vk=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class _k{constructor(e,t){var s;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Rx,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=n_,this.ref=0,this.logger=n_,this.conn=null,this.sendBuffer=[],this.serializer=new fk,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=l=>{let u;return l?u=l:typeof fetch>"u"?u=(...h)=>Yn(async()=>{const{default:f}=await Promise.resolve().then(()=>sa);return{default:f}},void 0).then(({default:f})=>f(...h)):u=fetch,(...h)=>u(...h)},this.endPoint=`${e}/${pp.websocket}`,this.httpEndpoint=Dx(e),t?.transport?this.transport=t.transport:this.transport=null,t?.params&&(this.params=t.params),t?.timeout&&(this.timeout=t.timeout),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),t?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const a=(s=t?.params)===null||s===void 0?void 0:s.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=t?.reconnectAfterMs?t.reconnectAfterMs:l=>[1e3,2e3,5e3,1e4][l-1]||1e4,this.encode=t?.encode?t.encode:(l,u)=>u(JSON.stringify(l)),this.decode=t?.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Ox(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t?.fetch),t?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=t?.worker||!1,this.workerUrl=t?.workerUrl}this.accessToken=t?.accessToken||null}connect(){if(!this.conn){if(this.transport||(this.transport=ok),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:ck}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(s=>s.teardown()))}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,s){this.logger(e,t,s)}connectionState(){switch(this.conn&&this.conn.readyState){case zo.connecting:return js.Connecting;case zo.open:return js.Open;case zo.closing:return js.Closing;default:return js.Closed}}isConnected(){return this.connectionState()===js.Open}channel(e,t={config:{}}){const s=`realtime:${e}`,a=this.getChannels().find(l=>l.topic===s);if(a)return a;{const l=new xg(`realtime:${e}`,t,this);return this.channels.push(l),l}}push(e){const{topic:t,event:s,payload:a,ref:l}=e,u=()=>{this.encode(e,h=>{var f;(f=this.conn)===null||f===void 0||f.send(h)})};this.log("push",`${t} ${s} (${l})`,a),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){let t=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(s=>{const a={access_token:t,version:uk};t&&s.updateJoinPayload(a),s.joinedOnce&&s._isJoined()&&s._push(On.access_token,{access_token:t})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(hk,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:s,event:a,payload:l,ref:u}=t;s==="phoenix"&&a==="phx_reply"&&this.heartbeatCallback(t.payload.status=="ok"?"ok":"error"),u&&u===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${l.status||""} ${s} ${a} ${u&&"("+u+")"||""}`,l),Array.from(this.channels).filter(h=>h._isMember(s)).forEach(h=>h._trigger(a,l,u)),this.stateChangeCallbacks.message.forEach(h=>h(t))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(On.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const s=e.match(/\?/)?"&":"?",a=new URLSearchParams(t);return`${e}${s}${a}`}_workerObjectUrl(e){let t;if(e)t=e;else{const s=new Blob([vk],{type:"application/javascript"});t=URL.createObjectURL(s)}return t}}class Sg extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function _t(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class wk extends Sg{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class yp extends Sg{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var xk=function(n,e,t,s){function a(l){return l instanceof t?l:new t(function(u){u(l)})}return new(t||(t=Promise))(function(l,u){function h(g){try{p(s.next(g))}catch(m){u(m)}}function f(g){try{p(s.throw(g))}catch(m){u(m)}}function p(g){g.done?l(g.value):a(g.value).then(h,f)}p((s=s.apply(n,e||[])).next())})};const Bx=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>Yn(async()=>{const{default:s}=await Promise.resolve().then(()=>sa);return{default:s}},void 0).then(({default:s})=>s(...t)):e=fetch,(...t)=>e(...t)},Sk=()=>xk(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Yn(()=>Promise.resolve().then(()=>sa),void 0)).Response:Response}),mp=n=>{if(Array.isArray(n))return n.map(t=>mp(t));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([t,s])=>{const a=t.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[a]=mp(s)}),e};var Ys=function(n,e,t,s){function a(l){return l instanceof t?l:new t(function(u){u(l)})}return new(t||(t=Promise))(function(l,u){function h(g){try{p(s.next(g))}catch(m){u(m)}}function f(g){try{p(s.throw(g))}catch(m){u(m)}}function p(g){g.done?l(g.value):a(g.value).then(h,f)}p((s=s.apply(n,e||[])).next())})};const pd=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Ak=(n,e,t)=>Ys(void 0,void 0,void 0,function*(){const s=yield Sk();n instanceof s&&!t?.noResolveJson?n.json().then(a=>{e(new wk(pd(a),n.status||500))}).catch(a=>{e(new yp(pd(a),a))}):e(new yp(pd(n),n))}),Ek=(n,e,t,s)=>{const a={method:n,headers:e?.headers||{}};return n==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},e?.headers),s&&(a.body=JSON.stringify(s)),Object.assign(Object.assign({},a),t))};function al(n,e,t,s,a,l){return Ys(this,void 0,void 0,function*(){return new Promise((u,h)=>{n(t,Ek(e,s,a,l)).then(f=>{if(!f.ok)throw f;return s?.noResolveJson?f:f.json()}).then(f=>u(f)).catch(f=>Ak(f,h,s))})})}function fc(n,e,t,s){return Ys(this,void 0,void 0,function*(){return al(n,"GET",e,t,s)})}function Wi(n,e,t,s,a){return Ys(this,void 0,void 0,function*(){return al(n,"POST",e,s,a,t)})}function Tk(n,e,t,s,a){return Ys(this,void 0,void 0,function*(){return al(n,"PUT",e,s,a,t)})}function Mk(n,e,t,s){return Ys(this,void 0,void 0,function*(){return al(n,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),s)})}function zx(n,e,t,s,a){return Ys(this,void 0,void 0,function*(){return al(n,"DELETE",e,s,a,t)})}var Ft=function(n,e,t,s){function a(l){return l instanceof t?l:new t(function(u){u(l)})}return new(t||(t=Promise))(function(l,u){function h(g){try{p(s.next(g))}catch(m){u(m)}}function f(g){try{p(s.throw(g))}catch(m){u(m)}}function p(g){g.done?l(g.value):a(g.value).then(h,f)}p((s=s.apply(n,e||[])).next())})};const Ck={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},i_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class kk{constructor(e,t={},s,a){this.url=e,this.headers=t,this.bucketId=s,this.fetch=Bx(a)}uploadOrUpdate(e,t,s,a){return Ft(this,void 0,void 0,function*(){try{let l;const u=Object.assign(Object.assign({},i_),a);let h=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const f=u.metadata;typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),f&&l.append("metadata",this.encodeMetadata(f)),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.append("cacheControl",u.cacheControl),f&&l.append("metadata",this.encodeMetadata(f))):(l=s,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType,f&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(f)))),a?.headers&&(h=Object.assign(Object.assign({},h),a.headers));const p=this._removeEmptyFolders(t),g=this._getFinalPath(p),m=yield this.fetch(`${this.url}/object/${g}`,Object.assign({method:e,body:l,headers:h},u?.duplex?{duplex:u.duplex}:{})),b=yield m.json();return m.ok?{data:{path:p,id:b.Id,fullPath:b.Key},error:null}:{data:null,error:b}}catch(l){if(_t(l))return{data:null,error:l};throw l}})}upload(e,t,s){return Ft(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,s)})}uploadToSignedUrl(e,t,s,a){return Ft(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),u=this._getFinalPath(l),h=new URL(this.url+`/object/upload/sign/${u}`);h.searchParams.set("token",t);try{let f;const p=Object.assign({upsert:i_.upsert},a),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&s instanceof Blob?(f=new FormData,f.append("cacheControl",p.cacheControl),f.append("",s)):typeof FormData<"u"&&s instanceof FormData?(f=s,f.append("cacheControl",p.cacheControl)):(f=s,g["cache-control"]=`max-age=${p.cacheControl}`,g["content-type"]=p.contentType);const m=yield this.fetch(h.toString(),{method:"PUT",body:f,headers:g}),b=yield m.json();return m.ok?{data:{path:l,fullPath:b.Key},error:null}:{data:null,error:b}}catch(f){if(_t(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(e,t){return Ft(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const a=Object.assign({},this.headers);t?.upsert&&(a["x-upsert"]="true");const l=yield Wi(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:a}),u=new URL(this.url+l.url),h=u.searchParams.get("token");if(!h)throw new Sg("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:h},error:null}}catch(s){if(_t(s))return{data:null,error:s};throw s}})}update(e,t,s){return Ft(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,s)})}move(e,t,s){return Ft(this,void 0,void 0,function*(){try{return{data:yield Wi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:s?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(_t(a))return{data:null,error:a};throw a}})}copy(e,t,s){return Ft(this,void 0,void 0,function*(){try{return{data:{path:(yield Wi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:s?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(_t(a))return{data:null,error:a};throw a}})}createSignedUrl(e,t,s){return Ft(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),l=yield Wi(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:t},s?.transform?{transform:s.transform}:{}),{headers:this.headers});const u=s?.download?`&download=${s.download===!0?"":s.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${u}`)},{data:l,error:null}}catch(a){if(_t(a))return{data:null,error:a};throw a}})}createSignedUrls(e,t,s){return Ft(this,void 0,void 0,function*(){try{const a=yield Wi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),l=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:a.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${l}`):null})),error:null}}catch(a){if(_t(a))return{data:null,error:a};throw a}})}download(e,t){return Ft(this,void 0,void 0,function*(){const a=typeof t?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(t?.transform||{}),u=l?`?${l}`:"";try{const h=this._getFinalPath(e);return{data:yield(yield fc(this.fetch,`${this.url}/${a}/${h}${u}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(h){if(_t(h))return{data:null,error:h};throw h}})}info(e){return Ft(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const s=yield fc(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:mp(s),error:null}}catch(s){if(_t(s))return{data:null,error:s};throw s}})}exists(e){return Ft(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield Mk(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(_t(s)&&s instanceof yp){const a=s.originalError;if([400,404].includes(a?.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,t){const s=this._getFinalPath(e),a=[],l=t?.download?`download=${t.download===!0?"":t.download}`:"";l!==""&&a.push(l);const h=typeof t?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(t?.transform||{});f!==""&&a.push(f);let p=a.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${s}${p}`)}}}remove(e){return Ft(this,void 0,void 0,function*(){try{return{data:yield zx(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(_t(t))return{data:null,error:t};throw t}})}list(e,t,s){return Ft(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},Ck),t),{prefix:e||""});return{data:yield Wi(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},s),error:null}}catch(a){if(_t(a))return{data:null,error:a};throw a}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const Rk="2.7.1",Ok={"X-Client-Info":`storage-js/${Rk}`};var jr=function(n,e,t,s){function a(l){return l instanceof t?l:new t(function(u){u(l)})}return new(t||(t=Promise))(function(l,u){function h(g){try{p(s.next(g))}catch(m){u(m)}}function f(g){try{p(s.throw(g))}catch(m){u(m)}}function p(g){g.done?l(g.value):a(g.value).then(h,f)}p((s=s.apply(n,e||[])).next())})};class Pk{constructor(e,t={},s){this.url=e,this.headers=Object.assign(Object.assign({},Ok),t),this.fetch=Bx(s)}listBuckets(){return jr(this,void 0,void 0,function*(){try{return{data:yield fc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(_t(e))return{data:null,error:e};throw e}})}getBucket(e){return jr(this,void 0,void 0,function*(){try{return{data:yield fc(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(_t(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return jr(this,void 0,void 0,function*(){try{return{data:yield Wi(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(_t(s))return{data:null,error:s};throw s}})}updateBucket(e,t){return jr(this,void 0,void 0,function*(){try{return{data:yield Tk(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(_t(s))return{data:null,error:s};throw s}})}emptyBucket(e){return jr(this,void 0,void 0,function*(){try{return{data:yield Wi(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(_t(t))return{data:null,error:t};throw t}})}deleteBucket(e){return jr(this,void 0,void 0,function*(){try{return{data:yield zx(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(_t(t))return{data:null,error:t};throw t}})}}class Dk extends Pk{constructor(e,t={},s){super(e,t,s)}from(e){return new kk(this.url,this.headers,e,this.fetch)}}const Bk="2.51.0";let So="";typeof Deno<"u"?So="deno":typeof document<"u"?So="web":typeof navigator<"u"&&navigator.product==="ReactNative"?So="react-native":So="node";const zk={"X-Client-Info":`supabase-js-${So}/${Bk}`},Uk={headers:zk},jk={schema:"public"},Lk={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ik={};var Nk=function(n,e,t,s){function a(l){return l instanceof t?l:new t(function(u){u(l)})}return new(t||(t=Promise))(function(l,u){function h(g){try{p(s.next(g))}catch(m){u(m)}}function f(g){try{p(s.throw(g))}catch(m){u(m)}}function p(g){g.done?l(g.value):a(g.value).then(h,f)}p((s=s.apply(n,e||[])).next())})};const qk=n=>{let e;return n?e=n:typeof fetch>"u"?e=Ax:e=fetch,(...t)=>e(...t)},Gk=()=>typeof Headers>"u"?Ex:Headers,Hk=(n,e,t)=>{const s=qk(t),a=Gk();return(l,u)=>Nk(void 0,void 0,void 0,function*(){var h;const f=(h=yield e())!==null&&h!==void 0?h:n;let p=new a(u?.headers);return p.has("apikey")||p.set("apikey",n),p.has("Authorization")||p.set("Authorization",`Bearer ${f}`),s(l,Object.assign(Object.assign({},u),{headers:p}))})};var $k=function(n,e,t,s){function a(l){return l instanceof t?l:new t(function(u){u(l)})}return new(t||(t=Promise))(function(l,u){function h(g){try{p(s.next(g))}catch(m){u(m)}}function f(g){try{p(s.throw(g))}catch(m){u(m)}}function p(g){g.done?l(g.value):a(g.value).then(h,f)}p((s=s.apply(n,e||[])).next())})};function Fk(n){return n.endsWith("/")?n:n+"/"}function Vk(n,e){var t,s;const{db:a,auth:l,realtime:u,global:h}=n,{db:f,auth:p,realtime:g,global:m}=e,b={db:Object.assign(Object.assign({},f),a),auth:Object.assign(Object.assign({},p),l),realtime:Object.assign(Object.assign({},g),u),global:Object.assign(Object.assign(Object.assign({},m),h),{headers:Object.assign(Object.assign({},(t=m?.headers)!==null&&t!==void 0?t:{}),(s=h?.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>$k(this,void 0,void 0,function*(){return""})};return n.accessToken?b.accessToken=n.accessToken:delete b.accessToken,b}const Ux="2.71.0",Fr=30*1e3,bp=3,gd=bp*Fr,Yk="http://localhost:9999",Xk="supabase.auth.token",Qk={"X-Client-Info":`gotrue-js/${Ux}`},vp="X-Supabase-Api-Version",jx={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Wk=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Kk=600*1e3;class Ag extends Error{constructor(e,t,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=s}}function xe(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class Zk extends Ag{constructor(e,t,s){super(e,t,s),this.name="AuthApiError",this.status=t,this.code=s}}function Jk(n){return xe(n)&&n.name==="AuthApiError"}class Lx extends Ag{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class ns extends Ag{constructor(e,t,s,a){super(e,s,a),this.name=t,this.status=s}}class Qi extends ns{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function eR(n){return xe(n)&&n.name==="AuthSessionMissingError"}class zu extends ns{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Uu extends ns{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ju extends ns{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function tR(n){return xe(n)&&n.name==="AuthImplicitGrantRedirectError"}class s_ extends ns{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class _p extends ns{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function yd(n){return xe(n)&&n.name==="AuthRetryableFetchError"}class r_ extends ns{constructor(e,t,s){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=s}}class wp extends ns{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const dc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),a_=` 	
\r=`.split(""),nR=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<a_.length;e+=1)n[a_[e].charCodeAt(0)]=-2;for(let e=0;e<dc.length;e+=1)n[dc[e].charCodeAt(0)]=e;return n})();function o_(n,e,t){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;t(dc[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;t(dc[s]),e.queuedBits-=6}}function Ix(n,e,t){const s=nR[n];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function l_(n){const e=[],t=u=>{e.push(String.fromCodePoint(u))},s={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},l=u=>{rR(u,s,t)};for(let u=0;u<n.length;u+=1)Ix(n.charCodeAt(u),a,l);return e.join("")}function iR(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function sR(n,e){for(let t=0;t<n.length;t+=1){let s=n.charCodeAt(t);if(s>55295&&s<=56319){const a=(s-55296)*1024&65535;s=(n.charCodeAt(t+1)-56320&65535|a)+65536,t+=1}iR(s,e)}}function rR(n,e,t){if(e.utf8seq===0){if(n<=127){t(n);return}for(let s=1;s<6;s+=1)if((n>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function aR(n){const e=[],t={queue:0,queuedBits:0},s=a=>{e.push(a)};for(let a=0;a<n.length;a+=1)Ix(n.charCodeAt(a),t,s);return new Uint8Array(e)}function oR(n){const e=[];return sR(n,t=>e.push(t)),new Uint8Array(e)}function lR(n){const e=[],t={queue:0,queuedBits:0},s=a=>{e.push(a)};return n.forEach(a=>o_(a,t,s)),o_(null,t,s),e.join("")}function uR(n){return Math.round(Date.now()/1e3)+n}function cR(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const kn=()=>typeof window<"u"&&typeof document<"u",Ts={tested:!1,writable:!1},Nx=()=>{if(!kn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ts.tested)return Ts.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Ts.tested=!0,Ts.writable=!0}catch{Ts.tested=!0,Ts.writable=!1}return Ts.writable};function hR(n){const e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((a,l)=>{e[l]=a})}catch{}return t.searchParams.forEach((s,a)=>{e[a]=s}),e}const qx=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>Yn(async()=>{const{default:s}=await Promise.resolve().then(()=>sa);return{default:s}},void 0).then(({default:s})=>s(...t)):e=fetch,(...t)=>e(...t)},fR=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Vr=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},Ms=async(n,e)=>{const t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},Xi=async(n,e)=>{await n.removeItem(e)};class Mc{constructor(){this.promise=new Mc.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Mc.promiseConstructor=Promise;function md(n){const e=n.split(".");if(e.length!==3)throw new wp("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!Wk.test(e[s]))throw new wp("JWT not in base64url format");return{header:JSON.parse(l_(e[0])),payload:JSON.parse(l_(e[1])),signature:aR(e[2]),raw:{header:e[0],payload:e[1]}}}async function dR(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function pR(n,e){return new Promise((s,a)=>{(async()=>{for(let l=0;l<1/0;l++)try{const u=await n(l);if(!e(l,null,u)){s(u);return}}catch(u){if(!e(l,u)){a(u);return}}})()})}function gR(n){return("0"+n.toString(16)).substr(-2)}function yR(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=t.length;let a="";for(let l=0;l<56;l++)a+=t.charAt(Math.floor(Math.random()*s));return a}return crypto.getRandomValues(e),Array.from(e,gR).join("")}async function mR(n){const t=new TextEncoder().encode(n),s=await crypto.subtle.digest("SHA-256",t),a=new Uint8Array(s);return Array.from(a).map(l=>String.fromCharCode(l)).join("")}async function bR(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=await mR(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Lr(n,e,t=!1){const s=yR();let a=s;t&&(a+="/PASSWORD_RECOVERY"),await Vr(n,`${e}-code-verifier`,a);const l=await bR(s);return[l,s===l?"plain":"s256"]}const vR=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function _R(n){const e=n.headers.get(vp);if(!e||!e.match(vR))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function wR(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function xR(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const SR=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ir(n){if(!SR.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function bd(){const n={};return new Proxy(n,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const s=t.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}var AR=function(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(n);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(n,s[a])&&(t[s[a]]=n[s[a]]);return t};const Os=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),ER=[502,503,504];async function u_(n){var e;if(!fR(n))throw new _p(Os(n),0);if(ER.includes(n.status))throw new _p(Os(n),n.status);let t;try{t=await n.json()}catch(l){throw new Lx(Os(l),l)}let s;const a=_R(n);if(a&&a.getTime()>=jx["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?s=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(s=t.error_code),s){if(s==="weak_password")throw new r_(Os(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new Qi}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((l,u)=>l&&typeof u=="string",!0))throw new r_(Os(t),n.status,t.weak_password.reasons);throw new Zk(Os(t),n.status||500,s)}const TR=(n,e,t,s)=>{const a={method:n,headers:e?.headers||{}};return n==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),a.body=JSON.stringify(s),Object.assign(Object.assign({},a),t))};async function ke(n,e,t,s){var a;const l=Object.assign({},s?.headers);l[vp]||(l[vp]=jx["2024-01-01"].name),s?.jwt&&(l.Authorization=`Bearer ${s.jwt}`);const u=(a=s?.query)!==null&&a!==void 0?a:{};s?.redirectTo&&(u.redirect_to=s.redirectTo);const h=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",f=await MR(n,e,t+h,{headers:l,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(f):{data:Object.assign({},f),error:null}}async function MR(n,e,t,s,a,l){const u=TR(e,s,a,l);let h;try{h=await n(t,Object.assign({},u))}catch(f){throw console.error(f),new _p(Os(f),0)}if(h.ok||await u_(h),s?.noResolveJson)return h;try{return await h.json()}catch(f){await u_(f)}}function mi(n){var e;let t=null;OR(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=uR(n.expires_in)));const s=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:s},error:null}}function c_(n){const e=mi(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,s)=>t&&typeof s=="string",!0)&&(e.data.weak_password=n.weak_password),e}function Ki(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function CR(n){return{data:n,error:null}}function kR(n){const{action_link:e,email_otp:t,hashed_token:s,redirect_to:a,verification_type:l}=n,u=AR(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:t,hashed_token:s,redirect_to:a,verification_type:l},f=Object.assign({},u);return{data:{properties:h,user:f},error:null}}function RR(n){return n}function OR(n){return n.access_token&&n.refresh_token&&n.expires_in}const vd=["global","local","others"];var PR=function(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(n);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(n,s[a])&&(t[s[a]]=n[s[a]]);return t};class DR{constructor({url:e="",headers:t={},fetch:s}){this.url=e,this.headers=t,this.fetch=qx(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t=vd[0]){if(vd.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${vd.join(", ")}`);try{return await ke(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(xe(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,t={}){try{return await ke(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Ki})}catch(s){if(xe(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:t}=e,s=PR(e,["options"]),a=Object.assign(Object.assign({},s),t);return"newEmail"in s&&(a.new_email=s?.newEmail,delete a.newEmail),await ke(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:kR,redirectTo:t?.redirectTo})}catch(t){if(xe(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await ke(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ki})}catch(t){if(xe(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,s,a,l,u,h,f;try{const p={nextPage:null,lastPage:0,total:0},g=await ke(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&s!==void 0?s:"",per_page:(l=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:RR});if(g.error)throw g.error;const m=await g.json(),b=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,v=(f=(h=g.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&f!==void 0?f:[];return v.length>0&&(v.forEach(x=>{const S=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(x.split(";")[1].split("=")[1]);p[`${_}Page`]=S}),p.total=parseInt(b)),{data:Object.assign(Object.assign({},m),p),error:null}}catch(p){if(xe(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){Ir(e);try{return await ke(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ki})}catch(t){if(xe(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){Ir(e);try{return await ke(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Ki})}catch(s){if(xe(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,t=!1){Ir(e);try{return await ke(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Ki})}catch(s){if(xe(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){Ir(e.userId);try{const{data:t,error:s}=await ke(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:t,error:s}}catch(t){if(xe(t))return{data:null,error:t};throw t}}async _deleteFactor(e){Ir(e.userId),Ir(e.id);try{return{data:await ke(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(xe(t))return{data:null,error:t};throw t}}}function h_(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}function BR(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Nr={debug:!!(globalThis&&Nx()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Gx extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class zR extends Gx{}async function UR(n,e,t){Nr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),Nr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async a=>{if(a){Nr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,a.name);try{return await t()}finally{Nr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,a.name)}}else{if(e===0)throw Nr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new zR(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Nr.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}BR();const jR={url:Yk,storageKey:Xk,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Qk,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function f_(n,e,t){return await t()}const qr={};class Yo{constructor(e){var t,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Yo.nextInstanceID,Yo.nextInstanceID+=1,this.instanceID>0&&kn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},jR),e);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new DR({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=qx(a.fetch),this.lock=a.lock||f_,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:kn()&&(!((t=globalThis?.navigator)===null||t===void 0)&&t.locks)?this.lock=UR:this.lock=f_,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:Nx()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=h_(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=h_(this.memoryStorage)),kn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}get jwks(){var e,t;return(t=(e=qr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){qr[this.storageKey]=Object.assign(Object.assign({},qr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=qr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){qr[this.storageKey]=Object.assign(Object.assign({},qr[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ux}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=hR(window.location.href);let s="none";if(this._isImplicitGrantCallback(t)?s="implicit":await this._isPKCECallback(t)&&(s="pkce"),kn()&&this.detectSessionInUrl&&s!=="none"){const{data:a,error:l}=await this._getSessionFromURL(t,s);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),tR(l)){const f=(e=l.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:u,redirectType:h}=a;return this._debug("#_initialize()","detected session in URL",u,"redirect type",h),await this._saveSession(u),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return xe(t)?{error:t}:{error:new Lx("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,s,a;try{const l=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(t=e?.options)===null||t===void 0?void 0:t.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(a=e?.options)===null||a===void 0?void 0:a.captchaToken}},xform:mi}),{data:u,error:h}=l;if(h||!u)return{data:{user:null,session:null},error:h};const f=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:p,session:f},error:null}}catch(l){if(xe(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(e){var t,s,a;try{let l;if("email"in e){const{email:g,password:m,options:b}=e;let v=null,x=null;this.flowType==="pkce"&&([v,x]=await Lr(this.storage,this.storageKey)),l=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b?.emailRedirectTo,body:{email:g,password:m,data:(t=b?.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:b?.captchaToken},code_challenge:v,code_challenge_method:x},xform:mi})}else if("phone"in e){const{phone:g,password:m,options:b}=e;l=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:m,data:(s=b?.data)!==null&&s!==void 0?s:{},channel:(a=b?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:mi})}else throw new Uu("You must provide either an email or phone number and a password");const{data:u,error:h}=l;if(h||!u)return{data:{user:null,session:null},error:h};const f=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:p,session:f},error:null}}catch(l){if(xe(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(e){try{let t;if("email"in e){const{email:l,password:u,options:h}=e;t=await ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:u,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:c_})}else if("phone"in e){const{phone:l,password:u,options:h}=e;t=await ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:u,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:c_})}else throw new Uu("You must provide either an email or phone number and a password");const{data:s,error:a}=t;return a?{data:{user:null,session:null},error:a}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new zu}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:a})}catch(t){if(xe(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,s,a,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if(t==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}async signInWithSolana(e){var t,s,a,l,u,h,f,p,g,m,b,v;let x,S;if("message"in e)x=e.message,S=e.signature;else{const{chain:_,wallet:E,statement:k,options:A}=e;let M;if(kn())if(typeof E=="object")M=E;else{const B=window;if("solana"in B&&typeof B.solana=="object"&&("signIn"in B.solana&&typeof B.solana.signIn=="function"||"signMessage"in B.solana&&typeof B.solana.signMessage=="function"))M=B.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=E}const D=new URL((t=A?.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in M&&M.signIn){const B=await M.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A?.signInWithSolana),{version:"1",domain:D.host,uri:D.href}),k?{statement:k}:null));let O;if(Array.isArray(B)&&B[0]&&typeof B[0]=="object")O=B[0];else if(B&&typeof B=="object"&&"signedMessage"in B&&"signature"in B)O=B;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in O&&"signature"in O&&(typeof O.signedMessage=="string"||O.signedMessage instanceof Uint8Array)&&O.signature instanceof Uint8Array)x=typeof O.signedMessage=="string"?O.signedMessage:new TextDecoder().decode(O.signedMessage),S=O.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in M)||typeof M.signMessage!="function"||!("publicKey"in M)||typeof M!="object"||!M.publicKey||!("toBase58"in M.publicKey)||typeof M.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${D.host} wants you to sign in with your Solana account:`,M.publicKey.toBase58(),...k?["",k,""]:[""],"Version: 1",`URI: ${D.href}`,`Issued At: ${(a=(s=A?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((l=A?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((u=A?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((h=A?.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((f=A?.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((p=A?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((m=(g=A?.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||m===void 0)&&m.length?["Resources",...A.signInWithSolana.resources.map(O=>`- ${O}`)]:[]].join(`
`);const B=await M.signMessage(new TextEncoder().encode(x),"utf8");if(!B||!(B instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=B}}try{const{data:_,error:E}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:lR(S)},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:mi});if(E)throw E;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new zu}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:E})}catch(_){if(xe(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(e){const t=await Ms(this.storage,`${this.storageKey}-code-verifier`),[s,a]=(t??"").split("/");try{const{data:l,error:u}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:mi});if(await Xi(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new zu}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:a??null}),error:u})}catch(l){if(xe(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(e){try{const{options:t,provider:s,token:a,access_token:l,nonce:u}=e,h=await ke(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:a,access_token:l,nonce:u,gotrue_meta_security:{captcha_token:t?.captchaToken}},xform:mi}),{data:f,error:p}=h;return p?{data:{user:null,session:null},error:p}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new zu}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:f,error:p})}catch(t){if(xe(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,s,a,l,u;try{if("email"in e){const{email:h,options:f}=e;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await Lr(this.storage,this.storageKey));const{error:m}=await ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(t=f?.data)!==null&&t!==void 0?t:{},create_user:(s=f?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:p,code_challenge_method:g},redirectTo:f?.emailRedirectTo});return{data:{user:null,session:null},error:m}}if("phone"in e){const{phone:h,options:f}=e,{data:p,error:g}=await ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(a=f?.data)!==null&&a!==void 0?a:{},create_user:(l=f?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},channel:(u=f?.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:p?.message_id},error:g}}throw new Uu("You must provide either an email or phone number.")}catch(h){if(xe(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(e){var t,s;try{let a,l;"options"in e&&(a=(t=e.options)===null||t===void 0?void 0:t.redirectTo,l=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:u,error:h}=await ke(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:a,xform:mi});if(h)throw h;if(!u)throw new Error("An error occurred on token verification.");const f=u.session,p=u.user;return f?.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),{data:{user:p,session:f},error:null}}catch(a){if(xe(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(e){var t,s,a;try{let l=null,u=null;return this.flowType==="pkce"&&([l,u]=await Lr(this.storage,this.storageKey)),await ke(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&s!==void 0?s:void 0}),!((a=e?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:u}),headers:this.headers,xform:CR})}catch(l){if(xe(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:s}=e;if(s)throw s;if(!t)throw new Qi;const{error:a}=await ke(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:a}})}catch(e){if(xe(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:s,type:a,options:l}=e,{error:u}=await ke(this.fetch,"POST",t,{headers:this.headers,body:{email:s,type:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in e){const{phone:s,type:a,options:l}=e,{data:u,error:h}=await ke(this.fetch,"POST",t,{headers:this.headers,body:{phone:s,type:a,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return{data:{user:null,session:null,messageId:u?.message_id},error:h}}throw new Uu("You must provide either an email or phone number and a type")}catch(t){if(xe(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await s,await t()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=t();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await Ms(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<gd:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const u=await Ms(this.userStorage,this.storageKey+"-user");u?.user?e.user=u.user:e.user=bd()}if(this.storage.isServer&&e.user){let u=this.suppressGetSessionWarning;e=new Proxy(e,{get:(f,p,g)=>(!u&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),u=!0,this.suppressGetSessionWarning=!0),Reflect.get(f,p,g))})}return{data:{session:e},error:null}}const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{session:null},error:l}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ki}):await this._useSession(async t=>{var s,a,l;const{data:u,error:h}=t;if(h)throw h;return!(!((s=u.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Qi}:await ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(a=u.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0,xform:Ki})})}catch(t){if(xe(t))return eR(t)&&(await this._removeSession(),await Xi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async s=>{const{data:a,error:l}=s;if(l)throw l;if(!a.session)throw new Qi;const u=a.session;let h=null,f=null;this.flowType==="pkce"&&e.email!=null&&([h,f]=await Lr(this.storage,this.storageKey));const{data:p,error:g}=await ke(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:f}),jwt:u.access_token,xform:Ki});if(g)throw g;return u.user=p.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(s){if(xe(s))return{data:{user:null},error:s};throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Qi;const t=Date.now()/1e3;let s=t,a=!0,l=null;const{payload:u}=md(e.access_token);if(u.exp&&(s=u.exp,a=s<=t),a){const{session:h,error:f}=await this._callRefreshToken(e.refresh_token);if(f)return{data:{user:null,session:null},error:f};if(!h)return{data:{user:null,session:null},error:null};l=h}else{const{data:h,error:f}=await this._getUser(e.access_token);if(f)throw f;l={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:s-t,expires_at:s},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(t){if(xe(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var s;if(!e){const{data:u,error:h}=t;if(h)throw h;e=(s=u.session)!==null&&s!==void 0?s:void 0}if(!e?.refresh_token)throw new Qi;const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{user:null,session:null},error:l}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(xe(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!kn())throw new ju("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ju(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new s_("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ju("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new s_("No code detected.");const{data:k,error:A}=await this._exchangeCodeForSession(e.code);if(A)throw A;const M=new URL(window.location.href);return M.searchParams.delete("code"),window.history.replaceState(window.history.state,"",M.toString()),{data:{session:k.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:a,access_token:l,refresh_token:u,expires_in:h,expires_at:f,token_type:p}=e;if(!l||!h||!u||!p)throw new ju("No session defined in URL");const g=Math.round(Date.now()/1e3),m=parseInt(h);let b=g+m;f&&(b=parseInt(f));const v=b-g;v*1e3<=Fr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${m}s`);const x=b-m;g-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,b,g):g-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,b,g);const{data:S,error:_}=await this._getUser(l);if(_)throw _;const E={provider_token:s,provider_refresh_token:a,access_token:l,expires_in:m,expires_at:b,refresh_token:u,token_type:p,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:E,redirectType:e.type},error:null}}catch(s){if(xe(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Ms(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var s;const{data:a,error:l}=t;if(l)return{error:l};const u=(s=a.session)===null||s===void 0?void 0:s.access_token;if(u){const{error:h}=await this.admin.signOut(u,e);if(h&&!(Jk(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return e!=="others"&&(await this._removeSession(),await Xi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=cR(),s={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async t=>{var s,a;try{const{data:{session:l},error:u}=t;if(u)throw u;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,t={}){let s=null,a=null;this.flowType==="pkce"&&([s,a]=await Lr(this.storage,this.storageKey,!0));try{return await ke(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:a,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(l){if(xe(l))return{data:null,error:l};throw l}}async getUserIdentities(){var e;try{const{data:t,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(xe(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:s,error:a}=await this._useSession(async l=>{var u,h,f,p,g;const{data:m,error:b}=l;if(b)throw b;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await ke(this.fetch,"GET",v,{headers:this.headers,jwt:(g=(p=m.session)===null||p===void 0?void 0:p.access_token)!==null&&g!==void 0?g:void 0})});if(a)throw a;return kn()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(s?.url),{data:{provider:e.provider,url:s?.url},error:null}}catch(s){if(xe(s))return{data:{provider:e.provider,url:null},error:s};throw s}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var s,a;const{data:l,error:u}=t;if(u)throw u;return await ke(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0})})}catch(t){if(xe(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const s=Date.now();return await pR(async a=>(a>0&&await dR(200*Math.pow(2,a-1)),this._debug(t,"refreshing attempt",a),await ke(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:mi})),(a,l)=>{const u=200*Math.pow(2,a);return l&&yd(l)&&Date.now()+u-s<Fr})}catch(s){if(this._debug(t,"error",s),xe(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",s),kn()&&!t.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,t;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const a=await Ms(this.storage,this.storageKey);if(a&&this.userStorage){let u=await Ms(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:a.user},await Vr(this.userStorage,this.storageKey+"-user",u)),a.user=(e=u?.user)!==null&&e!==void 0?e:bd()}else if(a&&!a.user&&!a.user){const u=await Ms(this.storage,this.storageKey+"-user");u&&u?.user?(a.user=u.user,await Xi(this.storage,this.storageKey+"-user"),await Vr(this.storage,this.storageKey,a)):a.user=bd()}if(this._debug(s,"session from storage",a),!this._isValidSession(a)){this._debug(s,"session is not valid"),a!==null&&await this._removeSession();return}const l=((t=a.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<gd;if(this._debug(s,`session has${l?"":" not"} expired with margin of ${gd}s`),l){if(this.autoRefreshToken&&a.refresh_token){const{error:u}=await this._callRefreshToken(a.refresh_token);u&&(console.error(u),yd(u)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:h}=await this._getUser(a.access_token);!h&&u?.user?(a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(s,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(s,"error",a),console.error(a);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var t,s;if(!e)throw new Qi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Mc;const{data:l,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!l.session)throw new Qi;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const h={session:l.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(l){if(this._debug(a,"error",l),xe(l)){const u={session:null,error:l};return yd(l)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(u),u}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(l),l}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,t,s=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",t,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:t});const l=[],u=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,t)}catch(f){l.push(f)}});if(await Promise.all(u),l.length>0){for(let h=0;h<l.length;h+=1)console.error(l[h]);throw l[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),s=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&t.user&&await Vr(this.userStorage,this.storageKey+"-user",{user:t.user});const a=Object.assign({},t);delete a.user;const l=structuredClone(a);await Vr(this.storage,this.storageKey,l)}else{const a=structuredClone(t);await Vr(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await Xi(this.storage,this.storageKey),await Xi(this.storage,this.storageKey+"-code-verifier"),await Xi(this.storage,this.storageKey+"-user"),this.userStorage&&await Xi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&kn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Fr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:s}}=t;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((s.expires_at*1e3-e)/Fr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Fr}ms, refresh threshold is ${bp} ticks`),a<=bp&&await this._callRefreshToken(s.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Gx)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!kn()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,s){const a=[`provider=${encodeURIComponent(t)}`];if(s?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&a.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[l,u]=await Lr(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(u)}`});a.push(h.toString())}if(s?.queryParams){const l=new URLSearchParams(s.queryParams);a.push(l.toString())}return s?.skipBrowserRedirect&&a.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var s;const{data:a,error:l}=t;return l?{data:null,error:l}:await ke(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=a?.session)===null||s===void 0?void 0:s.access_token})})}catch(t){if(xe(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var s,a;const{data:l,error:u}=t;if(u)return{data:null,error:u};const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:f,error:p}=await ke(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(s=l?.session)===null||s===void 0?void 0:s.access_token});return p?{data:null,error:p}:(e.factorType==="totp"&&(!((a=f?.totp)===null||a===void 0)&&a.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),{data:f,error:null})})}catch(t){if(xe(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var s;const{data:a,error:l}=t;if(l)return{data:null,error:l};const{data:u,error:h}=await ke(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(s=a?.session)===null||s===void 0?void 0:s.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:h})})}catch(t){if(xe(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var s;const{data:a,error:l}=t;return l?{data:null,error:l}:await ke(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(s=a?.session)===null||s===void 0?void 0:s.access_token})})}catch(t){if(xe(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const s=e?.factors||[],a=s.filter(u=>u.factor_type==="totp"&&u.status==="verified"),l=s.filter(u=>u.factor_type==="phone"&&u.status==="verified");return{data:{all:s,totp:a,phone:l},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,s;const{data:{session:a},error:l}=e;if(l)return{data:null,error:l};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=md(a.access_token);let h=null;u.aal&&(h=u.aal);let f=h;((s=(t=a.user.factors)===null||t===void 0?void 0:t.filter(m=>m.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(f="aal2");const g=u.amr||[];return{data:{currentLevel:h,nextLevel:f,currentAuthenticationMethods:g},error:null}}))}async fetchJwk(e,t={keys:[]}){let s=t.keys.find(h=>h.kid===e);if(s)return s;const a=Date.now();if(s=this.jwks.keys.find(h=>h.kid===e),s&&this.jwks_cached_at+Kk>a)return s;const{data:l,error:u}=await ke(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=a,s=l.keys.find(h=>h.kid===e),!s)?null:s}async getClaims(e,t={}){try{let s=e;if(!s){const{data:v,error:x}=await this.getSession();if(x||!v.session)return{data:null,error:x};s=v.session.access_token}const{header:a,payload:l,signature:u,raw:{header:h,payload:f}}=md(s);t?.allowExpired||wR(l.exp);const p=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,t?.keys?{keys:t.keys}:t?.jwks);if(!p){const{error:v}=await this.getUser(s);if(v)throw v;return{data:{claims:l,header:a,signature:u},error:null}}const g=xR(a.alg),m=await crypto.subtle.importKey("jwk",p,g,!0,["verify"]);if(!await crypto.subtle.verify(g,m,u,oR(`${h}.${f}`)))throw new wp("Invalid JWT signature");return{data:{claims:l,header:a,signature:u},error:null}}catch(s){if(xe(s))return{data:null,error:s};throw s}}}Yo.nextInstanceID=0;const LR=Yo;class IR extends LR{constructor(e){super(e)}}var NR=function(n,e,t,s){function a(l){return l instanceof t?l:new t(function(u){u(l)})}return new(t||(t=Promise))(function(l,u){function h(g){try{p(s.next(g))}catch(m){u(m)}}function f(g){try{p(s.throw(g))}catch(m){u(m)}}function p(g){g.done?l(g.value):a(g.value).then(h,f)}p((s=s.apply(n,e||[])).next())})};class qR{constructor(e,t,s){var a,l,u;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const h=Fk(e),f=new URL(h);this.realtimeUrl=new URL("realtime/v1",f),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",f),this.storageUrl=new URL("storage/v1",f),this.functionsUrl=new URL("functions/v1",f);const p=`sb-${f.hostname.split(".")[0]}-auth-token`,g={db:jk,realtime:Ik,auth:Object.assign(Object.assign({},Lk),{storageKey:p}),global:Uk},m=Vk(s??{},g);this.storageKey=(a=m.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(l=m.global.headers)!==null&&l!==void 0?l:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(b,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=m.auth)!==null&&u!==void 0?u:{},this.headers,m.global.fetch),this.fetch=Hk(t,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.rest=new rk(new URL("rest/v1",f).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),m.accessToken||this._listenForAuthEvents()}get functions(){return new YC(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Dk(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},s={}){return this.rest.rpc(e,t,s)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return NR(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(t=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:s,storage:a,storageKey:l,flowType:u,lock:h,debug:f},p,g){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new IR({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),p),storageKey:l,autoRefreshToken:e,persistSession:t,detectSessionInUrl:s,storage:a,flowType:u,lock:h,debug:f,fetch:g,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new _k(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,s)=>{this._handleTokenChanged(t,"CLIENT",s?.access_token)})}_handleTokenChanged(e,t,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const GR=(n,e,t)=>new qR(n,e,t),Eg=GR("https://pkswdnpftrundnewgnya.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBrc3dkbnBmdHJ1bmRuZXdnbnlhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI2ODI2MzIsImV4cCI6MjA2ODI1ODYzMn0.r_Y1RLOGJ55C0De5SBTVXqO09SMDqgV38sQuE-oDxXE"),HR=async n=>{if(n.locator.campaignName===void 0)throw new Error("can not save a campaign without a name");const e=await Eg.rpc("save_campaign_version",{p_name:n.locator.campaignName,p_data:await HC(n),p_published:n.meta?.published??!1});if(e.error)throw new Error(`error saving to db ${e.error.message} ${e.error.details}`,{cause:e.error});return e.data},$R=async n=>{const e=await Eg.rpc("get_latest_campaign",{p_campaign_name:n.campaignName,p_user_id:n.userId,p_version:n.version===-1?void 0:n.version});if(e.error)throw new Error("could not get campaign",{cause:e.error});const t=await Sx(e.data.data);return Object.values(t.rooms).forEach(s=>{delete s.size}),t.locator===void 0&&(t.locator={userId:n.userId||"upgraded, unknown",campaignName:n.campaignName,version:e.data.version}),delete t.name,t},FR=async({publishedOnly:n})=>{const e=await Eg.rpc("get_all_users_latest_campaigns",{p_published_only:n});if(e.error)throw new Error("could not get user campaigns",{cause:e.error});return e.data},_d=n=>{const e=[];for(let t=n;t!==void 0;t=t instanceof Error?t.cause:void 0)t instanceof Error&&e.push({message:t.message,stack:t.stack});return e},Xo=MC({reducerPath:"campaignsApi",baseQuery:sC(),endpoints:n=>({getCampaign:n.query({async queryFn(e){try{return e.userId==="@@original"&&e.campaignName==="original"?{data:(await RC()).campaign}:e.campaignName.startsWith("data:")?{data:await Sx(e.campaignName.substring(5))}:{data:await $R(e)}}catch(t){return{error:_d(new Error(`getCampaign queryFn( ${JSON.stringify(e)} ) failed: ${t}`))}}}}),getAllUsersLatestCampaigns:n.query({async queryFn({publishedOnly:e}){try{return{data:await FR({publishedOnly:e})}}catch(t){return{error:_d(new Error(`getAllUsersLatestCampaigns queryFn() failed: ${t}`))}}}}),saveCampaign:n.mutation({async queryFn(e){try{return{data:await HR(e)}}catch(t){return{error:_d(new Error(`saveCampaign queryFn( ${JSON.stringify(e)} ) failed: ${t}`))}}}})})}),{useGetAllUsersLatestCampaignsQuery:J4}=Xo,VR=Xo.endpoints.getCampaign.select,YR=(n,e)=>VR(e)(n).data,pc={inputAssignment:lp.default.inputAssignment,infiniteLivesPoke:!1,infiniteDoughnutsPoke:!1,displaySettings:{showBoundingBoxes:"none",showShadowMasks:!1,crtFilter:!0,uncolourised:!1,emulatedResolution:wi()==="mobile"?"handheld":"zxSpectrum"},gameSpeed:1.2,showFps:!1,onScreenControls:wi()==="mobile"||wi()==="tablet",inputDirectionMode:"8-way",screenRelativeControl:!1,soundSettings:{mute:!1,noFootsteps:!1}},Xs=n=>e=>cc(e.gameMenus.userSettings,n)??cc(pc,n),Tg=Xs("displaySettings.emulatedResolution"),XR=Xs("gameSpeed"),ez=()=>ux(Tg),tz=Xs("displaySettings.uncolourised"),nz=Xs("infiniteLivesPoke"),iz=Xs("infiniteDoughnutsPoke"),QR=Xs("inputDirectionMode"),WR=Xs("displaySettings.showBoundingBoxes"),sz=()=>ux(WR),KR=(n,e)=>!!(cc(n.userSettings,e)??cc(pc,e)??!1),rz=n=>{const e=n.gameMenus.gameInPlay.campaignLocator;return e===void 0?void 0:YR(n,e)},ZR=[1,1.2,1.5,2],az=["none","non-wall","all"],yo=n=>eM($M(n,"userId","campaignName")),JR=["4-way","8-way","analogue"],eO=wi()!=="server",tO=eO?Bo().has("cheats"):!1,nO={blacktooth:!1,bookworld:!1,egyptus:!1,penitentiary:!1,safari:!1},xp={planetsLiberated:nO,roomsExplored:{},scrollsRead:{},reincarnationPoint:void 0,freeCharacters:{}},Sp={userSettings:{displaySettings:{},soundSettings:navigator.webdriver?{mute:!0}:{}},gameRunning:!1,gameInPlay:xp,openMenus:[{menuId:"mainMenu",scrollableSelection:!1,menuParam:xn}],assigningInput:void 0,cheatsOn:tO,savedGames:{saves:{}}},ra=vi({name:"gameMenus",initialState:Sp,reducers:{setEmulatedResolution(n,{payload:e}){let t;e===void 0?t=ld(GM,Tg({gameMenus:n})):t=e,n.userSettings.displaySettings.emulatedResolution=t},setGameSpeed(n,{payload:e}){let t;e===void 0?t=ld(ZR,XR({gameMenus:n})):t=e,n.userSettings.gameSpeed=t},scrollRead(n,{payload:e}){e.source==="manual"?(n.gameInPlay.scrollsRead[e.page]=!0,n.openMenus=[{menuId:`markdown/${e.page}`,scrollableSelection:!1,menuParam:xn}]):n.openMenus=[{menuId:"markdown/inline",scrollableSelection:!1,menuParam:{markdown:e.markdown}}]},nextInputDirectionMode(n){n.userSettings.inputDirectionMode=ld(JR,QR({gameMenus:n}))},inputAddedDuringAssignment(n,{payload:e}){if(n.assigningInput===void 0)throw new Error("reducer called while not assigning keys");const t=(u,h)=>{u.includes(h)||u.push(h)},{presses:s,axes:a,action:l}=n.assigningInput;switch(e.type){case"key":t(s.keys,e.input);break;case"gamepadButtons":t(s.gamepadButtons,e.input);break;case"gamepadAxes":{ug.includes(l)&&t(a,e.input);break}}},doneAssigningInput(n){if(n.assigningInput===void 0)throw new Error("illegal action for state");const{action:e,presses:t,axes:s}=n.assigningInput,a=t.keys.length+t.gamepadButtons.length+s.length,l=n.userSettings.inputAssignment===void 0?n.userSettings.inputAssignment=structuredClone(lp.default.inputAssignment):n.userSettings.inputAssignment;a>0&&(l.presses[e]=t,(e==="left"||e==="right")&&(l.axes.x=s),(e==="towards"||e==="away")&&(l.axes.y=s)),n.assigningInput=void 0},menuOpenOrExitPressed(n){if(n.openMenus.length>0){if(n.openMenus.length===1&&!n.gameRunning)return;const[,...e]=n.openMenus;n.openMenus=e}else n.openMenus=[{menuId:"mainMenu",scrollableSelection:!1,menuParam:xn}]},goToSubmenu(n,{payload:e}){n.openMenus=[{menuId:e,scrollableSelection:!1,menuParam:{}},...n.openMenus]},closeAllMenus(n){n.openMenus=[]},gameStarted(n,{payload:{campaignLocator:e,noShowCrowns:t}}){if(n.gameRunning)throw new Error("game is already running");n.openMenus=t?[]:[{menuId:"crowns",scrollableSelection:!1,menuParam:{playMusic:!1}}],n.gameRunning=!0,n.gameInPlay={...xp,campaignLocator:e}},backToParentMenu(n){const[,...e]=n.openMenus;n.openMenus=e},assignInputStart(n,{payload:e}){n.assigningInput={action:e,presses:{gamepadButtons:[],keys:[]},axes:[]}},keyAssignmentPresetChosen(n,{payload:e}){const[,...t]=n.openMenus;n.openMenus=t,n.userSettings.inputAssignment=lp[e].inputAssignment},setFocussedMenuItemId(n,{payload:{focussedItemId:e,scrollableSelection:t}}){const[s]=n.openMenus;s.focussedItemId=e,s.scrollableSelection=t},holdPressed(n,{payload:e}){n.openMenus.length>0?n.openMenus[0]?.menuId==="hold"&&e!=="hold"&&(n.openMenus=[]):e!=="unhold"&&(n.openMenus=[{menuId:"hold",scrollableSelection:!1,menuParam:xn}])},mapPressed(n){n.openMenus.length>0?n.openMenus[0]?.menuId==="map"&&(n.openMenus=[]):n.openMenus=[{menuId:"map",scrollableSelection:!1,menuParam:xn}]},setShowBoundingBoxes(n,{payload:e}){n.userSettings.displaySettings.showBoundingBoxes=e},setShowShadowMasks(n,{payload:e}){n.userSettings.displaySettings.showShadowMasks=e},toggleUserSetting(n,{payload:{path:e}}){const t=KR(n,e);HM(n.userSettings,e,!t)},crownCollected(n,{payload:e}){n.gameInPlay.planetsLiberated[e]=!0;const t=Object.values(n.gameInPlay.planetsLiberated).every(a=>a),s={menuId:"crowns",scrollableSelection:!1,menuParam:{playMusic:!0}};t?n.openMenus=[{menuId:"proclaimEmperor",scrollableSelection:!1,menuParam:xn},s]:n.openMenus=[s]},roomExplored(n,{payload:e}){n.gameInPlay.roomsExplored[e]=!0},gameOver(n,{payload:{offerReincarnation:e}}){if(e&&n.gameInPlay.reincarnationPoint!==void 0)n.openMenus=[{menuId:"score",scrollableSelection:!1,menuParam:xn},{menuId:"offerReincarnation",scrollableSelection:!1,menuParam:xn}];else{n.gameRunning=!1,delete n.gameInPlay.reincarnationPoint;const t=n.gameInPlay.campaignLocator,s=t&&yo(t);s&&(delete n.savedGames.saves[s],delete n.savedGames.lastSavedCampaignLocator),n.openMenus=[{menuId:"score",scrollableSelection:!1,menuParam:xn},{menuId:"mainMenu",scrollableSelection:!0,menuParam:xn}]}},reincarnationFishEaten(n,{payload:e}){n.gameInPlay.reincarnationPoint=e},reincarnationAccepted(n){delete n.gameInPlay.reincarnationPoint,n.openMenus=[{menuId:"reincarnatedRestart",scrollableSelection:!1,menuParam:xn}]},saveGame(n,{payload:e}){const t=n.gameInPlay.campaignLocator;if(t===void 0)throw new Error("trying to save a game, but seems like there's no campaign to save against");if(qM())throw new Error("shouldn't be saving in playtest mode");n.savedGames.saves[yo(t)]=e,n.savedGames.lastSavedCampaignLocator=t},gameRestoreFromSave(n,{payload:e}){n.gameInPlay={freeCharacters:{},...e},e.freeCharacters===void 0&&(n.gameInPlay.freeCharacters={})},errorCaught(n,{payload:e}){n.openMenus=[{menuId:"errorCaught",scrollableSelection:!1,menuParam:e}]},errorDismissed(n,{payload:e}){switch(e){case"ignore":n.openMenus=[];break;case"clearAllData":Object.assign(n,Sp),n.gameRunning=!1;break}},debugItemClicked(n,e){},characterRoomChange(n,e){},lostLife(n,e){},characterReachesFreedom(n,{payload:e}){n.gameInPlay.freeCharacters[e]=!0}},extraReducers(n){n.addCase(rl,(e,t)=>{if(Bo().get("campaignName")?.startsWith("data:"))return;const s=[{menuId:"hold",scrollableSelection:!1,menuParam:xn}],a={userId:Bo().get("campaignAuthorUserId")??void 0,campaignName:Bo().get("campaignName")??void 0},l=t.payload?.savedGames;if((p=>p.userId!==void 0&&p.campaignName!==void 0)(a)){e.gameRunning=!0;const p=l?.saves[yo(a)];if(p){e.gameRunning=!0,e.gameInPlay={freeCharacters:{},...p.store.gameMenus.gameInPlay},e.openMenus=s;return}else{e.gameRunning=!0,e.gameInPlay={...xp,campaignLocator:a},e.openMenus=s;return}}const h=l?.lastSavedCampaignLocator,f=h&&l.saves[yo(h)];f&&(e.gameRunning=!0,e.gameInPlay={freeCharacters:{},...f.store.gameMenus.gameInPlay},e.openMenus=s)})},selectors:{selectHasError(n){return n.openMenus.some(e=>e.menuId==="errorCaught")},selectSaveForCampaign(n,e){return n.savedGames.saves[yo(e)]}}}),{assignInputStart:oz,backToParentMenu:lz,characterReachesFreedom:uz,characterRoomChange:cz,closeAllMenus:hz,crownCollected:fz,debugItemClicked:iO,doneAssigningInput:dz,errorCaught:pz,errorDismissed:gz,gameOver:yz,gameRestoreFromSave:mz,gameStarted:bz,goToSubmenu:vz,holdPressed:_z,inputAddedDuringAssignment:wz,keyAssignmentPresetChosen:xz,lostLife:Sz,mapPressed:Az,menuOpenOrExitPressed:Ez,nextInputDirectionMode:Tz,reincarnationAccepted:Mz,reincarnationFishEaten:Cz,roomExplored:kz,saveGame:Rz,scrollRead:Oz,setEmulatedResolution:sO,setFocussedMenuItemId:Pz,setGameSpeed:Dz,setShowBoundingBoxes:Bz,setShowShadowMasks:zz,toggleUserSetting:Uz}=ra.actions,{selectHasError:jz}=ra.selectors;ra.selectors.selectSaveForCampaign;ra.actions;const Tt=n=>{const e=Sp.userSettings;return console.log("migrating state: persisted is:",n,"I am not migrating - reverting to initial/default state:",e),e},rO=X2({1:Tt,2:Tt,3:Tt,4:Tt,5:Tt,6:Tt,7:Tt,8:Tt,9:Tt,10:Tt,11:Tt,12:Tt,13:Tt,14:Tt,15:Tt,16:Tt,17:Tt}),aO=["userSettings","savedGames"],oO=17,lO={key:"hohol/gameMenus/userSettings",version:oO,migrate:rO,storage:J2,whitelist:aO},uO=q2(lO,ra.reducer),cO={count:0},gc=vi({name:"manualLoading",initialState:cO,reducers:{manualLoadingStarted(n){n.count++},manualLoadingFinished(n){n.count=Math.max(0,n.count-1)}},selectors:{selectManualLoadingCount(n){return n.count}}}),{manualLoadingStarted:Lz,manualLoadingFinished:Iz}=gc.actions,{selectManualLoadingCount:Nz}=gc.selectors,hO=n=>wi()==="server"?pg.zxSpectrum:n?{x:n.clientWidth,y:n.clientHeight}:{x:window.innerWidth,y:window.innerHeight},Hx=(n,e,t)=>{const s=wi();return{renderAreaSize:hO(t),emulatedResolutionName:n,devicePixelRatio:s==="server"?1:window.devicePixelRatio,maximumCanvasUpscale:e.crtFilter?6:8}},$x=({renderAreaSize:n,emulatedResolutionName:e,devicePixelRatio:t,deviceType:s=wi(),maximumCanvasUpscale:a})=>{const l=pg[e],{renderAreaSize:u,rotate90:h}=s!=="desktop"&&n.x<n.y?{renderAreaSize:{x:n.y,y:n.x},rotate90:!0}:{renderAreaSize:n,rotate90:!1},f=sM(u,t),p=Math.max(Math.floor(Math.min(f.x/l.x,f.y/l.y)),1),g=Math.min(a,p),m=p/g/t,b={x:Math.floor(f.x/p),y:Math.floor(f.y/p)},v={x:Math.ceil(u.x/m),y:Math.ceil(u.y/m)};return{gameEngineUpscale:g,cssUpscale:m,gameEngineScreenSize:b,canvasSize:v,rotate90:h}},fO={upscale:$x(Hx(pc.displaySettings.emulatedResolution,pc.displaySettings))},Qo=vi({name:"upscale",initialState:fO,reducers:{upscaleToWindow(n,{payload:e}){n.upscale=$x(e)}},selectors:{selectCanvasSize(n){return n.upscale.canvasSize},selectGameEngineUpscale(n){return n.upscale.gameEngineUpscale},selectGameEngineScreenSize(n){return n.upscale.gameEngineScreenSize},selectRot90(n){return n.upscale.rotate90},selectUpscale(n){return n.upscale},selectTotalUpscale({upscale:{cssUpscale:n,gameEngineUpscale:e}}){return n*e}}}),{upscaleToWindow:dO}=Qo.actions,{selectCanvasSize:qz,selectRot90:Gz,selectUpscale:Hz,selectGameEngineUpscale:$z,selectTotalUpscale:Fz,selectGameEngineScreenSize:Vz}=Qo.selectors;Qo.actions;const Fx=(n,e,t,s)=>{n(dO(Hx(t??Tg(e()),e().gameMenus.userSettings.displaySettings,s)))},pO=()=>{wi()!=="server"&&ix({actionCreator:sO,effect(n,{dispatch:e,getState:t}){Fx(e,t)}})},gO=()=>{wi()!=="server"&&ix({predicate(n,{gameMenus:{userSettings:{displaySettings:e}}},{gameMenus:{userSettings:{displaySettings:t}}}){return e!==t},effect(n,{dispatch:e,getState:t}){Fx(e,t)}})},Ap=M2({[ra.reducerPath]:uO,[Qo.reducerPath]:Qo.reducer,[Xo.reducerPath]:Xo.reducer,[gc.reducerPath]:gc.reducer}).withLazyLoadedSlices(),yO=Ap.inject,mO=(n,e)=>e.type==="@@_RESET_FOR_TESTS"?Ap(void 0,e):Ap(n,e),Cc=VT({reducer:mO,middleware:n=>n({serializableCheck:{ignoredActions:[sg,rl,rg,ag,og,lg,iO.type]}}).prepend(nx.middleware).concat(Xo.middleware)});typeof window<"u"&&(window._e2e_store=Cc);pO();gO();Y2(Cc);var ve=(n=>(n.Application="application",n.WebGLPipes="webgl-pipes",n.WebGLPipesAdaptor="webgl-pipes-adaptor",n.WebGLSystem="webgl-system",n.WebGPUPipes="webgpu-pipes",n.WebGPUPipesAdaptor="webgpu-pipes-adaptor",n.WebGPUSystem="webgpu-system",n.CanvasSystem="canvas-system",n.CanvasPipesAdaptor="canvas-pipes-adaptor",n.CanvasPipes="canvas-pipes",n.Asset="asset",n.LoadParser="load-parser",n.ResolveParser="resolve-parser",n.CacheParser="cache-parser",n.DetectionParser="detection-parser",n.MaskEffect="mask-effect",n.BlendMode="blend-mode",n.TextureSource="texture-source",n.Environment="environment",n.ShapeBuilder="shape-builder",n.Batcher="batcher",n))(ve||{});const Ep=n=>{if(typeof n=="function"||typeof n=="object"&&n.extension){if(!n.extension)throw new Error("Extension class must have an extension object");n={...typeof n.extension!="object"?{type:n.extension}:n.extension,ref:n}}if(typeof n=="object")n={...n};else throw new Error("Invalid extension type");return typeof n.type=="string"&&(n.type=[n.type]),n},Lu=(n,e)=>Ep(n).priority??e,Yt={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...n){return n.map(Ep).forEach(e=>{e.type.forEach(t=>this._removeHandlers[t]?.(e))}),this},add(...n){return n.map(Ep).forEach(e=>{e.type.forEach(t=>{const s=this._addHandlers,a=this._queue;s[t]?s[t]?.(e):(a[t]=a[t]||[],a[t]?.push(e))})}),this},handle(n,e,t){const s=this._addHandlers,a=this._removeHandlers;if(s[n]||a[n])throw new Error(`Extension type ${n} already has a handler`);s[n]=e,a[n]=t;const l=this._queue;return l[n]&&(l[n]?.forEach(u=>e(u)),delete l[n]),this},handleByMap(n,e){return this.handle(n,t=>{t.name&&(e[t.name]=t.ref)},t=>{t.name&&delete e[t.name]})},handleByNamedList(n,e,t=-1){return this.handle(n,s=>{e.findIndex(l=>l.name===s.name)>=0||(e.push({name:s.name,value:s.ref}),e.sort((l,u)=>Lu(u.value,t)-Lu(l.value,t)))},s=>{const a=e.findIndex(l=>l.name===s.name);a!==-1&&e.splice(a,1)})},handleByList(n,e,t=-1){return this.handle(n,s=>{e.includes(s.ref)||(e.push(s.ref),e.sort((a,l)=>Lu(l,t)-Lu(a,t)))},s=>{const a=e.indexOf(s.ref);a!==-1&&e.splice(a,1)})},mixin(n,...e){for(const t of e)Object.defineProperties(n.prototype,Object.getOwnPropertyDescriptors(t))}},bO={extension:{type:ve.Environment,name:"browser",priority:-1},test:()=>!0,load:async()=>{await Yn(()=>import("./browserAll-DAoXfdQi.js"),__vite__mapDeps([2,3,4,5]))}},vO={extension:{type:ve.Environment,name:"webworker",priority:0},test:()=>typeof self<"u"&&self.WorkerGlobalScope!==void 0,load:async()=>{await Yn(()=>import("./webworkerAll-CuoU91p6.js"),__vite__mapDeps([3,4,5]))}};class an{constructor(e,t,s){this._x=t||0,this._y=s||0,this._observer=e}clone(e){return new an(e??this._observer,this._x,this._y)}set(e=0,t=e){return(this._x!==e||this._y!==t)&&(this._x=e,this._y=t,this._observer._onUpdate(this)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this._observer._onUpdate(this)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}toString(){return`[pixi.js/math:ObservablePoint x=0 y=0 scope=${this._observer}]`}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this._observer._onUpdate(this))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this._observer._onUpdate(this))}}var wd={exports:{}},d_;function _O(){return d_||(d_=1,(function(n){var e=Object.prototype.hasOwnProperty,t="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(t=!1));function a(f,p,g){this.fn=f,this.context=p,this.once=g||!1}function l(f,p,g,m,b){if(typeof g!="function")throw new TypeError("The listener must be a function");var v=new a(g,m||f,b),x=t?t+p:p;return f._events[x]?f._events[x].fn?f._events[x]=[f._events[x],v]:f._events[x].push(v):(f._events[x]=v,f._eventsCount++),f}function u(f,p){--f._eventsCount===0?f._events=new s:delete f._events[p]}function h(){this._events=new s,this._eventsCount=0}h.prototype.eventNames=function(){var p=[],g,m;if(this._eventsCount===0)return p;for(m in g=this._events)e.call(g,m)&&p.push(t?m.slice(1):m);return Object.getOwnPropertySymbols?p.concat(Object.getOwnPropertySymbols(g)):p},h.prototype.listeners=function(p){var g=t?t+p:p,m=this._events[g];if(!m)return[];if(m.fn)return[m.fn];for(var b=0,v=m.length,x=new Array(v);b<v;b++)x[b]=m[b].fn;return x},h.prototype.listenerCount=function(p){var g=t?t+p:p,m=this._events[g];return m?m.fn?1:m.length:0},h.prototype.emit=function(p,g,m,b,v,x){var S=t?t+p:p;if(!this._events[S])return!1;var _=this._events[S],E=arguments.length,k,A;if(_.fn){switch(_.once&&this.removeListener(p,_.fn,void 0,!0),E){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,g),!0;case 3:return _.fn.call(_.context,g,m),!0;case 4:return _.fn.call(_.context,g,m,b),!0;case 5:return _.fn.call(_.context,g,m,b,v),!0;case 6:return _.fn.call(_.context,g,m,b,v,x),!0}for(A=1,k=new Array(E-1);A<E;A++)k[A-1]=arguments[A];_.fn.apply(_.context,k)}else{var M=_.length,D;for(A=0;A<M;A++)switch(_[A].once&&this.removeListener(p,_[A].fn,void 0,!0),E){case 1:_[A].fn.call(_[A].context);break;case 2:_[A].fn.call(_[A].context,g);break;case 3:_[A].fn.call(_[A].context,g,m);break;case 4:_[A].fn.call(_[A].context,g,m,b);break;default:if(!k)for(D=1,k=new Array(E-1);D<E;D++)k[D-1]=arguments[D];_[A].fn.apply(_[A].context,k)}}return!0},h.prototype.on=function(p,g,m){return l(this,p,g,m,!1)},h.prototype.once=function(p,g,m){return l(this,p,g,m,!0)},h.prototype.removeListener=function(p,g,m,b){var v=t?t+p:p;if(!this._events[v])return this;if(!g)return u(this,v),this;var x=this._events[v];if(x.fn)x.fn===g&&(!b||x.once)&&(!m||x.context===m)&&u(this,v);else{for(var S=0,_=[],E=x.length;S<E;S++)(x[S].fn!==g||b&&!x[S].once||m&&x[S].context!==m)&&_.push(x[S]);_.length?this._events[v]=_.length===1?_[0]:_:u(this,v)}return this},h.prototype.removeAllListeners=function(p){var g;return p?(g=t?t+p:p,this._events[g]&&u(this,g)):(this._events=new s,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prefixed=t,h.EventEmitter=h,n.exports=h})(wd)),wd.exports}var wO=_O();const Qn=Xn(wO),xO=Math.PI*2,SO=180/Math.PI,AO=Math.PI/180;class jt{constructor(e=0,t=0){this.x=0,this.y=0,this.x=e,this.y=t}clone(){return new jt(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,t=e){return this.x=e,this.y=t,this}toString(){return`[pixi.js/math:Point x=${this.x} y=${this.y}]`}static get shared(){return xd.x=0,xd.y=0,xd}}const xd=new jt;class De{constructor(e=1,t=0,s=0,a=1,l=0,u=0){this.array=null,this.a=e,this.b=t,this.c=s,this.d=a,this.tx=l,this.ty=u}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,t,s,a,l,u){return this.a=e,this.b=t,this.c=s,this.d=a,this.tx=l,this.ty=u,this}toArray(e,t){this.array||(this.array=new Float32Array(9));const s=t||this.array;return e?(s[0]=this.a,s[1]=this.b,s[2]=0,s[3]=this.c,s[4]=this.d,s[5]=0,s[6]=this.tx,s[7]=this.ty,s[8]=1):(s[0]=this.a,s[1]=this.c,s[2]=this.tx,s[3]=this.b,s[4]=this.d,s[5]=this.ty,s[6]=0,s[7]=0,s[8]=1),s}apply(e,t){t=t||new jt;const s=e.x,a=e.y;return t.x=this.a*s+this.c*a+this.tx,t.y=this.b*s+this.d*a+this.ty,t}applyInverse(e,t){t=t||new jt;const s=this.a,a=this.b,l=this.c,u=this.d,h=this.tx,f=this.ty,p=1/(s*u+l*-a),g=e.x,m=e.y;return t.x=u*p*g+-l*p*m+(f*l-h*u)*p,t.y=s*p*m+-a*p*g+(-f*s+h*a)*p,t}translate(e,t){return this.tx+=e,this.ty+=t,this}scale(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this}rotate(e){const t=Math.cos(e),s=Math.sin(e),a=this.a,l=this.c,u=this.tx;return this.a=a*t-this.b*s,this.b=a*s+this.b*t,this.c=l*t-this.d*s,this.d=l*s+this.d*t,this.tx=u*t-this.ty*s,this.ty=u*s+this.ty*t,this}append(e){const t=this.a,s=this.b,a=this.c,l=this.d;return this.a=e.a*t+e.b*a,this.b=e.a*s+e.b*l,this.c=e.c*t+e.d*a,this.d=e.c*s+e.d*l,this.tx=e.tx*t+e.ty*a+this.tx,this.ty=e.tx*s+e.ty*l+this.ty,this}appendFrom(e,t){const s=e.a,a=e.b,l=e.c,u=e.d,h=e.tx,f=e.ty,p=t.a,g=t.b,m=t.c,b=t.d;return this.a=s*p+a*m,this.b=s*g+a*b,this.c=l*p+u*m,this.d=l*g+u*b,this.tx=h*p+f*m+t.tx,this.ty=h*g+f*b+t.ty,this}setTransform(e,t,s,a,l,u,h,f,p){return this.a=Math.cos(h+p)*l,this.b=Math.sin(h+p)*l,this.c=-Math.sin(h-f)*u,this.d=Math.cos(h-f)*u,this.tx=e-(s*this.a+a*this.c),this.ty=t-(s*this.b+a*this.d),this}prepend(e){const t=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const s=this.a,a=this.c;this.a=s*e.a+this.b*e.c,this.b=s*e.b+this.b*e.d,this.c=a*e.a+this.d*e.c,this.d=a*e.b+this.d*e.d}return this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty,this}decompose(e){const t=this.a,s=this.b,a=this.c,l=this.d,u=e.pivot,h=-Math.atan2(-a,l),f=Math.atan2(s,t),p=Math.abs(h+f);return p<1e-5||Math.abs(xO-p)<1e-5?(e.rotation=f,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=h,e.skew.y=f),e.scale.x=Math.sqrt(t*t+s*s),e.scale.y=Math.sqrt(a*a+l*l),e.position.x=this.tx+(u.x*t+u.y*a),e.position.y=this.ty+(u.x*s+u.y*l),e}invert(){const e=this.a,t=this.b,s=this.c,a=this.d,l=this.tx,u=e*a-t*s;return this.a=a/u,this.b=-t/u,this.c=-s/u,this.d=e/u,this.tx=(s*this.ty-a*l)/u,this.ty=-(e*this.ty-t*l)/u,this}isIdentity(){return this.a===1&&this.b===0&&this.c===0&&this.d===1&&this.tx===0&&this.ty===0}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new De;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}equals(e){return e.a===this.a&&e.b===this.b&&e.c===this.c&&e.d===this.d&&e.tx===this.tx&&e.ty===this.ty}toString(){return`[pixi.js:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return TO.identity()}static get shared(){return EO.identity()}}const EO=new De,TO=new De,Ps=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Ds=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Bs=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],zs=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Tp=[],Vx=[],Iu=Math.sign;function MO(){for(let n=0;n<16;n++){const e=[];Tp.push(e);for(let t=0;t<16;t++){const s=Iu(Ps[n]*Ps[t]+Bs[n]*Ds[t]),a=Iu(Ds[n]*Ps[t]+zs[n]*Ds[t]),l=Iu(Ps[n]*Bs[t]+Bs[n]*zs[t]),u=Iu(Ds[n]*Bs[t]+zs[n]*zs[t]);for(let h=0;h<16;h++)if(Ps[h]===s&&Ds[h]===a&&Bs[h]===l&&zs[h]===u){e.push(h);break}}}for(let n=0;n<16;n++){const e=new De;e.set(Ps[n],Ds[n],Bs[n],zs[n],0,0),Vx.push(e)}}MO();const Xe={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:n=>Ps[n],uY:n=>Ds[n],vX:n=>Bs[n],vY:n=>zs[n],inv:n=>n&8?n&15:-n&7,add:(n,e)=>Tp[n][e],sub:(n,e)=>Tp[n][Xe.inv(e)],rotate180:n=>n^4,isVertical:n=>(n&3)===2,byDirection:(n,e)=>Math.abs(n)*2<=Math.abs(e)?e>=0?Xe.S:Xe.N:Math.abs(e)*2<=Math.abs(n)?n>0?Xe.E:Xe.W:e>0?n>0?Xe.SE:Xe.SW:n>0?Xe.NE:Xe.NW,matrixAppendRotationInv:(n,e,t=0,s=0)=>{const a=Vx[Xe.inv(e)];a.tx=t,a.ty=s,n.append(a)}},Nu=[new jt,new jt,new jt,new jt];class ut{constructor(e=0,t=0,s=0,a=0){this.type="rectangle",this.x=Number(e),this.y=Number(t),this.width=Number(s),this.height=Number(a)}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}isEmpty(){return this.left===this.right||this.top===this.bottom}static get EMPTY(){return new ut(0,0,0,0)}clone(){return new ut(this.x,this.y,this.width,this.height)}copyFromBounds(e){return this.x=e.minX,this.y=e.minY,this.width=e.maxX-e.minX,this.height=e.maxY-e.minY,this}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.copyFrom(this),e}contains(e,t){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height}strokeContains(e,t,s,a=.5){const{width:l,height:u}=this;if(l<=0||u<=0)return!1;const h=this.x,f=this.y,p=s*(1-a),g=s-p,m=h-p,b=h+l+p,v=f-p,x=f+u+p,S=h+g,_=h+l-g,E=f+g,k=f+u-g;return e>=m&&e<=b&&t>=v&&t<=x&&!(e>S&&e<_&&t>E&&t<k)}intersects(e,t){if(!t){const U=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=U)return!1;const I=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>I}const s=this.left,a=this.right,l=this.top,u=this.bottom;if(a<=s||u<=l)return!1;const h=Nu[0].set(e.left,e.top),f=Nu[1].set(e.left,e.bottom),p=Nu[2].set(e.right,e.top),g=Nu[3].set(e.right,e.bottom);if(p.x<=h.x||f.y<=h.y)return!1;const m=Math.sign(t.a*t.d-t.b*t.c);if(m===0||(t.apply(h,h),t.apply(f,f),t.apply(p,p),t.apply(g,g),Math.max(h.x,f.x,p.x,g.x)<=s||Math.min(h.x,f.x,p.x,g.x)>=a||Math.max(h.y,f.y,p.y,g.y)<=l||Math.min(h.y,f.y,p.y,g.y)>=u))return!1;const b=m*(f.y-h.y),v=m*(h.x-f.x),x=b*s+v*l,S=b*a+v*l,_=b*s+v*u,E=b*a+v*u;if(Math.max(x,S,_,E)<=b*h.x+v*h.y||Math.min(x,S,_,E)>=b*g.x+v*g.y)return!1;const k=m*(h.y-p.y),A=m*(p.x-h.x),M=k*s+A*l,D=k*a+A*l,B=k*s+A*u,O=k*a+A*u;return!(Math.max(M,D,B,O)<=k*h.x+A*h.y||Math.min(M,D,B,O)>=k*g.x+A*g.y)}pad(e=0,t=e){return this.x-=e,this.y-=t,this.width+=e*2,this.height+=t*2,this}fit(e){const t=Math.max(this.x,e.x),s=Math.min(this.x+this.width,e.x+e.width),a=Math.max(this.y,e.y),l=Math.min(this.y+this.height,e.y+e.height);return this.x=t,this.width=Math.max(s-t,0),this.y=a,this.height=Math.max(l-a,0),this}ceil(e=1,t=.001){const s=Math.ceil((this.x+this.width-t)*e)/e,a=Math.ceil((this.y+this.height-t)*e)/e;return this.x=Math.floor((this.x+t)*e)/e,this.y=Math.floor((this.y+t)*e)/e,this.width=s-this.x,this.height=a-this.y,this}enlarge(e){const t=Math.min(this.x,e.x),s=Math.max(this.x+this.width,e.x+e.width),a=Math.min(this.y,e.y),l=Math.max(this.y+this.height,e.y+e.height);return this.x=t,this.width=s-t,this.y=a,this.height=l-a,this}getBounds(e){return e||(e=new ut),e.copyFrom(this),e}containsRect(e){if(this.width<=0||this.height<=0)return!1;const t=e.x,s=e.y,a=e.x+e.width,l=e.y+e.height;return t>=this.x&&t<this.x+this.width&&s>=this.y&&s<this.y+this.height&&a>=this.x&&a<this.x+this.width&&l>=this.y&&l<this.y+this.height}toString(){return`[pixi.js/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}const Sd={default:-1};function ct(n="default"){return Sd[n]===void 0&&(Sd[n]=-1),++Sd[n]}const p_={},Ut="8.0.0",CO="8.3.4";function st(n,e,t=3){if(p_[e])return;let s=new Error().stack;typeof s>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${n}`):(s=s.split(`
`).splice(t).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${n}`),console.warn(s),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${n}`),console.warn(s))),p_[e]=!0}const Yx=()=>{};function yc(n){return n+=n===0?1:0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n+1}function g_(n){return!(n&n-1)&&!!n}function Xx(n){const e={};for(const t in n)n[t]!==void 0&&(e[t]=n[t]);return e}const y_=Object.create(null);function kO(n){const e=y_[n];return e===void 0&&(y_[n]=ct("resource")),e}const Qx=class Wx extends Qn{constructor(e={}){super(),this._resourceType="textureSampler",this._touched=0,this._maxAnisotropy=1,this.destroyed=!1,e={...Wx.defaultOptions,...e},this.addressMode=e.addressMode,this.addressModeU=e.addressModeU??this.addressModeU,this.addressModeV=e.addressModeV??this.addressModeV,this.addressModeW=e.addressModeW??this.addressModeW,this.scaleMode=e.scaleMode,this.magFilter=e.magFilter??this.magFilter,this.minFilter=e.minFilter??this.minFilter,this.mipmapFilter=e.mipmapFilter??this.mipmapFilter,this.lodMinClamp=e.lodMinClamp,this.lodMaxClamp=e.lodMaxClamp,this.compare=e.compare,this.maxAnisotropy=e.maxAnisotropy??1}set addressMode(e){this.addressModeU=e,this.addressModeV=e,this.addressModeW=e}get addressMode(){return this.addressModeU}set wrapMode(e){st(Ut,"TextureStyle.wrapMode is now TextureStyle.addressMode"),this.addressMode=e}get wrapMode(){return this.addressMode}set scaleMode(e){this.magFilter=e,this.minFilter=e,this.mipmapFilter=e}get scaleMode(){return this.magFilter}set maxAnisotropy(e){this._maxAnisotropy=Math.min(e,16),this._maxAnisotropy>1&&(this.scaleMode="linear")}get maxAnisotropy(){return this._maxAnisotropy}get _resourceId(){return this._sharedResourceId||this._generateResourceId()}update(){this.emit("change",this),this._sharedResourceId=null}_generateResourceId(){const e=`${this.addressModeU}-${this.addressModeV}-${this.addressModeW}-${this.magFilter}-${this.minFilter}-${this.mipmapFilter}-${this.lodMinClamp}-${this.lodMaxClamp}-${this.compare}-${this._maxAnisotropy}`;return this._sharedResourceId=kO(e),this._resourceId}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this.removeAllListeners()}};Qx.defaultOptions={addressMode:"clamp-to-edge",scaleMode:"linear"};let RO=Qx;const Kx=class Zx extends Qn{constructor(e={}){super(),this.options=e,this.uid=ct("textureSource"),this._resourceType="textureSource",this._resourceId=ct("resource"),this.uploadMethodId="unknown",this._resolution=1,this.pixelWidth=1,this.pixelHeight=1,this.width=1,this.height=1,this.sampleCount=1,this.mipLevelCount=1,this.autoGenerateMipmaps=!1,this.format="rgba8unorm",this.dimension="2d",this.antialias=!1,this._touched=0,this._batchTick=-1,this._textureBindLocation=-1,e={...Zx.defaultOptions,...e},this.label=e.label??"",this.resource=e.resource,this.autoGarbageCollect=e.autoGarbageCollect,this._resolution=e.resolution,e.width?this.pixelWidth=e.width*this._resolution:this.pixelWidth=this.resource?this.resourceWidth??1:1,e.height?this.pixelHeight=e.height*this._resolution:this.pixelHeight=this.resource?this.resourceHeight??1:1,this.width=this.pixelWidth/this._resolution,this.height=this.pixelHeight/this._resolution,this.format=e.format,this.dimension=e.dimensions,this.mipLevelCount=e.mipLevelCount,this.autoGenerateMipmaps=e.autoGenerateMipmaps,this.sampleCount=e.sampleCount,this.antialias=e.antialias,this.alphaMode=e.alphaMode,this.style=new RO(Xx(e)),this.destroyed=!1,this._refreshPOT()}get source(){return this}get style(){return this._style}set style(e){this.style!==e&&(this._style?.off("change",this._onStyleChange,this),this._style=e,this._style?.on("change",this._onStyleChange,this),this._onStyleChange())}get addressMode(){return this._style.addressMode}set addressMode(e){this._style.addressMode=e}get repeatMode(){return this._style.addressMode}set repeatMode(e){this._style.addressMode=e}get magFilter(){return this._style.magFilter}set magFilter(e){this._style.magFilter=e}get minFilter(){return this._style.minFilter}set minFilter(e){this._style.minFilter=e}get mipmapFilter(){return this._style.mipmapFilter}set mipmapFilter(e){this._style.mipmapFilter=e}get lodMinClamp(){return this._style.lodMinClamp}set lodMinClamp(e){this._style.lodMinClamp=e}get lodMaxClamp(){return this._style.lodMaxClamp}set lodMaxClamp(e){this._style.lodMaxClamp=e}_onStyleChange(){this.emit("styleChange",this)}update(){if(this.resource){const e=this._resolution;if(this.resize(this.resourceWidth/e,this.resourceHeight/e))return}this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._style&&(this._style.destroy(),this._style=null),this.uploadMethodId=null,this.resource=null,this.removeAllListeners()}unload(){this._resourceId=ct("resource"),this.emit("change",this),this.emit("unload",this)}get resourceWidth(){const{resource:e}=this;return e.naturalWidth||e.videoWidth||e.displayWidth||e.width}get resourceHeight(){const{resource:e}=this;return e.naturalHeight||e.videoHeight||e.displayHeight||e.height}get resolution(){return this._resolution}set resolution(e){this._resolution!==e&&(this._resolution=e,this.width=this.pixelWidth/e,this.height=this.pixelHeight/e)}resize(e,t,s){s||(s=this._resolution),e||(e=this.width),t||(t=this.height);const a=Math.round(e*s),l=Math.round(t*s);return this.width=a/s,this.height=l/s,this._resolution=s,this.pixelWidth===a&&this.pixelHeight===l?!1:(this._refreshPOT(),this.pixelWidth=a,this.pixelHeight=l,this.emit("resize",this),this._resourceId=ct("resource"),this.emit("change",this),!0)}updateMipmaps(){this.autoGenerateMipmaps&&this.mipLevelCount>1&&this.emit("updateMipmaps",this)}set wrapMode(e){this._style.wrapMode=e}get wrapMode(){return this._style.wrapMode}set scaleMode(e){this._style.scaleMode=e}get scaleMode(){return this._style.scaleMode}_refreshPOT(){this.isPowerOfTwo=g_(this.pixelWidth)&&g_(this.pixelHeight)}static test(e){throw new Error("Unimplemented")}};Kx.defaultOptions={resolution:1,format:"bgra8unorm",alphaMode:"premultiply-alpha-on-upload",dimensions:"2d",mipLevelCount:1,autoGenerateMipmaps:!1,sampleCount:1,antialias:!1,autoGarbageCollect:!1};let Wn=Kx;class Mg extends Wn{constructor(e){const t=e.resource||new Float32Array(e.width*e.height*4);let s=e.format;s||(t instanceof Float32Array?s="rgba32float":t instanceof Int32Array||t instanceof Uint32Array?s="rgba32uint":t instanceof Int16Array||t instanceof Uint16Array?s="rgba16uint":(t instanceof Int8Array,s="bgra8unorm")),super({...e,resource:t,format:s}),this.uploadMethodId="buffer"}static test(e){return e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}Mg.extension=ve.TextureSource;const m_=new De;class OO{constructor(e,t){this.mapCoord=new De,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,typeof t>"u"?this.clampMargin=e.width<10?0:.5:this.clampMargin=t,this.isSimple=!1,this.texture=e}get texture(){return this._texture}set texture(e){this.texture!==e&&(this._texture?.removeListener("update",this.update,this),this._texture=e,this._texture.addListener("update",this.update,this),this.update())}multiplyUvs(e,t){t===void 0&&(t=e);const s=this.mapCoord;for(let a=0;a<e.length;a+=2){const l=e[a],u=e[a+1];t[a]=l*s.a+u*s.c+s.tx,t[a+1]=l*s.b+u*s.d+s.ty}return t}update(){const e=this._texture;this._updateID++;const t=e.uvs;this.mapCoord.set(t.x1-t.x0,t.y1-t.y0,t.x3-t.x0,t.y3-t.y0,t.x0,t.y0);const s=e.orig,a=e.trim;a&&(m_.set(s.width/a.width,0,0,s.height/a.height,-a.x/a.width,-a.y/a.height),this.mapCoord.append(m_));const l=e.source,u=this.uClampFrame,h=this.clampMargin/l._resolution,f=this.clampOffset/l._resolution;return u[0]=(e.frame.x+h+f)/l.width,u[1]=(e.frame.y+h+f)/l.height,u[2]=(e.frame.x+e.frame.width-h+f)/l.width,u[3]=(e.frame.y+e.frame.height-h+f)/l.height,this.uClampOffset[0]=this.clampOffset/l.pixelWidth,this.uClampOffset[1]=this.clampOffset/l.pixelHeight,this.isSimple=e.frame.width===l.width&&e.frame.height===l.height&&e.rotate===0,!0}}class Pe extends Qn{constructor({source:e,label:t,frame:s,orig:a,trim:l,defaultAnchor:u,defaultBorders:h,rotate:f,dynamic:p}={}){if(super(),this.uid=ct("texture"),this.uvs={x0:0,y0:0,x1:0,y1:0,x2:0,y2:0,x3:0,y3:0},this.frame=new ut,this.noFrame=!1,this.dynamic=!1,this.isTexture=!0,this.label=t,this.source=e?.source??new Wn,this.noFrame=!s,s)this.frame.copyFrom(s);else{const{width:g,height:m}=this._source;this.frame.width=g,this.frame.height=m}this.orig=a||this.frame,this.trim=l,this.rotate=f??0,this.defaultAnchor=u,this.defaultBorders=h,this.destroyed=!1,this.dynamic=p||!1,this.updateUvs()}set source(e){this._source&&this._source.off("resize",this.update,this),this._source=e,e.on("resize",this.update,this),this.emit("update",this)}get source(){return this._source}get textureMatrix(){return this._textureMatrix||(this._textureMatrix=new OO(this)),this._textureMatrix}get width(){return this.orig.width}get height(){return this.orig.height}updateUvs(){const{uvs:e,frame:t}=this,{width:s,height:a}=this._source,l=t.x/s,u=t.y/a,h=t.width/s,f=t.height/a;let p=this.rotate;if(p){const g=h/2,m=f/2,b=l+g,v=u+m;p=Xe.add(p,Xe.NW),e.x0=b+g*Xe.uX(p),e.y0=v+m*Xe.uY(p),p=Xe.add(p,2),e.x1=b+g*Xe.uX(p),e.y1=v+m*Xe.uY(p),p=Xe.add(p,2),e.x2=b+g*Xe.uX(p),e.y2=v+m*Xe.uY(p),p=Xe.add(p,2),e.x3=b+g*Xe.uX(p),e.y3=v+m*Xe.uY(p)}else e.x0=l,e.y0=u,e.x1=l+h,e.y1=u,e.x2=l+h,e.y2=u+f,e.x3=l,e.y3=u+f}destroy(e=!1){this._source&&e&&(this._source.destroy(),this._source=null),this._textureMatrix=null,this.destroyed=!0,this.emit("destroy",this),this.removeAllListeners()}update(){this.noFrame&&(this.frame.width=this._source.width,this.frame.height=this._source.height),this.updateUvs(),this.emit("update",this)}get baseTexture(){return st(Ut,"Texture.baseTexture is now Texture.source"),this._source}}Pe.EMPTY=new Pe({label:"EMPTY",source:new Wn({label:"EMPTY"})});Pe.EMPTY.destroy=Yx;Pe.WHITE=new Pe({source:new Mg({resource:new Uint8Array([255,255,255,255]),width:1,height:1,alphaMode:"premultiply-alpha-on-upload",label:"WHITE"}),label:"WHITE"});Pe.WHITE.destroy=Yx;function PO(n,e,t){const{width:s,height:a}=t.orig,l=t.trim;if(l){const u=l.width,h=l.height;n.minX=l.x-e._x*s,n.maxX=n.minX+u,n.minY=l.y-e._y*a,n.maxY=n.minY+h}else n.minX=-e._x*s,n.maxX=n.minX+s,n.minY=-e._y*a,n.maxY=n.minY+a}const b_=new De;class Bn{constructor(e=1/0,t=1/0,s=-1/0,a=-1/0){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=b_,this.minX=e,this.minY=t,this.maxX=s,this.maxY=a}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}get rectangle(){this._rectangle||(this._rectangle=new ut);const e=this._rectangle;return this.minX>this.maxX||this.minY>this.maxY?(e.x=0,e.y=0,e.width=0,e.height=0):e.copyFromBounds(this),e}clear(){return this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=b_,this}set(e,t,s,a){this.minX=e,this.minY=t,this.maxX=s,this.maxY=a}addFrame(e,t,s,a,l){l||(l=this.matrix);const u=l.a,h=l.b,f=l.c,p=l.d,g=l.tx,m=l.ty;let b=this.minX,v=this.minY,x=this.maxX,S=this.maxY,_=u*e+f*t+g,E=h*e+p*t+m;_<b&&(b=_),E<v&&(v=E),_>x&&(x=_),E>S&&(S=E),_=u*s+f*t+g,E=h*s+p*t+m,_<b&&(b=_),E<v&&(v=E),_>x&&(x=_),E>S&&(S=E),_=u*e+f*a+g,E=h*e+p*a+m,_<b&&(b=_),E<v&&(v=E),_>x&&(x=_),E>S&&(S=E),_=u*s+f*a+g,E=h*s+p*a+m,_<b&&(b=_),E<v&&(v=E),_>x&&(x=_),E>S&&(S=E),this.minX=b,this.minY=v,this.maxX=x,this.maxY=S}addRect(e,t){this.addFrame(e.x,e.y,e.x+e.width,e.y+e.height,t)}addBounds(e,t){this.addFrame(e.minX,e.minY,e.maxX,e.maxY,t)}addBoundsMask(e){this.minX=this.minX>e.minX?this.minX:e.minX,this.minY=this.minY>e.minY?this.minY:e.minY,this.maxX=this.maxX<e.maxX?this.maxX:e.maxX,this.maxY=this.maxY<e.maxY?this.maxY:e.maxY}applyMatrix(e){const t=this.minX,s=this.minY,a=this.maxX,l=this.maxY,{a:u,b:h,c:f,d:p,tx:g,ty:m}=e;let b=u*t+f*s+g,v=h*t+p*s+m;this.minX=b,this.minY=v,this.maxX=b,this.maxY=v,b=u*a+f*s+g,v=h*a+p*s+m,this.minX=b<this.minX?b:this.minX,this.minY=v<this.minY?v:this.minY,this.maxX=b>this.maxX?b:this.maxX,this.maxY=v>this.maxY?v:this.maxY,b=u*t+f*l+g,v=h*t+p*l+m,this.minX=b<this.minX?b:this.minX,this.minY=v<this.minY?v:this.minY,this.maxX=b>this.maxX?b:this.maxX,this.maxY=v>this.maxY?v:this.maxY,b=u*a+f*l+g,v=h*a+p*l+m,this.minX=b<this.minX?b:this.minX,this.minY=v<this.minY?v:this.minY,this.maxX=b>this.maxX?b:this.maxX,this.maxY=v>this.maxY?v:this.maxY}fit(e){return this.minX<e.left&&(this.minX=e.left),this.maxX>e.right&&(this.maxX=e.right),this.minY<e.top&&(this.minY=e.top),this.maxY>e.bottom&&(this.maxY=e.bottom),this}fitBounds(e,t,s,a){return this.minX<e&&(this.minX=e),this.maxX>t&&(this.maxX=t),this.minY<s&&(this.minY=s),this.maxY>a&&(this.maxY=a),this}pad(e,t=e){return this.minX-=e,this.maxX+=e,this.minY-=t,this.maxY+=t,this}ceil(){return this.minX=Math.floor(this.minX),this.minY=Math.floor(this.minY),this.maxX=Math.ceil(this.maxX),this.maxY=Math.ceil(this.maxY),this}clone(){return new Bn(this.minX,this.minY,this.maxX,this.maxY)}scale(e,t=e){return this.minX*=e,this.minY*=t,this.maxX*=e,this.maxY*=t,this}get x(){return this.minX}set x(e){const t=this.maxX-this.minX;this.minX=e,this.maxX=e+t}get y(){return this.minY}set y(e){const t=this.maxY-this.minY;this.minY=e,this.maxY=e+t}get width(){return this.maxX-this.minX}set width(e){this.maxX=this.minX+e}get height(){return this.maxY-this.minY}set height(e){this.maxY=this.minY+e}get left(){return this.minX}get right(){return this.maxX}get top(){return this.minY}get bottom(){return this.maxY}get isPositive(){return this.maxX-this.minX>0&&this.maxY-this.minY>0}get isValid(){return this.minX+this.minY!==1/0}addVertexData(e,t,s,a){let l=this.minX,u=this.minY,h=this.maxX,f=this.maxY;a||(a=this.matrix);const p=a.a,g=a.b,m=a.c,b=a.d,v=a.tx,x=a.ty;for(let S=t;S<s;S+=2){const _=e[S],E=e[S+1],k=p*_+m*E+v,A=g*_+b*E+x;l=k<l?k:l,u=A<u?A:u,h=k>h?k:h,f=A>f?A:f}this.minX=l,this.minY=u,this.maxX=h,this.maxY=f}containsPoint(e,t){return this.minX<=e&&this.minY<=t&&this.maxX>=e&&this.maxY>=t}toString(){return`[pixi.js:Bounds minX=${this.minX} minY=${this.minY} maxX=${this.maxX} maxY=${this.maxY} width=${this.width} height=${this.height}]`}copyFrom(e){return this.minX=e.minX,this.minY=e.minY,this.maxX=e.maxX,this.maxY=e.maxY,this}}var DO={grad:.9,turn:360,rad:360/(2*Math.PI)},yi=function(n){return typeof n=="string"?n.length>0:typeof n=="number"},wt=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*n)/t+0},Sn=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),n>t?t:n>e?n:e},Jx=function(n){return(n=isFinite(n)?n%360:0)>0?n:n+360},v_=function(n){return{r:Sn(n.r,0,255),g:Sn(n.g,0,255),b:Sn(n.b,0,255),a:Sn(n.a)}},Ad=function(n){return{r:wt(n.r),g:wt(n.g),b:wt(n.b),a:wt(n.a,3)}},BO=/^#([0-9a-f]{3,8})$/i,qu=function(n){var e=n.toString(16);return e.length<2?"0"+e:e},eS=function(n){var e=n.r,t=n.g,s=n.b,a=n.a,l=Math.max(e,t,s),u=l-Math.min(e,t,s),h=u?l===e?(t-s)/u:l===t?2+(s-e)/u:4+(e-t)/u:0;return{h:60*(h<0?h+6:h),s:l?u/l*100:0,v:l/255*100,a}},tS=function(n){var e=n.h,t=n.s,s=n.v,a=n.a;e=e/360*6,t/=100,s/=100;var l=Math.floor(e),u=s*(1-t),h=s*(1-(e-l)*t),f=s*(1-(1-e+l)*t),p=l%6;return{r:255*[s,h,u,u,f,s][p],g:255*[f,s,s,h,u,u][p],b:255*[u,u,f,s,s,h][p],a}},__=function(n){return{h:Jx(n.h),s:Sn(n.s,0,100),l:Sn(n.l,0,100),a:Sn(n.a)}},w_=function(n){return{h:wt(n.h),s:wt(n.s),l:wt(n.l),a:wt(n.a,3)}},x_=function(n){return tS((t=(e=n).s,{h:e.h,s:(t*=((s=e.l)<50?s:100-s)/100)>0?2*t/(s+t)*100:0,v:s+t,a:e.a}));var e,t,s},jo=function(n){return{h:(e=eS(n)).h,s:(a=(200-(t=e.s))*(s=e.v)/100)>0&&a<200?t*s/100/(a<=100?a:200-a)*100:0,l:a/2,a:e.a};var e,t,s,a},zO=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,UO=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,jO=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,LO=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Mp={string:[[function(n){var e=BO.exec(n);return e?(n=e[1]).length<=4?{r:parseInt(n[0]+n[0],16),g:parseInt(n[1]+n[1],16),b:parseInt(n[2]+n[2],16),a:n.length===4?wt(parseInt(n[3]+n[3],16)/255,2):1}:n.length===6||n.length===8?{r:parseInt(n.substr(0,2),16),g:parseInt(n.substr(2,2),16),b:parseInt(n.substr(4,2),16),a:n.length===8?wt(parseInt(n.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(n){var e=jO.exec(n)||LO.exec(n);return e?e[2]!==e[4]||e[4]!==e[6]?null:v_({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(n){var e=zO.exec(n)||UO.exec(n);if(!e)return null;var t,s,a=__({h:(t=e[1],s=e[2],s===void 0&&(s="deg"),Number(t)*(DO[s]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return x_(a)},"hsl"]],object:[[function(n){var e=n.r,t=n.g,s=n.b,a=n.a,l=a===void 0?1:a;return yi(e)&&yi(t)&&yi(s)?v_({r:Number(e),g:Number(t),b:Number(s),a:Number(l)}):null},"rgb"],[function(n){var e=n.h,t=n.s,s=n.l,a=n.a,l=a===void 0?1:a;if(!yi(e)||!yi(t)||!yi(s))return null;var u=__({h:Number(e),s:Number(t),l:Number(s),a:Number(l)});return x_(u)},"hsl"],[function(n){var e=n.h,t=n.s,s=n.v,a=n.a,l=a===void 0?1:a;if(!yi(e)||!yi(t)||!yi(s))return null;var u=(function(h){return{h:Jx(h.h),s:Sn(h.s,0,100),v:Sn(h.v,0,100),a:Sn(h.a)}})({h:Number(e),s:Number(t),v:Number(s),a:Number(l)});return tS(u)},"hsv"]]},S_=function(n,e){for(var t=0;t<e.length;t++){var s=e[t][0](n);if(s)return[s,e[t][1]]}return[null,void 0]},IO=function(n){return typeof n=="string"?S_(n.trim(),Mp.string):typeof n=="object"&&n!==null?S_(n,Mp.object):[null,void 0]},Ed=function(n,e){var t=jo(n);return{h:t.h,s:Sn(t.s+100*e,0,100),l:t.l,a:t.a}},Td=function(n){return(299*n.r+587*n.g+114*n.b)/1e3/255},A_=function(n,e){var t=jo(n);return{h:t.h,s:t.s,l:Sn(t.l+100*e,0,100),a:t.a}},Cp=(function(){function n(e){this.parsed=IO(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return n.prototype.isValid=function(){return this.parsed!==null},n.prototype.brightness=function(){return wt(Td(this.rgba),2)},n.prototype.isDark=function(){return Td(this.rgba)<.5},n.prototype.isLight=function(){return Td(this.rgba)>=.5},n.prototype.toHex=function(){return e=Ad(this.rgba),t=e.r,s=e.g,a=e.b,u=(l=e.a)<1?qu(wt(255*l)):"","#"+qu(t)+qu(s)+qu(a)+u;var e,t,s,a,l,u},n.prototype.toRgb=function(){return Ad(this.rgba)},n.prototype.toRgbString=function(){return e=Ad(this.rgba),t=e.r,s=e.g,a=e.b,(l=e.a)<1?"rgba("+t+", "+s+", "+a+", "+l+")":"rgb("+t+", "+s+", "+a+")";var e,t,s,a,l},n.prototype.toHsl=function(){return w_(jo(this.rgba))},n.prototype.toHslString=function(){return e=w_(jo(this.rgba)),t=e.h,s=e.s,a=e.l,(l=e.a)<1?"hsla("+t+", "+s+"%, "+a+"%, "+l+")":"hsl("+t+", "+s+"%, "+a+"%)";var e,t,s,a,l},n.prototype.toHsv=function(){return e=eS(this.rgba),{h:wt(e.h),s:wt(e.s),v:wt(e.v),a:wt(e.a,3)};var e},n.prototype.invert=function(){return $n({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},n.prototype.saturate=function(e){return e===void 0&&(e=.1),$n(Ed(this.rgba,e))},n.prototype.desaturate=function(e){return e===void 0&&(e=.1),$n(Ed(this.rgba,-e))},n.prototype.grayscale=function(){return $n(Ed(this.rgba,-1))},n.prototype.lighten=function(e){return e===void 0&&(e=.1),$n(A_(this.rgba,e))},n.prototype.darken=function(e){return e===void 0&&(e=.1),$n(A_(this.rgba,-e))},n.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},n.prototype.alpha=function(e){return typeof e=="number"?$n({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):wt(this.rgba.a,3);var t},n.prototype.hue=function(e){var t=jo(this.rgba);return typeof e=="number"?$n({h:e,s:t.s,l:t.l,a:t.a}):wt(t.h)},n.prototype.isEqual=function(e){return this.toHex()===$n(e).toHex()},n})(),$n=function(n){return n instanceof Cp?n:new Cp(n)},E_=[],NO=function(n){n.forEach(function(e){E_.indexOf(e)<0&&(e(Cp,Mp),E_.push(e))})};function qO(n,e){var t={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},s={};for(var a in t)s[t[a]]=a;var l={};n.prototype.toName=function(u){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var h,f,p=s[this.toHex()];if(p)return p;if(u?.closest){var g=this.toRgb(),m=1/0,b="black";if(!l.length)for(var v in t)l[v]=new n(t[v]).toRgb();for(var x in t){var S=(h=g,f=l[x],Math.pow(h.r-f.r,2)+Math.pow(h.g-f.g,2)+Math.pow(h.b-f.b,2));S<m&&(m=S,b=x)}return b}},e.string.push([function(u){var h=u.toLowerCase(),f=h==="transparent"?"#0000":t[h];return f?new n(f).toRgb():null},"name"])}NO([qO]);const ta=class Ao{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof Ao)this._value=this._cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set Color#value to null");(this._value===null||!this._isSourceEqual(this._value,e))&&(this._value=this._cloneSource(e),this._normalize(this._value))}}get value(){return this._value}_cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?{...e}:e}_isSourceEqual(e,t){const s=typeof e;if(s!==typeof t)return!1;if(s==="number"||s==="string"||e instanceof Number)return e===t;if(Array.isArray(e)&&Array.isArray(t)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(t))return e.length!==t.length?!1:e.every((l,u)=>l===t[u]);if(e!==null&&t!==null){const l=Object.keys(e),u=Object.keys(t);return l.length!==u.length?!1:l.every(h=>e[h]===t[h])}return e===t}toRgba(){const[e,t,s,a]=this._components;return{r:e,g:t,b:s,a}}toRgb(){const[e,t,s]=this._components;return{r:e,g:t,b:s}}toRgbaString(){const[e,t,s]=this.toUint8RgbArray();return`rgba(${e},${t},${s},${this.alpha})`}toUint8RgbArray(e){const[t,s,a]=this._components;return this._arrayRgb||(this._arrayRgb=[]),e||(e=this._arrayRgb),e[0]=Math.round(t*255),e[1]=Math.round(s*255),e[2]=Math.round(a*255),e}toArray(e){this._arrayRgba||(this._arrayRgba=[]),e||(e=this._arrayRgba);const[t,s,a,l]=this._components;return e[0]=t,e[1]=s,e[2]=a,e[3]=l,e}toRgbArray(e){this._arrayRgb||(this._arrayRgb=[]),e||(e=this._arrayRgb);const[t,s,a]=this._components;return e[0]=t,e[1]=s,e[2]=a,e}toNumber(){return this._int}toBgrNumber(){const[e,t,s]=this.toUint8RgbArray();return(s<<16)+(t<<8)+e}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const[t,s,a,l]=Ao._temp.setValue(e)._components;return this._components[0]*=t,this._components[1]*=s,this._components[2]*=a,this._components[3]*=l,this._refreshInt(),this._value=null,this}premultiply(e,t=!0){return t&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this._refreshInt(),this._value=null,this}toPremultiplied(e,t=!0){if(e===1)return(255<<24)+this._int;if(e===0)return t?0:this._int;let s=this._int>>16&255,a=this._int>>8&255,l=this._int&255;return t&&(s=s*e+.5|0,a=a*e+.5|0,l=l*e+.5|0),(e*255<<24)+(s<<16)+(a<<8)+l}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const t=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-t.length)+t}setAlpha(e){return this._components[3]=this._clamp(e),this}_normalize(e){let t,s,a,l;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){const u=e;t=(u>>16&255)/255,s=(u>>8&255)/255,a=(u&255)/255,l=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[t,s,a,l=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[t,s,a,l=255]=e,t/=255,s/=255,a/=255,l/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){const h=Ao.HEX_PATTERN.exec(e);h&&(e=`#${h[2]}`)}const u=$n(e);u.isValid()&&({r:t,g:s,b:a,a:l}=u.rgba,t/=255,s/=255,a/=255)}if(t!==void 0)this._components[0]=t,this._components[1]=s,this._components[2]=a,this._components[3]=l,this._refreshInt();else throw new Error(`Unable to convert color ${e}`)}_refreshInt(){this._clamp(this._components);const[e,t,s]=this._components;this._int=(e*255<<16)+(t*255<<8)+(s*255|0)}_clamp(e,t=0,s=1){return typeof e=="number"?Math.min(Math.max(e,t),s):(e.forEach((a,l)=>{e[l]=Math.min(Math.max(a,t),s)}),e)}static isColorLike(e){return typeof e=="number"||typeof e=="string"||e instanceof Number||e instanceof Ao||Array.isArray(e)||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Float32Array||e.r!==void 0&&e.g!==void 0&&e.b!==void 0||e.r!==void 0&&e.g!==void 0&&e.b!==void 0&&e.a!==void 0||e.h!==void 0&&e.s!==void 0&&e.l!==void 0||e.h!==void 0&&e.s!==void 0&&e.l!==void 0&&e.a!==void 0||e.h!==void 0&&e.s!==void 0&&e.v!==void 0||e.h!==void 0&&e.s!==void 0&&e.v!==void 0&&e.a!==void 0}};ta.shared=new ta;ta._temp=new ta;ta.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let kt=ta;const GO={cullArea:null,cullable:!1,cullableChildren:!0};class Cg{constructor(e,t){this._pool=[],this._count=0,this._index=0,this._classType=e,t&&this.prepopulate(t)}prepopulate(e){for(let t=0;t<e;t++)this._pool[this._index++]=new this._classType;this._count+=e}get(e){let t;return this._index>0?t=this._pool[--this._index]:t=new this._classType,t.init?.(e),t}return(e){e.reset?.(),this._pool[this._index++]=e}get totalSize(){return this._count}get totalFree(){return this._index}get totalUsed(){return this._count-this._index}clear(){this._pool.length=0,this._index=0}}class HO{constructor(){this._poolsByClass=new Map}prepopulate(e,t){this.getPool(e).prepopulate(t)}get(e,t){return this.getPool(e).get(t)}return(e){this.getPool(e.constructor).return(e)}getPool(e){return this._poolsByClass.has(e)||this._poolsByClass.set(e,new Cg(e)),this._poolsByClass.get(e)}stats(){const e={};return this._poolsByClass.forEach(t=>{const s=e[t._classType.name]?t._classType.name+t._classType.ID:t._classType.name;e[s]={free:t.totalFree,used:t.totalUsed,size:t.totalSize}}),e}}const xi=new HO,$O={get isCachedAsTexture(){return!!this.renderGroup?.isCachedAsTexture},cacheAsTexture(n){typeof n=="boolean"&&n===!1?this.disableRenderGroup():(this.enableRenderGroup(),this.renderGroup.enableCacheAsTexture(n===!0?{}:n))},updateCacheTexture(){this.renderGroup?.updateCacheTexture()},get cacheAsBitmap(){return this.isCachedAsTexture},set cacheAsBitmap(n){st("v8.6.0","cacheAsBitmap is deprecated, use cacheAsTexture instead."),this.cacheAsTexture(n)}};function FO(n,e,t){const s=n.length;let a;if(e>=s||t===0)return;t=e+t>s?s-e:t;const l=s-t;for(a=e;a<l;++a)n[a]=n[a+t];n.length=l}const VO={allowChildren:!0,removeChildren(n=0,e){const t=e??this.children.length,s=t-n,a=[];if(s>0&&s<=t){for(let u=t-1;u>=n;u--){const h=this.children[u];h&&(a.push(h),h.parent=null)}FO(this.children,n,t);const l=this.renderGroup||this.parentRenderGroup;l&&l.removeChildren(a);for(let u=0;u<a.length;++u)this.emit("childRemoved",a[u],this,u),a[u].emit("removed",this);return a.length>0&&this._didViewChangeTick++,a}else if(s===0&&this.children.length===0)return a;throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},removeChildAt(n){const e=this.getChildAt(n);return this.removeChild(e)},getChildAt(n){if(n<0||n>=this.children.length)throw new Error(`getChildAt: Index (${n}) does not exist.`);return this.children[n]},setChildIndex(n,e){if(e<0||e>=this.children.length)throw new Error(`The index ${e} supplied is out of bounds ${this.children.length}`);this.getChildIndex(n),this.addChildAt(n,e)},getChildIndex(n){const e=this.children.indexOf(n);if(e===-1)throw new Error("The supplied Container must be a child of the caller");return e},addChildAt(n,e){this.allowChildren||st(Ut,"addChildAt: Only Containers will be allowed to add children in v8.0.0");const{children:t}=this;if(e<0||e>t.length)throw new Error(`${n}addChildAt: The index ${e} supplied is out of bounds ${t.length}`);if(n.parent){const a=n.parent.children.indexOf(n);if(n.parent===this&&a===e)return n;a!==-1&&n.parent.children.splice(a,1)}e===t.length?t.push(n):t.splice(e,0,n),n.parent=this,n.didChange=!0,n._updateFlags=15;const s=this.renderGroup||this.parentRenderGroup;return s&&s.addChild(n),this.sortableChildren&&(this.sortDirty=!0),this.emit("childAdded",n,this,e),n.emit("added",this),n},swapChildren(n,e){if(n===e)return;const t=this.getChildIndex(n),s=this.getChildIndex(e);this.children[t]=e,this.children[s]=n;const a=this.renderGroup||this.parentRenderGroup;a&&(a.structureDidChange=!0),this._didContainerChangeTick++},removeFromParent(){this.parent?.removeChild(this)},reparentChild(...n){return n.length===1?this.reparentChildAt(n[0],this.children.length):(n.forEach(e=>this.reparentChildAt(e,this.children.length)),n[0])},reparentChildAt(n,e){if(n.parent===this)return this.setChildIndex(n,e),n;const t=n.worldTransform.clone();n.removeFromParent(),this.addChildAt(n,e);const s=this.worldTransform.clone();return s.invert(),t.prepend(s),n.setFromMatrix(t),n}},YO={collectRenderables(n,e,t){this.parentRenderLayer&&this.parentRenderLayer!==t||this.globalDisplayStatus<7||!this.includeInBuild||(this.sortableChildren&&this.sortChildren(),this.isSimple?this.collectRenderablesSimple(n,e,t):this.renderGroup?e.renderPipes.renderGroup.addRenderGroup(this.renderGroup,n):this.collectRenderablesWithEffects(n,e,t))},collectRenderablesSimple(n,e,t){const s=this.children,a=s.length;for(let l=0;l<a;l++)s[l].collectRenderables(n,e,t)},collectRenderablesWithEffects(n,e,t){const{renderPipes:s}=e;for(let a=0;a<this.effects.length;a++){const l=this.effects[a];s[l.pipe].push(l,this,n)}this.collectRenderablesSimple(n,e,t);for(let a=this.effects.length-1;a>=0;a--){const l=this.effects[a];s[l.pipe].pop(l,this,n)}}};class T_{constructor(){this.pipe="filter",this.priority=1}destroy(){for(let e=0;e<this.filters.length;e++)this.filters[e].destroy();this.filters=null,this.filterArea=null}}class XO{constructor(){this._effectClasses=[],this._tests=[],this._initialized=!1}init(){this._initialized||(this._initialized=!0,this._effectClasses.forEach(e=>{this.add({test:e.test,maskClass:e})}))}add(e){this._tests.push(e)}getMaskEffect(e){this._initialized||this.init();for(let t=0;t<this._tests.length;t++){const s=this._tests[t];if(s.test(e))return xi.get(s.maskClass,e)}return e}returnMaskEffect(e){xi.return(e)}}const kp=new XO;Yt.handleByList(ve.MaskEffect,kp._effectClasses);const QO={_maskEffect:null,_maskOptions:{inverse:!1},_filterEffect:null,effects:[],_markStructureAsChanged(){const n=this.renderGroup||this.parentRenderGroup;n&&(n.structureDidChange=!0)},addEffect(n){this.effects.indexOf(n)===-1&&(this.effects.push(n),this.effects.sort((t,s)=>t.priority-s.priority),this._markStructureAsChanged(),this._updateIsSimple())},removeEffect(n){const e=this.effects.indexOf(n);e!==-1&&(this.effects.splice(e,1),this._markStructureAsChanged(),this._updateIsSimple())},set mask(n){const e=this._maskEffect;e?.mask!==n&&(e&&(this.removeEffect(e),kp.returnMaskEffect(e),this._maskEffect=null),n!=null&&(this._maskEffect=kp.getMaskEffect(n),this.addEffect(this._maskEffect)))},setMask(n){this._maskOptions={...this._maskOptions,...n},n.mask&&(this.mask=n.mask),this._markStructureAsChanged()},get mask(){return this._maskEffect?.mask},set filters(n){!Array.isArray(n)&&n&&(n=[n]);const e=this._filterEffect||(this._filterEffect=new T_);n=n;const t=n?.length>0,s=e.filters?.length>0,a=t!==s;n=Array.isArray(n)?n.slice(0):n,e.filters=Object.freeze(n),a&&(t?this.addEffect(e):(this.removeEffect(e),e.filters=n??null))},get filters(){return this._filterEffect?.filters},set filterArea(n){this._filterEffect||(this._filterEffect=new T_),this._filterEffect.filterArea=n},get filterArea(){return this._filterEffect?.filterArea}},WO={label:null,get name(){return st(Ut,"Container.name property has been removed, use Container.label instead"),this.label},set name(n){st(Ut,"Container.name property has been removed, use Container.label instead"),this.label=n},getChildByName(n,e=!1){return this.getChildByLabel(n,e)},getChildByLabel(n,e=!1){const t=this.children;for(let s=0;s<t.length;s++){const a=t[s];if(a.label===n||n instanceof RegExp&&n.test(a.label))return a}if(e)for(let s=0;s<t.length;s++){const l=t[s].getChildByLabel(n,!0);if(l)return l}return null},getChildrenByLabel(n,e=!1,t=[]){const s=this.children;for(let a=0;a<s.length;a++){const l=s[a];(l.label===n||n instanceof RegExp&&n.test(l.label))&&t.push(l)}if(e)for(let a=0;a<s.length;a++)s[a].getChildrenByLabel(n,!0,t);return t}},Nt=new Cg(De),Si=new Cg(Bn),KO=new De,ZO={getFastGlobalBounds(n,e){e||(e=new Bn),e.clear(),this._getGlobalBoundsRecursive(!!n,e,this.parentRenderLayer),e.isValid||e.set(0,0,0,0);const t=this.renderGroup||this.parentRenderGroup;return e.applyMatrix(t.worldTransform),e},_getGlobalBoundsRecursive(n,e,t){let s=e;if(n&&this.parentRenderLayer&&this.parentRenderLayer!==t||this.localDisplayStatus!==7||!this.measurable)return;const a=!!this.effects.length;if((this.renderGroup||a)&&(s=Si.get().clear()),this.boundsArea)e.addRect(this.boundsArea,this.worldTransform);else{if(this.renderPipeId){const u=this.bounds;s.addFrame(u.minX,u.minY,u.maxX,u.maxY,this.groupTransform)}const l=this.children;for(let u=0;u<l.length;u++)l[u]._getGlobalBoundsRecursive(n,s,t)}if(a){let l=!1;const u=this.renderGroup||this.parentRenderGroup;for(let h=0;h<this.effects.length;h++)this.effects[h].addBounds&&(l||(l=!0,s.applyMatrix(u.worldTransform)),this.effects[h].addBounds(s,!0));l&&(s.applyMatrix(u.worldTransform.copyTo(KO).invert()),e.addBounds(s,this.relativeGroupTransform)),e.addBounds(s),Si.return(s)}else this.renderGroup&&(e.addBounds(s,this.relativeGroupTransform),Si.return(s))}};function nS(n,e,t){t.clear();let s,a;return n.parent?e?s=n.parent.worldTransform:(a=Nt.get().identity(),s=kg(n,a)):s=De.IDENTITY,iS(n,t,s,e),a&&Nt.return(a),t.isValid||t.set(0,0,0,0),t}function iS(n,e,t,s){if(!n.visible||!n.measurable)return;let a;s?a=n.worldTransform:(n.updateLocalTransform(),a=Nt.get(),a.appendFrom(n.localTransform,t));const l=e,u=!!n.effects.length;if(u&&(e=Si.get().clear()),n.boundsArea)e.addRect(n.boundsArea,a);else{n.bounds&&(e.matrix=a,e.addBounds(n.bounds));for(let h=0;h<n.children.length;h++)iS(n.children[h],e,a,s)}if(u){for(let h=0;h<n.effects.length;h++)n.effects[h].addBounds?.(e);l.addBounds(e,De.IDENTITY),Si.return(e)}s||Nt.return(a)}function kg(n,e){const t=n.parent;return t&&(kg(t,e),t.updateLocalTransform(),e.append(t.localTransform)),e}function sS(n,e){if(n===16777215||!e)return e;if(e===16777215||!n)return n;const t=n>>16&255,s=n>>8&255,a=n&255,l=e>>16&255,u=e>>8&255,h=e&255,f=t*l/255|0,p=s*u/255|0,g=a*h/255|0;return(f<<16)+(p<<8)+g}const M_=16777215;function C_(n,e){return n===M_?e:e===M_?n:sS(n,e)}function Ju(n){return((n&255)<<16)+(n&65280)+(n>>16&255)}const JO={getGlobalAlpha(n){if(n)return this.renderGroup?this.renderGroup.worldAlpha:this.parentRenderGroup?this.parentRenderGroup.worldAlpha*this.alpha:this.alpha;let e=this.alpha,t=this.parent;for(;t;)e*=t.alpha,t=t.parent;return e},getGlobalTransform(n,e){if(e)return n.copyFrom(this.worldTransform);this.updateLocalTransform();const t=kg(this,Nt.get().identity());return n.appendFrom(this.localTransform,t),Nt.return(t),n},getGlobalTint(n){if(n)return this.renderGroup?Ju(this.renderGroup.worldColor):this.parentRenderGroup?Ju(C_(this.localColor,this.parentRenderGroup.worldColor)):this.tint;let e=this.localColor,t=this.parent;for(;t;)e=C_(e,t.localColor),t=t.parent;return Ju(e)}};let Md=0;const k_=500;function Qe(...n){Md!==k_&&(Md++,Md===k_?console.warn("PixiJS Warning: too many warnings, no more warnings will be reported to the console by PixiJS."):console.warn("PixiJS Warning: ",...n))}function rS(n,e,t){return e.clear(),t||(t=De.IDENTITY),aS(n,e,t,n,!0),e.isValid||e.set(0,0,0,0),e}function aS(n,e,t,s,a){let l;if(a)l=Nt.get(),l=t.copyTo(l);else{if(!n.visible||!n.measurable)return;n.updateLocalTransform();const f=n.localTransform;l=Nt.get(),l.appendFrom(f,t)}const u=e,h=!!n.effects.length;if(h&&(e=Si.get().clear()),n.boundsArea)e.addRect(n.boundsArea,l);else{n.renderPipeId&&(e.matrix=l,e.addBounds(n.bounds));const f=n.children;for(let p=0;p<f.length;p++)aS(f[p],e,l,s,!1)}if(h){for(let f=0;f<n.effects.length;f++)n.effects[f].addLocalBounds?.(e,s);u.addBounds(e,De.IDENTITY),Si.return(e)}Nt.return(l)}function oS(n,e){const t=n.children;for(let s=0;s<t.length;s++){const a=t[s],l=a.uid,u=(a._didViewChangeTick&65535)<<16|a._didContainerChangeTick&65535,h=e.index;(e.data[h]!==l||e.data[h+1]!==u)&&(e.data[e.index]=l,e.data[e.index+1]=u,e.didChange=!0),e.index=h+2,a.children.length&&oS(a,e)}return e.didChange}const eP=new De,tP={_localBoundsCacheId:-1,_localBoundsCacheData:null,_setWidth(n,e){const t=Math.sign(this.scale.x)||1;e!==0?this.scale.x=n/e*t:this.scale.x=t},_setHeight(n,e){const t=Math.sign(this.scale.y)||1;e!==0?this.scale.y=n/e*t:this.scale.y=t},getLocalBounds(){this._localBoundsCacheData||(this._localBoundsCacheData={data:[],index:1,didChange:!1,localBounds:new Bn});const n=this._localBoundsCacheData;return n.index=1,n.didChange=!1,n.data[0]!==this._didViewChangeTick&&(n.didChange=!0,n.data[0]=this._didViewChangeTick),oS(this,n),n.didChange&&rS(this,n.localBounds,eP),n.localBounds},getBounds(n,e){return nS(this,n,e||new Bn)}},nP={_onRender:null,set onRender(n){const e=this.renderGroup||this.parentRenderGroup;if(!n){this._onRender&&e?.removeOnRender(this),this._onRender=null;return}this._onRender||e?.addOnRender(this),this._onRender=n},get onRender(){return this._onRender}},iP={_zIndex:0,sortDirty:!1,sortableChildren:!1,get zIndex(){return this._zIndex},set zIndex(n){this._zIndex!==n&&(this._zIndex=n,this.depthOfChildModified())},depthOfChildModified(){this.parent&&(this.parent.sortableChildren=!0,this.parent.sortDirty=!0),this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0)},sortChildren(){this.sortDirty&&(this.sortDirty=!1,this.children.sort(sP))}};function sP(n,e){return n._zIndex-e._zIndex}const rP={getGlobalPosition(n=new jt,e=!1){return this.parent?this.parent.toGlobal(this._position,n,e):(n.x=this._position.x,n.y=this._position.y),n},toGlobal(n,e,t=!1){const s=this.getGlobalTransform(Nt.get(),t);return e=s.apply(n,e),Nt.return(s),e},toLocal(n,e,t,s){e&&(n=e.toGlobal(n,t,s));const a=this.getGlobalTransform(Nt.get(),s);return t=a.applyInverse(n,t),Nt.return(a),t}};class lS{constructor(){this.uid=ct("instructionSet"),this.instructions=[],this.instructionSize=0,this.renderables=[],this.gcTick=0}reset(){this.instructionSize=0}add(e){this.instructions[this.instructionSize++]=e}log(){this.instructions.length=this.instructionSize,console.table(this.instructions,["type","action"])}}let aP=0;class oP{constructor(e){this._poolKeyHash=Object.create(null),this._texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1}createTexture(e,t,s){const a=new Wn({...this.textureOptions,width:e,height:t,resolution:1,antialias:s,autoGarbageCollect:!1});return new Pe({source:a,label:`texturePool_${aP++}`})}getOptimalTexture(e,t,s=1,a){let l=Math.ceil(e*s-1e-6),u=Math.ceil(t*s-1e-6);l=yc(l),u=yc(u);const h=(l<<17)+(u<<1)+(a?1:0);this._texturePool[h]||(this._texturePool[h]=[]);let f=this._texturePool[h].pop();return f||(f=this.createTexture(l,u,a)),f.source._resolution=s,f.source.width=l/s,f.source.height=u/s,f.source.pixelWidth=l,f.source.pixelHeight=u,f.frame.x=0,f.frame.y=0,f.frame.width=e,f.frame.height=t,f.updateUvs(),this._poolKeyHash[f.uid]=h,f}getSameSizeTexture(e,t=!1){const s=e.source;return this.getOptimalTexture(e.width,e.height,s._resolution,t)}returnTexture(e){const t=this._poolKeyHash[e.uid];this._texturePool[t].push(e)}clear(e){if(e=e!==!1,e)for(const t in this._texturePool){const s=this._texturePool[t];if(s)for(let a=0;a<s.length;a++)s[a].destroy(!0)}this._texturePool={}}}const lP=new oP;class uP{constructor(){this.renderPipeId="renderGroup",this.root=null,this.canBundle=!1,this.renderGroupParent=null,this.renderGroupChildren=[],this.worldTransform=new De,this.worldColorAlpha=4294967295,this.worldColor=16777215,this.worldAlpha=1,this.childrenToUpdate=Object.create(null),this.updateTick=0,this.gcTick=0,this.childrenRenderablesToUpdate={list:[],index:0},this.structureDidChange=!0,this.instructionSet=new lS,this._onRenderContainers=[],this.textureNeedsUpdate=!0,this.isCachedAsTexture=!1,this._matrixDirty=7}init(e){this.root=e,e._onRender&&this.addOnRender(e),e.didChange=!0;const t=e.children;for(let s=0;s<t.length;s++){const a=t[s];a._updateFlags=15,this.addChild(a)}}enableCacheAsTexture(e={}){this.textureOptions=e,this.isCachedAsTexture=!0,this.textureNeedsUpdate=!0}disableCacheAsTexture(){this.isCachedAsTexture=!1,this.texture&&(lP.returnTexture(this.texture),this.texture=null)}updateCacheTexture(){this.textureNeedsUpdate=!0}reset(){this.renderGroupChildren.length=0;for(const e in this.childrenToUpdate){const t=this.childrenToUpdate[e];t.list.fill(null),t.index=0}this.childrenRenderablesToUpdate.index=0,this.childrenRenderablesToUpdate.list.fill(null),this.root=null,this.updateTick=0,this.structureDidChange=!0,this._onRenderContainers.length=0,this.renderGroupParent=null,this.disableCacheAsTexture()}get localTransform(){return this.root.localTransform}addRenderGroupChild(e){e.renderGroupParent&&e.renderGroupParent._removeRenderGroupChild(e),e.renderGroupParent=this,this.renderGroupChildren.push(e)}_removeRenderGroupChild(e){const t=this.renderGroupChildren.indexOf(e);t>-1&&this.renderGroupChildren.splice(t,1),e.renderGroupParent=null}addChild(e){if(this.structureDidChange=!0,e.parentRenderGroup=this,e.updateTick=-1,e.parent===this.root?e.relativeRenderGroupDepth=1:e.relativeRenderGroupDepth=e.parent.relativeRenderGroupDepth+1,e.didChange=!0,this.onChildUpdate(e),e.renderGroup){this.addRenderGroupChild(e.renderGroup);return}e._onRender&&this.addOnRender(e);const t=e.children;for(let s=0;s<t.length;s++)this.addChild(t[s])}removeChild(e){if(this.structureDidChange=!0,e._onRender&&(e.renderGroup||this.removeOnRender(e)),e.parentRenderGroup=null,e.renderGroup){this._removeRenderGroupChild(e.renderGroup);return}const t=e.children;for(let s=0;s<t.length;s++)this.removeChild(t[s])}removeChildren(e){for(let t=0;t<e.length;t++)this.removeChild(e[t])}onChildUpdate(e){let t=this.childrenToUpdate[e.relativeRenderGroupDepth];t||(t=this.childrenToUpdate[e.relativeRenderGroupDepth]={index:0,list:[]}),t.list[t.index++]=e}updateRenderable(e){e.globalDisplayStatus<7||(this.instructionSet.renderPipes[e.renderPipeId].updateRenderable(e),e.didViewUpdate=!1)}onChildViewUpdate(e){this.childrenRenderablesToUpdate.list[this.childrenRenderablesToUpdate.index++]=e}get isRenderable(){return this.root.localDisplayStatus===7&&this.worldAlpha>0}addOnRender(e){this._onRenderContainers.push(e)}removeOnRender(e){this._onRenderContainers.splice(this._onRenderContainers.indexOf(e),1)}runOnRender(e){for(let t=0;t<this._onRenderContainers.length;t++)this._onRenderContainers[t]._onRender(e)}destroy(){this.disableCacheAsTexture(),this.renderGroupParent=null,this.root=null,this.childrenRenderablesToUpdate=null,this.childrenToUpdate=null,this.renderGroupChildren=null,this._onRenderContainers=null,this.instructionSet=null}getChildren(e=[]){const t=this.root.children;for(let s=0;s<t.length;s++)this._getChildren(t[s],e);return e}_getChildren(e,t=[]){if(t.push(e),e.renderGroup)return t;const s=e.children;for(let a=0;a<s.length;a++)this._getChildren(s[a],t);return t}invalidateMatrices(){this._matrixDirty=7}get inverseWorldTransform(){return(this._matrixDirty&1)===0?this._inverseWorldTransform:(this._matrixDirty&=-2,this._inverseWorldTransform||(this._inverseWorldTransform=new De),this._inverseWorldTransform.copyFrom(this.worldTransform).invert())}get textureOffsetInverseTransform(){return(this._matrixDirty&2)===0?this._textureOffsetInverseTransform:(this._matrixDirty&=-3,this._textureOffsetInverseTransform||(this._textureOffsetInverseTransform=new De),this._textureOffsetInverseTransform.copyFrom(this.inverseWorldTransform).translate(-this._textureBounds.x,-this._textureBounds.y))}get inverseParentTextureTransform(){if((this._matrixDirty&4)===0)return this._inverseParentTextureTransform;this._matrixDirty&=-5;const e=this._parentCacheAsTextureRenderGroup;return e?(this._inverseParentTextureTransform||(this._inverseParentTextureTransform=new De),this._inverseParentTextureTransform.copyFrom(this.worldTransform).prepend(e.inverseWorldTransform).translate(-e._textureBounds.x,-e._textureBounds.y)):this.worldTransform}get cacheToLocalTransform(){return this._parentCacheAsTextureRenderGroup?this._parentCacheAsTextureRenderGroup.textureOffsetInverseTransform:null}}function cP(n,e,t={}){for(const s in e)!t[s]&&e[s]!==void 0&&(n[s]=e[s])}const Cd=new an(null),kd=new an(null),Rd=new an(null,1,1),R_=1,hP=2,Od=4;class ol extends Qn{constructor(e={}){super(),this.uid=ct("renderable"),this._updateFlags=15,this.renderGroup=null,this.parentRenderGroup=null,this.parentRenderGroupIndex=0,this.didChange=!1,this.didViewUpdate=!1,this.relativeRenderGroupDepth=0,this.children=[],this.parent=null,this.includeInBuild=!0,this.measurable=!0,this.isSimple=!0,this.updateTick=-1,this.localTransform=new De,this.relativeGroupTransform=new De,this.groupTransform=this.relativeGroupTransform,this.destroyed=!1,this._position=new an(this,0,0),this._scale=Rd,this._pivot=kd,this._skew=Cd,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._rotation=0,this.localColor=16777215,this.localAlpha=1,this.groupAlpha=1,this.groupColor=16777215,this.groupColorAlpha=4294967295,this.localBlendMode="inherit",this.groupBlendMode="normal",this.localDisplayStatus=7,this.globalDisplayStatus=7,this._didContainerChangeTick=0,this._didViewChangeTick=0,this._didLocalTransformChangeId=-1,this.effects=[],cP(this,e,{children:!0,parent:!0,effects:!0}),e.children?.forEach(t=>this.addChild(t)),e.parent?.addChild(this)}static mixin(e){st("8.8.0","Container.mixin is deprecated, please use extensions.mixin instead."),Yt.mixin(ol,e)}set _didChangeId(e){this._didViewChangeTick=e>>12&4095,this._didContainerChangeTick=e&4095}get _didChangeId(){return this._didContainerChangeTick&4095|(this._didViewChangeTick&4095)<<12}addChild(...e){if(this.allowChildren||st(Ut,"addChild: Only Containers will be allowed to add children in v8.0.0"),e.length>1){for(let a=0;a<e.length;a++)this.addChild(e[a]);return e[0]}const t=e[0],s=this.renderGroup||this.parentRenderGroup;return t.parent===this?(this.children.splice(this.children.indexOf(t),1),this.children.push(t),s&&(s.structureDidChange=!0),t):(t.parent&&t.parent.removeChild(t),this.children.push(t),this.sortableChildren&&(this.sortDirty=!0),t.parent=this,t.didChange=!0,t._updateFlags=15,s&&s.addChild(t),this.emit("childAdded",t,this,this.children.length-1),t.emit("added",this),this._didViewChangeTick++,t._zIndex!==0&&t.depthOfChildModified(),t)}removeChild(...e){if(e.length>1){for(let a=0;a<e.length;a++)this.removeChild(e[a]);return e[0]}const t=e[0],s=this.children.indexOf(t);return s>-1&&(this._didViewChangeTick++,this.children.splice(s,1),this.renderGroup?this.renderGroup.removeChild(t):this.parentRenderGroup&&this.parentRenderGroup.removeChild(t),t.parentRenderLayer&&t.parentRenderLayer.detach(t),t.parent=null,this.emit("childRemoved",t,this,s),t.emit("removed",this)),t}_onUpdate(e){e&&e===this._skew&&this._updateSkew(),this._didContainerChangeTick++,!this.didChange&&(this.didChange=!0,this.parentRenderGroup&&this.parentRenderGroup.onChildUpdate(this))}set isRenderGroup(e){!!this.renderGroup!==e&&(e?this.enableRenderGroup():this.disableRenderGroup())}get isRenderGroup(){return!!this.renderGroup}enableRenderGroup(){if(this.renderGroup)return;const e=this.parentRenderGroup;e?.removeChild(this),this.renderGroup=xi.get(uP,this),this.groupTransform=De.IDENTITY,e?.addChild(this),this._updateIsSimple()}disableRenderGroup(){if(!this.renderGroup)return;const e=this.parentRenderGroup;e?.removeChild(this),xi.return(this.renderGroup),this.renderGroup=null,this.groupTransform=this.relativeGroupTransform,e?.addChild(this),this._updateIsSimple()}_updateIsSimple(){this.isSimple=!this.renderGroup&&this.effects.length===0}get worldTransform(){return this._worldTransform||(this._worldTransform=new De),this.renderGroup?this._worldTransform.copyFrom(this.renderGroup.worldTransform):this.parentRenderGroup&&this._worldTransform.appendFrom(this.relativeGroupTransform,this.parentRenderGroup.worldTransform),this._worldTransform}get x(){return this._position.x}set x(e){this._position.x=e}get y(){return this._position.y}set y(e){this._position.y=e}get position(){return this._position}set position(e){this._position.copyFrom(e)}get rotation(){return this._rotation}set rotation(e){this._rotation!==e&&(this._rotation=e,this._onUpdate(this._skew))}get angle(){return this.rotation*SO}set angle(e){this.rotation=e*AO}get pivot(){return this._pivot===kd&&(this._pivot=new an(this,0,0)),this._pivot}set pivot(e){this._pivot===kd&&(this._pivot=new an(this,0,0)),typeof e=="number"?this._pivot.set(e):this._pivot.copyFrom(e)}get skew(){return this._skew===Cd&&(this._skew=new an(this,0,0)),this._skew}set skew(e){this._skew===Cd&&(this._skew=new an(this,0,0)),this._skew.copyFrom(e)}get scale(){return this._scale===Rd&&(this._scale=new an(this,1,1)),this._scale}set scale(e){this._scale===Rd&&(this._scale=new an(this,0,0)),typeof e=="number"?this._scale.set(e):this._scale.copyFrom(e)}get width(){return Math.abs(this.scale.x*this.getLocalBounds().width)}set width(e){const t=this.getLocalBounds().width;this._setWidth(e,t)}get height(){return Math.abs(this.scale.y*this.getLocalBounds().height)}set height(e){const t=this.getLocalBounds().height;this._setHeight(e,t)}getSize(e){e||(e={});const t=this.getLocalBounds();return e.width=Math.abs(this.scale.x*t.width),e.height=Math.abs(this.scale.y*t.height),e}setSize(e,t){const s=this.getLocalBounds();typeof e=="object"?(t=e.height??e.width,e=e.width):t??(t=e),e!==void 0&&this._setWidth(e,s.width),t!==void 0&&this._setHeight(t,s.height)}_updateSkew(){const e=this._rotation,t=this._skew;this._cx=Math.cos(e+t._y),this._sx=Math.sin(e+t._y),this._cy=-Math.sin(e-t._x),this._sy=Math.cos(e-t._x)}updateTransform(e){return this.position.set(typeof e.x=="number"?e.x:this.position.x,typeof e.y=="number"?e.y:this.position.y),this.scale.set(typeof e.scaleX=="number"?e.scaleX||1:this.scale.x,typeof e.scaleY=="number"?e.scaleY||1:this.scale.y),this.rotation=typeof e.rotation=="number"?e.rotation:this.rotation,this.skew.set(typeof e.skewX=="number"?e.skewX:this.skew.x,typeof e.skewY=="number"?e.skewY:this.skew.y),this.pivot.set(typeof e.pivotX=="number"?e.pivotX:this.pivot.x,typeof e.pivotY=="number"?e.pivotY:this.pivot.y),this}setFromMatrix(e){e.decompose(this)}updateLocalTransform(){const e=this._didContainerChangeTick;if(this._didLocalTransformChangeId===e)return;this._didLocalTransformChangeId=e;const t=this.localTransform,s=this._scale,a=this._pivot,l=this._position,u=s._x,h=s._y,f=a._x,p=a._y;t.a=this._cx*u,t.b=this._sx*u,t.c=this._cy*h,t.d=this._sy*h,t.tx=l._x-(f*t.a+p*t.c),t.ty=l._y-(f*t.b+p*t.d)}set alpha(e){e!==this.localAlpha&&(this.localAlpha=e,this._updateFlags|=R_,this._onUpdate())}get alpha(){return this.localAlpha}set tint(e){const s=kt.shared.setValue(e??16777215).toBgrNumber();s!==this.localColor&&(this.localColor=s,this._updateFlags|=R_,this._onUpdate())}get tint(){return Ju(this.localColor)}set blendMode(e){this.localBlendMode!==e&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=hP,this.localBlendMode=e,this._onUpdate())}get blendMode(){return this.localBlendMode}get visible(){return!!(this.localDisplayStatus&2)}set visible(e){const t=e?2:0;(this.localDisplayStatus&2)!==t&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=Od,this.localDisplayStatus^=2,this._onUpdate())}get culled(){return!(this.localDisplayStatus&4)}set culled(e){const t=e?0:4;(this.localDisplayStatus&4)!==t&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=Od,this.localDisplayStatus^=4,this._onUpdate())}get renderable(){return!!(this.localDisplayStatus&1)}set renderable(e){const t=e?1:0;(this.localDisplayStatus&1)!==t&&(this._updateFlags|=Od,this.localDisplayStatus^=1,this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._onUpdate())}get isRenderable(){return this.localDisplayStatus===7&&this.groupAlpha>0}destroy(e=!1){if(this.destroyed)return;this.destroyed=!0;let t;if(this.children.length&&(t=this.removeChildren(0,this.children.length)),this.removeFromParent(),this.parent=null,this._maskEffect=null,this._filterEffect=null,this.effects=null,this._position=null,this._scale=null,this._pivot=null,this._skew=null,this.emit("destroyed",this),this.removeAllListeners(),(typeof e=="boolean"?e:e?.children)&&t)for(let a=0;a<t.length;++a)t[a].destroy(e);this.renderGroup?.destroy(),this.renderGroup=null}}Yt.mixin(ol,VO,ZO,rP,nP,tP,QO,WO,iP,GO,$O,JO,YO);class fP extends ol{constructor(e){super(e),this.canBundle=!0,this.allowChildren=!1,this._roundPixels=0,this._lastUsed=-1,this._bounds=new Bn(0,1,0,0),this._boundsDirty=!0}get bounds(){return this._boundsDirty?(this.updateBounds(),this._boundsDirty=!1,this._bounds):this._bounds}get roundPixels(){return!!this._roundPixels}set roundPixels(e){this._roundPixels=e?1:0}containsPoint(e){const t=this.bounds,{x:s,y:a}=e;return s>=t.minX&&s<=t.maxX&&a>=t.minY&&a<=t.maxY}onViewUpdate(){if(this._didViewChangeTick++,this._boundsDirty=!0,this.didViewUpdate)return;this.didViewUpdate=!0;const e=this.renderGroup||this.parentRenderGroup;e&&e.onChildViewUpdate(this)}destroy(e){super.destroy(e),this._bounds=null}collectRenderablesSimple(e,t,s){const{renderPipes:a,renderableGC:l}=t;a.blendMode.setBlendMode(this,this.groupBlendMode,e),a[this.renderPipeId].addRenderable(this,e),l.addRenderable(this),this.didViewUpdate=!1;const h=this.children,f=h.length;for(let p=0;p<f;p++)h[p].collectRenderables(e,t,s)}}class Wo extends fP{constructor(e=Pe.EMPTY){e instanceof Pe&&(e={texture:e});const{texture:t=Pe.EMPTY,anchor:s,roundPixels:a,width:l,height:u,...h}=e;super({label:"Sprite",...h}),this.renderPipeId="sprite",this.batched=!0,this._visualBounds={minX:0,maxX:1,minY:0,maxY:0},this._anchor=new an({_onUpdate:()=>{this.onViewUpdate()}}),s?this.anchor=s:t.defaultAnchor&&(this.anchor=t.defaultAnchor),this.texture=t,this.allowChildren=!1,this.roundPixels=a??!1,l!==void 0&&(this.width=l),u!==void 0&&(this.height=u)}static from(e,t=!1){return e instanceof Pe?new Wo(e):new Wo(Pe.from(e,t))}set texture(e){e||(e=Pe.EMPTY);const t=this._texture;t!==e&&(t&&t.dynamic&&t.off("update",this.onViewUpdate,this),e.dynamic&&e.on("update",this.onViewUpdate,this),this._texture=e,this._width&&this._setWidth(this._width,this._texture.orig.width),this._height&&this._setHeight(this._height,this._texture.orig.height),this.onViewUpdate())}get texture(){return this._texture}get visualBounds(){return PO(this._visualBounds,this._anchor,this._texture),this._visualBounds}get sourceBounds(){return st("8.6.1","Sprite.sourceBounds is deprecated, use visualBounds instead."),this.visualBounds}updateBounds(){const e=this._anchor,t=this._texture,s=this._bounds,{width:a,height:l}=t.orig;s.minX=-e._x*a,s.maxX=s.minX+a,s.minY=-e._y*l,s.maxY=s.minY+l}destroy(e=!1){if(super.destroy(e),typeof e=="boolean"?e:e?.texture){const s=typeof e=="boolean"?e:e?.textureSource;this._texture.destroy(s)}this._texture=null,this._visualBounds=null,this._bounds=null,this._anchor=null}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this._setWidth(e,this._texture.orig.width),this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this._setHeight(e,this._texture.orig.height),this._height=e}getSize(e){return e||(e={}),e.width=Math.abs(this.scale.x)*this._texture.orig.width,e.height=Math.abs(this.scale.y)*this._texture.orig.height,e}setSize(e,t){typeof e=="object"?(t=e.height??e.width,e=e.width):t??(t=e),e!==void 0&&this._setWidth(e,this._texture.orig.width),t!==void 0&&this._setHeight(t,this._texture.orig.height)}}const dP=new Bn;function uS(n,e,t){const s=dP;n.measurable=!0,nS(n,t,s),e.addBoundsMask(s),n.measurable=!1}function cS(n,e,t){const s=Si.get();n.measurable=!0;const a=Nt.get().identity(),l=hS(n,t,a);rS(n,s,l),n.measurable=!1,e.addBoundsMask(s),Nt.return(a),Si.return(s)}function hS(n,e,t){return n?(n!==e&&(hS(n.parent,e,t),n.updateLocalTransform(),t.append(n.localTransform)),t):(Qe("Mask bounds, renderable is not inside the root container"),t)}class fS{constructor(e){this.priority=0,this.inverse=!1,this.pipe="alphaMask",e?.mask&&this.init(e.mask)}init(e){this.mask=e,this.renderMaskToTexture=!(e instanceof Wo),this.mask.renderable=this.renderMaskToTexture,this.mask.includeInBuild=!this.renderMaskToTexture,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask=null}addBounds(e,t){this.inverse||uS(this.mask,e,t)}addLocalBounds(e,t){cS(this.mask,e,t)}containsPoint(e,t){const s=this.mask;return t(s,e)}destroy(){this.reset()}static test(e){return e instanceof Wo}}fS.extension=ve.MaskEffect;class dS{constructor(e){this.priority=0,this.pipe="colorMask",e?.mask&&this.init(e.mask)}init(e){this.mask=e}destroy(){}static test(e){return typeof e=="number"}}dS.extension=ve.MaskEffect;class pS{constructor(e){this.priority=0,this.pipe="stencilMask",e?.mask&&this.init(e.mask)}init(e){this.mask=e,this.mask.includeInBuild=!1,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask.includeInBuild=!0,this.mask=null}addBounds(e,t){uS(this.mask,e,t)}addLocalBounds(e,t){cS(this.mask,e,t)}containsPoint(e,t){const s=this.mask;return t(s,e)}destroy(){this.reset()}static test(e){return e instanceof ol}}pS.extension=ve.MaskEffect;const pP={createCanvas:(n,e)=>{const t=document.createElement("canvas");return t.width=n,t.height=e,t},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(n,e)=>fetch(n,e),parseXML:n=>new DOMParser().parseFromString(n,"text/xml")};let O_=pP;const dt={get(){return O_},set(n){O_=n}};class gS extends Wn{constructor(e){e.resource||(e.resource=dt.get().createCanvas()),e.width||(e.width=e.resource.width,e.autoDensity||(e.width/=e.resolution)),e.height||(e.height=e.resource.height,e.autoDensity||(e.height/=e.resolution)),super(e),this.uploadMethodId="image",this.autoDensity=e.autoDensity,this.resizeCanvas(),this.transparent=!!e.transparent}resizeCanvas(){this.autoDensity&&(this.resource.style.width=`${this.width}px`,this.resource.style.height=`${this.height}px`),(this.resource.width!==this.pixelWidth||this.resource.height!==this.pixelHeight)&&(this.resource.width=this.pixelWidth,this.resource.height=this.pixelHeight)}resize(e=this.width,t=this.height,s=this._resolution){const a=super.resize(e,t,s);return a&&this.resizeCanvas(),a}static test(e){return globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement||globalThis.OffscreenCanvas&&e instanceof OffscreenCanvas}get context2D(){return this._context2D||(this._context2D=this.resource.getContext("2d"))}}gS.extension=ve.TextureSource;class $s extends Wn{constructor(e){if(e.resource&&globalThis.HTMLImageElement&&e.resource instanceof HTMLImageElement){const t=dt.get().createCanvas(e.resource.width,e.resource.height);t.getContext("2d").drawImage(e.resource,0,0,e.resource.width,e.resource.height),e.resource=t,Qe("ImageSource: Image element passed, converting to canvas. Use CanvasSource instead.")}super(e),this.uploadMethodId="image",this.autoGarbageCollect=!0}static test(e){return globalThis.HTMLImageElement&&e instanceof HTMLImageElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap||globalThis.VideoFrame&&e instanceof VideoFrame}}$s.extension=ve.TextureSource;var Rp=(n=>(n[n.INTERACTION=50]="INTERACTION",n[n.HIGH=25]="HIGH",n[n.NORMAL=0]="NORMAL",n[n.LOW=-25]="LOW",n[n.UTILITY=-50]="UTILITY",n))(Rp||{});class Pd{constructor(e,t=null,s=0,a=!1){this.next=null,this.previous=null,this._destroyed=!1,this._fn=e,this._context=t,this.priority=s,this._once=a}match(e,t=null){return this._fn===e&&this._context===t}emit(e){this._fn&&(this._context?this._fn.call(this._context,e):this._fn(e));const t=this.next;return this._once&&this.destroy(!0),this._destroyed&&(this.next=null),t}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this._fn=null,this._context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const t=this.next;return this.next=e?null:t,this.previous=null,t}}const yS=class sn{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new Pd(null,null,1/0),this.deltaMS=1/sn.targetFPMS,this.elapsedMS=1/sn.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,t,s=Rp.NORMAL){return this._addListener(new Pd(e,t,s))}addOnce(e,t,s=Rp.NORMAL){return this._addListener(new Pd(e,t,s,!0))}_addListener(e){let t=this._head.next,s=this._head;if(!t)e.connect(s);else{for(;t;){if(e.priority>t.priority){e.connect(s);break}s=t,t=t.next}e.previous||e.connect(s)}return this._startIfPossible(),this}remove(e,t){let s=this._head.next;for(;s;)s.match(e,t)?s=s.destroy():s=s.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,t=this._head;for(;t=t.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let t;if(e>this.lastTime){if(t=this.elapsedMS=e-this.lastTime,t>this._maxElapsedMS&&(t=this._maxElapsedMS),t*=this.speed,this._minElapsedMS){const l=e-this._lastFrame|0;if(l<this._minElapsedMS)return;this._lastFrame=e-l%this._minElapsedMS}this.deltaMS=t,this.deltaTime=this.deltaMS*sn.targetFPMS;const s=this._head;let a=s.next;for(;a;)a=a.emit(this);s.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const t=Math.min(this.maxFPS,e),s=Math.min(Math.max(0,t)/1e3,sn.targetFPMS);this._maxElapsedMS=1/s}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const t=Math.max(this.minFPS,e);this._minElapsedMS=1/(t/1e3)}}static get shared(){if(!sn._shared){const e=sn._shared=new sn;e.autoStart=!0,e._protected=!0}return sn._shared}static get system(){if(!sn._system){const e=sn._system=new sn;e.autoStart=!0,e._protected=!0}return sn._system}};yS.targetFPMS=.06;let Gu=yS,Dd;async function mS(){return Dd??(Dd=(async()=>{const e=document.createElement("canvas").getContext("webgl");if(!e)return"premultiply-alpha-on-upload";const t=await new Promise(u=>{const h=document.createElement("video");h.onloadeddata=()=>u(h),h.onerror=()=>u(null),h.autoplay=!1,h.crossOrigin="anonymous",h.preload="auto",h.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",h.load()});if(!t)return"premultiply-alpha-on-upload";const s=e.createTexture();e.bindTexture(e.TEXTURE_2D,s);const a=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,a),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,s,0),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,e.NONE),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t);const l=new Uint8Array(4);return e.readPixels(0,0,1,1,e.RGBA,e.UNSIGNED_BYTE,l),e.deleteFramebuffer(a),e.deleteTexture(s),e.getExtension("WEBGL_lose_context")?.loseContext(),l[0]<=l[3]?"premultiplied-alpha":"premultiply-alpha-on-upload"})()),Dd}const kc=class bS extends Wn{constructor(e){super(e),this.isReady=!1,this.uploadMethodId="video",e={...bS.defaultOptions,...e},this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=e.autoPlay!==!1,this.alphaMode=e.alphaMode??"premultiply-alpha-on-upload",this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onCanPlayThrough=this._onCanPlayThrough.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),e.autoLoad!==!1&&this.load()}updateFrame(){if(!this.destroyed){if(this._updateFPS){const e=Gu.shared.elapsedMS*this.resource.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e)}(!this._updateFPS||this._msToNextUpdate<=0)&&(this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0),this.isValid&&this.update()}}_videoFrameRequestCallback(){this.updateFrame(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback)}get isValid(){return!!this.resource.videoWidth&&!!this.resource.videoHeight}async load(){if(this._load)return this._load;const e=this.resource,t=this.options;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._mediaReady():(t.preload||e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlayThrough),e.addEventListener("error",this._onError,!0)),this.alphaMode=await mS(),this._load=new Promise((s,a)=>{this.isValid?s(this):(this._resolve=s,this._reject=a,t.preloadTimeoutMs!==void 0&&(this._preloadTimeout=setTimeout(()=>{this._onError(new ErrorEvent(`Preload exceeded timeout of ${t.preloadTimeoutMs}ms`))})),e.load())}),this._load}_onError(e){this.resource.removeEventListener("error",this._onError,!0),this.emit("error",e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.resource;return!e.paused&&!e.ended}_isSourceReady(){return this.resource.readyState>2}_onPlayStart(){this.isValid||this._mediaReady(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0)}_onCanPlay(){this.resource.removeEventListener("canplay",this._onCanPlay),this._mediaReady()}_onCanPlayThrough(){this.resource.removeEventListener("canplaythrough",this._onCanPlay),this._preloadTimeout&&(clearTimeout(this._preloadTimeout),this._preloadTimeout=void 0),this._mediaReady()}_mediaReady(){const e=this.resource;this.isValid&&(this.isReady=!0,this.resize(e.videoWidth,e.videoHeight)),this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0,this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.resource.play()}destroy(){this._configureAutoUpdate();const e=this.resource;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlayThrough),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.destroy()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.resource.requestVideoFrameCallback?(this._isConnectedToTicker&&(Gu.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(Gu.shared.add(this.updateFrame,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(Gu.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement}};kc.extension=ve.TextureSource;kc.defaultOptions={...Wn.defaultOptions,autoLoad:!0,autoPlay:!0,updateFPS:0,crossorigin:!0,loop:!1,muted:!0,playsinline:!0,preload:!1};kc.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let ec=kc;const Pn=(n,e,t=!1)=>(Array.isArray(n)||(n=[n]),e?n.map(s=>typeof s=="string"||t?e(s):s):n);class gP{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const t=this._cache.get(e);return t||Qe(`[Assets] Asset id ${e} was not found in the Cache`),t}set(e,t){const s=Pn(e);let a;for(let f=0;f<this.parsers.length;f++){const p=this.parsers[f];if(p.test(t)){a=p.getCacheableAssets(s,t);break}}const l=new Map(Object.entries(a||{}));a||s.forEach(f=>{l.set(f,t)});const u=[...l.keys()],h={cacheKeys:u,keys:s};s.forEach(f=>{this._cacheMap.set(f,h)}),u.forEach(f=>{const p=a?a[f]:t;this._cache.has(f)&&this._cache.get(f)!==p&&Qe("[Cache] already has key:",f),this._cache.set(f,l.get(f))})}remove(e){if(!this._cacheMap.has(e)){Qe(`[Assets] Asset id ${e} was not found in the Cache`);return}const t=this._cacheMap.get(e);t.cacheKeys.forEach(a=>{this._cache.delete(a)}),t.keys.forEach(a=>{this._cacheMap.delete(a)})}get parsers(){return this._parsers}}const tt=new gP,Op=[];Yt.handleByList(ve.TextureSource,Op);function vS(n={}){const e=n&&n.resource,t=e?n.resource:n,s=e?n:{resource:n};for(let a=0;a<Op.length;a++){const l=Op[a];if(l.test(t))return new l(s)}throw new Error(`Could not find a source type for resource: ${s.resource}`)}function yP(n={},e=!1){const t=n&&n.resource,s=t?n.resource:n,a=t?n:{resource:n};if(!e&&tt.has(s))return tt.get(s);const l=new Pe({source:vS(a)});return l.on("destroy",()=>{tt.has(s)&&tt.remove(s)}),e||tt.set(s,l),l}function mP(n,e=!1){return typeof n=="string"?tt.get(n):n instanceof Wn?new Pe({source:n}):yP(n,e)}Pe.from=mP;Wn.from=vS;Yt.add(fS,dS,pS,ec,$s,gS,Mg);var is=(n=>(n[n.Low=0]="Low",n[n.Normal=1]="Normal",n[n.High=2]="High",n))(is||{});function Cn(n){if(typeof n!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(n)}`)}function mo(n){return n.split("?")[0].split("#")[0]}function bP(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function vP(n,e,t){return n.replace(new RegExp(bP(e),"g"),t)}function _P(n,e){let t="",s=0,a=-1,l=0,u=-1;for(let h=0;h<=n.length;++h){if(h<n.length)u=n.charCodeAt(h);else{if(u===47)break;u=47}if(u===47){if(!(a===h-1||l===1))if(a!==h-1&&l===2){if(t.length<2||s!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){const f=t.lastIndexOf("/");if(f!==t.length-1){f===-1?(t="",s=0):(t=t.slice(0,f),s=t.length-1-t.lastIndexOf("/")),a=h,l=0;continue}}else if(t.length===2||t.length===1){t="",s=0,a=h,l=0;continue}}}else t.length>0?t+=`/${n.slice(a+1,h)}`:t=n.slice(a+1,h),s=h-a-1;a=h,l=0}else u===46&&l!==-1?++l:l=-1}return t}const on={toPosix(n){return vP(n,"\\","/")},isUrl(n){return/^https?:/.test(this.toPosix(n))},isDataUrl(n){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(n)},isBlobUrl(n){return n.startsWith("blob:")},hasProtocol(n){return/^[^/:]+:/.test(this.toPosix(n))},getProtocol(n){Cn(n),n=this.toPosix(n);const e=/^file:\/\/\//.exec(n);if(e)return e[0];const t=/^[^/:]+:\/{0,2}/.exec(n);return t?t[0]:""},toAbsolute(n,e,t){if(Cn(n),this.isDataUrl(n)||this.isBlobUrl(n))return n;const s=mo(this.toPosix(e??dt.get().getBaseUrl())),a=mo(this.toPosix(t??this.rootname(s)));return n=this.toPosix(n),n.startsWith("/")?on.join(a,n.slice(1)):this.isAbsolute(n)?n:this.join(s,n)},normalize(n){if(Cn(n),n.length===0)return".";if(this.isDataUrl(n)||this.isBlobUrl(n))return n;n=this.toPosix(n);let e="";const t=n.startsWith("/");this.hasProtocol(n)&&(e=this.rootname(n),n=n.slice(e.length));const s=n.endsWith("/");return n=_P(n),n.length>0&&s&&(n+="/"),t?`/${n}`:e+n},isAbsolute(n){return Cn(n),n=this.toPosix(n),this.hasProtocol(n)?!0:n.startsWith("/")},join(...n){if(n.length===0)return".";let e;for(let t=0;t<n.length;++t){const s=n[t];if(Cn(s),s.length>0)if(e===void 0)e=s;else{const a=n[t-1]??"";this.joinExtensions.includes(this.extname(a).toLowerCase())?e+=`/../${s}`:e+=`/${s}`}}return e===void 0?".":this.normalize(e)},dirname(n){if(Cn(n),n.length===0)return".";n=this.toPosix(n);let e=n.charCodeAt(0);const t=e===47;let s=-1,a=!0;const l=this.getProtocol(n),u=n;n=n.slice(l.length);for(let h=n.length-1;h>=1;--h)if(e=n.charCodeAt(h),e===47){if(!a){s=h;break}}else a=!1;return s===-1?t?"/":this.isUrl(u)?l+n:l:t&&s===1?"//":l+n.slice(0,s)},rootname(n){Cn(n),n=this.toPosix(n);let e="";if(n.startsWith("/")?e="/":e=this.getProtocol(n),this.isUrl(n)){const t=n.indexOf("/",e.length);t!==-1?e=n.slice(0,t):e=n,e.endsWith("/")||(e+="/")}return e},basename(n,e){Cn(n),e&&Cn(e),n=mo(this.toPosix(n));let t=0,s=-1,a=!0,l;if(e!==void 0&&e.length>0&&e.length<=n.length){if(e.length===n.length&&e===n)return"";let u=e.length-1,h=-1;for(l=n.length-1;l>=0;--l){const f=n.charCodeAt(l);if(f===47){if(!a){t=l+1;break}}else h===-1&&(a=!1,h=l+1),u>=0&&(f===e.charCodeAt(u)?--u===-1&&(s=l):(u=-1,s=h))}return t===s?s=h:s===-1&&(s=n.length),n.slice(t,s)}for(l=n.length-1;l>=0;--l)if(n.charCodeAt(l)===47){if(!a){t=l+1;break}}else s===-1&&(a=!1,s=l+1);return s===-1?"":n.slice(t,s)},extname(n){Cn(n),n=mo(this.toPosix(n));let e=-1,t=0,s=-1,a=!0,l=0;for(let u=n.length-1;u>=0;--u){const h=n.charCodeAt(u);if(h===47){if(!a){t=u+1;break}continue}s===-1&&(a=!1,s=u+1),h===46?e===-1?e=u:l!==1&&(l=1):e!==-1&&(l=-1)}return e===-1||s===-1||l===0||l===1&&e===s-1&&e===t+1?"":n.slice(e,s)},parse(n){Cn(n);const e={root:"",dir:"",base:"",ext:"",name:""};if(n.length===0)return e;n=mo(this.toPosix(n));let t=n.charCodeAt(0);const s=this.isAbsolute(n);let a;e.root=this.rootname(n),s||this.hasProtocol(n)?a=1:a=0;let l=-1,u=0,h=-1,f=!0,p=n.length-1,g=0;for(;p>=a;--p){if(t=n.charCodeAt(p),t===47){if(!f){u=p+1;break}continue}h===-1&&(f=!1,h=p+1),t===46?l===-1?l=p:g!==1&&(g=1):l!==-1&&(g=-1)}return l===-1||h===-1||g===0||g===1&&l===h-1&&l===u+1?h!==-1&&(u===0&&s?e.base=e.name=n.slice(1,h):e.base=e.name=n.slice(u,h)):(u===0&&s?(e.name=n.slice(1,l),e.base=n.slice(1,h)):(e.name=n.slice(u,l),e.base=n.slice(u,h)),e.ext=n.slice(l,h)),e.dir=this.dirname(n),e},sep:"/",delimiter:":",joinExtensions:[".html"]};function _S(n,e,t,s,a){const l=e[t];for(let u=0;u<l.length;u++){const h=l[u];t<e.length-1?_S(n.replace(s[t],h),e,t+1,s,a):a.push(n.replace(s[t],h))}}function wP(n){const e=/\{(.*?)\}/g,t=n.match(e),s=[];if(t){const a=[];t.forEach(l=>{const u=l.substring(1,l.length-1).split(",");a.push(u)}),_S(n,a,0,t,s)}else s.push(n);return s}const mc=n=>!Array.isArray(n);class aa{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,t)=>`${e}${this._bundleIdConnector}${t}`,extractAssetIdFromBundle:(e,t)=>t.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(t=>{this._preferredOrder.push(t),t.priority||(t.priority=Object.keys(t.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const t=e;this._defaultSearchParams=Object.keys(t).map(s=>`${encodeURIComponent(s)}=${encodeURIComponent(t[s])}`).join("&")}}getAlias(e){const{alias:t,src:s}=e;return Pn(t||s,l=>typeof l=="string"?l:Array.isArray(l)?l.map(u=>u?.src??u):l?.src?l.src:l,!0)}addManifest(e){this._manifest&&Qe("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(t=>{this.addBundle(t.name,t.assets)})}addBundle(e,t){const s=[];let a=t;Array.isArray(t)||(a=Object.entries(t).map(([l,u])=>typeof u=="string"||Array.isArray(u)?{alias:l,src:u}:{alias:l,...u})),a.forEach(l=>{const u=l.src,h=l.alias;let f;if(typeof h=="string"){const p=this._createBundleAssetId(e,h);s.push(p),f=[h,p]}else{const p=h.map(g=>this._createBundleAssetId(e,g));s.push(...p),f=[...h,...p]}this.add({...l,alias:f,src:u})}),this._bundles[e]=s}add(e){const t=[];Array.isArray(e)?t.push(...e):t.push(e);let s;s=l=>{this.hasKey(l)&&Qe(`[Resolver] already has key: ${l} overwriting`)},Pn(t).forEach(l=>{const{src:u}=l;let{data:h,format:f,loadParser:p}=l;const g=Pn(u).map(v=>typeof v=="string"?wP(v):Array.isArray(v)?v:[v]),m=this.getAlias(l);Array.isArray(m)?m.forEach(s):s(m);const b=[];g.forEach(v=>{v.forEach(x=>{let S={};if(typeof x!="object"){S.src=x;for(let _=0;_<this._parsers.length;_++){const E=this._parsers[_];if(E.test(x)){S=E.parse(x);break}}}else h=x.data??h,f=x.format??f,p=x.loadParser??p,S={...S,...x};if(!m)throw new Error(`[Resolver] alias is undefined for this asset: ${S.src}`);S=this._buildResolvedAsset(S,{aliases:m,data:h,format:f,loadParser:p}),b.push(S)})}),m.forEach(v=>{this._assetMap[v]=b})})}resolveBundle(e){const t=mc(e);e=Pn(e);const s={};return e.forEach(a=>{const l=this._bundles[a];if(l){const u=this.resolve(l),h={};for(const f in u){const p=u[f];h[this._extractAssetIdFromBundle(a,f)]=p}s[a]=h}}),t?s[e[0]]:s}resolveUrl(e){const t=this.resolve(e);if(typeof e!="string"){const s={};for(const a in t)s[a]=t[a].src;return s}return t.src}resolve(e){const t=mc(e);e=Pn(e);const s={};return e.forEach(a=>{if(!this._resolverHash[a])if(this._assetMap[a]){let l=this._assetMap[a];const u=this._getPreferredOrder(l);u?.priority.forEach(h=>{u.params[h].forEach(f=>{const p=l.filter(g=>g[h]?g[h]===f:!1);p.length&&(l=p)})}),this._resolverHash[a]=l[0]}else this._resolverHash[a]=this._buildResolvedAsset({alias:[a],src:a},{});s[a]=this._resolverHash[a]}),t?s[e[0]]:s}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let t=0;t<e.length;t++){const s=e[t],a=this._preferredOrder.find(l=>l.params.format.includes(s.format));if(a)return a}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const t=/\?/.test(e)?"&":"?";return`${e}${t}${this._defaultSearchParams}`}_buildResolvedAsset(e,t){const{aliases:s,data:a,loadParser:l,format:u}=t;return(this._basePath||this._rootPath)&&(e.src=on.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=s??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...a||{},...e.data},e.loadParser=l??e.loadParser,e.format=u??e.format??xP(e.src),e}}aa.RETINA_PREFIX=/@([0-9\.]+)x/;function xP(n){return n.split(".").pop().split("?").shift().split("#").shift()}const Pp=(n,e)=>{const t=e.split("?")[1];return t&&(n+=`?${t}`),n},wS=class Eo{constructor(e,t){this.linkedSheets=[],this._texture=e instanceof Pe?e:null,this.textureSource=e.source,this.textures={},this.animations={},this.data=t;const s=parseFloat(t.meta.scale);s?(this.resolution=s,e.source.resolution=this.resolution):this.resolution=e.source._resolution,this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}parse(){return new Promise(e=>{this._callback=e,this._batchIndex=0,this._frameKeys.length<=Eo.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(e){let t=e;const s=Eo.BATCH_SIZE;for(;t-e<s&&t<this._frameKeys.length;){const a=this._frameKeys[t],l=this._frames[a],u=l.frame;if(u){let h=null,f=null;const p=l.trimmed!==!1&&l.sourceSize?l.sourceSize:l.frame,g=new ut(0,0,Math.floor(p.w)/this.resolution,Math.floor(p.h)/this.resolution);l.rotated?h=new ut(Math.floor(u.x)/this.resolution,Math.floor(u.y)/this.resolution,Math.floor(u.h)/this.resolution,Math.floor(u.w)/this.resolution):h=new ut(Math.floor(u.x)/this.resolution,Math.floor(u.y)/this.resolution,Math.floor(u.w)/this.resolution,Math.floor(u.h)/this.resolution),l.trimmed!==!1&&l.spriteSourceSize&&(f=new ut(Math.floor(l.spriteSourceSize.x)/this.resolution,Math.floor(l.spriteSourceSize.y)/this.resolution,Math.floor(u.w)/this.resolution,Math.floor(u.h)/this.resolution)),this.textures[a]=new Pe({source:this.textureSource,frame:h,orig:g,trim:f,rotate:l.rotated?2:0,defaultAnchor:l.anchor,defaultBorders:l.borders,label:a.toString()})}t++}}_processAnimations(){const e=this.data.animations||{};for(const t in e){this.animations[t]=[];for(let s=0;s<e[t].length;s++){const a=e[t][s];this.animations[t].push(this.textures[a])}}}_parseComplete(){const e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Eo.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*Eo.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(e=!1){for(const t in this.textures)this.textures[t].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&(this._texture?.destroy(),this.textureSource.destroy()),this._texture=null,this.textureSource=null,this.linkedSheets=[]}};wS.BATCH_SIZE=1e3;let Dp=wS;const SP=["jpg","png","jpeg","avif","webp","basis","etc2","bc7","bc6h","bc5","bc4","bc3","bc2","bc1","eac","astc"];function xS(n,e,t){const s={};if(n.forEach(a=>{s[a]=e}),Object.keys(e.textures).forEach(a=>{s[a]=e.textures[a]}),!t){const a=on.dirname(n[0]);e.linkedSheets.forEach((l,u)=>{const h=xS([`${a}/${e.data.meta.related_multi_packs[u]}`],l,!0);Object.assign(s,h)})}return s}const AP={extension:ve.Asset,cache:{test:n=>n instanceof Dp,getCacheableAssets:(n,e)=>xS(n,e,!1)},resolver:{extension:{type:ve.ResolveParser,name:"resolveSpritesheet"},test:n=>{const t=n.split("?")[0].split("."),s=t.pop(),a=t.pop();return s==="json"&&SP.includes(a)},parse:n=>{const e=n.split(".");return{resolution:parseFloat(aa.RETINA_PREFIX.exec(n)?.[1]??"1"),format:e[e.length-2],src:n}}},loader:{name:"spritesheetLoader",extension:{type:ve.LoadParser,priority:is.Normal,name:"spritesheetLoader"},async testParse(n,e){return on.extname(e.src).toLowerCase()===".json"&&!!n.frames},async parse(n,e,t){const{texture:s,imageFilename:a,textureOptions:l}=e?.data??{};let u=on.dirname(e.src);u&&u.lastIndexOf("/")!==u.length-1&&(u+="/");let h;if(s instanceof Pe)h=s;else{const g=Pp(u+(a??n.meta.image),e.src);h=(await t.load([{src:g,data:l}]))[g]}const f=new Dp(h.source,n);await f.parse();const p=n?.meta?.related_multi_packs;if(Array.isArray(p)){const g=[];for(const b of p){if(typeof b!="string")continue;let v=u+b;e.data?.ignoreMultiPack||(v=Pp(v,e.src),g.push(t.load({src:v,data:{textureOptions:l,ignoreMultiPack:!0}})))}const m=await Promise.all(g);f.linkedSheets=m,m.forEach(b=>{b.linkedSheets=[f].concat(f.linkedSheets.filter(v=>v!==b))})}return f},async unload(n,e,t){await t.unload(n.textureSource._sourceOrigin),n.destroy(!1)}}};Yt.add(AP);const Bd=Object.create(null),P_=Object.create(null);function Rg(n,e){let t=P_[n];return t===void 0&&(Bd[e]===void 0&&(Bd[e]=1),P_[n]=t=Bd[e]++),t}let Hu;function SS(){return(!Hu||Hu?.isContextLost())&&(Hu=dt.get().createCanvas().getContext("webgl",{})),Hu}let $u;function EP(){if(!$u){$u="mediump";const n=SS();n&&n.getShaderPrecisionFormat&&($u=n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision?"highp":"mediump")}return $u}function TP(n,e,t){return e?n:t?(n=n.replace("out vec4 finalColor;",""),`
        
        #ifdef GL_ES // This checks if it is WebGL1
        #define in varying
        #define finalColor gl_FragColor
        #define texture texture2D
        #endif
        ${n}
        `):`
        
        #ifdef GL_ES // This checks if it is WebGL1
        #define in attribute
        #define out varying
        #endif
        ${n}
        `}function MP(n,e,t){const s=t?e.maxSupportedFragmentPrecision:e.maxSupportedVertexPrecision;if(n.substring(0,9)!=="precision"){let a=t?e.requestedFragmentPrecision:e.requestedVertexPrecision;return a==="highp"&&s!=="highp"&&(a="mediump"),`precision ${a} float;
${n}`}else if(s!=="highp"&&n.substring(0,15)==="precision highp")return n.replace("precision highp","precision mediump");return n}function CP(n,e){return e?`#version 300 es
${n}`:n}const kP={},RP={};function OP(n,{name:e="pixi-program"},t=!0){e=e.replace(/\s+/g,"-"),e+=t?"-fragment":"-vertex";const s=t?kP:RP;return s[e]?(s[e]++,e+=`-${s[e]}`):s[e]=1,n.indexOf("#define SHADER_NAME")!==-1?n:`${`#define SHADER_NAME ${e}`}
${n}`}function PP(n,e){return e?n.replace("#version 300 es",""):n}const zd={stripVersion:PP,ensurePrecision:MP,addProgramDefines:TP,setProgramName:OP,insertVersion:CP},Ud=Object.create(null),AS=class Bp{constructor(e){e={...Bp.defaultOptions,...e};const t=e.fragment.indexOf("#version 300 es")!==-1,s={stripVersion:t,ensurePrecision:{requestedFragmentPrecision:e.preferredFragmentPrecision,requestedVertexPrecision:e.preferredVertexPrecision,maxSupportedVertexPrecision:"highp",maxSupportedFragmentPrecision:EP()},setProgramName:{name:e.name},addProgramDefines:t,insertVersion:t};let a=e.fragment,l=e.vertex;Object.keys(zd).forEach(u=>{const h=s[u];a=zd[u](a,h,!0),l=zd[u](l,h,!1)}),this.fragment=a,this.vertex=l,this.transformFeedbackVaryings=e.transformFeedbackVaryings,this._key=Rg(`${this.vertex}:${this.fragment}`,"gl-program")}destroy(){this.fragment=null,this.vertex=null,this._attributeData=null,this._uniformData=null,this._uniformBlockData=null,this.transformFeedbackVaryings=null}static from(e){const t=`${e.vertex}:${e.fragment}`;return Ud[t]||(Ud[t]=new Bp(e)),Ud[t]}};AS.defaultOptions={preferredVertexPrecision:"highp",preferredFragmentPrecision:"mediump"};let ES=AS;const D_={uint8x2:{size:2,stride:2,normalised:!1},uint8x4:{size:4,stride:4,normalised:!1},sint8x2:{size:2,stride:2,normalised:!1},sint8x4:{size:4,stride:4,normalised:!1},unorm8x2:{size:2,stride:2,normalised:!0},unorm8x4:{size:4,stride:4,normalised:!0},snorm8x2:{size:2,stride:2,normalised:!0},snorm8x4:{size:4,stride:4,normalised:!0},uint16x2:{size:2,stride:4,normalised:!1},uint16x4:{size:4,stride:8,normalised:!1},sint16x2:{size:2,stride:4,normalised:!1},sint16x4:{size:4,stride:8,normalised:!1},unorm16x2:{size:2,stride:4,normalised:!0},unorm16x4:{size:4,stride:8,normalised:!0},snorm16x2:{size:2,stride:4,normalised:!0},snorm16x4:{size:4,stride:8,normalised:!0},float16x2:{size:2,stride:4,normalised:!1},float16x4:{size:4,stride:8,normalised:!1},float32:{size:1,stride:4,normalised:!1},float32x2:{size:2,stride:8,normalised:!1},float32x3:{size:3,stride:12,normalised:!1},float32x4:{size:4,stride:16,normalised:!1},uint32:{size:1,stride:4,normalised:!1},uint32x2:{size:2,stride:8,normalised:!1},uint32x3:{size:3,stride:12,normalised:!1},uint32x4:{size:4,stride:16,normalised:!1},sint32:{size:1,stride:4,normalised:!1},sint32x2:{size:2,stride:8,normalised:!1},sint32x3:{size:3,stride:12,normalised:!1},sint32x4:{size:4,stride:16,normalised:!1}};function DP(n){return D_[n]??D_.float32}const BP={f32:"float32","vec2<f32>":"float32x2","vec3<f32>":"float32x3","vec4<f32>":"float32x4",vec2f:"float32x2",vec3f:"float32x3",vec4f:"float32x4",i32:"sint32","vec2<i32>":"sint32x2","vec3<i32>":"sint32x3","vec4<i32>":"sint32x4",u32:"uint32","vec2<u32>":"uint32x2","vec3<u32>":"uint32x3","vec4<u32>":"uint32x4",bool:"uint32","vec2<bool>":"uint32x2","vec3<bool>":"uint32x3","vec4<bool>":"uint32x4"};function zP({source:n,entryPoint:e}){const t={},s=n.indexOf(`fn ${e}`);if(s!==-1){const a=n.indexOf("->",s);if(a!==-1){const l=n.substring(s,a),u=/@location\((\d+)\)\s+([a-zA-Z0-9_]+)\s*:\s*([a-zA-Z0-9_<>]+)(?:,|\s|$)/g;let h;for(;(h=u.exec(l))!==null;){const f=BP[h[3]]??"float32";t[h[2]]={location:parseInt(h[1],10),format:f,stride:DP(f).stride,offset:0,instance:!1,start:0}}}}return t}function jd(n){const e=/(^|[^/])@(group|binding)\(\d+\)[^;]+;/g,t=/@group\((\d+)\)/,s=/@binding\((\d+)\)/,a=/var(<[^>]+>)? (\w+)/,l=/:\s*(\w+)/,u=/struct\s+(\w+)\s*{([^}]+)}/g,h=/(\w+)\s*:\s*([\w\<\>]+)/g,f=/struct\s+(\w+)/,p=n.match(e)?.map(m=>({group:parseInt(m.match(t)[1],10),binding:parseInt(m.match(s)[1],10),name:m.match(a)[2],isUniform:m.match(a)[1]==="<uniform>",type:m.match(l)[1]}));if(!p)return{groups:[],structs:[]};const g=n.match(u)?.map(m=>{const b=m.match(f)[1],v=m.match(h).reduce((x,S)=>{const[_,E]=S.split(":");return x[_.trim()]=E.trim(),x},{});return v?{name:b,members:v}:null}).filter(({name:m})=>p.some(b=>b.type===m))??[];return{groups:p,structs:g}}var To=(n=>(n[n.VERTEX=1]="VERTEX",n[n.FRAGMENT=2]="FRAGMENT",n[n.COMPUTE=4]="COMPUTE",n))(To||{});function UP({groups:n}){const e=[];for(let t=0;t<n.length;t++){const s=n[t];e[s.group]||(e[s.group]=[]),s.isUniform?e[s.group].push({binding:s.binding,visibility:To.VERTEX|To.FRAGMENT,buffer:{type:"uniform"}}):s.type==="sampler"?e[s.group].push({binding:s.binding,visibility:To.FRAGMENT,sampler:{type:"filtering"}}):s.type==="texture_2d"&&e[s.group].push({binding:s.binding,visibility:To.FRAGMENT,texture:{sampleType:"float",viewDimension:"2d",multisampled:!1}})}return e}function jP({groups:n}){const e=[];for(let t=0;t<n.length;t++){const s=n[t];e[s.group]||(e[s.group]={}),e[s.group][s.name]=s.binding}return e}function LP(n,e){const t=new Set,s=new Set,a=[...n.structs,...e.structs].filter(u=>t.has(u.name)?!1:(t.add(u.name),!0)),l=[...n.groups,...e.groups].filter(u=>{const h=`${u.name}-${u.binding}`;return s.has(h)?!1:(s.add(h),!0)});return{structs:a,groups:l}}const Ld=Object.create(null);class Rc{constructor(e){this._layoutKey=0,this._attributeLocationsKey=0;const{fragment:t,vertex:s,layout:a,gpuLayout:l,name:u}=e;if(this.name=u,this.fragment=t,this.vertex=s,t.source===s.source){const h=jd(t.source);this.structsAndGroups=h}else{const h=jd(s.source),f=jd(t.source);this.structsAndGroups=LP(h,f)}this.layout=a??jP(this.structsAndGroups),this.gpuLayout=l??UP(this.structsAndGroups),this.autoAssignGlobalUniforms=this.layout[0]?.globalUniforms!==void 0,this.autoAssignLocalUniforms=this.layout[1]?.localUniforms!==void 0,this._generateProgramKey()}_generateProgramKey(){const{vertex:e,fragment:t}=this,s=e.source+t.source+e.entryPoint+t.entryPoint;this._layoutKey=Rg(s,"program")}get attributeData(){return this._attributeData??(this._attributeData=zP(this.vertex)),this._attributeData}destroy(){this.gpuLayout=null,this.layout=null,this.structsAndGroups=null,this.fragment=null,this.vertex=null}static from(e){const t=`${e.vertex.source}:${e.fragment.source}:${e.fragment.entryPoint}:${e.vertex.entryPoint}`;return Ld[t]||(Ld[t]=new Rc(e)),Ld[t]}}const TS=["f32","i32","vec2<f32>","vec3<f32>","vec4<f32>","mat2x2<f32>","mat3x3<f32>","mat4x4<f32>","mat3x2<f32>","mat4x2<f32>","mat2x3<f32>","mat4x3<f32>","mat2x4<f32>","mat3x4<f32>","vec2<i32>","vec3<i32>","vec4<i32>"],IP=TS.reduce((n,e)=>(n[e]=!0,n),{});function NP(n,e){switch(n){case"f32":return 0;case"vec2<f32>":return new Float32Array(2*e);case"vec3<f32>":return new Float32Array(3*e);case"vec4<f32>":return new Float32Array(4*e);case"mat2x2<f32>":return new Float32Array([1,0,0,1]);case"mat3x3<f32>":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4x4<f32>":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const MS=class CS{constructor(e,t){this._touched=0,this.uid=ct("uniform"),this._resourceType="uniformGroup",this._resourceId=ct("resource"),this.isUniformGroup=!0,this._dirtyId=0,this.destroyed=!1,t={...CS.defaultOptions,...t},this.uniformStructures=e;const s={};for(const a in e){const l=e[a];if(l.name=a,l.size=l.size??1,!IP[l.type])throw new Error(`Uniform type ${l.type} is not supported. Supported uniform types are: ${TS.join(", ")}`);l.value??(l.value=NP(l.type,l.size)),s[a]=l.value}this.uniforms=s,this._dirtyId=1,this.ubo=t.ubo,this.isStatic=t.isStatic,this._signature=Rg(Object.keys(s).map(a=>`${a}-${e[a].type}`).join("-"),"uniform-group")}update(){this._dirtyId++}};MS.defaultOptions={ubo:!1,isStatic:!1};let kS=MS;class tc{constructor(e){this.resources=Object.create(null),this._dirty=!0;let t=0;for(const s in e){const a=e[s];this.setResource(a,t++)}this._updateKey()}_updateKey(){if(!this._dirty)return;this._dirty=!1;const e=[];let t=0;for(const s in this.resources)e[t++]=this.resources[s]._resourceId;this._key=e.join("|")}setResource(e,t){const s=this.resources[t];e!==s&&(s&&e.off?.("change",this.onResourceChange,this),e.on?.("change",this.onResourceChange,this),this.resources[t]=e,this._dirty=!0)}getResource(e){return this.resources[e]}_touch(e){const t=this.resources;for(const s in t)t[s]._touched=e}destroy(){const e=this.resources;for(const t in e)e[t].off?.("change",this.onResourceChange,this);this.resources=null}onResourceChange(e){if(this._dirty=!0,e.destroyed){const t=this.resources;for(const s in t)t[s]===e&&(t[s]=null)}else this._updateKey()}}var zp=(n=>(n[n.WEBGL=1]="WEBGL",n[n.WEBGPU=2]="WEBGPU",n[n.BOTH=3]="BOTH",n))(zp||{});class Og extends Qn{constructor(e){super(),this.uid=ct("shader"),this._uniformBindMap=Object.create(null),this._ownedBindGroups=[];let{gpuProgram:t,glProgram:s,groups:a,resources:l,compatibleRenderers:u,groupMap:h}=e;this.gpuProgram=t,this.glProgram=s,u===void 0&&(u=0,t&&(u|=zp.WEBGPU),s&&(u|=zp.WEBGL)),this.compatibleRenderers=u;const f={};if(!l&&!a&&(l={}),l&&a)throw new Error("[Shader] Cannot have both resources and groups");if(!t&&a&&!h)throw new Error("[Shader] No group map or WebGPU shader provided - consider using resources instead.");if(!t&&a&&h)for(const p in h)for(const g in h[p]){const m=h[p][g];f[m]={group:p,binding:g,name:m}}else if(t&&a&&!h){const p=t.structsAndGroups.groups;h={},p.forEach(g=>{h[g.group]=h[g.group]||{},h[g.group][g.binding]=g.name,f[g.name]=g})}else if(l){a={},h={},t&&t.structsAndGroups.groups.forEach(m=>{h[m.group]=h[m.group]||{},h[m.group][m.binding]=m.name,f[m.name]=m});let p=0;for(const g in l)f[g]||(a[99]||(a[99]=new tc,this._ownedBindGroups.push(a[99])),f[g]={group:99,binding:p,name:g},h[99]=h[99]||{},h[99][p]=g,p++);for(const g in l){const m=g;let b=l[g];!b.source&&!b._resourceType&&(b=new kS(b));const v=f[m];v&&(a[v.group]||(a[v.group]=new tc,this._ownedBindGroups.push(a[v.group])),a[v.group].setResource(b,v.binding))}}this.groups=a,this._uniformBindMap=h,this.resources=this._buildResourceAccessor(a,f)}addResource(e,t,s){var a,l;(a=this._uniformBindMap)[t]||(a[t]={}),(l=this._uniformBindMap[t])[s]||(l[s]=e),this.groups[t]||(this.groups[t]=new tc,this._ownedBindGroups.push(this.groups[t]))}_buildResourceAccessor(e,t){const s={};for(const a in t){const l=t[a];Object.defineProperty(s,l.name,{get(){return e[l.group].getResource(l.binding)},set(u){e[l.group].setResource(u,l.binding)}})}return s}destroy(e=!1){this.emit("destroy",this),e&&(this.gpuProgram?.destroy(),this.glProgram?.destroy()),this.gpuProgram=null,this.glProgram=null,this.removeAllListeners(),this._uniformBindMap=null,this._ownedBindGroups.forEach(t=>{t.destroy()}),this._ownedBindGroups=null,this.resources=null,this.groups=null}static from(e){const{gpu:t,gl:s,...a}=e;let l,u;return t&&(l=Rc.from(t)),s&&(u=ES.from(s)),new Og({gpuProgram:l,glProgram:u,...a})}}var Fu={exports:{}},B_;function qP(){if(B_)return Fu.exports;B_=1,Fu.exports=n,Fu.exports.default=n;function n(T,P,z){z=z||2;var $=P&&P.length,C=$?P[0]*z:T.length,N=e(T,0,C,z,!0),F=[];if(!N||N.next===N.prev)return F;var Y,W,ee,se,ge,ue,me;if($&&(N=f(T,P,N,z)),T.length>80*z){Y=ee=T[0],W=se=T[1];for(var fe=z;fe<C;fe+=z)ge=T[fe],ue=T[fe+1],ge<Y&&(Y=ge),ue<W&&(W=ue),ge>ee&&(ee=ge),ue>se&&(se=ue);me=Math.max(ee-Y,se-W),me=me!==0?32767/me:0}return s(N,F,z,Y,W,me,0),F}function e(T,P,z,$,C){var N,F;if(C===ae(T,P,z,$)>0)for(N=P;N<z;N+=$)F=K(N,T[N],T[N+1],F);else for(N=z-$;N>=P;N-=$)F=K(N,T[N],T[N+1],F);return F&&M(F,F.next)&&(ne(F),F=F.next),F}function t(T,P){if(!T)return T;P||(P=T);var z=T,$;do if($=!1,!z.steiner&&(M(z,z.next)||A(z.prev,z,z.next)===0)){if(ne(z),z=P=z.prev,z===z.next)break;$=!0}else z=z.next;while($||z!==P);return P}function s(T,P,z,$,C,N,F){if(T){!F&&N&&v(T,$,C,N);for(var Y=T,W,ee;T.prev!==T.next;){if(W=T.prev,ee=T.next,N?l(T,$,C,N):a(T)){P.push(W.i/z|0),P.push(T.i/z|0),P.push(ee.i/z|0),ne(T),T=ee.next,Y=ee.next;continue}if(T=ee,T===Y){F?F===1?(T=u(t(T),P,z),s(T,P,z,$,C,N,2)):F===2&&h(T,P,z,$,C,N):s(t(T),P,z,$,C,N,1);break}}}}function a(T){var P=T.prev,z=T,$=T.next;if(A(P,z,$)>=0)return!1;for(var C=P.x,N=z.x,F=$.x,Y=P.y,W=z.y,ee=$.y,se=C<N?C<F?C:F:N<F?N:F,ge=Y<W?Y<ee?Y:ee:W<ee?W:ee,ue=C>N?C>F?C:F:N>F?N:F,me=Y>W?Y>ee?Y:ee:W>ee?W:ee,fe=$.next;fe!==P;){if(fe.x>=se&&fe.x<=ue&&fe.y>=ge&&fe.y<=me&&E(C,Y,N,W,F,ee,fe.x,fe.y)&&A(fe.prev,fe,fe.next)>=0)return!1;fe=fe.next}return!0}function l(T,P,z,$){var C=T.prev,N=T,F=T.next;if(A(C,N,F)>=0)return!1;for(var Y=C.x,W=N.x,ee=F.x,se=C.y,ge=N.y,ue=F.y,me=Y<W?Y<ee?Y:ee:W<ee?W:ee,fe=se<ge?se<ue?se:ue:ge<ue?ge:ue,$e=Y>W?Y>ee?Y:ee:W>ee?W:ee,Fe=se>ge?se>ue?se:ue:ge>ue?ge:ue,nt=S(me,fe,P,z,$),pt=S($e,Fe,P,z,$),_e=T.prevZ,Ae=T.nextZ;_e&&_e.z>=nt&&Ae&&Ae.z<=pt;){if(_e.x>=me&&_e.x<=$e&&_e.y>=fe&&_e.y<=Fe&&_e!==C&&_e!==F&&E(Y,se,W,ge,ee,ue,_e.x,_e.y)&&A(_e.prev,_e,_e.next)>=0||(_e=_e.prevZ,Ae.x>=me&&Ae.x<=$e&&Ae.y>=fe&&Ae.y<=Fe&&Ae!==C&&Ae!==F&&E(Y,se,W,ge,ee,ue,Ae.x,Ae.y)&&A(Ae.prev,Ae,Ae.next)>=0))return!1;Ae=Ae.nextZ}for(;_e&&_e.z>=nt;){if(_e.x>=me&&_e.x<=$e&&_e.y>=fe&&_e.y<=Fe&&_e!==C&&_e!==F&&E(Y,se,W,ge,ee,ue,_e.x,_e.y)&&A(_e.prev,_e,_e.next)>=0)return!1;_e=_e.prevZ}for(;Ae&&Ae.z<=pt;){if(Ae.x>=me&&Ae.x<=$e&&Ae.y>=fe&&Ae.y<=Fe&&Ae!==C&&Ae!==F&&E(Y,se,W,ge,ee,ue,Ae.x,Ae.y)&&A(Ae.prev,Ae,Ae.next)>=0)return!1;Ae=Ae.nextZ}return!0}function u(T,P,z){var $=T;do{var C=$.prev,N=$.next.next;!M(C,N)&&D(C,$,$.next,N)&&j(C,N)&&j(N,C)&&(P.push(C.i/z|0),P.push($.i/z|0),P.push(N.i/z|0),ne($),ne($.next),$=T=N),$=$.next}while($!==T);return t($)}function h(T,P,z,$,C,N){var F=T;do{for(var Y=F.next.next;Y!==F.prev;){if(F.i!==Y.i&&k(F,Y)){var W=q(F,Y);F=t(F,F.next),W=t(W,W.next),s(F,P,z,$,C,N,0),s(W,P,z,$,C,N,0);return}Y=Y.next}F=F.next}while(F!==T)}function f(T,P,z,$){var C=[],N,F,Y,W,ee;for(N=0,F=P.length;N<F;N++)Y=P[N]*$,W=N<F-1?P[N+1]*$:T.length,ee=e(T,Y,W,$,!1),ee===ee.next&&(ee.steiner=!0),C.push(_(ee));for(C.sort(p),N=0;N<C.length;N++)z=g(C[N],z);return z}function p(T,P){return T.x-P.x}function g(T,P){var z=m(T,P);if(!z)return P;var $=q(z,T);return t($,$.next),t(z,z.next)}function m(T,P){var z=P,$=T.x,C=T.y,N=-1/0,F;do{if(C<=z.y&&C>=z.next.y&&z.next.y!==z.y){var Y=z.x+(C-z.y)*(z.next.x-z.x)/(z.next.y-z.y);if(Y<=$&&Y>N&&(N=Y,F=z.x<z.next.x?z:z.next,Y===$))return F}z=z.next}while(z!==P);if(!F)return null;var W=F,ee=F.x,se=F.y,ge=1/0,ue;z=F;do $>=z.x&&z.x>=ee&&$!==z.x&&E(C<se?$:N,C,ee,se,C<se?N:$,C,z.x,z.y)&&(ue=Math.abs(C-z.y)/($-z.x),j(z,T)&&(ue<ge||ue===ge&&(z.x>F.x||z.x===F.x&&b(F,z)))&&(F=z,ge=ue)),z=z.next;while(z!==W);return F}function b(T,P){return A(T.prev,T,P.prev)<0&&A(P.next,T,T.next)<0}function v(T,P,z,$){var C=T;do C.z===0&&(C.z=S(C.x,C.y,P,z,$)),C.prevZ=C.prev,C.nextZ=C.next,C=C.next;while(C!==T);C.prevZ.nextZ=null,C.prevZ=null,x(C)}function x(T){var P,z,$,C,N,F,Y,W,ee=1;do{for(z=T,T=null,N=null,F=0;z;){for(F++,$=z,Y=0,P=0;P<ee&&(Y++,$=$.nextZ,!!$);P++);for(W=ee;Y>0||W>0&&$;)Y!==0&&(W===0||!$||z.z<=$.z)?(C=z,z=z.nextZ,Y--):(C=$,$=$.nextZ,W--),N?N.nextZ=C:T=C,C.prevZ=N,N=C;z=$}N.nextZ=null,ee*=2}while(F>1);return T}function S(T,P,z,$,C){return T=(T-z)*C|0,P=(P-$)*C|0,T=(T|T<<8)&16711935,T=(T|T<<4)&252645135,T=(T|T<<2)&858993459,T=(T|T<<1)&1431655765,P=(P|P<<8)&16711935,P=(P|P<<4)&252645135,P=(P|P<<2)&858993459,P=(P|P<<1)&1431655765,T|P<<1}function _(T){var P=T,z=T;do(P.x<z.x||P.x===z.x&&P.y<z.y)&&(z=P),P=P.next;while(P!==T);return z}function E(T,P,z,$,C,N,F,Y){return(C-F)*(P-Y)>=(T-F)*(N-Y)&&(T-F)*($-Y)>=(z-F)*(P-Y)&&(z-F)*(N-Y)>=(C-F)*($-Y)}function k(T,P){return T.next.i!==P.i&&T.prev.i!==P.i&&!U(T,P)&&(j(T,P)&&j(P,T)&&I(T,P)&&(A(T.prev,T,P.prev)||A(T,P.prev,P))||M(T,P)&&A(T.prev,T,T.next)>0&&A(P.prev,P,P.next)>0)}function A(T,P,z){return(P.y-T.y)*(z.x-P.x)-(P.x-T.x)*(z.y-P.y)}function M(T,P){return T.x===P.x&&T.y===P.y}function D(T,P,z,$){var C=O(A(T,P,z)),N=O(A(T,P,$)),F=O(A(z,$,T)),Y=O(A(z,$,P));return!!(C!==N&&F!==Y||C===0&&B(T,z,P)||N===0&&B(T,$,P)||F===0&&B(z,T,$)||Y===0&&B(z,P,$))}function B(T,P,z){return P.x<=Math.max(T.x,z.x)&&P.x>=Math.min(T.x,z.x)&&P.y<=Math.max(T.y,z.y)&&P.y>=Math.min(T.y,z.y)}function O(T){return T>0?1:T<0?-1:0}function U(T,P){var z=T;do{if(z.i!==T.i&&z.next.i!==T.i&&z.i!==P.i&&z.next.i!==P.i&&D(z,z.next,T,P))return!0;z=z.next}while(z!==T);return!1}function j(T,P){return A(T.prev,T,T.next)<0?A(T,P,T.next)>=0&&A(T,T.prev,P)>=0:A(T,P,T.prev)<0||A(T,T.next,P)<0}function I(T,P){var z=T,$=!1,C=(T.x+P.x)/2,N=(T.y+P.y)/2;do z.y>N!=z.next.y>N&&z.next.y!==z.y&&C<(z.next.x-z.x)*(N-z.y)/(z.next.y-z.y)+z.x&&($=!$),z=z.next;while(z!==T);return $}function q(T,P){var z=new re(T.i,T.x,T.y),$=new re(P.i,P.x,P.y),C=T.next,N=P.prev;return T.next=P,P.prev=T,z.next=C,C.prev=z,$.next=z,z.prev=$,N.next=$,$.prev=N,$}function K(T,P,z,$){var C=new re(T,P,z);return $?(C.next=$.next,C.prev=$,$.next.prev=C,$.next=C):(C.prev=C,C.next=C),C}function ne(T){T.next.prev=T.prev,T.prev.next=T.next,T.prevZ&&(T.prevZ.nextZ=T.nextZ),T.nextZ&&(T.nextZ.prevZ=T.prevZ)}function re(T,P,z){this.i=T,this.x=P,this.y=z,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}n.deviation=function(T,P,z,$){var C=P&&P.length,N=C?P[0]*z:T.length,F=Math.abs(ae(T,0,N,z));if(C)for(var Y=0,W=P.length;Y<W;Y++){var ee=P[Y]*z,se=Y<W-1?P[Y+1]*z:T.length;F-=Math.abs(ae(T,ee,se,z))}var ge=0;for(Y=0;Y<$.length;Y+=3){var ue=$[Y]*z,me=$[Y+1]*z,fe=$[Y+2]*z;ge+=Math.abs((T[ue]-T[fe])*(T[me+1]-T[ue+1])-(T[ue]-T[me])*(T[fe+1]-T[ue+1]))}return F===0&&ge===0?0:Math.abs((ge-F)/F)};function ae(T,P,z,$){for(var C=0,N=P,F=z-$;N<z;N+=$)C+=(T[F]-T[N])*(T[N+1]+T[F+1]),F=N;return C}return n.flatten=function(T){for(var P=T[0][0].length,z={vertices:[],holes:[],dimensions:P},$=0,C=0;C<T.length;C++){for(var N=0;N<T[C].length;N++)for(var F=0;F<P;F++)z.vertices.push(T[C][N][F]);C>0&&($+=T[C-1].length,z.holes.push($))}return z},Fu.exports}var GP=qP();const HP=Xn(GP);class RS extends Qn{constructor(){super(...arguments),this.chars=Object.create(null),this.lineHeight=0,this.fontFamily="",this.fontMetrics={fontSize:0,ascent:0,descent:0},this.baseLineOffset=0,this.distanceField={type:"none",range:0},this.pages=[],this.applyFillAsTint=!0,this.baseMeasurementFontSize=100,this.baseRenderedFontSize=100}get font(){return st(Ut,"BitmapFont.font is deprecated, please use BitmapFont.fontFamily instead."),this.fontFamily}get pageTextures(){return st(Ut,"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}get size(){return st(Ut,"BitmapFont.size is deprecated, please use BitmapFont.fontMetrics.fontSize instead."),this.fontMetrics.fontSize}get distanceFieldRange(){return st(Ut,"BitmapFont.distanceFieldRange is deprecated, please use BitmapFont.distanceField.range instead."),this.distanceField.range}get distanceFieldType(){return st(Ut,"BitmapFont.distanceFieldType is deprecated, please use BitmapFont.distanceField.type instead."),this.distanceField.type}destroy(e=!1){this.emit("destroy",this),this.removeAllListeners();for(const t in this.chars)this.chars[t].texture?.destroy();this.chars=null,e&&(this.pages.forEach(t=>t.texture.destroy(!0)),this.pages=null)}}const z_=[{offset:0,color:"white"},{offset:1,color:"black"}],Pg=class Up{constructor(...e){this.uid=ct("fillGradient"),this.type="linear",this.colorStops=[];let t=$P(e);t={...t.type==="radial"?Up.defaultRadialOptions:Up.defaultLinearOptions,...Xx(t)},this._textureSize=t.textureSize,t.type==="radial"?(this.center=t.center,this.outerCenter=t.outerCenter??this.center,this.innerRadius=t.innerRadius,this.outerRadius=t.outerRadius,this.scale=t.scale,this.rotation=t.rotation):(this.start=t.start,this.end=t.end),this.textureSpace=t.textureSpace,this.type=t.type,t.colorStops.forEach(a=>{this.addColorStop(a.offset,a.color)})}addColorStop(e,t){return this.colorStops.push({offset:e,color:kt.shared.setValue(t).toHexa()}),this}buildLinearGradient(){if(this.texture)return;const e=this.colorStops.length?this.colorStops:z_,t=this._textureSize,{canvas:s,context:a}=j_(t,1),l=a.createLinearGradient(0,0,this._textureSize,0);U_(l,e),a.fillStyle=l,a.fillRect(0,0,t,1),this.texture=new Pe({source:new $s({resource:s})});const{x:u,y:h}=this.start,{x:f,y:p}=this.end,g=new De,m=f-u,b=p-h,v=Math.sqrt(m*m+b*b),x=Math.atan2(b,m);g.scale(v/t,1),g.rotate(x),g.translate(u,h),this.textureSpace==="local"&&g.scale(t,t),this.transform=g}buildGradient(){this.type==="linear"?this.buildLinearGradient():this.buildRadialGradient()}buildRadialGradient(){if(this.texture)return;const e=this.colorStops.length?this.colorStops:z_,t=this._textureSize,{canvas:s,context:a}=j_(t,t),{x:l,y:u}=this.center,{x:h,y:f}=this.outerCenter,p=this.innerRadius,g=this.outerRadius,m=h-g,b=f-g,v=t/(g*2),x=(l-m)*v,S=(u-b)*v,_=a.createRadialGradient(x,S,p*v,(h-m)*v,(f-b)*v,g*v);U_(_,e),a.fillStyle=e[e.length-1].color,a.fillRect(0,0,t,t),a.fillStyle=_,a.translate(x,S),a.rotate(this.rotation),a.scale(1,this.scale),a.translate(-x,-S),a.fillRect(0,0,t,t),this.texture=new Pe({source:new $s({resource:s,addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"})});const E=new De;E.scale(1/v,1/v),E.translate(m,b),this.textureSpace==="local"&&E.scale(t,t),this.transform=E}get styleKey(){return this.uid}destroy(){this.texture?.destroy(!0),this.texture=null}};Pg.defaultLinearOptions={start:{x:0,y:0},end:{x:0,y:1},colorStops:[],textureSpace:"local",type:"linear",textureSize:256};Pg.defaultRadialOptions={center:{x:.5,y:.5},innerRadius:0,outerRadius:.5,colorStops:[],scale:1,textureSpace:"local",type:"radial",textureSize:256};let ts=Pg;function U_(n,e){for(let t=0;t<e.length;t++){const s=e[t];n.addColorStop(s.offset,s.color)}}function j_(n,e){const t=dt.get().createCanvas(n,e),s=t.getContext("2d");return{canvas:t,context:s}}function $P(n){let e=n[0]??{};return(typeof e=="number"||n[1])&&(st("8.5.2","use options object instead"),e={type:"linear",start:{x:n[0],y:n[1]},end:{x:n[2],y:n[3]},textureSpace:n[4],textureSize:n[5]??ts.defaultLinearOptions.textureSize}),e}const L_={repeat:{addressModeU:"repeat",addressModeV:"repeat"},"repeat-x":{addressModeU:"repeat",addressModeV:"clamp-to-edge"},"repeat-y":{addressModeU:"clamp-to-edge",addressModeV:"repeat"},"no-repeat":{addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}};class Oc{constructor(e,t){this.uid=ct("fillPattern"),this.transform=new De,this._styleKey=null,this.texture=e,this.transform.scale(1/e.frame.width,1/e.frame.height),t&&(e.source.style.addressModeU=L_[t].addressModeU,e.source.style.addressModeV=L_[t].addressModeV)}setTransform(e){const t=this.texture;this.transform.copyFrom(e),this.transform.invert(),this.transform.scale(1/t.frame.width,1/t.frame.height),this._styleKey=null}get styleKey(){return this._styleKey?this._styleKey:(this._styleKey=`fill-pattern-${this.uid}-${this.texture.uid}-${this.transform.toArray().join("-")}`,this._styleKey)}}var Id,I_;function FP(){if(I_)return Id;I_=1,Id=t;var n={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},e=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function t(l){var u=[];return l.replace(e,function(h,f,p){var g=f.toLowerCase();for(p=a(p),g=="m"&&p.length>2&&(u.push([f].concat(p.splice(0,2))),g="l",f=f=="m"?"l":"L");;){if(p.length==n[g])return p.unshift(f),u.push(p);if(p.length<n[g])throw new Error("malformed path data");u.push([f].concat(p.splice(0,n[g])))}}),u}var s=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function a(l){var u=l.match(s);return u?u.map(Number):[]}return Id}var VP=FP();const YP=Xn(VP);function XP(n,e){const t=YP(n),s=[];let a=null,l=0,u=0;for(let h=0;h<t.length;h++){const f=t[h],p=f[0],g=f;switch(p){case"M":l=g[1],u=g[2],e.moveTo(l,u);break;case"m":l+=g[1],u+=g[2],e.moveTo(l,u);break;case"H":l=g[1],e.lineTo(l,u);break;case"h":l+=g[1],e.lineTo(l,u);break;case"V":u=g[1],e.lineTo(l,u);break;case"v":u+=g[1],e.lineTo(l,u);break;case"L":l=g[1],u=g[2],e.lineTo(l,u);break;case"l":l+=g[1],u+=g[2],e.lineTo(l,u);break;case"C":l=g[5],u=g[6],e.bezierCurveTo(g[1],g[2],g[3],g[4],l,u);break;case"c":e.bezierCurveTo(l+g[1],u+g[2],l+g[3],u+g[4],l+g[5],u+g[6]),l+=g[5],u+=g[6];break;case"S":l=g[3],u=g[4],e.bezierCurveToShort(g[1],g[2],l,u);break;case"s":e.bezierCurveToShort(l+g[1],u+g[2],l+g[3],u+g[4]),l+=g[3],u+=g[4];break;case"Q":l=g[3],u=g[4],e.quadraticCurveTo(g[1],g[2],l,u);break;case"q":e.quadraticCurveTo(l+g[1],u+g[2],l+g[3],u+g[4]),l+=g[3],u+=g[4];break;case"T":l=g[1],u=g[2],e.quadraticCurveToShort(l,u);break;case"t":l+=g[1],u+=g[2],e.quadraticCurveToShort(l,u);break;case"A":l=g[6],u=g[7],e.arcToSvg(g[1],g[2],g[3],g[4],g[5],l,u);break;case"a":l+=g[6],u+=g[7],e.arcToSvg(g[1],g[2],g[3],g[4],g[5],l,u);break;case"Z":case"z":e.closePath(),s.length>0&&(a=s.pop(),a?(l=a.startX,u=a.startY):(l=0,u=0)),a=null;break;default:Qe(`Unknown SVG path command: ${p}`)}p!=="Z"&&p!=="z"&&a===null&&(a={startX:l,startY:u},s.push(a))}return e}class Dg{constructor(e=0,t=0,s=0){this.type="circle",this.x=e,this.y=t,this.radius=s}clone(){return new Dg(this.x,this.y,this.radius)}contains(e,t){if(this.radius<=0)return!1;const s=this.radius*this.radius;let a=this.x-e,l=this.y-t;return a*=a,l*=l,a+l<=s}strokeContains(e,t,s,a=.5){if(this.radius===0)return!1;const l=this.x-e,u=this.y-t,h=this.radius,f=(1-a)*s,p=Math.sqrt(l*l+u*u);return p<=h+f&&p>h-(s-f)}getBounds(e){return e||(e=new ut),e.x=this.x-this.radius,e.y=this.y-this.radius,e.width=this.radius*2,e.height=this.radius*2,e}copyFrom(e){return this.x=e.x,this.y=e.y,this.radius=e.radius,this}copyTo(e){return e.copyFrom(this),e}toString(){return`[pixi.js/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class Bg{constructor(e=0,t=0,s=0,a=0){this.type="ellipse",this.x=e,this.y=t,this.halfWidth=s,this.halfHeight=a}clone(){return new Bg(this.x,this.y,this.halfWidth,this.halfHeight)}contains(e,t){if(this.halfWidth<=0||this.halfHeight<=0)return!1;let s=(e-this.x)/this.halfWidth,a=(t-this.y)/this.halfHeight;return s*=s,a*=a,s+a<=1}strokeContains(e,t,s,a=.5){const{halfWidth:l,halfHeight:u}=this;if(l<=0||u<=0)return!1;const h=s*(1-a),f=s-h,p=l-f,g=u-f,m=l+h,b=u+h,v=e-this.x,x=t-this.y,S=v*v/(p*p)+x*x/(g*g),_=v*v/(m*m)+x*x/(b*b);return S>1&&_<=1}getBounds(e){return e||(e=new ut),e.x=this.x-this.halfWidth,e.y=this.y-this.halfHeight,e.width=this.halfWidth*2,e.height=this.halfHeight*2,e}copyFrom(e){return this.x=e.x,this.y=e.y,this.halfWidth=e.halfWidth,this.halfHeight=e.halfHeight,this}copyTo(e){return e.copyFrom(this),e}toString(){return`[pixi.js/math:Ellipse x=${this.x} y=${this.y} halfWidth=${this.halfWidth} halfHeight=${this.halfHeight}]`}}function QP(n,e,t,s,a,l){const u=n-t,h=e-s,f=a-t,p=l-s,g=u*f+h*p,m=f*f+p*p;let b=-1;m!==0&&(b=g/m);let v,x;b<0?(v=t,x=s):b>1?(v=a,x=l):(v=t+b*f,x=s+b*p);const S=n-v,_=e-x;return S*S+_*_}let WP,KP;class Lo{constructor(...e){this.type="polygon";let t=Array.isArray(e[0])?e[0]:e;if(typeof t[0]!="number"){const s=[];for(let a=0,l=t.length;a<l;a++)s.push(t[a].x,t[a].y);t=s}this.points=t,this.closePath=!0}isClockwise(){let e=0;const t=this.points,s=t.length;for(let a=0;a<s;a+=2){const l=t[a],u=t[a+1],h=t[(a+2)%s],f=t[(a+3)%s];e+=(h-l)*(f+u)}return e<0}containsPolygon(e){const t=this.getBounds(WP),s=e.getBounds(KP);if(!t.containsRect(s))return!1;const a=e.points;for(let l=0;l<a.length;l+=2){const u=a[l],h=a[l+1];if(!this.contains(u,h))return!1}return!0}clone(){const e=this.points.slice(),t=new Lo(e);return t.closePath=this.closePath,t}contains(e,t){let s=!1;const a=this.points.length/2;for(let l=0,u=a-1;l<a;u=l++){const h=this.points[l*2],f=this.points[l*2+1],p=this.points[u*2],g=this.points[u*2+1];f>t!=g>t&&e<(p-h)*((t-f)/(g-f))+h&&(s=!s)}return s}strokeContains(e,t,s,a=.5){const l=s*s,u=l*(1-a),h=l-u,{points:f}=this,p=f.length-(this.closePath?0:2);for(let g=0;g<p;g+=2){const m=f[g],b=f[g+1],v=f[(g+2)%f.length],x=f[(g+3)%f.length],S=QP(e,t,m,b,v,x),_=Math.sign((v-m)*(t-b)-(x-b)*(e-m));if(S<=(_<0?h:u))return!0}return!1}getBounds(e){e||(e=new ut);const t=this.points;let s=1/0,a=-1/0,l=1/0,u=-1/0;for(let h=0,f=t.length;h<f;h+=2){const p=t[h],g=t[h+1];s=p<s?p:s,a=p>a?p:a,l=g<l?g:l,u=g>u?g:u}return e.x=s,e.width=a-s,e.y=l,e.height=u-l,e}copyFrom(e){return this.points=e.points.slice(),this.closePath=e.closePath,this}copyTo(e){return e.copyFrom(this),e}toString(){return`[pixi.js/math:PolygoncloseStroke=${this.closePath}points=${this.points.reduce((e,t)=>`${e}, ${t}`,"")}]`}get lastX(){return this.points[this.points.length-2]}get lastY(){return this.points[this.points.length-1]}get x(){return this.points[this.points.length-2]}get y(){return this.points[this.points.length-1]}}const Vu=(n,e,t,s,a,l,u)=>{const h=n-t,f=e-s,p=Math.sqrt(h*h+f*f);return p>=a-l&&p<=a+u};class zg{constructor(e=0,t=0,s=0,a=0,l=20){this.type="roundedRectangle",this.x=e,this.y=t,this.width=s,this.height=a,this.radius=l}getBounds(e){return e||(e=new ut),e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}clone(){return new zg(this.x,this.y,this.width,this.height,this.radius)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.copyFrom(this),e}contains(e,t){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height){const s=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(t>=this.y+s&&t<=this.y+this.height-s||e>=this.x+s&&e<=this.x+this.width-s)return!0;let a=e-(this.x+s),l=t-(this.y+s);const u=s*s;if(a*a+l*l<=u||(a=e-(this.x+this.width-s),a*a+l*l<=u)||(l=t-(this.y+this.height-s),a*a+l*l<=u)||(a=e-(this.x+s),a*a+l*l<=u))return!0}return!1}strokeContains(e,t,s,a=.5){const{x:l,y:u,width:h,height:f,radius:p}=this,g=s*(1-a),m=s-g,b=l+p,v=u+p,x=h-p*2,S=f-p*2,_=l+h,E=u+f;return(e>=l-g&&e<=l+m||e>=_-m&&e<=_+g)&&t>=v&&t<=v+S||(t>=u-g&&t<=u+m||t>=E-m&&t<=E+g)&&e>=b&&e<=b+x?!0:e<b&&t<v&&Vu(e,t,b,v,p,m,g)||e>_-p&&t<v&&Vu(e,t,_-p,v,p,m,g)||e>_-p&&t>E-p&&Vu(e,t,_-p,E-p,p,m,g)||e<b&&t>E-p&&Vu(e,t,b,E-p,p,m,g)}toString(){return`[pixi.js/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}const ZP=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function JP(n){let e="";for(let t=0;t<n;++t)t>0&&(e+=`
else `),t<n-1&&(e+=`if(test == ${t}.0){}`);return e}function eD(n,e){if(n===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const t=e.createShader(e.FRAGMENT_SHADER);try{for(;;){const s=ZP.replace(/%forloop%/gi,JP(n));if(e.shaderSource(t,s),e.compileShader(t),!e.getShaderParameter(t,e.COMPILE_STATUS))n=n/2|0;else break}}finally{e.deleteShader(t)}return n}let Gr=null;function OS(){if(Gr)return Gr;const n=SS();return Gr=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),Gr=eD(Gr,n),n.getExtension("WEBGL_lose_context")?.loseContext(),Gr}const PS={};function tD(n,e){let t=2166136261;for(let s=0;s<e;s++)t^=n[s].uid,t=Math.imul(t,16777619),t>>>=0;return PS[t]||nD(n,e,t)}let Nd=0;function nD(n,e,t){const s={};let a=0;Nd||(Nd=OS());for(let u=0;u<Nd;u++){const h=u<e?n[u]:Pe.EMPTY.source;s[a++]=h.source,s[a++]=h.style}const l=new tc(s);return PS[t]=l,l}class N_{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData),this.size=this.rawBinaryData.byteLength}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}get float64View(){return this._float64Array||(this._float64Array=new Float64Array(this.rawBinaryData)),this._float64Array}get bigUint64View(){return this._bigUint64Array||(this._bigUint64Array=new BigUint64Array(this.rawBinaryData)),this._bigUint64Array}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this.uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}function q_(n,e){const t=n.byteLength/8|0,s=new Float64Array(n,0,t);new Float64Array(e,0,t).set(s);const l=n.byteLength-t*8;if(l>0){const u=new Uint8Array(n,t*8,l);new Uint8Array(e,t*8,l).set(u)}}const iD={normal:"normal-npm",add:"add-npm",screen:"screen-npm"};var sD=(n=>(n[n.DISABLED=0]="DISABLED",n[n.RENDERING_MASK_ADD=1]="RENDERING_MASK_ADD",n[n.MASK_ACTIVE=2]="MASK_ACTIVE",n[n.INVERSE_MASK_ACTIVE=3]="INVERSE_MASK_ACTIVE",n[n.RENDERING_MASK_REMOVE=4]="RENDERING_MASK_REMOVE",n[n.NONE=5]="NONE",n))(sD||{});function G_(n,e){return e.alphaMode==="no-premultiply-alpha"&&iD[n]||n}class rD{constructor(){this.ids=Object.create(null),this.textures=[],this.count=0}clear(){for(let e=0;e<this.count;e++){const t=this.textures[e];this.textures[e]=null,this.ids[t.uid]=null}this.count=0}}class aD{constructor(){this.renderPipeId="batch",this.action="startBatch",this.start=0,this.size=0,this.textures=new rD,this.blendMode="normal",this.topology="triangle-strip",this.canBundle=!0}destroy(){this.textures=null,this.gpuBindGroup=null,this.bindGroup=null,this.batcher=null}}const DS=[];let jp=0;function H_(){return jp>0?DS[--jp]:new aD}function $_(n){DS[jp++]=n}let bo=0;const BS=class nc{constructor(e={}){this.uid=ct("batcher"),this.dirty=!0,this.batchIndex=0,this.batches=[],this._elements=[],nc.defaultOptions.maxTextures=nc.defaultOptions.maxTextures??OS(),e={...nc.defaultOptions,...e};const{maxTextures:t,attributesInitialSize:s,indicesInitialSize:a}=e;this.attributeBuffer=new N_(s*4),this.indexBuffer=new Uint16Array(a),this.maxTextures=t}begin(){this.elementSize=0,this.elementStart=0,this.indexSize=0,this.attributeSize=0;for(let e=0;e<this.batchIndex;e++)$_(this.batches[e]);this.batchIndex=0,this._batchIndexStart=0,this._batchIndexSize=0,this.dirty=!0}add(e){this._elements[this.elementSize++]=e,e._indexStart=this.indexSize,e._attributeStart=this.attributeSize,e._batcher=this,this.indexSize+=e.indexSize,this.attributeSize+=e.attributeSize*this.vertexSize}checkAndUpdateTexture(e,t){const s=e._batch.textures.ids[t._source.uid];return!s&&s!==0?!1:(e._textureId=s,e.texture=t,!0)}updateElement(e){this.dirty=!0;const t=this.attributeBuffer;e.packAsQuad?this.packQuadAttributes(e,t.float32View,t.uint32View,e._attributeStart,e._textureId):this.packAttributes(e,t.float32View,t.uint32View,e._attributeStart,e._textureId)}break(e){const t=this._elements;if(!t[this.elementStart])return;let s=H_(),a=s.textures;a.clear();const l=t[this.elementStart];let u=G_(l.blendMode,l.texture._source),h=l.topology;this.attributeSize*4>this.attributeBuffer.size&&this._resizeAttributeBuffer(this.attributeSize*4),this.indexSize>this.indexBuffer.length&&this._resizeIndexBuffer(this.indexSize);const f=this.attributeBuffer.float32View,p=this.attributeBuffer.uint32View,g=this.indexBuffer;let m=this._batchIndexSize,b=this._batchIndexStart,v="startBatch";const x=this.maxTextures;for(let S=this.elementStart;S<this.elementSize;++S){const _=t[S];t[S]=null;const k=_.texture._source,A=G_(_.blendMode,k),M=u!==A||h!==_.topology;if(k._batchTick===bo&&!M){_._textureId=k._textureBindLocation,m+=_.indexSize,_.packAsQuad?(this.packQuadAttributes(_,f,p,_._attributeStart,_._textureId),this.packQuadIndex(g,_._indexStart,_._attributeStart/this.vertexSize)):(this.packAttributes(_,f,p,_._attributeStart,_._textureId),this.packIndex(_,g,_._indexStart,_._attributeStart/this.vertexSize)),_._batch=s;continue}k._batchTick=bo,(a.count>=x||M)&&(this._finishBatch(s,b,m-b,a,u,h,e,v),v="renderBatch",b=m,u=A,h=_.topology,s=H_(),a=s.textures,a.clear(),++bo),_._textureId=k._textureBindLocation=a.count,a.ids[k.uid]=a.count,a.textures[a.count++]=k,_._batch=s,m+=_.indexSize,_.packAsQuad?(this.packQuadAttributes(_,f,p,_._attributeStart,_._textureId),this.packQuadIndex(g,_._indexStart,_._attributeStart/this.vertexSize)):(this.packAttributes(_,f,p,_._attributeStart,_._textureId),this.packIndex(_,g,_._indexStart,_._attributeStart/this.vertexSize))}a.count>0&&(this._finishBatch(s,b,m-b,a,u,h,e,v),b=m,++bo),this.elementStart=this.elementSize,this._batchIndexStart=b,this._batchIndexSize=m}_finishBatch(e,t,s,a,l,u,h,f){e.gpuBindGroup=null,e.bindGroup=null,e.action=f,e.batcher=this,e.textures=a,e.blendMode=l,e.topology=u,e.start=t,e.size=s,++bo,this.batches[this.batchIndex++]=e,h.add(e)}finish(e){this.break(e)}ensureAttributeBuffer(e){e*4<=this.attributeBuffer.size||this._resizeAttributeBuffer(e*4)}ensureIndexBuffer(e){e<=this.indexBuffer.length||this._resizeIndexBuffer(e)}_resizeAttributeBuffer(e){const t=Math.max(e,this.attributeBuffer.size*2),s=new N_(t);q_(this.attributeBuffer.rawBinaryData,s.rawBinaryData),this.attributeBuffer=s}_resizeIndexBuffer(e){const t=this.indexBuffer;let s=Math.max(e,t.length*1.5);s+=s%2;const a=s>65535?new Uint32Array(s):new Uint16Array(s);if(a.BYTES_PER_ELEMENT!==t.BYTES_PER_ELEMENT)for(let l=0;l<t.length;l++)a[l]=t[l];else q_(t.buffer,a.buffer);this.indexBuffer=a}packQuadIndex(e,t,s){e[t]=s+0,e[t+1]=s+1,e[t+2]=s+2,e[t+3]=s+0,e[t+4]=s+2,e[t+5]=s+3}packIndex(e,t,s,a){const l=e.indices,u=e.indexSize,h=e.indexOffset,f=e.attributeOffset;for(let p=0;p<u;p++)t[s++]=a+l[p+h]-f}destroy(){for(let e=0;e<this.batches.length;e++)$_(this.batches[e]);this.batches=null;for(let e=0;e<this._elements.length;e++)this._elements[e]._batch=null;this._elements=null,this.indexBuffer=null,this.attributeBuffer.destroy(),this.attributeBuffer=null}};BS.defaultOptions={maxTextures:null,attributesInitialSize:4,indicesInitialSize:6};let oD=BS;var Vt=(n=>(n[n.MAP_READ=1]="MAP_READ",n[n.MAP_WRITE=2]="MAP_WRITE",n[n.COPY_SRC=4]="COPY_SRC",n[n.COPY_DST=8]="COPY_DST",n[n.INDEX=16]="INDEX",n[n.VERTEX=32]="VERTEX",n[n.UNIFORM=64]="UNIFORM",n[n.STORAGE=128]="STORAGE",n[n.INDIRECT=256]="INDIRECT",n[n.QUERY_RESOLVE=512]="QUERY_RESOLVE",n[n.STATIC=1024]="STATIC",n))(Vt||{});let Ko=class extends Qn{constructor(e){let{data:t,size:s}=e;const{usage:a,label:l,shrinkToFit:u}=e;super(),this.uid=ct("buffer"),this._resourceType="buffer",this._resourceId=ct("resource"),this._touched=0,this._updateID=1,this._dataInt32=null,this.shrinkToFit=!0,this.destroyed=!1,t instanceof Array&&(t=new Float32Array(t)),this._data=t,s??(s=t?.byteLength);const h=!!t;this.descriptor={size:s,usage:a,mappedAtCreation:h,label:l},this.shrinkToFit=u??!0}get data(){return this._data}set data(e){this.setDataWithSize(e,e.length,!0)}get dataInt32(){return this._dataInt32||(this._dataInt32=new Int32Array(this.data.buffer)),this._dataInt32}get static(){return!!(this.descriptor.usage&Vt.STATIC)}set static(e){e?this.descriptor.usage|=Vt.STATIC:this.descriptor.usage&=~Vt.STATIC}setDataWithSize(e,t,s){if(this._updateID++,this._updateSize=t*e.BYTES_PER_ELEMENT,this._data===e){s&&this.emit("update",this);return}const a=this._data;if(this._data=e,this._dataInt32=null,!a||a.length!==e.length){!this.shrinkToFit&&a&&e.byteLength<a.byteLength?s&&this.emit("update",this):(this.descriptor.size=e.byteLength,this._resourceId=ct("resource"),this.emit("change",this));return}s&&this.emit("update",this)}update(e){this._updateSize=e??this._updateSize,this._updateID++,this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._data=null,this.descriptor=null,this.removeAllListeners()}};function zS(n,e){if(!(n instanceof Ko)){let t=e?Vt.INDEX:Vt.VERTEX;n instanceof Array&&(e?(n=new Uint32Array(n),t=Vt.INDEX|Vt.COPY_DST):(n=new Float32Array(n),t=Vt.VERTEX|Vt.COPY_DST)),n=new Ko({data:n,label:e?"index-mesh-buffer":"vertex-mesh-buffer",usage:t})}return n}function lD(n,e,t){const s=n.getAttribute(e);if(!s)return t.minX=0,t.minY=0,t.maxX=0,t.maxY=0,t;const a=s.buffer.data;let l=1/0,u=1/0,h=-1/0,f=-1/0;const p=a.BYTES_PER_ELEMENT,g=(s.offset||0)/p,m=(s.stride||8)/p;for(let b=g;b<a.length;b+=m){const v=a[b],x=a[b+1];v>h&&(h=v),x>f&&(f=x),v<l&&(l=v),x<u&&(u=x)}return t.minX=l,t.minY=u,t.maxX=h,t.maxY=f,t}function uD(n){return(n instanceof Ko||Array.isArray(n)||n.BYTES_PER_ELEMENT)&&(n={buffer:n}),n.buffer=zS(n.buffer,!1),n}class cD extends Qn{constructor(e={}){super(),this.uid=ct("geometry"),this._layoutKey=0,this.instanceCount=1,this._bounds=new Bn,this._boundsDirty=!0;const{attributes:t,indexBuffer:s,topology:a}=e;if(this.buffers=[],this.attributes={},t)for(const l in t)this.addAttribute(l,t[l]);this.instanceCount=e.instanceCount??1,s&&this.addIndex(s),this.topology=a||"triangle-list"}onBufferUpdate(){this._boundsDirty=!0,this.emit("update",this)}getAttribute(e){return this.attributes[e]}getIndex(){return this.indexBuffer}getBuffer(e){return this.getAttribute(e).buffer}getSize(){for(const e in this.attributes){const t=this.attributes[e];return t.buffer.data.length/(t.stride/4||t.size)}return 0}addAttribute(e,t){const s=uD(t);this.buffers.indexOf(s.buffer)===-1&&(this.buffers.push(s.buffer),s.buffer.on("update",this.onBufferUpdate,this),s.buffer.on("change",this.onBufferUpdate,this)),this.attributes[e]=s}addIndex(e){this.indexBuffer=zS(e,!0),this.buffers.push(this.indexBuffer)}get bounds(){return this._boundsDirty?(this._boundsDirty=!1,lD(this,"aPosition",this._bounds)):this._bounds}destroy(e=!1){this.emit("destroy",this),this.removeAllListeners(),e&&this.buffers.forEach(t=>t.destroy()),this.attributes=null,this.buffers=null,this.indexBuffer=null,this._bounds=null}}const hD=new Float32Array(1),fD=new Uint32Array(1);class dD extends cD{constructor(){const t=new Ko({data:hD,label:"attribute-batch-buffer",usage:Vt.VERTEX|Vt.COPY_DST,shrinkToFit:!1}),s=new Ko({data:fD,label:"index-batch-buffer",usage:Vt.INDEX|Vt.COPY_DST,shrinkToFit:!1}),a=24;super({attributes:{aPosition:{buffer:t,format:"float32x2",stride:a,offset:0},aUV:{buffer:t,format:"float32x2",stride:a,offset:8},aColor:{buffer:t,format:"unorm8x4",stride:a,offset:16},aTextureIdAndRound:{buffer:t,format:"uint16x2",stride:a,offset:20}},indexBuffer:s})}}function F_(n,e,t){if(n)for(const s in n){const a=s.toLocaleLowerCase(),l=e[a];if(l){let u=n[s];s==="header"&&(u=u.replace(/@in\s+[^;]+;\s*/g,"").replace(/@out\s+[^;]+;\s*/g,"")),t&&l.push(`//----${t}----//`),l.push(u)}else Qe(`${s} placement hook does not exist in shader`)}}const pD=/\{\{(.*?)\}\}/g;function V_(n){const e={};return(n.match(pD)?.map(s=>s.replace(/[{()}]/g,""))??[]).forEach(s=>{e[s]=[]}),e}function Y_(n,e){let t;const s=/@in\s+([^;]+);/g;for(;(t=s.exec(n))!==null;)e.push(t[1])}function X_(n,e,t=!1){const s=[];Y_(e,s),n.forEach(h=>{h.header&&Y_(h.header,s)});const a=s;t&&a.sort();const l=a.map((h,f)=>`       @location(${f}) ${h},`).join(`
`);let u=e.replace(/@in\s+[^;]+;\s*/g,"");return u=u.replace("{{in}}",`
${l}
`),u}function Q_(n,e){let t;const s=/@out\s+([^;]+);/g;for(;(t=s.exec(n))!==null;)e.push(t[1])}function gD(n){const t=/\b(\w+)\s*:/g.exec(n);return t?t[1]:""}function yD(n){const e=/@.*?\s+/g;return n.replace(e,"")}function mD(n,e){const t=[];Q_(e,t),n.forEach(f=>{f.header&&Q_(f.header,t)});let s=0;const a=t.sort().map(f=>f.indexOf("builtin")>-1?f:`@location(${s++}) ${f}`).join(`,
`),l=t.sort().map(f=>`       var ${yD(f)};`).join(`
`),u=`return VSOutput(
            ${t.sort().map(f=>` ${gD(f)}`).join(`,
`)});`;let h=e.replace(/@out\s+[^;]+;\s*/g,"");return h=h.replace("{{struct}}",`
${a}
`),h=h.replace("{{start}}",`
${l}
`),h=h.replace("{{return}}",`
${u}
`),h}function W_(n,e){let t=n;for(const s in e){const a=e[s];a.join(`
`).length?t=t.replace(`{{${s}}}`,`//-----${s} START-----//
${a.join(`
`)}
//----${s} FINISH----//`):t=t.replace(`{{${s}}}`,"")}return t}const Zi=Object.create(null),qd=new Map;let bD=0;function vD({template:n,bits:e}){const t=US(n,e);if(Zi[t])return Zi[t];const{vertex:s,fragment:a}=wD(n,e);return Zi[t]=jS(s,a,e),Zi[t]}function _D({template:n,bits:e}){const t=US(n,e);return Zi[t]||(Zi[t]=jS(n.vertex,n.fragment,e)),Zi[t]}function wD(n,e){const t=e.map(u=>u.vertex).filter(u=>!!u),s=e.map(u=>u.fragment).filter(u=>!!u);let a=X_(t,n.vertex,!0);a=mD(t,a);const l=X_(s,n.fragment,!0);return{vertex:a,fragment:l}}function US(n,e){return e.map(t=>(qd.has(t)||qd.set(t,bD++),qd.get(t))).sort((t,s)=>t-s).join("-")+n.vertex+n.fragment}function jS(n,e,t){const s=V_(n),a=V_(e);return t.forEach(l=>{F_(l.vertex,s,l.name),F_(l.fragment,a,l.name)}),{vertex:W_(n,s),fragment:W_(e,a)}}const xD=`
    @in aPosition: vec2<f32>;
    @in aUV: vec2<f32>;

    @out @builtin(position) vPosition: vec4<f32>;
    @out vUV : vec2<f32>;
    @out vColor : vec4<f32>;

    {{header}}

    struct VSOutput {
        {{struct}}
    };

    @vertex
    fn main( {{in}} ) -> VSOutput {

        var worldTransformMatrix = globalUniforms.uWorldTransformMatrix;
        var modelMatrix = mat3x3<f32>(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        var position = aPosition;
        var uv = aUV;

        {{start}}
        
        vColor = vec4<f32>(1., 1., 1., 1.);

        {{main}}

        vUV = uv;

        var modelViewProjectionMatrix = globalUniforms.uProjectionMatrix * worldTransformMatrix * modelMatrix;

        vPosition =  vec4<f32>((modelViewProjectionMatrix *  vec3<f32>(position, 1.0)).xy, 0.0, 1.0);
       
        vColor *= globalUniforms.uWorldColorAlpha;

        {{end}}

        {{return}}
    };
`,SD=`
    @in vUV : vec2<f32>;
    @in vColor : vec4<f32>;
   
    {{header}}

    @fragment
    fn main(
        {{in}}
      ) -> @location(0) vec4<f32> {
        
        {{start}}

        var outColor:vec4<f32>;
      
        {{main}}
        
        var finalColor:vec4<f32> = outColor * vColor;

        {{end}}

        return finalColor;
      };
`,AD=`
    in vec2 aPosition;
    in vec2 aUV;

    out vec4 vColor;
    out vec2 vUV;

    {{header}}

    void main(void){

        mat3 worldTransformMatrix = uWorldTransformMatrix;
        mat3 modelMatrix = mat3(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        vec2 position = aPosition;
        vec2 uv = aUV;
        
        {{start}}
        
        vColor = vec4(1.);
        
        {{main}}
        
        vUV = uv;
        
        mat3 modelViewProjectionMatrix = uProjectionMatrix * worldTransformMatrix * modelMatrix;

        gl_Position = vec4((modelViewProjectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);

        vColor *= uWorldColorAlpha;

        {{end}}
    }
`,ED=`
   
    in vec4 vColor;
    in vec2 vUV;

    out vec4 finalColor;

    {{header}}

    void main(void) {
        
        {{start}}

        vec4 outColor;
      
        {{main}}
        
        finalColor = outColor * vColor;
        
        {{end}}
    }
`,TD={name:"global-uniforms-bit",vertex:{header:`
        struct GlobalUniforms {
            uProjectionMatrix:mat3x3<f32>,
            uWorldTransformMatrix:mat3x3<f32>,
            uWorldColorAlpha: vec4<f32>,
            uResolution: vec2<f32>,
        }

        @group(0) @binding(0) var<uniform> globalUniforms : GlobalUniforms;
        `}},MD={name:"global-uniforms-bit",vertex:{header:`
          uniform mat3 uProjectionMatrix;
          uniform mat3 uWorldTransformMatrix;
          uniform vec4 uWorldColorAlpha;
          uniform vec2 uResolution;
        `}};function CD({bits:n,name:e}){const t=vD({template:{fragment:SD,vertex:xD},bits:[TD,...n]});return Rc.from({name:e,vertex:{source:t.vertex,entryPoint:"main"},fragment:{source:t.fragment,entryPoint:"main"}})}function kD({bits:n,name:e}){return new ES({name:e,..._D({template:{vertex:AD,fragment:ED},bits:[MD,...n]})})}const RD={name:"color-bit",vertex:{header:`
            @in aColor: vec4<f32>;
        `,main:`
            vColor *= vec4<f32>(aColor.rgb * aColor.a, aColor.a);
        `}},OD={name:"color-bit",vertex:{header:`
            in vec4 aColor;
        `,main:`
            vColor *= vec4(aColor.rgb * aColor.a, aColor.a);
        `}},Gd={};function PD(n){const e=[];if(n===1)e.push("@group(1) @binding(0) var textureSource1: texture_2d<f32>;"),e.push("@group(1) @binding(1) var textureSampler1: sampler;");else{let t=0;for(let s=0;s<n;s++)e.push(`@group(1) @binding(${t++}) var textureSource${s+1}: texture_2d<f32>;`),e.push(`@group(1) @binding(${t++}) var textureSampler${s+1}: sampler;`)}return e.join(`
`)}function DD(n){const e=[];if(n===1)e.push("outColor = textureSampleGrad(textureSource1, textureSampler1, vUV, uvDx, uvDy);");else{e.push("switch vTextureId {");for(let t=0;t<n;t++)t===n-1?e.push("  default:{"):e.push(`  case ${t}:{`),e.push(`      outColor = textureSampleGrad(textureSource${t+1}, textureSampler${t+1}, vUV, uvDx, uvDy);`),e.push("      break;}");e.push("}")}return e.join(`
`)}function BD(n){return Gd[n]||(Gd[n]={name:"texture-batch-bit",vertex:{header:`
                @in aTextureIdAndRound: vec2<u32>;
                @out @interpolate(flat) vTextureId : u32;
            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1)
                {
                    vPosition = vec4<f32>(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
                }
            `},fragment:{header:`
                @in @interpolate(flat) vTextureId: u32;

                ${PD(n)}
            `,main:`
                var uvDx = dpdx(vUV);
                var uvDy = dpdy(vUV);

                ${DD(n)}
            `}}),Gd[n]}const Hd={};function zD(n){const e=[];for(let t=0;t<n;t++)t>0&&e.push("else"),t<n-1&&e.push(`if(vTextureId < ${t}.5)`),e.push("{"),e.push(`	outColor = texture(uTextures[${t}], vUV);`),e.push("}");return e.join(`
`)}function UD(n){return Hd[n]||(Hd[n]={name:"texture-batch-bit",vertex:{header:`
                in vec2 aTextureIdAndRound;
                out float vTextureId;

            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1.)
                {
                    gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
                }
            `},fragment:{header:`
                in float vTextureId;

                uniform sampler2D uTextures[${n}];

            `,main:`

                ${zD(n)}
            `}}),Hd[n]}const jD={name:"round-pixels-bit",vertex:{header:`
            fn roundPixels(position: vec2<f32>, targetSize: vec2<f32>) -> vec2<f32> 
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},LD={name:"round-pixels-bit",vertex:{header:`   
            vec2 roundPixels(vec2 position, vec2 targetSize)
            {       
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},K_={};function ID(n){let e=K_[n];if(e)return e;const t=new Int32Array(n);for(let s=0;s<n;s++)t[s]=s;return e=K_[n]=new kS({uTextures:{value:t,type:"i32",size:n}},{isStatic:!0}),e}class ND extends Og{constructor(e){const t=kD({name:"batch",bits:[OD,UD(e),LD]}),s=CD({name:"batch",bits:[RD,BD(e),jD]});super({glProgram:t,gpuProgram:s,resources:{batchSamplers:ID(e)}})}}let Z_=null;const LS=class IS extends oD{constructor(){super(...arguments),this.geometry=new dD,this.shader=Z_||(Z_=new ND(this.maxTextures)),this.name=IS.extension.name,this.vertexSize=6}packAttributes(e,t,s,a,l){const u=l<<16|e.roundPixels&65535,h=e.transform,f=h.a,p=h.b,g=h.c,m=h.d,b=h.tx,v=h.ty,{positions:x,uvs:S}=e,_=e.color,E=e.attributeOffset,k=E+e.attributeSize;for(let A=E;A<k;A++){const M=A*2,D=x[M],B=x[M+1];t[a++]=f*D+g*B+b,t[a++]=m*B+p*D+v,t[a++]=S[M],t[a++]=S[M+1],s[a++]=_,s[a++]=u}}packQuadAttributes(e,t,s,a,l){const u=e.texture,h=e.transform,f=h.a,p=h.b,g=h.c,m=h.d,b=h.tx,v=h.ty,x=e.bounds,S=x.maxX,_=x.minX,E=x.maxY,k=x.minY,A=u.uvs,M=e.color,D=l<<16|e.roundPixels&65535;t[a+0]=f*_+g*k+b,t[a+1]=m*k+p*_+v,t[a+2]=A.x0,t[a+3]=A.y0,s[a+4]=M,s[a+5]=D,t[a+6]=f*S+g*k+b,t[a+7]=m*k+p*S+v,t[a+8]=A.x1,t[a+9]=A.y1,s[a+10]=M,s[a+11]=D,t[a+12]=f*S+g*E+b,t[a+13]=m*E+p*S+v,t[a+14]=A.x2,t[a+15]=A.y2,s[a+16]=M,s[a+17]=D,t[a+18]=f*_+g*E+b,t[a+19]=m*E+p*_+v,t[a+20]=A.x3,t[a+21]=A.y3,s[a+22]=M,s[a+23]=D}};LS.extension={type:[ve.Batcher],name:"default"};let qD=LS;function GD(n,e,t,s,a,l,u,h=null){let f=0;t*=e,a*=l;const p=h.a,g=h.b,m=h.c,b=h.d,v=h.tx,x=h.ty;for(;f<u;){const S=n[t],_=n[t+1];s[a]=p*S+m*_+v,s[a+1]=g*S+b*_+x,a+=l,t+=e,f++}}function HD(n,e,t,s){let a=0;for(e*=t;a<s;)n[e]=0,n[e+1]=0,e+=t,a++}function NS(n,e,t,s,a){const l=e.a,u=e.b,h=e.c,f=e.d,p=e.tx,g=e.ty;t||(t=0),s||(s=2),a||(a=n.length/s-t);let m=t*s;for(let b=0;b<a;b++){const v=n[m],x=n[m+1];n[m]=l*v+h*x+p,n[m+1]=u*v+f*x+g,m+=s}}const $D=new De;class qS{constructor(){this.packAsQuad=!1,this.batcherName="default",this.topology="triangle-list",this.applyTransform=!0,this.roundPixels=0,this._batcher=null,this._batch=null}get uvs(){return this.geometryData.uvs}get positions(){return this.geometryData.vertices}get indices(){return this.geometryData.indices}get blendMode(){return this.applyTransform?this.renderable.groupBlendMode:"normal"}get color(){const e=this.baseColor,t=e>>16|e&65280|(e&255)<<16,s=this.renderable;return s?sS(t,s.groupColor)+(this.alpha*s.groupAlpha*255<<24):t+(this.alpha*255<<24)}get transform(){return this.renderable?.groupTransform||$D}copyTo(e){e.indexOffset=this.indexOffset,e.indexSize=this.indexSize,e.attributeOffset=this.attributeOffset,e.attributeSize=this.attributeSize,e.baseColor=this.baseColor,e.alpha=this.alpha,e.texture=this.texture,e.geometryData=this.geometryData,e.topology=this.topology}reset(){this.applyTransform=!0,this.renderable=null,this.topology="triangle-list"}}const Zo={extension:{type:ve.ShapeBuilder,name:"circle"},build(n,e){let t,s,a,l,u,h;if(n.type==="circle"){const M=n;t=M.x,s=M.y,u=h=M.radius,a=l=0}else if(n.type==="ellipse"){const M=n;t=M.x,s=M.y,u=M.halfWidth,h=M.halfHeight,a=l=0}else{const M=n,D=M.width/2,B=M.height/2;t=M.x+D,s=M.y+B,u=h=Math.max(0,Math.min(M.radius,Math.min(D,B))),a=D-u,l=B-h}if(!(u>=0&&h>=0&&a>=0&&l>=0))return e;const f=Math.ceil(2.3*Math.sqrt(u+h)),p=f*8+(a?4:0)+(l?4:0);if(p===0)return e;if(f===0)return e[0]=e[6]=t+a,e[1]=e[3]=s+l,e[2]=e[4]=t-a,e[5]=e[7]=s-l,e;let g=0,m=f*4+(a?2:0)+2,b=m,v=p,x=a+u,S=l,_=t+x,E=t-x,k=s+S;if(e[g++]=_,e[g++]=k,e[--m]=k,e[--m]=E,l){const M=s-S;e[b++]=E,e[b++]=M,e[--v]=M,e[--v]=_}for(let M=1;M<f;M++){const D=Math.PI/2*(M/f),B=a+Math.cos(D)*u,O=l+Math.sin(D)*h,U=t+B,j=t-B,I=s+O,q=s-O;e[g++]=U,e[g++]=I,e[--m]=I,e[--m]=j,e[b++]=j,e[b++]=q,e[--v]=q,e[--v]=U}x=a,S=l+h,_=t+x,E=t-x,k=s+S;const A=s-S;return e[g++]=_,e[g++]=k,e[--v]=A,e[--v]=_,a&&(e[g++]=E,e[g++]=k,e[--v]=A,e[--v]=E),e},triangulate(n,e,t,s,a,l){if(n.length===0)return;let u=0,h=0;for(let g=0;g<n.length;g+=2)u+=n[g],h+=n[g+1];u/=n.length/2,h/=n.length/2;let f=s;e[f*t]=u,e[f*t+1]=h;const p=f++;for(let g=0;g<n.length;g+=2)e[f*t]=n[g],e[f*t+1]=n[g+1],g>0&&(a[l++]=f,a[l++]=p,a[l++]=f-1),f++;a[l++]=p+1,a[l++]=p,a[l++]=f-1}},FD={...Zo,extension:{...Zo.extension,name:"ellipse"}},VD={...Zo,extension:{...Zo.extension,name:"roundedRectangle"}},GS=1e-4,J_=1e-4;function YD(n){const e=n.length;if(e<6)return 1;let t=0;for(let s=0,a=n[e-2],l=n[e-1];s<e;s+=2){const u=n[s],h=n[s+1];t+=(u-a)*(h+l),a=u,l=h}return t<0?-1:1}function ew(n,e,t,s,a,l,u,h){const f=n-t*a,p=e-s*a,g=n+t*l,m=e+s*l;let b,v;u?(b=s,v=-t):(b=-s,v=t);const x=f+b,S=p+v,_=g+b,E=m+v;return h.push(x,S),h.push(_,E),2}function Cs(n,e,t,s,a,l,u,h){const f=t-n,p=s-e;let g=Math.atan2(f,p),m=Math.atan2(a-n,l-e);h&&g<m?g+=Math.PI*2:!h&&g>m&&(m+=Math.PI*2);let b=g;const v=m-g,x=Math.abs(v),S=Math.sqrt(f*f+p*p),_=(15*x*Math.sqrt(S)/Math.PI>>0)+1,E=v/_;if(b+=E,h){u.push(n,e),u.push(t,s);for(let k=1,A=b;k<_;k++,A+=E)u.push(n,e),u.push(n+Math.sin(A)*S,e+Math.cos(A)*S);u.push(n,e),u.push(a,l)}else{u.push(t,s),u.push(n,e);for(let k=1,A=b;k<_;k++,A+=E)u.push(n+Math.sin(A)*S,e+Math.cos(A)*S),u.push(n,e);u.push(a,l),u.push(n,e)}return _*2}function XD(n,e,t,s,a,l){const u=GS;if(n.length===0)return;const h=e;let f=h.alignment;if(e.alignment!==.5){let $=YD(n);f=(f-.5)*$+.5}const p=new jt(n[0],n[1]),g=new jt(n[n.length-2],n[n.length-1]),m=s,b=Math.abs(p.x-g.x)<u&&Math.abs(p.y-g.y)<u;if(m){n=n.slice(),b&&(n.pop(),n.pop(),g.set(n[n.length-2],n[n.length-1]));const $=(p.x+g.x)*.5,C=(g.y+p.y)*.5;n.unshift($,C),n.push($,C)}const v=a,x=n.length/2;let S=n.length;const _=v.length/2,E=h.width/2,k=E*E,A=h.miterLimit*h.miterLimit;let M=n[0],D=n[1],B=n[2],O=n[3],U=0,j=0,I=-(D-O),q=M-B,K=0,ne=0,re=Math.sqrt(I*I+q*q);I/=re,q/=re,I*=E,q*=E;const ae=f,T=(1-ae)*2,P=ae*2;m||(h.cap==="round"?S+=Cs(M-I*(T-P)*.5,D-q*(T-P)*.5,M-I*T,D-q*T,M+I*P,D+q*P,v,!0)+2:h.cap==="square"&&(S+=ew(M,D,I,q,T,P,!0,v))),v.push(M-I*T,D-q*T),v.push(M+I*P,D+q*P);for(let $=1;$<x-1;++$){M=n[($-1)*2],D=n[($-1)*2+1],B=n[$*2],O=n[$*2+1],U=n[($+1)*2],j=n[($+1)*2+1],I=-(D-O),q=M-B,re=Math.sqrt(I*I+q*q),I/=re,q/=re,I*=E,q*=E,K=-(O-j),ne=B-U,re=Math.sqrt(K*K+ne*ne),K/=re,ne/=re,K*=E,ne*=E;const C=B-M,N=D-O,F=B-U,Y=j-O,W=C*F+N*Y,ee=N*F-Y*C,se=ee<0;if(Math.abs(ee)<.001*Math.abs(W)){v.push(B-I*T,O-q*T),v.push(B+I*P,O+q*P),W>=0&&(h.join==="round"?S+=Cs(B,O,B-I*T,O-q*T,B-K*T,O-ne*T,v,!1)+4:S+=2,v.push(B-K*P,O-ne*P),v.push(B+K*T,O+ne*T));continue}const ge=(-I+M)*(-q+O)-(-I+B)*(-q+D),ue=(-K+U)*(-ne+O)-(-K+B)*(-ne+j),me=(C*ue-F*ge)/ee,fe=(Y*ge-N*ue)/ee,$e=(me-B)*(me-B)+(fe-O)*(fe-O),Fe=B+(me-B)*T,nt=O+(fe-O)*T,pt=B-(me-B)*P,_e=O-(fe-O)*P,Ae=Math.min(C*C+N*N,F*F+Y*Y),Qs=se?T:P,Ws=Ae+Qs*Qs*k;$e<=Ws?h.join==="bevel"||$e/k>A?(se?(v.push(Fe,nt),v.push(B+I*P,O+q*P),v.push(Fe,nt),v.push(B+K*P,O+ne*P)):(v.push(B-I*T,O-q*T),v.push(pt,_e),v.push(B-K*T,O-ne*T),v.push(pt,_e)),S+=2):h.join==="round"?se?(v.push(Fe,nt),v.push(B+I*P,O+q*P),S+=Cs(B,O,B+I*P,O+q*P,B+K*P,O+ne*P,v,!0)+4,v.push(Fe,nt),v.push(B+K*P,O+ne*P)):(v.push(B-I*T,O-q*T),v.push(pt,_e),S+=Cs(B,O,B-I*T,O-q*T,B-K*T,O-ne*T,v,!1)+4,v.push(B-K*T,O-ne*T),v.push(pt,_e)):(v.push(Fe,nt),v.push(pt,_e)):(v.push(B-I*T,O-q*T),v.push(B+I*P,O+q*P),h.join==="round"?se?S+=Cs(B,O,B+I*P,O+q*P,B+K*P,O+ne*P,v,!0)+2:S+=Cs(B,O,B-I*T,O-q*T,B-K*T,O-ne*T,v,!1)+2:h.join==="miter"&&$e/k<=A&&(se?(v.push(pt,_e),v.push(pt,_e)):(v.push(Fe,nt),v.push(Fe,nt)),S+=2),v.push(B-K*T,O-ne*T),v.push(B+K*P,O+ne*P),S+=2)}M=n[(x-2)*2],D=n[(x-2)*2+1],B=n[(x-1)*2],O=n[(x-1)*2+1],I=-(D-O),q=M-B,re=Math.sqrt(I*I+q*q),I/=re,q/=re,I*=E,q*=E,v.push(B-I*T,O-q*T),v.push(B+I*P,O+q*P),m||(h.cap==="round"?S+=Cs(B-I*(T-P)*.5,O-q*(T-P)*.5,B-I*T,O-q*T,B+I*P,O+q*P,v,!1)+2:h.cap==="square"&&(S+=ew(B,O,I,q,T,P,!1,v)));const z=J_*J_;for(let $=_;$<S+_-2;++$)M=v[$*2],D=v[$*2+1],B=v[($+1)*2],O=v[($+1)*2+1],U=v[($+2)*2],j=v[($+2)*2+1],!(Math.abs(M*(O-j)+B*(j-D)+U*(D-O))<z)&&l.push($,$+1,$+2)}function QD(n,e,t,s){const a=GS;if(n.length===0)return;const l=n[0],u=n[1],h=n[n.length-2],f=n[n.length-1],p=e||Math.abs(l-h)<a&&Math.abs(u-f)<a,g=t,m=n.length/2,b=g.length/2;for(let v=0;v<m;v++)g.push(n[v*2]),g.push(n[v*2+1]);for(let v=0;v<m-1;v++)s.push(b+v,b+v+1);p&&s.push(b+m-1,b)}function HS(n,e,t,s,a,l,u){const h=HP(n,e,2);if(!h)return;for(let p=0;p<h.length;p+=3)l[u++]=h[p]+a,l[u++]=h[p+1]+a,l[u++]=h[p+2]+a;let f=a*s;for(let p=0;p<n.length;p+=2)t[f]=n[p],t[f+1]=n[p+1],f+=s}const WD=[],KD={extension:{type:ve.ShapeBuilder,name:"polygon"},build(n,e){for(let t=0;t<n.points.length;t++)e[t]=n.points[t];return e},triangulate(n,e,t,s,a,l){HS(n,WD,e,t,s,a,l)}},ZD={extension:{type:ve.ShapeBuilder,name:"rectangle"},build(n,e){const t=n,s=t.x,a=t.y,l=t.width,u=t.height;return l>=0&&u>=0&&(e[0]=s,e[1]=a,e[2]=s+l,e[3]=a,e[4]=s+l,e[5]=a+u,e[6]=s,e[7]=a+u),e},triangulate(n,e,t,s,a,l){let u=0;s*=t,e[s+u]=n[0],e[s+u+1]=n[1],u+=t,e[s+u]=n[2],e[s+u+1]=n[3],u+=t,e[s+u]=n[6],e[s+u+1]=n[7],u+=t,e[s+u]=n[4],e[s+u+1]=n[5],u+=t;const h=s/t;a[l++]=h,a[l++]=h+1,a[l++]=h+2,a[l++]=h+1,a[l++]=h+3,a[l++]=h+2}},JD={extension:{type:ve.ShapeBuilder,name:"triangle"},build(n,e){return e[0]=n.x,e[1]=n.y,e[2]=n.x2,e[3]=n.y2,e[4]=n.x3,e[5]=n.y3,e},triangulate(n,e,t,s,a,l){let u=0;s*=t,e[s+u]=n[0],e[s+u+1]=n[1],u+=t,e[s+u]=n[2],e[s+u+1]=n[3],u+=t,e[s+u]=n[4],e[s+u+1]=n[5];const h=s/t;a[l++]=h,a[l++]=h+1,a[l++]=h+2}},eB=new De,tB=new ut;function nB(n,e,t,s){const a=e.matrix?n.copyFrom(e.matrix).invert():n.identity();if(e.textureSpace==="local"){const l=t.getBounds(tB);a.translate(-l.x,-l.y),a.scale(1/l.width,1/l.height)}else{a.translate(e.texture.frame.x,e.texture.frame.y),a.scale(1/e.texture.source.width,1/e.texture.source.height);const l=e.texture.source.style;l.addressMode==="clamp-to-edge"&&(l.addressMode="repeat",l.update())}return s&&a.append(eB.copyFrom(s).invert()),a}const Pc={};Yt.handleByMap(ve.ShapeBuilder,Pc);Yt.add(ZD,KD,JD,Zo,FD,VD);const iB=new ut,sB=new De;function rB(n,e){const{geometryData:t,batches:s}=e;s.length=0,t.indices.length=0,t.vertices.length=0,t.uvs.length=0;for(let a=0;a<n.instructions.length;a++){const l=n.instructions[a];if(l.action==="texture")aB(l.data,s,t);else if(l.action==="fill"||l.action==="stroke"){const u=l.action==="stroke",h=l.data.path.shapePath,f=l.data.style,p=l.data.hole;u&&p&&tw(p.shapePath,f,!0,s,t),p&&(h.shapePrimitives[h.shapePrimitives.length-1].holes=p.shapePath.shapePrimitives),tw(h,f,u,s,t)}}}function aB(n,e,t){const{vertices:s,uvs:a,indices:l}=t,u=l.length,h=s.length/2,f=[],p=Pc.rectangle,g=iB,m=n.image;g.x=n.dx,g.y=n.dy,g.width=n.dw,g.height=n.dh;const b=n.transform;p.build(g,f),b&&NS(f,b),p.triangulate(f,s,2,h,l,u);const v=m.uvs;a.push(v.x0,v.y0,v.x1,v.y1,v.x3,v.y3,v.x2,v.y2);const x=xi.get(qS);x.indexOffset=u,x.indexSize=l.length-u,x.attributeOffset=h,x.attributeSize=s.length/2-h,x.baseColor=n.style,x.alpha=n.alpha,x.texture=m,x.geometryData=t,e.push(x)}function tw(n,e,t,s,a){const{vertices:l,uvs:u,indices:h}=a;n.shapePrimitives.forEach(({shape:f,transform:p,holes:g})=>{const m=h.length,b=l.length/2,v=[],x=Pc[f.type];let S="triangle-list";if(x.build(f,v),p&&NS(v,p),t){const A=f.closePath??!0,M=e;M.pixelLine?(QD(v,A,l,h),S="line-list"):XD(v,M,!1,A,l,h)}else if(g){const A=[],M=v.slice();oB(g).forEach(B=>{A.push(M.length/2),M.push(...B)}),HS(M,A,l,2,b,h,m)}else x.triangulate(v,l,2,b,h,m);const _=u.length/2,E=e.texture;if(E!==Pe.WHITE){const A=nB(sB,e,f,p);GD(l,2,b,u,_,2,l.length/2-b,A)}else HD(u,_,2,l.length/2-b);const k=xi.get(qS);k.indexOffset=m,k.indexSize=h.length-m,k.attributeOffset=b,k.attributeSize=l.length/2-b,k.baseColor=e.color,k.alpha=e.alpha,k.texture=E,k.geometryData=a,k.topology=S,s.push(k)})}function oB(n){const e=[];for(let t=0;t<n.length;t++){const s=n[t].shape,a=[];Pc[s.type].build(s,a),e.push(a)}return e}class lB{constructor(){this.batches=[],this.geometryData={vertices:[],uvs:[],indices:[]}}}class uB{constructor(){this.batcher=new qD,this.instructions=new lS}init(){this.instructions.reset()}get geometry(){return st(CO,"GraphicsContextRenderData#geometry is deprecated, please use batcher.geometry instead."),this.batcher.geometry}}const Ug=class Lp{constructor(e){this._gpuContextHash={},this._graphicsDataContextHash=Object.create(null),e.renderableGC.addManagedHash(this,"_gpuContextHash"),e.renderableGC.addManagedHash(this,"_graphicsDataContextHash")}init(e){Lp.defaultOptions.bezierSmoothness=e?.bezierSmoothness??Lp.defaultOptions.bezierSmoothness}getContextRenderData(e){return this._graphicsDataContextHash[e.uid]||this._initContextRenderData(e)}updateGpuContext(e){let t=this._gpuContextHash[e.uid]||this._initContext(e);if(e.dirty){t?this._cleanGraphicsContextData(e):t=this._initContext(e),rB(e,t);const s=e.batchMode;e.customShader||s==="no-batch"?t.isBatchable=!1:s==="auto"&&(t.isBatchable=t.geometryData.vertices.length<400),e.dirty=!1}return t}getGpuContext(e){return this._gpuContextHash[e.uid]||this._initContext(e)}_initContextRenderData(e){const t=xi.get(uB),{batches:s,geometryData:a}=this._gpuContextHash[e.uid],l=a.vertices.length,u=a.indices.length;for(let g=0;g<s.length;g++)s[g].applyTransform=!1;const h=t.batcher;h.ensureAttributeBuffer(l),h.ensureIndexBuffer(u),h.begin();for(let g=0;g<s.length;g++){const m=s[g];h.add(m)}h.finish(t.instructions);const f=h.geometry;f.indexBuffer.setDataWithSize(h.indexBuffer,h.indexSize,!0),f.buffers[0].setDataWithSize(h.attributeBuffer.float32View,h.attributeSize,!0);const p=h.batches;for(let g=0;g<p.length;g++){const m=p[g];m.bindGroup=tD(m.textures.textures,m.textures.count)}return this._graphicsDataContextHash[e.uid]=t,t}_initContext(e){const t=new lB;return t.context=e,this._gpuContextHash[e.uid]=t,e.on("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[e.uid]}onGraphicsContextDestroy(e){this._cleanGraphicsContextData(e),e.off("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[e.uid]=null}_cleanGraphicsContextData(e){const t=this._gpuContextHash[e.uid];t.isBatchable||this._graphicsDataContextHash[e.uid]&&(xi.return(this.getContextRenderData(e)),this._graphicsDataContextHash[e.uid]=null),t.batches&&t.batches.forEach(s=>{xi.return(s)})}destroy(){for(const e in this._gpuContextHash)this._gpuContextHash[e]&&this.onGraphicsContextDestroy(this._gpuContextHash[e].context)}};Ug.extension={type:[ve.WebGLSystem,ve.WebGPUSystem,ve.CanvasSystem],name:"graphicsContext"};Ug.defaultOptions={bezierSmoothness:.5};let $S=Ug;const cB=8,Yu=11920929e-14,hB=1;function FS(n,e,t,s,a,l,u,h,f,p){const m=Math.min(.99,Math.max(0,p??$S.defaultOptions.bezierSmoothness));let b=(hB-m)/1;return b*=b,fB(e,t,s,a,l,u,h,f,n,b),n}function fB(n,e,t,s,a,l,u,h,f,p){Ip(n,e,t,s,a,l,u,h,f,p,0),f.push(u,h)}function Ip(n,e,t,s,a,l,u,h,f,p,g){if(g>cB)return;const m=(n+t)/2,b=(e+s)/2,v=(t+a)/2,x=(s+l)/2,S=(a+u)/2,_=(l+h)/2,E=(m+v)/2,k=(b+x)/2,A=(v+S)/2,M=(x+_)/2,D=(E+A)/2,B=(k+M)/2;if(g>0){let O=u-n,U=h-e;const j=Math.abs((t-u)*U-(s-h)*O),I=Math.abs((a-u)*U-(l-h)*O);if(j>Yu&&I>Yu){if((j+I)*(j+I)<=p*(O*O+U*U)){f.push(D,B);return}}else if(j>Yu){if(j*j<=p*(O*O+U*U)){f.push(D,B);return}}else if(I>Yu){if(I*I<=p*(O*O+U*U)){f.push(D,B);return}}else if(O=D-(n+u)/2,U=B-(e+h)/2,O*O+U*U<=p){f.push(D,B);return}}Ip(n,e,m,b,E,k,D,B,f,p,g+1),Ip(D,B,A,M,S,_,u,h,f,p,g+1)}const dB=8,pB=11920929e-14,gB=1;function yB(n,e,t,s,a,l,u,h){const p=Math.min(.99,Math.max(0,h??$S.defaultOptions.bezierSmoothness));let g=(gB-p)/1;return g*=g,mB(e,t,s,a,l,u,n,g),n}function mB(n,e,t,s,a,l,u,h){Np(u,n,e,t,s,a,l,h,0),u.push(a,l)}function Np(n,e,t,s,a,l,u,h,f){if(f>dB)return;const p=(e+s)/2,g=(t+a)/2,m=(s+l)/2,b=(a+u)/2,v=(p+m)/2,x=(g+b)/2;let S=l-e,_=u-t;const E=Math.abs((s-l)*_-(a-u)*S);if(E>pB){if(E*E<=h*(S*S+_*_)){n.push(v,x);return}}else if(S=v-(e+l)/2,_=x-(t+u)/2,S*S+_*_<=h){n.push(v,x);return}Np(n,e,t,p,g,v,x,h,f+1),Np(n,v,x,m,b,l,u,h,f+1)}function VS(n,e,t,s,a,l,u,h){let f=Math.abs(a-l);(!u&&a>l||u&&l>a)&&(f=2*Math.PI-f),h||(h=Math.max(6,Math.floor(6*Math.pow(s,1/3)*(f/Math.PI)))),h=Math.max(h,3);let p=f/h,g=a;p*=u?-1:1;for(let m=0;m<h+1;m++){const b=Math.cos(g),v=Math.sin(g),x=e+b*s,S=t+v*s;n.push(x,S),g+=p}}function bB(n,e,t,s,a,l){const u=n[n.length-2],f=n[n.length-1]-t,p=u-e,g=a-t,m=s-e,b=Math.abs(f*m-p*g);if(b<1e-8||l===0){(n[n.length-2]!==e||n[n.length-1]!==t)&&n.push(e,t);return}const v=f*f+p*p,x=g*g+m*m,S=f*g+p*m,_=l*Math.sqrt(v)/b,E=l*Math.sqrt(x)/b,k=_*S/v,A=E*S/x,M=_*m+E*p,D=_*g+E*f,B=p*(E+k),O=f*(E+k),U=m*(_+A),j=g*(_+A),I=Math.atan2(O-D,B-M),q=Math.atan2(j-D,U-M);VS(n,M+e,D+t,l,I,q,p*g>m*f)}const Io=Math.PI*2,$d={centerX:0,centerY:0,ang1:0,ang2:0},Fd=({x:n,y:e},t,s,a,l,u,h,f)=>{n*=t,e*=s;const p=a*n-l*e,g=l*n+a*e;return f.x=p+u,f.y=g+h,f};function vB(n,e){const t=e===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(e/4),s=e===1.5707963267948966?.551915024494:t,a=Math.cos(n),l=Math.sin(n),u=Math.cos(n+e),h=Math.sin(n+e);return[{x:a-l*s,y:l+a*s},{x:u+h*s,y:h-u*s},{x:u,y:h}]}const nw=(n,e,t,s)=>{const a=n*s-e*t<0?-1:1;let l=n*t+e*s;return l>1&&(l=1),l<-1&&(l=-1),a*Math.acos(l)},_B=(n,e,t,s,a,l,u,h,f,p,g,m,b)=>{const v=Math.pow(a,2),x=Math.pow(l,2),S=Math.pow(g,2),_=Math.pow(m,2);let E=v*x-v*_-x*S;E<0&&(E=0),E/=v*_+x*S,E=Math.sqrt(E)*(u===h?-1:1);const k=E*a/l*m,A=E*-l/a*g,M=p*k-f*A+(n+t)/2,D=f*k+p*A+(e+s)/2,B=(g-k)/a,O=(m-A)/l,U=(-g-k)/a,j=(-m-A)/l,I=nw(1,0,B,O);let q=nw(B,O,U,j);h===0&&q>0&&(q-=Io),h===1&&q<0&&(q+=Io),b.centerX=M,b.centerY=D,b.ang1=I,b.ang2=q};function wB(n,e,t,s,a,l,u,h=0,f=0,p=0){if(l===0||u===0)return;const g=Math.sin(h*Io/360),m=Math.cos(h*Io/360),b=m*(e-s)/2+g*(t-a)/2,v=-g*(e-s)/2+m*(t-a)/2;if(b===0&&v===0)return;l=Math.abs(l),u=Math.abs(u);const x=Math.pow(b,2)/Math.pow(l,2)+Math.pow(v,2)/Math.pow(u,2);x>1&&(l*=Math.sqrt(x),u*=Math.sqrt(x)),_B(e,t,s,a,l,u,f,p,g,m,b,v,$d);let{ang1:S,ang2:_}=$d;const{centerX:E,centerY:k}=$d;let A=Math.abs(_)/(Io/4);Math.abs(1-A)<1e-7&&(A=1);const M=Math.max(Math.ceil(A),1);_/=M;let D=n[n.length-2],B=n[n.length-1];const O={x:0,y:0};for(let U=0;U<M;U++){const j=vB(S,_),{x:I,y:q}=Fd(j[0],l,u,m,g,E,k,O),{x:K,y:ne}=Fd(j[1],l,u,m,g,E,k,O),{x:re,y:ae}=Fd(j[2],l,u,m,g,E,k,O);FS(n,D,B,I,q,K,ne,re,ae),D=re,B=ae,S+=_}}function xB(n,e,t){const s=(u,h)=>{const f=h.x-u.x,p=h.y-u.y,g=Math.sqrt(f*f+p*p),m=f/g,b=p/g;return{len:g,nx:m,ny:b}},a=(u,h)=>{u===0?n.moveTo(h.x,h.y):n.lineTo(h.x,h.y)};let l=e[e.length-1];for(let u=0;u<e.length;u++){const h=e[u%e.length],f=h.radius??t;if(f<=0){a(u,h),l=h;continue}const p=e[(u+1)%e.length],g=s(h,l),m=s(h,p);if(g.len<1e-4||m.len<1e-4){a(u,h),l=h;continue}let b=Math.asin(g.nx*m.ny-g.ny*m.nx),v=1,x=!1;g.nx*m.nx-g.ny*-m.ny<0?b<0?b=Math.PI+b:(b=Math.PI-b,v=-1,x=!0):b>0&&(v=-1,x=!0);const S=b/2;let _,E=Math.abs(Math.cos(S)*f/Math.sin(S));E>Math.min(g.len/2,m.len/2)?(E=Math.min(g.len/2,m.len/2),_=Math.abs(E*Math.sin(S)/Math.cos(S))):_=f;const k=h.x+m.nx*E+-m.ny*_*v,A=h.y+m.ny*E+m.nx*_*v,M=Math.atan2(g.ny,g.nx)+Math.PI/2*v,D=Math.atan2(m.ny,m.nx)-Math.PI/2*v;u===0&&n.moveTo(k+Math.cos(M)*_,A+Math.sin(M)*_),n.arc(k,A,_,M,D,x),l=h}}function SB(n,e,t,s){const a=(h,f)=>Math.sqrt((h.x-f.x)**2+(h.y-f.y)**2),l=(h,f,p)=>({x:h.x+(f.x-h.x)*p,y:h.y+(f.y-h.y)*p}),u=e.length;for(let h=0;h<u;h++){const f=e[(h+1)%u],p=f.radius??t;if(p<=0){h===0?n.moveTo(f.x,f.y):n.lineTo(f.x,f.y);continue}const g=e[h],m=e[(h+2)%u],b=a(g,f);let v;if(b<1e-4)v=f;else{const _=Math.min(b/2,p);v=l(f,g,_/b)}const x=a(m,f);let S;if(x<1e-4)S=f;else{const _=Math.min(x/2,p);S=l(f,m,_/x)}h===0?n.moveTo(v.x,v.y):n.lineTo(v.x,v.y),n.quadraticCurveTo(f.x,f.y,S.x,S.y,s)}}const AB=new ut;class EB{constructor(e){this.shapePrimitives=[],this._currentPoly=null,this._bounds=new Bn,this._graphicsPath2D=e,this.signed=e.checkForHoles}moveTo(e,t){return this.startPoly(e,t),this}lineTo(e,t){this._ensurePoly();const s=this._currentPoly.points,a=s[s.length-2],l=s[s.length-1];return(a!==e||l!==t)&&s.push(e,t),this}arc(e,t,s,a,l,u){this._ensurePoly(!1);const h=this._currentPoly.points;return VS(h,e,t,s,a,l,u),this}arcTo(e,t,s,a,l){this._ensurePoly();const u=this._currentPoly.points;return bB(u,e,t,s,a,l),this}arcToSvg(e,t,s,a,l,u,h){const f=this._currentPoly.points;return wB(f,this._currentPoly.lastX,this._currentPoly.lastY,u,h,e,t,s,a,l),this}bezierCurveTo(e,t,s,a,l,u,h){this._ensurePoly();const f=this._currentPoly;return FS(this._currentPoly.points,f.lastX,f.lastY,e,t,s,a,l,u,h),this}quadraticCurveTo(e,t,s,a,l){this._ensurePoly();const u=this._currentPoly;return yB(this._currentPoly.points,u.lastX,u.lastY,e,t,s,a,l),this}closePath(){return this.endPoly(!0),this}addPath(e,t){this.endPoly(),t&&!t.isIdentity()&&(e=e.clone(!0),e.transform(t));const s=this.shapePrimitives,a=s.length;for(let l=0;l<e.instructions.length;l++){const u=e.instructions[l];this[u.action](...u.data)}if(e.checkForHoles&&s.length-a>1){let l=null;for(let u=a;u<s.length;u++){const h=s[u];if(h.shape.type==="polygon"){const f=h.shape,p=l?.shape;p&&p.containsPolygon(f)?(l.holes||(l.holes=[]),l.holes.push(h),s.copyWithin(u,u+1),s.length--,u--):l=h}}}return this}finish(e=!1){this.endPoly(e)}rect(e,t,s,a,l){return this.drawShape(new ut(e,t,s,a),l),this}circle(e,t,s,a){return this.drawShape(new Dg(e,t,s),a),this}poly(e,t,s){const a=new Lo(e);return a.closePath=t,this.drawShape(a,s),this}regularPoly(e,t,s,a,l=0,u){a=Math.max(a|0,3);const h=-1*Math.PI/2+l,f=Math.PI*2/a,p=[];for(let g=0;g<a;g++){const m=h-g*f;p.push(e+s*Math.cos(m),t+s*Math.sin(m))}return this.poly(p,!0,u),this}roundPoly(e,t,s,a,l,u=0,h){if(a=Math.max(a|0,3),l<=0)return this.regularPoly(e,t,s,a,u);const f=s*Math.sin(Math.PI/a)-.001;l=Math.min(l,f);const p=-1*Math.PI/2+u,g=Math.PI*2/a,m=(a-2)*Math.PI/a/2;for(let b=0;b<a;b++){const v=b*g+p,x=e+s*Math.cos(v),S=t+s*Math.sin(v),_=v+Math.PI+m,E=v-Math.PI-m,k=x+l*Math.cos(_),A=S+l*Math.sin(_),M=x+l*Math.cos(E),D=S+l*Math.sin(E);b===0?this.moveTo(k,A):this.lineTo(k,A),this.quadraticCurveTo(x,S,M,D,h)}return this.closePath()}roundShape(e,t,s=!1,a){return e.length<3?this:(s?SB(this,e,t,a):xB(this,e,t),this.closePath())}filletRect(e,t,s,a,l){if(l===0)return this.rect(e,t,s,a);const u=Math.min(s,a)/2,h=Math.min(u,Math.max(-u,l)),f=e+s,p=t+a,g=h<0?-h:0,m=Math.abs(h);return this.moveTo(e,t+m).arcTo(e+g,t+g,e+m,t,m).lineTo(f-m,t).arcTo(f-g,t+g,f,t+m,m).lineTo(f,p-m).arcTo(f-g,p-g,e+s-m,p,m).lineTo(e+m,p).arcTo(e+g,p-g,e,p-m,m).closePath()}chamferRect(e,t,s,a,l,u){if(l<=0)return this.rect(e,t,s,a);const h=Math.min(l,Math.min(s,a)/2),f=e+s,p=t+a,g=[e+h,t,f-h,t,f,t+h,f,p-h,f-h,p,e+h,p,e,p-h,e,t+h];for(let m=g.length-1;m>=2;m-=2)g[m]===g[m-2]&&g[m-1]===g[m-3]&&g.splice(m-1,2);return this.poly(g,!0,u)}ellipse(e,t,s,a,l){return this.drawShape(new Bg(e,t,s,a),l),this}roundRect(e,t,s,a,l,u){return this.drawShape(new zg(e,t,s,a,l),u),this}drawShape(e,t){return this.endPoly(),this.shapePrimitives.push({shape:e,transform:t}),this}startPoly(e,t){let s=this._currentPoly;return s&&this.endPoly(),s=new Lo,s.points.push(e,t),this._currentPoly=s,this}endPoly(e=!1){const t=this._currentPoly;return t&&t.points.length>2&&(t.closePath=e,this.shapePrimitives.push({shape:t})),this._currentPoly=null,this}_ensurePoly(e=!0){if(!this._currentPoly&&(this._currentPoly=new Lo,e)){const t=this.shapePrimitives[this.shapePrimitives.length-1];if(t){let s=t.shape.x,a=t.shape.y;if(t.transform&&!t.transform.isIdentity()){const l=t.transform,u=s;s=l.a*s+l.c*a+l.tx,a=l.b*u+l.d*a+l.ty}this._currentPoly.points.push(s,a)}else this._currentPoly.points.push(0,0)}}buildPath(){const e=this._graphicsPath2D;this.shapePrimitives.length=0,this._currentPoly=null;for(let t=0;t<e.instructions.length;t++){const s=e.instructions[t];this[s.action](...s.data)}this.finish()}get bounds(){const e=this._bounds;e.clear();const t=this.shapePrimitives;for(let s=0;s<t.length;s++){const a=t[s],l=a.shape.getBounds(AB);a.transform?e.addRect(l,a.transform):e.addRect(l)}return e}}class na{constructor(e,t=!1){this.instructions=[],this.uid=ct("graphicsPath"),this._dirty=!0,this.checkForHoles=t,typeof e=="string"?XP(e,this):this.instructions=e?.slice()??[]}get shapePath(){return this._shapePath||(this._shapePath=new EB(this)),this._dirty&&(this._dirty=!1,this._shapePath.buildPath()),this._shapePath}addPath(e,t){return e=e.clone(),this.instructions.push({action:"addPath",data:[e,t]}),this._dirty=!0,this}arc(...e){return this.instructions.push({action:"arc",data:e}),this._dirty=!0,this}arcTo(...e){return this.instructions.push({action:"arcTo",data:e}),this._dirty=!0,this}arcToSvg(...e){return this.instructions.push({action:"arcToSvg",data:e}),this._dirty=!0,this}bezierCurveTo(...e){return this.instructions.push({action:"bezierCurveTo",data:e}),this._dirty=!0,this}bezierCurveToShort(e,t,s,a,l){const u=this.instructions[this.instructions.length-1],h=this.getLastPoint(jt.shared);let f=0,p=0;if(!u||u.action!=="bezierCurveTo")f=h.x,p=h.y;else{f=u.data[2],p=u.data[3];const g=h.x,m=h.y;f=g+(g-f),p=m+(m-p)}return this.instructions.push({action:"bezierCurveTo",data:[f,p,e,t,s,a,l]}),this._dirty=!0,this}closePath(){return this.instructions.push({action:"closePath",data:[]}),this._dirty=!0,this}ellipse(...e){return this.instructions.push({action:"ellipse",data:e}),this._dirty=!0,this}lineTo(...e){return this.instructions.push({action:"lineTo",data:e}),this._dirty=!0,this}moveTo(...e){return this.instructions.push({action:"moveTo",data:e}),this}quadraticCurveTo(...e){return this.instructions.push({action:"quadraticCurveTo",data:e}),this._dirty=!0,this}quadraticCurveToShort(e,t,s){const a=this.instructions[this.instructions.length-1],l=this.getLastPoint(jt.shared);let u=0,h=0;if(!a||a.action!=="quadraticCurveTo")u=l.x,h=l.y;else{u=a.data[0],h=a.data[1];const f=l.x,p=l.y;u=f+(f-u),h=p+(p-h)}return this.instructions.push({action:"quadraticCurveTo",data:[u,h,e,t,s]}),this._dirty=!0,this}rect(e,t,s,a,l){return this.instructions.push({action:"rect",data:[e,t,s,a,l]}),this._dirty=!0,this}circle(e,t,s,a){return this.instructions.push({action:"circle",data:[e,t,s,a]}),this._dirty=!0,this}roundRect(...e){return this.instructions.push({action:"roundRect",data:e}),this._dirty=!0,this}poly(...e){return this.instructions.push({action:"poly",data:e}),this._dirty=!0,this}regularPoly(...e){return this.instructions.push({action:"regularPoly",data:e}),this._dirty=!0,this}roundPoly(...e){return this.instructions.push({action:"roundPoly",data:e}),this._dirty=!0,this}roundShape(...e){return this.instructions.push({action:"roundShape",data:e}),this._dirty=!0,this}filletRect(...e){return this.instructions.push({action:"filletRect",data:e}),this._dirty=!0,this}chamferRect(...e){return this.instructions.push({action:"chamferRect",data:e}),this._dirty=!0,this}star(e,t,s,a,l,u,h){l||(l=a/2);const f=-1*Math.PI/2+u,p=s*2,g=Math.PI*2/p,m=[];for(let b=0;b<p;b++){const v=b%2?l:a,x=b*g+f;m.push(e+v*Math.cos(x),t+v*Math.sin(x))}return this.poly(m,!0,h),this}clone(e=!1){const t=new na;if(t.checkForHoles=this.checkForHoles,!e)t.instructions=this.instructions.slice();else for(let s=0;s<this.instructions.length;s++){const a=this.instructions[s];t.instructions.push({action:a.action,data:a.data.slice()})}return t}clear(){return this.instructions.length=0,this._dirty=!0,this}transform(e){if(e.isIdentity())return this;const t=e.a,s=e.b,a=e.c,l=e.d,u=e.tx,h=e.ty;let f=0,p=0,g=0,m=0,b=0,v=0,x=0,S=0;for(let _=0;_<this.instructions.length;_++){const E=this.instructions[_],k=E.data;switch(E.action){case"moveTo":case"lineTo":f=k[0],p=k[1],k[0]=t*f+a*p+u,k[1]=s*f+l*p+h;break;case"bezierCurveTo":g=k[0],m=k[1],b=k[2],v=k[3],f=k[4],p=k[5],k[0]=t*g+a*m+u,k[1]=s*g+l*m+h,k[2]=t*b+a*v+u,k[3]=s*b+l*v+h,k[4]=t*f+a*p+u,k[5]=s*f+l*p+h;break;case"quadraticCurveTo":g=k[0],m=k[1],f=k[2],p=k[3],k[0]=t*g+a*m+u,k[1]=s*g+l*m+h,k[2]=t*f+a*p+u,k[3]=s*f+l*p+h;break;case"arcToSvg":f=k[5],p=k[6],x=k[0],S=k[1],k[0]=t*x+a*S,k[1]=s*x+l*S,k[5]=t*f+a*p+u,k[6]=s*f+l*p+h;break;case"circle":k[4]=vo(k[3],e);break;case"rect":k[4]=vo(k[4],e);break;case"ellipse":k[8]=vo(k[8],e);break;case"roundRect":k[5]=vo(k[5],e);break;case"addPath":k[0].transform(e);break;case"poly":k[2]=vo(k[2],e);break;default:Qe("unknown transform action",E.action);break}}return this._dirty=!0,this}get bounds(){return this.shapePath.bounds}getLastPoint(e){let t=this.instructions.length-1,s=this.instructions[t];if(!s)return e.x=0,e.y=0,e;for(;s.action==="closePath";){if(t--,t<0)return e.x=0,e.y=0,e;s=this.instructions[t]}switch(s.action){case"moveTo":case"lineTo":e.x=s.data[0],e.y=s.data[1];break;case"quadraticCurveTo":e.x=s.data[2],e.y=s.data[3];break;case"bezierCurveTo":e.x=s.data[4],e.y=s.data[5];break;case"arc":case"arcToSvg":e.x=s.data[5],e.y=s.data[6];break;case"addPath":s.data[0].getLastPoint(e);break}return e}}function vo(n,e){return n?n.prepend(e):e.clone()}function Je(n,e,t){const s=n.getAttribute(e);return s?Number(s):t}function TB(n,e){const t=n.querySelectorAll("defs");for(let s=0;s<t.length;s++){const a=t[s];for(let l=0;l<a.children.length;l++){const u=a.children[l];switch(u.nodeName.toLowerCase()){case"lineargradient":e.defs[u.id]=MB(u);break;case"radialgradient":e.defs[u.id]=CB();break}}}}function MB(n){const e=Je(n,"x1",0),t=Je(n,"y1",0),s=Je(n,"x2",1),a=Je(n,"y2",0),l=n.getAttribute("gradientUnits")||"objectBoundingBox",u=new ts(e,t,s,a,l==="objectBoundingBox"?"local":"global");for(let h=0;h<n.children.length;h++){const f=n.children[h],p=Je(f,"offset",0),g=kt.shared.setValue(f.getAttribute("stop-color")).toNumber();u.addColorStop(p,g)}return u}function CB(n){return Qe("[SVG Parser] Radial gradients are not yet supported"),new ts(0,0,1,0)}function iw(n){const e=n.match(/url\s*\(\s*['"]?\s*#([^'"\s)]+)\s*['"]?\s*\)/i);return e?e[1]:""}const sw={fill:{type:"paint",default:0},"fill-opacity":{type:"number",default:1},stroke:{type:"paint",default:0},"stroke-width":{type:"number",default:1},"stroke-opacity":{type:"number",default:1},"stroke-linecap":{type:"string",default:"butt"},"stroke-linejoin":{type:"string",default:"miter"},"stroke-miterlimit":{type:"number",default:10},"stroke-dasharray":{type:"string",default:"none"},"stroke-dashoffset":{type:"number",default:0},opacity:{type:"number",default:1}};function YS(n,e){const t=n.getAttribute("style"),s={},a={},l={strokeStyle:s,fillStyle:a,useFill:!1,useStroke:!1};for(const u in sw){const h=n.getAttribute(u);h&&rw(e,l,u,h.trim())}if(t){const u=t.split(";");for(let h=0;h<u.length;h++){const f=u[h].trim(),[p,g]=f.split(":");sw[p]&&rw(e,l,p,g.trim())}}return{strokeStyle:l.useStroke?s:null,fillStyle:l.useFill?a:null,useFill:l.useFill,useStroke:l.useStroke}}function rw(n,e,t,s){switch(t){case"stroke":if(s!=="none"){if(s.startsWith("url(")){const a=iw(s);e.strokeStyle.fill=n.defs[a]}else e.strokeStyle.color=kt.shared.setValue(s).toNumber();e.useStroke=!0}break;case"stroke-width":e.strokeStyle.width=Number(s);break;case"fill":if(s!=="none"){if(s.startsWith("url(")){const a=iw(s);e.fillStyle.fill=n.defs[a]}else e.fillStyle.color=kt.shared.setValue(s).toNumber();e.useFill=!0}break;case"fill-opacity":e.fillStyle.alpha=Number(s);break;case"stroke-opacity":e.strokeStyle.alpha=Number(s);break;case"opacity":e.fillStyle.alpha=Number(s),e.strokeStyle.alpha=Number(s);break}}function kB(n,e){if(typeof n=="string"){const u=document.createElement("div");u.innerHTML=n.trim(),n=u.querySelector("svg")}const t={context:e,defs:{},path:new na};TB(n,t);const s=n.children,{fillStyle:a,strokeStyle:l}=YS(n,t);for(let u=0;u<s.length;u++){const h=s[u];h.nodeName.toLowerCase()!=="defs"&&XS(h,t,a,l)}return e}function XS(n,e,t,s){const a=n.children,{fillStyle:l,strokeStyle:u}=YS(n,e);l&&t?t={...t,...l}:l&&(t=l),u&&s?s={...s,...u}:u&&(s=u);const h=!t&&!s;h&&(t={color:0});let f,p,g,m,b,v,x,S,_,E,k,A,M,D,B,O,U;switch(n.nodeName.toLowerCase()){case"path":D=n.getAttribute("d"),n.getAttribute("fill-rule")==="evenodd"&&Qe("SVG Evenodd fill rule not supported, your svg may render incorrectly"),B=new na(D,!0),e.context.path(B),t&&e.context.fill(t),s&&e.context.stroke(s);break;case"circle":x=Je(n,"cx",0),S=Je(n,"cy",0),_=Je(n,"r",0),e.context.ellipse(x,S,_,_),t&&e.context.fill(t),s&&e.context.stroke(s);break;case"rect":f=Je(n,"x",0),p=Je(n,"y",0),O=Je(n,"width",0),U=Je(n,"height",0),E=Je(n,"rx",0),k=Je(n,"ry",0),E||k?e.context.roundRect(f,p,O,U,E||k):e.context.rect(f,p,O,U),t&&e.context.fill(t),s&&e.context.stroke(s);break;case"ellipse":x=Je(n,"cx",0),S=Je(n,"cy",0),E=Je(n,"rx",0),k=Je(n,"ry",0),e.context.beginPath(),e.context.ellipse(x,S,E,k),t&&e.context.fill(t),s&&e.context.stroke(s);break;case"line":g=Je(n,"x1",0),m=Je(n,"y1",0),b=Je(n,"x2",0),v=Je(n,"y2",0),e.context.beginPath(),e.context.moveTo(g,m),e.context.lineTo(b,v),s&&e.context.stroke(s);break;case"polygon":M=n.getAttribute("points"),A=M.match(/\d+/g).map(j=>parseInt(j,10)),e.context.poly(A,!0),t&&e.context.fill(t),s&&e.context.stroke(s);break;case"polyline":M=n.getAttribute("points"),A=M.match(/\d+/g).map(j=>parseInt(j,10)),e.context.poly(A,!1),s&&e.context.stroke(s);break;case"g":case"svg":break;default:{Qe(`[SVG parser] <${n.nodeName}> elements unsupported`);break}}h&&(t=null);for(let j=0;j<a.length;j++)XS(a[j],e,t,s)}function RB(n){return kt.isColorLike(n)}function aw(n){return n instanceof Oc}function ow(n){return n instanceof ts}function OB(n){return n instanceof Pe}function PB(n,e,t){const s=kt.shared.setValue(e??0);return n.color=s.toNumber(),n.alpha=s.alpha===1?t.alpha:s.alpha,n.texture=Pe.WHITE,{...t,...n}}function DB(n,e,t){return n.texture=e,{...t,...n}}function lw(n,e,t){return n.fill=e,n.color=16777215,n.texture=e.texture,n.matrix=e.transform,{...t,...n}}function uw(n,e,t){return e.buildGradient(),n.fill=e,n.color=16777215,n.texture=e.texture,n.matrix=e.transform,n.textureSpace=e.textureSpace,{...t,...n}}function BB(n,e){const t={...e,...n},s=kt.shared.setValue(t.color);return t.alpha*=s.alpha,t.color=s.toNumber(),t}function Ls(n,e){if(n==null)return null;const t={},s=n;return RB(n)?PB(t,n,e):OB(n)?DB(t,n,e):aw(n)?lw(t,n,e):ow(n)?uw(t,n,e):s.fill&&aw(s.fill)?lw(s,s.fill,e):s.fill&&ow(s.fill)?uw(s,s.fill,e):BB(s,e)}function bc(n,e){const{width:t,alignment:s,miterLimit:a,cap:l,join:u,pixelLine:h,...f}=e,p=Ls(n,f);return p?{width:t,alignment:s,miterLimit:a,cap:l,join:u,pixelLine:h,...p}:null}const zB=new jt,cw=new De,jg=class Fn extends Qn{constructor(){super(...arguments),this.uid=ct("graphicsContext"),this.dirty=!0,this.batchMode="auto",this.instructions=[],this._activePath=new na,this._transform=new De,this._fillStyle={...Fn.defaultFillStyle},this._strokeStyle={...Fn.defaultStrokeStyle},this._stateStack=[],this._tick=0,this._bounds=new Bn,this._boundsDirty=!0}clone(){const e=new Fn;return e.batchMode=this.batchMode,e.instructions=this.instructions.slice(),e._activePath=this._activePath.clone(),e._transform=this._transform.clone(),e._fillStyle={...this._fillStyle},e._strokeStyle={...this._strokeStyle},e._stateStack=this._stateStack.slice(),e._bounds=this._bounds.clone(),e._boundsDirty=!0,e}get fillStyle(){return this._fillStyle}set fillStyle(e){this._fillStyle=Ls(e,Fn.defaultFillStyle)}get strokeStyle(){return this._strokeStyle}set strokeStyle(e){this._strokeStyle=bc(e,Fn.defaultStrokeStyle)}setFillStyle(e){return this._fillStyle=Ls(e,Fn.defaultFillStyle),this}setStrokeStyle(e){return this._strokeStyle=Ls(e,Fn.defaultStrokeStyle),this}texture(e,t,s,a,l,u){return this.instructions.push({action:"texture",data:{image:e,dx:s||0,dy:a||0,dw:l||e.frame.width,dh:u||e.frame.height,transform:this._transform.clone(),alpha:this._fillStyle.alpha,style:t?kt.shared.setValue(t).toNumber():16777215}}),this.onUpdate(),this}beginPath(){return this._activePath=new na,this}fill(e,t){let s;const a=this.instructions[this.instructions.length-1];return this._tick===0&&a&&a.action==="stroke"?s=a.data.path:s=this._activePath.clone(),s?(e!=null&&(t!==void 0&&typeof e=="number"&&(st(Ut,"GraphicsContext.fill(color, alpha) is deprecated, use GraphicsContext.fill({ color, alpha }) instead"),e={color:e,alpha:t}),this._fillStyle=Ls(e,Fn.defaultFillStyle)),this.instructions.push({action:"fill",data:{style:this.fillStyle,path:s}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}_initNextPathLocation(){const{x:e,y:t}=this._activePath.getLastPoint(jt.shared);this._activePath.clear(),this._activePath.moveTo(e,t)}stroke(e){let t;const s=this.instructions[this.instructions.length-1];return this._tick===0&&s&&s.action==="fill"?t=s.data.path:t=this._activePath.clone(),t?(e!=null&&(this._strokeStyle=bc(e,Fn.defaultStrokeStyle)),this.instructions.push({action:"stroke",data:{style:this.strokeStyle,path:t}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}cut(){for(let e=0;e<2;e++){const t=this.instructions[this.instructions.length-1-e],s=this._activePath.clone();if(t&&(t.action==="stroke"||t.action==="fill"))if(t.data.hole)t.data.hole.addPath(s);else{t.data.hole=s;break}}return this._initNextPathLocation(),this}arc(e,t,s,a,l,u){this._tick++;const h=this._transform;return this._activePath.arc(h.a*e+h.c*t+h.tx,h.b*e+h.d*t+h.ty,s,a,l,u),this}arcTo(e,t,s,a,l){this._tick++;const u=this._transform;return this._activePath.arcTo(u.a*e+u.c*t+u.tx,u.b*e+u.d*t+u.ty,u.a*s+u.c*a+u.tx,u.b*s+u.d*a+u.ty,l),this}arcToSvg(e,t,s,a,l,u,h){this._tick++;const f=this._transform;return this._activePath.arcToSvg(e,t,s,a,l,f.a*u+f.c*h+f.tx,f.b*u+f.d*h+f.ty),this}bezierCurveTo(e,t,s,a,l,u,h){this._tick++;const f=this._transform;return this._activePath.bezierCurveTo(f.a*e+f.c*t+f.tx,f.b*e+f.d*t+f.ty,f.a*s+f.c*a+f.tx,f.b*s+f.d*a+f.ty,f.a*l+f.c*u+f.tx,f.b*l+f.d*u+f.ty,h),this}closePath(){return this._tick++,this._activePath?.closePath(),this}ellipse(e,t,s,a){return this._tick++,this._activePath.ellipse(e,t,s,a,this._transform.clone()),this}circle(e,t,s){return this._tick++,this._activePath.circle(e,t,s,this._transform.clone()),this}path(e){return this._tick++,this._activePath.addPath(e,this._transform.clone()),this}lineTo(e,t){this._tick++;const s=this._transform;return this._activePath.lineTo(s.a*e+s.c*t+s.tx,s.b*e+s.d*t+s.ty),this}moveTo(e,t){this._tick++;const s=this._transform,a=this._activePath.instructions,l=s.a*e+s.c*t+s.tx,u=s.b*e+s.d*t+s.ty;return a.length===1&&a[0].action==="moveTo"?(a[0].data[0]=l,a[0].data[1]=u,this):(this._activePath.moveTo(l,u),this)}quadraticCurveTo(e,t,s,a,l){this._tick++;const u=this._transform;return this._activePath.quadraticCurveTo(u.a*e+u.c*t+u.tx,u.b*e+u.d*t+u.ty,u.a*s+u.c*a+u.tx,u.b*s+u.d*a+u.ty,l),this}rect(e,t,s,a){return this._tick++,this._activePath.rect(e,t,s,a,this._transform.clone()),this}roundRect(e,t,s,a,l){return this._tick++,this._activePath.roundRect(e,t,s,a,l,this._transform.clone()),this}poly(e,t){return this._tick++,this._activePath.poly(e,t,this._transform.clone()),this}regularPoly(e,t,s,a,l=0,u){return this._tick++,this._activePath.regularPoly(e,t,s,a,l,u),this}roundPoly(e,t,s,a,l,u){return this._tick++,this._activePath.roundPoly(e,t,s,a,l,u),this}roundShape(e,t,s,a){return this._tick++,this._activePath.roundShape(e,t,s,a),this}filletRect(e,t,s,a,l){return this._tick++,this._activePath.filletRect(e,t,s,a,l),this}chamferRect(e,t,s,a,l,u){return this._tick++,this._activePath.chamferRect(e,t,s,a,l,u),this}star(e,t,s,a,l=0,u=0){return this._tick++,this._activePath.star(e,t,s,a,l,u,this._transform.clone()),this}svg(e){return this._tick++,kB(e,this),this}restore(){const e=this._stateStack.pop();return e&&(this._transform=e.transform,this._fillStyle=e.fillStyle,this._strokeStyle=e.strokeStyle),this}save(){return this._stateStack.push({transform:this._transform.clone(),fillStyle:{...this._fillStyle},strokeStyle:{...this._strokeStyle}}),this}getTransform(){return this._transform}resetTransform(){return this._transform.identity(),this}rotate(e){return this._transform.rotate(e),this}scale(e,t=e){return this._transform.scale(e,t),this}setTransform(e,t,s,a,l,u){return e instanceof De?(this._transform.set(e.a,e.b,e.c,e.d,e.tx,e.ty),this):(this._transform.set(e,t,s,a,l,u),this)}transform(e,t,s,a,l,u){return e instanceof De?(this._transform.append(e),this):(cw.set(e,t,s,a,l,u),this._transform.append(cw),this)}translate(e,t=e){return this._transform.translate(e,t),this}clear(){return this._activePath.clear(),this.instructions.length=0,this.resetTransform(),this.onUpdate(),this}onUpdate(){this.dirty||(this.emit("update",this,16),this.dirty=!0,this._boundsDirty=!0)}get bounds(){if(!this._boundsDirty)return this._bounds;const e=this._bounds;e.clear();for(let t=0;t<this.instructions.length;t++){const s=this.instructions[t],a=s.action;if(a==="fill"){const l=s.data;e.addBounds(l.path.bounds)}else if(a==="texture"){const l=s.data;e.addFrame(l.dx,l.dy,l.dx+l.dw,l.dy+l.dh,l.transform)}if(a==="stroke"){const l=s.data,u=l.style.alignment,h=l.style.width*(1-u),f=l.path.bounds;e.addFrame(f.minX-h,f.minY-h,f.maxX+h,f.maxY+h)}}return e}containsPoint(e){if(!this.bounds.containsPoint(e.x,e.y))return!1;const t=this.instructions;let s=!1;for(let a=0;a<t.length;a++){const l=t[a],u=l.data,h=u.path;if(!l.action||!h)continue;const f=u.style,p=h.shapePath.shapePrimitives;for(let g=0;g<p.length;g++){const m=p[g].shape;if(!f||!m)continue;const b=p[g].transform,v=b?b.applyInverse(e,zB):e;if(l.action==="fill")s=m.contains(v.x,v.y);else{const S=f;s=m.strokeContains(v.x,v.y,S.width,S.alignment)}const x=u.hole;if(x){const S=x.shapePath?.shapePrimitives;if(S)for(let _=0;_<S.length;_++)S[_].shape.contains(v.x,v.y)&&(s=!1)}if(s)return!0}}return s}destroy(e=!1){if(this._stateStack.length=0,this._transform=null,this.emit("destroy",this),this.removeAllListeners(),typeof e=="boolean"?e:e?.texture){const s=typeof e=="boolean"?e:e?.textureSource;this._fillStyle.texture&&this._fillStyle.texture.destroy(s),this._strokeStyle.texture&&this._strokeStyle.texture.destroy(s)}this._fillStyle=null,this._strokeStyle=null,this.instructions=null,this._activePath=null,this._bounds=null,this._stateStack=null,this.customShader=null,this._transform=null}};jg.defaultFillStyle={color:16777215,alpha:1,texture:Pe.WHITE,matrix:null,fill:null,textureSpace:"local"};jg.defaultStrokeStyle={width:1,color:16777215,alpha:1,alignment:.5,miterLimit:10,cap:"butt",join:"miter",texture:Pe.WHITE,matrix:null,fill:null,textureSpace:"local",pixelLine:!1};let Us=jg;const hw=["align","breakWords","cssOverrides","fontVariant","fontWeight","leading","letterSpacing","lineHeight","padding","textBaseline","trim","whiteSpace","wordWrap","wordWrapWidth","fontFamily","fontStyle","fontSize"];function UB(n){const e=[];let t=0;for(let s=0;s<hw.length;s++){const a=`_${hw[s]}`;e[t++]=n[a]}return t=QS(n._fill,e,t),t=jB(n._stroke,e,t),t=LB(n.dropShadow,e,t),e.join("-")}function QS(n,e,t){return n&&(e[t++]=n.color,e[t++]=n.alpha,e[t++]=n.fill?.styleKey),t}function jB(n,e,t){return n&&(t=QS(n,e,t),e[t++]=n.width,e[t++]=n.alignment,e[t++]=n.cap,e[t++]=n.join,e[t++]=n.miterLimit),t}function LB(n,e,t){return n&&(e[t++]=n.alpha,e[t++]=n.angle,e[t++]=n.blur,e[t++]=n.distance,e[t++]=kt.shared.setValue(n.color).toNumber()),t}const Lg=class Yr extends Qn{constructor(e={}){super(),IB(e);const t={...Yr.defaultTextStyle,...e};for(const s in t){const a=s;this[a]=t[s]}this.update()}get align(){return this._align}set align(e){this._align=e,this.update()}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords=e,this.update()}get dropShadow(){return this._dropShadow}set dropShadow(e){e!==null&&typeof e=="object"?this._dropShadow=this._createProxy({...Yr.defaultDropShadow,...e}):this._dropShadow=e?this._createProxy({...Yr.defaultDropShadow}):null,this.update()}get fontFamily(){return this._fontFamily}set fontFamily(e){this._fontFamily=e,this.update()}get fontSize(){return this._fontSize}set fontSize(e){typeof e=="string"?this._fontSize=parseInt(e,10):this._fontSize=e,this.update()}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle=e.toLowerCase(),this.update()}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant=e,this.update()}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight=e,this.update()}get leading(){return this._leading}set leading(e){this._leading=e,this.update()}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing=e,this.update()}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight=e,this.update()}get padding(){return this._padding}set padding(e){this._padding=e,this.update()}get trim(){return this._trim}set trim(e){this._trim=e,this.update()}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline=e,this.update()}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace=e,this.update()}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap=e,this.update()}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth=e,this.update()}get fill(){return this._originalFill}set fill(e){e!==this._originalFill&&(this._originalFill=e,this._isFillStyle(e)&&(this._originalFill=this._createProxy({...Us.defaultFillStyle,...e},()=>{this._fill=Ls({...this._originalFill},Us.defaultFillStyle)})),this._fill=Ls(e===0?"black":e,Us.defaultFillStyle),this.update())}get stroke(){return this._originalStroke}set stroke(e){e!==this._originalStroke&&(this._originalStroke=e,this._isFillStyle(e)&&(this._originalStroke=this._createProxy({...Us.defaultStrokeStyle,...e},()=>{this._stroke=bc({...this._originalStroke},Us.defaultStrokeStyle)})),this._stroke=bc(e,Us.defaultStrokeStyle),this.update())}_generateKey(){return this._styleKey=UB(this),this._styleKey}update(){this._styleKey=null,this.emit("update",this)}reset(){const e=Yr.defaultTextStyle;for(const t in e)this[t]=e[t]}get styleKey(){return this._styleKey||this._generateKey()}clone(){return new Yr({align:this.align,breakWords:this.breakWords,dropShadow:this._dropShadow?{...this._dropShadow}:null,fill:this._fill,fontFamily:this.fontFamily,fontSize:this.fontSize,fontStyle:this.fontStyle,fontVariant:this.fontVariant,fontWeight:this.fontWeight,leading:this.leading,letterSpacing:this.letterSpacing,lineHeight:this.lineHeight,padding:this.padding,stroke:this._stroke,textBaseline:this.textBaseline,whiteSpace:this.whiteSpace,wordWrap:this.wordWrap,wordWrapWidth:this.wordWrapWidth})}destroy(e=!1){if(this.removeAllListeners(),typeof e=="boolean"?e:e?.texture){const s=typeof e=="boolean"?e:e?.textureSource;this._fill?.texture&&this._fill.texture.destroy(s),this._originalFill?.texture&&this._originalFill.texture.destroy(s),this._stroke?.texture&&this._stroke.texture.destroy(s),this._originalStroke?.texture&&this._originalStroke.texture.destroy(s)}this._fill=null,this._stroke=null,this.dropShadow=null,this._originalStroke=null,this._originalFill=null}_createProxy(e,t){return new Proxy(e,{set:(s,a,l)=>(s[a]=l,t?.(a,l),this.update(),!0)})}_isFillStyle(e){return(e??null)!==null&&!(kt.isColorLike(e)||e instanceof ts||e instanceof Oc)}};Lg.defaultDropShadow={alpha:1,angle:Math.PI/6,blur:0,color:"black",distance:5};Lg.defaultTextStyle={align:"left",breakWords:!1,dropShadow:null,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,padding:0,stroke:null,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let Jo=Lg;function IB(n){const e=n;if(typeof e.dropShadow=="boolean"&&e.dropShadow){const t=Jo.defaultDropShadow;n.dropShadow={alpha:e.dropShadowAlpha??t.alpha,angle:e.dropShadowAngle??t.angle,blur:e.dropShadowBlur??t.blur,color:e.dropShadowColor??t.color,distance:e.dropShadowDistance??t.distance}}if(e.strokeThickness!==void 0){st(Ut,"strokeThickness is now a part of stroke");const t=e.stroke;let s={};if(kt.isColorLike(t))s.color=t;else if(t instanceof ts||t instanceof Oc)s.fill=t;else if(Object.hasOwnProperty.call(t,"color")||Object.hasOwnProperty.call(t,"fill"))s=t;else throw new Error("Invalid stroke value.");n.stroke={...s,width:e.strokeThickness}}if(Array.isArray(e.fillGradientStops)){st(Ut,"gradient fill is now a fill pattern: `new FillGradient(...)`");let t;n.fontSize==null?n.fontSize=Jo.defaultTextStyle.fontSize:typeof n.fontSize=="string"?t=parseInt(n.fontSize,10):t=n.fontSize;const s=new ts({start:{x:0,y:0},end:{x:0,y:(t||0)*1.7}}),a=e.fillGradientStops.map(l=>kt.shared.setValue(l).toNumber());a.forEach((l,u)=>{const h=u/(a.length-1);s.addColorStop(h,l)}),n.fill={fill:s}}}class NB{constructor(e){this._canvasPool=Object.create(null),this.canvasOptions=e||{},this.enableFullScreen=!1}_createCanvasAndContext(e,t){const s=dt.get().createCanvas();s.width=e,s.height=t;const a=s.getContext("2d");return{canvas:s,context:a}}getOptimalCanvasAndContext(e,t,s=1){e=Math.ceil(e*s-1e-6),t=Math.ceil(t*s-1e-6),e=yc(e),t=yc(t);const a=(e<<17)+(t<<1);this._canvasPool[a]||(this._canvasPool[a]=[]);let l=this._canvasPool[a].pop();return l||(l=this._createCanvasAndContext(e,t)),l}returnCanvasAndContext(e){const t=e.canvas,{width:s,height:a}=t,l=(s<<17)+(a<<1);e.context.clearRect(0,0,s,a),this._canvasPool[l].push(e)}clear(){this._canvasPool={}}}const fw=new NB,qB=["serif","sans-serif","monospace","cursive","fantasy","system-ui"];function qp(n){const e=typeof n.fontSize=="number"?`${n.fontSize}px`:n.fontSize;let t=n.fontFamily;Array.isArray(n.fontFamily)||(t=n.fontFamily.split(","));for(let s=t.length-1;s>=0;s--){let a=t[s].trim();!/([\"\'])[^\'\"]+\1/.test(a)&&!qB.includes(a)&&(a=`"${a}"`),t[s]=a}return`${n.fontStyle} ${n.fontVariant} ${n.fontWeight} ${e} ${t.join(",")}`}const Vd={willReadFrequently:!0},zn=class pe{static get experimentalLetterSpacingSupported(){let e=pe._experimentalLetterSpacingSupported;if(e!==void 0){const t=dt.get().getCanvasRenderingContext2D().prototype;e=pe._experimentalLetterSpacingSupported="letterSpacing"in t||"textLetterSpacing"in t}return e}constructor(e,t,s,a,l,u,h,f,p){this.text=e,this.style=t,this.width=s,this.height=a,this.lines=l,this.lineWidths=u,this.lineHeight=h,this.maxLineWidth=f,this.fontProperties=p}static measureText(e=" ",t,s=pe._canvas,a=t.wordWrap){const l=`${e}:${t.styleKey}`;if(pe._measurementCache[l])return pe._measurementCache[l];const u=qp(t),h=pe.measureFont(u);h.fontSize===0&&(h.fontSize=t.fontSize,h.ascent=t.fontSize);const f=pe.__context;f.font=u;const g=(a?pe._wordWrap(e,t,s):e).split(/(?:\r\n|\r|\n)/),m=new Array(g.length);let b=0;for(let k=0;k<g.length;k++){const A=pe._measureText(g[k],t.letterSpacing,f);m[k]=A,b=Math.max(b,A)}const v=t._stroke?.width||0;let x=b+v;t.dropShadow&&(x+=t.dropShadow.distance);const S=t.lineHeight||h.fontSize;let _=Math.max(S,h.fontSize+v)+(g.length-1)*(S+t.leading);return t.dropShadow&&(_+=t.dropShadow.distance),new pe(e,t,x,_,g,m,S+t.leading,b,h)}static _measureText(e,t,s){let a=!1;pe.experimentalLetterSpacingSupported&&(pe.experimentalLetterSpacing?(s.letterSpacing=`${t}px`,s.textLetterSpacing=`${t}px`,a=!0):(s.letterSpacing="0px",s.textLetterSpacing="0px"));const l=s.measureText(e);let u=l.width;const h=-l.actualBoundingBoxLeft;let p=l.actualBoundingBoxRight-h;if(u>0)if(a)u-=t,p-=t;else{const g=(pe.graphemeSegmenter(e).length-1)*t;u+=g,p+=g}return Math.max(u,p)}static _wordWrap(e,t,s=pe._canvas){const a=s.getContext("2d",Vd);let l=0,u="",h="";const f=Object.create(null),{letterSpacing:p,whiteSpace:g}=t,m=pe._collapseSpaces(g),b=pe._collapseNewlines(g);let v=!m;const x=t.wordWrapWidth+p,S=pe._tokenize(e);for(let _=0;_<S.length;_++){let E=S[_];if(pe._isNewline(E)){if(!b){h+=pe._addLine(u),v=!m,u="",l=0;continue}E=" "}if(m){const A=pe.isBreakingSpace(E),M=pe.isBreakingSpace(u[u.length-1]);if(A&&M)continue}const k=pe._getFromCache(E,p,f,a);if(k>x)if(u!==""&&(h+=pe._addLine(u),u="",l=0),pe.canBreakWords(E,t.breakWords)){const A=pe.wordWrapSplit(E);for(let M=0;M<A.length;M++){let D=A[M],B=D,O=1;for(;A[M+O];){const j=A[M+O];if(!pe.canBreakChars(B,j,E,M,t.breakWords))D+=j;else break;B=j,O++}M+=O-1;const U=pe._getFromCache(D,p,f,a);U+l>x&&(h+=pe._addLine(u),v=!1,u="",l=0),u+=D,l+=U}}else{u.length>0&&(h+=pe._addLine(u),u="",l=0);const A=_===S.length-1;h+=pe._addLine(E,!A),v=!1,u="",l=0}else k+l>x&&(v=!1,h+=pe._addLine(u),u="",l=0),(u.length>0||!pe.isBreakingSpace(E)||v)&&(u+=E,l+=k)}return h+=pe._addLine(u,!1),h}static _addLine(e,t=!0){return e=pe._trimRight(e),e=t?`${e}
`:e,e}static _getFromCache(e,t,s,a){let l=s[e];return typeof l!="number"&&(l=pe._measureText(e,t,a)+t,s[e]=l),l}static _collapseSpaces(e){return e==="normal"||e==="pre-line"}static _collapseNewlines(e){return e==="normal"}static _trimRight(e){if(typeof e!="string")return"";for(let t=e.length-1;t>=0;t--){const s=e[t];if(!pe.isBreakingSpace(s))break;e=e.slice(0,-1)}return e}static _isNewline(e){return typeof e!="string"?!1:pe._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,t){return typeof e!="string"?!1:pe._breakingSpaces.includes(e.charCodeAt(0))}static _tokenize(e){const t=[];let s="";if(typeof e!="string")return t;for(let a=0;a<e.length;a++){const l=e[a],u=e[a+1];if(pe.isBreakingSpace(l,u)||pe._isNewline(l)){s!==""&&(t.push(s),s=""),t.push(l);continue}s+=l}return s!==""&&t.push(s),t}static canBreakWords(e,t){return t}static canBreakChars(e,t,s,a,l){return!0}static wordWrapSplit(e){return pe.graphemeSegmenter(e)}static measureFont(e){if(pe._fonts[e])return pe._fonts[e];const t=pe._context;t.font=e;const s=t.measureText(pe.METRICS_STRING+pe.BASELINE_SYMBOL),a={ascent:s.actualBoundingBoxAscent,descent:s.actualBoundingBoxDescent,fontSize:s.actualBoundingBoxAscent+s.actualBoundingBoxDescent};return pe._fonts[e]=a,a}static clearMetrics(e=""){e?delete pe._fonts[e]:pe._fonts={}}static get _canvas(){if(!pe.__canvas){let e;try{const t=new OffscreenCanvas(0,0);if(t.getContext("2d",Vd)?.measureText)return pe.__canvas=t,t;e=dt.get().createCanvas()}catch{e=dt.get().createCanvas()}e.width=e.height=10,pe.__canvas=e}return pe.__canvas}static get _context(){return pe.__context||(pe.__context=pe._canvas.getContext("2d",Vd)),pe.__context}};zn.METRICS_STRING="|q";zn.BASELINE_SYMBOL="M";zn.BASELINE_MULTIPLIER=1.4;zn.HEIGHT_MULTIPLIER=2;zn.graphemeSegmenter=(()=>{if(typeof Intl?.Segmenter=="function"){const n=new Intl.Segmenter;return e=>[...n.segment(e)].map(t=>t.segment)}return n=>[...n]})();zn.experimentalLetterSpacing=!1;zn._fonts={};zn._newlines=[10,13];zn._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];zn._measurementCache={};let dw=zn;const pw=1e5;function gw(n,e,t,s=0){if(n.texture===Pe.WHITE&&!n.fill)return kt.shared.setValue(n.color).setAlpha(n.alpha??1).toHexa();if(n.fill){if(n.fill instanceof Oc){const a=n.fill,l=e.createPattern(a.texture.source.resource,"repeat"),u=a.transform.copyTo(De.shared);return u.scale(a.texture.frame.width,a.texture.frame.height),l.setTransform(u),l}else if(n.fill instanceof ts){const a=n.fill,l=a.type==="linear",u=a.textureSpace==="local";let h=1,f=1;u&&t&&(h=t.width+s,f=t.height+s);let p,g=!1;if(l){const{start:m,end:b}=a;p=e.createLinearGradient(m.x*h,m.y*f,b.x*h,b.y*f),g=Math.abs(b.x-m.x)<Math.abs((b.y-m.y)*.1)}else{const{center:m,innerRadius:b,outerCenter:v,outerRadius:x}=a;p=e.createRadialGradient(m.x*h,m.y*f,b*h,v.x*h,v.y*f,x*h)}if(g&&u&&t){const m=t.lineHeight/f;for(let b=0;b<t.lines.length;b++){const v=(b*t.lineHeight+s/2)/f;a.colorStops.forEach(x=>{const S=v+x.offset*m;p.addColorStop(Math.floor(S*pw)/pw,kt.shared.setValue(x.color).toHex())})}}else a.colorStops.forEach(m=>{p.addColorStop(m.offset,kt.shared.setValue(m.color).toHex())});return p}}else{const a=e.createPattern(n.texture.source.resource,"repeat"),l=n.matrix.copyTo(De.shared);return l.scale(n.texture.frame.width,n.texture.frame.height),a.setTransform(l),a}return Qe("FillStyle not recognised",n),"red"}function WS(n){if(n==="")return[];typeof n=="string"&&(n=[n]);const e=[];for(let t=0,s=n.length;t<s;t++){const a=n[t];if(Array.isArray(a)){if(a.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${a.length}.`);if(a[0].length===0||a[1].length===0)throw new Error("[BitmapFont]: Invalid character delimiter.");const l=a[0].charCodeAt(0),u=a[1].charCodeAt(0);if(u<l)throw new Error("[BitmapFont]: Invalid character range.");for(let h=l,f=u;h<=f;h++)e.push(String.fromCharCode(h))}else e.push(...Array.from(a))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const KS=class ZS extends RS{constructor(e){super(),this.resolution=1,this.pages=[],this._padding=0,this._measureCache=Object.create(null),this._currentChars=[],this._currentX=0,this._currentY=0,this._currentPageIndex=-1,this._skipKerning=!1;const t={...ZS.defaultOptions,...e};this._textureSize=t.textureSize,this._mipmap=t.mipmap;const s=t.style.clone();t.overrideFill&&(s._fill.color=16777215,s._fill.alpha=1,s._fill.texture=Pe.WHITE,s._fill.fill=null),this.applyFillAsTint=t.overrideFill;const a=s.fontSize;s.fontSize=this.baseMeasurementFontSize;const l=qp(s);t.overrideSize?s._stroke&&(s._stroke.width*=this.baseRenderedFontSize/a):s.fontSize=this.baseRenderedFontSize=a,this._style=s,this._skipKerning=t.skipKerning??!1,this.resolution=t.resolution??1,this._padding=t.padding??4,this.fontMetrics=dw.measureFont(l),this.lineHeight=s.lineHeight||this.fontMetrics.fontSize||s.fontSize}ensureCharacters(e){const t=WS(e).filter(_=>!this._currentChars.includes(_)).filter((_,E,k)=>k.indexOf(_)===E);if(!t.length)return;this._currentChars=[...this._currentChars,...t];let s;this._currentPageIndex===-1?s=this._nextPage():s=this.pages[this._currentPageIndex];let{canvas:a,context:l}=s.canvasAndContext,u=s.texture.source;const h=this._style;let f=this._currentX,p=this._currentY;const g=this.baseRenderedFontSize/this.baseMeasurementFontSize,m=this._padding*g;let b=0,v=!1;const x=a.width/this.resolution,S=a.height/this.resolution;for(let _=0;_<t.length;_++){const E=t[_],k=dw.measureText(E,h,a,!1);k.lineHeight=k.height;const A=k.width*g,M=Math.ceil((h.fontStyle==="italic"?2:1)*A),D=k.height*g,B=M+m*2,O=D+m*2;if(v=!1,E!==`
`&&E!=="\r"&&E!=="	"&&E!==" "&&(v=!0,b=Math.ceil(Math.max(O,b))),f+B>x&&(p+=b,b=O,f=0,p+b>S)){u.update();const j=this._nextPage();a=j.canvasAndContext.canvas,l=j.canvasAndContext.context,u=j.texture.source,p=0}const U=A/g-(h.dropShadow?.distance??0)-(h._stroke?.width??0);if(this.chars[E]={id:E.codePointAt(0),xOffset:-this._padding,yOffset:-this._padding,xAdvance:U,kerning:{}},v){this._drawGlyph(l,k,f+m,p+m,g,h);const j=u.width*g,I=u.height*g,q=new ut(f/j*u.width,p/I*u.height,B/j*u.width,O/I*u.height);this.chars[E].texture=new Pe({source:u,frame:q}),f+=Math.ceil(B)}}u.update(),this._currentX=f,this._currentY=p,this._skipKerning&&this._applyKerning(t,l)}get pageTextures(){return st(Ut,"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}_applyKerning(e,t){const s=this._measureCache;for(let a=0;a<e.length;a++){const l=e[a];for(let u=0;u<this._currentChars.length;u++){const h=this._currentChars[u];let f=s[l];f||(f=s[l]=t.measureText(l).width);let p=s[h];p||(p=s[h]=t.measureText(h).width);let g=t.measureText(l+h).width,m=g-(f+p);m&&(this.chars[l].kerning[h]=m),g=t.measureText(l+h).width,m=g-(f+p),m&&(this.chars[h].kerning[l]=m)}}}_nextPage(){this._currentPageIndex++;const e=this.resolution,t=fw.getOptimalCanvasAndContext(this._textureSize,this._textureSize,e);this._setupContext(t.context,this._style,e);const s=e*(this.baseRenderedFontSize/this.baseMeasurementFontSize),a=new Pe({source:new $s({resource:t.canvas,resolution:s,alphaMode:"premultiply-alpha-on-upload",autoGenerateMipmaps:this._mipmap})}),l={canvasAndContext:t,texture:a};return this.pages[this._currentPageIndex]=l,l}_setupContext(e,t,s){t.fontSize=this.baseRenderedFontSize,e.scale(s,s),e.font=qp(t),t.fontSize=this.baseMeasurementFontSize,e.textBaseline=t.textBaseline;const a=t._stroke,l=a?.width??0;if(a&&(e.lineWidth=l,e.lineJoin=a.join,e.miterLimit=a.miterLimit,e.strokeStyle=gw(a,e)),t._fill&&(e.fillStyle=gw(t._fill,e)),t.dropShadow){const u=t.dropShadow,h=kt.shared.setValue(u.color).toArray(),f=u.blur*s,p=u.distance*s;e.shadowColor=`rgba(${h[0]*255},${h[1]*255},${h[2]*255},${u.alpha})`,e.shadowBlur=f,e.shadowOffsetX=Math.cos(u.angle)*p,e.shadowOffsetY=Math.sin(u.angle)*p}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0}_drawGlyph(e,t,s,a,l,u){const h=t.text,f=t.fontProperties,g=(u._stroke?.width??0)*l,m=s+g/2,b=a-g/2,v=f.descent*l,x=t.lineHeight*l;u.stroke&&g&&e.strokeText(h,m,b+x-v),u._fill&&e.fillText(h,m,b+x-v)}destroy(){super.destroy();for(let e=0;e<this.pages.length;e++){const{canvasAndContext:t,texture:s}=this.pages[e];fw.returnCanvasAndContext(t),s.destroy(!0)}this.pages=null}};KS.defaultOptions={textureSize:512,style:new Jo,mipmap:!0};let yw=KS;function GB(n,e,t,s){const a={width:0,height:0,offsetY:0,scale:e.fontSize/t.baseMeasurementFontSize,lines:[{width:0,charPositions:[],spaceWidth:0,spacesIndex:[],chars:[]}]};a.offsetY=t.baseLineOffset;let l=a.lines[0],u=null,h=!0;const f={width:0,start:0,index:0,positions:[],chars:[]},p=x=>{const S=l.width;for(let _=0;_<f.index;_++){const E=x.positions[_];l.chars.push(x.chars[_]),l.charPositions.push(E+S)}l.width+=x.width,h=!1,f.width=0,f.index=0,f.chars.length=0},g=()=>{let x=l.chars.length-1;if(s){let S=l.chars[x];for(;S===" ";)l.width-=t.chars[S].xAdvance,S=l.chars[--x]}a.width=Math.max(a.width,l.width),l={width:0,charPositions:[],chars:[],spaceWidth:0,spacesIndex:[]},h=!0,a.lines.push(l),a.height+=t.lineHeight},m=t.baseMeasurementFontSize/e.fontSize,b=e.letterSpacing*m,v=e.wordWrapWidth*m;for(let x=0;x<n.length+1;x++){let S;const _=x===n.length;_||(S=n[x]);const E=t.chars[S]||t.chars[" "];if(/(?:\s)/.test(S)||S==="\r"||S===`
`||_){if(!h&&e.wordWrap&&l.width+f.width-b>v?(g(),p(f),_||l.charPositions.push(0)):(f.start=l.width,p(f),_||l.charPositions.push(0)),S==="\r"||S===`
`)l.width!==0&&g();else if(!_){const D=E.xAdvance+(E.kerning[u]||0)+b;l.width+=D,l.spaceWidth=D,l.spacesIndex.push(l.charPositions.length),l.chars.push(S)}}else{const M=E.kerning[u]||0,D=E.xAdvance+M+b;f.positions[f.index++]=f.width+M,f.chars.push(S),f.width+=D}u=S}return g(),e.align==="center"?HB(a):e.align==="right"?$B(a):e.align==="justify"&&FB(a),a}function HB(n){for(let e=0;e<n.lines.length;e++){const t=n.lines[e],s=n.width/2-t.width/2;for(let a=0;a<t.charPositions.length;a++)t.charPositions[a]+=s}}function $B(n){for(let e=0;e<n.lines.length;e++){const t=n.lines[e],s=n.width-t.width;for(let a=0;a<t.charPositions.length;a++)t.charPositions[a]+=s}}function FB(n){const e=n.width;for(let t=0;t<n.lines.length;t++){const s=n.lines[t];let a=0,l=s.spacesIndex[a++],u=0;const h=s.spacesIndex.length,p=(e-s.width)/h;for(let g=0;g<s.charPositions.length;g++)g===l&&(l=s.spacesIndex[a++],u+=p),s.charPositions[g]+=u}}let Xu=0;class VB{constructor(){this.ALPHA=[["a","z"],["A","Z"]," "],this.NUMERIC=[["0","9"]],this.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],this.ASCII=[[" ","~"]],this.defaultOptions={chars:this.ALPHANUMERIC,resolution:1,padding:4,skipKerning:!1}}getFont(e,t){let s=`${t.fontFamily}-bitmap`,a=!0;if(t._fill.fill&&!t._stroke)s+=t._fill.fill.styleKey,a=!1;else if(t._stroke||t.dropShadow){let u=t.styleKey;u=u.substring(0,u.lastIndexOf("-")),s=`${u}-bitmap`,a=!1}if(!tt.has(s)){const u=new yw({style:t,overrideFill:a,overrideSize:!0,...this.defaultOptions});Xu++,Xu>50&&Qe("BitmapText",`You have dynamically created ${Xu} bitmap fonts, this can be inefficient. Try pre installing your font styles using \`BitmapFont.install({name:"style1", style})\``),u.once("destroy",()=>{Xu--,tt.remove(s)}),tt.set(s,u)}const l=tt.get(s);return l.ensureCharacters?.(e),l}getLayout(e,t,s=!0){const a=this.getFont(e,t);return GB([...e],t,a,s)}measureText(e,t,s=!0){return this.getLayout(e,t,s)}install(...e){let t=e[0];typeof t=="string"&&(t={name:t,style:e[1],chars:e[2]?.chars,resolution:e[2]?.resolution,padding:e[2]?.padding,skipKerning:e[2]?.skipKerning},st(Ut,"BitmapFontManager.install(name, style, options) is deprecated, use BitmapFontManager.install({name, style, ...options})"));const s=t?.name;if(!s)throw new Error("[BitmapFontManager] Property `name` is required.");t={...this.defaultOptions,...t};const a=t.style,l=a instanceof Jo?a:new Jo(a),u=l._fill.fill!==null&&l._fill.fill!==void 0,h=new yw({style:l,overrideFill:u,skipKerning:t.skipKerning,padding:t.padding,resolution:t.resolution,overrideSize:!1}),f=WS(t.chars);return h.ensureCharacters(f.join("")),tt.set(`${s}-bitmap`,h),h.once("destroy",()=>tt.remove(`${s}-bitmap`)),h}uninstall(e){const t=`${e}-bitmap`,s=tt.get(t);s&&s.destroy()}}const mw=new VB;class JS extends RS{constructor(e,t){super();const{textures:s,data:a}=e;Object.keys(a.pages).forEach(l=>{const u=a.pages[parseInt(l,10)],h=s[u.id];this.pages.push({texture:h})}),Object.keys(a.chars).forEach(l=>{const u=a.chars[l],{frame:h,source:f}=s[u.page],p=new ut(u.x+h.x,u.y+h.y,u.width,u.height),g=new Pe({source:f,frame:p});this.chars[l]={id:l.codePointAt(0),xOffset:u.xOffset,yOffset:u.yOffset,xAdvance:u.xAdvance,kerning:u.kerning??{},texture:g}}),this.baseRenderedFontSize=a.fontSize,this.baseMeasurementFontSize=a.fontSize,this.fontMetrics={ascent:0,descent:0,fontSize:a.fontSize},this.baseLineOffset=a.baseLineOffset,this.lineHeight=a.lineHeight,this.fontFamily=a.fontFamily,this.distanceField=a.distanceField??{type:"none",range:0},this.url=t}destroy(){super.destroy();for(let e=0;e<this.pages.length;e++){const{texture:t}=this.pages[e];t.destroy(!0)}this.pages=null}static install(e){mw.install(e)}static uninstall(e){mw.uninstall(e)}}const Yd={test(n){return typeof n=="string"&&n.startsWith("info face=")},parse(n){const e=n.match(/^[a-z]+\s+.+$/gm),t={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const m in e){const b=e[m].match(/^[a-z]+/gm)[0],v=e[m].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),x={};for(const S in v){const _=v[S].split("="),E=_[0],k=_[1].replace(/"/gm,""),A=parseFloat(k),M=isNaN(A)?k:A;x[E]=M}t[b].push(x)}const s={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},[a]=t.info,[l]=t.common,[u]=t.distanceField??[];u&&(s.distanceField={range:parseInt(u.distanceRange,10),type:u.fieldType}),s.fontSize=parseInt(a.size,10),s.fontFamily=a.face,s.lineHeight=parseInt(l.lineHeight,10);const h=t.page;for(let m=0;m<h.length;m++)s.pages.push({id:parseInt(h[m].id,10)||0,file:h[m].file});const f={};s.baseLineOffset=s.lineHeight-parseInt(l.base,10);const p=t.char;for(let m=0;m<p.length;m++){const b=p[m],v=parseInt(b.id,10);let x=b.letter??b.char??String.fromCharCode(v);x==="space"&&(x=" "),f[v]=x,s.chars[x]={id:v,page:parseInt(b.page,10)||0,x:parseInt(b.x,10),y:parseInt(b.y,10),width:parseInt(b.width,10),height:parseInt(b.height,10),xOffset:parseInt(b.xoffset,10),yOffset:parseInt(b.yoffset,10),xAdvance:parseInt(b.xadvance,10),kerning:{}}}const g=t.kerning||[];for(let m=0;m<g.length;m++){const b=parseInt(g[m].first,10),v=parseInt(g[m].second,10),x=parseInt(g[m].amount,10);s.chars[f[v]].kerning[f[b]]=x}return s}},bw={test(n){const e=n;return typeof e!="string"&&"getElementsByTagName"in e&&e.getElementsByTagName("page").length&&e.getElementsByTagName("info")[0].getAttribute("face")!==null},parse(n){const e={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},t=n.getElementsByTagName("info")[0],s=n.getElementsByTagName("common")[0],a=n.getElementsByTagName("distanceField")[0];a&&(e.distanceField={type:a.getAttribute("fieldType"),range:parseInt(a.getAttribute("distanceRange"),10)});const l=n.getElementsByTagName("page"),u=n.getElementsByTagName("char"),h=n.getElementsByTagName("kerning");e.fontSize=parseInt(t.getAttribute("size"),10),e.fontFamily=t.getAttribute("face"),e.lineHeight=parseInt(s.getAttribute("lineHeight"),10);for(let p=0;p<l.length;p++)e.pages.push({id:parseInt(l[p].getAttribute("id"),10)||0,file:l[p].getAttribute("file")});const f={};e.baseLineOffset=e.lineHeight-parseInt(s.getAttribute("base"),10);for(let p=0;p<u.length;p++){const g=u[p],m=parseInt(g.getAttribute("id"),10);let b=g.getAttribute("letter")??g.getAttribute("char")??String.fromCharCode(m);b==="space"&&(b=" "),f[m]=b,e.chars[b]={id:m,page:parseInt(g.getAttribute("page"),10)||0,x:parseInt(g.getAttribute("x"),10),y:parseInt(g.getAttribute("y"),10),width:parseInt(g.getAttribute("width"),10),height:parseInt(g.getAttribute("height"),10),xOffset:parseInt(g.getAttribute("xoffset"),10),yOffset:parseInt(g.getAttribute("yoffset"),10),xAdvance:parseInt(g.getAttribute("xadvance"),10),kerning:{}}}for(let p=0;p<h.length;p++){const g=parseInt(h[p].getAttribute("first"),10),m=parseInt(h[p].getAttribute("second"),10),b=parseInt(h[p].getAttribute("amount"),10);e.chars[f[m]].kerning[f[g]]=b}return e}},vw={test(n){return typeof n=="string"&&n.includes("<font>")?bw.test(dt.get().parseXML(n)):!1},parse(n){return bw.parse(dt.get().parseXML(n))}},YB=[".xml",".fnt"],XB={extension:{type:ve.CacheParser,name:"cacheBitmapFont"},test:n=>n instanceof JS,getCacheableAssets(n,e){const t={};return n.forEach(s=>{t[s]=e,t[`${s}-bitmap`]=e}),t[`${e.fontFamily}-bitmap`]=e,t}},QB={extension:{type:ve.LoadParser,priority:is.Normal},name:"loadBitmapFont",test(n){return YB.includes(on.extname(n).toLowerCase())},async testParse(n){return Yd.test(n)||vw.test(n)},async parse(n,e,t){const s=Yd.test(n)?Yd.parse(n):vw.parse(n),{src:a}=e,{pages:l}=s,u=[],h=s.distanceField?{scaleMode:"linear",alphaMode:"premultiply-alpha-on-upload",autoGenerateMipmaps:!1,resolution:1}:{};for(let m=0;m<l.length;++m){const b=l[m].file;let v=on.join(on.dirname(a),b);v=Pp(v,a),u.push({src:v,data:h})}const f=await t.load(u),p=u.map(m=>f[m.src]);return new JS({data:s,textures:p},a)},async load(n,e){return await(await dt.get().fetch(n)).text()},async unload(n,e,t){await Promise.all(n.pages.map(s=>t.unload(s.texture.source._sourceOrigin))),n.destroy()}};class WB{constructor(e,t=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=t}add(e){e.forEach(t=>{this._assetList.push(t)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],t=Math.min(this._assetList.length,this._maxConcurrent);for(let s=0;s<t;s++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}const KB={extension:{type:ve.CacheParser,name:"cacheTextureArray"},test:n=>Array.isArray(n)&&n.every(e=>e instanceof Pe),getCacheableAssets:(n,e)=>{const t={};return n.forEach(s=>{e.forEach((a,l)=>{t[s+(l===0?"":l+1)]=a})}),t}};async function e1(n){if("Image"in globalThis)return new Promise(e=>{const t=new Image;t.onload=()=>{e(!0)},t.onerror=()=>{e(!1)},t.src=n});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const e=await(await fetch(n)).blob();await createImageBitmap(e)}catch{return!1}return!0}return!1}const ZB={extension:{type:ve.DetectionParser,priority:1},test:async()=>e1("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async n=>[...n,"avif"],remove:async n=>n.filter(e=>e!=="avif")},_w=["png","jpg","jpeg"],JB={extension:{type:ve.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async n=>[...n,..._w],remove:async n=>n.filter(e=>!_w.includes(e))},e3="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function Ig(n){return e3?!1:document.createElement("video").canPlayType(n)!==""}const t3={extension:{type:ve.DetectionParser,priority:0},test:async()=>Ig("video/mp4"),add:async n=>[...n,"mp4","m4v"],remove:async n=>n.filter(e=>e!=="mp4"&&e!=="m4v")},n3={extension:{type:ve.DetectionParser,priority:0},test:async()=>Ig("video/ogg"),add:async n=>[...n,"ogv"],remove:async n=>n.filter(e=>e!=="ogv")},i3={extension:{type:ve.DetectionParser,priority:0},test:async()=>Ig("video/webm"),add:async n=>[...n,"webm"],remove:async n=>n.filter(e=>e!=="webm")},s3={extension:{type:ve.DetectionParser,priority:0},test:async()=>e1("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async n=>[...n,"webp"],remove:async n=>n.filter(e=>e!=="webp")};class r3{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,t,s)=>(this._parsersValidated=!1,e[t]=s,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,t){const s={promise:null,parser:null};return s.promise=(async()=>{let a=null,l=null;if(t.loadParser&&(l=this._parserHash[t.loadParser],l||Qe(`[Assets] specified load parser "${t.loadParser}" not found while loading ${e}`)),!l){for(let u=0;u<this.parsers.length;u++){const h=this.parsers[u];if(h.load&&h.test?.(e,t,this)){l=h;break}}if(!l)return Qe(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}a=await l.load(e,t,this),s.parser=l;for(let u=0;u<this.parsers.length;u++){const h=this.parsers[u];h.parse&&h.parse&&await h.testParse?.(a,t,this)&&(a=await h.parse(a,t,this)||a,s.parser=h)}return a})(),s}async load(e,t){this._parsersValidated||this._validateParsers();let s=0;const a={},l=mc(e),u=Pn(e,p=>({alias:[p],src:p,data:{}})),h=u.length,f=u.map(async p=>{const g=on.toAbsolute(p.src);if(!a[p.src])try{this.promiseCache[g]||(this.promiseCache[g]=this._getLoadPromiseAndParser(g,p)),a[p.src]=await this.promiseCache[g].promise,t&&t(++s/h)}catch(m){throw delete this.promiseCache[g],delete a[p.src],new Error(`[Loader.load] Failed to load ${g}.
${m}`)}});return await Promise.all(f),l?a[u[0].src]:a}async unload(e){const s=Pn(e,a=>({alias:[a],src:a})).map(async a=>{const l=on.toAbsolute(a.src),u=this.promiseCache[l];if(u){const h=await u.promise;delete this.promiseCache[l],await u.parser?.unload?.(h,a,this)}});await Promise.all(s)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,t)=>(t.name?e[t.name]&&Qe(`[Assets] loadParser name conflict "${t.name}"`):Qe("[Assets] loadParser should have a name"),{...e,[t.name]:t}),{})}}function oa(n,e){if(Array.isArray(e)){for(const t of e)if(n.startsWith(`data:${t}`))return!0;return!1}return n.startsWith(`data:${e}`)}function la(n,e){const t=n.split("?")[0],s=on.extname(t).toLowerCase();return Array.isArray(e)?e.includes(s):s===e}const a3=".json",o3="application/json",l3={extension:{type:ve.LoadParser,priority:is.Low},name:"loadJson",test(n){return oa(n,o3)||la(n,a3)},async load(n){return await(await dt.get().fetch(n)).json()}},u3=".txt",c3="text/plain",h3={name:"loadTxt",extension:{type:ve.LoadParser,priority:is.Low,name:"loadTxt"},test(n){return oa(n,c3)||la(n,u3)},async load(n){return await(await dt.get().fetch(n)).text()}},f3=["normal","bold","100","200","300","400","500","600","700","800","900"],d3=[".ttf",".otf",".woff",".woff2"],p3=["font/ttf","font/otf","font/woff","font/woff2"],g3=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function y3(n){const e=on.extname(n),a=on.basename(n,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(h=>h.charAt(0).toUpperCase()+h.slice(1));let l=a.length>0;for(const h of a)if(!h.match(g3)){l=!1;break}let u=a.join(" ");return l||(u=`"${u.replace(/[\\"]/g,"\\$&")}"`),u}const m3=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function b3(n){return m3.test(n)?n:encodeURI(n)}const v3={extension:{type:ve.LoadParser,priority:is.Low},name:"loadWebFont",test(n){return oa(n,p3)||la(n,d3)},async load(n,e){const t=dt.get().getFontFaceSet();if(t){const s=[],a=e.data?.family??y3(n),l=e.data?.weights?.filter(h=>f3.includes(h))??["normal"],u=e.data??{};for(let h=0;h<l.length;h++){const f=l[h],p=new FontFace(a,`url(${b3(n)})`,{...u,weight:f});await p.load(),t.add(p),s.push(p)}return tt.set(`${a}-and-url`,{url:n,fontFaces:s}),s.length===1?s[0]:s}return Qe("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(n){(Array.isArray(n)?n:[n]).forEach(e=>{tt.remove(`${e.family}-and-url`),dt.get().getFontFaceSet().delete(e)})}};function Ng(n,e=1){const t=aa.RETINA_PREFIX?.exec(n);return t?parseFloat(t[1]):e}function qg(n,e,t){n.label=t,n._sourceOrigin=t;const s=new Pe({source:n,label:t}),a=()=>{delete e.promiseCache[t],tt.has(t)&&tt.remove(t)};return s.source.once("destroy",()=>{e.promiseCache[t]&&(Qe("[Assets] A TextureSource managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the TextureSource."),a())}),s.once("destroy",()=>{n.destroyed||(Qe("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),a())}),s}const _3=".svg",w3="image/svg+xml",x3={extension:{type:ve.LoadParser,priority:is.Low,name:"loadSVG"},name:"loadSVG",config:{crossOrigin:"anonymous",parseAsGraphicsContext:!1},test(n){return oa(n,w3)||la(n,_3)},async load(n,e,t){return e.data?.parseAsGraphicsContext??this.config.parseAsGraphicsContext?A3(n):S3(n,e,t,this.config.crossOrigin)},unload(n){n.destroy(!0)}};async function S3(n,e,t,s){const l=await(await dt.get().fetch(n)).blob(),u=URL.createObjectURL(l),h=new Image;h.src=u,h.crossOrigin=s,await h.decode(),URL.revokeObjectURL(u);const f=document.createElement("canvas"),p=f.getContext("2d"),g=e.data?.resolution||Ng(n),m=e.data?.width??h.width,b=e.data?.height??h.height;f.width=m*g,f.height=b*g,p.drawImage(h,0,0,m*g,b*g);const{parseAsGraphicsContext:v,...x}=e.data??{},S=new $s({resource:f,alphaMode:"premultiply-alpha-on-upload",resolution:g,...x});return qg(S,t,n)}async function A3(n){const t=await(await dt.get().fetch(n)).text(),s=new Us;return s.svg(t),s}const E3=`(function () {
    'use strict';

    const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
    async function checkImageBitmap() {
      try {
        if (typeof createImageBitmap !== "function")
          return false;
        const response = await fetch(WHITE_PNG);
        const imageBlob = await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);
        return imageBitmap.width === 1 && imageBitmap.height === 1;
      } catch (_e) {
        return false;
      }
    }
    void checkImageBitmap().then((result) => {
      self.postMessage(result);
    });

})();
`;let Wr=null,Gp=class{constructor(){Wr||(Wr=URL.createObjectURL(new Blob([E3],{type:"application/javascript"}))),this.worker=new Worker(Wr)}};Gp.revokeObjectURL=function(){Wr&&(URL.revokeObjectURL(Wr),Wr=null)};const T3=`(function () {
    'use strict';

    async function loadImageBitmap(url, alphaMode) {
      const response = await fetch(url);
      if (!response.ok) {
        throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
      }
      const imageBlob = await response.blob();
      return alphaMode === "premultiplied-alpha" ? createImageBitmap(imageBlob, { premultiplyAlpha: "none" }) : createImageBitmap(imageBlob);
    }
    self.onmessage = async (event) => {
      try {
        const imageBitmap = await loadImageBitmap(event.data.data[0], event.data.data[1]);
        self.postMessage({
          data: imageBitmap,
          uuid: event.data.uuid,
          id: event.data.id
        }, [imageBitmap]);
      } catch (e) {
        self.postMessage({
          error: e,
          uuid: event.data.uuid,
          id: event.data.id
        });
      }
    };

})();
`;let Kr=null;class t1{constructor(){Kr||(Kr=URL.createObjectURL(new Blob([T3],{type:"application/javascript"}))),this.worker=new Worker(Kr)}}t1.revokeObjectURL=function(){Kr&&(URL.revokeObjectURL(Kr),Kr=null)};let ww=0,Xd;class M3{constructor(){this._initialized=!1,this._createdWorkers=0,this._workerPool=[],this._queue=[],this._resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const{worker:t}=new Gp;t.addEventListener("message",s=>{t.terminate(),Gp.revokeObjectURL(),e(s.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e,t){return this._run("loadImageBitmap",[e,t?.data?.alphaMode])}async _initWorkers(){this._initialized||(this._initialized=!0)}_getWorker(){Xd===void 0&&(Xd=navigator.hardwareConcurrency||4);let e=this._workerPool.pop();return!e&&this._createdWorkers<Xd&&(this._createdWorkers++,e=new t1().worker,e.addEventListener("message",t=>{this._complete(t.data),this._returnWorker(t.target),this._next()})),e}_returnWorker(e){this._workerPool.push(e)}_complete(e){e.error!==void 0?this._resolveHash[e.uuid].reject(e.error):this._resolveHash[e.uuid].resolve(e.data),this._resolveHash[e.uuid]=null}async _run(e,t){await this._initWorkers();const s=new Promise((a,l)=>{this._queue.push({id:e,arguments:t,resolve:a,reject:l})});return this._next(),s}_next(){if(!this._queue.length)return;const e=this._getWorker();if(!e)return;const t=this._queue.pop(),s=t.id;this._resolveHash[ww]={resolve:t.resolve,reject:t.reject},e.postMessage({data:t.arguments,uuid:ww++,id:s})}}const xw=new M3,C3=[".jpeg",".jpg",".png",".webp",".avif"],k3=["image/jpeg","image/png","image/webp","image/avif"];async function R3(n,e){const t=await dt.get().fetch(n);if(!t.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${n}: ${t.status} ${t.statusText}`);const s=await t.blob();return e?.data?.alphaMode==="premultiplied-alpha"?createImageBitmap(s,{premultiplyAlpha:"none"}):createImageBitmap(s)}const n1={name:"loadTextures",extension:{type:ve.LoadParser,priority:is.High,name:"loadTextures"},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(n){return oa(n,k3)||la(n,C3)},async load(n,e,t){let s=null;globalThis.createImageBitmap&&this.config.preferCreateImageBitmap?this.config.preferWorkers&&await xw.isImageBitmapSupported()?s=await xw.loadImageBitmap(n,e):s=await R3(n,e):s=await new Promise((l,u)=>{s=new Image,s.crossOrigin=this.config.crossOrigin,s.src=n,s.complete?l(s):(s.onload=()=>{l(s)},s.onerror=u)});const a=new $s({resource:s,alphaMode:"premultiply-alpha-on-upload",resolution:e.data?.resolution||Ng(n),...e.data});return qg(a,t,n)},unload(n){n.destroy(!0)}},i1=[".mp4",".m4v",".webm",".ogg",".ogv",".h264",".avi",".mov"],O3=i1.map(n=>`video/${n.substring(1)}`);function P3(n,e,t){t===void 0&&!e.startsWith("data:")?n.crossOrigin=B3(e):t!==!1&&(n.crossOrigin=typeof t=="string"?t:"anonymous")}function D3(n){return new Promise((e,t)=>{n.addEventListener("canplaythrough",s),n.addEventListener("error",a),n.load();function s(){l(),e()}function a(u){l(),t(u)}function l(){n.removeEventListener("canplaythrough",s),n.removeEventListener("error",a)}})}function B3(n,e=globalThis.location){if(n.startsWith("data:"))return"";e||(e=globalThis.location);const t=new URL(n,document.baseURI);return t.hostname!==e.hostname||t.port!==e.port||t.protocol!==e.protocol?"anonymous":""}const z3={name:"loadVideo",extension:{type:ve.LoadParser,name:"loadVideo"},test(n){const e=oa(n,O3),t=la(n,i1);return e||t},async load(n,e,t){const s={...ec.defaultOptions,resolution:e.data?.resolution||Ng(n),alphaMode:e.data?.alphaMode||await mS(),...e.data},a=document.createElement("video"),l={preload:s.autoLoad!==!1?"auto":void 0,"webkit-playsinline":s.playsinline!==!1?"":void 0,playsinline:s.playsinline!==!1?"":void 0,muted:s.muted===!0?"":void 0,loop:s.loop===!0?"":void 0,autoplay:s.autoPlay!==!1?"":void 0};Object.keys(l).forEach(f=>{const p=l[f];p!==void 0&&a.setAttribute(f,p)}),s.muted===!0&&(a.muted=!0),P3(a,n,s.crossorigin);const u=document.createElement("source");let h;if(n.startsWith("data:"))h=n.slice(5,n.indexOf(";"));else if(!n.startsWith("blob:")){const f=n.split("?")[0].slice(n.lastIndexOf(".")+1).toLowerCase();h=ec.MIME_TYPES[f]||`video/${f}`}return u.src=n,h&&(u.type=h),new Promise(f=>{const p=async()=>{const g=new ec({...s,resource:a});a.removeEventListener("canplay",p),e.data.preload&&await D3(a),f(qg(g,t,n))};a.addEventListener("canplay",p),a.appendChild(u)})},unload(n){n.destroy(!0)}},s1={extension:{type:ve.ResolveParser,name:"resolveTexture"},test:n1.test,parse:n=>({resolution:parseFloat(aa.RETINA_PREFIX.exec(n)?.[1]??"1"),format:n.split(".").pop(),src:n})},U3={extension:{type:ve.ResolveParser,priority:-2,name:"resolveJson"},test:n=>aa.RETINA_PREFIX.test(n)&&n.endsWith(".json"),parse:s1.parse};class j3{constructor(){this._detections=[],this._initialized=!1,this.resolver=new aa,this.loader=new r3,this.cache=tt,this._backgroundLoader=new WB(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){if(this._initialized){Qe("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let l=e.manifest;typeof l=="string"&&(l=await this.load(l)),this.resolver.addManifest(l)}const t=e.texturePreference?.resolution??1,s=typeof t=="number"?[t]:t,a=await this._detectFormats({preferredFormats:e.texturePreference?.format,skipDetections:e.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:a,resolution:s}}),e.preferences&&this.setPreferences(e.preferences)}add(e){this.resolver.add(e)}async load(e,t){this._initialized||await this.init();const s=mc(e),a=Pn(e).map(h=>{if(typeof h!="string"){const f=this.resolver.getAlias(h);return f.some(p=>!this.resolver.hasKey(p))&&this.add(h),Array.isArray(f)?f[0]:f}return this.resolver.hasKey(h)||this.add({alias:h,src:h}),h}),l=this.resolver.resolve(a),u=await this._mapLoadToResolve(l,t);return s?u[a[0]]:u}addBundle(e,t){this.resolver.addBundle(e,t)}async loadBundle(e,t){this._initialized||await this.init();let s=!1;typeof e=="string"&&(s=!0,e=[e]);const a=this.resolver.resolveBundle(e),l={},u=Object.keys(a);let h=0,f=0;const p=()=>{t?.(++h/f)},g=u.map(m=>{const b=a[m];return f+=Object.keys(b).length,this._mapLoadToResolve(b,p).then(v=>{l[m]=v})});return await Promise.all(g),s?l[e[0]]:l}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const t=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(t))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const t=this.resolver.resolveBundle(e);Object.values(t).forEach(s=>{this._backgroundLoader.add(Object.values(s))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return tt.get(e);const t={};for(let s=0;s<e.length;s++)t[s]=tt.get(e[s]);return t}async _mapLoadToResolve(e,t){const s=[...new Set(Object.values(e))];this._backgroundLoader.active=!1;const a=await this.loader.load(s,t);this._backgroundLoader.active=!0;const l={};return s.forEach(u=>{const h=a[u.src],f=[u.src];u.alias&&f.push(...u.alias),f.forEach(p=>{l[p]=h}),tt.set(f,h)}),l}async unload(e){this._initialized||await this.init();const t=Pn(e).map(a=>typeof a!="string"?a.src:a),s=this.resolver.resolve(t);await this._unloadFromResolved(s)}async unloadBundle(e){this._initialized||await this.init(),e=Pn(e);const t=this.resolver.resolveBundle(e),s=Object.keys(t).map(a=>this._unloadFromResolved(t[a]));await Promise.all(s)}async _unloadFromResolved(e){const t=Object.values(e);t.forEach(s=>{tt.remove(s.src)}),await this.loader.unload(t)}async _detectFormats(e){let t=[];e.preferredFormats&&(t=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]);for(const s of e.detections)e.skipDetections||await s.test()?t=await s.add(t):e.skipDetections||(t=await s.remove(t));return t=t.filter((s,a)=>t.indexOf(s)===a),t}get detections(){return this._detections}setPreferences(e){this.loader.parsers.forEach(t=>{t.config&&Object.keys(t.config).filter(s=>s in e).forEach(s=>{t.config[s]=e[s]})})}}const Mo=new j3;Yt.handleByList(ve.LoadParser,Mo.loader.parsers).handleByList(ve.ResolveParser,Mo.resolver.parsers).handleByList(ve.CacheParser,Mo.cache.parsers).handleByList(ve.DetectionParser,Mo.detections);Yt.add(KB,JB,ZB,s3,t3,n3,i3,l3,h3,v3,x3,n1,z3,QB,XB,s1,U3);const Sw={loader:ve.LoadParser,resolver:ve.ResolveParser,cache:ve.CacheParser,detection:ve.DetectionParser};Yt.handle(ve.Asset,n=>{const e=n.ref;Object.entries(Sw).filter(([t])=>!!e[t]).forEach(([t,s])=>Yt.add(Object.assign(e[t],{extension:e[t].extension??s})))},n=>{const e=n.ref;Object.keys(Sw).filter(t=>!!e[t]).forEach(t=>Yt.remove(e[t]))});Yt.add(bO,vO);const L3="/editor/assets/sprites-D8vRiRQP.png",Hr=(n,e,t)=>{const s=({x:l,y:u,w:h,h:f,pivot:p})=>e==="x"?{...Do(t,{x:-l-h-1,y:u}),w:h,h:f,pivot:{x:h-p.x,y:p.y}}:{...Do(t,{x:l+2,y:u}),w:h,h:f,pivot:p};function*a(){yield[`door.frame.${n}.${e}.whole`,{frame:{...s({x:-41,y:0,w:40,h:64,pivot:{x:9,y:63}})}}],yield[`door.frame.${n}.${e}.far`,{frame:{...s({x:-18,y:0,w:17,h:57,pivot:{x:9,y:52}})}}],yield[`door.frame.${n}.${e}.near`,{frame:{...s({x:-41,y:6,w:20,h:58,pivot:{x:8,y:58}})}}],yield[`door.frame.${n}.${e}.top`,{frame:{...s({x:-57,y:-1,w:15,h:36,pivot:{x:0,y:36.5}})}}]}return fg(a())},I3={frames:{...Hr("generic","y",{x:580,y:415}),...Hr("generic","x",{x:582,y:415}),...Hr("moonbase","y",{x:752,y:232}),...Hr("moonbase","x",{x:915,y:232}),...Hr("moonbase.dark","y",{x:752,y:306}),...Hr("moonbase.dark","x",{x:915,y:306})}},ks=(n,{x:e,y:t},s)=>{function*a(){yield[`${n}.left`,{frame:{x:e,y:t,...s}}],yield[`${n}.away`,{frame:{x:e+s.w+1,y:t,...s}}],yield[`${n}.towards`,{frame:{x:e,y:t+s.h+1,...s}}],yield[`${n}.right`,{frame:{x:e+s.w+1,y:t+s.h+1,...s}}]}return Object.fromEntries(a())},et=(n,e,{x:t,y:s},a,l=e)=>{function*u(){for(let h=0;h<e;h++)yield[`${n}.${h+1}`,{frame:{x:t+h%l*(a.w+1),y:s+Math.floor(h/l)*(a.h+1),...a}}]}return Object.fromEntries(u())},Aw=(n,{x:e,y:t},s,a=n.length,l)=>{function*u(){for(let h=0;h<n.length;h++)yield[l?`${l}.${n[h]}`:n[h],{frame:{x:e+h%a*(s.w+1),y:t+Math.floor(h/a)*(s.h+1),...s}}]}return Object.fromEntries(u())},N3=(n,e,t,s)=>({...et(`${n}.left`,e,t,s),...et(`${n}.away`,e,Do(t,{x:(s.w+1)*e}),s),...et(`${n}.towards`,e,Do(t,{y:s.h+1}),s),...et(`${n}.right`,e,Do(t,{x:(s.w+1)*e,y:s.h+1}),s)}),Co=(n,e)=>[...ox(kM(1,e+1)).map(t=>`${n}.${String(t)}`)],q3={frames:{...Aw(["share","save","pointer","eyedropper"],{x:588,y:0},{w:12,h:12},void 0,"editor.tool"),...Aw(["single","corridor","double","triple.line","triple.^","quad.square","quad.s","quad.31","quad.t","5.x"],{x:640,y:0},{w:9,h:9},void 0,"editor.addRoom")}},r1={" ":"space",",":"comma",";":"scolon",":":"colon",".":"dot","'":"sQuote","":"lQuote","":"rQuote","`":"backtick","<":"lt",">":"gt","?":"questMk","!":"exclMk","-":"hyph"},Gn=n=>r1[n].toUpperCase(),G3=n=>r1[n]??n,Hp={w:32,h:16},Rn={w:16,h:56},Me={w:32,h:28},oe={w:24,h:24},Qu={w:8,h:8},Qz={h:10},le=n=>({x:n.x*(oe.w+1)+1,y:n.y*(oe.h+1)+2}),Re=n=>({x:n.x*(Me.w+1)+1,y:n.y*(Me.h+1)+396}),H3="",$3="",F3="",V3="",Y3="",X3="",Q3=[{char:"a",width:8},{char:"b",width:8},{char:"c",width:7},{char:"d",width:8},{char:"e",width:8},{char:"f",width:6},{char:"g",width:8},{char:"h",width:8},{char:"i",width:4},{char:"j",width:5},{char:"k",width:8},{char:"l",width:5},{char:"m",width:9},{char:"n",width:8},{char:"o",width:8},{char:"p",width:8},{char:"q",width:8},{char:"r",width:6},{char:"s",width:6},{char:"t",width:6},{char:"u",width:8},{char:"v",width:8},{char:"w",width:9},{char:"x",width:8},{char:"y",width:8},{char:"z",width:6},{char:"?",width:6},{char:"!",width:4},{char:".",width:4},{char:",",width:4},{char:";",width:4},{char:":",width:3},{char:"",width:4},{char:"",width:4},{char:"'",width:4},{char:"-",width:5}],W3=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","0","1","2","3","4","5","6","7","8","9","_","#","","","","",{char:"",width:16},{char:H3,width:16},{char:$3,width:16}],K3=[" ",Gn("?"),Gn("!"),Gn("."),Gn(","),Gn(";"),Gn(":"),"/","\\",Gn(""),Gn(""),Gn("'"),"`",Gn("-"),"+","%","","","","","","","","","(",")","[","]","<",">","","","","EnterFullscreen","ExitFullscreen","Menu","*","@","",F3,V3,Y3,X3,"","","^","","","",""],Qd=(n,e,t=Qu.h)=>{function*s(){let{x:a}=e;for(let l=0;l<n.length;l++){const u=n[l],h=typeof u=="string"?u:u.char,p=(typeof u=="string"?void 0:u.width)??Qu.w;yield[`hud.char.${G3(h)}`,{frame:{x:a,y:e.y,...Qu,w:p,h:t}}],a+=Math.max(p,Qu.w)+1}}return fg(s())},Z3={frames:{...Qd(Q3,{x:1,y:605},10),...Qd(W3,{x:1,y:616}),...Qd(K3,{x:1,y:625})}},ze=(n,e)=>Object.assign([...n],{animationSpeed:e}),J3={...et("dalek",2,le({x:0,y:0}),oe),"shadowMask.dalek":{frame:{...le({x:2,y:0}),...oe}},...et("bubbles.cold",2,le({x:3,y:0}),oe),...ks("cyberman",le({x:1,y:1}),oe),...ks("charles",le({x:3,y:1}),oe),"shadowMask.charles.away":{frame:{...le({x:5,y:1}),...oe}},"shadowMask.charles.right":{frame:{...le({x:5,y:2}),...oe}},...ks("elephant",le({x:6,y:1}),oe),"crown.blacktooth":{frame:{...le({x:8,y:1}),...oe}},"crown.safari":{frame:{...le({x:9,y:1}),...oe}},"crown.egyptus":{frame:{...le({x:10,y:1}),...oe}},"crown.penitentiary":{frame:{...le({x:11,y:1}),...oe}},"crown.bookworld":{frame:{...le({x:12,y:1}),...oe}},ball:{frame:{...le({x:13,y:1}),...oe}},"shadowMask.ball":{frame:{...le({x:14,y:1}),...oe}},sticks:{frame:{...le({x:8,y:2}),...oe}},cube:{frame:{...le({x:9,y:2}),...oe}},drum:{frame:{...le({x:10,y:2}),...oe}},hooter:{frame:{...le({x:11,y:2}),...oe}},bag:{frame:{...le({x:12,y:2}),...oe}},joystick:{frame:{...le({x:13,y:2}),...oe}},"shadowMask.joystick":{frame:{...le({x:14,y:2}),...oe}},...N3("turtle",2,le({x:0,y:3}),oe),"shadowMask.turtle.away":{frame:{...le({x:4,y:3}),...oe}},"shadowMask.turtle.right":{frame:{...le({x:4,y:4}),...oe}},...ks("monkey",le({x:5,y:3}),oe),...ks("computerBot",le({x:7,y:3}),oe),"spring.compressed":{frame:{...le({x:9,y:3}),...oe}},"spring.released":{frame:{...le({x:10,y:3}),...oe}},"switch.left":{frame:{...le({x:11,y:3}),...oe}},"switch.right":{frame:{...le({x:12,y:3}),...oe}},"shadowMask.switch":{frame:{...le({x:13,y:3}),...oe}},tower:{frame:{...le({x:14,y:3}),...oe}},"shadowMask.tower":{frame:{...le({x:15,y:3}),...oe}},scroll:{frame:{...le({x:9,y:4}),...oe,pivot:{x:17,y:24}}},"shadow.scroll":{frame:{...le({x:10,y:4}),...oe,pivot:{x:17,y:24}}},"shadowMask.scroll":{frame:{...le({x:11,y:4}),...oe,pivot:{x:17,y:24}}},"spikyBall.1":{frame:{...le({x:12,y:4}),...oe}},"spikyBall.2":{frame:{...le({x:13,y:4}),...oe}},puck:{frame:{...le({x:14,y:4}),...oe}},"shadow.smallRound":{frame:{...le({x:15,y:4}),...oe}},"shadowMask.smallRound":{frame:{...le({x:16,y:4}),...oe}},...et("helicopterBug",4,le({x:0,y:5}),oe),"barrier.x":{frame:{...le({x:4,y:5}),...oe,pivot:{x:18,y:23}}},"barrier.y":{frame:{...le({x:5,y:5}),...oe,pivot:{x:6,y:23}}},"shadow.barrier.y":{frame:{...le({x:6,y:5}),...oe,pivot:{x:6,y:22}}},"shadowMask.barrier.y":{frame:{...le({x:7,y:5}),...oe,pivot:{x:6,y:22}}},...et("bubbles.taupe",3,le({x:8,y:5}),oe),whiteRabbit:{frame:{...le({x:11,y:5}),...oe}},"shadowMask.whiteRabbit":{frame:{...le({x:12,y:5}),...oe}},...et("bubbles.white",3,le({x:13,y:5}),oe),...et("fish",2,le({x:12,y:6}),oe),doughnuts:{frame:{...le({x:14,y:6}),...oe}},"shadowMask.doughnuts":{frame:{...le({x:15,y:6}),...oe}},"lift.static":{frame:{...le({x:10,y:7}),...oe}},"shadow.smallBlock":{frame:{...le({x:11,y:7}),...oe}},"shadowMask.smallBlock":{frame:{...le({x:12,y:7}),...oe}},buttonInGame:{frame:{...le({x:13,y:7}),...oe}},"buttonInGame.pressed":{frame:{...le({x:14,y:7}),...oe}},"shadowMask.buttonInGame":{frame:{...le({x:15,y:7}),...oe}},...et("lift",4,le({x:10,y:8}),oe),headlessBase:{frame:{...le({x:14,y:8}),...oe}},...et("headlessBase",4,le({x:10,y:9}),oe),"headlessBase.all":{frame:{...le({x:14,y:9}),...oe}},...ks("skiHead.greenAndPink",{x:251,y:252},{w:24,h:32}),...ks("skiHead.starsAndStripes",{x:301,y:252},{w:24,h:32}),"shadowMask.skiHead.away":{frame:{x:351,y:252,w:24,h:32}},"shadowMask.skiHead.right":{frame:{x:351,y:285,w:24,h:32}},"editor.cursor.xz":{frame:{...Re({x:7,y:-2}),...Me}},"editor.cursor.floor":{frame:{...Re({x:7,y:-1}),...Me}},"block.organic":{frame:{...Re({x:0,y:0}),...Me}},"block.organic.disappearing":{frame:{...Re({x:1,y:0}),...Me}},"block.organic.dark":{frame:{...Re({x:2,y:0}),...Me}},"block.organic.dark.disappearing":{frame:{...Re({x:3,y:0}),...Me}},"block.artificial":{frame:{...Re({x:4,y:0}),...Me}},"block.artificial.disappearing":{frame:{...Re({x:5,y:0}),...Me}},"book.x":{frame:{...Re({x:6,y:0}),...Me}},"book.y":{frame:{...Re({x:7,y:0}),...Me}},"shadow.fullBlock":{frame:{...Re({x:8,y:0}),...Me}},"shadowMask.fullBlock":{frame:{...Re({x:9,y:0}),...Me}},stepStool:{frame:{...Re({x:0,y:1}),...Me}},"shadowMask.stepStool":{frame:{...Re({x:1,y:1}),...Me}},"volcano.1":{frame:{...Re({x:2,y:1}),...Me}},"volcano.2":{frame:{...Re({x:3,y:1}),...Me}},"shadowMask.volcano":{frame:{...Re({x:4,y:1}),...Me}},hushPuppy:{frame:{...Re({x:5,y:1}),...Me}},"shadowMask.hushPuppy":{frame:{...Re({x:6,y:1}),...Me}},"toaster.on":{frame:{...Re({x:7,y:1}),...Me}},"toaster.off":{frame:{...Re({x:8,y:1}),...Me}},"shadowMask.toaster":{frame:{...Re({x:9,y:1}),...Me}},sandwich:{frame:{...Re({x:10,y:1}),...Me}},spikes:{frame:{...Re({x:11,y:1}),...Me}},"shadowMask.spikes":{frame:{...Re({x:12,y:1}),...Me}},...et("conveyor.x",7,Re({x:0,y:2}),Me),"shadowMask.conveyor":{frame:{...Re({x:7,y:2}),...Me}},button:{frame:{...Re({x:9,y:2}),...Me}},"button.pressed":{frame:{...Re({x:10,y:2}),...Me}},"button.surfaceMask":{frame:{...Re({x:11,y:2}),...Me}},...et("conveyor.y",7,Re({x:0,y:3}),Me),teleporter:{frame:{...Re({x:7,y:3}),...Me}},...et("teleporter.flashing",2,Re({x:8,y:3}),Me),"shadowMask.teleporter":{frame:{...Re({x:10,y:3}),...Me}},"shadowMask.teleporter.flashing":{frame:{...Re({x:11,y:3}),...Me}},...et("particle",4,{x:331,y:396},{w:9,h:11})},a1={frames:J3,animations:{"teleporter.flashing":ze(["teleporter.flashing.1","teleporter.flashing.2"],.5),fish:ze(["fish.1","fish.2"],.25),lift:ze(["lift.1","lift.2","lift.3","lift.4"],.5),dalek:ze(["dalek.1","dalek.2"],.5),"turtle.left":ze(["turtle.left.1","turtle.left.2"],.25),"turtle.away":ze(["turtle.away.1","turtle.away.2"],.25),"turtle.towards":ze(["turtle.towards.1","turtle.towards.2"],.25),"turtle.right":ze(["turtle.right.1","turtle.right.2"],.25),helicopterBug:ze(["helicopterBug.1","helicopterBug.2","helicopterBug.3","helicopterBug.4"],.5),"bubbles.cold":ze(["bubbles.cold.1","bubbles.cold.2"],.25),"bubbles.white":ze(["bubbles.white.1","bubbles.white.2","bubbles.white.3"],.5),"bubbles.bounce.white":ze(["bubbles.white.1","bubbles.white.2","bubbles.white.3","bubbles.white.2"],.5),"bubbles.doughnut":ze(["bubbles.taupe.1","bubbles.taupe.2"],.5),"conveyor.x":ze(Co("conveyor.x",7),.5),"conveyor.y":ze(Co("conveyor.y",7),.5),volcano:ze(Co("volcano",2),3/16),"spring.bounce":ze(["spring.released","spring.compressed","spring.released","spring.compressed","spring.released"],.5),"headlessBase.scan":ze(["headlessBase.4","headlessBase","headlessBase.3","headlessBase","headlessBase.2","headlessBase","headlessBase.1","headlessBase","headlessBase","headlessBase","headlessBase","headlessBase","headlessBase.all","headlessBase","headlessBase","headlessBase","headlessBase"],.25),"headlessBase.flash":ze(["headlessBase.all","headlessBase"],.5),switch:ze(["switch.left","switch.right"],.02),"particle.fade":ze(Co("particle",4),.5)}},e4=.5,o1=5e3,t4=o1*2,_o=(n,e)=>{const t=Math.round(o1/(dg*4)),s=`head.walking.${n}.${e}`,a=`head.blinking.${n}`,l=[...new Array(t-3).fill(s),a,s,a];return ze(l,.5)},Wd=(n,e)=>{const t=Math.round(t4/(dg*4)),s=`heels.walking.${n}.${e}`,a=`heels.blinking.${n}`,l=[...new Array(Math.floor(t*.8)).fill(s),...new Array(Math.ceil(t*.2)).fill(a)];return ze(l,.5)},Ew=(n,e,t)=>{const s=["awayLeft","away","awayRight","right","towardsRight","towards","towardsLeft","left"];function*a(){for(let l=0;l<sx.length;l++){const u=s[l];for(let h=0;h<=2;h++)yield[`${n}.walking.${u}.${h+1}`,{frame:{...le({x:e.x+h,y:e.y+l}),...oe}}];yield[`${n}.falling.${u}`,{frame:{...le({x:e.x+3,y:e.y+l}),...oe}}],t[u]?.noBlinking||(yield[`${n}.blinking.${u}`,{frame:{...le({x:e.x+4,y:e.y+l}),...oe}}])}}return Object.fromEntries(a())};function Tw(n){function*e(t,s){yield`${t}.walking.${s}.1`,yield`${t}.walking.${s}.2`,yield`${t}.walking.${s}.3`,yield`${t}.walking.${s}.2`}return sx.reduce((t,s)=>({...t,[`${n}.walking.${s}`]:ze([...e(n,s)],e4)}),{})}const n4={...et("bubbles.head",6,le({x:0,y:6}),oe),...Ew("head",{x:0,y:7},{awayLeft:{noBlinking:!0},away:{noBlinking:!0},left:{noBlinking:!0}}),...et("bubbles.heels",6,le({x:6,y:6}),oe),...Ew("heels",{x:5,y:7},{awayLeft:{noBlinking:!0},away:{noBlinking:!0},awayRight:{noBlinking:!0},towardsLeft:{noBlinking:!0},left:{noBlinking:!0}}),...et("shine",6,Re({x:8,y:-2}),Me,3),blank:{frame:{...le({x:0,y:2}),...oe}}},l1={frames:n4,animations:{...Tw("head"),...Tw("heels"),"heels.screenDirections":ze(["heels.walking.towardsRight.2","heels.walking.towardsLeft.2","heels.walking.awayLeft.2","heels.walking.awayRight.2"],1/16),"heels.worldDirections":ze(["heels.walking.towards.2","heels.walking.left.2","heels.walking.away.2","heels.walking.right.2"],1/16),"head.idle.right":_o("right",3),"head.idle.towards":_o("towards",3),"head.idle.towardsRight":_o("towardsRight",2),"head.idle.towardsLeft":_o("towardsLeft",2),"head.idle.awayRight":_o("awayRight",2),"heels.idle.right":Wd("right",2),"heels.idle.towards":Wd("towards",2),"heels.idle.towardsRight":Wd("towardsRight",2),"head.fadeOut":ze(["bubbles.head.1","bubbles.head.2","bubbles.head.4","bubbles.head.3","bubbles.head.4","bubbles.head.6","bubbles.head.5","bubbles.head.6","bubbles.head.5"],.5),"heels.fadeOut":ze(["bubbles.heels.1","bubbles.heels.2","bubbles.heels.4","bubbles.heels.3","bubbles.heels.4","bubbles.heels.6","bubbles.heels.5","bubbles.heels.6","bubbles.heels.5"],.5),shine:ze(Co("shine",6),.5),"shine.headInSymbio":ze(["shine.1","shine.2","shine.3","blank","blank","blank","blank","blank","blank","shine.4","shine.5","shine.6"],.5),"shine.heelsInSymbio":ze(["blank","blank","blank","shine.1","shine.2","shine.3","shine.4","shine.5","shine.6","blank","blank","blank"],.5)}},u1={jail:["bars"],blacktooth:["plain","shield","armour"],bookworld:["book","cowboy"],egyptus:["hieroglyphics","sarcophagus"],market:["more-fruits","fruits","passage"],moonbase:["coil","window3","window2","window1","window-clear"],penitentiary:["skeleton","loop"],safari:["wall","shield","window"]},Wz=Object.keys(u1),Kz=["blacktooth","penitentiary","bookworld","egyptus","safari"],Dt=(n,e,t,s)=>{function*a(l,u,h){const f=u1[l],{w:p,h:g}=Rn,m=p>>1;for(let b=0;b<f.length;b++)yield[`${l}${s}.wall.${f[b]}.left`,{frame:{x:u-p*(b+1),y:h+m*b,...Rn}}],yield[`${l}${s}.wall.${f[b]}.away`,{frame:{x:u+p*b,y:h+m*b,...Rn}}];yield[`${l}${s}.floor`,{frame:{x:u-p,y:h+g,...Hp}}]}return Object.fromEntries(a(n,e,t))},Mw={w:16,h:13},Cw={w:8,h:9},Hn=74;let Bt=53;const i4={...Dt("egyptus",834,Bt,""),...Dt("egyptus",834,Bt+=Hn,".dark"),...Dt("moonbase",834,Bt+=Hn,""),...Dt("moonbase",834,Bt+=Hn,".dark"),...Dt("bookworld",834,Bt+=Hn,""),...Dt("bookworld",834,Bt,".dark"),...Dt("jail",834,Bt+=Hn,""),...Dt("jail",834,Bt,".dark"),...Dt("blacktooth",834,Bt+=Hn,""),...Dt("blacktooth",834,Bt+=Hn,".dark"),...Dt("penitentiary",834,Bt+=Hn,""),...Dt("penitentiary",834,Bt,".dark"),...Dt("market",834,Bt+=Hn,""),...Dt("market",834,Bt,".dark"),...Dt("safari",834,Bt+=Hn,""),...Dt("safari",834,Bt,".dark"),"floorEdge.right":{frame:{x:418,y:466,...Mw,pivot:{x:0,y:4}}},"floorEdge.towards":{frame:{x:401,y:466,...Mw,pivot:{x:15,y:4}}},"floorEdge.half.right":{frame:{x:418,y:470,...Cw,pivot:{x:0,y:0}}},"floorEdge.half.towards":{frame:{x:401,y:466,...Cw,pivot:{x:7,y:0}}},"floorOverdraw.cornerNearWall":{frame:{x:623,y:452,w:Rn.w,h:8}},"shadow.wall.y":{frame:{x:432,y:435,w:36,h:16}},"generic.floor.deadly":{frame:{x:785,y:462,...Hp}},"generic.dark.floor.deadly":{frame:{x:785,y:479,...Hp}},"generic.door.legs.pillar.y":{frame:{x:508,y:476,w:Rn.w,h:12}},"generic.door.legs.base.y":{frame:{x:508,y:488,w:Rn.w,h:9}},"generic.door.legs.pillar.x":{frame:{x:524,y:476,w:Rn.w,h:12}},"generic.door.legs.base.x":{frame:{x:524,y:488,w:Rn.w,h:9}},"generic.door.legs.threshold.double.x":{frame:{x:508,y:452,w:Rn.w*2,h:24}},"generic.door.legs.threshold.double.y":{frame:{x:469,y:452,w:Rn.w*2,h:24}},"shadowMask.door.legs.threshold.double.y":{frame:{x:469,y:430,w:Rn.w*2,h:21,pivot:{x:0,y:21}}},"generic.door.floatingThreshold.x":{frame:{x:457,y:492,w:26,h:19,pivot:{x:18,y:12}}},"generic.door.floatingThreshold.y":{frame:{x:430,y:492,w:26,h:19,pivot:{x:8,y:12}}},"shadowMask.door.floatingThreshold.double.y":{frame:{x:541,y:480,w:42,h:21,pivot:{x:8,y:20}}},"shadow.door.floatingThreshold.double.y":{frame:{x:584,y:480,w:42,h:21,pivot:{x:8,y:20}}},...et("moonbase.wall.screen.window1.away",3,{x:883,y:217},{w:10,h:7}),...et("moonbase.wall.screen.window2.away",2,{x:867,y:209},{w:10,h:7}),...et("moonbase.wall.screen.window3.away",4,{x:851,y:201},{w:10,h:7})},c1={frames:i4,animations:{"moonbase.wall.screen.window1.away":ze(["moonbase.wall.screen.window1.away.1","moonbase.wall.screen.window1.away.2","moonbase.wall.screen.window1.away.3"],1/16),"moonbase.wall.screen.window2.away":ze(["moonbase.wall.screen.window2.away.1","moonbase.wall.screen.window2.away.1","moonbase.wall.screen.window2.away.2"],1/16),"moonbase.wall.screen.window3.away":ze(["moonbase.wall.screen.window3.away.1","moonbase.wall.screen.window3.away.2","moonbase.wall.screen.window3.away.3","moonbase.wall.screen.window3.away.4","moonbase.wall.screen.window3.away.4"],1/16)}},s4={...a1.frames,...l1.frames,...c1.frames,...Z3.frames,...I3.frames,...q3.frames},r4={frames:s4,animations:{...l1.animations,...a1.animations,...c1.animations},meta:{scale:1}};let No;const a4=async()=>{if(No!==void 0)return No;let n;try{n=await Mo.load(L3)}catch{console.warn("did not load textures - hopefully this is running on a server!"),n=Pe.EMPTY}const e=new Dp(n,r4);return await e.parse(),e.textureSource.scaleMode="nearest",No=e,e},Zz=()=>{if(No===void 0)throw new Error(`spritesheet not loaded - only call this from inside code 
      (like in a render loop) that is protected and only executed once 
      loading has happened`);return No},o4=n=>({children:t})=>{const[s,a]=he.useState(!1);return he.useEffect(()=>{n().then(()=>{a(!0)})}),s?t:null},l4=o4(a4),u4=_x(async()=>{const[n,e]=await Promise.all([Yn(()=>import("./LevelEditor-Dx0doxEr.js").then(t=>t.L),__vite__mapDeps([6,7,1])),Yn(()=>import("./levelEditorSlice-t8xD6Hl7.js").then(t=>t.b1),__vite__mapDeps([7,1]))]);return yO(e.levelEditorSlice),Cc.dispatch(e.injected()),n}),c4=he.lazy(u4),h4=()=>ko.jsx(l4,{children:ko.jsx(c4,{})});FE.createRoot(document.getElementById("root")).render(ko.jsx(he.StrictMode,{children:ko.jsx(oT,{store:Cc,children:ko.jsx(h4,{})})}));export{R_ as $,OO as A,Vt as B,ol as C,dt as D,ve as E,Rc as F,Us as G,ES as H,qD as I,xi as J,nS as K,Bn as L,De as M,lP as N,T_ as O,jt as P,Wo as Q,zp as R,sD as S,Gu as T,Rp as U,fP as V,DP as W,ct as X,ut as Y,C_ as Z,Od as _,FO as a,S4 as a$,hP as a0,kt as a1,rS as a2,cD as a3,kD as a4,OD as a5,UD as a6,LD as a7,ID as a8,ux as a9,Zp as aA,eM as aB,F4 as aC,Kz as aD,kM as aE,N4 as aF,TM as aG,O4 as aH,R4 as aI,g4 as aJ,k4 as aK,TT as aL,T4 as aM,vi as aN,Dw as aO,Yn as aP,an as aQ,tt as aR,Jo as aS,dw as aT,Y4 as aU,he as aV,Fx as aW,Hz as aX,lx as aY,rn as aZ,D4 as a_,I4 as aa,m4 as ab,A4 as ac,U4 as ad,P4 as ae,Ku as af,oM as ag,M4 as ah,C4 as ai,_4 as aj,x4 as ak,PM as al,dg as am,Rn as an,xn as ao,b4 as ap,$M as aq,y4 as ar,iM as as,iz as at,Cc as au,nz as av,aM as aw,nl as ax,nM as ay,j4 as az,Qn as b,N_ as b$,w4 as b0,p4 as b1,ko as b2,V4 as b3,$4 as b4,GM as b5,ix as b6,RM as b7,z4 as b8,pc as b9,ez as bA,Gz as bB,wi as bC,pg as bD,f4 as bE,sM as bF,fg as bG,Qz as bH,_x as bI,vc as bJ,az as bK,Bz as bL,Eg as bM,$3 as bN,H3 as bO,HC as bP,G4 as bQ,Wz as bR,Xo as bS,Nz as bT,H4 as bU,J4 as bV,LE as bW,L4 as bX,UB as bY,qS as bZ,G_ as b_,KR as ba,r4 as bb,cc as bc,E4 as bd,v4 as be,Zz as bf,q4 as bg,B4 as bh,rz as bi,Do as bj,$z as bk,G3 as bl,Qu as bm,e4 as bn,oe as bo,WR as bp,tz as bq,iO as br,sz as bs,RO as bt,yM as bu,mM as bv,cg as bw,GE as bx,d4 as by,Fz as bz,tD as c,mw as c0,GB as c1,PO as c2,yc as c3,qp as c4,gw as c5,$S as c6,st as d,Yt as e,q_ as f,Xn as g,Ko as h,ox as i,tc as j,Rg as k,gS as l,Wn as m,kS as n,SM as o,fw as p,CD as q,hg as r,RD as s,BD as t,jD as u,Ut as v,Qe as w,OS as x,Og as y,Pe as z};
